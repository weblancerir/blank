{"version":3,"sources":["AwesomeGridLayout/icons/align-left.svg","AwesomeGridLayout/icons/align-center.svg","AwesomeGridLayout/icons/align-right.svg","AwesomeGridLayout/icons/errorred.svg","AwesomeGridLayout/icons/bin.svg","AwesomeGridLayout/icons/chain.svg","AwesomeGridLayout/icons/textwhite.svg","AwesomeGridLayout/icons/settingwhite.svg","AwesomeGridLayout/icons/align-top.svg","AwesomeGridLayout/icons/align-middle.svg","AwesomeGridLayout/icons/align-bottom.svg","AwesomeGridLayout/icons/unlink.svg","AwesomeGridLayout/icons/linkblue.svg","AwesomeGridLayout/icons/linkdisable.svg","AwesomeGridLayout/icons/link.svg","AwesomeGridLayout/icons/refresh.svg","AwesomeGridLayout/icons/cropwhite.svg","AwesomeGridLayout/icons/focalwhite.svg","AwesomeGridLayout/icons/dropdownwhite.svg","AwesomeGridLayout/icons/layoutwhite.svg","AwesomeGridLayout/Adjustment/icons/plus.svg","AwesomeGridLayout/icons/more.svg","AwesomeGridLayout/icons/question.svg","AwesomeGridLayout/icons/bindisable.svg","AwesomeGridLayout/icons/cloudupload.svg","AwesomeGridLayout/icons/file.svg","AwesomeGridLayout/icons/folder.svg","AwesomeGridLayout/icons/folderback.svg","AwesomeGridLayout/icons/notparent.svg","AwesomeGridLayout/icons/parent.svg","AwesomeGridLayout/icons/text.svg","AwesomeGridLayout/icons/close.svg","AwesomeGridLayout/Adjustment/icons/minimize.svg","AwesomeGridLayout/Adjustment/icons/maximize.svg","AwesomeGridLayout/icons sync /^/.*$","AwesomeGridLayout/icons/dropdown.svg","AwesomeGridLayout/icons/layout.svg","AwesomeGridLayout/icons/linkwhite.svg","AwesomeGridLayout/icons/maximize.png","AwesomeGridLayout/icons/minimize.png","AwesomeGridLayout/icons/plus.svg","AwesomeGridLayout/icons/qabutton.svg","AwesomeGridLayout/icons/qacontainer.svg","AwesomeGridLayout/icons/qaimage.svg","AwesomeGridLayout/icons/qamenu.svg","AwesomeGridLayout/icons/qaparagraph.svg","AwesomeGridLayout/icons/qatext.svg","AwesomeGridLayout/icons/qavideo.svg","serviceWorker.js","AwesomeGridLayout/AwesomeGridLayoutUtils.js","AwesomeGridLayout/BreakPointManager.js","AwesomeGridLayout/Components/Text/TextHelper.js","AwesomeGridLayout/MenuManager/MenuManager.js","AwesomeGridLayout/Editor/EditorContext.js","AwesomeGridLayout/DragDropManager.js","AwesomeGridLayout/GridChildContainerChildren.js","AwesomeGridLayout/Test/Inspector/InspectorBreadcrumbs.js","AwesomeGridLayout/HelperComponents/IconButton.js","AwesomeGridLayout/Test/Inspector/InspectorAligns.js","AwesomeGridLayout/AwesomwGridLayoutHelper.js","AwesomeGridLayout/Menus/CommonComponents/NumberInputWithUnit.js","AwesomeGridLayout/Test/Inspector/InspectorTitle.js","AwesomeGridLayout/Test/Inspector/InspectorSize.js","AwesomeGridLayout/Test/Inspector/DockSwitch.js","AwesomeGridLayout/Test/Inspector/InspectorPosition.js","AwesomeGridLayout/Menus/CommonComponents/DropDown.js","AwesomeGridLayout/Menus/CommonComponents/NumberInput.js","AwesomeGridLayout/Test/Inspector/InspectorScroll.js","AwesomeGridLayout/Test/Inspector/InspectorPadding.js","AwesomeGridLayout/Test/Inspector/InspectorOverflow.js","AwesomeGridLayout/Menus/CommonComponents/TextInput.js","AwesomeGridLayout/Test/Inspector/InspectorAnchor.js","AwesomeGridLayout/Test/Inspector/InspectorAdjustment.js","AwesomeGridLayout/Components/Helpers/AGLComponent.js","AwesomeGridLayout/Components/Containers/Menus/Components/LightTooltip.js","AwesomeGridLayout/Menus/MenuBase/MenuButton.js","AwesomeGridLayout/Menus/MenuBase/MenuBaseIndexTitle.js","AwesomeGridLayout/Menus/MenuBase/MenuBase.js","AwesomeGridLayout/Menus/CommonComponents/Slider.js","AwesomeGridLayout/Menus/CommonComponents/SliderInputControlled.js","AwesomeGridLayout/Menus/CommonComponents/Image.js","AwesomeGridLayout/Portal.js","AwesomeGridLayout/Test/Theme/HexColorPicker.js","AwesomeGridLayout/Test/Theme/ThemeColorPicker.js","AwesomeGridLayout/Menus/CommonComponents/ColorPicker.js","AwesomeGridLayout/Components/Containers/Menus/Components/Background.js","AwesomeGridLayout/Menus/CommonComponents/Divider.js","AwesomeGridLayout/Menus/CommonComponents/SliderInput.js","AwesomeGridLayout/Components/Containers/Menus/Components/Border.js","AwesomeGridLayout/Components/Containers/Menus/Components/Corners.js","AwesomeGridLayout/Menus/CommonComponents/CircularSlider.js","AwesomeGridLayout/Menus/CommonComponents/Angle.js","AwesomeGridLayout/Components/Containers/Menus/Components/Shadow.js","AwesomeGridLayout/Components/Containers/Menus/BorderDesign.js","AwesomeGridLayout/Menus/CommonComponents/GridViewer.js","AwesomeGridLayout/Components/Containers/Menus/Components/AnimationSelector.js","AwesomeGridLayout/Components/Containers/Menus/Components/AnimationOptions.js","AwesomeGridLayout/Components/Containers/Menus/AnimationDesign.js","AwesomeGridLayout/Components/Containers/ContainerBase.js","AwesomeGridLayout/Components/Containers/Menus/SectionDesign.js","AwesomeGridLayout/Components/Containers/Header.js","AwesomeGridLayout/Components/Containers/Footer.js","AwesomeGridLayout/Components/Containers/Section.js","AwesomeGridLayout/Test/Inspector/InspectorBackground.js","AwesomeGridLayout/Components/Pages/PageBase.js","AwesomeGridLayout/Components/Stack/VerticalSpacer.js","AwesomeGridLayout/Test/Animations/FadeInAnimation.js","AwesomeGridLayout/Test/Animations/BounceInAnimation.js","AwesomeGridLayout/Test/Animations/GlideInAnimation.js","AwesomeGridLayout/Test/Animations/FloatInAnimation.js","AwesomeGridLayout/Test/Animations/ExpandInAnimation.js","AwesomeGridLayout/Test/Animations/SpinInAnimation.js","AwesomeGridLayout/Test/Animations/FlyInAnimation.js","AwesomeGridLayout/Test/Animations/TurnInAnimation.js","AwesomeGridLayout/Test/Animations/ArcInAnimation.js","AwesomeGridLayout/Test/Animations/PuffInAnimation.js","AwesomeGridLayout/Test/Animations/FoldInAnimation.js","AwesomeGridLayout/Test/Animations/FlipInAnimation.js","AwesomeGridLayout/Test/Animations/RevealAnimation.js","AwesomeGridLayout/Components/Text/Menus/InputDiv.js","AwesomeGridLayout/Components/Text/Menus/InputWrapper.js","AwesomeGridLayout/Components/Text/Menus/TextEditorButton.js","AwesomeGridLayout/Components/Text/Menus/components/FontSizeAutoComplete.js","AwesomeGridLayout/Components/Text/Menus/components/FontSizeSelector.js","AwesomeGridLayout/Components/Text/Menus/components/TextColorSelector.js","AwesomeGridLayout/HelperComponents/SmallRadio.js","AwesomeGridLayout/Components/Text/Menus/components/LinkGenerator.js","AwesomeGridLayout/Components/Text/Menus/components/LinkHelper.js","AwesomeGridLayout/Components/Text/Menus/TextEditor.js","AwesomeGridLayout/Components/Text/TextWrapper.js","AwesomeGridLayout/Components/Text/Text.js","AwesomeGridLayout/Menus/CommonMenus/ColorAdjustment.js","AwesomeGridLayout/Components/Button/Menus/ButtonDesign.js","AwesomeGridLayout/Components/Button/Menus/FontSizeSelector2.js","AwesomeGridLayout/Components/Button/Menus/ButtonTextAppearance.js","AwesomeGridLayout/Components/Button/Menus/ButtonTextLayout.js","AwesomeGridLayout/Components/Button/Menus/TextDesign.js","AwesomeGridLayout/Components/Text/Menus/components/LinkedTag.js","AwesomeGridLayout/Components/Button/Button.js","AwesomeGridLayout/Components/Image/CropperModal.js","AwesomeGridLayout/Components/Image/FocalPointModal.js","AwesomeGridLayout/Components/Image/Menus/ImageDesign.js","AwesomeGridLayout/Components/Image/Menus/ImageBehavior.js","AwesomeGridLayout/Components/Image/Menus/ImageBehaviorDesign.js","AwesomeGridLayout/Components/Image/Image.js","AwesomeGridLayout/Components/Video/Menus/VideoDesign.js","AwesomeGridLayout/Components/Video/Menus/VideoSource.js","AwesomeGridLayout/Components/Video/Menus/VideoData.js","AwesomeGridLayout/Components/Video/Video.js","AwesomeGridLayout/Components/Video/VideoHelper.js","AwesomeGridLayout/Components/Menu/FreeDropDownMenu.js","AwesomeGridLayout/Components/Menu/HorizontalMenuItem.js","AwesomeGridLayout/Components/Menu/SelectMenu.js","AwesomeGridLayout/Components/Menu/Menus/MenuItemDesign.js","AwesomeGridLayout/Components/Menu/Menus/MenuItemTextAppearance.js","AwesomeGridLayout/Components/Menu/Menus/MenuItemTextDesign.js","AwesomeGridLayout/Components/Menu/Menus/MenuLayoutAppearance.js","AwesomeGridLayout/Components/Menu/Menus/MenuLayoutDesign.js","AwesomeGridLayout/Components/Menu/Menus/MenuDropDownDesign.js","AwesomeGridLayout/Components/Menu/HorizontalMenu.js","AwesomeGridLayout/Dynamic/DynamicComponents.js","AwesomeGridLayout/Adjustment/AdjustmentPageControllers.js","AwesomeGridLayout/GridChildContainerFixedHolder.js","AwesomeGridLayout/Test/PaddingInterface.js","AwesomeGridLayout/Test/ParentSelectInterface.js","AwesomeGridLayout/GridChildContainer.js","AwesomeGridLayout/AGLAnchor.js","AwesomeGridLayout/Adjustment/ResizePanePage.js","AwesomeGridLayout/Adjustment/AdjustmentResizePage.js","AwesomeGridLayout/Test/EventTrigger.js","AwesomeGridLayout/Test/WindowCache.js","AwesomeGridLayout/AnimationHolder.js","AwesomeGridLayout/Test/VisibilitySensorWrapper.js","AwesomeGridLayout/Adjustment/AdjustmentHelpSize.js","AwesomeGridLayout/AwesomeGridLayout2.js","AwesomeGridLayout/Components/Helpers/AGLWrapper.js","AwesomeGridLayout/Components/Stack/StackSpacerContainer.js","AwesomeGridLayout/Adjustment/AdjustmentMove.js","AwesomeGridLayout/Components/Stack/StackSpacerResizer.js","AwesomeGridLayout/Components/Stack/StackSpacer.js","AwesomeGridLayout/Components/Stack/Stack.js","AwesomeGridLayout/Test/ContextMenu.js","AwesomeGridLayout/InputManager.js","AwesomeGridLayout/SelectManager.js","AwesomeGridLayout/SnapManager.js","AwesomeGridLayout/CopyManager.js","AwesomeGridLayout/IdManager.js","AwesomeGridLayout/UndoRedo.js","AwesomeGridLayout/GridLineManager.js","AwesomeGridLayout/AnchorManager.js","AwesomeGridLayout/Adjustment/AdjustmentGridRoot.js","AwesomeGridLayout/Adjustment/AdjustmentGridRow.js","AwesomeGridLayout/Adjustment/AdjustmentGrid.js","AwesomeGridLayout/Adjustment/AdjustmentSnapLines.js","AwesomeGridLayout/Adjustment/AdjustmentSnap.js","AwesomeGridLayout/Adjustment/GridLine.js","AwesomeGridLayout/Adjustment/AdjustmentGridLinesWrapper2.js","AwesomeGridLayout/Adjustment/AdjustmentGridLines.js","AwesomeGridLayout/Adjustment/ResizePane.js","AwesomeGridLayout/Adjustment/AdjustmentGroupRect.js","AwesomeGridLayout/Menus/MiniMenu/Components/RightClick.js","AwesomeGridLayout/Menus/MiniMenu/MiniMenuVerticalDivider.js","AwesomeGridLayout/Menus/MiniMenu/Components/Help.js","AwesomeGridLayout/Menus/MiniMenu/MiniMenu.js","AwesomeGridLayout/Menus/MenuHolder.js","AwesomeGridLayout/Test/IFrameCommunicator.js","AwesomeGridLayout/Test/EditorController.js","AwesomeGridLayout/Test/Inspector/Inspector.js","AwesomeGridLayout/Adjustment/AdjustmentStretch.js","AwesomeGridLayout/Adjustment/AdjustmentResize.js","AwesomeGridLayout/Adjustment/AdjustmentResizeWrapper.js","AwesomeGridLayout/Adjustment/AdjustmentHelpLines.js","AwesomeGridLayout/Adjustment/AdjustmentHelpLinesWrapper.js","AwesomeGridLayout/Adjustment/AdjustmentHover.js","AwesomeGridLayout/Test/Layout/Layout.js","AwesomeGridLayout/Test/AddComponent/ComponentGrid.js","AwesomeGridLayout/Test/AddComponent/AddComponent.js","AwesomeGridLayout/Test/PageManager/PageTypeTitle.js","AwesomeGridLayout/Test/PageManager/PageSetting/PageInfo.js","AwesomeGridLayout/Menus/CommonComponents/AglRadio.js","AwesomeGridLayout/Test/PageManager/PageSetting/Permissions.js","AwesomeGridLayout/Test/PageManager/PageSetting/SeoGoogle.js","AwesomeGridLayout/Test/PageManager/PageSetting/SocialShare.js","AwesomeGridLayout/Test/PageManager/PageSetting/PageSetting.js","AwesomeGridLayout/Test/PageManager/PageItem.js","AwesomeGridLayout/Test/PageManager/AddNewPageDialogItem.js","AwesomeGridLayout/Test/PageManager/AddNewPageDialog.js","AwesomeGridLayout/Test/PageManager/PageManager.js","AwesomeGridLayout/Test/Theme/ThemeTextItem.js","AwesomeGridLayout/Test/Theme/ThemeColorsItem.js","AwesomeGridLayout/Test/Theme/ThemeManager.js","AwesomeGridLayout/Editor/Zoom/EditorHeaderZoom.js","AwesomeGridLayout/Editor/PageSelect/EditorHeaderPageSelect.js","AwesomeGridLayout/Menus/CommonComponents/NumberInputEnterToChange.js","AwesomeGridLayout/Editor/Breakpoints/BreakpointHelper.js","AwesomeGridLayout/Editor/Breakpoints/EditorHeaderBreakpointsSettingItem.js","AwesomeGridLayout/Editor/Breakpoints/EditorHeaderBreakpointsSetting.js","AwesomeGridLayout/Editor/Breakpoints/EditorHeaderBreakpoints.js","AwesomeGridLayout/MenuManager/CreateMenu.js","AwesomeGridLayout/MenuManager/MenuTree/MenuTreeOrderer.js","AwesomeGridLayout/MenuManager/MenuTree/MenuTreeItem.js","AwesomeGridLayout/MenuManager/MenuTree/MenuTree.js","AwesomeGridLayout/MenuManager/MenuManagerUI.js","AwesomeGridLayout/Editor/EditorHeader.js","AwesomeGridLayout/Editor/Breakpoints/PreviewHeaderBreakpoints.js","AwesomeGridLayout/Editor/PreviewHeader.js","AwesomeGridLayout/Editor/PageView.js","AwesomeGridLayout/Components/FileManager/Components/UploadButton.js","AwesomeGridLayout/Components/FileManager/FileManagerHelper.js","AwesomeGridLayout/Components/FileManager/Components/NewFolder.js","AwesomeGridLayout/Components/FileManager/Components/FileUploader.js","AwesomeGridLayout/Components/FileManager/Components/MultiColorProgressBar.js","AwesomeGridLayout/Components/FileManager/FileManager.js","AwesomeGridLayout/Editor/EditorBoundary.js","index.js","AwesomeGridLayout/icons/paint.svg"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","Boolean","window","location","hostname","match","initGriddata","griddataProp","breakpointdata","initialized","clone","cloneObject","props","griddata","getDefaultChildgriddata","bpData","exist","props2","prop","hasOwnProperty","k","sample","x","y","w","h","minW","undefined","maxW","minH","maxH","constraints","left","top","right","bottom","margin","all","units","scrollType","absolute","fix","autoHeight","autoWidth","overflowData","state","overflowY","resizable","draggable","hasOwnBreakPoints","isContainer","autoDock","sortedBreakPoints","getSortedBreakPoints","name","obj","Array","copy","i","len","length","attr","shallowEqual","objA","objB","keysA","keysB","throttleDebounce","fn","ms","deTimer","dontCall","_","args","arguments","apply","setTimeout","clearTimeout","scrollbarWidth","getScrollbarWidth","document","div","createElement","css","width","height","position","overflow","MsOverflowStyle","body","appendChild","offsetWidth","clientWidth","removeChild","assignData","newData","assign","JSToCSS","JS","cssString","objectKey","replace","g","toLowerCase","updateStyle","styleNode","style","styleName","innerHTML","styleSheet","cssText","createTextNode","appendStyle","styleId","setAttribute","type","getElementsByTagName","swapArrayElements","arr","indexA","indexB","temp","BreakPointManager","breakpoints","editor","onBreakpointChange","onZoomLevelChange","onHeightChange","onResize","fixBreakpointRules","forEach","end","updateBreakpoint","start","prevBp","bp","find","b","getUpperBreakPoint","push","newBpData","prevBpData","deleteBreakpoint","index","findIndex","splice","fromClone","windowInnerWidth","lastWidth","editorData","copyDesign","designDatas","sourceItem","cloneDesignDatas","getCopyDesign","pasteDesign","item","designData","design","justOneBp","currentBpName","breakpointmanager","current","bpName","getWindowWidth","getWindowHeight","rootLayoutRef","getSize","setWindowWidth","getBpData","getDevicePixelRatio","devicePixelRatio","onDevicePixelRatioChange","changed","onHeightResize","lastHeight","innerHeight","onWindowResize","newWidth","innerWidth","context","inspectorPinned","inspectorWidth","result","checkBreakPointChange","currentBreakpointName","lastBreakpointName","size","currentBpData","setData","dataSet","param","value","breakpointName","params","split","override","getFromData","firstParamResult","findFirstUpperBreakPointParam","slice","p","getHighestBpName","getCompositeFromData","results","checkBreakpointName","composite","merge","hasDataInBreakPoint","findFirstUpperBreakPointName","getMinWidth","minSize","filter","sort","a","getDefault","this","addEventListener","removeEventListener","prefer","breakPointData","getTextStyle","textTheme","textStaticData","textDesignData","fontFamily","textAlign","fontSize","fontWeight","fontStyle","fontDecoration","color","backgroundColor","lineHeight","letterSpacing","getFontDataByFamily","allFonts","console","log","fontData","values","getFontDataByName","getSelectionHtmlRemoveProperty","doc","win","propertyName","tagName","selection","createRange","htmlText","getSelection","rangeCount","clonedSelection","getRangeAt","cloneContents","nodes","node","removeProperty","nextNode","hasChildNodes","firstChild","nextSibling","parentNode","getRangeSelectedNodes","range","startContainer","endNode","endContainer","rangeNodes","commonAncestorContainer","unshift","getRandomColor","Math","floor","random","getRandomLinkId","lenght","letters","resolveDefaultMenu","siteData","menus","defaultMenu","m","isDefault","isMenu","menuItems","allPages","page","pageName","pageId","order","linkData","data","inputs","isParent","pageMenuItem","mi","deletePageMenuItem","menu","getMenuById","deleteMenuItem","menuItemId","deleteItemById","parent","toggleMenuItemAsParent","menuItem","changeMenuItemParent","newParentId","newParentMenuItem","getMenuItemById","foundMenuItem","findParent","parentMenu","foundParentMenuItem","getHomePage","homePage","pageData","isHome","getColorScheme","baseColor","chroma","luminance","EditorContext","React","createContext","colorKeys","EditorContextProvider","setUser","user","callback","setState","showModal","modal","hideModal","setWebsiteId","websiteId","getThemeColorClass","paletteName","key","replaceAll","getThemeBackColorClass","getTheme","category","theme","items","t","getColor","calculateTheme","Colors","force","calculated","scheme","main","calculateColorCSS","colorsCSS","backColor","cssId","getElementById","addCSS","setProduction","production","preview","postMessageToHolder","postMessage","sendEditCommand","func","setPreview","sendPublishCommand","isEditor","setPageData","idMan","clear","snap","clearSnaps","update","reload","initContext","getInnerWidth","setZoomScale","zoomScale","setSiteData","postSiteData","setBreakpoints","onSelect","onNewBpAdded","pageChildData","getClearProps","zIndex","changeGriddata","childData","mounted","getFromTempData","childId","allChildRefs","setInspectorPinned","setInspectorWidth","setDevicePixelRatio","setAllComponentData","allComponentData","toggleRightMenu","menuName","rightMenus","toggle","setPageSizeWidth","pageSize","setPageSize","setRightMenus","showLinkGenerator","onDone","showFileManager","options","getInnerWith","addComponent","pageManager","themeManager","menuManager","Provider","children","Component","DragDropManager","setDragging","draggingItem","getDragging","isDraggingItemFixed","portalNodeId","setDraggingStop","mouseOver","getParentsId","includes","newParent","getContainerParent","prepareRects","toggleGridLines","dropItem","fromUndoRedo","undoPower","toggleHelpLines","onChildLeave","gridLine","hasGridLine","drop","onChildDrop","newItem","itemId","firstRelativeX","dragData","firstPos","firstRelativeY","parentRect","lastRelativeX","lastRelativeY","newParentRect","parentId","undoredo","add","getItem","setMouseOver","setPosition","dragdrop","removeMouseOver","positionData","setMouseOverForNonDragging","mouseOverNonDragging","getMouseOverForNonDragging","GridChildContainerChildren","saveState","allChildren","allChildId","allChildIndex","c","z","child","getSorted","getChildren","agl","getChildrenOverride","nextProps","nextState","nextContext","JSON","stringify","InspectorBreadcrumbs","className","reverse","onClick","IconButton","selectStyle","selected","selectedColor","buttonProps","buttonBaseStyle","imageContainerStyle","icon","aria-label","marginLeft","borderRadius","boxSizing","ref","rootRef","display","justifyContent","alignItems","padding","InspectorAligns","getButtonsData","horizontal","img","src","require","vertical","alignItem","saveGridItemStyle","setGridItemStyle","select","onScrollItem","gridItemStyle","alignSelf","marginTop","marginBottom","justifySelf","marginRight","baseDocks","getBaseDocks","setDocks","NumberInputWithUnit","inputFilter","oldValue","okay","parseFloat","isNaN","min","max","onChange","target","endsWith","getValue","onShowUnits","anchorEl","currentTarget","round","showUnits","unitIconButton","createRef","classes","classNames","inputStyle","unit","disabled","unitButtonStyle","disableUnit","unitMenuStyle","open","onClose","MenuListProps","dense","onUnitChange","InspectorTitle","defaultOpen","title","process","InspectorSize","onItemPropsChange","owner","getUnit","getViewRatioStyle","setNewSize","parentValue","defaultValue","getPxValueFromCSSValue","runtimeValueToStyleValue","propName","onPropsChange","addListener","removeListener","runtimeStyle","runtimeGridItemStyle","getRuntimeGridItemStyle","widthForPercent","heightForPercent","Infinity","disabledProps","scrollWidthMinusPadding","widthUnits","scrollHeightMinusPadding","heightUnits","minWidth","maxWidth","minWidthUnits","minHeight","maxHeight","minHeightUnits","maxWidthUnits","maxHeightUnits","defaultProps","DockSwitch","withStyles","root","switchBase","transform","opacity","thumb","boxShadow","track","checked","Switch","InspectorPosition","onDockActiveChange","side","oldDocks","updateHelpLines","helpLinesParent","dragging","onDockAutoChange","setTempData","parentProp","compositeGridItemStyle","onValueChange","getUnitFromStyleValue","updateResizePanes","docks","auto","DropDown","option","valueRenderer","renderer","rootStyle","spanStyle","cursor","menuStyle","pointerEvents","menuItemStyle","NumberInput","test","toFixed","InspectorScroll","onChangeScrollEffect","offsetTop","setScrollBehaviour","viewRef","onChangeOffsetTop","behaviour","getValueFromCSSValue","InspectorPadding","compositePadding","setDataInBreakpoint","equalPadding","pxValue","getStyleValueFromPx","invalidateSize","requestAnimationFrame","onEqualPadding","InspectorOverflow","onChangeState","thisBpOverflowData","compositOverflowData","overflowX","newOverflowData","changeScrollDirection","onChangeAuto","ToggleButtonGroup","exclusive","ToggleButton","TextInput","inputProps","InspectorAnchor","onEnableAnchor","enable","anchor","anchorMan","addAnchor","removeAnchor","onChangeName","newName","modifyAnchor","v","contextType","InspectorAdjustment","onRotationChange","degree","warn","rotate","oldDegree","setTransformStyle","updateLayout","AGLComponent","resolveDesignData","getData","componentData","getDefaultData","componentBpData","tempBpData","getAgl","aglRef","getAglRef","showComponentCode","cloneProps","rootDivRef","el","execCommand","onDesignChange","designKey","updateDesign","getCompositeDesignData","getInspector","getInspectorOverride","LightTooltip","tooltip","shadows","Tooltip","LightMenuTooltip","MenuButton","updateMenu","toggleTooltip","openTooltip","hide","placement","PopperProps","onMouseEnter","onMouseLeave","MenuBaseIndexTitle","disableRipple","onIndexClick","MenuBase","close","multiState","states","selectedIndexNo","getDefaultPos","defaultPosition","getOptions","currentState","getIndex","onChangeTab","defaultIndexNo","handle","bounds","styles","menuTitle","indicatorColor","textColor","variant","stateData","label","render","indexData","Slider","step","SliderInputControlled","handleStyle","Image","onError","hasError","errorsrc","Portal","canUseDOM","defaultNode","nodeId","ReactDOM","createPortal","HexColorPicker","onChangeComplete","hex","disableAlpha","ThemeColorPicker","onSelectColor","onAddColor","myColors","onAddColorClick","addColor","themeColorCategoryItems","parseColor","ColorPicker","getRgbA","r","rgba","handleClick","displayColorPicker","handleClose","handleChangeComplete","lastValue","alpha","getColorAndAlpha","handleAlphaChange","background","getBoundingClientRect","Background","Divider","SliderInput","Border","border","Corners","radius","changeSide","link","_side","onLinkClick","direction","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","CircularSlider","onMouseDown","rect","onMouseMove","onMouseUp","clientX","clientY","vx","vy","angle","atan2","PI","Angle","loop","deg2rad","rad2deg","Shadow","shadow","getDegree","xOffset","yOffset","ratio","atan","getRatio","tan","calcDegree","xO","yO","abs","distance","blur","BorderDesign","viewBox","fillRule","d","fillColor","GridViewer","AnimationSelector","onSelectAnimation","playAnimation","allAnimationNames","animation","noneClasses","displayName","join","charAt","toUpperCase","AnimationOptions","DynamicAnimations","duration","delay","once","AnimationDesign","ContainerBase","getPrimaryOptions","role","compositeDesign","getStaticChildren","shadowColor","borderColor","topLeft","topRight","bottomRight","bottomLeft","aglComponent","SectionDesign","Header","isSection","setStyleParam","defaultGridItemStyle","gridArea","as","autoConstraintsOff","helplineOff","Footer","Section","isVerticalSection","designStyle","InspectorBackground","onChangeColor","PageBase","initDataFromPageData","allSectionsH","allSectionsV","grid","gridX","gridY","gridTemplateRows","gridTemplateColumns","initKeyboard","event","which","keyCode","ctrl","ctrlKey","preventDefault","selectedItem","getSelected","getHorizontalSection","moveUp","moveDown","getVerticalSection","moveLeft","moveRight","pageResize","containerHeight","customStyle","scrollBehavior","deleteHorizontalSection","currentSection","areas","getGridArea","x1","parseInt","x2","firstRow","lastRow","verticalSection","x12","y12","x22","y22","setGridArea","horizontalSection","x13","y13","x23","y23","fill","setGrid","deleteVerticalSection","y1","y2","firstCol","lastCol","mainColIndex","getMainColIndex","addSectionQueue","dynamicComponents","isVertical","addQueue","checkingAddQueue","nextOne","shift","checkAddQueue","addVerticalSection","newNextOne","addHorizontalSection","onItemPreDelete","allow","onItemPreResizeStop","dir","delta","yLineRefs","getYlineRef","firstLineTop","getGridLineRect","targetTop","selectedX1","lineTop","checkIndex","nextSectionV","targetBottom","selectedX2","lineBottom","currentSectionIndex","currentSectionGridArea","Tag","section","resizeSides","addChild","insertIndex","areas2","currentIndex","sideSection","updateTemplates","isHideInBreakpoint","hasMiniMenuOverride","invalidateSizeOverride","self","updateParent","updateChildren","sourceId","tempSize","childRef","getSectionOfPoint","isPointInclude","fullWidth","isPage","onDeletingChild","onChildResizeStoping","VerticalSpacer","FadeInAnimation","animationStyles","StyleSheet","create","fadeIn","animationName","animationDuration","animationDelay","BounceInAnimation","bounceIn","GlideInAnimation","tx","sin","ty","cos","glideIn","FloatInAnimation","floatIn","ExpandInAnimation","power","expandIn","SpinInAnimation","spinNo","firstRotate","spinIn","FlyInAnimation","windowSize","flyIn","TurnInAnimation","viewSize","turnIn","animationTimingFunction","ArcInAnimation","arcIn","PuffInAnimation","puffIn","FoldInAnimation","transformOrigin","foldIn","FlipInAnimation","flipIn","RevealAnimation","clipPath","reveal","InputDiv","tag","TextTag","textareaRef","contentEditable","whiteSpace","dangerouslySetInnerHTML","__html","InputWrapper","updateHeight","scrollHeight","onInput","keydown","stopPropagation","line","parentLine","found","newParantLine","getParentLine","deleteContents","setEndAfter","text","innerText","getSelectionText","iframeNode","contentWindow","br","after","setStartBefore","html","setStartAfter","insertAdjacentHTML","trim","focus","String","fromCharCode","sel","insertNode","setStart","collapse","removeAllRanges","addRange","init","inited","textEditorRef","onLoad","prevProps","prevState","snapshot","onUpdate","resize","TextEditorButton","getImage","selectedIcon","disabledIcon","useStyles","makeStyles","popper","borderRight","paddingRight","FontSizeAutoComplete","Autocomplete","FontSizeSelector","filterOptions","getAllowableFontSize","setForceValue","onFontSizeChange","reason","tempFontSize","setFontSize","getFontSizeValue","setFontSizeUi","ignoreState","toString","getOptionLabel","popupIcon","renderInput","InputProps","disableUnderline","TextField","blurOnSelect","onKeyDown","TextColorSelector","buttonRef","backgroundImage","outline","outlineOffset","checkedIcon","content","SmallRadio","Radio","clsx","LinkGenerator","getHomePageId","getPageOptions","getAnchorOptions","anchors","getFirstLightBoxId","setLinkType","url","anchorId","email","subject","number","lightBoxId","validURL","str","RegExp","startsWith","validPhone","validEmail","isLinkReadyForDone","Modal","aria-labelledby","aria-describedby","disableBackdropClick","RadioGroup","FormControlLabel","control","tempUrl","onBlur","onKeyPress","placeholder","tempNumber","tempEmail","tempSubject","addLinkData","linkId","getSelectedLinkId","querySelectorAll","removeAttribute","insertBefore","removeSelectedLink","getSelectedLinkData","parse","getAttribute","hasAttribute","prepareLink","editorContext","pageLinkHandle","TextEditor","getTextDir","onIframeTextClicked","refreshState","anchorNode","getComputedStyle","parentElement","getPropertyValue","fontSizeSelectorRef","bold","italic","decoration","underline","StaticFonts","isTextSelcted","tryAgain","forceUpdate","anchorEI","modifiers","flip","enabled","preventOverflow","boundariesElement","onDoubleClick","onChangeData","updateInputWrapper","inputWrapperRef","isRtlStyle","isRtl","randomColor","classList","remove","childs","childNode","linkGenerator","TextWrapper","setEditableStyle","editableStyle","onEditorStateChange","editorState","updateStyleSheets","setEditMode","editMode","onEditModeChange","getTag","iframe","textTagRef","element","iframeWidth","iframeHeight","frame","editDisplayNoneStyle","nonEditDisplayNoneStyle","textValue","ClickAwayListener","onClickAway","head","rel","href","documentRef","resizeIFrameToFitContent","PureComponent","Text","onDoubleClickOverride","textRef","onThemeChange","onDeSelectListener","noStretch","ColorAdjustment","ButtonDesign","stateName","normal","onStateChange","hover","FontSizeSelector2","ButtonTextAppearance","changeText","tempText","paddingLeft","ButtonTextLayout","TextDesign","spanData","LinkedTag","onRefChange","linkRef","aClassName","aTagProps","Button","spanMarginStyle","onMouseOver","onMouseOut","rootBorderRef","CropperModal","onCropChange","crop","onCropComplete","croppedArea","croppedAreaPixels","onZoomChange","zoom","imageSrc","aspect","image","FocalPointModal","onChangePoint","clickerRef","focalPoint","isLeftClick","persist","pointerType","button","ImageDesign","overlayColor","ImageBehavior","changeAltText","tempAltText","altText","ImageBehaviorDesign","imageBehavior","setImageNode","imgNode","cropped","cropData","canvas","getContext","drawImage","altSrc","toDataURL","onImageLoaded","imageLoaded","imageDimension","imageExactDimension","naturalWidth","naturalHeight","cropping","animated","checkImageLoad","interval","setInterval","clearInterval","fit","imageOpacity","filesData","fileData","imageData","totalSize","imageStyle","objectFit","objectPosition","overlayStyle","crossOrigin","alt","onInvalidateSize","VideoDesign","overlay","VideoSource","changeUrl","tempEmbedUrl","embedUrl","VideoData","videoData","Video","videoType","borderData","paddingTop","allowFullScreen","webkitallowfullscreen","mozallowfullscreen","getVideoObject","FreeDropDownMenu","transition","TransitionProps","Grow","Paper","MenuList","autoFocusItem","HorizontalMenuItem","dropDownState","dropDownOnHover","dropDown","dropDownAnchor","onDropDownClose","getMenuItemStyle","moreId","dropDownClassName","dropDownStyle","dropDownItemClassName","getDropDownItemStyle","SelectMenu","disableEnforceFocus","menuData","menuId","confirmLabel","MenuItemDesign","MenuItemTextAppearance","MenuItemTextDesign","MenuLayoutAppearance","changeMoreText","tempMoreText","sameSize","fillNav","rtl","moreText","MenuLayoutDesign","MenuDropDownDesign","HorizontalMenu","fitMenuItems","getMenu","throttle","compRect","lastSize","showItems","debounce","ulNode","ulId","visibility","fitting","itemAddedInMore","navNode","navId","maxLiNodeWidth","childNodes","liNode","ulRect","itemInMore","sum","liNodeData","getDropDownStyle","moreItems","menuItemState","DynamicComponents","AdjustmentPageControllers","addSection","getAnchor","needUpdate","updateTimeout","containerClasses","GridChildContainerFixedHolder","clientHeight","PaddingInterface","borderTop","borderLeft","borderBottom","ParentSelectInterface","GridChildContainer","aglStyle","modifyContainerStyle","modifyContainerStyleOverride","paddingBottom","getContainerStyleId","modifyOverflowStyle","getOverflowStyleId","getOverflowStyle","webkitScrollbarStyle","webkitScrollbarStyleId","scrollStyleNode","updateAdjustments","controllerRef","fixedHolderRef","needOverflow","selectAsParent","show","overflowClasses","containerRef","overflowRef","onScroll","AGLAnchor","ResizePanePage","mouseDown","moving","onDrag","onDragStart","onDragStop","lastMouseX","lastMouseY","onResizeStart","onResizeStop","isCorner","draggingStart","onPointerDown","AdjustmentResizePage","sides","EventTrigger","defaultListener","listener","listeners","l","trigger","windowCache","boundingRects","clientsWidth","clientsHeight","scrollsTop","scrollsLeft","scrollsWidth","scrollsHeight","clearCache","clearCacheTimeuot","getCachedBoundingRect","getCachedClientWidth","getCachedClientHeight","getCachedScrollTop","scrollTop","getCachedScrollLeft","scrollLeft","getCachedScrollWidth","scrollWidth","getCachedScrollHeight","addToCache","AnimationHolder","VisibilitySensorWrapper","partialVisibility","containment","getPageOverflowRef","active","disableVS","AdjustmentHelpSize","getText","resizeHelpData","AwesomeGridLayout2","callOverride","funcName","getOverrideProp","hasOverride","needRender","lastZIndex","getNextIndexData","savedChildren","savedChildrenArray","oldId","createChildByData","Children","createdChild","renderChild","childrenData","initLayout","getDefaultStyle","setStyle","defaultGrid","defaultStyle","lateMounted","addToSnap","onPageResize","onChildMountedCalled","onChildMounted","getShortcutOptions","hasMiniMenu","getBoundarySize","addSnap","p1","p2","parentsId","containerParent","getGridLineSnaps","snaps","horizontals","verticals","xLineRef","getXlineRef","yLineRef","newId","fixed","getId","AGLProps","input","copyMan","gridEditorRef","getAllChildOverrideProps","component","fullForce","widthMinusPadding","heightMinusPadding","transformRef","onWindowSizeChange","getRenderChildData","arrangeIndex","nextZIndex","nextChild","prevZIndex","prevChild","firstZIndex","changeIndex","allChildData","change","startIndex","lastIndex","testChildData","setChildZIndex","childZIndex","forceCalculate","childElement","newProps","keepChildren","onChildAdd","newBreakpointName","delete","getChildData","createItem","clearItem","removeChildElement","clearMiniMenu","getAllOverrideProps","removeId","removeGridLine","removeSnap","updateHelpSizeLines","setInspector","filDataOnMount","fromEnter","setItemHover","updateHover","outAllParent","forceRect","forceGridLines","gridType","isPrepared","onNewChildMounted","calcResult","coordinates","childRect","thisRect","calculateChildGridItem","relativeY","setProps","clearFromAllBp","newChild","removeIdAndChildrenId","nonePointerEventForChildren","parentDragging","onParentDragging","setRuntimeStyle","group","callGroup","resizing","isStretch","stretch","moveWithMouse","firstBoundaryPos","setDraggingState","groupDragStart","boundarySize","isFixed","checkSnapOnDrag","updateGridLines","groupDrag","addGrid","groupDragStop","drawSnap","dropped","updateMiniMenu","relativeX","redoData","undoData","calculateGridItem","fakeStyle","snapDelta1","getSnapDelta","snapDelta2","snapDelta3","snapDelta","deltaX","snapV","deltaY","snapH","pointOfSnapH","pointOfSnapV","parentGridLines","checkSnap","dontCalculate","getDocks","fromState","dontAutoDock","cy1","cy2","cx1","cx2","calculateGridArea","coordinatesAbs","coordinateToRelative","oldGridItemStyle","centerX","centerY","parentCenterMinusX","parentCenterPlusX","cy2IsLastLine","centerDiffX","centerDiffY","getPxOrPcOrValue","cx2IsLastLine","coordinateToAbsolute","getTopLeft","pageResizeStart","resizeData","firstX","firstLeft","activateHover","onPageResizeStart","pageResizeCalculate","firstY","firstTop","firstBoundaryWidth","firstBoundaryHeight","firstBoundaryTop","firstBoundaryLeft","onResizeCalculate","updatePageAdjustments","onResizeData","backContainerRef","finalDelta","rad","cx","cy","cxy","sqrt","cxp","cyp","thetaH","thetaW","Dh","Dw","dxH","dyH","dxW","dyW","getResizeDelta","rotateDegree","checkSnapOnResize","setResizeHelpData","pageResizeStop","onPageResizeStop","setSize","firstWidth","firstHeight","gridCoordinates","dontAddToSnap","oldStyle","isPercent","isViewRatio","newValue","getParentProps","postFix","newRuntimeStyle","animationCss","getGridItemStyleId","newGridItemStyle","dontOverride","getStyleId","getDesignStyleId","setDesignStyle","newDesignStyle","designStyleNode","getTransformStyleId","newTransform","transformStyleNode","getTransformStyle","compositeTransform","rules","newStyle","excludeBp","getGridLineOfPoint","gridLine1","gridLine2","mouseMoved","lastClientX","lastClientY","startMillis","Date","getTime","isRightClick","canMove","isGroupSelected","currentMillis","groupSelected","onContextMenu","deselectParent","clicked","dontUpdateAdjustment","isSelectable","selectItem","removeGridLineByType","showGridLines","updateParentsRect","onScrollEnd","onRootScroll","forceScroll","documentElement","setProperty","scrollReset","targetScroll","maxTop","scrollTo","behavior","editGrid","editing","updateGridEditor","setAnchor","disable","stateChange","forceKey","showAnimation","onAnimationEnd","activateResize","getCompositeAnimationCss","compositeAnimation","getAnimationCSS","getContextMenu","animationRunning","onAnimationFrame","childContainers","windowWidth","setItem","compositeStyle","holderClasses","TagAs","onWheel","childSize","showSideResize","layoutType","compactType","AGLWrapper","StackSpacerContainer","updateSpacers","spacers","spacer","AdjustmentMove","StackSpacerResizer","StackSpacer","setPointerEvents","updateSpacerData","newHeight","spacerData","stack","updateSize","Stack","sortedChildrenArray","lateMountedOverride","lateMountedComplete","setOrder","calculateGridItemChildOverride","calculateWrapper","calculateChildGridItemOverride","child1","centerDiff","childRelativeY","childHeight","childFound","childOrderSet","sorted","relativeYA","relativeYB","relativeY2","getSpacer","getSpacerData","spacerContainerRef","allSpacerData","allSpacerRef","onStackDragStart","onStackDragStop","onMouseOverSpacer","onMouseEnterSpacer","onMouseOutSpacer","setMouseOverOverride","setPointerEventOfSpacers","setMouseOverForNonDraggingOverride","spacerRef","setGridItemStyleChildOverride","container","flexDirection","onChildLeaveOverride","removing","stretchChildOverride","isStretchChildOverride","setStyleParamOverride","isStack","onDragStartChildOverride","onDragChildOverride","onDragStopChildOverride","ContextMenu","getFakeAnchor","popperStyle","mouseEvent","hasDivider","j","ContextMenuItem","subMenu","interactive","leaveDelay","shortcut","deepEqual","saveStyle","beStretch","allowStretch","disableStretch","pageAgl","oldBehaviour","oldOffsetTop","oldIsFixed","lastSectionId","itemRect","sectionParent","addFixedChildToRoot","oldParentRect","pageRect","hideInBreakPoint","showInBreakPoint","fromAll","getSectionId","uuidv4","createStack","itemsParent","getSectionParent","lastBottom","rightFromLeft","topA","topB","stackNode","_stack","stackId","itemIds","newItems","removeStackFromAGL","addToStack","parentWidth","stackAgl","childIds","removeChilds","addToUndo","saveValue","oldType","oldZIndex","breakpointData","createContextMenu","copySection","paste","duplicate","copyDesignItem","item1","item2","isSameFamily","allOldDesign","sourceItemTemp","overrideBps","pasteFromBreakpointDesign","fromName","toName","fromData","currentData","oldData","deleteSection","shortcutSection","sectionSection","sortBy","array","chromaColor","SelectManager","inputManager","groupSelectRef","pageAglRef","miniMenuHolderRef","inspectorRef","resizeRef","helpLinesRef","hoverRef","setContext","dontUpdateAdjustments","createGroup","clearGroup","addMiniMenu","addMenu","inspectorMenu","setMenu","updateGroupRect","mainItem","deleteGroup","firstRect","updateRect","helpLineParent","activate","fakeItemRect","test1","test2","test3","SnapManager","snapThreshold","snapSvgRef","ignoreId","additionalSnaps","topUp","topDown","leftUp","leftDown","concat","CopyManager","selectManager","pageRef","handleKeyCodeEvent","copyItem","getCopyItem","destinationItem","copyRect","IdManager","prefix","allId","preferName","fixName","baseId","postNo","UndoRedo","getQueueObject","undo","redo","undoQueue","pop","redoQueue","undoFunc","object","hasUndo","hasRedo","GridLineManager","gridContainerRef","positions","getIdCache","AnchorManager","getAnchors","AdjustmentGridRoot","AdjustmentGridRow","gridLineManager","rowLines","rowLineRect","nextRowLineRect","rowHeight","AdjustmentGrid","addRow","rowsHeight","addColumn","columnsWidth","changeColumnWidth","changeRowHeight","deleteRow","deleteColumn","AdjustmentSnapLines","stroke","AdjustmentSnap","GridLine","lineRef","AdjustmentGridLinesWrapper2","yNo","xNo","refId","AdjustmentGridLines","fixLineRef","idCache","updateGridLine","prepared","xNoA","yNoA","xNoB","yNoB","xNoT","yNoT","xLineRefA","yLineRefA","xLineRefB","yLineRefB","xLineRefT","yLineRefT","ResizePane","AdjustmentGroupRect","RightClick","MiniMenuVerticalDivider","Help","MiniMenu","primary","MenuHolder","miniMenuRef","contextMenu","miniMenuItem","IFrameCommunicator","origin","authKey","otherWindow","onMessage","processIncomingMessage","callbacks","responseFunc","responses","post","counter","EditorController","AllowFunctions","res","jsonedEvent","Event","dispatchEvent","Inspector","opening","closeInterval","openInterval","percent","speed","closing","pinInspector","toggleState","getDefaultMenu","AdjustmentStretch","isDragging","AdjustmentResize","transformStyleId","stretchStyle","AdjustmentResizeWrapper","AdjustmentHelpLines","calculate","strokeDasharray","AdjustmentHelpLinesWrapper","helpLineRef","AdjustmentHover","disablePortal","Layout","setLayout","layout","processLayout","treeData","getTreeItem","layoutItem","childLayout","expanded","parentItemId","setTree","updateItem","treeItem","childTreeItem","ComponentGrid","getItemStyle","gridColumnEnd","gridRowEnd","setDraggingItem","createItemAndDrag","presetProps","changeItemParent","setDraggingEnd","allItems","categoryItem","Fragment","gridAutoRows","innerHtml","onDragEnd","imageUrl","iconSizeMultiplyer","AddComponent","setComponentListItemDebounce","componentListItem","setComponentListItem","setComponentListItemLeave","componentListItemHover","componentSubListItem","subList","setComponentSubListItemDebounce","setComponentSubListItem","setComponentSubListItemLeave","componentSubListItemHover","listName","builtin","apps","groupName","componentSubListItems","closeMenu","PageTypeTitle","PageInfo","onRename","newPageName","rename","setAsHomePage","home","AglRadio","Permissions","changePermission","pageSetting","permissions","onSetPassword","password","onChangeMemberType","memberType","onRoleChange","memberRoles","roleAnchor","allApps","member","setting","roles","SeoGoogle","onChangeSeoSetting","newEndUrl","seoGoogle","endUrl","endUrlError","pageTitle","baseUrl","pageDescription","newPageTitle","newPageDescription","rows","showInSearch","SocialShare","onChangeSocialShareSetting","socialShare","substring","lastIndexOf","description","newTitle","newDescription","PageSetting","tabValue","PageItem","pageMenuAnchorEl","onPageChange","setAsHome","renameInput","boxClasses","isDynamic","AddNewPageDialogItem","AddNewPageDialog","addNormalPage","onAddNormalPage","addDynamicPage","onAddDynamicPage","PageManager","onChangeSearch","searchValue","getFilteredPages","siteId","onPageClick","newPageDataUrl","fetch","then","json","openNormalPage","openDynamicPage","showAddPage","ThemeTextItem","onEditClick","font","ThemeColorsItem","toChange","ThemeManager","setCategory","EditorHeaderZoom","Consumer","zoomSetting","anchorOrigin","getContentAnchorEl","anchorPosition","PaperProps","marginThreshold","transitionDuration","EditorHeaderPageSelect","pd","NumberInputEnterToChange","lazy","tempValue","onTempChange","getBreakpointIcon","getBreakpointName","EditorHeaderBreakpointsSettingItem","isHighestBp","done","tempEnd","onCancel","cancelEditMode","nextBpData","onEditMode","EditorHeaderBreakpointsSetting","clearEditMode","bpItemrRefs","bpItemRef","getBpItemRef","EditorHeaderBreakpoints","getTabValue","settingAnchor","CreateMenu","autoFocus","MenuTreeOrderer","onDragOver","onDragLeave","onDrop","MenuTreeItem","itemClassName","dropableProps","onOrderOver","onOrderDrop","MenuTree","draggingMenuItem","click","parentMI","getIndexInParent","newIndex","parentMenuItem","reorderMenuItem","getTreeItemRenderer","renameMI","MenuManagerUI","selectedMenuId","selectedMenu","menuIndex","deleteMenu","createMenu","createMenuItem","copyFromId","newMenu","copyFromMenu","addNewMenu","menuItemName","newMenuItem","addNewMenuItem","EditorHeader","setRightMenuOpen","openMenu","changedState","onInspectorClickState","onInspectorClick","onPageZoomChange","PreviewHeaderBreakpoints","getCurrentValue","lastBpData","devices","PreviewHeader","PageView","onScrollBoundary","UploadButton","inputRef","onFileSelected","multiple","accept","FileManagerHelper","continuationToken","onSuccess","route","method","success","error","objectPath","file","objectSizeInMb","folderPath","deleteObjects","NewFolder","FileUploader","addFiles","newFIles","files","f","status","progress","working","next","finishing","onFinish","currentUploading","uploadSign","upload","signUrl","errorMessage","FormData","append","cancelTokenSource","axios","CancelToken","source","put","headers","onUploadProgress","cancelToken","token","response","onSingleFileUploaded","catch","loaded","total","cancelCurrent","cancel","cancelPendings","cancelAll","LinearProgress","MultiColorProgressBar","bars","readings","FileManager","loadRoute","list","selectedFile","selectedFiles","loadingPrefix","getCurrentPrefix","contents","Key","loadUserUsage","getFirstRoute","createNewFolder","folder","changeRoute","uploadFile","isFilesValid","uploaderRef","uploadingData","showError","getValidFileExt","validExt","valid","ext","message","getEmptyFolder","openFolder","folderName","onClickFile","onDoubleClickFile","getFileIconPreview","userDrag","userSelect","deleteFiles","filename","getFileType","currentPrifix","isFile","isFolder","folders","selectedFilesContainFile","addFileManually","basePrefix","usage","usageData","getUsageColor","usagePercent","getUsagePercent","storage","newRoute","currentRoute","newFolder","acceptedFiles","getRootProps","getInputProps","CircularProgress","shortName","EditorBoundary","layoutRef","addComponentRef","pageManagerRef","themeManagerRef","InputManager","iFrameCommunicator","toggleThemeManager","exportSiteData","toggleAddComponent","togglePageManager","loadSiteData","initFromHolder","onSiteDataUpdated","err","onSetZoomScale","testWebsite","defaultSiteData","defaultAllComponentData","onComponentDataUpdated","togglePreview","setZoomLevel","zoomLevel","notifyBreakpointChange","newDevicePixelRatio","isPreview","toggleInspector","onResizeD","onResizeT","getLayoutItem","il","openLayout","closeLayout","getLivePageData","getLiveSiteData","blob","Blob","URL","createObjectURL","download","fileName","getSiteData","isProduction","fileManager","dispose","borderClassess","onAddComponentClick","onThemeManagerClick","onPageManagerClick","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.03d17370.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/align-left.0a5b083d.svg\";","module.exports = __webpack_public_path__ + \"static/media/align-center.c06baa72.svg\";","module.exports = __webpack_public_path__ + \"static/media/align-right.47dacf61.svg\";","module.exports = __webpack_public_path__ + \"static/media/errorred.b7152f66.svg\";","module.exports = __webpack_public_path__ + \"static/media/bin.df49cd2e.svg\";","module.exports = __webpack_public_path__ + \"static/media/chain.91ca2215.svg\";","module.exports = __webpack_public_path__ + \"static/media/textwhite.0dd5b9bc.svg\";","module.exports = __webpack_public_path__ + \"static/media/settingwhite.5f59bbc7.svg\";","module.exports = __webpack_public_path__ + \"static/media/align-top.a4e81be5.svg\";","module.exports = __webpack_public_path__ + \"static/media/align-middle.18bded08.svg\";","module.exports = __webpack_public_path__ + \"static/media/align-bottom.b15149df.svg\";","module.exports = __webpack_public_path__ + \"static/media/unlink.91af3919.svg\";","module.exports = __webpack_public_path__ + \"static/media/linkblue.34eb0e55.svg\";","module.exports = __webpack_public_path__ + \"static/media/linkdisable.b12d5832.svg\";","module.exports = __webpack_public_path__ + \"static/media/link.3473cffc.svg\";","module.exports = __webpack_public_path__ + \"static/media/refresh.3c352ac3.svg\";","module.exports = __webpack_public_path__ + \"static/media/cropwhite.913a034c.svg\";","module.exports = __webpack_public_path__ + \"static/media/focalwhite.81ca7e87.svg\";","module.exports = __webpack_public_path__ + \"static/media/dropdownwhite.437cf3b9.svg\";","module.exports = __webpack_public_path__ + \"static/media/layoutwhite.d4502e9e.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus.4ffb5b5d.svg\";","module.exports = __webpack_public_path__ + \"static/media/more.7e1c1c4d.svg\";","module.exports = __webpack_public_path__ + \"static/media/question.910508a9.svg\";","module.exports = __webpack_public_path__ + \"static/media/bindisable.b2b248e2.svg\";","module.exports = __webpack_public_path__ + \"static/media/cloudupload.dbdbbcac.svg\";","module.exports = __webpack_public_path__ + \"static/media/file.4fc544fb.svg\";","module.exports = __webpack_public_path__ + \"static/media/folder.45405b61.svg\";","module.exports = __webpack_public_path__ + \"static/media/folderback.ec1620e4.svg\";","module.exports = __webpack_public_path__ + \"static/media/notparent.ac631e5c.svg\";","module.exports = __webpack_public_path__ + \"static/media/parent.e5c6057a.svg\";","module.exports = __webpack_public_path__ + \"static/media/text.cd9d5184.svg\";","module.exports = __webpack_public_path__ + \"static/media/close.ebf2f3f4.svg\";","module.exports = __webpack_public_path__ + \"static/media/minimize.d1b14794.svg\";","module.exports = __webpack_public_path__ + \"static/media/maximize.c16a073e.svg\";","var map = {\n\t\"./align-bottom.svg\": 225,\n\t\"./align-center.svg\": 103,\n\t\"./align-left.svg\": 102,\n\t\"./align-middle.svg\": 224,\n\t\"./align-right.svg\": 104,\n\t\"./align-top.svg\": 223,\n\t\"./bin.svg\": 137,\n\t\"./bindisable.svg\": 291,\n\t\"./chain.svg\": 187,\n\t\"./close.svg\": 42,\n\t\"./cloudupload.svg\": 292,\n\t\"./cropwhite.svg\": 278,\n\t\"./dropdown.svg\": 559,\n\t\"./dropdownwhite.svg\": 280,\n\t\"./errorred.svg\": 134,\n\t\"./file.svg\": 293,\n\t\"./focalwhite.svg\": 279,\n\t\"./folder.svg\": 294,\n\t\"./folderback.svg\": 295,\n\t\"./layout.svg\": 560,\n\t\"./layoutwhite.svg\": 281,\n\t\"./link.svg\": 276,\n\t\"./linkblue.svg\": 274,\n\t\"./linkdisable.svg\": 275,\n\t\"./linkwhite.svg\": 561,\n\t\"./maximize.png\": 562,\n\t\"./minimize.png\": 563,\n\t\"./more.svg\": 288,\n\t\"./notparent.svg\": 296,\n\t\"./paint.svg\": 70,\n\t\"./parent.svg\": 297,\n\t\"./plus.svg\": 564,\n\t\"./qabutton.svg\": 565,\n\t\"./qacontainer.svg\": 566,\n\t\"./qaimage.svg\": 567,\n\t\"./qamenu.svg\": 568,\n\t\"./qaparagraph.svg\": 569,\n\t\"./qatext.svg\": 570,\n\t\"./qavideo.svg\": 571,\n\t\"./question.svg\": 289,\n\t\"./refresh.svg\": 277,\n\t\"./settingwhite.svg\": 190,\n\t\"./text.svg\": 298,\n\t\"./textwhite.svg\": 189,\n\t\"./unlink.svg\": 270\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 558;","module.exports = __webpack_public_path__ + \"static/media/dropdown.ca82bc74.svg\";","module.exports = __webpack_public_path__ + \"static/media/layout.a0ffa87b.svg\";","module.exports = __webpack_public_path__ + \"static/media/linkwhite.765c23ec.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAIzAAACMwEI+8PQAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAKJQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA6C3cNgAAADV0Uk5TAAECCBgvMDc7PD0+P0BBRUtPU2Jkb3F3f4CBj5CRkpOUlZadoq+wzdTX2eDk6vP09fb3/P6Aj+2qAAABj0lEQVRYw+2X2ZaCMAxAg7souC8j7ssoouCW//+1ecCCxVTLCfo0eYv23iO1pAkUV79EbAZ5kCI/2FDrVkXYIR1dWdBVLNuB4gscy4Kxat3nBI4scFIL2rKgrSE4jn6iGDZzsiDXHMYxOtK/YGmAVhhL1SPoGSQ+sQcLHcGC2oObvkHwN0nQP90/nr/j5/eFp74kKNmahoi3S7IA9AwxD0lBbJip+VnMPwvAemuIeAsoQWyY0vz0kacEYAWvDIIPLFAJoC4Mk2d+Ivg6qAUvDEleIVAanniVAGoBVZJEQQpq8E5AGgg+EhwQEa8FIAxOsp498lC4IiIeoLX1PLcnPa8pDJ0w7wjelJb1XM/btsgTY/ohsQ7TdZj5JmhHaLiUw6x8ScsDVH3Ec0NkjTOiX4VUUXH3dpzZe7cCKcMw1Nl/fGkTuX8j9yBxj3Kql4n9OrMLCrukZV1UuWWde7Fwrzbu5cq93rkNBrfF4TZZ3DaP3WiyW112s51Nu88dOPgjD3foynjs+97kyh6+ueP/H91fZhzv6pmxAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAB2AAAAdgB+lymcgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAHLSURBVHic7ZrBbsMgDIZ/7TnW91m1Sw6betievulbdFJ6WK1FCAI2DpjFn8SlUYn9hRRqABzHcRzHcdKcAczPNnWOpYQJf/GeNTqcASzPdgdw0eh0Jy74jZHinTU6XQuwLCFMfgFw1eh4inRsTUIs+TsUX9mPyA1+AHxr3aCCT8Rj+9K+kUUJzZInLElonjyRet9yvwnvAG5IT0+56xoxqCEJYD2bxH6dc9dr7r0L3NdhCRr3OtBx2KfgSKgVYC55olRCjQCzyRMlEqQCzCdP5CRIBAyTPLElgStguOSJ1DTFFWBiqpMSGwlcAcM9+ZCchJAhk6fl69bT0xgBqaZW9ZESFktaC1hQWfR4qflyBbFS1a15FApQwZT7xN527stxHKcJknVAriR2iHVAriT279cBp8hnr82jUEAyd2uuBE2vA2L/5yUCem++iMglzx0BQ0k4dEFkq4zFFWBpG66IXA2PKwAYSEJJAVMiABhAQmn1VioAMCyBU7quEQAYlMCt29cKAAxJOPT2uDQAWjbnSmIly9tuEixtVzV/HSwlTzSTYDF5YncJhz8oOfJRWfWzwlaTJ0IJKmeF19PTSMflr+hcMHUcx3EcxzYPiKjECYS4Ih0AAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/plus.4ffb5b5d.svg\";","module.exports = __webpack_public_path__ + \"static/media/qabutton.624fbf94.svg\";","module.exports = __webpack_public_path__ + \"static/media/qacontainer.428b6d61.svg\";","module.exports = __webpack_public_path__ + \"static/media/qaimage.b6c0c0a0.svg\";","module.exports = __webpack_public_path__ + \"static/media/qamenu.6e932cb5.svg\";","module.exports = __webpack_public_path__ + \"static/media/qaparagraph.1202e5ce.svg\";","module.exports = __webpack_public_path__ + \"static/media/qatext.800211fe.svg\";","module.exports = __webpack_public_path__ + \"static/media/qavideo.4f0d0683.svg\";","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport {Resizable} from \"re-resizable\";\r\nimport css from 'dom-css';\r\nimport {exist, getFromData, getSortedBreakPoints, setData} from \"./BreakPointManager\";\r\nimport debounce from 'lodash.debounce';\r\n// import {css, StyleSheet} from 'aphrodite'\r\n\r\nlet CalculateLayout = (griddatas, layoutType, parentSize, dir, compactType, scrollType, snap\r\n                       , breakpointdata, hasOwnBreakPoints, parentGriddata) => {\r\n    parentGriddata = parentGriddata || getDefaultChildgriddata(breakpointdata);\r\n\r\n    let dummy;\r\n    let childContainers = griddatas.map((griddata) => {\r\n        if (griddata.id === undefined)\r\n            console.error(\"direct child must have a id props\");\r\n\r\n        let result = {\r\n            griddata: griddata,\r\n        };\r\n\r\n        result.griddata.id = griddata.id;\r\n        result.isContainer = griddata.isContainer;\r\n        result.selected = griddata.selected;\r\n        result.resizable = griddata.resizable;\r\n        result.draggable = griddata.draggable;\r\n        result.dragging = griddata.dragging;\r\n\r\n        result.w = getPxFromPercent(\r\n            getFromData(result.griddata, \"w\", parentSize.x, hasOwnBreakPoints\r\n                ,breakpointdata), parentSize.x);\r\n\r\n        result.h = getPxFromPercent(\r\n            getFromData(result.griddata, \"h\", parentSize.x, hasOwnBreakPoints\r\n                ,breakpointdata), parentSize.y);\r\n\r\n        result.x = getPxFromPercent(\r\n            getFromData(result.griddata, \"x\", parentSize.x, hasOwnBreakPoints\r\n                ,breakpointdata), parentSize.x);\r\n\r\n        result.y = getPxFromPercent(\r\n            getFromData(result.griddata, \"y\", parentSize.x, hasOwnBreakPoints\r\n                ,breakpointdata), parentSize.y);\r\n\r\n        result.rotate = getFromData(result.griddata, \"rotate\", parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n\r\n        result.absolute = getFromData(result.griddata, \"absolute\", parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n\r\n        result.fix = getFromData(result.griddata, \"fix\", parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n\r\n        result.zIndex = getFromData(result.griddata, \"zIndex\", parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n\r\n        if (result.griddata.dragging) {\r\n            dummy = {};\r\n            dummy.griddata = cloneObject(result.griddata);\r\n            // dummy.griddata.dragging = false;\r\n            dummy.griddata.id = \"dummy\";\r\n            dummy.x = result.x;\r\n            dummy.y = result.y;\r\n            dummy.w = result.w;\r\n            dummy.h = result.h;\r\n            dummy.griddata.draggable = false;\r\n            dummy.griddata.resizable = false;\r\n            dummy.absolute = result.absolute;\r\n            dummy.fix = result.fix;\r\n            dummy.zIndex = result.zIndex;\r\n            dummy.dragging = result.dragging;\r\n\r\n            dummy.isDummy = true;\r\n        }\r\n\r\n        return result;\r\n    });\r\n\r\n    if (!childContainers)\r\n        childContainers = [];\r\n\r\n    if (dummy)\r\n        childContainers.push(dummy);\r\n\r\n    sortChilds(childContainers, parentSize, compactType, breakpointdata, hasOwnBreakPoints);\r\n\r\n    let layouts = [];\r\n    let layoutContainers = [];\r\n\r\n    let maxHeight = scatter(childContainers, layoutContainers, layouts, layoutType, parentSize\r\n        , compactType, scrollType, snap, breakpointdata, hasOwnBreakPoints, parentGriddata);\r\n\r\n    return {childContainers: childContainers, layouts: layouts, maxHeight: maxHeight};\r\n};\r\n\r\nlet getDummy = (w, h) => {\r\n    return (\r\n        <Resizable\r\n            enable={false}\r\n            size={{\r\n                width: w,\r\n                height: h,\r\n            }}\r\n        >\r\n            <div style={{\r\n                backgroundColor: \"rgba(201, 76, 76, 0.3)\",\r\n                width: \"100%\",\r\n                height: \"100%\"\r\n            }}>\r\n            </div>\r\n        </Resizable>\r\n    );\r\n};\r\n\r\nlet scatter = (childContainers, layoutContainers, layouts, layoutType, parentSize\r\n               , compactType, scrollType, snap, breakpointdata, hasOwnBreakPoints, parentGriddata) => {\r\n    let notCompareChilds = [];\r\n    let maxHeight = 0;\r\n    for (let i = 0; i < childContainers.length; i++) {\r\n        let childContainer = childContainers[i];\r\n\r\n        if (childContainer.griddata.dragging) {\r\n            notCompareChilds.push(childContainer);\r\n            continue;\r\n        }\r\n\r\n        if (childContainer.absolute || childContainer.fix) {\r\n            notCompareChilds.push(childContainer);\r\n            continue;\r\n        }\r\n\r\n        if (layoutType === \"free\") {\r\n            maxHeight = scatterFree(childContainer, childContainers, layoutContainers\r\n                , parentSize, compactType, scrollType, snap, maxHeight, breakpointdata\r\n                , hasOwnBreakPoints, parentGriddata);\r\n        }\r\n\r\n        layoutContainers.push(childContainer);\r\n    }\r\n\r\n    for (let i = 0; i < childContainers.length; i++) {\r\n        let childContainer = childContainers[i];\r\n\r\n        layouts.push(childContainer.griddata);\r\n    }\r\n\r\n    notCompareChilds.forEach(childContainer => {\r\n        if (childContainer.absolute)\r\n            fixAbsoluteChild(childContainer, parentSize, breakpointdata, hasOwnBreakPoints, parentGriddata);\r\n        if (childContainer.fix)\r\n            fixFixChild(childContainer, parentSize, breakpointdata, hasOwnBreakPoints, parentGriddata);\r\n\r\n        setChildPosition(childContainer, {x:childContainer.x, y:childContainer.y}\r\n             , parentSize, breakpointdata, hasOwnBreakPoints);\r\n\r\n        layoutContainers.push(childContainer);\r\n        layouts.push(childContainer.griddata);\r\n    });\r\n\r\n    return maxHeight;\r\n};\r\n\r\nlet fixFixChild = (childContainer, parentSize, breakpointdata, hasOwnBreakPoints, parentGriddata) => {\r\n    let maxHeight;\r\n    let maxWidth;\r\n\r\n    // fix constraints\r\n    let constraints =\r\n        getFromData(childContainer.griddata, \"constraints\", parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n\r\n    let left = getPxFromPercent(constraints.left, parentSize.x);\r\n    if (left)\r\n        left += parentSize.scrollLeft;\r\n    let top = getPxFromPercent(constraints.top, parentSize.y);\r\n    if (top)\r\n        top += parentSize.scrollTop;\r\n    let right = getPxFromPercent(constraints.right, parentSize.x);\r\n    if (right)\r\n        right += (parentSize.x - parentSize.clientWidth - parentSize.scrollLeft);\r\n    let bottom = getPxFromPercent(constraints.bottom, parentSize.y);\r\n    if (bottom)\r\n        bottom += (parentSize.y - parentSize.clientHeight - parentSize.scrollTop);\r\n\r\n    let minW =\r\n        getFromData(childContainer.griddata, \"minW\"\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    let minH =\r\n        getFromData(childContainer.griddata, \"minH\"\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    let maxW =\r\n        getFromData(childContainer.griddata, \"maxW\"\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    let maxH =\r\n        getFromData(childContainer.griddata, \"maxH\"\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n\r\n    if (right !== undefined && left !== undefined) {\r\n        // ignore w value and calculate from remain space\r\n        childContainer.w = parentSize.x - left - right;\r\n        childContainer.x = left + childContainer.w / 2;\r\n    }\r\n    if (bottom !== undefined && top !== undefined) {\r\n        // ignore h value and calculate from remain space\r\n        childContainer.h = parentSize.y - top - bottom;\r\n        childContainer.y = top + childContainer.h / 2;\r\n    }\r\n    if (right !== undefined && left === undefined) {\r\n        // use w to calculate x. w must have value in this situation\r\n        childContainer.x = parentSize.x - childContainer.w / 2 - right;\r\n    }\r\n    if (bottom !== undefined && top === undefined) {\r\n        // use h to calculate y. h must have value in this situation\r\n        childContainer.y = parentSize.y - childContainer.h / 2 - bottom;\r\n    }\r\n\r\n    if (right === undefined) {\r\n        if (left !== undefined)\r\n            childContainer.x = left + childContainer.w / 2;\r\n    }\r\n\r\n    if (bottom === undefined) {\r\n        if (top !== undefined)\r\n            childContainer.y = top + childContainer.h / 2;\r\n    }\r\n\r\n    if (minW) {\r\n        childContainer.w = Math.max(minW, childContainer.w);\r\n    }\r\n    if (maxW) {\r\n        childContainer.w = Math.min(maxW, childContainer.w);\r\n    }\r\n    if (minH) {\r\n        childContainer.h = Math.max(minH, childContainer.h);\r\n    }\r\n    if (maxH) {\r\n        childContainer.h= Math.min(maxH, childContainer.h);\r\n    }\r\n\r\n    maxWidth = childContainer.x + childContainer.w / 2 + right;\r\n    maxHeight = childContainer.y + childContainer.h / 2 + bottom;\r\n    return {maxHeight: maxHeight, maxWidth: maxWidth};\r\n};\r\n\r\nlet fixAbsoluteChild = (childContainer, parentSize, breakpointdata, hasOwnBreakPoints, parentGriddata) => {\r\n    let maxHeight;\r\n    let maxWidth;\r\n\r\n    // fix constraints\r\n    let constraints =\r\n        getFromData(childContainer.griddata, \"constraints\", parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n\r\n    let left = getPxFromPercent(constraints.left, parentSize.x);\r\n    let top = getPxFromPercent(constraints.top, parentSize.y);\r\n    let right = getPxFromPercent(constraints.right, parentSize.x);\r\n    let bottom = getPxFromPercent(constraints.bottom, parentSize.y);\r\n\r\n    let minW =\r\n        getFromData(childContainer.griddata, \"minW\"\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    let minH =\r\n        getFromData(childContainer.griddata, \"minH\"\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    let maxW =\r\n        getFromData(childContainer.griddata, \"maxW\"\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    let maxH =\r\n        getFromData(childContainer.griddata, \"maxH\"\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n\r\n    if (right !== undefined && left !== undefined) {\r\n        // ignore w value and calculate from remain space\r\n        childContainer.w = parentSize.x - left - right;\r\n        childContainer.x = left + childContainer.w / 2;\r\n    }\r\n    if (bottom !== undefined && top !== undefined) {\r\n        // ignore h value and calculate from remain space\r\n        childContainer.h = parentSize.y - top - bottom;\r\n        childContainer.y = top + childContainer.h / 2;\r\n    }\r\n    if (right !== undefined && left === undefined) {\r\n        // use w to calculate x. w must have value in this situation\r\n        childContainer.x = parentSize.x - childContainer.w / 2 - right;\r\n    }\r\n    if (bottom !== undefined && top === undefined) {\r\n        // use h to calculate y. h must have value in this situation\r\n        childContainer.y = parentSize.y - childContainer.h / 2 - bottom;\r\n    }\r\n\r\n    if (right === undefined) {\r\n        if (left !== undefined)\r\n            childContainer.x = left + childContainer.w / 2;\r\n    }\r\n\r\n    if (bottom === undefined) {\r\n        if (top !== undefined)\r\n            childContainer.y = top + childContainer.h / 2;\r\n    }\r\n\r\n    if (minW) {\r\n        childContainer.w = Math.max(minW, childContainer.w);\r\n    }\r\n    if (maxW) {\r\n        childContainer.w = Math.min(maxW, childContainer.w);\r\n    }\r\n    if (minH) {\r\n        childContainer.h = Math.max(minH, childContainer.h);\r\n    }\r\n    if (maxH) {\r\n        childContainer.h= Math.min(maxH, childContainer.h);\r\n    }\r\n\r\n    maxWidth = childContainer.x + childContainer.w / 2 + right;\r\n    maxHeight = childContainer.y + childContainer.h / 2 + bottom;\r\n    return {maxHeight: maxHeight, maxWidth: maxWidth};\r\n};\r\n\r\nlet scatterFree = (childContainer, childContainers, layoutContainers, parentSize, compactType, scrollType\r\n                   , snap, maxHeight, breakpointdata, hasOwnBreakPoints, parentGriddata) => {\r\n    let autoWidth =\r\n        getFromData(parentGriddata, \"autoWidth\", parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    if (!autoWidth) {\r\n        if (childContainer.x + childContainer.w > parentSize.x) {\r\n            childContainer.x = parentSize.x - childContainer.w;\r\n        }\r\n    }\r\n\r\n    if (compactType === \"horizontal\") {\r\n        childContainer.y = Math.min(bottom(layoutContainers), childContainer.y);\r\n        while (childContainer.x > 0 && !checkCollide(childContainer, layoutContainers)) {\r\n            childContainer.x -= snap.x;\r\n        }\r\n    }\r\n    if (compactType === \"vertical\")\r\n    {\r\n        childContainer.y = Math.min(bottom(layoutContainers), childContainer.y);\r\n        while (childContainer.y > 0 && !checkCollide(childContainer, layoutContainers)) {\r\n            childContainer.y -= snap.y;\r\n        }\r\n    }\r\n\r\n    childContainer.x = Math.max(0, childContainer.x);\r\n    childContainer.y = Math.max(0, childContainer.y);\r\n\r\n    let collide;\r\n    while (checkCollide(childContainer, layoutContainers)) {\r\n        collide = checkCollide(childContainer, layoutContainers);\r\n        if (compactType === \"horizontal\") {\r\n            resolveCompactionCollision(childContainers, childContainer, collide.x + collide.w, \"x\");\r\n        }\r\n        if (compactType === \"vertical\") {\r\n            resolveCompactionCollision(childContainers, childContainer, collide.y + collide.h, \"y\");\r\n        }\r\n        // Since we can't grow without bounds horizontally, if we've overflown, let's move it down and try again.\r\n        if ((compactType === \"horizontal\") &&\r\n            childContainer.x + childContainer.w > parentSize.x) {\r\n            childContainer.x = parentSize.x - childContainer.w;\r\n            childContainer.y++;\r\n        }\r\n    }\r\n\r\n    if (childContainer.y + childContainer.h > maxHeight)\r\n        maxHeight = childContainer.y + childContainer.h;\r\n\r\n    return maxHeight;\r\n};\r\n\r\nconst heightWidth = { x: \"w\", y: \"h\" };\r\nlet resolveCompactionCollision = (layout, item, moveToCoord, axis) => {\r\n    const sizeProp = heightWidth[axis];\r\n    item[axis] += 1;\r\n    const itemIndex = layout\r\n        .map(layoutItem => {\r\n            return layoutItem.griddata.id;\r\n        })\r\n        .indexOf(item.griddata.id);\r\n\r\n    // Go through each item we collide with.\r\n    for (let i = itemIndex + 1; i < layout.length; i++) {\r\n        const otherItem = layout[i];\r\n        // Ignore static items\r\n        if (otherItem.static || otherItem.griddata.dragging) continue;\r\n\r\n        // Optimization: we can break early if we know we're past this el\r\n        // We can do this b/c it's a sorted layout\r\n        if (otherItem.y > item.y + item.h) break;\r\n\r\n        if (collide(item, otherItem)) {\r\n            resolveCompactionCollision(\r\n                layout,\r\n                otherItem,\r\n                moveToCoord + item[sizeProp],\r\n                axis\r\n            );\r\n        }\r\n    }\r\n\r\n    item[axis] = moveToCoord;\r\n};\r\n\r\nlet bottom = (layoutContainers) => {\r\n    let max = 0,\r\n        bottomY;\r\n    for (let i = 0, len = layoutContainers.length; i < len; i++) {\r\n        bottomY = layoutContainers[i].y + layoutContainers[i].h;\r\n        if (bottomY > max) max = bottomY;\r\n    }\r\n    return max;\r\n};\r\n\r\nlet checkCollide = (childContainer, layoutContainers) => {\r\n    for (let i = 0; i < layoutContainers.length; i++) {\r\n        if (collide(childContainer, layoutContainers[i]))\r\n            return layoutContainers[i];\r\n    }\r\n    return false;\r\n};\r\n\r\nlet collide = (child1, child2) => {\r\n    if (child1.griddata.id === child2.griddata.id) return false; // same element\r\n    if (child1.x + child1.w <= child2.x) return false; // l1 is left of l2\r\n    if (child1.x >= child2.x + child2.w) return false; // l1 is right of l2\r\n    if (child1.y + child1.h <= child2.y) return false; // l1 is above l2\r\n    if (child1.y >= child2.y + child2.h) return false; // l1 is below l2\r\n    return true; // boxes overlap\r\n};\r\n\r\nlet sortChilds = (childContainers, parentSize, compactType, breakpointdata, hasOwnBreakPoints) => {\r\n    childContainers.forEach(childContainer => {\r\n            childContainer.x = getPxFromPercent(\r\n                getFromData(childContainer.griddata, \"x\", parentSize.x, hasOwnBreakPoints\r\n                    ,breakpointdata)\r\n                ,  parentSize.x);\r\n            childContainer.y = getPxFromPercent(\r\n                getFromData(childContainer.griddata, \"y\", parentSize.x, hasOwnBreakPoints\r\n                    ,breakpointdata)\r\n                ,  parentSize.y);\r\n    });\r\n\r\n    if (compactType === \"horizontal\") {\r\n        childContainers.sort((a, b) => {\r\n            if (a.x > b.x || (a.x === b.x && a.y > b.y)) {\r\n                return 1;\r\n            } else if (a.y === b.y && a.x === b.x) {\r\n                // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                return 0;\r\n            }\r\n            return -1;\r\n        });\r\n    } else {\r\n        childContainers.sort((a, b) => {\r\n            if (a.y > b.y || (a.y === b.y && a.x > b.x)) {\r\n                return 1;\r\n            } else if (a.y === b.y && a.x === b.x) {\r\n                // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                return 0;\r\n            }\r\n            return -1;\r\n        });\r\n    }\r\n};\r\n\r\nlet getPxFromPercent = (val, parentVal) => {\r\n    if (typeof(val) === \"string\") {\r\n        if (getUnit(val) === \"%\") {\r\n            let percent = parseFloat(val.replace(\"%\", \"\")) / 100;\r\n            return parentVal * percent;\r\n        }\r\n        return val;\r\n    } else {\r\n        return val;\r\n    }\r\n};\r\n\r\nlet getUnit = (val) => {\r\n    if (typeof(val) === \"string\") {\r\n        if (val.includes(\"%\"))\r\n            return \"%\";\r\n    }\r\n    return \"\";\r\n};\r\n\r\nlet hasDir = (dir, target) => {\r\n    return dir.toLowerCase().includes(target);\r\n};\r\n\r\nlet setChildSize = (childContainer, newSize, parentSize, breakpointdata, hasOwnBreakPoints\r\n                    , dir, delta) => {\r\n    setData(childContainer.griddata, \"w\", newSize.w, parentSize.x, hasOwnBreakPoints\r\n        ,breakpointdata);\r\n    if (getFromData(childContainer.griddata, \"units.w\", parentSize.x, hasOwnBreakPoints\r\n        ,breakpointdata)) {\r\n        setData(childContainer.griddata, \"w\",\r\n            (getFromData(childContainer.griddata, \"w\", parentSize.x\r\n                , hasOwnBreakPoints\r\n                ,breakpointdata) / parentSize.x * 100)\r\n            + getFromData(childContainer.griddata, \"units.w\", parentSize.x\r\n            , hasOwnBreakPoints\r\n            ,breakpointdata)\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    }\r\n\r\n    setData(childContainer.griddata, \"h\", newSize.h, parentSize.x, hasOwnBreakPoints\r\n        ,breakpointdata);\r\n    if (getFromData(childContainer.griddata, \"units.h\", parentSize.x, hasOwnBreakPoints\r\n        ,breakpointdata)) {\r\n        setData(childContainer.griddata, \"h\",\r\n            (getFromData(childContainer.griddata, \"h\", parentSize.x\r\n                , hasOwnBreakPoints\r\n                ,breakpointdata) / parentSize.y * 100)\r\n            + getFromData(childContainer.griddata, \"units.h\", parentSize.x\r\n            , hasOwnBreakPoints\r\n            ,breakpointdata)\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    }\r\n\r\n    if (delta) {\r\n        if (hasDir(dir, \"right\") || hasDir(dir, \"left\")) {\r\n            let x = getPxFromPercent(\r\n                getFromData(childContainer.griddata, \"x\", parentSize.x, hasOwnBreakPoints\r\n                    ,breakpointdata)\r\n                , parentSize.x);\r\n            if (hasDir(dir, \"right\"))\r\n                x = x + delta.width / 2;\r\n            else\r\n                x = x - delta.width / 2;\r\n            let y = getPxFromPercent(\r\n                getFromData(childContainer.griddata, \"y\", parentSize.x, hasOwnBreakPoints\r\n                    ,breakpointdata)\r\n                , parentSize.y);\r\n\r\n            setChildPosition(childContainer, {x: x, y: y}, parentSize, breakpointdata, hasOwnBreakPoints)\r\n        }\r\n        if (hasDir(dir, \"top\") || hasDir(dir, \"bottom\")) {\r\n            let x = getPxFromPercent(\r\n                getFromData(childContainer.griddata, \"x\", parentSize.x, hasOwnBreakPoints\r\n                    ,breakpointdata)\r\n                , parentSize.x);\r\n            let y = getPxFromPercent(\r\n                getFromData(childContainer.griddata, \"y\", parentSize.x, hasOwnBreakPoints\r\n                    ,breakpointdata)\r\n                , parentSize.y);\r\n            if (hasDir(dir, \"bottom\"))\r\n                y = y + delta.height / 2;\r\n            else\r\n                y = y - delta.height / 2;\r\n\r\n            setChildPosition(childContainer, {x: x, y: y}, parentSize, breakpointdata, hasOwnBreakPoints)\r\n        }\r\n    }\r\n};\r\n\r\nlet setChildPosition = (childContainer, newPosition, parentSize, breakpointdata, hasOwnBreakPoints) => {\r\n    setData(childContainer.griddata, \"x\", newPosition.x, parentSize.x\r\n        , hasOwnBreakPoints\r\n        ,breakpointdata);\r\n    if (getFromData(childContainer.griddata, \"units.x\", parentSize.x, hasOwnBreakPoints\r\n        ,breakpointdata)) {\r\n        setData(childContainer.griddata, \"x\",\r\n            (getFromData(childContainer.griddata, \"x\", parentSize.x\r\n                , hasOwnBreakPoints\r\n                ,breakpointdata) / parentSize.x * 100)\r\n            + getFromData(childContainer.griddata, \"units.x\", parentSize.x\r\n            , hasOwnBreakPoints\r\n            ,breakpointdata)\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    }\r\n\r\n    setData(childContainer.griddata, \"y\", newPosition.y, parentSize.x\r\n        , hasOwnBreakPoints\r\n        ,breakpointdata);\r\n    if (getFromData(childContainer.griddata, \"units.y\", parentSize.x, hasOwnBreakPoints\r\n        ,breakpointdata)) {\r\n        setData(childContainer.griddata, \"y\",\r\n            (getFromData(childContainer.griddata, \"y\", parentSize.x\r\n                , hasOwnBreakPoints\r\n                ,breakpointdata) / parentSize.y * 100)\r\n            + getFromData(childContainer.griddata, \"units.y\", parentSize.x\r\n            , hasOwnBreakPoints\r\n            ,breakpointdata)\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    }\r\n};\r\n\r\n/*let updateConstraints = (childContainer, newPosition, parentSize, breakpointdata, hasOwnBreakPoints\r\n                        , parentGridSystem) =>\r\n{\r\n    if (!parentGridSystem)\r\n        parentGridSystem = getDefaultGridSystem();\r\n};*/\r\n\r\n/*let getDefaultGridSystem = () => {\r\n    return {\r\n        xNumber: 1,\r\n        yNumber: 1,\r\n        widths: [100],\r\n        widthUnits: [\"%\"],\r\n        heights: [100],\r\n        heightUnits: [\"%\"]\r\n    }\r\n};*/\r\n\r\nlet fixGriddata = (griddata, breakpointdata) => {\r\n    if (!griddata)\r\n        return;\r\n\r\n    if (griddata.initialized) {\r\n        let sortedBreakPoints = getSortedBreakPoints(breakpointdata);\r\n        for(let i = 0; i < sortedBreakPoints.length; i++) {\r\n            let name = sortedBreakPoints[i].name;\r\n\r\n            if (!griddata[name])\r\n                continue;\r\n\r\n            if (!griddata[name].units)\r\n                griddata[name].units = {};\r\n\r\n            griddata[name].units.x = getUnit(griddata[name].x);\r\n            griddata[name].units.y = getUnit(griddata[name].y);\r\n            griddata[name].units.w = getUnit(griddata[name].w);\r\n            griddata[name].units.h = getUnit(griddata[name].h);\r\n        }\r\n    } else {\r\n        if (!griddata.units)\r\n            griddata.units = {};\r\n\r\n        griddata.units.x = getUnit(griddata.x);\r\n        griddata.units.y = getUnit(griddata.y);\r\n        griddata.units.w = getUnit(griddata.w);\r\n        griddata.units.h = getUnit(griddata.h);\r\n\r\n    }\r\n};\r\n\r\nlet initGriddata = (griddataProp, breakpointdata) => {\r\n    if (griddataProp && griddataProp.initialized)\r\n        return griddataProp;\r\n\r\n    if (!griddataProp)\r\n        griddataProp = {};\r\n\r\n    let clone = cloneObject(griddataProp);\r\n\r\n    for (let props in griddataProp) delete griddataProp[props];\r\n\r\n    let griddata = getDefaultChildgriddata(breakpointdata);\r\n    if (clone.bpData) {\r\n        for (let props in griddata.bpData) {\r\n            if (exist(props, breakpointdata)) {\r\n                    for(let props2 in clone.bpData) {\r\n                        griddata.bpData[props][props2] = cloneObject(clone.bpData[props2]);\r\n                    }\r\n            }\r\n        }\r\n    }\r\n    for (let prop in clone) {\r\n        if (clone.hasOwnProperty(prop) && prop !== \"bpData\") {\r\n            griddata[prop] = clone[prop];\r\n        }\r\n    }\r\n\r\n    for(let k in griddata) griddataProp[k]=griddata[k];\r\n\r\n    return griddataProp;\r\n};\r\n\r\nlet getDefaultChildgriddata = (breakpointdata) => {\r\n    let sample = {\r\n        x: \"50%\",\r\n        y: \"50%\",\r\n        w: \"100%\",\r\n        h: \"100%\",\r\n        minW: undefined,\r\n        maxW: undefined,\r\n        minH: undefined,\r\n        maxH: undefined,\r\n        constraints: {\r\n            left: undefined,\r\n            top: undefined,\r\n            right: undefined,\r\n            bottom: undefined,\r\n        },\r\n        margin: {\r\n            all: undefined,\r\n            left: undefined,\r\n            top: undefined,\r\n            right: undefined,\r\n            bottom: undefined\r\n        },\r\n        units: {\r\n            x: \"%\",\r\n            y: \"%\",\r\n            w: \"%\",\r\n            h: \"%\",\r\n        },\r\n        scrollType: \"vertical\",\r\n        absolute: true,\r\n        fix: false,\r\n        autoHeight: false,\r\n        autoWidth: false,\r\n        overflowData: {\r\n            state: 'hide',\r\n            overflowY: 'scroll'\r\n        },\r\n    };\r\n    let griddata = {\r\n        initialized: true,\r\n        resizable: true,\r\n        draggable: true,\r\n        hasOwnBreakPoints: false,\r\n        isContainer: false,\r\n        autoDock: true,\r\n        bpData: {}\r\n    };\r\n    let sortedBreakPoints = getSortedBreakPoints(breakpointdata);\r\n    griddata.bpData[sortedBreakPoints[0].name] = cloneObject(sample);\r\n    return griddata;\r\n};\r\n\r\nlet cloneObject = (obj) => {\r\n    if (obj instanceof Array) {\r\n        let copy = [];\r\n        for (let i = 0, len = obj.length; i < len; i++) {\r\n            copy[i] = cloneObject(obj[i]);\r\n        }\r\n        return copy;\r\n    }\r\n    if (obj instanceof Object) {\r\n        if (null == obj) return obj;\r\n        let copy = {};\r\n        for (let attr in obj) {\r\n            if (obj.hasOwnProperty(attr)) {\r\n                copy[attr] = cloneObject(obj[attr]);\r\n            }\r\n        }\r\n        return copy;\r\n    }\r\n\r\n    return obj;\r\n};\r\n\r\nlet shallowEqual = (objA, objB) => {\r\n    if (objA === objB) {\r\n        return true;\r\n    }\r\n\r\n    if (typeof objA !== 'object' || objA === null ||\r\n        typeof objB !== 'object' || objB === null) {\r\n        return false;\r\n    }\r\n\r\n    let keysA = Object.keys(objA);\r\n    let keysB = Object.keys(objB);\r\n\r\n    if (keysA.length !== keysB.length) {\r\n        return false;\r\n    }\r\n\r\n    // Test for A's keys different from B.\r\n    for (let i = 0; i < keysA.length; i++) {\r\n        if (!objB.hasOwnProperty(keysA[i]) || objA[keysA[i]] !== objB[keysA[i]]) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return true;\r\n};\r\n\r\nfunction throttleDebounce(fn, ms) {\r\n    let deTimer;\r\n    let dontCall;\r\n\r\n    return _ => {\r\n        let args = arguments;\r\n\r\n        if (!dontCall) {\r\n            dontCall = true;\r\n            fn.apply(this, args);\r\n            setTimeout(_ => {\r\n                dontCall = false;\r\n            }, ms);\r\n        }\r\n\r\n        clearTimeout(deTimer);\r\n        deTimer = setTimeout(_ => {\r\n            fn.apply(this, args);\r\n        }, ms);\r\n    };\r\n}\r\n\r\nfunction throttleDebounce2(fn, threshold) {\r\n    threshold = threshold || 250;\r\n    let last, deferTimer;\r\n\r\n    let db = debounce(fn);\r\n    return function() {\r\n        let now = +new Date, args = arguments;\r\n        if(!last || (last && now < last + threshold)) {\r\n            clearTimeout(deferTimer);\r\n            db.apply(this, args);\r\n            deferTimer = setTimeout(function() {\r\n                last = now;\r\n                fn.apply(this, args);\r\n            }, threshold);\r\n        } else {\r\n            last = now;\r\n            fn.apply(this, args);\r\n        }\r\n    }\r\n}\r\n\r\nlet getOverFlow = (griddata, parent, breakpointdata) => {\r\n    if (!griddata)\r\n        return {x:\"hidden\", y:\"hidden\"};\r\n    let parentSizeX;\r\n    if (parent)\r\n        parentSizeX = parent.getSize().x;\r\n\r\n    let scrollType;\r\n    if (parentSizeX) {\r\n        scrollType = getFromData(griddata, \"scrollType\", parentSizeX\r\n                , griddata? griddata.hasOwnBreakPoints: false, breakpointdata);\r\n    } else {\r\n        scrollType = getFromData(griddata, \"scrollType\", 0\r\n                , false, breakpointdata);\r\n    }\r\n    switch (scrollType) {\r\n        case \"hide\":\r\n            return {x:\"hidden\", y:\"hidden\"};\r\n        case \"show\":\r\n            return {x:\"visible\", y:\"visible\"};\r\n        case \"horizontal\":\r\n            return {x:\"overlay\", y:\"hidden\"};\r\n        case \"vertical\":\r\n            return {x:\"hidden\", y:\"overlay\"};\r\n        case \"both\":\r\n            return {x:\"overlay\", y:\"overlay\"};\r\n        default:\r\n            return {x:\"visible\", y:\"visible\"};\r\n    }\r\n};\r\n\r\nlet scrollbarWidth = false;\r\nlet getScrollbarWidth = () => {\r\n    if (scrollbarWidth !== false) return scrollbarWidth;\r\n    /* istanbul ignore else */\r\n    if (typeof document !== 'undefined') {\r\n        const div = document.createElement('div');\r\n        css(div, {\r\n            width: 100,\r\n            height: 100,\r\n            position: 'absolute',\r\n            top: -9999,\r\n            overflow: 'scroll',\r\n            MsOverflowStyle: 'scrollbar'\r\n        });\r\n        document.body.appendChild(div);\r\n        scrollbarWidth = (div.offsetWidth - div.clientWidth);\r\n        document.body.removeChild(div);\r\n    } else {\r\n        scrollbarWidth = 0;\r\n    }\r\n    return scrollbarWidth || 0;\r\n};\r\n\r\nexport let assignData = (griddata, newData) => {\r\n    if (!griddata)\r\n        griddata = {};\r\n    return Object.assign(griddata, newData || {})\r\n};\r\n\r\nexport function getOffsetLeft( elem )\r\n{\r\n    let offsetLeft = 0;\r\n    do {\r\n        let elemOffsetLeft = elem.offsetLeft;\r\n        if ( !isNaN( elemOffsetLeft ) )\r\n        {\r\n            offsetLeft += elemOffsetLeft;\r\n        }\r\n    } while( elem = elem.offsetParent );\r\n    return offsetLeft;\r\n}\r\n\r\nexport function getOffsetTop( elem )\r\n{\r\n    let offsetTop = 0;\r\n    do {\r\n        let elemOffsetTop = elem.offsetTop;\r\n        if ( !isNaN( elemOffsetTop ) )\r\n        {\r\n            offsetTop += elemOffsetTop;\r\n        }\r\n    } while( elem = elem.offsetParent );\r\n    return offsetTop;\r\n}\r\n\r\n\r\nexport function JSToCSS(JS){\r\n    let cssString = \"\";\r\n    for (let objectKey in JS) {\r\n        cssString += objectKey.replace(/([A-Z])/g, (g) => `-${g[0].toLowerCase()}`) + \": \" + JS[objectKey] + \"; \";\r\n    }\r\n    return cssString;\r\n};\r\n\r\nexport function updateStyle(styleNode, style, styleName){\r\n    let css = `\r\n            .${styleName} {${\r\n        JSToCSS(style)\r\n        }}\r\n            `;\r\n\r\n    styleNode.innerHTML = \"\";\r\n    if (styleNode.styleSheet) { // IE\r\n        styleNode.styleSheet.cssText = css;\r\n    } else {\r\n        styleNode.appendChild(document.createTextNode(css));\r\n    }\r\n};\r\n\r\nexport function appendStyle(style, styleId, styleName){\r\n    let css = `\r\n            .${styleName} {${\r\n        JSToCSS(style)\r\n        }}\r\n            `;\r\n    let styleNode = document.createElement('style');\r\n    styleNode.setAttribute(\"id\", styleId);\r\n    // styleNode.setAttribute(\"title\", styleId);\r\n\r\n    styleNode.type = 'text/css';\r\n\r\n    if (styleNode.styleSheet) { // IE\r\n        styleNode.styleSheet.cssText = css;\r\n    } else {\r\n        styleNode.appendChild(document.createTextNode(css));\r\n    }\r\n\r\n    document.getElementsByTagName('head')[0].appendChild(styleNode);\r\n};\r\n\r\nexport function addCSS(cssText, cssId, doc){\r\n    let styleNode = (doc || document).getElementById(cssId);\r\n\r\n    if (!styleNode) {\r\n        styleNode = (doc || document).createElement('style');\r\n        styleNode.setAttribute(\"id\", cssId);\r\n        styleNode.type = 'text/css';\r\n    } else {\r\n        styleNode.innerHTML = \"\";\r\n    }\r\n\r\n    if (styleNode.styleSheet) { // IE\r\n        styleNode.styleSheet.cssText = cssText;\r\n    } else {\r\n        styleNode.appendChild((doc || document).createTextNode(cssText));\r\n    }\r\n\r\n    (doc || document).getElementsByTagName('head')[0].appendChild(styleNode);\r\n};\r\n\r\n/*export function appendStyle(style, styleId, styleName){\r\n    return StyleSheet.create({\r\n        [styleId]: style\r\n    })[styleId];\r\n};\r\n\r\nexport function updateStyle(styleNode, style, styleName){\r\n    return StyleSheet.create({\r\n        [styleName]: style\r\n    });\r\n};*/\r\n\r\nexport function getScrollParent(node) {\r\n    if (node == null) {\r\n        return null;\r\n    }\r\n\r\n    if (node.scrollHeight > node.clientHeight) {\r\n        return node;\r\n    } else {\r\n        return getScrollParent(node.parentNode);\r\n    }\r\n}\r\n\r\nexport function swapArrayElements(arr, indexA, indexB) {\r\n    let temp = arr[indexA];\r\n    arr[indexA] = arr[indexB];\r\n    arr[indexB] = temp;\r\n}\r\n\r\nexport {CalculateLayout, cloneObject, getPxFromPercent, shallowEqual\r\n        ,throttleDebounce, setChildSize, fixGriddata, setChildPosition\r\n        ,getDefaultChildgriddata, initGriddata, getOverFlow, getScrollbarWidth, getDummy}\r\n","import {cloneObject, throttleDebounce} from \"./AwesomeGridLayoutUtils\";\r\nimport merge from \"lodash.merge\";\r\n\r\nexport default class BreakPointManager {\r\n    constructor(breakpoints, editor, onBreakpointChange, onZoomLevelChange, onHeightChange, onResize) {\r\n        if (!breakpoints)\r\n            breakpoints = BreakPointManager.getDefault();\r\n\r\n        this.fixBreakpointRules(breakpoints);\r\n\r\n        // TODO test\r\n\r\n        this.breakpoints = breakpoints;\r\n        this.editor = editor;\r\n        this.windowInnerWidth = window.innerWidth;\r\n        this.lastWidth = window.innerWidth;\r\n        this.onBreakpointChange = onBreakpointChange || (() => {});\r\n        this.onZoomLevelChange = onZoomLevelChange || (() => {});\r\n        this.onHeightChange = onHeightChange || (() => {});\r\n\r\n        window.addEventListener(\"resize\", onResize);\r\n        if (onBreakpointChange)\r\n            window.addEventListener(\"resize\", this.onWindowResize);\r\n        if (onZoomLevelChange)\r\n            window.addEventListener(\"resize\", this.onDevicePixelRatioChange);\r\n        if (onHeightChange)\r\n            window.addEventListener(\"resize\", this.onHeightResize);\r\n    }\r\n\r\n    fixBreakpointRules = (breakpoints) => {\r\n        breakpoints.forEach(bpData => {\r\n            if (!bpData.end)\r\n                bpData.end = 99999;\r\n        });\r\n    }\r\n\r\n    updateBreakpoint = (name, start, end) => {\r\n        let bp = this.breakpoints.find(b => b.name === name);\r\n        if (bp) {\r\n            bp.end = end;\r\n            let upperBP = this.getUpperBreakPoint(name);\r\n            if (upperBP) this.getUpperBreakPoint(name).start = end + 1;\r\n            return;\r\n        }\r\n\r\n        start++;\r\n        bp = {name, start, end};\r\n        let prevBp;\r\n\r\n        let sortedBreakPoints = this.getSortedBreakPoints();\r\n        for(let i = 0; i < sortedBreakPoints.length; i++) {\r\n            if (bp.start === sortedBreakPoints[i].start + 1) {\r\n                bp.start++;\r\n            }\r\n            if (bp.start >= sortedBreakPoints[i].start) {\r\n                bp.end = sortedBreakPoints[i].end;\r\n                sortedBreakPoints[i].end = bp.start - 1;\r\n                prevBp = sortedBreakPoints[i];\r\n                break;\r\n            }\r\n        }\r\n\r\n        this.breakpoints.push(bp);\r\n\r\n        return {newBpData: bp, prevBpData: prevBp};\r\n    };\r\n\r\n    deleteBreakpoint = (name) => {\r\n        let sortedBreakPoints = this.getSortedBreakPoints();\r\n        for(let i = 0; i < sortedBreakPoints.length; i++) {\r\n            if (name === sortedBreakPoints[i].name) {\r\n                let upper = sortedBreakPoints[i - 1];\r\n                upper.start = sortedBreakPoints[i].start;\r\n                break;\r\n            }\r\n        }\r\n\r\n        let index = this.breakpoints.findIndex(bp => {\r\n            return bp.name === name;\r\n        });\r\n\r\n        this.breakpoints.splice(index, 1);\r\n    };\r\n\r\n    fromClone = (clone) => {\r\n        this.breakpoints = clone.breakpoints;\r\n        this.windowInnerWidth = clone.windowInnerWidth;\r\n        this.lastWidth = clone.lastWidth;\r\n        this.editor = clone.editorData;\r\n\r\n        return this;\r\n    };\r\n\r\n    copyDesign = (designDatas, sourceItem) => {\r\n        this.cloneDesignDatas = {\r\n            designDatas: cloneObject(designDatas),\r\n            sourceItem\r\n        };\r\n    };\r\n\r\n    getCopyDesign = () => {\r\n        return this.cloneDesignDatas;\r\n    };\r\n\r\n    pasteDesign = (item) => {\r\n        if (!this.getCopyDesign())\r\n            return;\r\n\r\n        this.getCopyDesign().designDatas.forEach((designData, index) => {\r\n            let design = designData.design;\r\n            if (!designData.justOneBp) {\r\n                let bpName = designData.bpName;\r\n                if (!item.props.griddata.bpData[bpName])\r\n                    item.props.griddata.bpData[bpName] = {};\r\n                item.props.griddata.bpData[bpName].design = cloneObject(design);\r\n            } else {\r\n                let currentBpName = item.props.breakpointmanager.current();\r\n                if (!item.props.griddata.bpData[currentBpName])\r\n                    item.props.griddata.bpData[currentBpName] = {};\r\n                item.props.griddata.bpData[currentBpName].design = cloneObject(design);\r\n            }\r\n        });\r\n    };\r\n\r\n    getWindowWidth = () => {\r\n        return this.lastWidth\r\n    };\r\n\r\n    getWindowHeight = () => {\r\n        return this.editor.rootLayoutRef.current.getSize(false).height;\r\n        // return window.innerHeight * 0.8;\r\n    };\r\n\r\n    setWindowWidth = (width) => {\r\n        this.lastWidth = width;\r\n    };\r\n\r\n    getBpData = (bpName) => {\r\n        return this.breakpoints.find(bp => {\r\n            return bp.name === bpName;\r\n        });\r\n    };\r\n\r\n    dispose() {\r\n        window.removeEventListener(\"resize\", this.onWindowResize);\r\n    }\r\n\r\n    getDevicePixelRatio = () => {\r\n        return window.devicePixelRatio;\r\n    };\r\n\r\n    onDevicePixelRatioChange = () => {\r\n        let changed = this.devicePixelRatio !== window.devicePixelRatio;\r\n\r\n        this.devicePixelRatio = window.devicePixelRatio;\r\n\r\n        if (changed) {\r\n            this.onZoomLevelChange(this.getDevicePixelRatio());\r\n        }\r\n    };\r\n\r\n    onHeightResize = throttleDebounce((e) => {\r\n        if (this.lastHeight !== window.innerHeight) {\r\n            this.lastHeight = window.innerHeight;\r\n            this.onHeightChange(e);\r\n        }\r\n    }, 100);\r\n\r\n    onWindowResize = throttleDebounce(() => {\r\n        let newWidth = window.innerWidth -\r\n            this.editor.context.inspectorPinned ? this.editor.context.inspectorWidth : 0;\r\n\r\n        let result = this.checkBreakPointChange(newWidth);\r\n\r\n        this.setWindowWidth(newWidth);\r\n\r\n        if (result.changed) {\r\n            this.onBreakpointChange(newWidth, result.currentBreakpointName, this.getDevicePixelRatio());\r\n        }\r\n    }, 100);\r\n\r\n    checkBreakPointChange = (newWidth) => {\r\n        let lastBreakpointName = this.current(this.getWindowWidth());\r\n        let currentBreakpointName = this.current(newWidth);\r\n\r\n        return {\r\n            changed: (lastBreakpointName !== currentBreakpointName),\r\n            currentBreakpointName\r\n        }\r\n    };\r\n\r\n    current = (size) => {\r\n        if (!size)\r\n            size = this.getWindowWidth();\r\n        let sortedBreakPoints = this.getSortedBreakPoints();\r\n        for(let i = 0; i < sortedBreakPoints.length; i++) {\r\n            if (this.getSize(size) >= sortedBreakPoints[i].start)\r\n                return sortedBreakPoints[i].name;\r\n        }\r\n\r\n        return sortedBreakPoints[sortedBreakPoints.length - 1].name;\r\n    };\r\n\r\n    currentBpData = (size) => {\r\n        if (!size)\r\n            size = this.getWindowWidth();\r\n        let sortedBreakPoints = this.getSortedBreakPoints();\r\n        for(let i = 0; i < sortedBreakPoints.length; i++) {\r\n            if (this.getSize(size) >= sortedBreakPoints[i].start)\r\n                return sortedBreakPoints[i];\r\n        }\r\n\r\n        return sortedBreakPoints[sortedBreakPoints.length - 1];\r\n    };\r\n\r\n    getUpperBreakPoint = (bpName) => {\r\n        let sortedBreakPoints = this.getSortedBreakPoints();\r\n        for(let i = 0; i < sortedBreakPoints.length; i++) {\r\n            if (bpName === sortedBreakPoints[i].name)\r\n                return sortedBreakPoints[i - 1] && sortedBreakPoints[i - 1];\r\n        }\r\n    };\r\n\r\n    setData = (dataSet, param, value, breakpointName) => {\r\n        let params = param.split('.');\r\n        let name = breakpointName ||\r\n            this.current(this.getSize());\r\n        if (!dataSet.bpData[name]) {\r\n            dataSet.bpData[name] = {};\r\n        }\r\n        if (params.length === 1) {\r\n            if (value !== undefined)\r\n                dataSet.bpData[name][params[0]] = value;\r\n            else\r\n                delete dataSet.bpData[name][params[0]];\r\n        } else {\r\n            if (dataSet.bpData[name][params[0]] === undefined)\r\n                dataSet.bpData[name][params[0]] = {};\r\n            let override = dataSet.bpData[name][params[0]];\r\n            for(let i = 1; i < params.length; i++) {\r\n                if (i === params.length - 1) { // Last index\r\n                    if (value !== undefined)\r\n                        override[params[i]] = value;\r\n                    else\r\n                        delete override[params[i]];\r\n                }\r\n                else\r\n                {\r\n                    if (override[params[i]] === undefined)\r\n                        override[params[i]] = {};\r\n                    override = override[params[i]];\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    getFromData = (dataSet, param, breakpointName) => {\r\n        let params = param.split('.');\r\n        let firstParamResult;\r\n        let currentBreakpointName = breakpointName ||\r\n            this.current(this.getSize());\r\n\r\n        if (dataSet.bpData[currentBreakpointName] &&\r\n            dataSet.bpData[currentBreakpointName][params[0]] !== undefined)\r\n            firstParamResult =\r\n                dataSet.bpData[currentBreakpointName][params[0]];\r\n        else {\r\n            firstParamResult = this.findFirstUpperBreakPointParam(dataSet, params[0]\r\n                , this.getSize());\r\n        }\r\n\r\n        if (firstParamResult === undefined)\r\n            return;\r\n\r\n        if (params.length === 1)\r\n            return firstParamResult;\r\n\r\n        params.slice(1).forEach(p => {\r\n            if (firstParamResult)\r\n                firstParamResult = firstParamResult[p];\r\n        });\r\n\r\n        return firstParamResult;\r\n    };\r\n\r\n    getHighestBpName = () => {\r\n        let sortedBreakPoints = this.getSortedBreakPoints();\r\n        return sortedBreakPoints[0].name;\r\n    };\r\n\r\n    getCompositeFromData = (dataSet, param) => {\r\n        let params = param.split('.');\r\n        let results = [];\r\n\r\n        let sortedBreakPoints = this.getSortedBreakPoints(this.getWindowWidth());\r\n        for(let i = sortedBreakPoints.length - 1; i >= 0; i--) {\r\n            let checkBreakpointName = sortedBreakPoints[i].name;\r\n\r\n            let firstParamResult;\r\n            if (dataSet.bpData[checkBreakpointName] &&\r\n                dataSet.bpData[checkBreakpointName][params[0]] !== undefined)\r\n                firstParamResult = dataSet.bpData[checkBreakpointName][params[0]];\r\n\r\n            if (firstParamResult === undefined)\r\n                continue;\r\n\r\n            if (params.length === 1) {\r\n                results.push(firstParamResult);\r\n            } else {\r\n                params.slice(1).forEach(p => {\r\n                    if (firstParamResult)\r\n                        firstParamResult = firstParamResult[p];\r\n                });\r\n\r\n                results.push(firstParamResult);\r\n            }\r\n        }\r\n\r\n        if (!(results[0] instanceof Object))\r\n            return results[0];\r\n\r\n        let composite = {};\r\n        for (let i = results.length - 1; i >= 0; i--) {\r\n            composite = merge(composite, results[i]);\r\n        }\r\n\r\n        return composite;\r\n    };\r\n\r\n    hasDataInBreakPoint = (dataSet, param, breakpointName) => {\r\n        let params = param.split('.');\r\n        let firstParamResult;\r\n        let currentBreakpointName = breakpointName ||\r\n            this.current(this.getSize());\r\n\r\n        if (dataSet.bpData[currentBreakpointName] &&\r\n            dataSet.bpData[currentBreakpointName][params[0]] !== undefined)\r\n            firstParamResult =\r\n                dataSet.bpData[currentBreakpointName][params[0]];\r\n\r\n        if (firstParamResult === undefined)\r\n            return;\r\n\r\n        if (params.length === 1)\r\n            return firstParamResult;\r\n\r\n        params.slice(1).forEach(p => {\r\n            if (firstParamResult)\r\n                firstParamResult = firstParamResult[p];\r\n        });\r\n\r\n        return firstParamResult;\r\n    };\r\n\r\n    findFirstUpperBreakPointParam = (dataSet, param, size) => {\r\n        let sortedBreakPoints = this.getSortedBreakPoints();\r\n        for(let i = sortedBreakPoints.length - 1; i >= 0; i--) {\r\n            if (this.getSize(size) <= sortedBreakPoints[i].end) {\r\n                if (dataSet.bpData[sortedBreakPoints[i].name] &&\r\n                    dataSet.bpData[sortedBreakPoints[i].name][param] !== undefined)\r\n                    return dataSet.bpData[sortedBreakPoints[i].name][param];\r\n            }\r\n        }\r\n    };\r\n\r\n    findFirstUpperBreakPointName = (dataSet, param, size) => {\r\n        let sortedBreakPoints = this.getSortedBreakPoints();\r\n        for(let i = sortedBreakPoints.length - 1; i >= 0; i--) {\r\n            if (this.getSize(size) <= sortedBreakPoints[i].end) {\r\n                if (dataSet.bpData[sortedBreakPoints[i].name]/* && dataSet[sortedBreakPoints[i].name][param] !== undefined*/)\r\n                    return sortedBreakPoints[i].name;\r\n            }\r\n        }\r\n    };\r\n\r\n    getMinWidth = () => {\r\n        let sortedBreakPoints = this.getSortedBreakPoints();\r\n        return sortedBreakPoints[sortedBreakPoints.length - 1].start;\r\n    };\r\n\r\n    getSortedBreakPoints = (minSize) => {\r\n        let breakpoints = this.breakpoints;\r\n        if (minSize) {\r\n            breakpoints = this.breakpoints.filter(bp => {\r\n                return bp.end >= minSize;\r\n            });\r\n        }\r\n        // console.log(\"breakpoints.length\", breakpoints.length, minSize)\r\n        return breakpoints.sort((a,b) => {\r\n            if (a.start > b.start) {\r\n                return -1;\r\n            } else if (a.start === b.start) {\r\n                // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                return 0;\r\n            }\r\n            return 1;\r\n        });\r\n    };\r\n\r\n    exist = (name) => {\r\n        return this.breakpoints.find(b => {\r\n            return b.name === name;\r\n        });\r\n    };\r\n\r\n    static getDefault = () => {\r\n        return [\r\n            {\r\n                name: \"laptop\",\r\n                start: 1001,\r\n                end: 99999,\r\n                prefer: 1006\r\n            },\r\n            {\r\n                name: \"tablet\",\r\n                start: 751,\r\n                end: 1000,\r\n                prefer: 768\r\n            },\r\n            {\r\n                name: \"mobile\",\r\n                start: 320,\r\n                end: 750,\r\n                prefer: 360\r\n            },\r\n        ]\r\n    };\r\n\r\n    getSize = (size) => {\r\n        return size || this.getWindowWidth();\r\n    };\r\n};\r\n\r\nexport let setData = (dataSet, param, value, breakPointData, breakpointName) => {\r\n    let breakPointManager = new BreakPointManager().fromClone(breakPointData);\r\n    breakPointManager.setData(dataSet, param, value, breakpointName);\r\n};\r\n\r\nexport let getFromData = (dataSet, param, breakPointData, breakpointName) => {\r\n    let breakPointManager = new BreakPointManager().fromClone(breakPointData);\r\n    return breakPointManager.getFromData(dataSet, param, breakpointName);\r\n};\r\n\r\nexport let getCompositeFromData = (dataSet, param, breakPointData) => {\r\n    let breakPointManager = new BreakPointManager().fromClone(breakPointData);\r\n    return breakPointManager.getCompositeFromData(dataSet, param);\r\n};\r\n\r\nexport let getSortedBreakPoints = (breakPointData) => {\r\n    let breakPointManager = new BreakPointManager(breakPointData.breakpoints, breakPointData.windowInnerWidth);\r\n    return breakPointManager.getSortedBreakPoints();\r\n};\r\n\r\nexport let exist = (name, breakPointData) => {\r\n    let breakPointManager = new BreakPointManager(breakPointData.breakpoints, breakPointData.windowInnerWidth);\r\n    return breakPointManager.exist(name);\r\n};\r\n","export function getTextStyle (textTheme, textStaticData, textDesignData) {\r\n    return {\r\n        fontFamily: textDesignData.fontFamily || \"Arial\",\r\n        textAlign: `${textDesignData.textAlign || 'left'}`,\r\n        fontSize: `${textDesignData.fontSize || textTheme.fontSize || 22}px`,\r\n        fontWeight: `${textDesignData.fontWeight || textTheme.fontWeight || 'normal'}`,\r\n        fontStyle: `${textDesignData.fontStyle || textTheme.fontStyle || 'normal'}`,\r\n        fontDecoration: textDesignData.fontDecoration || textTheme.fontDecoration,\r\n        color: textDesignData.color || textTheme.color || '#181818',\r\n        backgroundColor: textDesignData.backgroundColor || textTheme.backgroundColor,\r\n        lineHeight: textDesignData.lineHeight || textTheme.lineHeight || 'normal',\r\n        letterSpacing: textDesignData.letterSpacing || textTheme.letterSpacing || 'normal'\r\n    }\r\n}\r\n\r\nexport function getFontDataByFamily (allFonts, fontFamily) {\r\n    console.log(\"getFontDataByFamily\", fontFamily)\r\n    let fontData = Object.values(allFonts).find(fontData => {\r\n        return fontFamily === fontData.fontFamily;\r\n    })\r\n\r\n    if (fontData)\r\n        return fontData;\r\n\r\n    return Object.values(allFonts).find(fontData => {\r\n        return \"Arial\" === fontData.name;\r\n    })\r\n}\r\n\r\nexport function getFontDataByName (allFonts, name) {\r\n    let fontData = Object.values(allFonts).find(fontData => {\r\n        return name === fontData.name;\r\n    })\r\n\r\n    if (fontData)\r\n        return fontData;\r\n\r\n    return Object.values(allFonts).find(fontData => {\r\n        return \"Arial\" === fontData.name;\r\n    })\r\n}\r\n\r\nexport function getInheritTextStyle () {\r\n    return {\r\n        fontFamily: \"inherit\",\r\n        textAlign: \"inherit\",\r\n        fontSize: \"inherit\",\r\n        fontWeight: \"inherit\",\r\n        fontStyle: \"inherit\",\r\n        fontDecoration: \"inherit\",\r\n        color: \"inherit\",\r\n        backgroundColor: \"inherit\",\r\n        lineHeight: \"inherit\",\r\n        letterSpacing: \"inherit\",\r\n    }\r\n}\r\n\r\nexport function applyProperty (doc, win, propertyName, value, tagName = 'span') {\r\n    let html = getSelectionHtmlRemoveProperty(doc, win, propertyName);\r\n    if (html && !html.includes('<')) {\r\n        let sel = doc.getSelection();\r\n        let range = sel.getRangeAt(0);\r\n        range.deleteContents();\r\n        var span = doc.createElement(tagName);\r\n        span.setAttribute(\"style\", `${propertyName}: ${value}; display: inline`);\r\n        span.innerText = html;\r\n        range.insertNode(span);\r\n        sel.addRange(range);\r\n    }\r\n    else if (html) {\r\n        doc.execCommand(\r\n            'insertHTML', false, `<${tagName} style=\"${propertyName}: ${value}\">${html}</${tagName}>`);\r\n    }\r\n}\r\n\r\nexport function getSelectionHtmlRemoveProperty (doc, win, propertyName, tagName = 'span') {\r\n    let range;\r\n    if (doc.selection && doc.selection.createRange) {\r\n        range = doc.selection.createRange();\r\n        return range.htmlText;\r\n    }\r\n    else if (win.getSelection) {\r\n        let selection = win.getSelection();\r\n        if (selection.rangeCount > 0) {\r\n            range = selection.getRangeAt(0);\r\n            let clonedSelection = range.cloneContents();\r\n            let div = doc.createElement(tagName);\r\n            div.appendChild(clonedSelection);\r\n            let nodes = div.getElementsByTagName(\"*\");\r\n            for (let node of nodes) {\r\n                if (node.style && node.style.removeProperty)\r\n                    node.style.removeProperty(propertyName);\r\n            }\r\n            return div.innerHTML;\r\n        }\r\n        else {\r\n            return '';\r\n        }\r\n    }\r\n    else {\r\n        return '';\r\n    }\r\n}\r\n\r\nexport function getSelectionText (doc, win, tagName = 'span') {\r\n    let range;\r\n    if (doc.selection && doc.selection.createRange) {\r\n        range = doc.selection.createRange();\r\n        return range.htmlText;\r\n    }\r\n    else if (win.getSelection) {\r\n        let selection = win.getSelection();\r\n        if (selection.rangeCount > 0) {\r\n            range = selection.getRangeAt(0);\r\n            let clonedSelection = range.cloneContents();\r\n            let div = doc.createElement(tagName);\r\n            div.appendChild(clonedSelection);\r\n            return div.innerText;\r\n        }\r\n        else {\r\n            return '';\r\n        }\r\n    }\r\n    else {\r\n        return '';\r\n    }\r\n}\r\n\r\nfunction nextNode(node) {\r\n    if (node.hasChildNodes()) {\r\n        return node.firstChild;\r\n    } else {\r\n        while (node && !node.nextSibling) {\r\n            node = node.parentNode;\r\n        }\r\n        if (!node) {\r\n            return null;\r\n        }\r\n        return node.nextSibling;\r\n    }\r\n}\r\n\r\nexport function getRangeSelectedNodes(range) {\r\n    var node = range.startContainer;\r\n    var endNode = range.endContainer;\r\n\r\n    // Special case for a range that is contained within a single node\r\n    if (node == endNode) {\r\n        return [node];\r\n    }\r\n\r\n    // Iterate nodes until we hit the end container\r\n    var rangeNodes = [];\r\n    while (node && node != endNode) {\r\n        rangeNodes.push( node = nextNode(node) );\r\n    }\r\n\r\n    // Add partially selected nodes at the start of the range\r\n    node = range.startContainer;\r\n    while (node && node != range.commonAncestorContainer) {\r\n        rangeNodes.unshift(node);\r\n        node = node.parentNode;\r\n    }\r\n\r\n    return rangeNodes;\r\n}\r\n\r\nexport function getParentLine(range) {\r\n    var node = range.startContainer;\r\n    let found = false;\r\n    let parentLine;\r\n    while (!found) {\r\n        let newParantLine = (parentLine || node).parentNode;\r\n        if (!newParantLine) {\r\n            parentLine = undefined;\r\n            break;\r\n        }\r\n\r\n        if (newParantLine.id === \"editableDiv\") {\r\n            found = true;\r\n            break;\r\n        } else {\r\n            parentLine = newParantLine;\r\n        }\r\n    }\r\n\r\n    return parentLine;\r\n}\r\n\r\nexport function getRandomColor() {\r\n    var letters = '0123456789ABCDEF';\r\n    var color = '#';\r\n    for (var i = 0; i < 6; i++) {\r\n        color += letters[Math.floor(Math.random() * 16)];\r\n    }\r\n    return color;\r\n}\r\n\r\nexport function getRandomLinkId(lenght) {\r\n    var letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    var id = '';\r\n    for (var i = 0; i < lenght; i++) {\r\n        id += letters[Math.floor(Math.random() * letters.length)];\r\n    }\r\n    return id;\r\n}\r\n\r\nexport function getLineSelected(selection) {\r\n    let range = selection.getRangeAt(0);\r\n    let nodes = getRangeSelectedNodes(range);\r\n\r\n    let lineNodes = [];\r\n\r\n    nodes.forEach(node => {\r\n        let found = false;\r\n        let parentLine = node;\r\n        while (!found) {\r\n            let newParantLine = parentLine.parentNode;\r\n            if (!newParantLine) {\r\n                parentLine = undefined;\r\n                break;\r\n            }\r\n\r\n            if (newParantLine.id === \"editableDiv\") {\r\n                found = true;\r\n                break;\r\n            } else {\r\n                parentLine = newParantLine;\r\n            }\r\n        }\r\n\r\n        if (parentLine && !lineNodes.includes(parentLine))\r\n            lineNodes.push(parentLine);\r\n    })\r\n\r\n    return lineNodes;\r\n}\r\n","import {getRandomLinkId} from \"../Components/Text/TextHelper\";\r\nimport {cloneObject} from \"../AwesomeGridLayoutUtils\";\r\n\r\nexport function resolveDefaultMenu (siteData) {\r\n    if (!siteData.menus)\r\n        siteData.menus = [];\r\n\r\n    let defaultMenu = siteData.menus.find(m => m.isDefault === true);\r\n\r\n    if (!defaultMenu) {\r\n        defaultMenu = {\r\n            isDefault: true,\r\n            name: \"Default Menu\",\r\n            id: \"default\",\r\n            isMenu: true,\r\n            menuItems: Object.values(siteData.allPages).map((page, index) => {\r\n                return {\r\n                    name: page.props.pageName,\r\n                    id: page.props.pageId,\r\n                    order: index,\r\n                    linkData: {\r\n                        type: \"Page\",\r\n                        data: {\r\n                            window: \"current\",\r\n                            pageId: page.props.pageId,\r\n                            inputs: []\r\n                        }\r\n                    },\r\n                    isParent: false,\r\n                    menuItems: undefined // this is for parent menu items\r\n                }\r\n            })\r\n        };\r\n\r\n        siteData.menus.push(defaultMenu);\r\n    }\r\n\r\n    Object.values(siteData.allPages).forEach((page, index) => {\r\n        let pageMenuItem = defaultMenu.menuItems.find(mi => {\r\n            return mi.id === page.props.pageId;\r\n        });\r\n\r\n        if (!pageMenuItem) {\r\n            defaultMenu.menuItems.push({\r\n                name: page.props.pageName,\r\n                id: page.props.pageId,\r\n                order: index,\r\n                linkData: {\r\n                    type: \"Page\",\r\n                    data: {\r\n                        window: \"current\",\r\n                        pageId: page.props.pageId,\r\n                        inputs: []\r\n                    }\r\n                },\r\n                isParent: false,\r\n                menuItems: undefined // this is for parent menu items\r\n            });\r\n        } else if (pageMenuItem.name !== page.props.pageName) {\r\n            pageMenuItem.name = page.props.pageName;\r\n        }\r\n    })\r\n\r\n    let deletePageMenuItem = [];\r\n    defaultMenu.menuItems.forEach((pageMenuItem, index) => {\r\n        if (!pageMenuItem.linkData || pageMenuItem.linkData.type !== \"Page\")\r\n            return;\r\n\r\n        let page = Object.values(siteData.allPages).find(p => {\r\n            return p.props.pageId === pageMenuItem.linkData.data.pageId;\r\n        });\r\n\r\n        if (!page) {\r\n            // Deleted Page\r\n            deletePageMenuItem.push(pageMenuItem);\r\n            // pageMenuItem.linkData.type = \"None\";\r\n            // delete pageMenuItem.linkData.data;\r\n        }\r\n    });\r\n    deletePageMenuItem.forEach(item => {\r\n        let index = defaultMenu.menuItems.find(p => {\r\n            return p === item;\r\n        });\r\n\r\n        defaultMenu.menuItems.splice(index, 1);\r\n    })\r\n\r\n    siteData.menus.forEach(menu => {\r\n        menu.menuItems.forEach((pageMenuItem, index) => {\r\n            if (!pageMenuItem.linkData || pageMenuItem.linkData.type !== \"Page\")\r\n                return;\r\n\r\n            let page = Object.values(siteData.allPages).find(p => {\r\n                return p.props.pageId === pageMenuItem.linkData.data.pageId;\r\n            });\r\n\r\n            if (!page) {\r\n                // Deleted Page\r\n                pageMenuItem.linkData.type = \"None\";\r\n                delete pageMenuItem.linkData.data;\r\n            }\r\n        });\r\n    })\r\n}\r\n\r\nexport function getMenuById (siteData, id) {\r\n    return siteData.menus.find(m => m.id === id);\r\n}\r\n\r\nexport function addNewMenu (siteData, menuName, copyFromId) {\r\n    let newMenu;\r\n    let id = getRandomLinkId(6);\r\n    let homePage = getHomePage(siteData);\r\n    if (!copyFromId) {\r\n        newMenu = {\r\n            name: menuName,\r\n            id,\r\n            isMenu: true,\r\n            menuItems: [{\r\n                name: homePage.props.pageName,\r\n                id: homePage.props.pageId,\r\n                order: 0,\r\n                linkData: {\r\n                    type: \"Page\",\r\n                    data: {\r\n                        window: \"current\",\r\n                        pageId: homePage.props.pageId,\r\n                        inputs: []\r\n                    }\r\n                },\r\n                isParent: false,\r\n                menuItems: undefined // this is for parent menu items\r\n            }]\r\n        }\r\n    }\r\n    else {\r\n        let copyFromMenu = siteData.menus.find(m => m.id === copyFromId);\r\n        newMenu = cloneObject(copyFromMenu);\r\n        newMenu.id = id;\r\n        newMenu.name = menuName;\r\n        newMenu.isDefault = false;\r\n    }\r\n\r\n    siteData.menus.push(newMenu);\r\n\r\n    return newMenu;\r\n}\r\n\r\nexport function addNewMenuItem (menu, menuItemName, isParent) {\r\n    let id = getRandomLinkId(6);\r\n    let newMenuItem = {\r\n        name: menuItemName,\r\n        id,\r\n        order: menu.menuItems.length,\r\n        linkData: undefined,\r\n        isParent,\r\n        menuItems: undefined // this is for parent menu items\r\n    };\r\n    menu.menuItems.push(newMenuItem);\r\n\r\n    return newMenuItem;\r\n}\r\n\r\nexport function deleteMenu (siteData, menuId) {\r\n    let menuIndex = siteData.menus.findIndex(m => {\r\n        return m.id === menuId;\r\n    });\r\n\r\n    siteData.menus.splice(menuIndex, 1);\r\n}\r\n\r\nexport function deleteMenuItem (menu, menuItemId) {\r\n    let deleteItemById = (parent, id) => {\r\n        if (!parent.menuItems)\r\n            return;\r\n\r\n        let index = parent.menuItems.findIndex(mi => {\r\n            return mi.id === id;\r\n        });\r\n\r\n        if (index >= 0) {\r\n            parent.menuItems.splice(index, 1);\r\n            return;\r\n        }\r\n\r\n        parent.menuItems.forEach(mi => {\r\n            deleteItemById(mi, id);\r\n        });\r\n    };\r\n    deleteItemById(menu, menuItemId);\r\n}\r\n\r\nexport function toggleMenuItemAsParent (menuItem, isParent) {\r\n    menuItem.isParent = isParent;\r\n    if (isParent) menuItem.menuItems = [];\r\n}\r\n\r\nexport function setMenuItemLinkData (menuItem, linkData) {\r\n    menuItem.linkData = linkData;\r\n}\r\n\r\nexport function renameMenuItem (menuItem, newName) {\r\n    menuItem.name = newName;\r\n}\r\n\r\nexport function changeMenuItemParent (menu, menuItem, newParentId, order) {\r\n    let newParentMenuItem = getMenuItemById(menu, newParentId);\r\n\r\n    deleteMenuItem(menu, menuItem.id);\r\n\r\n    menuItem.order = newParentMenuItem.menuItems.length;\r\n\r\n    if (order !== undefined)\r\n        newParentMenuItem.menuItems.splice(order, 0, menuItem);\r\n    else\r\n        newParentMenuItem.menuItems.push(menuItem);\r\n}\r\n\r\nexport function moveBackParent (menu, menuItem, currentParentId) {\r\n    let newParentMenuItem = findParent(menu, currentParentId);\r\n\r\n    deleteMenuItem(menu, menuItem.id);\r\n\r\n    menuItem.order = newParentMenuItem.menuItems.length;\r\n\r\n    newParentMenuItem.menuItems.push(menuItem);\r\n}\r\n\r\nexport function reorderMenuItem (menu, menuItem, newIndex) {\r\n    let parentMenuItem = findParent(menu, menuItem.id);\r\n\r\n    deleteMenuItem(menu, menuItem.id);\r\n\r\n    parentMenuItem.menuItems.splice(newIndex, 0 , menuItem);\r\n}\r\n\r\nexport function getIndexInParent (menu, menuItem) {\r\n    let parentMenuItem = findParent(menu, menuItem.id);\r\n\r\n    let index = parentMenuItem.menuItems.findIndex(mi => {\r\n        return mi.id === menuItem.id;\r\n    });\r\n\r\n    return index;\r\n}\r\n\r\nexport function findParent (menu, menuItemId) {\r\n    if (!menu.menuItems)\r\n        return;\r\n\r\n    let menuItem = menu.menuItems.find(mi => mi.id === menuItemId);\r\n\r\n    if (menuItem)\r\n        return menu;\r\n\r\n    let parentMenu;\r\n    menu.menuItems.forEach(mi => {\r\n        let foundParentMenuItem = findParent(mi, menuItemId);\r\n        if (foundParentMenuItem)\r\n            parentMenu = foundParentMenuItem;\r\n    })\r\n\r\n    return parentMenu;\r\n}\r\n\r\nfunction getMenuItemById (menu, id) {\r\n    if (menu.id === id)\r\n        return menu;\r\n\r\n    if (menu.menuItems){\r\n        let menuItem = menu.menuItems.find(mi => {\r\n            return mi.id === id;\r\n        });\r\n\r\n        if (menuItem)\r\n            return menuItem;\r\n\r\n        menu.menuItems.forEach(mi => {\r\n            let foundMenuItem = getMenuItemById(mi, id);\r\n            if (foundMenuItem)\r\n                menuItem = foundMenuItem;\r\n        });\r\n\r\n        return menuItem;\r\n    }\r\n}\r\n\r\nexport function getHomePage (siteData) {\r\n    let homePage = Object.values(siteData.allPages).find(pageData => {\r\n        return pageData.props.isHome;\r\n    });\r\n\r\n    if (!homePage)\r\n        homePage = Object.values(siteData.allPages)[0];\r\n\r\n    return homePage;\r\n}\r\n","import React from 'react';\r\nimport BreakPointManager from \"../BreakPointManager\";\r\nimport chroma from \"chroma-js\";\r\nimport {addCSS} from \"../AwesomeGridLayoutUtils\";\r\nimport {resolveDefaultMenu} from \"../MenuManager/MenuManager\";\r\n\r\nfunction getColorScheme (baseColor) {\r\n    return {\r\n        \"1\": chroma(baseColor).luminance(0.025).css(),\r\n        \"2\": chroma(baseColor).luminance(0.06).css(),\r\n        \"3\": chroma(baseColor).luminance(0.15).css(),\r\n        \"4\": chroma(baseColor).luminance(0.35).css(),\r\n        \"5\": chroma(baseColor).luminance(0.55).css(),\r\n    }\r\n}\r\n\r\nexport const EditorContext = React.createContext({});\r\n\r\nconst colorKeys = [\r\n    \"1\",\"2\",\"3\",\"4\",\"5\",\r\n];\r\n\r\nexport default class EditorContextProvider extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            update: this.update,\r\n            initContext: this.initContext,\r\n            zoomScale: 1,\r\n            editor: undefined,\r\n            setZoomScale: this.setZoomScale,\r\n            siteData: undefined,\r\n            setSiteData: this.setSiteData,\r\n            pageSize: 1006,\r\n            setPageSize: this.setPageSize,\r\n            setPageSizeWidth: this.setPageSizeWidth,\r\n            pageData: undefined,\r\n            setPageData: this.setPageData,\r\n            inspectorPinned: true,\r\n            setInspectorPinned: this.setInspectorPinned,\r\n            inspectorWidth: 260,\r\n            getInnerWith: this.getInnerWidth,\r\n            setInspectorWidth: this.setInspectorWidth,\r\n            devicePixelRatio: window.devicePixelRatio,\r\n            setDevicePixelRatio: this.setDevicePixelRatio,\r\n            allComponentData: undefined,\r\n            setAllComponentData: this.setAllComponentData,\r\n            rightMenus: {\r\n                addComponent: {\r\n                    state: false,\r\n                },\r\n                pageManager: {\r\n                    state: false,\r\n                },\r\n                themeManager: {\r\n                    state: false,\r\n                },\r\n                menuManager: {\r\n                    state: false,\r\n                }\r\n            },\r\n            setRightMenus: this.setRightMenus,\r\n            toggleRightMenu: this.toggleRightMenu,\r\n            onNewBpAdded: this.onNewBpAdded,\r\n            setPreview: this.setPreview,\r\n            sendEditCommand: this.sendEditCommand,\r\n            sendPublishCommand: this.sendPublishCommand,\r\n            setProduction: this.setProduction,\r\n            preview: false,\r\n            production: false,\r\n            getTheme: this.getTheme,\r\n            getColor: this.getColor,\r\n            getThemeColorClass: this.getThemeColorClass,\r\n            getThemeBackColorClass: this.getThemeBackColorClass,\r\n            calculateTheme: this.calculateTheme,\r\n            calculateColorCSS: this.calculateColorCSS,\r\n            showLinkGenerator: this.showLinkGenerator,\r\n            showFileManager: this.showFileManager,\r\n            isEditor: this.isEditor,\r\n            postMessageToHolder: this.postMessageToHolder,\r\n            setWebsiteId: this.setWebsiteId,\r\n            showModal: this.showModal,\r\n            hideModal: this.hideModal,\r\n            setUser: this.setUser\r\n        };\r\n    }\r\n\r\n    setUser = (user, callback) => {\r\n        this.setState({user}, callback);\r\n    }\r\n\r\n    showModal = (modal, callback) => {\r\n        this.state.editor.showModal(modal, callback);\r\n    }\r\n\r\n    hideModal = (callback) => {\r\n        this.state.editor.hideModal(callback);\r\n    }\r\n\r\n    setWebsiteId = (websiteId) => {\r\n        this.setState({websiteId});\r\n    }\r\n\r\n    getThemeColorClass = (color) => {\r\n        if (!color.paletteName || !color.key)\r\n            return '';\r\n\r\n        let name = color.paletteName.replaceAll(' ', '_');\r\n        return `Color_${name}_${color.key}`;\r\n    }\r\n\r\n    getThemeBackColorClass = (color) => {\r\n        if (!color.paletteName || !color.key)\r\n            return '';\r\n\r\n        let name = color.paletteName.replaceAll(' ', '_');\r\n        return `BackColor_${name}_${color.key}`;\r\n    }\r\n\r\n    getTheme = (category, name) => {\r\n        if (name)\r\n            return Object.values(this.state.siteData.theme[category].items).find(t => {\r\n                return t.name === name;\r\n            })\r\n\r\n        return Object.values(this.state.siteData.theme[category].items);\r\n    }\r\n\r\n    getColor = (paletteName, key) => {\r\n        let {siteData} = this.state;\r\n\r\n        let theme = siteData.theme;\r\n\r\n        this.calculateTheme(false);\r\n\r\n        return theme.Colors.items[paletteName][key];\r\n    };\r\n\r\n    calculateTheme = (force = true) => {\r\n        let {siteData} = this.state;\r\n\r\n        let theme = siteData.theme;\r\n\r\n        if (!theme.Colors.calculated) {\r\n            Object.values(theme.Colors.items).forEach(item => {\r\n                let scheme = getColorScheme(item.main);\r\n                colorKeys.forEach(key => {\r\n                    if (force || !item[key])\r\n                        item[key] = scheme[key];\r\n                })\r\n            });\r\n\r\n            theme.Colors.calculated = true;\r\n\r\n            this.calculateColorCSS();\r\n        }\r\n    };\r\n\r\n    calculateColorCSS = (doc) => {\r\n        let {siteData} = this.state;\r\n        let theme = siteData.theme;\r\n        let colorsCSS = [];\r\n        console.log(\"calculateColorCSS\", doc);\r\n        Object.values(theme.Colors.items).forEach(item => {\r\n            colorKeys.forEach(key => {\r\n                let id = this.getThemeColorClass({\r\n                    paletteName: item.name,\r\n                    key: key\r\n                });\r\n                let backColor = this.getThemeBackColorClass({\r\n                    paletteName: item.name,\r\n                    key: key\r\n                });\r\n\r\n                let cssText = `\r\n                    .${id} {\r\n                        color: ${item[key]}\r\n                    }\r\n                    \r\n                    .${backColor} {\r\n                        background-color: ${item[key]}\r\n                    }\r\n                    `;\r\n\r\n                colorsCSS.push({cssText, id});\r\n                addCSS(cssText, id, doc);\r\n            })\r\n        });\r\n    }\r\n\r\n    setProduction = (callback) => {\r\n        this.setState({production:true, preview:true}, callback);\r\n    }\r\n\r\n    postMessageToHolder = (data, callback) => {\r\n        this.state.editor.postMessage(data, callback);\r\n    }\r\n\r\n    sendEditCommand = (callback) => {\r\n        this.state.editor.postMessage({\r\n            type: \"Holder\",\r\n            func: \"onEditMode\",\r\n            inputs: []\r\n        });\r\n        this.setPreview(false, callback);\r\n    }\r\n\r\n    sendPublishCommand = () => {\r\n        this.sendEditCommand(() => {\r\n            this.state.editor.postMessage({\r\n                type: \"Holder\",\r\n                func: \"onPublishClick\",\r\n                inputs: []\r\n            });\r\n        });\r\n    }\r\n\r\n    isEditor = () => {\r\n        return !this.state.preview && !this.state.production;\r\n    }\r\n\r\n    setPreview = (preview, callback) => {\r\n        let pageData = this.state.pageData;\r\n        this.setPageData(undefined, false, () => {\r\n            this.state.editor.idMan.clear();\r\n            this.state.editor.snap.clearSnaps();\r\n            this.setState({preview}, () => {\r\n                this.setPageData(pageData.props.pageId, false, callback);\r\n            });\r\n        });\r\n    }\r\n\r\n    update = (callback) => {\r\n        this.setState({reload: true}, callback);\r\n    };\r\n\r\n    initContext = (state, callback) => {\r\n        this.setState(state, callback);\r\n    };\r\n\r\n    getInnerWidth = () => {\r\n        return window.innerWidth - this.state.inspectorPinned ? this.state.inspectorWidth : 0;\r\n    };\r\n\r\n    setZoomScale = (zoomScale, callback) => {\r\n        this.setState({zoomScale}, callback);\r\n    };\r\n\r\n    setSiteData = (siteData, callback) => {\r\n        console.log(\"setSiteData\", siteData)\r\n        this.setState({siteData}, () => {\r\n            this.postSiteData();\r\n            resolveDefaultMenu(siteData);\r\n            callback && callback();\r\n        });\r\n    };\r\n\r\n    postSiteData = () => {\r\n        this.calculateColorCSS();\r\n    }\r\n\r\n    setPageData = (pageId, force, callback) => {\r\n        if (this.state.pageData && !force && this.state.pageData.props.pageId === pageId) {\r\n            return;\r\n        }\r\n\r\n        if (!pageId) {\r\n            this.setState({pageData: undefined}, callback);\r\n            return;\r\n        }\r\n\r\n        if (!this.state.pageData) {\r\n            let pageData = this.state.siteData.allPages[pageId];\r\n\r\n            if (!pageData.breakpoints) {\r\n                pageData.breakpoints = BreakPointManager.getDefault();\r\n            }\r\n\r\n            this.state.editor.setBreakpoints(pageData.breakpoints);\r\n            this.setState({pageData}, callback);\r\n            return;\r\n        }\r\n\r\n        if (!this.state.preview) {\r\n            this.state.editor.rootLayoutRef.current.onSelect(true, () => {\r\n                this.state.editor.idMan.clear();\r\n                this.state.editor.snap.clearSnaps();\r\n\r\n                this.state.setPageData(undefined, false , () => {\r\n                    let pageData = this.state.siteData.allPages[pageId];\r\n\r\n                    if (!pageData.breakpoints) {\r\n                        pageData.breakpoints = BreakPointManager.getDefault();\r\n                    }\r\n\r\n                    this.state.editor.setBreakpoints(pageData.breakpoints);\r\n                    this.setState({pageData}, callback);\r\n                });\r\n            });\r\n        }\r\n        else\r\n        {\r\n            this.state.editor.idMan.clear();\r\n            this.state.editor.snap.clearSnaps();\r\n\r\n            console.log(\"setPageData\", 62)\r\n            this.state.setPageData(undefined, false , () => {\r\n                let pageData = this.state.siteData.allPages[pageId];\r\n\r\n                if (!pageData.breakpoints) {\r\n                    pageData.breakpoints = BreakPointManager.getDefault();\r\n                }\r\n\r\n                console.log(\"setPageData\", 72)\r\n                this.state.editor.setBreakpoints(pageData.breakpoints);\r\n                this.setState({pageData}, callback);\r\n            });\r\n        }\r\n    };\r\n\r\n    onNewBpAdded = (newBpData, prevBpData) => {\r\n        if (!prevBpData){\r\n            this.update();\r\n            return;\r\n        }\r\n\r\n        console.log(\"newBpData\", newBpData.name, prevBpData.name)\r\n\r\n        let changeGriddata = (item, childData) => {\r\n            if (!item || !item.mounted)\r\n                return;\r\n\r\n            let bpData = childData.props.griddata.bpData;\r\n            bpData[newBpData.name] = bpData[prevBpData.name];\r\n            delete bpData[prevBpData.name];\r\n\r\n            Object.keys(item.getFromTempData(\"savedChildren\")).map(childId => {\r\n                let childData = item.getFromTempData(\"savedChildren\")[childId];\r\n                changeGriddata(\r\n                    item.allChildRefs[childId].current,\r\n                    childData\r\n                );\r\n            })\r\n        };\r\n\r\n        let pageChildData = {\r\n            tagName: this.state.editor.rootLayoutRef.current.props.tagName,\r\n            props: this.state.editor.rootLayoutRef.current.getClearProps({...this.state.editor.rootLayoutRef.current.props}),\r\n            zIndex: 0\r\n        };\r\n\r\n        changeGriddata(this.state.editor.rootLayoutRef.current, pageChildData);\r\n\r\n        this.update();\r\n    }\r\n\r\n    setInspectorPinned = (inspectorPinned, callback) => {\r\n        this.setState({inspectorPinned}, callback);\r\n    };\r\n\r\n    setInspectorWidth = (inspectorWidth, callback) => {\r\n        this.setState({inspectorWidth}, callback);\r\n    };\r\n\r\n    setDevicePixelRatio = (devicePixelRatio, callback) => {\r\n        this.setState({devicePixelRatio}, callback);\r\n    };\r\n\r\n    setAllComponentData = (allComponentData, callback) => {\r\n        this.setState({allComponentData}, callback);\r\n    };\r\n\r\n    toggleRightMenu = (menuName, state) => {\r\n        let {rightMenus} = this.state;\r\n\r\n        if (!state)\r\n            state = !rightMenus[menuName].state;\r\n\r\n        if (state === rightMenus[menuName].state)\r\n            return;\r\n\r\n        for(let props in rightMenus) {\r\n            if (rightMenus[props].state) {\r\n                rightMenus[props].state = false;\r\n                rightMenus[props].toggle(true);\r\n            }\r\n        }\r\n\r\n        rightMenus[menuName].state = rightMenus[menuName].toggle(false, state);\r\n\r\n        this.setState({rightMenus: {...rightMenus}});\r\n    };\r\n\r\n    setPageSizeWidth = (width) => {\r\n        this.state.editor.rootLayoutRef.current.setPageSizeWidth(width);\r\n        this.state.editor.breakpointmanager.setWindowWidth(width);\r\n        this.setState({pageSize: width});\r\n    };\r\n\r\n    setPageSize = (pageSize) => {\r\n        this.setState({pageSize});\r\n    };\r\n\r\n    setRightMenus = (rightMenus, callback) => {\r\n        this.setState({rightMenus}, callback);\r\n    };\r\n\r\n    showLinkGenerator = (linkData, onDone) => {\r\n        this.state.editor.showLinkGenerator(linkData, onDone);\r\n    }\r\n\r\n    showFileManager = (options, onDone) => {\r\n        this.state.editor.showFileManager(options, onDone);\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <EditorContext.Provider value={this.state}>\r\n                {this.props.children}\r\n            </EditorContext.Provider>\r\n        )\r\n    }\r\n}\r\n","import {cloneObject} from \"./AwesomeGridLayoutUtils\";\r\n\r\nexport default class DragDropManager {\r\n    setDragging = (item) => {\r\n        this.draggingItem = item;\r\n    };\r\n\r\n    getDragging = () => {\r\n        return this.draggingItem;\r\n    };\r\n\r\n    isDraggingItemFixed = () => {\r\n        if (!this.draggingItem)\r\n            return false;\r\n        return this.draggingItem.state.portalNodeId === \"page_fixed_holder\";\r\n    };\r\n\r\n    // return true if dropping on another parent\r\n    setDraggingStop = () => {\r\n        if (this.draggingItem && this.mouseOver &&\r\n            this.draggingItem.props.parent !== this.mouseOver &&\r\n            !this.mouseOver.getParentsId().includes(this.draggingItem.props.id) &&\r\n            !this.isDraggingItemFixed())\r\n        {\r\n            // this.mouseOver.prepareRects();\r\n            let newParent = this.mouseOver.getContainerParent();\r\n            newParent.prepareRects(true, true);\r\n            newParent.toggleGridLines(true, () => {}, \"B\");\r\n\r\n            if (this.draggingItem.props.parent !== newParent) {\r\n                this.dropItem(this.draggingItem, this.draggingItem.props.parent, newParent);\r\n\r\n                this.draggingItem = undefined;\r\n                return true;\r\n            } else {\r\n                this.draggingItem = undefined;\r\n                return false;\r\n            }\r\n        }\r\n\r\n        this.draggingItem = undefined;\r\n        return false;\r\n    };\r\n\r\n    dropItem = (item, parent, newParent, callback, fromUndoRedo, undoPower) => {\r\n        item.toggleHelpLines();\r\n        parent.onChildLeave(item);\r\n\r\n        console.log(\"dropItem 1\", item.props.id, parent.props.id, newParent.props.id);\r\n        console.log(\"dropItem 2\", item.props.gridLine.hasGridLine(item.props.id),\r\n            item.props.gridLine.hasGridLine(parent.props.id),\r\n            item.props.gridLine.hasGridLine(newParent.props.id));\r\n\r\n\r\n        let drop = () => {\r\n            newParent.onChildDrop(item, undefined, undefined, (newItem) => {\r\n                if (callback)\r\n                    callback(newItem);\r\n\r\n                if (!fromUndoRedo) {\r\n                    let itemId = item.props.id;\r\n                    let firstRelativeX =\r\n                        (item.dragData? item.dragData.firstPos.left : newItem.getSize(false).left)\r\n                        - parent.getSize(false).left;\r\n                    let firstRelativeY =\r\n                        (item.dragData? item.dragData.firstPos.top : newItem.getSize(false).top)\r\n                        - parent.getSize(false).top;\r\n                    let parentRect = cloneObject(parent.getSize(false));\r\n                    let lastRelativeX = newItem.getSize(false).left - newParent.getSize(false).left;\r\n                    let lastRelativeY = newItem.getSize(false).top - newParent.getSize(false).top;\r\n                    let newParentRect = cloneObject(newParent.getSize(false));\r\n                    let width = newItem.getSize(false).width;\r\n                    let height = newItem.getSize(false).height;\r\n\r\n                    let parentId = parent.props.id;\r\n                    let newParentId = newParent.props.id;\r\n                    item.props.undoredo.add((idMan) => {\r\n                        idMan.getItem(itemId).onSelect(true);\r\n                        this.setMouseOver(idMan.getItem(newParentId));\r\n                        this.dropItem(idMan.getItem(itemId), idMan.getItem(parentId), idMan.getItem(newParentId),\r\n                            (newItem) => {\r\n                                setTimeout(() => {\r\n                                    idMan.getItem(itemId).setPosition(false, lastRelativeX, lastRelativeY, undefined, undefined,\r\n                                        width, height, newParentRect, true);\r\n                                }, 0);\r\n                            }, true);\r\n                    }, (idMan) => {\r\n                        idMan.getItem(itemId).onSelect(true);\r\n                        this.setMouseOver(idMan.getItem(parentId));\r\n                        this.dropItem(idMan.getItem(itemId), idMan.getItem(newParentId), idMan.getItem(parentId),\r\n                            (newItem) => {\r\n                                setTimeout(() => {\r\n                                    idMan.getItem(itemId).setPosition(false, firstRelativeX, firstRelativeY, undefined, undefined,\r\n                                        width, height, parentRect, true);\r\n                                }, 0);\r\n                            }, true);\r\n                    }, undoPower);\r\n                }\r\n            });\r\n        };\r\n        if (item.props.dragdrop.mouseOver === newParent &&\r\n            item.props.gridLine.hasGridLine(newParent.props.id)) {\r\n            drop();\r\n        } else {\r\n            item.props.dragdrop.setMouseOver(newParent, undefined, drop);\r\n        }\r\n    };\r\n\r\n    removeMouseOver = () => {\r\n        delete this.mouseOver;\r\n    };\r\n\r\n    setMouseOver = (item, positionData, callback) => {\r\n        if (this.isDraggingItemFixed())\r\n            return;\r\n\r\n        if (this.mouseOver) {\r\n            if (!this.mouseOver.getFromTempData(\"selected\")) {\r\n                if (this.mouseOver !== item)\r\n                    this.mouseOver.toggleGridLines(false);\r\n            }\r\n        }\r\n\r\n        this.mouseOver = item;\r\n\r\n        if(this.draggingItem)\r\n            this.draggingItem.toggleHelpLines();\r\n\r\n        item.toggleGridLines(true, () => {\r\n            if(this.draggingItem)\r\n                this.draggingItem.toggleHelpLines(item);\r\n            if (callback)\r\n                callback(this.draggingItem, this.mouseOver);\r\n        }, \"B\");\r\n    };\r\n\r\n    setMouseOverForNonDragging = (item) => {\r\n        this.mouseOverNonDragging = item;\r\n    };\r\n\r\n    getMouseOverForNonDragging = () => {\r\n        return this.mouseOverNonDragging;\r\n    };\r\n}\r\n","import React from \"react\";\r\nimport {shallowEqual} from \"./AwesomeGridLayoutUtils\";\r\nimport './GridChildDraggable.css';\r\n\r\nexport default class GridChildContainerChildren extends React.Component {\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        if (!shallowEqual(this.allChildId, Object.keys(nextProps.allChildren)) ||\r\n            !shallowEqual(JSON.stringify(this.allChildIndex),\r\n                JSON.stringify(Object.values(nextProps.allChildren).map(c => {\r\n                    return {\r\n                        z: c.zIndex,\r\n                        i: c.child.props.id\r\n                    }\r\n                })))\r\n        )\r\n            return true;\r\n        return false;\r\n    }\r\n\r\n    saveState = () => {\r\n        let {allChildren} = this.props;\r\n        this.allChildId = Object.keys(allChildren);\r\n        this.allChildIndex = Object.values(allChildren).map(c => {\r\n            return {\r\n                z: c.zIndex,\r\n                i: c.child.props.id\r\n            }\r\n        });\r\n    };\r\n\r\n    getSorted = (children) => {\r\n        return children.sort((a, b) => {\r\n            if (a.zIndex > b.zIndex)\r\n                return 1;\r\n            if (a.zIndex < b.zIndex)\r\n                return -1;\r\n\r\n            return 0;\r\n        })\r\n    };\r\n\r\n    getChildren = (allChildren, agl) => {\r\n        if (this.props.getChildrenOverride)\r\n            return this.props.getChildrenOverride(this.getSorted(Object.values(allChildren)), agl);\r\n\r\n        return this.getSorted(Object.values(allChildren)).map((child) => {\r\n            return child.child;\r\n        })\r\n    };\r\n\r\n    render () {\r\n        this.saveState();\r\n        let {allChildren, agl} = this.props;\r\n        return (\r\n            this.getChildren(allChildren, agl)\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\n\r\nexport default class InspectorBreadcrumbs extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    render () {\r\n        let {item} = this.props;\r\n        return (\r\n            <div\r\n                className=\"InspectorOptionRoot\"\r\n            >\r\n                <div\r\n                    className=\"InspectorBreadcrumbsParentsRoot\"\r\n                >\r\n                        {\r\n                            item.getParentsId().slice(0, 2).reverse().map(parentId => {\r\n                                let parent = item.props.idMan.getItem(parentId);\r\n                                return (\r\n                                    <ButtonBase\r\n                                        className={\"InspectorBreadcrumbsParentsButton\"}\r\n                                        onClick={(e) => {\r\n                                            parent.onSelect(true);\r\n                                        }}\r\n                                        key={parent.props.id}\r\n                                    >\r\n                                        {\r\n                                            parent.props.tagName + \" >\"\r\n                                        }\r\n                                    </ButtonBase>\r\n                                )\r\n                            })\r\n                        }\r\n                </div>\r\n\r\n                <span\r\n                    className=\"InspectorBreadcrumbsTagName\"\r\n                >\r\n                    {item.props.tagName}\r\n                </span>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\n\r\nexport default class IconButton extends React.Component {\r\n    render () {\r\n        let selectStyle = {};\r\n        if (this.props.selected) {\r\n            selectStyle.backgroundColor = this.props.selectedColor || \"#8ae8f6\"\r\n        }\r\n\r\n        let buttonProps = Object.assign({}, this.props);\r\n        delete buttonProps.buttonBaseStyle;\r\n        delete buttonProps.imageContainerStyle;\r\n        delete buttonProps.icon;\r\n\r\n        return (\r\n            <ButtonBase\r\n                aria-label={this.props[\"aria-label\"] || \"aria-label\"}\r\n                style={{...{\r\n                    marginLeft: 4,\r\n                    borderRadius: 4,\r\n                    boxSizing: \"border-box\",\r\n                    ...selectStyle\r\n                }, ...this.props.buttonBaseStyle}}\r\n                ref={this.props.rootRef}\r\n                {...buttonProps}\r\n            >\r\n                <div style={{...{\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                    padding: 6,\r\n                }, ...this.props.imageContainerStyle}}>\r\n                    {\r\n                        this.props.icon\r\n                    }\r\n                    {\r\n                        this.props.children\r\n                    }\r\n                </div>\r\n            </ButtonBase>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport {alignItem} from \"../../AwesomwGridLayoutHelper\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\n\r\nexport default class InspectorAligns extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    getButtonsData = () => {\r\n        return [\r\n            {\r\n                name: \"Align to left\",\r\n                horizontal: \"start\",\r\n                img: <img\r\n                    draggable={false}\r\n                    width={16}\r\n                    height={16}\r\n                    src={require('../../icons/align-left.svg')}\r\n                />\r\n            },\r\n            {\r\n                name: \"Align to center\",\r\n                horizontal: \"center\",\r\n                img: <img\r\n                    draggable={false}\r\n                    width={16}\r\n                    height={16}\r\n                    src={require('../../icons/align-center.svg')}\r\n                />\r\n            },\r\n            {\r\n                name: \"Align to right\",\r\n                horizontal: \"end\",\r\n                img: <img\r\n                    draggable={false}\r\n                    width={16}\r\n                    height={16}\r\n                    src={require('../../icons/align-right.svg')}\r\n                />\r\n            },\r\n            {\r\n                name: \"Align to top\",\r\n                vertical: \"start\",\r\n                img: <img\r\n                    draggable={false}\r\n                    width={16}\r\n                    height={16}\r\n                    src={require('../../icons/align-top.svg')}\r\n                />\r\n            },\r\n            {\r\n                name: \"Align to middle\",\r\n                vertical: \"center\",\r\n                img: <img\r\n                    draggable={false}\r\n                    width={16}\r\n                    height={16}\r\n                    src={require('../../icons/align-middle.svg')}\r\n                />\r\n            },\r\n            {\r\n                name: \"Align to bottom\",\r\n                vertical: \"end\",\r\n                img: <img\r\n                    draggable={false}\r\n                    width={16}\r\n                    height={16}\r\n                    src={require('../../icons/align-bottom.svg')}\r\n                />\r\n            },\r\n        ]\r\n    };\r\n\r\n    render () {\r\n        let {item} = this.props;\r\n        return (\r\n            <div className=\"InspectorOptionRoot\">\r\n                <span className=\"InspectorOptionTextTitle\">\r\n                    Alignment\r\n                </span>\r\n                <div\r\n                    className=\"InspectorAlignsRoot\"\r\n                >\r\n                    {\r\n                        this.getButtonsData().map((data, i) => {\r\n                            return (\r\n                                <IconButton\r\n                                    key={data.name}\r\n                                    buttonBaseStyle={{\r\n                                        marginLeft: 0,\r\n                                    }}\r\n                                    imageContainerStyle={{\r\n                                        padding: 6\r\n                                    }}\r\n                                    onClick={(e) => {\r\n                                        alignItem(item, data.vertical, data.horizontal)\r\n                                    }}\r\n                                    className=\"InspectorAlignsButtons\"\r\n                                >\r\n                                    {data.img}\r\n                                </IconButton>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './AwesomwGridLayoutHelper.css';\r\nimport {cloneObject} from \"./AwesomeGridLayoutUtils\";\r\nimport merge from 'lodash.merge';\r\nimport {v4 as uuidv4} from 'uuid';\r\nimport Stack from \"./Components/Stack/Stack\";\r\nimport DynamicComponents from \"./Dynamic/DynamicComponents\";\r\nimport {getCompositeFromData, getFromData, setData} from \"./BreakPointManager\";\r\nimport ContextMenu from \"./Test/ContextMenu\";\r\nimport chroma from \"chroma-js\";\r\n\r\nlet deepEqual = require('fast-deep-equal/es6');\r\n\r\nexport function stretch(item, fromUndoRedo) {\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        let saveGridItemStyle = cloneObject(item.getFromData(\"gridItemStyle\"));\r\n        let saveStyle = cloneObject(item.getFromData(\"style\"));\r\n        item.props.undoredo.add((idMan) => {\r\n            stretch(idMan.getItem(itemId), true);\r\n        }, (idMan) => {\r\n            idMan.getItem(itemId).setGridItemStyle(saveGridItemStyle);\r\n            idMan.getItem(itemId).setStyle(saveStyle);\r\n            idMan.getItem(itemId).props.select.onScrollItem();\r\n        });\r\n    }\r\n\r\n    if (item.hasOverride(\"stretch\")) {\r\n        item.callOverride(\"stretch\", item);\r\n        return;\r\n    }\r\n\r\n    if (!item.props.parent)\r\n        return;\r\n\r\n    let beStretch = false;\r\n    let gridItemStyle = item.getFromData(\"gridItemStyle\");\r\n\r\n    if (!isStretch(item))\r\n        beStretch = true;\r\n\r\n    item.setDocks(beStretch, beStretch, false, beStretch, item.getFromTempData(\"autoDock\"), undefined, true);\r\n\r\n    gridItemStyle.alignSelf = beStretch? \"start\": \"start\";\r\n    gridItemStyle.justifySelf = beStretch? \"stretch\": \"center\";\r\n    gridItemStyle.marginTop = \"0px\";\r\n    gridItemStyle.marginLeft = \"0px\";\r\n    gridItemStyle.marginRight = \"0px\";\r\n    gridItemStyle.marginBottom = \"0px\";\r\n    item.setStyleParam(\"width\", \"auto\");\r\n    item.setStyleParam(\"height\", \"100%\");\r\n    item.setStyleParam(\"minHeight\", \"unset\");\r\n\r\n    if (!beStretch) {\r\n        let parentRect = item.props.parent.getSize();\r\n        gridItemStyle.marginTop = `${(parentRect.height - 0.8 * parentRect.height) / 2}px`;\r\n\r\n        item.setStyleParam(\"width\", \"80%\");\r\n        item.setStyleParam(\"height\", \"auto\");\r\n        item.setStyleParam(\"minHeight\", `${0.8 * parentRect.height}px`);\r\n    }\r\n\r\n    item.setGridItemStyle(gridItemStyle);\r\n    item.props.select.onScrollItem();\r\n}\r\n\r\nexport function getFromTempData(item, prop) {\r\n    let dataToRead = item.props.griddata;\r\n    return dataToRead[prop];\r\n}\r\n\r\nexport function isStretch(item, log) {\r\n    if (item.hasOverride(\"isStretch\")) {\r\n        return item.callOverride(\"isStretch\", item, log);\r\n    }\r\n\r\n    if (!item.props.parent)\r\n        return false;\r\n\r\n    let gridItemStyle = item.getFromData(\"gridItemStyle\");\r\n\r\n    return !(gridItemStyle.alignSelf !== \"start\" || gridItemStyle.justifySelf !== \"stretch\" ||\r\n        gridItemStyle.marginTop !== \"0px\" || gridItemStyle.marginLeft !== \"0px\" ||\r\n        gridItemStyle.marginRight !== \"0px\" || gridItemStyle.marginBottom !== \"0px\");\r\n}\r\n\r\nexport function allowStretch(item) {\r\n    if (!item.props.parent)\r\n        return false;\r\n\r\n    if (item.props.as === \"section\" || item.props.as === \"header\" || item.props.as === \"footer\")\r\n        return false;\r\n\r\n    return !item.props.disableStretch;\r\n}\r\n\r\nexport function alignItem(item, vertical, horizontal, fromUndoRedo) {\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        let saveGridItemStyle = cloneObject(item.getFromData(\"gridItemStyle\"));\r\n        item.props.undoredo.add((idMan) => {\r\n            alignItem(idMan.getItem(itemId), vertical, horizontal, true);\r\n        }, (idMan) => {\r\n            idMan.getItem(itemId).setGridItemStyle(saveGridItemStyle);\r\n            idMan.getItem(itemId).props.select.onScrollItem();\r\n        });\r\n    }\r\n\r\n    if (!item.props.parent)\r\n        return;\r\n\r\n    let gridItemStyle = item.getFromData(\"gridItemStyle\");\r\n\r\n    if (vertical) {\r\n        gridItemStyle.alignSelf = vertical;\r\n        gridItemStyle.marginTop = \"0px\";\r\n        gridItemStyle.marginBottom = \"0px\";\r\n    }\r\n    if (horizontal) {\r\n        gridItemStyle.justifySelf = horizontal;\r\n        gridItemStyle.marginLeft = \"0px\";\r\n        gridItemStyle.marginRight = \"0px\";\r\n    }\r\n\r\n    let baseDocks = item.getBaseDocks();\r\n    item.setDocks(\r\n        baseDocks.top, baseDocks.left, baseDocks.bottom, baseDocks.right,\r\n        item.getFromTempData(\"autoDock\"), undefined, true\r\n    );\r\n\r\n    item.setGridItemStyle(gridItemStyle);\r\n    item.props.select.onScrollItem();\r\n}\r\n\r\nexport function setScrollBehaviour(item, behaviour, pageAgl, fromUndoRedo, {offsetTop} = {}) {\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        let pageId = pageAgl.props.id;\r\n        let oldBehaviour = item.getFromData(\"isFixed\")? \"fixed\": item.getFromData(\"scrollBehaviour\") || \"none\";\r\n        let oldOffsetTop = item.getFromData(\"scrollStickyOffsetTop\");\r\n        item.props.undoredo.add((idMan) => {\r\n            setScrollBehaviour(idMan.getItem(itemId), behaviour, idMan.getItem(pageId), true, {offsetTop});\r\n        }, (idMan) => {\r\n            setScrollBehaviour(idMan.getItem(itemId), oldBehaviour, idMan.getItem(pageId), true,\r\n                {offsetTop: oldOffsetTop});\r\n        });\r\n    }\r\n\r\n    if (!item.props.parent)\r\n        return;\r\n\r\n    let oldIsFixed = item.getFromTempData(\"isFixed\");\r\n\r\n    let lastSectionId = item.getFromTempData(\"lastSectionId\");\r\n    if (oldIsFixed && behaviour !== \"fixed\" && lastSectionId) {\r\n        item.props.parent.onChildLeave(item);\r\n        let itemRect = item.getSize(false);\r\n        let sectionParent = item.props.viewRef.current\r\n            .props.aglComponent.getSectionOfPoint(itemRect.left, itemRect.top);\r\n\r\n        sectionParent.onSelect(true, undefined, undefined, undefined, true);\r\n        sectionParent.prepareRects();\r\n        sectionParent.onChildDrop(item, undefined, false, (newItem) => {\r\n            newItem.setState({portalNodeId: undefined});\r\n            window.requestAnimationFrame(() => {\r\n                newItem.onSelect(true);\r\n            });\r\n        });\r\n    }\r\n\r\n    item.setTempData(\"isFixed\", behaviour === \"fixed\");\r\n    item.setDataInBreakpoint(\"scrollBehaviour\", behaviour);\r\n    item.setDataInBreakpoint(\"scrollStickyOffsetTop\", offsetTop);\r\n\r\n    switch (behaviour) {\r\n        case \"none\":\r\n            item.setStyleParam(\"position\", undefined);\r\n            item.setStyleParam(\"top\", undefined);\r\n            item.setStyleParam(\"pointerEvents\", undefined);\r\n            break;\r\n        case \"sticky\":\r\n            item.setStyleParam(\"position\", \"sticky\");\r\n            item.setStyleParam(\"top\", offsetTop || 0);\r\n            item.setStyleParam(\"pointerEvents\", undefined);\r\n            break;\r\n        case \"fixed\":\r\n            if (!oldIsFixed) {\r\n                addFixedChildToRoot(item, pageAgl);\r\n            }\r\n            break;\r\n    }\r\n}\r\n\r\nfunction addFixedChildToRoot(item, pageAgl) {\r\n    let oldParentRect = item.props.parent.getSize(false);\r\n    item.toggleHelpLines();\r\n    item.setTempData(\"lastSectionId\", item.props.parent.props.id);\r\n    item.props.parent.onChildLeave(item);\r\n    pageAgl.onSelect(true, undefined, undefined, undefined, true);\r\n    let pageRect = pageAgl.prepareRects();\r\n    let itemRect = item.getSize(false);\r\n\r\n    pageAgl.onChildDrop(item, undefined, true, (newItem) => {\r\n        window.requestAnimationFrame(() => {\r\n            newItem.onSelect(true);\r\n        });\r\n    });\r\n\r\n    let gridItemStyle = item.getFromData(\"gridItemStyle\");\r\n    gridItemStyle.gridArea = \"1/1/2/2\";\r\n\r\n    item.setGridItemStyle(gridItemStyle);\r\n\r\n    let style = item.getCompositeFromData(\"style\");\r\n\r\n    let newWidth = itemRect.width *  oldParentRect.width / pageRect.width;\r\n    item.setStyleParam(\"width\", getStyleValueFromPx(newWidth, oldParentRect.width,\r\n        getUnitFromStyleValue(style.width), item));\r\n    item.setStyleParam(\"height\", getStyleValueFromPx(itemRect.height, oldParentRect.height,\r\n        getUnitFromStyleValue(style.height), item));\r\n    item.setStyleParam(\"position\", undefined);\r\n    item.setStyleParam(\"top\", undefined);\r\n    item.setStyleParam(\"pointerEvents\", \"auto\");\r\n}\r\n\r\nexport function isFixed(item) {\r\n    return item.getFromTempData(\"isFixed\");\r\n}\r\n\r\nexport function hideInBreakPoint(item, fromUndoRedo) {\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            hideInBreakPoint(idMan.getItem(itemId), true);\r\n        }, (idMan) => {\r\n            showInBreakPoint(idMan.getItem(itemId), true);\r\n        });\r\n    }\r\n    item.setStyleParam(\"display\", \"none !important\");\r\n    item.props.viewRef.current.props.aglComponent.updateTemplates();\r\n    item.props.select.onScrollItem();\r\n    item.props.editor.updateLayout();\r\n}\r\n\r\nexport function isHideInBreakPoint(item, fromUndoRedo) {\r\n    return item.getCompositeFromData(\"style\").display === \"none !important\";\r\n}\r\n\r\nexport function showInBreakPoint(item, fromUndoRedo) {\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            showInBreakPoint(idMan.getItem(itemId), true);\r\n        }, (idMan) => {\r\n            hideInBreakPoint(idMan.getItem(itemId), true);\r\n        });\r\n    }\r\n    item.setStyleParam(\"display\", undefined);\r\n    let newStyle = item.getFromData(\"style\");\r\n    if (newStyle && Object.keys(newStyle).length === 0) {\r\n        item.setDataInBreakpoint(\"style\", undefined);\r\n    }\r\n    item.props.viewRef.current.props.aglComponent.updateTemplates();\r\n    item.props.editor.updateLayout();\r\n}\r\n\r\nexport function getFromComponentData(item, prop, breakpointName) {\r\n    return item.props.breakpointmanager\r\n        .getFromData(item.props.griddata, prop, breakpointName)\r\n};\r\n\r\nexport function hasBreakpointDesign(fromName, item) {\r\n    let fromData = item.props.griddata.bpData[fromName];\r\n    return !(fromData === undefined);\r\n}\r\n\r\nexport function pasteFromBreakpointDesign(item, fromName, toName, fromUndoRedo) {\r\n    let fromData = item.props.griddata.bpData[fromName].design;\r\n    if (fromData === undefined)\r\n        return;\r\n\r\n    if (!toName)\r\n        toName = item.props.breakpointmanager.current();\r\n\r\n    if (!item.props.griddata.bpData[toName])\r\n        item.props.griddata.bpData[toName] = {};\r\n\r\n    let currentData = item.props.griddata.bpData[toName].design;\r\n\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        let oldData = cloneObject(currentData);\r\n        item.props.undoredo.add((idMan) => {\r\n            pasteFromBreakpointDesign(idMan.getItem(itemId), fromName, toName, true);\r\n        }, (idMan) => {\r\n            idMan.getItem(itemId).props.griddata.bpData[toName].design = oldData;\r\n            idMan.getItem(itemId).onBreakpointChange(\r\n                idMan.getItem(itemId).props.breakpointmanager.getWindowWidth(),\r\n                idMan.getItem(itemId).props.breakpointmanager.current());\r\n        });\r\n    }\r\n\r\n    if (!currentData)\r\n        currentData = {};\r\n    merge(currentData, fromData);\r\n    item.props.griddata.bpData[toName].design = currentData;\r\n\r\n    item.onBreakpointChange(\r\n        item.props.breakpointmanager.getWindowWidth(),\r\n        item.props.breakpointmanager.current());\r\n}\r\n\r\nexport function deepAssign(fromData, currentData) {\r\n    Object.keys(fromData).map(key => {\r\n        let currentValue = currentData[key];\r\n        let fromValue = fromData[key];\r\n        if (currentValue === undefined) {\r\n            currentData[key] = cloneObject(fromValue);\r\n        } else {\r\n            if (fromValue instanceof Object) {\r\n                if (!currentValue)\r\n                    currentData[key] = {};\r\n                deepAssign(fromValue, currentValue)\r\n            } else {\r\n                currentData[key] = cloneObject(fromValue);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nexport function removeOverrides(item, fromName, fromUndoRedo) {\r\n    if (!fromName)\r\n        fromName = item.props.breakpointmanager.current();\r\n\r\n    if (fromName === \"laptop\")\r\n        return;\r\n\r\n    if (!item.props.griddata.bpData[fromName])\r\n        return;\r\n\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        let oldData = cloneObject(item.props.griddata.bpData[fromName] || {});\r\n        item.props.undoredo.add((idMan) => {\r\n            removeOverrides(idMan.getItem(itemId), fromName, true);\r\n        }, (idMan) => {\r\n            idMan.getItem(itemId).props.griddata.bpData[fromName] = oldData;\r\n            idMan.getItem(itemId).onBreakpointChange(\r\n                idMan.getItem(itemId).props.breakpointmanager.getWindowWidth(),\r\n                idMan.getItem(itemId).props.breakpointmanager.current());\r\n        });\r\n    }\r\n\r\n    item.props.griddata.bpData[fromName] = {};\r\n\r\n    item.onBreakpointChange(\r\n        item.props.breakpointmanager.getWindowWidth(),\r\n        item.props.breakpointmanager.current());\r\n}\r\n\r\nexport function applyOnAllBreakPoint(item, fromName, fromUndoRedo) {\r\n    if (!fromName)\r\n        fromName = item.props.breakpointmanager.current();\r\n\r\n    if (!item.props.griddata.bpData[fromName])\r\n        return;\r\n\r\n    let fromData = item.props.griddata.bpData[fromName];\r\n\r\n    let undoData = {};\r\n\r\n    let sortedBreakPoints = item.props.breakpointmanager.getSortedBreakPoints();\r\n    for(let i = 0; i < sortedBreakPoints.length; i++) {\r\n        let toName = sortedBreakPoints[i].name;\r\n        if (fromData !== toName) {\r\n            undoData[toName] = cloneObject(item.props.griddata.bpData[toName] || {});\r\n            item.props.griddata.bpData[toName] = cloneObject(fromData);\r\n        }\r\n    }\r\n\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            applyOnAllBreakPoint(idMan.getItem(itemId), fromName, true);\r\n        }, (idMan) => {\r\n            Object.keys(undoData).forEach(key => {\r\n                idMan.getItem(itemId).props.griddata.bpData[key] = undoData[key];\r\n            });\r\n\r\n            idMan.getItem(itemId).onBreakpointChange(\r\n                idMan.getItem(itemId).props.breakpointmanager.getWindowWidth(),\r\n                idMan.getItem(itemId).props.breakpointmanager.current());\r\n        });\r\n    }\r\n\r\n    item.onBreakpointChange(\r\n        item.props.breakpointmanager.getWindowWidth(),\r\n        item.props.breakpointmanager.current());\r\n}\r\n\r\nexport function copyDesign(item, fromAll) {\r\n    let currentBpName = item.props.breakpointmanager.current();\r\n\r\n    let designDatas = [];\r\n    if (!fromAll && item.props.griddata.bpData[currentBpName])\r\n        designDatas[0] = {\r\n            bpName: currentBpName,\r\n            design: item.props.griddata.bpData[currentBpName].design,\r\n            justOneBp: true\r\n        };\r\n    else if (fromAll) {\r\n        Object.keys(item.props.griddata.bpData).forEach((key, index) => {\r\n            designDatas[index] = {\r\n                bpName: key,\r\n                design: item.props.griddata.bpData[key].design\r\n            };\r\n        });\r\n    }\r\n\r\n    console.log(\"copyDesign\", designDatas);\r\n    if (designDatas.length > 0)\r\n        item.props.breakpointmanager.copyDesign(designDatas, item);\r\n}\r\n\r\nexport function pasteDesign(item, fromUndoRedo) {\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        let copyDesign = cloneObject(item.props.breakpointmanager.getCopyDesign().designDatas);\r\n        let allOldDesign = cloneObject(Object.keys(item.props.griddata.bpData).map(key => {\r\n            return {\r\n                bpName: key,\r\n                design: item.props.griddata.bpData[key].design\r\n            }\r\n        }));\r\n        item.props.undoredo.add((idMan) => {\r\n            let item = idMan.getItem(itemId);\r\n            console.log(111);\r\n            let temp = cloneObject(item.props.breakpointmanager.getCopyDesign().designDatas);\r\n            let sourceItemTemp = item.props.breakpointmanager.getCopyDesign().sourceItem;\r\n            console.log(222);\r\n            item.props.breakpointmanager.cloneDesignDatas = {\r\n                designDatas: copyDesign,\r\n                sourceItem: item\r\n            };\r\n            item.props.breakpointmanager.pasteDesign(item);\r\n            console.log(333);\r\n            item.props.breakpointmanager.cloneDesignDatas = {\r\n                designDatas: temp,\r\n                sourceItem: sourceItemTemp\r\n            };\r\n\r\n            item.onBreakpointChange(\r\n                item.props.breakpointmanager.getWindowWidth(),\r\n                item.props.breakpointmanager.current());\r\n\r\n            item.props.aglComponent.updateDesign &&\r\n                item.props.aglComponent.updateDesign(item.getCompositeFromData(\"design\"));\r\n\r\n            item.updateLayout();\r\n            console.log(444);\r\n        }, (idMan) => {\r\n            let item = idMan.getItem(itemId);\r\n            allOldDesign.forEach(designData => {\r\n                item.props.griddata.bpData[designData.bpName].design = cloneObject(designData.design);\r\n            });\r\n\r\n            item.onBreakpointChange(\r\n                item.props.breakpointmanager.getWindowWidth(),\r\n                item.props.breakpointmanager.current());\r\n        });\r\n    }\r\n\r\n    item.props.breakpointmanager.pasteDesign(item);\r\n\r\n    item.onBreakpointChange(\r\n        item.props.breakpointmanager.getWindowWidth(),\r\n        item.props.breakpointmanager.current());\r\n\r\n    item.props.aglComponent.updateDesign &&\r\n        item.props.aglComponent.updateDesign(item.getCompositeFromData(\"design\"));\r\n\r\n    item.updateLayout();\r\n}\r\n\r\nexport function isGroupSelected(item) {\r\n    return item.props.select.group;\r\n}\r\n\r\nexport function getSectionId(item) {\r\n    let parent = item.props.parent;\r\n    while (parent && !parent.props.isSection) {\r\n        parent = parent.props.parent;\r\n    }\r\n\r\n    if (parent)\r\n        return parent.props.id;\r\n\r\n    return uuidv4();\r\n}\r\n\r\nexport function getSectionParent(item) {\r\n    let parent = item.props.parent;\r\n    while (parent && !parent.props.isSection) {\r\n        parent = parent.props.parent;\r\n    }\r\n\r\n    if (parent)\r\n        return parent;\r\n}\r\n\r\nexport function createStack(items, fromUndoRedo) {\r\n    if (!items || items.length < 2)\r\n        return;\r\n\r\n    let itemsParent = getSectionParent(items[0]);\r\n\r\n    if (!itemsParent)\r\n        return;\r\n\r\n    let top = 99999999;\r\n    let left = 99999999;\r\n    let rightFromLeft = 0;\r\n    let allSpacerData = [];\r\n    let lastBottom;\r\n\r\n    items.sort((a,b) => {\r\n        if (a && b){\r\n            let topA = a.getSize(false).top;\r\n            let topB = b.getSize(false).top;\r\n            if (topA < topB) {\r\n                return -1;\r\n            } else if (topA === topB) {\r\n                // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                return 0;\r\n            }\r\n            return 1;\r\n        } else {\r\n            return 0;\r\n        }\r\n    });\r\n\r\n    items.forEach((item) => {\r\n        let rect = item.getSize(false);\r\n        top = Math.min(rect.top, top);\r\n        left = Math.min(rect.left, left);\r\n        rightFromLeft = Math.max(rect.left + rect.width, rightFromLeft);\r\n\r\n        if (lastBottom) {\r\n            allSpacerData.push({\r\n                height: Math.max(0, rect.top - lastBottom)\r\n            });\r\n        }\r\n\r\n        lastBottom = rect.top + rect.height;\r\n    });\r\n\r\n    let stack;\r\n    let stackNode =\r\n        <Stack\r\n            style={{\r\n                width: `${rightFromLeft - left}px`,\r\n            }}\r\n            lateMountedComplete={(_stack) => {\r\n                stack = _stack;\r\n            }}\r\n            allSpacerData={allSpacerData}\r\n            document={items[0].props.document}\r\n        />;\r\n\r\n    let parentRect = itemsParent.prepareRects();\r\n    itemsParent.addChild(stackNode, undefined, undefined, undefined, (agl) => {\r\n        if (!fromUndoRedo) {\r\n            let stackId = agl.props.id;\r\n            let itemIds = items.map(item => {\r\n                return item.props.id;\r\n            });\r\n            agl.props.undoredo.add((idMan) => {\r\n                let newItems = itemIds.map(id => {\r\n                    return idMan.getItem(id);\r\n                });\r\n                newItems.forEach(item => {\r\n                    item.onSelect(true);\r\n                });\r\n                createStack(newItems, true);\r\n            }, (idMan) => {\r\n                removeStackFromAGL(idMan.getItem(stackId), undefined, true);\r\n            });\r\n        }\r\n\r\n        agl.onSelect(true);\r\n        let {gridItemStyle} =\r\n            agl.calculateGridItem(left - parentRect.left, top - parentRect.top,\r\n                itemsParent, undefined, undefined, itemsParent.getSize(false));\r\n        agl.setGridItemStyle(gridItemStyle);\r\n        agl.prepareRects();\r\n        // agl.prepareRects(true);\r\n        setTimeout(() => {\r\n            items = items.filter(item => {\r\n                return item.props.id !== agl.props.id;\r\n            });\r\n\r\n            let addToStack = (items) => {\r\n                let item = items.shift();\r\n                if (!item)\r\n                    return;\r\n\r\n                item.props.parent.onChildLeave(item);\r\n                agl.onChildDrop(item, undefined, undefined, () => {\r\n                    addToStack(items);\r\n                });\r\n            };\r\n            addToStack(items);\r\n            setTimeout(() => {\r\n                stack.setOrder();\r\n                setTimeout(() => {\r\n                    let width = agl.getSize(false, true).width;\r\n                    let parentWidth = agl.props.parent.getSize(false).width;\r\n                    agl.setProps(\"width\", `${width / parentWidth * 100}%`);\r\n                    agl.onSelect(true);\r\n                }, 0);\r\n            }, 0);\r\n        }, 0);\r\n    });\r\n}\r\n\r\nexport function removeStack(stack, childIds, fromUndoRedo) {\r\n    removeStackFromAGL (stack.aglRef.current, childIds, fromUndoRedo);\r\n}\r\n\r\nexport function removeStackFromAGL(stackAgl, childIds, fromUndoRedo) {\r\n    stackAgl.removing = true;\r\n    if (!stackAgl || !stackAgl.props.isStack)\r\n        return;\r\n\r\n    if (!fromUndoRedo) {\r\n        let stackId = stackAgl.props.id;\r\n        stackAgl.props.undoredo.add((idMan) => {\r\n            removeStackFromAGL(idMan.getItem(stackId), childIds, true);\r\n        }, (idMan) => {\r\n            let newItems = childIds.map(id => {\r\n                return idMan.getItem(id);\r\n            });\r\n            createStack(newItems, true);\r\n        });\r\n    }\r\n\r\n    let newParent = stackAgl.props.parent;\r\n    stackAgl.clearItem();\r\n\r\n    let sorted = Object.values(stackAgl.allChildRefs).sort((a,b) => {\r\n        if (a && a.current && b && b.current){\r\n            let relativeYA = a.current.getFromData(\"relativeY\");\r\n            let relativeYB = b.current.getFromData(\"relativeY\");\r\n            if (relativeYA < relativeYB) {\r\n                return 1;\r\n            } else if (relativeYA === relativeYB) {\r\n                // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                return 0;\r\n            }\r\n            return -1;\r\n        } else {\r\n            return 0;\r\n        }\r\n    });\r\n\r\n    newParent.onSelect(true);\r\n    newParent.prepareRects();\r\n    // newParent.prepareRects(true);\r\n    let removeChilds = (sorted) => {\r\n        let item = sorted.shift();\r\n\r\n        if (!item) {\r\n            setTimeout(() => {\r\n                newParent.onChildLeave(stackAgl);\r\n            }, 0);\r\n            return;\r\n        }\r\n        setTimeout(() => {\r\n            if (item && item.current) {\r\n                item.current.props.parent.onChildLeave(item.current);\r\n                newParent.onChildDrop(item.current);\r\n            }\r\n            removeChilds(sorted, newParent);\r\n        }, 0);\r\n    };\r\n\r\n    removeChilds(sorted);\r\n    /*sorted.forEach(item => {\r\n        if (item && item.current) {\r\n            console.log(\"onChildDrop\", item.current.props.id);\r\n            item.current.props.parent.onChildLeave(item.current);\r\n            newParent.onChildDrop(item.current);\r\n        }\r\n    });*/\r\n}\r\n\r\nexport function createItem(parent, childData, fromUndoRedo, gridItemStyle, style, onChildMounted) {\r\n    console.log(\"createItem 1\");\r\n    childData.props = cloneObject(parent.getClearProps({...childData.props}, true));\r\n    childData.zIndex = parent.getNextIndexData(0).lastZIndex + 1;\r\n\r\n    if (gridItemStyle) {\r\n        parent.setDataInBreakpoint(\r\n            \"gridItemStyle\", gridItemStyle, childData.props.griddata,\r\n            parent.props.breakpointmanager.getHighestBpName());\r\n    }\r\n    if (style) {\r\n        parent.setDataInBreakpoint(\r\n            \"style\", style, childData.props.griddata,\r\n            parent.props.breakpointmanager.getHighestBpName());\r\n    }\r\n\r\n    let child = parent.createChildByData(\r\n        childData , DynamicComponents, undefined, (newItem) => {\r\n        console.log(\"createItem 2\");\r\n\r\n        newItem.onSelect(true);\r\n\r\n        onChildMounted && onChildMounted(newItem);\r\n\r\n        if (!fromUndoRedo) {\r\n            let itemId = newItem.props.id;\r\n            let parentId = parent.props.id;\r\n            let childData = cloneObject(parent.getChildData(itemId));\r\n            parent.props.undoredo.add((idMan) => {\r\n                createItem(idMan.getItem(parentId), childData, true, gridItemStyle, style);\r\n            }, (idMan) => {\r\n                idMan.getItem(itemId).delete(true);\r\n            });\r\n        }\r\n    });\r\n\r\n    parent.children[childData.props.id] = {\r\n        child: child,\r\n        zIndex: childData.zIndex\r\n    };\r\n\r\n    let savedChildren = parent.getFromTempData(\"savedChildren\");\r\n    savedChildren[childData.props.id] = childData;\r\n\r\n    parent.updateLayout();\r\n}\r\n\r\nexport function setDataInBreakpoint(prop, value, item, addToUndo, breakpointName, updateLayout){\r\n    if (addToUndo) {\r\n        let oldValue = item.getFromData(prop, undefined, breakpointName);\r\n        oldValue = cloneObject(oldValue);\r\n        let saveValue = cloneObject(value);\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            setDataInBreakpoint(prop, saveValue, idMan.getItem(itemId), false, breakpointName, updateLayout);\r\n        }, (idMan) => {\r\n            setDataInBreakpoint(prop, oldValue, idMan.getItem(itemId), false, breakpointName, updateLayout);\r\n        }, addToUndo);\r\n    }\r\n    item.setDataInBreakpoint(prop, value, undefined, breakpointName);\r\n\r\n    updateLayout && item.updateLayout();\r\n}\r\n\r\nexport function setTempData(prop, value, item, addToUndo){\r\n    if (addToUndo) {\r\n        let oldValue = item.getFromTempData(prop);\r\n        oldValue = cloneObject(oldValue);\r\n        let saveValue = cloneObject(value);\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            setTempData(prop, saveValue, idMan.getItem(itemId));\r\n        }, (idMan) => {\r\n            setTempData(prop, oldValue, idMan.getItem(itemId));\r\n        });\r\n    }\r\n    item.setTempData(prop, value);\r\n}\r\n\r\nexport function setStyle(newStyle, item, addToUndo, breakpointName, updateLayout){\r\n    if (addToUndo) {\r\n        let oldStyle = item.getFromData(\"style\", undefined, breakpointName);\r\n        oldStyle = cloneObject(oldStyle);\r\n        let saveStyle = cloneObject(newStyle);\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            setStyle(saveStyle, idMan.getItem(itemId));\r\n        }, (idMan) => {\r\n            setStyle(oldStyle, idMan.getItem(itemId));\r\n        });\r\n    }\r\n    item.setStyle(newStyle);\r\n    updateLayout && item.updateLayout();\r\n}\r\n\r\nexport function setStyleParam (param, value, item, addToUndo, breakpointName, dontAddToSnap) {\r\n    if (addToUndo) {\r\n        let oldStyle = item.getFromData(\"style\", undefined, breakpointName);\r\n        oldStyle = cloneObject(oldStyle);\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            setStyleParam(param, value, idMan.getItem(itemId), false, breakpointName, dontAddToSnap);\r\n        }, (idMan) => {\r\n            setStyle(oldStyle, idMan.getItem(itemId));\r\n        }, addToUndo);\r\n    }\r\n\r\n    let style = item.hasDataInBreakPoint(\"style\", undefined, breakpointName) || {};\r\n    style[param] = value;\r\n    if (value === undefined)\r\n        delete style[param];\r\n    item.setStyle(style, undefined, breakpointName, undefined, dontAddToSnap);\r\n}\r\n\r\nexport function setNewSize(prop, value, item, addToUndo, breakpointName, updateLayout){\r\n    if (addToUndo) {\r\n        let oldValue = item.getFromData(`style.${prop}`, undefined, breakpointName);\r\n        let saveStyle = cloneObject(item.getFromData(\"style)\"));\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            setStyle(saveStyle, idMan.getItem(itemId));\r\n        }, (idMan) => {\r\n            setNewSize(prop, oldValue, idMan.getItem(itemId));\r\n        });\r\n    }\r\n    item.setNewSize(prop, value);\r\n    updateLayout && item.updateLayout();\r\n}\r\n\r\nexport function setGridItemStyle(newGridItemStyle, item, addToUndo, breakpointName){\r\n    if (addToUndo) {\r\n        let oldGridItemStyle = item.getFromData(\"gridItemStyle\", undefined, breakpointName);\r\n        oldGridItemStyle = cloneObject(oldGridItemStyle);\r\n        let saveGridItemStyle = cloneObject(newGridItemStyle);\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            setGridItemStyle(saveGridItemStyle, idMan.getItem(itemId));\r\n        }, (idMan) => {\r\n            setGridItemStyle(oldGridItemStyle, idMan.getItem(itemId));\r\n        });\r\n    }\r\n    item.setGridItemStyle(newGridItemStyle);\r\n    item.invalidateSize(true, true, true);\r\n}\r\n\r\nexport function setGridArea(newGridArea, item, addToUndo){\r\n    if (addToUndo) {\r\n        let oldGridArea = item.getGridArea();\r\n        oldGridArea = cloneObject(oldGridArea);\r\n        let saveGridArea = cloneObject(newGridArea);\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            setGridArea(saveGridArea, idMan.getItem(itemId));\r\n        }, (idMan) => {\r\n            setGridArea(oldGridArea, idMan.getItem(itemId));\r\n        });\r\n    }\r\n    item.setGridArea(newGridArea);\r\n}\r\n\r\nexport function setGrid(newGrid, item, addToUndo, breakpointName){\r\n    if (addToUndo) {\r\n        let oldGrid = item.getFromData(\"grid\", undefined, breakpointName);\r\n        oldGrid = cloneObject(oldGrid);\r\n        let saveGrid = cloneObject(newGrid);\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            setGrid(saveGrid, idMan.getItem(itemId));\r\n        }, (idMan) => {\r\n            setGrid(oldGrid, idMan.getItem(itemId));\r\n        });\r\n    }\r\n    item.setGrid(newGrid);\r\n}\r\n\r\nexport function setAnchor(newAnchor, item, addToUndo){\r\n    if (addToUndo) {\r\n        let oldAnchor = item.getFromTempData(\"anchor\");\r\n        oldAnchor = cloneObject(oldAnchor);\r\n        let saveAnchor = cloneObject(newAnchor);\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            setAnchor(saveAnchor, idMan.getItem(itemId));\r\n        }, (idMan) => {\r\n            setAnchor(oldAnchor, idMan.getItem(itemId));\r\n        });\r\n    }\r\n    item.setAnchor(newAnchor);\r\n}\r\n\r\nexport function arrangeIndex(item, child, type, addToUndo){\r\n    if (addToUndo) {\r\n        let itemId = item.props.id;\r\n        let childId = child.props.id;\r\n        let oldType = type === \"forward\"? \"backward\":\r\n            type === \"backward\"? \"forward\": undefined;\r\n        let oldZIndex = item.getFromTempData(\"savedChildren\")[childId].zIndex;\r\n        item.props.undoredo.add((idMan) => {\r\n            arrangeIndex(idMan.getItem(itemId), idMan.getItem(childId), type);\r\n        }, (idMan) => {\r\n            if (oldType)\r\n                arrangeIndex(idMan.getItem(itemId), idMan.getItem(childId), oldType);\r\n            else\r\n                changeIndex(idMan.getItem(itemId), idMan.getItem(childId), oldZIndex);\r\n        });\r\n    }\r\n    item.arrangeIndex(child, type);\r\n}\r\n\r\nexport function changeIndex (item, child, index, addToUndo){\r\n    if (addToUndo) {\r\n        let itemId = item.props.id;\r\n        let childId = child.props.id;\r\n        let oldZIndex = item.getFromTempData(\"savedChildren\")[childId].zIndex;\r\n        item.props.undoredo.add((idMan) => {\r\n            changeIndex(idMan.getItem(itemId), idMan.getItem(childId), index);\r\n        }, (idMan) => {\r\n            changeIndex(idMan.getItem(itemId), idMan.getItem(childId), oldZIndex);\r\n        });\r\n    }\r\n    item.changeIndex(child, index);\r\n}\r\n\r\nexport function resolveDesignData (item, key, value){\r\n    let breakpointData = item.props.breakpointmanager;\r\n    if (!getFromData(item.props.griddata, \"design\", breakpointData, breakpointData.getHighestBpName()))\r\n        setData(item.props.griddata, \"design\", {}, breakpointData, breakpointData.getHighestBpName());\r\n\r\n    if (!key)\r\n        return;\r\n\r\n    let design = getFromData(item.props.griddata, \"design\", breakpointData, breakpointData.getHighestBpName());\r\n    if (!design[key])\r\n        design[key] = value || {};\r\n}\r\n\r\nexport function getCompositeDesignData (item) {\r\n    let breakpointData = item.props.breakpointmanager;\r\n    if (!getCompositeFromData(item.props.griddata, \"design\", breakpointData))\r\n        setData(item.props.griddata, \"design\", {}, breakpointData, breakpointData.getHighestBpName());\r\n\r\n    return getCompositeFromData(item.props.griddata, \"design\", breakpointData);\r\n}\r\n\r\nexport function rotate (item, degree, fromUndoRedo) {\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        let oldDegree = item.getFromData(\"rotateDegree\");\r\n        item.props.undoredo.add((idMan) => {\r\n            rotate(idMan.getItem(itemId), degree, true);\r\n        }, (idMan) => {\r\n            rotate(idMan.getItem(itemId), oldDegree || 0, true);\r\n        });\r\n    }\r\n\r\n    item.setDataInBreakpoint(\"transform.rotateDegree\", degree);\r\n    item.setTransformStyle(item.getFromData(\"transform\"));\r\n    item.updateLayout(item.props.select.onScrollItem);\r\n}\r\n\r\nexport function getViewRatioStyle (value) {\r\n    if (value.includes('vh'))\r\n        return`calc(${value} * var(--vh-ratio))`;\r\n    if (value.includes('vw'))\r\n        return`calc(${value} * var(--vw-ratio))`;\r\n\r\n    return value;\r\n}\r\n\r\nexport function getValueFromCSSValue (value) {\r\n    if (!value)\r\n        return \"\";\r\n\r\n    if (value.includes(\"%\")) {\r\n        return Math.round(parseFloat(value.replace(\"%\", \"\")) * 100) / 100;\r\n    }\r\n\r\n    if (value.includes(\"px\")) {\r\n        return Math.round(parseFloat(value.replace(\"px\", \"\")) * 100) / 100;\r\n    }\r\n\r\n    if (value.includes(\"vh\")) {\r\n        return Math.round(parseFloat(\r\n            value.replace(/[^0-9\\.]/g, '')\r\n        ) * 100) / 100;\r\n    }\r\n\r\n    if (value.includes(\"vw\")) {\r\n        return Math.round(parseFloat(\r\n            value.replace(/[^0-9\\.]/g, '')\r\n        ) * 100) / 100;\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\nexport function getPxValueFromCSSValue (value, parentValue, item) {\r\n    if (!value)\r\n        return;\r\n    if (!isNaN(value))\r\n        return value;\r\n\r\n    if (value.includes(\"%\")) {\r\n        let percent = Math.round(parseFloat(value.replace(\"%\", \"\")) * 100) / 100;\r\n        return percent * parentValue / 100;\r\n    }\r\n\r\n    if (value.includes(\"px\")) {\r\n        return Math.round(parseFloat(value.replace(\"px\", \"\")) * 100) / 100;\r\n    }\r\n\r\n    if (value.includes(\"vh\")) {\r\n        let percent = Math.round(parseFloat(\r\n            value.replace(/[^0-9\\.]/g, '')\r\n        ) * 100) / 100;\r\n\r\n        return percent * item.props.breakpointmanager.getWindowHeight() / 100;\r\n    }\r\n\r\n    if (value.includes(\"vw\")) {\r\n        let percent =  Math.round(parseFloat(\r\n            value.replace(/[^0-9\\.]/g, '')\r\n        ) * 100) / 100;\r\n\r\n        return percent * item.props.breakpointmanager.getWindowWidth() / 100;\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\nexport function getStyleValueFromPx (value, parentValue, unit, item) {\r\n    if (!unit)\r\n        unit = \"px\";\r\n\r\n    if (unit === \"px\") {\r\n        return `${value}${unit}`;\r\n    }\r\n    if (unit === \"%\") {\r\n        return `${value / parentValue * 100}${unit}`;\r\n    }\r\n    if (unit === \"vh\") {\r\n        value = `${value / item.props.breakpointmanager.getWindowHeight() * 100}vh`;\r\n        return `calc(${value} * var(--vh-ratio))`;\r\n    }\r\n    if (unit === \"vw\") {\r\n        value = `${value / item.props.breakpointmanager.getWindowWidth() * 100}vw`;\r\n        return `calc(${value} * var(--vw-ratio))`;\r\n    }\r\n\r\n    return unit;\r\n}\r\n\r\nexport function getUnitFromStyleValue (value) {\r\n    if (!value)\r\n        return \"none\";\r\n\r\n    if (value.includes(\"%\")) {\r\n        return \"%\";\r\n    }\r\n\r\n    if (value.includes(\"px\")) {\r\n        return \"px\";\r\n    }\r\n\r\n    if (value.includes(\"vw\")) {\r\n        return \"vw\";\r\n    }\r\n\r\n    if (value.includes(\"vh\")) {\r\n        return \"vh\";\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\nexport function createContextMenu(e, item, onClose) {\r\n    if (item.props.isPage)\r\n        return;\r\n\r\n    let menu = [];\r\n\r\n    item.getContextMenu() && menu.push(item.getContextMenu());\r\n\r\n    // Copy section\r\n    let copySection = [\r\n        {\r\n            name: \"Copy\",\r\n            onClick: (e) => {\r\n                item.props.copyMan.copy(item);\r\n            },\r\n            shortcut: \"Ctrl + C\"\r\n        },\r\n        {\r\n            name: \"Paste\",\r\n            onClick: (e) => {\r\n                item.props.copyMan.paste(item);\r\n            },\r\n            shortcut: \"Ctrl + V\"\r\n        },\r\n        {\r\n            name: \"Duplicate\",\r\n            onClick: (e) => {\r\n                item.props.copyMan.duplicate(item);\r\n            },\r\n            shortcut: \"Ctrl + D\"\r\n        },\r\n        {\r\n            name: \"Copy Element Design\",\r\n            subMenu: [\r\n                {\r\n                    name: \"From this breakpoint\",\r\n                    onClick: (e) => {\r\n                        copyDesign(item);\r\n                    }\r\n                },\r\n                {\r\n                    name: \"From all breakpoint\",\r\n                    onClick: (e) => {\r\n                        copyDesign(item, true);\r\n                    }\r\n                },\r\n            ]\r\n        },\r\n    ];\r\n    let copyDesignItem = item.props.breakpointmanager.getCopyDesign();\r\n    if (copyDesignItem && isSameFamily(copyDesignItem.sourceItem, item))\r\n        copySection.push({\r\n            name: \"Paste Design\",\r\n            onClick: (e) => {\r\n                pasteDesign(item);\r\n            }\r\n        });\r\n    let overrideBps = [];\r\n    let currentBpName = item.props.breakpointmanager.current();\r\n    Object.keys(item.props.griddata.bpData).forEach(bpName => {\r\n        if (bpName === currentBpName ||\r\n            item.props.breakpointmanager.getHighestBpName() === bpName)\r\n            return;\r\n\r\n        if (item.props.griddata.bpData[bpName] && item.props.griddata.bpData[bpName].design) {\r\n            if (!item.props.griddata.bpData[currentBpName] ||\r\n                !deepEqual(item.props.griddata.bpData[bpName].design,\r\n                    item.props.griddata.bpData[currentBpName].design)) {\r\n                overrideBps.push(bpName);\r\n            }\r\n        }\r\n    });\r\n    if (overrideBps.length > 0) {\r\n        copySection.push({\r\n            name: \"Paste From Breakpoint\",\r\n            subMenu: overrideBps.map(bpName => {\r\n                return {\r\n                    name: bpName,\r\n                    onClick: (e) => {\r\n                        pasteFromBreakpointDesign(item, bpName, currentBpName);\r\n                    }\r\n                };\r\n            })\r\n        });\r\n    }\r\n    menu.push(copySection);\r\n\r\n    let deleteSection = [];\r\n    if (!isHideInBreakpoint(item)) {\r\n        deleteSection.push(\r\n            {\r\n                name: \"Hide In Breakpoint\",\r\n                onClick: (e) => {\r\n                    hideInBreakPoint(item);\r\n                }\r\n            });\r\n    }\r\n    deleteSection.push({\r\n        name: \"Delete\",\r\n        onClick: (e) => {\r\n            item.delete();\r\n        },\r\n        shortcut: \"Delete\"\r\n    });\r\n\r\n    if (currentBpName !== item.props.breakpointmanager.getHighestBpName()) {\r\n        if (item.props.griddata.bpData[currentBpName] &&\r\n            Object.keys(item.props.griddata.bpData[currentBpName]).length > 0)\r\n        {\r\n            deleteSection.unshift({\r\n                name: \"Remove Breakpoint Overrides\",\r\n                onClick: (e) => {\r\n                    // TODO add these lines to a function with undo support\r\n                    delete item.props.griddata.bpData[currentBpName];\r\n                    item.onBreakpointChange(\r\n                        item.props.breakpointmanager.getWindowWidth(),\r\n                        item.props.breakpointmanager.current());\r\n                    item.props.select.onScrollItem();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    menu.push(deleteSection);\r\n\r\n    let shortcutSection = [];\r\n    if (!item.props.griddata.isSection) {\r\n        shortcutSection.push({\r\n            name: \"Arrange\",\r\n            subMenu: [\r\n                {\r\n                    name: \"Move Forward\",\r\n                    shortcut: \"Ctrl + Alt + \",\r\n                    onClick: (e) => {\r\n                        arrangeIndex(item.props.parent, item, \"forward\", true);\r\n                    }\r\n                },\r\n                {\r\n                    name: \"Move to Front\",\r\n                    shortcut: \"Ctrl + \",\r\n                    onClick: (e) => {\r\n                        arrangeIndex(item.props.parent, item, \"front\", true);\r\n                    }\r\n                },\r\n                {\r\n                    name: \"Move Backward\",\r\n                    shortcut: \"Ctrl + Alt + \",\r\n                    onClick: (e) => {\r\n                        arrangeIndex(item.props.parent, item, \"backward\", true);\r\n                    }\r\n                },\r\n                {\r\n                    name: \"Move to Back\",\r\n                    shortcut: \"Ctrl + \",\r\n                    onClick: (e) => {\r\n                        arrangeIndex(item.props.parent, item, \"back\", true);\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n    }\r\n    menu.push(shortcutSection);\r\n\r\n    let sectionSection = [];\r\n    if (item.props.isSection) {\r\n        if (item.props.isVerticalSection) {\r\n            sectionSection.push({\r\n                name: \"Move Left\",\r\n                onClick: (e) => {\r\n                    item.props.parent.props.aglComponent.moveLeft(item.props.id);\r\n                },\r\n            });\r\n            sectionSection.push({\r\n                name: \"Move Right\",\r\n                onClick: (e) => {\r\n                    item.props.parent.props.aglComponent.moveRight(item.props.id);\r\n                },\r\n            });\r\n        } else {\r\n            sectionSection.push({\r\n                name: \"Move Up\",\r\n                onClick: (e) => {\r\n                    item.props.parent.props.aglComponent.moveUp(item.props.id);\r\n                },\r\n            });\r\n            sectionSection.push({\r\n                name: \"Move Down\",\r\n                onClick: (e) => {\r\n                    item.props.parent.props.aglComponent.moveDown(item.props.id);\r\n                },\r\n            });\r\n        }\r\n    }\r\n    menu.unshift(sectionSection);\r\n\r\n    let masterSection = [\r\n    ];\r\n\r\n    return <ContextMenu\r\n        menu={menu}\r\n        onClose={onClose}\r\n        clientX={e.clientX}\r\n        clientY={e.clientY}\r\n    />\r\n}\r\n\r\nexport function isHideInBreakpoint(item) {\r\n    if (!item)\r\n        return false;\r\n\r\n    if (typeof item.getCompositeFromData(\"style\").display === 'string')\r\n        return item.getCompositeFromData(\"style\").display.includes(\"none\");\r\n\r\n    return false;\r\n}\r\n\r\nexport function isSameFamily(item1, item2) {\r\n    if (item1.props.tagName === item2.props.tagName)\r\n        return true;\r\n\r\n    if (item1.props.griddata.isSection && item2.props.griddata.isSection)\r\n        return true;\r\n}\r\n\r\nexport function isLeftClick (e) {\r\n    if (e.button === 0)\r\n        return true;\r\n\r\n    return false;\r\n}\r\n\r\nexport function isRightClick (e) {\r\n    if (e.button === 2)\r\n        return true;\r\n\r\n    return false;\r\n}\r\n\r\nexport function getResizeDelta (degree, dir, delta) {\r\n    let rad = degree * Math.PI / 180;\r\n    let cx = delta.x, cy = delta.y;\r\n    let cxy = Math.sqrt(cx * cx + cy * cy);\r\n    let cxp = cy !== 0 ? cy / Math.tan(rad) : 0;\r\n    let cyp = cx !== 0 ? -cx / Math.tan(rad) : 0;\r\n\r\n    let thetaH = Math.atan(Math.abs(cy) / Math.abs(cx));\r\n    let thetaW = Math.atan(Math.abs(cy) / Math.abs(cx));\r\n\r\n    if (cx * cy > 0)\r\n        thetaW = -thetaW;\r\n    if (cx * cy > 0)\r\n        thetaH = -thetaH;\r\n\r\n    let Dh = Math.abs(Math.sin(rad + thetaH) * cxy);\r\n    let Dw = Math.abs(Math.cos(rad + thetaW) * cxy);\r\n\r\n    if (cxp < cx)\r\n        Dh = -Dh;\r\n    if (cyp > cy)\r\n        Dw = -Dw;\r\n\r\n    if (degree > 180) {\r\n        Dh = -Dh;\r\n        Dw = -Dw;\r\n    }\r\n\r\n    let dxH = Dh * Math.sin(rad);\r\n    let dyH = Dh * Math.cos(rad);\r\n    let dxW = Dw * Math.cos(rad);\r\n    let dyW = Dw * Math.sin(rad);\r\n\r\n    let finalDelta = {\r\n        top: 0, left: 0, width: 0, height: 0\r\n    };\r\n\r\n    if (dir.includes('n')) {\r\n        finalDelta.height -= Dh;\r\n        finalDelta.top += ((Dh + dyH) / 2);\r\n        finalDelta.left -= (dxH / 2);\r\n    }\r\n\r\n    if (dir.includes('s')) {\r\n        finalDelta.height += Dh;\r\n        finalDelta.top -= ((Dh - dyH) / 2);\r\n        finalDelta.left -= (dxH / 2);\r\n    }\r\n\r\n    if (dir.includes('w')) {\r\n        finalDelta.width -= Dw;\r\n        finalDelta.top += (dyW / 2);\r\n        finalDelta.left += ((Dw + dxW) / 2);\r\n    }\r\n\r\n    if (dir.includes('e')) {\r\n        finalDelta.width += Dw;\r\n        finalDelta.top += (dyW / 2);\r\n        finalDelta.left -= ((Dw - dxW) / 2);\r\n    }\r\n\r\n    console.log(\"finalDelta\", finalDelta, Dw, dyW, dxW);\r\n    return finalDelta;\r\n}\r\n\r\nexport function sortBy (array, param) {\r\n    array = array.sort((a, b) => {\r\n        if (a[param] < b[param]) {\r\n            return -1;\r\n        } else if (a[param] === b[param]) {\r\n            return 0;\r\n        }\r\n        return 1;\r\n    });\r\n    return array;\r\n}\r\n\r\nexport function getColorScheme (baseColor) {\r\n    return {\r\n        \"1\": chroma(baseColor).luminance(0.025).css(),\r\n        \"2\": chroma(baseColor).luminance(0.06).css(),\r\n        \"3\": chroma(baseColor).luminance(0.15).css(),\r\n        \"4\": chroma(baseColor).luminance(0.35).css(),\r\n        \"5\": chroma(baseColor).luminance(0.55).css(),\r\n    }\r\n}\r\n\r\nexport function parseColor (color, alpha, editorContext) {\r\n    if (!color) {\r\n        color = '#000000';\r\n        alpha = alpha || 0;\r\n    }\r\n\r\n    if (color instanceof Object) {\r\n        let chromaColor = chroma(editorContext.getColor(color.paletteName, color.key));\r\n        if (alpha !== undefined || color.alpha !== undefined)\r\n            chromaColor = chromaColor.alpha(alpha || color.alpha);\r\n        else\r\n            chromaColor = chromaColor.alpha(1);\r\n\r\n        return chromaColor.css();\r\n    } else {\r\n        let chromaColor = chroma(color);\r\n        // chromaColor = chromaColor.alpha(alpha || 1);\r\n        if (alpha !== undefined)\r\n            chromaColor = chromaColor.alpha(alpha);\r\n        return chromaColor.css();\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport Menu from \"@material-ui/core/Menu/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem/MenuItem\";\r\nimport classNames from \"classnames\";\r\n\r\nexport default class NumberInputWithUnit extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            showUnits: false\r\n        };\r\n\r\n        this.unitIconButton = React.createRef();\r\n    }\r\n\r\n    inputFilter = (value, oldValue) => {\r\n        let okay = false;\r\n        try {\r\n            value = parseFloat(value);\r\n            if (!isNaN(value))\r\n                okay = true;\r\n        } catch {}\r\n        if (okay) {\r\n            value = Math.min(this.props.max, value);\r\n            value = Math.max(this.props.min, value);\r\n            return value;\r\n        } else if (value === \"\" || isNaN(value)) {\r\n            return \"0\";\r\n        }\r\n\r\n        return oldValue;\r\n    };\r\n\r\n    onChange = (e) => {\r\n        let value = e.target.value;\r\n        if (value.endsWith(\".\"))\r\n            value += \"0\";\r\n        value = this.inputFilter(value, this.getValue(this.props.value));\r\n        this.props.onChange(value);\r\n    };\r\n\r\n    onShowUnits = (e) => {\r\n        this.setState({anchorEl: e.currentTarget});\r\n    };\r\n\r\n    getValue = (value) => {\r\n        if (!value)\r\n            return \"\";\r\n\r\n        if (typeof value !== 'string')\r\n            return value;\r\n\r\n        if (value.includes(\"%\")) {\r\n            return Math.round(parseFloat(value.replace(\"%\", \"\")) * 10) / 10;\r\n        }\r\n\r\n        if (value.includes(\"px\")) {\r\n            return Math.round(parseFloat(value.replace(\"px\", \"\")) * 10) / 10;\r\n        }\r\n\r\n        if (value.includes(\"vh\")) {\r\n            return Math.round(parseFloat(\r\n                value.replace(/[^0-9\\.]/g, '')\r\n            ) * 10) / 10;\r\n        }\r\n\r\n        if (value.includes(\"vw\")) {\r\n            return Math.round(parseFloat(\r\n                value.replace(/[^0-9\\.]/g, '')\r\n            ) * 10) / 10;\r\n        }\r\n\r\n        return value;\r\n    };\r\n\r\n    render () {\r\n        let classes = classNames(\r\n            \"NumberInputWithUnit\",\r\n            this.props.className\r\n        );\r\n\r\n        return (\r\n            <div className={classes}>\r\n                <input\r\n                    style={{...{\r\n                        textAlign: \"left\",\r\n                        width: 64\r\n                    }, ...this.props.inputStyle}}\r\n                    className=\"NumberInput\"\r\n                    value={![\"%\", \"px\", \"vw\", \"vh\", \"\"].includes(this.props.unit) ? \"\" :\r\n                        (this.getValue(this.props.value) || 0)}\r\n                    onChange={this.onChange}\r\n                    type=\"text\"\r\n                    disabled={![\"%\", \"px\", \"vw\", \"vh\", \"\"].includes(this.props.unit) || this.props.disabled}\r\n                >\r\n                </input>\r\n\r\n                <IconButton\r\n                    ref={this.unitIconButton}\r\n                    className=\"InputUnitButton\"\r\n                    buttonBaseStyle={{\r\n                        marginLeft: 0,\r\n                    }}\r\n                    imageContainerStyle={{\r\n                        padding: 6\r\n                    }}\r\n                    onClick={!this.props.disabled ? this.onShowUnits : undefined}\r\n                    style={this.props.unitButtonStyle}\r\n                    disabled={this.props.disableUnit}\r\n                >\r\n                    <span style={{\r\n                        color: \"#0a108b\"\r\n                    }}>\r\n                        {this.props.unit || \"none\"}\r\n                    </span>\r\n                </IconButton>\r\n\r\n                <Menu\r\n                    style={{...{\r\n                            zIndex: 99999999999\r\n                        }, ...this.props.unitMenuStyle}}\r\n                    anchorEl={this.state.anchorEl}\r\n                    open={this.state.anchorEl !== undefined}\r\n                    onClose={(e) => {\r\n                        this.setState({anchorEl: undefined});\r\n                    }}\r\n                    MenuListProps={{\r\n                        style: {\r\n                            padding: 0\r\n                        }\r\n                    }}\r\n                >\r\n                    {\r\n                        this.props.units.map((unit, i) => {\r\n                            return (\r\n                                <MenuItem\r\n                                    dense\r\n                                    key={i}\r\n                                    onClick={(e) => {\r\n                                        if (this.props.onUnitChange)\r\n                                            this.props.onUnitChange(unit);\r\n\r\n                                        this.setState({anchorEl: undefined});\r\n                                    }}\r\n                                >\r\n                                    <span style={{\r\n                                        color: \"#0a108b\"\r\n                                    }}>\r\n                                        {unit}\r\n                                    </span>\r\n                                </MenuItem>\r\n                            )\r\n                        })\r\n                    }\r\n                </Menu>\r\n\r\n                {\r\n                    this.props.disabled &&\r\n                    <div\r\n                        className=\"NumberInputWithUnitDisabled\"\r\n                        style={{...{\r\n                                textAlign: \"left\",\r\n                                width: 64\r\n                            }, ...this.props.inputStyle}}\r\n                    >\r\n\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\n\r\nexport default class InspectorTitle extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            open: props.defaultOpen || false\r\n        }\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <ButtonBase className=\"InspectorOptionTitle\" onClick={(e) => {\r\n                if (this.props.onChange)\r\n                    this.props.onChange(!this.state.open);\r\n                this.setState({open: !this.state.open});\r\n            }}>\r\n                    <span>\r\n                        {this.props.title}\r\n                    </span>\r\n\r\n                    <div className=\"InspectorOptionTitleExpandIcon\">\r\n                        {\r\n                            this.state.open &&\r\n                            <img draggable={false} width={10} height={10}\r\n                                 src={process.env.PUBLIC_URL + '/static/icon/down-arrow.svg'} />\r\n                        }\r\n                        {\r\n                            !this.state.open &&\r\n                            <img draggable={false} width={10} height={10}\r\n                                 src={process.env.PUBLIC_URL + '/static/icon/right-arrow.svg'} />\r\n                        }\r\n                    </div>\r\n            </ButtonBase>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport {\r\n    getPxValueFromCSSValue,\r\n    getViewRatioStyle,\r\n    setNewSize\r\n} from \"../../AwesomwGridLayoutHelper\";\r\nimport NumberInputWithUnit from \"../../Menus/CommonComponents/NumberInputWithUnit\";\r\nimport InspectorTitle from \"./InspectorTitle\";\r\n\r\nexport default class InspectorSize extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            open: true\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    onChange = (prop, value) => {\r\n        let {item} = this.props;\r\n        let oldValue = item.getCompositeFromData(\"style\")[prop];\r\n        if ([\"%\", \"px\"].includes(this.getUnit(oldValue))) {\r\n            value = `${value}${this.getUnit(oldValue)}`;\r\n        } else if ([\"vh\", \"vw\"].includes(this.getUnit(oldValue))) {\r\n            value = `${value}${this.getUnit(oldValue)}`;\r\n            value = getViewRatioStyle(value);\r\n        }\r\n\r\n        setNewSize(prop, value, item, true);\r\n        item.props.select.onScrollItem();\r\n    };\r\n\r\n    onUnitChange = (prop, unit, parentValue, defaultValue) => {\r\n        let {item} = this.props;\r\n        let style = item.getCompositeFromData(\"style\");\r\n\r\n        if (isNaN(defaultValue))\r\n            defaultValue = 0;\r\n\r\n        let value;\r\n        if (unit === \"px\") {\r\n            value = `${item.getSize(false)[prop] ||\r\n            getPxValueFromCSSValue(style[prop], parentValue, item) || defaultValue || 0}px`;\r\n        } else if (unit === \"%\") {\r\n            value = `${(item.getSize(false)[prop] ||\r\n                getPxValueFromCSSValue(style[prop], parentValue, item) || defaultValue || 0) /\r\n            parentValue * 100}%`;\r\n        } else if (unit === \"vh\") {\r\n            value = `${(item.getSize(false)[prop] ||\r\n                getPxValueFromCSSValue(style[prop], parentValue, item) || defaultValue || 0) /\r\n            item.props.breakpointmanager.getWindowHeight() * 100}vh`;\r\n            value = getViewRatioStyle(value);\r\n        } else if (unit === \"vw\") {\r\n            value = `${(item.getSize(false)[prop] ||\r\n                getPxValueFromCSSValue(style[prop], parentValue, item) || defaultValue || 0) /\r\n            item.props.breakpointmanager.getWindowWidth() * 100}vw`;\r\n            value = getViewRatioStyle(value);\r\n        } else if (unit === \"none\") {\r\n            value = undefined;\r\n        } else {\r\n            value = unit;\r\n        }\r\n\r\n        setNewSize(prop, value, item, true);\r\n        item.props.select.onScrollItem();\r\n    };\r\n\r\n    getUnit = (value) => {\r\n        if (!value || value === \"unset\")\r\n            return \"none\";\r\n\r\n        if (value.includes(\"%\")) {\r\n            return \"%\";\r\n        }\r\n\r\n        if (value.includes(\"px\")) {\r\n            return \"px\";\r\n        }\r\n\r\n        if (value.includes(\"vw\")) {\r\n            return \"vw\";\r\n        }\r\n\r\n        if (value.includes(\"vh\")) {\r\n            return \"vh\";\r\n        }\r\n\r\n        return value;\r\n    };\r\n\r\n    runtimeValueToStyleValue = (propName, parentValue, value, style,) => {\r\n        let unit = this.getUnit(style[propName]);\r\n        let {item} = this.props;\r\n\r\n        if (unit === \"px\") {\r\n            value = `${value}px`;\r\n        } else if (unit === \"%\") {\r\n            value = `${value /\r\n            parentValue * 100}%`;\r\n        } else if (unit === \"vh\") {\r\n            value = `${value / item.props.breakpointmanager.getWindowHeight() * 100}vh`;\r\n            value = `calc(${value} * var(--vh-ratio))`;\r\n        } else if (unit === \"vw\") {\r\n            value = `${value / item.props.breakpointmanager.getWindowWidth() * 100}vw`;\r\n            value = `calc(${value} * var(--vw-ratio))`;\r\n        } else {\r\n            value = unit;\r\n        }\r\n\r\n        return value;\r\n    };\r\n\r\n    render() {\r\n        let {item} = this.props;\r\n        let style = item.getCompositeFromData(\"style\");\r\n        let runtimeStyle = item.state.runtimeStyle;\r\n        let runtimeGridItemStyle = item.getRuntimeGridItemStyle() || {\r\n            widthForPercent: item.props.breakpointmanager.getWindowWidth(),\r\n            heightForPercent: item.props.breakpointmanager.getWindowHeight(),\r\n        };\r\n        return (\r\n            <>\r\n                <InspectorTitle defaultOpen title=\"Size\" onChange={(open)=>{\r\n                    this.setState({open});\r\n                }}/>\r\n\r\n                {\r\n                    this.state.open &&\r\n                    <div className=\"InspectorOptionRoot\">\r\n                        <div className=\"InspectorSizeRow\">\r\n                            <div className=\"InspectorSizeItem\" style={{\r\n                                marginRight: 12\r\n                            }}>\r\n                        <span className=\"InspectorSizeItemTitle\">\r\n                            Width\r\n                        </span>\r\n                                <NumberInputWithUnit\r\n                                    className=\"AngleInput\"\r\n                                    min={0}\r\n                                    max={Infinity}\r\n                                    disabled={this.props.disabledProps.includes('width')}\r\n                                    value={runtimeStyle ?\r\n                                        this.runtimeValueToStyleValue(\"width\",\r\n                                            runtimeGridItemStyle.widthForPercent, runtimeStyle.width, style) :\r\n                                        style.width}\r\n                                    onChange={(value) => {\r\n                                        this.onChange(\"width\", value);\r\n                                    }}\r\n                                    onUnitChange={(unit) => {\r\n                                        let parentRect = item.props.parent.getSize(false);\r\n                                        this.onUnitChange(\"width\", unit, parentRect.scrollWidthMinusPadding);\r\n                                    }}\r\n                                    units={this.props.widthUnits}\r\n                                    unit={this.getUnit(style.width)}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"InspectorSizeItem\">\r\n                        <span className=\"InspectorSizeItemTitle\">\r\n                            Height\r\n                        </span>\r\n                                <NumberInputWithUnit\r\n                                    className=\"InspectorSizeItemInput\"\r\n                                    min={0}\r\n                                    max={Infinity}\r\n                                    disabled={this.props.disabledProps.includes('height')}\r\n                                    value={runtimeStyle ?\r\n                                        this.runtimeValueToStyleValue(\"height\",\r\n                                            runtimeGridItemStyle.heightForPercent, runtimeStyle.height, style) :\r\n                                        style.height}\r\n                                    onChange={(value) => {\r\n                                        this.onChange(\"height\", value);\r\n                                    }}\r\n                                    onUnitChange={(unit) => {\r\n                                        let parentRect = item.props.parent.getSize(false);\r\n                                        this.onUnitChange(\"height\", unit, parentRect.scrollHeightMinusPadding);\r\n                                    }}\r\n                                    units={this.props.heightUnits}\r\n                                    unit={this.getUnit(style.height)}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"InspectorSizeRow\">\r\n                            <div className=\"InspectorSizeItem\" style={{\r\n                                marginRight: 12\r\n                            }}>\r\n                        <span className=\"InspectorSizeItemTitle\">\r\n                            Min W\r\n                        </span>\r\n                                <NumberInputWithUnit\r\n                                    className=\"AngleInput\"\r\n                                    min={0}\r\n                                    max={Infinity}\r\n                                    disabled={this.props.disabledProps.includes('minWidth')}\r\n                                    value={runtimeStyle ?\r\n                                        this.runtimeValueToStyleValue(\"minWidth\",\r\n                                            runtimeGridItemStyle.widthForPercent, runtimeStyle.width, style) :\r\n                                        style.minWidth}\r\n                                    onChange={(value) => {\r\n                                        this.onChange(\"minWidth\", value);\r\n                                    }}\r\n                                    onUnitChange={(unit) => {\r\n                                        let defaultValue = 1;\r\n                                        let parentRect = item.props.parent.getSize(false);\r\n                                        let width = getPxValueFromCSSValue(style.width, parentRect.scrollWidthMinusPadding, item);\r\n                                        let maxWidth = getPxValueFromCSSValue(style.maxWidth, parentRect.scrollWidthMinusPadding, item);\r\n                                        if (isNaN(width) && !isNaN(maxWidth))\r\n                                            defaultValue = maxWidth;\r\n                                        else if (!isNaN(width) && isNaN(maxWidth))\r\n                                            defaultValue = width;\r\n                                        else if (!isNaN(width) && !isNaN(maxWidth))\r\n                                            defaultValue = Math.min(width, maxWidth);\r\n\r\n                                        this.onUnitChange(\"minWidth\", unit, parentRect.scrollWidthMinusPadding\r\n                                            , defaultValue);\r\n                                    }}\r\n                                    units={this.props.minWidthUnits}\r\n                                    unit={this.getUnit(style.minWidth)}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"InspectorSizeItem\">\r\n                        <span className=\"InspectorSizeItemTitle\">\r\n                            Min H\r\n                        </span>\r\n                                <NumberInputWithUnit\r\n                                    className=\"InspectorSizeItemInput\"\r\n                                    min={0}\r\n                                    max={Infinity}\r\n                                    disabled={this.props.disabledProps.includes('minHeight')}\r\n                                    value={runtimeStyle ?\r\n                                        this.runtimeValueToStyleValue(\"minHeight\",\r\n                                            runtimeGridItemStyle.heightForPercent, runtimeStyle.height, style) :\r\n                                        style.minHeight}\r\n                                    onChange={(value) => {\r\n                                        this.onChange(\"minHeight\", value);\r\n                                    }}\r\n                                    onUnitChange={(unit) => {\r\n                                        let defaultValue = 1;\r\n                                        let parentRect = item.props.parent.getSize(false);\r\n                                        let height = getPxValueFromCSSValue(style.height, parentRect.scrollHeightMinusPadding, item);\r\n                                        let maxHeight = getPxValueFromCSSValue(style.maxHeight, parentRect.scrollHeightMinusPadding, item);\r\n                                        if (isNaN(height) && !isNaN(maxHeight))\r\n                                            defaultValue = maxHeight;\r\n                                        else if (!isNaN(height) && isNaN(maxHeight))\r\n                                            defaultValue = height;\r\n                                        else if (!isNaN(height) && !isNaN(maxHeight))\r\n                                            defaultValue = Math.min(height, maxHeight);\r\n\r\n                                        this.onUnitChange(\"minHeight\", unit, parentRect.scrollHeightMinusPadding\r\n                                            , defaultValue);\r\n                                    }}\r\n                                    units={this.props.minHeightUnits}\r\n                                    unit={this.getUnit(style.minHeight)}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"InspectorSizeRow\" style={{\r\n                            marginBottom: 0\r\n                        }}>\r\n                            <div className=\"InspectorSizeItem\" style={{\r\n                                marginRight: 12\r\n                            }}>\r\n                        <span className=\"InspectorSizeItemTitle\">\r\n                            Max W\r\n                        </span>\r\n                                <NumberInputWithUnit\r\n                                    className=\"AngleInput\"\r\n                                    min={0}\r\n                                    max={Infinity}\r\n                                    disabled={this.props.disabledProps.includes('maxWidth')}\r\n                                    value={runtimeStyle ?\r\n                                        this.runtimeValueToStyleValue(\"maxWidth\",\r\n                                            runtimeGridItemStyle.widthForPercent, runtimeStyle.width, style) :\r\n                                        style.maxWidth}\r\n                                    onChange={(value) => {\r\n                                        this.onChange(\"maxWidth\", value);\r\n                                    }}\r\n                                    onUnitChange={(unit) => {\r\n                                        let defaultValue = 200;\r\n                                        let parentRect = item.props.parent.getSize(false);\r\n                                        let width = getPxValueFromCSSValue(style.width, parentRect.scrollWidthMinusPadding, item);\r\n                                        let minWidth = getPxValueFromCSSValue(style.minWidth, parentRect.scrollWidthMinusPadding, item);\r\n                                        if (isNaN(width) && !isNaN(minWidth))\r\n                                            defaultValue = minWidth;\r\n                                        else if (!isNaN(width) && isNaN(minWidth))\r\n                                            defaultValue = width;\r\n                                        else if (!isNaN(width) && !isNaN(minWidth))\r\n                                            defaultValue = Math.max(width, minWidth);\r\n\r\n                                        this.onUnitChange(\"maxWidth\", unit, parentRect.scrollWidthMinusPadding\r\n                                            , defaultValue);\r\n                                    }}\r\n                                    units={this.props.maxWidthUnits}\r\n                                    unit={this.getUnit(style.maxWidth)}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"InspectorSizeItem\">\r\n                        <span className=\"InspectorSizeItemTitle\">\r\n                            Max H\r\n                        </span>\r\n                                <NumberInputWithUnit\r\n                                    className=\"InspectorSizeItemInput\"\r\n                                    min={0}\r\n                                    max={Infinity}\r\n                                    disabled={this.props.disabledProps.includes('maxHeight')}\r\n                                    value={runtimeStyle ?\r\n                                        this.runtimeValueToStyleValue(\"maxHeight\",\r\n                                            runtimeGridItemStyle.heightForPercent, runtimeStyle.height, style) :\r\n                                        style.maxHeight}\r\n                                    onChange={(value) => {\r\n                                        this.onChange(\"maxHeight\", value);\r\n                                    }}\r\n                                    onUnitChange={(unit) => {\r\n                                        let defaultValue = 200;\r\n                                        let parentRect = item.props.parent.getSize(false);\r\n                                        let height = getPxValueFromCSSValue(style.height, parentRect.scrollHeightMinusPadding, item);\r\n                                        let minHeight = getPxValueFromCSSValue(style.minHeight, parentRect.scrollHeightMinusPadding, item);\r\n                                        if (isNaN(height) && !isNaN(minHeight))\r\n                                            defaultValue = minHeight;\r\n                                        else if (!isNaN(height) && isNaN(minHeight))\r\n                                            defaultValue = height;\r\n                                        else if (!isNaN(height) && !isNaN(minHeight))\r\n                                            defaultValue = Math.max(height, minHeight);\r\n\r\n                                        this.onUnitChange(\"maxHeight\", unit, parentRect.scrollHeightMinusPadding\r\n                                            , defaultValue);\r\n                                    }}\r\n                                    units={this.props.maxHeightUnits}\r\n                                    unit={this.getUnit(style.maxHeight)}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nInspectorSize.defaultProps = {\r\n    disabledProps: []\r\n};\r\n","import Switch from \"@material-ui/core/Switch/Switch\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nconst DockSwitch = withStyles((theme) => ({\r\n    root: {\r\n        width: 42,\r\n        height: 10,\r\n        padding: 4,\r\n        display: 'flex',\r\n    },\r\n    switchBase: {\r\n        padding: 0,\r\n        color: \"#d2d2d2\",\r\n        '&$checked': {\r\n            transform: 'translateX(28px) scale(1)',\r\n            color: \"#849dff\",\r\n            '& + $track': {\r\n                opacity: 1,\r\n                backgroundColor: \"#849dff\",\r\n            },\r\n        },\r\n    },\r\n    thumb: {\r\n        width: 10,\r\n        height: 10,\r\n        boxShadow: 'none',\r\n    },\r\n    track: {\r\n        borderRadius: 16 / 2,\r\n        opacity: 1,\r\n        backgroundColor: \"#a2a2a2\",\r\n    },\r\n    checked: {},\r\n}))(Switch);\r\n\r\nexport default DockSwitch;\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport {\r\n    getPxValueFromCSSValue,\r\n    getUnitFromStyleValue,\r\n    setGridItemStyle,\r\n    setTempData\r\n} from \"../../AwesomwGridLayoutHelper\";\r\nimport {cloneObject} from \"../../AwesomeGridLayoutUtils\";\r\nimport Switch from \"@material-ui/core/Switch/Switch\";\r\nimport DockSwitch from \"./DockSwitch\";\r\nimport NumberInputWithUnit from \"../../Menus/CommonComponents/NumberInputWithUnit\";\r\nimport InspectorTitle from \"./InspectorTitle\";\r\n\r\nexport default class InspectorPosition extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    onDockActiveChange = (side, value) => {\r\n        let {item} = this.props;\r\n        let oldDocks = cloneObject(item.getFromData(\"docks\") || {});\r\n\r\n        oldDocks[side] = value;\r\n        if (side === \"top\" && value) {\r\n            oldDocks.bottom = false;\r\n        }\r\n        if (side === \"bottom\" && value) {\r\n            oldDocks.top = false;\r\n        }\r\n\r\n        item.setDocks(oldDocks.top, oldDocks.left, oldDocks.bottom, oldDocks.right,\r\n            item.getFromTempData(\"autoDeck\"));\r\n\r\n        item.props.select.updateHelpLines(item, item.state.helpLinesParent,\r\n            item.getSize(false), item.state.dragging);\r\n    };\r\n\r\n    onDockAutoChange = () => {\r\n        let {item} = this.props;\r\n        setTempData(\"autoDock\", !item.getFromTempData(\"autoDock\"), item, true);\r\n    };\r\n\r\n    onUnitChange = (prop, parentProp, unit) => {\r\n        let {item} = this.props;\r\n        let gridItemStyle = cloneObject(item.getFromData(\"gridItemStyle\"));\r\n        let compositeGridItemStyle = item.getCompositeFromData(\"gridItemStyle\");\r\n        if (!gridItemStyle)\r\n            gridItemStyle = {};\r\n\r\n        let parentRect = item.props.parent.getSize(false);\r\n        let value = getPxValueFromCSSValue(compositeGridItemStyle[prop], parentRect.scrollWidthMinusPadding, item);\r\n\r\n        if (unit === \"px\") {\r\n            gridItemStyle[prop] = `${value}${unit}`;\r\n        } else if (unit === \"%\") {\r\n            // let runtimeGridItemStyle = item.getRuntimeGridItemStyle();\r\n            gridItemStyle[prop] = `${value / parentRect.scrollWidthMinusPadding * 100}${unit}`;\r\n        }\r\n\r\n        setGridItemStyle(gridItemStyle, item, true);\r\n\r\n        item.props.select.updateHelpLines(item, item.state.helpLinesParent,\r\n            item.getSize(false), item.state.dragging);\r\n    };\r\n\r\n    onValueChange = (prop, value) => {\r\n        let {item} = this.props;\r\n        let gridItemStyle = cloneObject(item.getFromData(\"gridItemStyle\"));\r\n        let compositeGridItemStyle = item.getCompositeFromData(\"gridItemStyle\");\r\n        if (!gridItemStyle)\r\n            gridItemStyle = {};\r\n        gridItemStyle[prop] = `${value}${getUnitFromStyleValue(compositeGridItemStyle[prop])}`;\r\n\r\n        setGridItemStyle(gridItemStyle, item, true);\r\n\r\n        item.props.select.updateHelpLines(item, item.state.helpLinesParent,\r\n            item.getSize(false), item.state.dragging);\r\n        item.props.select.updateResizePanes(item, item.getSize(false));\r\n    };\r\n\r\n    runtimeValueToStyleValue = (propName, parentValue, value, style) => {\r\n        if (!style)\r\n            return;\r\n\r\n        let unit = getUnitFromStyleValue(style[propName]);\r\n        let {item} = this.props;\r\n\r\n        if (unit === \"px\") {\r\n            value = `${value}px`;\r\n        } else if (unit === \"%\") {\r\n            value = `${value /\r\n            parentValue * 100}%`;\r\n        } else {\r\n            value = unit;\r\n        }\r\n\r\n        return value;\r\n    };\r\n\r\n    render () {\r\n        let {item} = this.props;\r\n        let docks = item.getCompositeFromData(\"docks\");\r\n        let auto = item.getFromTempData(\"autoDock\");\r\n        let gridItemStyle = item.getCompositeFromData(\"gridItemStyle\");\r\n        let runtimeStyle = item.state.runtimeStyle;\r\n        let runtimeGridItemStyle = item.getRuntimeGridItemStyle();\r\n        return (\r\n            <>\r\n                <InspectorTitle title=\"Position\" onChange={(open) => {\r\n                    this.setState({open});\r\n                }}/>\r\n\r\n                {\r\n                    this.state.open &&\r\n                    <div className=\"InspectorOptionRoot\">\r\n                        <div className=\"InspectorDockingRoot\">\r\n                            <span className=\"InspectorDockingRootTitle\">\r\n                                Docking\r\n                            </span>\r\n\r\n                            <div className=\"InspectorDockingDocks\">\r\n                                <div className=\"InspectorDockingLeft\">\r\n                                    <DockSwitch\r\n                                        className=\"InspectorDockSwitch\"\r\n                                        checked={docks.left || false}\r\n                                        onChange={(e) => {\r\n                                            let checked = e.target.checked;\r\n                                            this.onDockActiveChange('left', checked);\r\n                                        }}\r\n                                        disabled={auto}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"InspectorDockingRight\">\r\n                                    <DockSwitch\r\n                                        className=\"InspectorDockSwitch\"\r\n                                        checked={docks.right || false}\r\n                                        onChange={(e) => {\r\n                                            let checked = e.target.checked;\r\n                                            this.onDockActiveChange('right', checked);\r\n                                        }}\r\n                                        disabled={auto}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"InspectorDockingTop\">\r\n                                    <DockSwitch\r\n                                        className=\"InspectorDockSwitch90\"\r\n                                        checked={docks.top || false}\r\n                                        onChange={(e) => {\r\n                                            let checked = e.target.checked;\r\n                                            this.onDockActiveChange('top', checked);\r\n                                        }}\r\n                                        disabled={auto}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"InspectorDockingBottom\">\r\n                                    <DockSwitch\r\n                                        className=\"InspectorDockSwitch90\"\r\n                                        checked={docks.bottom || false}\r\n                                        onChange={(e) => {\r\n                                            let checked = e.target.checked;\r\n                                            this.onDockActiveChange('bottom', checked);\r\n                                        }}\r\n                                        disabled={auto}\r\n                                    />\r\n                                </div>\r\n                                {\r\n                                    auto &&\r\n                                    <div className=\"InspectorDockingDisable\"/>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"InspectorOverflowDir\">\r\n                        <span className=\"InspectorOverflowDirTitle\">\r\n                            Auto docking\r\n                        </span>\r\n                            <Switch\r\n                                className=\"InspectorOverflowDirSwitch\"\r\n                                checked={auto || false}\r\n                                onChange={(e) => {\r\n                                    this.onDockAutoChange();\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div className=\"InspectorOverflowMarginRoot\">\r\n                            <NumberInputWithUnit\r\n                                className=\"InspectorOverflowMargin\"\r\n                                min={0}\r\n                                max={Infinity}\r\n                                disabled={!docks.top || auto}\r\n                                value={docks.top && (runtimeStyle && runtimeGridItemStyle ?\r\n                                    runtimeGridItemStyle.marginTop : gridItemStyle.marginTop)}\r\n                                onChange={(value) => {\r\n                                    this.onValueChange(\"marginTop\", value);\r\n                                }}\r\n                                onUnitChange={(unit) => {\r\n                                    this.onUnitChange(\"marginTop\", \"height\", unit);\r\n                                }}\r\n                                units={[\"%\", \"px\"]}\r\n                                unit={\r\n                                    docks.top &&\r\n                                    getUnitFromStyleValue(\r\n                                        runtimeStyle && runtimeGridItemStyle ?\r\n                                            runtimeGridItemStyle.marginTop : gridItemStyle.marginTop)\r\n                                }\r\n                                inputStyle={{\r\n                                    width: \"100%\",\r\n                                    fontSize: 12\r\n                                }}\r\n                                unitButtonStyle={{\r\n                                    fontSize: 11\r\n                                }}\r\n                            />\r\n                            <NumberInputWithUnit\r\n                                className=\"InspectorOverflowMargin\"\r\n                                min={0}\r\n                                max={Infinity}\r\n                                disabled={!docks.left || auto}\r\n                                value={docks.left && (runtimeStyle && runtimeGridItemStyle ?\r\n                                    runtimeGridItemStyle.marginLeft : gridItemStyle.marginLeft)}\r\n                                onChange={(value) => {\r\n                                    this.onValueChange(\"marginLeft\", value);\r\n                                }}\r\n                                onUnitChange={(unit) => {\r\n                                    this.onUnitChange(\"marginLeft\", \"height\", unit);\r\n                                }}\r\n                                units={[\"%\", \"px\"]}\r\n                                unit={docks.left &&\r\n                                getUnitFromStyleValue(\r\n                                    runtimeStyle && runtimeGridItemStyle ?\r\n                                        runtimeGridItemStyle.marginLeft : gridItemStyle.marginLeft)}\r\n                                inputStyle={{\r\n                                    width: \"100%\",\r\n                                    fontSize: 12\r\n                                }}\r\n                                unitButtonStyle={{\r\n                                    fontSize: 11\r\n                                }}\r\n                            />\r\n                            <NumberInputWithUnit\r\n                                className=\"InspectorOverflowMargin\"\r\n                                min={0}\r\n                                max={Infinity}\r\n                                disabled={!docks.bottom || auto}\r\n                                value={docks.bottom && (runtimeStyle && runtimeGridItemStyle ?\r\n                                    runtimeGridItemStyle.marginBottom : gridItemStyle.marginBottom)}\r\n                                onChange={(value) => {\r\n                                    this.onValueChange(\"marginBottom\", value);\r\n                                }}\r\n                                onUnitChange={(unit) => {\r\n                                    this.onUnitChange(\"marginBottom\", \"height\", unit);\r\n                                }}\r\n                                units={[\"%\", \"px\"]}\r\n                                unit={docks.bottom &&\r\n                                getUnitFromStyleValue(\r\n                                    runtimeStyle && runtimeGridItemStyle ?\r\n                                        runtimeGridItemStyle.marginBottom : gridItemStyle.marginBottom)}\r\n                                inputStyle={{\r\n                                    width: \"100%\",\r\n                                    fontSize: 12\r\n                                }}\r\n                                unitButtonStyle={{\r\n                                    fontSize: 11\r\n                                }}\r\n                            />\r\n                            <NumberInputWithUnit\r\n                                className=\"InspectorOverflowMargin\"\r\n                                min={0}\r\n                                max={Infinity}\r\n                                disabled={!docks.right || auto}\r\n                                value={docks.right && (runtimeStyle && runtimeGridItemStyle ?\r\n                                    runtimeGridItemStyle.marginRight : gridItemStyle.marginRight)}\r\n                                onChange={(value) => {\r\n                                    this.onValueChange(\"marginRight\", value);\r\n                                }}\r\n                                onUnitChange={(unit) => {\r\n                                    this.onUnitChange(\"marginRight\", \"height\", unit);\r\n                                }}\r\n                                units={[\"%\", \"px\"]}\r\n                                unit={docks.right &&\r\n                                getUnitFromStyleValue(\r\n                                    runtimeStyle && runtimeGridItemStyle ?\r\n                                        runtimeGridItemStyle.marginRight : gridItemStyle.marginRight)}\r\n                                inputStyle={{\r\n                                    width: \"100%\",\r\n                                    fontSize: 12\r\n                                }}\r\n                                unitButtonStyle={{\r\n                                    fontSize: 11\r\n                                }}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\nimport Menu from \"@material-ui/core/Menu/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem/MenuItem\";\r\n\r\nexport default class DropDown extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            showUnits: false\r\n        };\r\n\r\n        this.unitIconButton = React.createRef();\r\n    }\r\n\r\n    onClick = (e) => {\r\n        this.setState({anchorEl: e.currentTarget});\r\n    };\r\n\r\n    onChange = (option) => {\r\n        this.props.onChange(option);\r\n    };\r\n\r\n    getValue = () => {\r\n        if (this.props.valueRenderer) {\r\n            return this.props.valueRenderer(this.props.value) ||\r\n                (this.props.renderer && this.props.renderer(this.props.value)) ||\r\n                this.props.value || \"\";\r\n        } else {\r\n            return this.props.value || \"\";\r\n        }\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"DropDownRoot\" style={this.props.rootStyle}>\r\n                <span\r\n                    className=\"DropDownSpan\"\r\n                    style={{...this.props.spanStyle, ...{\r\n                        cursor: \"pointer\"\r\n                    }}}\r\n                    onClick={this.onClick}\r\n                >\r\n                    {this.getValue()}\r\n                </span>\r\n\r\n                <Menu\r\n                    style={{...{\r\n                            zIndex: 99999999999\r\n                        }, ...this.props.menuStyle}}\r\n                    anchorEl={this.state.anchorEl}\r\n                    open={this.state.anchorEl !== undefined}\r\n                    onClose={(e) => {\r\n                        this.setState({anchorEl: undefined});\r\n                    }}\r\n                    MenuListProps={{\r\n                        style: {\r\n                            padding: 0,\r\n                            width: this.props.spanStyle? this.props.spanStyle.width: \"auto\"\r\n                        }\r\n                    }}\r\n                >\r\n                    {\r\n                        this.props.options.map((option, i) => {\r\n                            return (\r\n                                <MenuItem\r\n                                    dense\r\n                                    key={i}\r\n                                    onClick={(e) => {\r\n                                        if (this.props.onChange)\r\n                                            this.props.onChange(option);\r\n\r\n                                        this.setState({anchorEl: undefined});\r\n                                    }}\r\n                                    style={{...(option.disabled && {\r\n                                        pointerEvents: \"none\"\r\n                                    }), ...this.props.menuItemStyle}}\r\n                                >\r\n                                    <span style={{\r\n                                        width: \"100%\"\r\n                                    }}>\r\n                                        {this.props.renderer ? this.props.renderer(option) : option}\r\n                                    </span>\r\n                                </MenuItem>\r\n                            )\r\n                        })\r\n                    }\r\n                </Menu>\r\n\r\n                <div\r\n                    className=\"DropDOwnArrow\"\r\n                >\r\n                    <img width={10} height={10} src={process.env.PUBLIC_URL + \"/static/icon/down-arrow.svg\"}/>\r\n                </div>\r\n\r\n                {\r\n                    this.props.disabled &&\r\n                    <div\r\n                        className=\"DropDOwnDisabled\"\r\n                        style={this.props.spanStyle}\r\n                    />\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\n\r\nexport default class NumberInput extends React.Component {\r\n    inputFilter = (value, oldValue) => {\r\n        if (/^\\d+$/.test(value)) {\r\n            value = parseFloat(value).toFixed(0);\r\n            value = Math.min(this.props.max, value);\r\n            value = Math.max(this.props.min, value);\r\n            return value;\r\n        } else if (value === \"\") {\r\n            return \"0\";\r\n        }\r\n\r\n        return oldValue;\r\n    };\r\n\r\n    onChange = (e) => {\r\n        let value = this.inputFilter(e.target.value, this.props.value);\r\n        this.props.onChange(value);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <input\r\n                className=\"NumberInput\"\r\n                value={this.props.value || 0}\r\n                onChange={this.onChange}\r\n                type=\"text\"\r\n                style={this.props.inputStyle}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport {getValueFromCSSValue, setScrollBehaviour} from \"../../AwesomwGridLayoutHelper\";\r\nimport NumberInput from \"../../Menus/CommonComponents/NumberInput\";\r\nimport InspectorTitle from \"./InspectorTitle\";\r\n\r\nexport default class InspectorScroll extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    onChangeScrollEffect = (option) => {\r\n        let {item} = this.props;\r\n        let offsetTop = item.getFromData(\"scrollStickyOffsetTop\");\r\n        setScrollBehaviour(item, option, item.props.viewRef.current, false, {offsetTop});\r\n    };\r\n\r\n    onChangeOffsetTop = (offsetTop) => {\r\n        offsetTop = `${offsetTop}px`;\r\n        let {item} = this.props;\r\n        let behaviour = item.getFromData(\"scrollBehaviour\");\r\n        setScrollBehaviour(item, behaviour, item.props.viewRef.current, false, {offsetTop});\r\n        item.props.select.onScrollItem();\r\n    };\r\n\r\n    render () {\r\n        let {item} = this.props;\r\n        let behaviour = item.getFromData(\"scrollBehaviour\");\r\n        let offsetTop = item.getFromData(\"scrollStickyOffsetTop\");\r\n        return (\r\n            <>\r\n                <InspectorTitle title=\"Scroll\" onChange={(open) => {\r\n                    this.setState({open});\r\n                }}/>\r\n\r\n                {\r\n                    this.state.open &&\r\n                    <div className=\"InspectorOptionRoot\">\r\n                        <div className=\"InspectorScrollEffect\"\r\n                             style={{\r\n                                 marginBottom: behaviour === 'sticky' ? 12 : 0\r\n                             }}\r\n                        >\r\n                            <div className=\"InspectorScrollTitle\">\r\n                                Scroll effect\r\n                            </div>\r\n\r\n                            <DropDown\r\n                                options={this.props.options || ['none', 'fixed', 'sticky']}\r\n                                onChange={this.onChangeScrollEffect}\r\n                                value={behaviour || 'none'}\r\n                                spanStyle={{\r\n                                    width: 96,\r\n                                    fontSize: 12\r\n                                }}\r\n                            />\r\n                        </div>\r\n\r\n                        {\r\n                            behaviour === 'sticky' &&\r\n                            <div className=\"InspectorScrollEffect\">\r\n                                <div className=\"InspectorScrollTitle\">\r\n                                    Offset top\r\n                                </div>\r\n\r\n                                <NumberInput\r\n                                    className=\"AngleInput\"\r\n                                    min={0}\r\n                                    max={Infinity}\r\n                                    value={getValueFromCSSValue(offsetTop)}\r\n                                    onChange={this.onChangeOffsetTop}\r\n                                    inputStyle={{\r\n                                        width: 96,\r\n                                        fontSize: 12,\r\n                                        textAlign: \"left\"\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport {\r\n    getPxValueFromCSSValue, getStyleValueFromPx,\r\n    getUnitFromStyleValue,\r\n    setDataInBreakpoint,\r\n    setTempData\r\n} from \"../../AwesomwGridLayoutHelper\";\r\nimport {cloneObject} from \"../../AwesomeGridLayoutUtils\";\r\nimport Switch from \"@material-ui/core/Switch/Switch\";\r\nimport NumberInputWithUnit from \"../../Menus/CommonComponents/NumberInputWithUnit\";\r\nimport InspectorTitle from \"./InspectorTitle\";\r\n\r\nexport default class InspectorPadding extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    onUnitChange = (prop, parentProp, unit) => {\r\n        let {item} = this.props;\r\n        let padding = cloneObject(item.getFromData(\"padding\")) || {};\r\n        let compositePadding = item.getCompositeFromData(\"padding\") || {};\r\n\r\n        let parentRect = item.props.parent.getSize(false);\r\n        let value = getPxValueFromCSSValue(compositePadding[prop], parentRect.width, item);\r\n\r\n        if (unit === \"px\") {\r\n            padding[prop] = `${value}${unit}`;\r\n        } else if (unit === \"%\") {\r\n            padding[prop] = `${value / item.props.parent.getSize(false).width * 100}${unit}`;\r\n        }\r\n        else if (unit === \"vh\") {\r\n            padding[prop] = `${value / item.props.breakpointmanager.getWindowHeight() * 100}${unit}`;\r\n        }\r\n        else if (unit === \"vw\") {\r\n            padding[prop] = `${value / item.props.breakpointmanager.getWindowWidth() * 100}${unit}`;\r\n        }\r\n\r\n        setDataInBreakpoint(\"padding\", padding, item, true, undefined, true);\r\n    };\r\n\r\n    onValueChange = (prop, value) => {\r\n        let {item} = this.props;\r\n        let equalPadding = item.getFromTempData(\"equalPadding\");\r\n        let padding = cloneObject(item.getFromData(\"padding\")) || {};\r\n        let compositePadding = item.getCompositeFromData(\"padding\") || {};\r\n        padding[prop] = `${value}${getUnitFromStyleValue(compositePadding[prop] || \"px\")}`;\r\n        if (equalPadding) {\r\n            let parentRect = item.props.parent? item.props.parent.getSize(false):\r\n                {\r\n                    scrollWidthMinusPadding: item.props.breakpointmanager.getWindowWidth()\r\n                };\r\n            let pxValue = getPxValueFromCSSValue(padding[prop], parentRect.scrollWidthMinusPadding, item);\r\n            padding = {\r\n                top: `${getStyleValueFromPx(pxValue, parentRect.scrollWidthMinusPadding, getUnitFromStyleValue(compositePadding.top || \"px\"), item)}`,\r\n                left: `${getStyleValueFromPx(pxValue, parentRect.scrollWidthMinusPadding, getUnitFromStyleValue(compositePadding.left || \"px\"), item)}`,\r\n                bottom: `${getStyleValueFromPx(pxValue, parentRect.scrollWidthMinusPadding, getUnitFromStyleValue(compositePadding.bottom || \"px\"), item)}`,\r\n                right: `${getStyleValueFromPx(pxValue, parentRect.scrollWidthMinusPadding, getUnitFromStyleValue(compositePadding.right || \"px\"), item)}`,\r\n            };\r\n        }\r\n\r\n        setDataInBreakpoint(\"padding\", padding, item, true, undefined, true);\r\n\r\n        item.invalidateSize(true, true, true, undefined, true);\r\n\r\n        window.requestAnimationFrame(() => {\r\n            item.props.select.onScrollItem();\r\n        })\r\n    };\r\n\r\n    onEqualPadding = (equalPadding) => {\r\n        let {item} = this.props;\r\n\r\n        setTempData(\"equalPadding\", equalPadding, item, true);\r\n        if (equalPadding) {\r\n            let compositePadding = item.getCompositeFromData(\"padding\") || {};\r\n\r\n            let parentRect = item.props.parent? item.props.parent.getSize(false):\r\n                {\r\n                    scrollWidthMinusPadding: item.props.breakpointmanager.getWindowWidth()\r\n                };\r\n            let max = Math.max(\r\n                getPxValueFromCSSValue(compositePadding.top, parentRect.scrollWidthMinusPadding, item) || 0,\r\n                getPxValueFromCSSValue(compositePadding.left, parentRect.scrollWidthMinusPadding, item) || 0,\r\n                getPxValueFromCSSValue(compositePadding.bottom, parentRect.scrollWidthMinusPadding, item) || 0,\r\n                getPxValueFromCSSValue(compositePadding.right, parentRect.scrollWidthMinusPadding, item) || 0,\r\n            );\r\n\r\n            let padding = {\r\n                top: `${getStyleValueFromPx(max, parentRect.scrollWidthMinusPadding, getUnitFromStyleValue(compositePadding.top || \"px\"), item)}`,\r\n                left: `${getStyleValueFromPx(max, parentRect.scrollWidthMinusPadding, getUnitFromStyleValue(compositePadding.left || \"px\"), item)}`,\r\n                bottom: `${getStyleValueFromPx(max, parentRect.scrollWidthMinusPadding, getUnitFromStyleValue(compositePadding.bottom || \"px\"), item)}`,\r\n                right: `${getStyleValueFromPx(max, parentRect.scrollWidthMinusPadding, getUnitFromStyleValue(compositePadding.right || \"px\"), item)}`,\r\n            };\r\n\r\n            setDataInBreakpoint(\"padding\", padding, item, true, undefined, true);\r\n\r\n            item.invalidateSize(true, true, true, undefined, true);\r\n        }\r\n    };\r\n\r\n    render () {\r\n        let {item} = this.props;\r\n        let padding = item.getCompositeFromData(\"padding\") || {};\r\n        let equalPadding = item.getFromTempData(\"equalPadding\") || false;\r\n        return (\r\n            <>\r\n                <InspectorTitle title=\"Padding\" onChange={(open) => {\r\n                    this.setState({open});\r\n                }}/>\r\n\r\n                {\r\n                    this.state.open &&\r\n                    <div className=\"InspectorOptionRoot\">\r\n                        <div className=\"InspectorOverflowMarginRoot\">\r\n                            <NumberInputWithUnit\r\n                                className=\"InspectorOverflowMargin\"\r\n                                min={0}\r\n                                max={Infinity}\r\n                                value={padding.top || \"0px\"}\r\n                                onChange={(value) => {\r\n                                    this.onValueChange(\"top\", value);\r\n                                }}\r\n                                onUnitChange={(unit) => {\r\n                                    this.onUnitChange(\"top\", \"height\", unit);\r\n                                }}\r\n                                units={[\"%\", \"px\", \"vh\", \"vw\"]}\r\n                                unit={\r\n                                    getUnitFromStyleValue(padding.top || \"px\")\r\n                                }\r\n                                inputStyle={{\r\n                                    width: \"100%\",\r\n                                    fontSize: 12\r\n                                }}\r\n                                unitButtonStyle={{\r\n                                    fontSize: 11\r\n                                }}\r\n                            />\r\n                            <NumberInputWithUnit\r\n                                className=\"InspectorOverflowMargin\"\r\n                                min={0}\r\n                                max={Infinity}\r\n                                value={padding.left || \"0px\"}\r\n                                onChange={(value) => {\r\n                                    this.onValueChange(\"left\", value);\r\n                                }}\r\n                                onUnitChange={(unit) => {\r\n                                    this.onUnitChange(\"left\", \"height\", unit);\r\n                                }}\r\n                                units={[\"%\", \"px\", \"vh\", \"vw\"]}\r\n                                unit={\r\n                                    getUnitFromStyleValue(padding.left || \"px\")\r\n                                }\r\n                                inputStyle={{\r\n                                    width: \"100%\",\r\n                                    fontSize: 12\r\n                                }}\r\n                                unitButtonStyle={{\r\n                                    fontSize: 11\r\n                                }}\r\n                            />\r\n                            <NumberInputWithUnit\r\n                                className=\"InspectorOverflowMargin\"\r\n                                min={0}\r\n                                max={Infinity}\r\n                                value={padding.bottom || \"0px\"}\r\n                                onChange={(value) => {\r\n                                    this.onValueChange(\"bottom\", value);\r\n                                }}\r\n                                onUnitChange={(unit) => {\r\n                                    this.onUnitChange(\"bottom\", \"height\", unit);\r\n                                }}\r\n                                units={[\"%\", \"px\", \"vh\", \"vw\"]}\r\n                                unit={\r\n                                    getUnitFromStyleValue(padding.bottom || \"px\")\r\n                                }\r\n                                inputStyle={{\r\n                                    width: \"100%\",\r\n                                    fontSize: 12\r\n                                }}\r\n                                unitButtonStyle={{\r\n                                    fontSize: 11\r\n                                }}\r\n                            />\r\n                            <NumberInputWithUnit\r\n                                className=\"InspectorOverflowMargin\"\r\n                                min={0}\r\n                                max={Infinity}\r\n                                value={padding.right || \"0px\"}\r\n                                onChange={(value) => {\r\n                                    this.onValueChange(\"right\", value);\r\n                                }}\r\n                                onUnitChange={(unit) => {\r\n                                    this.onUnitChange(\"right\", \"height\", unit);\r\n                                }}\r\n                                units={[\"%\", \"px\", \"vh\", \"vw\"]}\r\n                                unit={\r\n                                    getUnitFromStyleValue(padding.right || \"px\")\r\n                                }\r\n                                inputStyle={{\r\n                                    width: \"100%\",\r\n                                    fontSize: 12\r\n                                }}\r\n                                unitButtonStyle={{\r\n                                    fontSize: 11\r\n                                }}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"InspectorAdjustRotate\">\r\n                                <span className=\"InspectorOverflowDirTitle\">\r\n                                    Equal padding\r\n                                </span>\r\n                            <Switch\r\n                                className=\"InspectorOverflowDirSwitch\"\r\n                                checked={equalPadding}\r\n                                onChange={(e) => {\r\n                                    let checked = e.target.checked;\r\n                                    this.onEqualPadding(checked);\r\n                                }}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport ToggleButton from '@material-ui/lab/ToggleButton';\r\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\r\nimport {setDataInBreakpoint} from \"../../AwesomwGridLayoutHelper\";\r\nimport {cloneObject} from \"../../AwesomeGridLayoutUtils\";\r\nimport Switch from \"@material-ui/core/Switch/Switch\";\r\nimport InspectorTitle from \"./InspectorTitle\";\r\n\r\nexport default class InspectorOverflow extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    onChangeState = (e, value) => {\r\n        let {item} = this.props;\r\n        let thisBpOverflowData = item.getFromData(\"overflowData\");\r\n        let compositOverflowData = item.getCompositeFromData(\"overflowData\");\r\n        if (value === 'scroll' &&\r\n            (!compositOverflowData ||\r\n            ((!compositOverflowData.overflowY || compositOverflowData.overflowY === \"hidden\")&&\r\n            (!compositOverflowData.overflowX || compositOverflowData.overflowX === \"hidden\"))))\r\n        {\r\n            let newOverflowData = cloneObject(thisBpOverflowData || {});\r\n            newOverflowData.state = 'scroll';\r\n            newOverflowData.overflowY = 'scroll';\r\n            console.log(\"onChangeState\", JSON.stringify(newOverflowData));\r\n            setDataInBreakpoint(\"overflowData\", newOverflowData, item, true, undefined, true);\r\n            return;\r\n        }\r\n\r\n        setDataInBreakpoint(\"overflowData.state\", value, item, true, undefined, true);\r\n    };\r\n\r\n    changeScrollDirection = (propName, checked) => {\r\n        let {item} = this.props;\r\n        setDataInBreakpoint(`overflowData.${propName}`, checked? 'scroll': undefined\r\n            , item, true, undefined, true);\r\n    };\r\n\r\n    onChangeAuto = (e, value) => {\r\n        let {item} = this.props;\r\n        setDataInBreakpoint(\"overflowData.auto\", value, item, true, undefined, true);\r\n    };\r\n\r\n    render () {\r\n        let {item} = this.props;\r\n        let overflowData = item.getCompositeFromData(\"overflowData\");\r\n        return (\r\n            <>\r\n                <InspectorTitle title=\"Overflow content\" onChange={(open) => {\r\n                    this.setState({open});\r\n                }}/>\r\n\r\n                {\r\n                    this.state.open &&\r\n                    <div className=\"InspectorOptionRoot\">\r\n                        <div className=\"InspectorAnchorNameTitle\">\r\n                            Overflow\r\n                        </div>\r\n                        <ToggleButtonGroup\r\n                            className=\"InspectorOverflowType\"\r\n                            size='small'\r\n                            value={overflowData.state}\r\n                            exclusive\r\n                            onChange={this.onChangeState}\r\n                        >\r\n                            <ToggleButton value=\"show\" className=\"InspectorOverflowTypeButton\" size='small'\r\n                                        style={{\r\n                                            padding: 3\r\n                                        }}\r\n                            >\r\n                                Show\r\n                            </ToggleButton>\r\n                            <ToggleButton value=\"hide\" className=\"InspectorOverflowTypeButton\" size='small'\r\n                                          style={{\r\n                                              padding: 3\r\n                                          }}\r\n                            >\r\n                                Hide\r\n                            </ToggleButton>\r\n                            <ToggleButton value=\"scroll\" className=\"InspectorOverflowTypeButton\" size='small'\r\n                                          style={{\r\n                                              padding: 3\r\n                                          }}\r\n                            >\r\n                                Scroll\r\n                            </ToggleButton>\r\n                        </ToggleButtonGroup>\r\n\r\n                        {\r\n                            overflowData.state === 'scroll' &&\r\n                            <>\r\n                                <div className=\"InspectorOverflowDir\">\r\n                                <span className=\"InspectorOverflowDirTitle\">\r\n                                    Scroll vertically\r\n                                </span>\r\n                                    <Switch\r\n                                        className=\"InspectorOverflowDirSwitch\"\r\n                                        checked={overflowData.overflowY === \"scroll\" || overflowData.overflowY === \"auto\"}\r\n                                        onChange={(e) => {\r\n                                            let checked = e.target.checked;\r\n                                            this.changeScrollDirection('overflowY', checked);\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"InspectorOverflowDir\">\r\n                                <span className=\"InspectorOverflowDirTitle\">\r\n                                    Scroll horizontally\r\n                                </span>\r\n                                    <Switch\r\n                                        className=\"InspectorOverflowDirSwitch\"\r\n                                        checked={overflowData.overflowX === \"scroll\" || overflowData.overflowX === \"auto\"}\r\n                                        onChange={(e) => {\r\n                                            let checked = e.target.checked;\r\n                                            this.changeScrollDirection('overflowX', checked);\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"InspectorOverflowAuto\">\r\n                                <span className=\"InspectorOverflowDirTitle\">\r\n                                    Scrollbar visibility\r\n                                </span>\r\n                                </div>\r\n                                <ToggleButtonGroup\r\n                                    className=\"InspectorOverflowAutoToggles\"\r\n                                    size='small'\r\n                                    value={overflowData.auto || \"always\"}\r\n                                    exclusive\r\n                                    onChange={this.onChangeAuto}\r\n                                >\r\n                                    <ToggleButton value=\"hide\" className=\"InspectorOverflowTypeButton\" size='small'\r\n                                                  style={{\r\n                                                      padding: 3\r\n                                                  }}\r\n                                    >\r\n                                        Hide\r\n                                    </ToggleButton>\r\n                                    <ToggleButton value=\"auto\" className=\"InspectorOverflowTypeButton\" size='small'\r\n                                                  style={{\r\n                                                      padding: 3\r\n                                                  }}\r\n                                    >\r\n                                        Auto\r\n                                    </ToggleButton>\r\n                                    <ToggleButton value=\"always\" className=\"InspectorOverflowTypeButton\" size='small'\r\n                                                  style={{\r\n                                                      padding: 3\r\n                                                  }}\r\n                                    >\r\n                                        Show\r\n                                    </ToggleButton>\r\n                                </ToggleButtonGroup>\r\n                            </>\r\n                        }\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\n\r\nexport default class TextInput extends React.Component {\r\n    onChange = (e) => {\r\n        let value = e.target.value;\r\n        if (this.props.onChange)\r\n            this.props.onChange(value);\r\n    };\r\n\r\n    render () {\r\n        let {inputStyle} = this.props;\r\n        let inputProps = Object.assign({}, this.props);\r\n        delete inputProps.inputStyle;\r\n        return (\r\n            <input\r\n                {...inputProps}\r\n                className=\"NumberInput\"\r\n                value={this.props.value || \"\"}\r\n                onChange={this.onChange}\r\n                type=\"text\"\r\n                style={inputStyle}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport Switch from \"@material-ui/core/Switch/Switch\";\r\nimport TextInput from \"../../Menus/CommonComponents/TextInput\";\r\nimport InspectorTitle from \"./InspectorTitle\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class InspectorAnchor extends React.Component {\r\n    static contextType = EditorContext;\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            open: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    onEnableAnchor = (enable) => {\r\n        let {item} = this.props;\r\n        let anchor = item.getFromTempData(\"anchor\");\r\n        if (enable) {\r\n            console.log(\"onEnableAnchor\", this.context);\r\n            item.props.anchorMan.addAnchor(item.props.id.replace(\"comp_\", ''), item, this.context.pageData);\r\n        }\r\n        else {\r\n            item.props.anchorMan.removeAnchor(anchor.id, item, this.context.pageData);\r\n        }\r\n    };\r\n\r\n    onChangeName = (newName) => {\r\n        let {item} = this.props;\r\n        let anchor = item.getFromTempData(\"anchor\");\r\n        item.props.anchorMan.modifyAnchor(anchor.id, newName, item, this.context.pageData);\r\n    };\r\n\r\n    render() {\r\n        let {item} = this.props;\r\n        let anchor = item.getFromTempData(\"anchor\");\r\n        return (\r\n            <>\r\n                <InspectorTitle title=\"Anchor\" onChange={(open) => {\r\n                    this.setState({open});\r\n                }}/>\r\n\r\n                {\r\n                    this.state.open &&\r\n                    <div className=\"InspectorOptionRoot\">\r\n\r\n                        <div className=\"InspectorOverflowDir\">\r\n                        <span className=\"InspectorOverflowDirTitle\">\r\n                            Enable Anchor\r\n                        </span>\r\n                            <Switch\r\n                                className=\"InspectorOverflowDirSwitch\"\r\n                                checked={anchor !== undefined}\r\n                                onChange={(e) => {\r\n                                    this.onEnableAnchor(e.target.checked);\r\n                                }}\r\n                            />\r\n                        </div>\r\n\r\n                        {\r\n                            anchor &&\r\n                            <div className=\"InspectorAnchorName\">\r\n                                <div className=\"InspectorAnchorNameTitle\">\r\n                                    Anchor name\r\n                                </div>\r\n                                <TextInput\r\n                                    value={anchor.name}\r\n                                    onChange={(v) => this.onChangeName(v)}\r\n                                    inputStyle={{\r\n                                        width: \"auto\",\r\n                                        textAlign: \"left\"\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport {rotate} from \"../../AwesomwGridLayoutHelper\";\r\nimport InspectorTitle from \"./InspectorTitle\";\r\nimport NumberInputWithUnit from \"../../Menus/CommonComponents/NumberInputWithUnit\";\r\n\r\nexport default class InspectorAdjustment extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            open: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    onRotationChange = (degree) => {\r\n        console.warn(\"onRotationChange\", degree)\r\n        let {item} = this.props;\r\n\r\n        rotate(item, degree);\r\n    };\r\n\r\n    render() {\r\n        let {item} = this.props;\r\n        let rotate = item.getFromData(\"transform.rotateDegree\");\r\n        return (\r\n            <>\r\n                <InspectorTitle title=\"Adjust\" onChange={(open) => {\r\n                    this.setState({open});\r\n                }}/>\r\n\r\n                {\r\n                    this.state.open &&\r\n                    <div className=\"InspectorOptionRoot\">\r\n                        <div className=\"InspectorAdjustRotate\">\r\n                            <span className=\"InspectorOverflowDirTitle\">\r\n                                Rotate\r\n                            </span>\r\n                            <NumberInputWithUnit\r\n                                min={0}\r\n                                max={360}\r\n                                value={rotate || 0}\r\n                                onChange={(value) => {\r\n                                    this.onRotationChange(value);\r\n                                }}\r\n                                units={[\"\"]}\r\n                                unit={\"\"}\r\n                                inputStyle={{\r\n                                    width: 64,\r\n                                    fontSize: 12\r\n                                }}\r\n                                unitButtonStyle={{\r\n                                    fontSize: 11\r\n                                }}\r\n                                disableUnit\r\n                            />\r\n                        </div>\r\n\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {assignData, cloneObject} from \"../../AwesomeGridLayoutUtils\";\r\nimport {getCompositeDesignData, setDataInBreakpoint} from \"../../AwesomwGridLayoutHelper\";\r\nimport InspectorBreadcrumbs from \"../../Test/Inspector/InspectorBreadcrumbs\";\r\nimport InspectorAligns from \"../../Test/Inspector/InspectorAligns\";\r\nimport InspectorSize from \"../../Test/Inspector/InspectorSize\";\r\nimport InspectorPosition from \"../../Test/Inspector/InspectorPosition\";\r\nimport InspectorScroll from \"../../Test/Inspector/InspectorScroll\";\r\nimport InspectorPadding from \"../../Test/Inspector/InspectorPadding\";\r\nimport InspectorOverflow from \"../../Test/Inspector/InspectorOverflow\";\r\nimport InspectorAnchor from \"../../Test/Inspector/InspectorAnchor\";\r\nimport InspectorAdjustment from \"../../Test/Inspector/InspectorAdjustment\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class AGLComponent extends React.Component{\r\n    static contextType = EditorContext;\r\n    constructor (props) {\r\n        super(props);\r\n        console.log(\"AGLComponent constructor\");\r\n    }\r\n\r\n    resolveDesignData = () => {\r\n        // Must Override\r\n    };\r\n\r\n    getData = () => {\r\n        let componentData = this.getDefaultData && this.getDefaultData();\r\n        let componentBpData = componentData.bpData;\r\n        componentData = assignData(componentData, cloneObject(this.props.data));\r\n        if (componentBpData) {\r\n            let tempBpData = componentData.bpData;\r\n            componentData.bpData = assignData(componentBpData, tempBpData);\r\n        }\r\n\r\n        return componentData;\r\n    };\r\n\r\n    getAgl = () => {\r\n        return this.props.aglRef.current;\r\n    };\r\n\r\n    getAglRef = () => {\r\n        return this.props.aglRef;\r\n    };\r\n\r\n    showComponentCode = () => {\r\n        if (!this.getAgl())\r\n            return;\r\n\r\n        let cloneProps = Object.assign({}, this.getAgl().props);\r\n        // console.log(\"showComponentCode\" , JSON.stringify(this.getAgl().getClearProps(cloneProps)));;\r\n        // console.log(\"innerHtml\" , this.getAgl().rootDivRef.current.innerHTML);\r\n\r\n        let componentData =\r\n            {\r\n                \"tagName\": this.props.tagName,\r\n                \"width\": 3,\r\n                \"height\": 2,\r\n                \"innerHtml\": this.getAgl().rootDivRef.current.innerHTML,\r\n                \"presetProps\": this.getAgl().getClearProps(cloneProps)\r\n            }\r\n\r\n        // Create new element\r\n        var el = document.createElement('textarea');\r\n        // Set value (string to be copied)\r\n        el.value = JSON.stringify(componentData);\r\n        // Set non-editable to avoid focus and move outside of view\r\n        el.setAttribute('readonly', '');\r\n        el.style = {position: 'absolute', left: '-9999px'};\r\n        document.body.appendChild(el);\r\n        // Select text inside element\r\n        el.select();\r\n        // Copy text to clipboard\r\n        document.execCommand('copy');\r\n        // Remove temporary element\r\n        document.body.removeChild(el);\r\n\r\n        console.log(\"componentData\" , componentData);\r\n    }\r\n\r\n    onDesignChange = (designKey, value) => {\r\n        console.log(\"onDesignChange\", designKey, value)\r\n        setDataInBreakpoint(designKey, value, this.getAgl(), true, undefined, true);\r\n        this.updateDesign(getCompositeDesignData(this.getAgl()));\r\n    };\r\n\r\n    getInspector = () => {\r\n        if (this.getInspectorOverride)\r\n            return this.getInspectorOverride();\r\n        return (\r\n            <>\r\n                <InspectorBreadcrumbs\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAligns\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorSize\r\n                    item={this.getAgl()}\r\n                    widthUnits={[\"auto\", \"%\", \"px\", \"vh\", \"vw\"]}\r\n                    heightUnits={[\"auto\", \"%\", \"px\", \"vh\", \"vw\"]}\r\n                    minWidthUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    minHeightUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    maxWidthUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    maxHeightUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                />\r\n                <InspectorOverflow\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorPosition\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorScroll\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorPadding\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAdjustment\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAnchor\r\n                    item={this.getAgl()}\r\n                />\r\n            </>\r\n        )\r\n    };\r\n}\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nconst LightTooltip = withStyles(theme => ({\r\n    tooltip: {\r\n        backgroundColor: \"#fff\",\r\n        color: '#000000',\r\n        boxShadow: theme.shadows[1],\r\n        fontSize: 14,\r\n    },\r\n}))(Tooltip);\r\n\r\nexport default LightTooltip\r\n\r\nexport const LightMenuTooltip = withStyles(theme => ({\r\n    tooltip: {\r\n        backgroundColor: \"#fff\",\r\n        color: '#000000',\r\n        boxShadow: '0px 5px 5px -3px rgba(0,0,0,0.2), 0px 8px 10px 1px rgba(0,0,0,0.14), 0px 3px 14px 2px rgba(0,0,0,0.12)',\r\n        fontSize: 14,\r\n        padding: 0\r\n    },\r\n}))(Tooltip);\r\n","import React from \"react\";\r\nimport './MenuBase.css';\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport LightTooltip from \"../../Components/Containers/Menus/Components/LightTooltip\";\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nexport default class MenuButton extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {openTooltip: false};\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.mounted = false;\r\n    }\r\n\r\n    onClick = (e) => {\r\n        if (this.props.onClick) {\r\n            this.props.onClick(e);\r\n            return;\r\n        }\r\n\r\n        let {menu} = this.props;\r\n        this.props.select.updateMenu((typeof menu === \"function\") ? menu(e) : menu);\r\n    };\r\n\r\n    toggleTooltip = (openTooltip) => {\r\n        this.setState({openTooltip})\r\n    }\r\n\r\n    render () {\r\n        let {hide, title} = this.props;\r\n        let {openTooltip} = this.state;\r\n\r\n        if (hide)\r\n            return null;\r\n\r\n        return (\r\n            <LightTooltip\r\n                open={openTooltip}\r\n                title={title || \"\"}\r\n                placement=\"top\"\r\n                PopperProps={{style:{zIndex: 999999999999999}}}\r\n            >\r\n                <IconButton\r\n                    onClick={this.onClick}\r\n                    onMouseEnter={() => this.toggleTooltip(true)}\r\n                    onMouseLeave={() => this.toggleTooltip(false)}\r\n                >\r\n                    {\r\n                        this.props.icon\r\n                    }\r\n                    {\r\n                        this.props.children\r\n                    }\r\n                </IconButton>\r\n            </LightTooltip>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './MenuBase.css';\r\nimport '../../HelperStyle.css';\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\n\r\nexport default class MenuBaseIndexTitle extends React.Component {\r\n    render () {\r\n        return (\r\n            <div\r\n                className=\"MenuBaseIndexTitle\"\r\n            >\r\n                <ButtonBase\r\n                    disableRipple={!this.props.onIndexClick}\r\n                    onClick={(e) => {\r\n                        this.props.onIndexClick &&\r\n                        this.props.onIndexClick(e, this.props.title, this.props.index)\r\n                    }}\r\n                >\r\n                    <span>\r\n                        {this.props.title}\r\n                    </span>\r\n                </ButtonBase>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './MenuBase.css';\r\nimport Draggable from 'react-draggable';\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport '../../HelperStyle.css';\r\nimport MenuBaseIndexTitle from \"./MenuBaseIndexTitle\";\r\nimport LightTooltip from \"../../Components/Containers/Menus/Components/LightTooltip\";\r\nimport Tab from \"@material-ui/core/Tab/Tab\";\r\nimport Tabs from \"@material-ui/core/Tabs/Tabs\";\r\n\r\nexport default class MenuBase extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedIndexNo: props.defaultIndexNo,\r\n            currentState: props.multiState ? Object.keys(props.states)[0]: \"\"\r\n        }\r\n    }\r\n\r\n    close = () => {\r\n        if (this.props.multiState)\r\n            Object.values(this.props.states)[0].toggle();\r\n\r\n        this.props.select.updateMenu();\r\n    };\r\n\r\n    onIndexClick = (e, key, selectedIndexNo) => {\r\n        this.setState({selectedIndexNo})\r\n    };\r\n\r\n    getDefaultPos = (defaultPosition) => {\r\n        return {\r\n            y: Math.min(defaultPosition.y, window.innerHeight - 398),\r\n            x: Math.min(defaultPosition.x, window.innerWidth - 300),\r\n        }\r\n    };\r\n\r\n    getOptions = () => {\r\n        if (!this.props.multiState)\r\n            return this.props.options;\r\n\r\n        return this.props.states[this.state.currentState].options;\r\n    }\r\n\r\n    getIndex = () => {\r\n        if (!this.props.multiState)\r\n            return this.props.index;\r\n\r\n        return this.props.states[this.state.currentState].index;\r\n    }\r\n\r\n    onChangeTab = (e, currentState) => {\r\n        this.setState({currentState});\r\n        this.props.states[currentState].toggle();\r\n    };\r\n\r\n    render() {\r\n        let options = this.getOptions();\r\n        let index = this.getIndex();\r\n        return (\r\n            <Draggable\r\n                handle=\".MenuBaseHeaderTitle\"\r\n                bounds=\"parent\"\r\n                defaultPosition={this.getDefaultPos(this.props.defaultPosition)}\r\n            >\r\n                <div\r\n                    className=\"MenuBaseRoot\"\r\n                    style={this.props.styles.root}\r\n                >\r\n                    {/*Header*/}\r\n                    <div\r\n                        className=\"MenuBaseHeaderContainer\"\r\n                    >\r\n                        <span className=\"MenuBaseHeaderTitle\">\r\n                            {this.props.menuTitle || \"Menu Title\"}\r\n                        </span>\r\n\r\n                        <IconButton\r\n                            onClick={this.close}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={16}\r\n                                height={16}\r\n                                src={require('../../icons/close.svg')}\r\n                            />\r\n                        </IconButton>\r\n                    </div>\r\n\r\n                    {/*Tabs*/}\r\n                    {\r\n                        this.props.multiState &&\r\n                        <Tabs\r\n                            className=\"MenuBaseTabBox\"\r\n                            value={this.state.currentState}\r\n                            indicatorColor=\"primary\"\r\n                            textColor=\"primary\"\r\n                            variant=\"fullWidth\"\r\n                            onChange={this.onChangeTab}\r\n                        >\r\n                            {\r\n                                Object.values(this.props.states).map(stateData => {\r\n                                    return (\r\n                                        <Tab key={stateData.name} label={stateData.render} value={stateData.name} className=\"MenuBaseTab\"/>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </Tabs>\r\n                    }\r\n\r\n                    {/*Body*/}\r\n                    <div\r\n                        className=\"MenuBaseBodyContainer\"\r\n                    >\r\n                        <div className=\"MenuBaseBodyIndex\">\r\n                            {\r\n                                index.map((indexData, i) => {\r\n                                    return (\r\n                                        <LightTooltip\r\n                                            key={i}\r\n                                            title={indexData.key}\r\n                                            PopperProps={{\r\n                                                style: {\r\n                                                    zIndex: 999999999999999\r\n                                                }\r\n                                            }}\r\n                                            placement=\"right\"\r\n                                        >\r\n                                            <div\r\n                                                key={i}\r\n                                                style={{\r\n                                                    backgroundColor: this.state.selectedIndexNo === i &&\r\n                                                        'rgba(115, 115, 115, 0.36)'\r\n                                                }}\r\n                                            >\r\n                                                <IconButton\r\n                                                    key={indexData.key}\r\n                                                    onClick={(e) => {\r\n                                                        this.onIndexClick(e, indexData.key, i);\r\n                                                    }}\r\n                                                    buttonBaseStyle={{\r\n                                                        marginLeft: 0\r\n                                                    }}\r\n                                                >\r\n                                                    {indexData.icon}\r\n                                                </IconButton>\r\n                                            </div>\r\n                                        </LightTooltip>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </div>\r\n                        <div className=\"MenuBaseBodyOptions\">\r\n                            <div className=\"MenuBaseBodyOptionsContainer\">\r\n                            {\r\n                                this.state.selectedIndexNo !== undefined &&\r\n                                <MenuBaseIndexTitle\r\n                                    index={this.state.selectedIndexNo}\r\n                                    key={options[this.state.selectedIndexNo].key}\r\n                                    title={options[this.state.selectedIndexNo].key}\r\n                                />\r\n                            }\r\n                            {\r\n                                this.state.selectedIndexNo !== undefined &&\r\n                                options[this.state.selectedIndexNo].render\r\n                            }\r\n                            {\r\n                                this.state.selectedIndexNo === undefined &&\r\n                                options.map((option, i) => {\r\n                                    return (\r\n                                        <MenuBaseIndexTitle\r\n                                            index={i}\r\n                                            key={option.key}\r\n                                            title={option.key}\r\n                                            onIndexClick={this.onIndexClick}\r\n                                        />\r\n                                    )\r\n                                })\r\n                            }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Draggable>\r\n        )\r\n    }\r\n}\r\n\r\nMenuBase.defaultProps = {\r\n    styles: {}\r\n};\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\nimport RCSlider from 'rc-slider';\r\n\r\nexport default class Slider extends React.Component {\r\n    render () {\r\n        return (\r\n            <RCSlider\r\n                {...this.props}\r\n                min={this.props.min}\r\n                max={this.props.max}\r\n                step={this.props.step}\r\n                value={this.props.value}\r\n                onChange={this.props.onChange}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\nimport Slider from \"./Slider\";\r\nimport NumberInput from \"./NumberInput\";\r\n\r\nexport default class SliderInputControlled extends React.Component {\r\n    onChange = (value) => {\r\n        this.props.onDesignChange &&\r\n        this.props.onDesignChange(this.props.designKey, value);\r\n\r\n        this.props.onChange &&\r\n        this.props.onChange(value);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <Slider\r\n                    className=\"BorderWidthSlider\"\r\n                    style={{ marginRight: 24 }}\r\n                    min={this.props.min}\r\n                    max={this.props.max}\r\n                    value={this.props.value}\r\n                    onChange={this.onChange}\r\n                    handleStyle={{\r\n                        marginLeft: 7\r\n                    }}\r\n                />\r\n\r\n                <NumberInput\r\n                    className=\"BorderWidthInput\"\r\n                    min={this.props.min}\r\n                    max={this.props.max}\r\n                    value={this.props.value}\r\n                    onChange={this.onChange}\r\n                />\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\n\r\nexport default class Image extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            src: props.src,\r\n            hasError: false,\r\n        };\r\n    }\r\n\r\n    onError = (e) => {\r\n        if (!this.state.hasError) {\r\n            let {errorsrc} = this.props;\r\n            this.setState({\r\n                src: errorsrc,\r\n                hasError: true,\r\n            });\r\n        }\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <img\r\n                {...this.props}\r\n                // onError={this.onError}\r\n                src={this.state.src/* || this.props.errorsrc*/}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ReactDOM from 'react-dom';\r\n\r\nclass Portal extends React.Component {\r\n    componentWillUnmount() {\r\n        if (this.defaultNode) {\r\n            document.body.removeChild(this.defaultNode);\r\n        }\r\n        this.defaultNode = null;\r\n    }\r\n\r\n    canUseDOM = !!(\r\n        typeof window !== 'undefined' &&\r\n        window.document &&\r\n        window.document.createElement\r\n    );\r\n\r\n    render() {\r\n        if (!this.canUseDOM) {\r\n            return null;\r\n        }\r\n        let node = this.props.node;\r\n        if (this.props.disabled) {\r\n            return this.props.children;\r\n        }\r\n        if (this.props.nodeId) {\r\n            node = document && document.getElementById(this.props.nodeId);\r\n        }\r\n        if (!node && !this.defaultNode) {\r\n            this.defaultNode = document.createElement('div');\r\n            document.body.appendChild(this.defaultNode);\r\n        }\r\n        return ReactDOM.createPortal(\r\n            this.props.children,\r\n            node || this.defaultNode\r\n        );\r\n    }\r\n}\r\n\r\nPortal.propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    node: PropTypes.any\r\n};\r\n\r\nexport default Portal;\r\n","import React from \"react\";\r\nimport './ThemeManager.css';\r\nimport './ThemeColorPicker.css';\r\n// import {SketchPicker} from \"react-color\";\r\nimport SketchPicker from \"react-color/lib/components/sketch/Sketch\";\r\nimport Portal from \"../../Portal\";\r\n\r\nexport default class HexColorPicker extends React.Component {\r\n    onChangeComplete = (color) => {\r\n        this.props.onChangeComplete(color.hex);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <Portal node={document.body}>\r\n                <div style={ {\r\n                    position: 'fixed',\r\n                    top: '0px',\r\n                    right: '0px',\r\n                    bottom: '0px',\r\n                    left: '0px',\r\n                    zIndex: 999999999999\r\n                }} onClick={ this.props.onClose }/>\r\n                <div style={{\r\n                    position: 'absolute',\r\n                    left: \"50%\",\r\n                    top: \"50%\",\r\n                    transform: \"translate(-50%, -50%)\",\r\n                    zIndex: 999999999999\r\n                }}>\r\n                    <SketchPicker\r\n                        color={this.props.color}\r\n                        onChangeComplete={ this.onChangeComplete }\r\n                        disableAlpha={this.props.disableAlpha}\r\n                        width={this.props.width || 224}\r\n                    />\r\n                </div>\r\n            </Portal>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './ThemeManager.css';\r\nimport './ThemeColorPicker.css';\r\nimport Image from \"../../Menus/CommonComponents/Image\";\r\nimport Draggable from \"react-draggable\";\r\nimport Portal from \"../../Portal\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport chroma from \"chroma-js\";\r\nimport HexColorPicker from \"./HexColorPicker\";\r\nimport {parseColor} from \"../../AwesomwGridLayoutHelper\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nconst colorKeys = [\r\n    \"1\",\"2\",\"3\",\"4\",\"5\",\r\n];\r\n\r\nexport default class ThemeColorPicker extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            color: props.color\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n    getDefaultPos = (defaultPosition) => {\r\n        return {\r\n            y: Math.min(defaultPosition.y, window.innerHeight - 398),\r\n            x: Math.min(defaultPosition.x, window.innerWidth - 300),\r\n        }\r\n    };\r\n\r\n    onSelectColor = (color) => {\r\n        this.setState({color});\r\n        this.props.onChangeComplete && this.props.onChangeComplete(color);\r\n    };\r\n\r\n    onAddColor = (color) => {\r\n        let siteData = this.context.siteData;\r\n        if (!siteData.myColors.find(c => c === color))\r\n            siteData.myColors.unshift(color);\r\n\r\n        siteData.myColors = siteData.myColors.slice(0, 17);\r\n\r\n        this.onSelectColor(color);\r\n        this.context.update();\r\n    };\r\n\r\n    onAddColorClick = () => {\r\n        this.setState({addColor: true});\r\n    };\r\n\r\n    render() {\r\n        let {editor} = this.context;\r\n        let siteData = this.context.siteData;\r\n        let themeColorCategoryItems = siteData.theme.Colors.items;\r\n        return (\r\n            <Portal node={document.body}>\r\n                <div style={{\r\n                    position: 'fixed',\r\n                    top: '0px',\r\n                    right: '0px',\r\n                    bottom: '0px',\r\n                    left: '0px',\r\n                    zIndex: 999999999999999\r\n                }}>\r\n                    <div style={{\r\n                        position: 'absolute',\r\n                        top: '0px',\r\n                        right: '0px',\r\n                        bottom: '0px',\r\n                        left: '0px',\r\n                    }} onClick={ (e) => this.props.onClose && this.props.onClose() }/>\r\n\r\n                    <Draggable\r\n                        handle=\".ThemeColorPickerHeaderTitle\"\r\n                        bounds=\"parent\"\r\n                        defaultPosition={this.getDefaultPos(this.props.defaultPosition)}\r\n                    >\r\n                        <div className=\"ThemeColorPickerRoot\"\r\n                             style={{\r\n                                 zIndex: 99999999999999999,\r\n                             }}>\r\n                            <div className=\"ThemeColorPickerHeaderRoot\">\r\n                                <div className=\"ThemeColorPickerHeaderTitle\">\r\n                                    Color Picker\r\n                                </div>\r\n\r\n                                <IconButton\r\n                                    onClick={(e) => this.props.onClose && this.props.onClose()}\r\n                                    className=\"ThemeColorPickerHeaderClose\"\r\n                                >\r\n                                    <img\r\n                                        draggable={false}\r\n                                        width={16}\r\n                                        height={16}\r\n                                        src={require('../../icons/close.svg')}\r\n                                    />\r\n                                </IconButton>\r\n                            </div>\r\n\r\n                            <div className=\"ThemeColorPickerSiteColorTitle\">\r\n                                Site Colors\r\n                                <div className=\"ThemeColorPickerSiteColorEdit\">\r\n                                    Edit\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"ThemeColorPickerSiteColorGrid\">\r\n                                {\r\n                                    colorKeys.map(key => {\r\n                                        return (\r\n                                            Object.values(themeColorCategoryItems).map(item => {\r\n                                               return (\r\n                                                   <div\r\n                                                       key={item.name + key}\r\n                                                       className={`ThemeColorPickerSiteColorItem ${\r\n                                                           parseColor(this.state.color, undefined, this.context) ===\r\n                                                           this.context.getColor(item.name, key) ?\r\n                                                               \"ThemeColorPickerSiteColorItemSelected\": ''\r\n                                                           }`}\r\n                                                       style={{\r\n                                                           backgroundColor:\r\n                                                               this.context.getColor(item.name, key)\r\n                                                       }}\r\n                                                       onClick={(e) => {\r\n                                                           this.onSelectColor(\r\n                                                               {\r\n                                                                   paletteName: item.name,\r\n                                                                   key: key\r\n                                                               }\r\n                                                           )\r\n                                                       }}\r\n                                                   >\r\n\r\n                                                   </div>\r\n                                               )\r\n                                            })\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"ThemeColorPickerSiteColorTitle\">\r\n                                My Colors\r\n                            </div>\r\n\r\n                            <div className=\"ThemeColorPickerMyColorGrid\">\r\n                                <div className=\"ThemeColorPickerMyColorItemAdd\" onClick={this.onAddColorClick}>\r\n                                    <Image\r\n                                        width={10}\r\n                                        height={10}\r\n                                        src={process.env.PUBLIC_URL + '/static/icon/add.svg'}\r\n                                    />\r\n                                </div>\r\n\r\n                                {\r\n                                    Object.values(siteData.myColors).map(color => {\r\n                                        return (\r\n                                            <div className={`ThemeColorPickerMyColorItem ${\r\n                                                    this.state.color === color ?\r\n                                                        \"ThemeColorPickerMyColorItemSelected\": ''\r\n                                                    }`}\r\n                                                 key={color}\r\n                                                 style={{\r\n                                                backgroundColor: color\r\n                                            }}\r\n                                                 onClick={(e) => {\r\n                                                     this.onSelectColor(\r\n                                                         color\r\n                                                     )\r\n                                                 }}\r\n                                            />\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n\r\n\r\n\r\n                            <div className=\"ThemeColorPickerSiteColorTitle\">\r\n                                <div className=\"ThemeColorPickerSiteColorHexTitle\">\r\n                                    <div className=\"ThemeColorPickerSiteColorHexAddColor\" onClick={this.onAddColorClick}>\r\n                                        Add Color\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"ThemeColorPickerSiteColorHex\">\r\n                                    {chroma(parseColor(this.state.color, 1, this.context)).hex()}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Draggable>\r\n\r\n                    {/*{\r\n                        this.state.addColor &&\r\n                        <>\r\n                            <div style={ {\r\n                                position: 'fixed',\r\n                                top: '0px',\r\n                                right: '0px',\r\n                                bottom: '0px',\r\n                                left: '0px',\r\n                                backgroundColor: 'rgba(0, 0, 0, 0.2)'\r\n                            }} onClick={ () => this.setState({addColor: undefined}) }/>\r\n                            <div style={{\r\n                                position: 'absolute',\r\n                                left: \"50%\",\r\n                                top: \"50%\",\r\n                                transform: \"translate(-50%, -50%)\",\r\n                                zIndex: '2',\r\n                            }}>\r\n                                <SketchPicker\r\n                                    color={this.state.color}\r\n                                    onChangeComplete={ this.onAddColor }\r\n                                    disableAlpha={this.props.disableAlpha}\r\n                                    width={224}\r\n                                />\r\n                            </div>\r\n                        </>\r\n                    }*/}\r\n                    {\r\n                        this.state.addColor &&\r\n                        <HexColorPicker\r\n                            onClose={() => this.setState({addColor: undefined})}\r\n                            color={this.state.color}\r\n                            onChangeComplete={ this.onAddColor }\r\n                            disableAlpha={this.props.disableAlpha}\r\n                            width={224}\r\n                        />\r\n                    }\r\n                </div>\r\n            </Portal>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\nimport SliderInputControlled from \"./SliderInputControlled\";\r\nimport ThemeColorPicker from \"../../Test/Theme/ThemeColorPicker\";\r\nimport chroma from \"chroma-js\";\r\nimport {parseColor} from \"../../AwesomwGridLayoutHelper\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class ColorPicker extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor (props) {\r\n        super(props);\r\n\r\n        this.state = {};\r\n\r\n        this.lastValue = props.color || 'rgba(0,0,0,0)';\r\n    }\r\n\r\n    getRgbA = (value) => {\r\n        if (!value)\r\n            return;\r\n\r\n        if (value instanceof Object) {\r\n            value = this.context.getColor(value.paletteName, value.key);\r\n        }\r\n\r\n        let color = chroma(value);\r\n        return {\r\n            r: color.rgba()[0],\r\n            g: color.rgba()[1],\r\n            b: color.rgba()[2],\r\n            a: color.rgba()[3]\r\n        }\r\n    };\r\n\r\n    handleClick = (e) => {\r\n        if (this.state.displayColorPicker)\r\n            this.setState({ displayColorPicker: false });\r\n        else\r\n            this.setState({ displayColorPicker: e.target })\r\n    };\r\n\r\n    handleClose = () => {\r\n        this.setState({ displayColorPicker: false })\r\n    };\r\n\r\n    handleChangeComplete = (color) => {\r\n        if (color instanceof Object) {\r\n            console.log(\"handlehangeComplete1 this.lastValue\", this.lastValue, parseColor(this.lastValue, this.lastValue.alpha, this.context));\r\n            color.alpha = chroma(parseColor(this.lastValue, this.lastValue.alpha, this.context)).alpha();\r\n            console.log(\"handlehangeComplete1 alpha\", color.alpha);\r\n            this.lastValue = color;\r\n            // color.alpha = chroma(parseColor(color, undefined, this.context)).alpha();\r\n            this.props.onDesignChange(this.props.designKey, color);\r\n            return;\r\n        }\r\n\r\n        console.log(\"handleChangeComplete\", this.getColorAndAlpha().alpha)\r\n        let alpha = this.getColorAndAlpha().alpha || 100;\r\n\r\n        let value = this.lastValue = chroma(color).alpha(alpha / 100).css();\r\n\r\n        this.props.onDesignChange(this.props.designKey, value);\r\n    };\r\n\r\n    getColorAndAlpha = () => {\r\n        let result = {\r\n            color: chroma(parseColor(this.props.color, 1, this.context)).alpha(0).hex(),\r\n            alpha: chroma(parseColor(this.props.color, this.props.color && this.props.color.alpha, this.context)).alpha() * 100\r\n        };\r\n\r\n        return result;\r\n    };\r\n\r\n    handleAlphaChange = (alpha) => {\r\n        if (this.lastValue instanceof Object) {\r\n            this.lastValue.alpha = alpha / 100;\r\n        } else {\r\n            this.lastValue = chroma(this.lastValue).alpha(alpha / 100).css();\r\n        }\r\n        this.props.onDesignChange(this.props.designKey, this.lastValue);\r\n    };\r\n\r\n    render () {\r\n        let {color, alpha} = this.getColorAndAlpha();\r\n        return (\r\n                <div className=\"CommonMenuRoot ColorPickerRoot\">\r\n                    <ButtonBase\r\n                        style={{\r\n                            background: `url(${process.env.PUBLIC_URL}'/static/icon/transparency.png')`,\r\n                        }}\r\n                        className=\"ColorPickerRGB\"\r\n                        onClick={ this.handleClick }\r\n                    >\r\n                        <div\r\n                            style={{\r\n                                background: parseColor(this.props.color, alpha/100, this.context),\r\n                            }}\r\n                        />\r\n                    </ButtonBase>\r\n\r\n                    <div\r\n                        className=\"ColorPickerAlpha\"\r\n                    >\r\n                        <SliderInputControlled\r\n                            min={0}\r\n                            max={100}\r\n                            value={alpha || 0}\r\n                            onChange={this.handleAlphaChange}\r\n                        />\r\n                    </div>\r\n                    {\r\n                        this.state.displayColorPicker &&\r\n                            <ThemeColorPicker\r\n                                color={color}\r\n                                onClose={this.handleClose}\r\n                                onChangeComplete={ this.handleChangeComplete }\r\n                                disableAlpha\r\n                                editor={this.props.editor}\r\n                                defaultPosition={\r\n                                    this.state.displayColorPicker.getBoundingClientRect()\r\n                                }\r\n                            />\r\n                    }\r\n                </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../../Menus/Menu.css';\r\nimport ColorPicker from \"../../../../Menus/CommonComponents/ColorPicker\";\r\n\r\nexport default class Background extends React.Component {\r\n    render () {\r\n        return (\r\n            <div className=\"MenuOptionSection\">\r\n                <p className=\"MenuOptionSectionTitle\">Background</p>\r\n\r\n                <ColorPicker\r\n                    color={this.props.color}\r\n                    designKey={this.props.designKey}\r\n                    onDesignChange={this.props.onDesignChange}\r\n                    editor={this.props.editor}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\n\r\nexport default class Divider extends React.Component {\r\n    render () {\r\n        return (\r\n            <div className=\"Divider\" style={this.props.style}>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\nimport Slider from \"./Slider\";\r\nimport NumberInput from \"./NumberInput\";\r\n\r\nexport default class SliderInput extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    onChange = (value) => {\r\n        this.props.onDesignChange &&\r\n        this.props.onDesignChange(this.props.designKey, value);\r\n\r\n        this.props.onChange &&\r\n        this.props.onChange(value);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <Slider\r\n                    className=\"BorderWidthSlider\"\r\n                    style={{ marginRight: 24 }}\r\n                    step={this.props.step}\r\n                    min={this.props.min}\r\n                    max={this.props.max}\r\n                    value={this.props.value || 0}\r\n                    onChange={this.onChange}\r\n                    handleStyle={{\r\n                        marginLeft: 7\r\n                    }}\r\n                />\r\n\r\n                <NumberInput\r\n                    className=\"BorderWidthInput\"\r\n                    min={this.props.min}\r\n                    max={this.props.max}\r\n                    value={this.props.value || 0}\r\n                    onChange={this.onChange}\r\n                />\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../../Menus/Menu.css';\r\nimport ColorPicker from \"../../../../Menus/CommonComponents/ColorPicker\";\r\nimport 'rc-slider/assets/index.css';\r\nimport '../style.css';\r\nimport Divider from \"../../../../Menus/CommonComponents/Divider\";\r\nimport SliderInput from \"../../../../Menus/CommonComponents/SliderInput\";\r\n\r\nexport default class Border extends React.Component {\r\n    render () {\r\n        return (\r\n            <>\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Opacity & Color</p>\r\n\r\n                    <ColorPicker\r\n                        color={this.props.border.color}\r\n                        designKey={`${this.props.designKey}.color`}\r\n                        onDesignChange={this.props.onDesignChange}\r\n                        editor={this.props.editor}\r\n                    />\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Width (px)</p>\r\n\r\n                    <div\r\n                        className=\"BorderWidth\"\r\n                    >\r\n                        <SliderInput\r\n                            className=\"BorderWidthSlider\"\r\n                            min={0}\r\n                            max={15}\r\n                            value={this.props.border.width}\r\n                            designKey={`${this.props.designKey}.width`}\r\n                            onDesignChange={this.props.onDesignChange}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../../Menus/Menu.css';\r\nimport NumberInput from \"../../../../Menus/CommonComponents/NumberInput\";\r\nimport IconButton from \"../../../../HelperComponents/IconButton\";\r\nimport {cloneObject} from \"../../../../AwesomeGridLayoutUtils\";\r\n\r\nexport default class Corners extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            radius: cloneObject(props.radius),\r\n            link: true\r\n        }\r\n    }\r\n\r\n    onChange = (value, side) => {\r\n        let radius = this.state.radius;\r\n        let changeSide = [side];\r\n        if (this.state.link)\r\n            changeSide = [\"topLeft\", \"topRight\", \"bottomLeft\", \"bottomRight\"];\r\n        changeSide.forEach(_side => {\r\n            radius[_side] = value;\r\n            this.props.onDesignChange(`${this.props.designKey}.${_side}`, value);\r\n        });\r\n        this.setState({radius});\r\n    };\r\n\r\n    onLinkClick = () => {\r\n        this.setState({link: !this.state.link});\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"MenuOptionSection\">\r\n                <p className=\"MenuOptionSectionTitle\">Radius (px)</p>\r\n\r\n                <div className=\"CornersRow\">\r\n                    <div className=\"CornersRowInput\">\r\n                        <NumberInput\r\n                            min={0}\r\n                            max={999}\r\n                            value={this.state.radius[\"topLeft\"]}\r\n                            onChange={(v) => this.onChange(v, \"topLeft\")}\r\n                        />\r\n                    </div>\r\n                    <div className=\"CornersRowInput\" style={{direction: \"rtl\"}}>\r\n                        <NumberInput\r\n                            min={0}\r\n                            max={999}\r\n                            value={this.state.radius[\"topRight\"]}\r\n                            onChange={(v) => this.onChange(v, \"topRight\")}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <div style={{position: \"relative\"}}>\r\n                    <div className=\"CornersRow\">\r\n                        <div className=\"CornersRowShowTopLeft\"\r\n                             style={{\r\n                                 borderTopLeftRadius: this.state.radius[\"topLeft\"]\r\n                             }}\r\n                        />\r\n                        <div className=\"CornersRowShowTopRight\"\r\n                             style={{\r\n                                 borderTopRightRadius: this.state.radius[\"topRight\"]\r\n                             }}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"CornersRow\">\r\n                        <div className=\"CornersRowShowBottomLeft\"\r\n                             style={{\r\n                                 borderBottomLeftRadius: this.state.radius[\"bottomLeft\"]\r\n                             }}\r\n                        />\r\n                        <div className=\"CornersRowShowBottomRight\"\r\n                             style={{\r\n                                 borderBottomRightRadius: this.state.radius[\"bottomRight\"]\r\n                             }}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"CornersLink\">\r\n                        <IconButton\r\n                            buttonBaseStyle={{\r\n                                marginLeft: 0\r\n                            }}\r\n                            onClick={this.onLinkClick}\r\n                        >\r\n                            {\r\n                                this.state.link &&\r\n                                <img draggable={false} width={24} height={24}\r\n                                     src={require('../../../../icons/chain.svg')} />\r\n                            }\r\n                            {\r\n                                !this.state.link &&\r\n                                <img draggable={false} width={24} height={24}\r\n                                     src={require('../../../../icons/unlink.svg')} />\r\n                            }\r\n                        </IconButton>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"CornersRow\">\r\n                    <div className=\"CornersRowInput\">\r\n                        <NumberInput\r\n                            min={0}\r\n                            max={999}\r\n                            value={this.state.radius[\"bottomLeft\"]}\r\n                            onChange={(v) => this.onChange(v, \"bottomLeft\")}\r\n                        />\r\n                    </div>\r\n                    <div className=\"CornersRowInput\" style={{direction: \"rtl\"}}>\r\n                        <NumberInput\r\n                            min={0}\r\n                            max={999}\r\n                            value={this.state.radius[\"bottomRight\"]}\r\n                            onChange={(v) => this.onChange(v, \"bottomRight\")}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\n\r\nexport default class CircularSlider extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.rootDivRef = React.createRef();\r\n    }\r\n\r\n    onMouseDown = (e) => {\r\n        this.rect = this.rootDivRef.current.getBoundingClientRect();\r\n        window.addEventListener(\"pointermove\", this.onMouseMove);\r\n        window.addEventListener(\"pointerup\", this.onMouseUp);\r\n\r\n        let x = e.clientX;\r\n        let y = e.clientY;\r\n\r\n        let vx = x - (this.rect.left + this.rect.width / 2);\r\n        let vy = y - (this.rect.top + this.rect.height / 2);\r\n\r\n        let angle = - Math.atan2(vx, vy) * 180 / Math.PI;\r\n        if (angle < 0) {\r\n            angle = angle + 360;\r\n        }\r\n        this.props.onChange(angle);\r\n    };\r\n\r\n    onMouseMove = (e) => {\r\n        let x = e.clientX;\r\n        let y = e.clientY;\r\n\r\n        let vx = x - (this.rect.left + this.rect.width / 2);\r\n        let vy = y - (this.rect.top + this.rect.height / 2);\r\n\r\n        let angle = - Math.atan2(vx, vy) * 180 / Math.PI;\r\n        if (angle < 0) {\r\n            angle = angle + 360;\r\n        }\r\n        this.props.onChange(angle);\r\n    };\r\n\r\n    onMouseUp = (e) => {\r\n        window.removeEventListener(\"pointermove\", this.onMouseMove);\r\n        window.removeEventListener(\"pointerup\", this.onMouseUp);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <div\r\n                className={`CircularSliderRoot ${this.props.className}`}\r\n                style={{\r\n                    transform: `rotate(${this.props.value}deg)`\r\n                }}\r\n                onMouseDown={this.onMouseDown}\r\n                ref={this.rootDivRef}\r\n            >\r\n                <div\r\n                    className=\"CircularSliderBg\"\r\n                    style={{\r\n                        width: this.props.width || 90,\r\n                        height: this.props.width || 90\r\n                    }}\r\n                >\r\n                    <div\r\n                        className=\"CircularSliderLine\"\r\n                    />\r\n                    <div\r\n                        className=\"CircularSliderCenter\"\r\n                    />\r\n                    <div\r\n                        className=\"CircularSliderKnob\"\r\n                    />\r\n                </div>\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\nimport CircularSlider from \"./CircularSlider\";\r\nimport NumberInput from \"./NumberInput\";\r\n\r\nexport default class Angle extends React.Component {\r\n    onChange = (value) => {\r\n        if (this.props.loop && value === 360)\r\n            value = 0;\r\n\r\n        this.props.onChange(value.toFixed(0));\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"AngleRoot\">\r\n                <CircularSlider\r\n                    {...this.props}\r\n                    className=\"AngleSlider\"\r\n                    value={this.props.angle}\r\n                    onChange={this.onChange}\r\n                    min={0}\r\n                    max={360}\r\n                />\r\n\r\n                <NumberInput\r\n                    className=\"AngleInput\"\r\n                    min={0}\r\n                    max={360}\r\n                    value={this.props.angle}\r\n                    onChange={this.onChange}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../../Menus/Menu.css';\r\nimport '../style.css';\r\nimport Angle from \"../../../../Menus/CommonComponents/Angle\";\r\nimport Divider from \"../../../../Menus/CommonComponents/Divider\";\r\nimport SliderInput from \"../../../../Menus/CommonComponents/SliderInput\";\r\nimport ColorPicker from \"../../../../Menus/CommonComponents/ColorPicker\";\r\n\r\nconst deg2rad = Math.PI/180;\r\nconst rad2deg = 180/Math.PI;\r\nexport default class Shadow extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    onChange = (key, value) => {\r\n        let shadow = this.props.shadow;\r\n        shadow[key] = value;\r\n        this.setState({shadow});\r\n        this.props.onDesignChange(`${this.props.designKey}.${key}`, value);\r\n    };\r\n\r\n    getDegree = (xOffset, yOffset) => {\r\n        if (xOffset === undefined) xOffset = -1;\r\n        if (yOffset === undefined) yOffset = 1;\r\n        let ratio = (xOffset) / (yOffset);\r\n        let degree;\r\n        if (xOffset < 0 && yOffset > 0)\r\n            degree = - Math.atan( ratio ) * rad2deg;\r\n        if (xOffset < 0 && yOffset < 0)\r\n            degree = - Math.atan( ratio ) * rad2deg + 180;\r\n        if (xOffset > 0 && yOffset < 0)\r\n            degree = - Math.atan( ratio ) * rad2deg + 180;\r\n        if (xOffset > 0 && yOffset > 0)\r\n            degree = - Math.atan( ratio ) * rad2deg + 360;\r\n\r\n        return Math.round(degree);\r\n    };\r\n\r\n    getRatio = (degree) => {\r\n        return Math.tan( degree * deg2rad );\r\n    };\r\n\r\n    calcDegree = (degree) => {\r\n        let ratio = this.getRatio(degree);\r\n        let xO, yO;\r\n        if (ratio === 0) {\r\n            xO = 0;\r\n            yO = 1;\r\n        } else if (ratio === Infinity) {\r\n            xO = 1;\r\n            yO = 0;\r\n        } else {\r\n            xO = ratio;\r\n            yO = 1;\r\n            if (Math.abs(ratio) > 1) {\r\n                xO /= Math.abs(ratio);\r\n                yO /= Math.abs(ratio);\r\n            }\r\n        }\r\n        this.onChange(\"xOffset\", (degree <= 90 && degree >= 0) || (degree <= 360 && degree > 270)\r\n            ? -xO : xO);\r\n        this.onChange(\"yOffset\", (degree <= 90 && degree >= 0) || (degree <= 360 && degree > 270)\r\n            ? yO : -yO);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Angle</p>\r\n\r\n                    <div className=\"ShadowRoot\">\r\n                        <Angle\r\n                            className=\"ShadowAngle\"\r\n                            angle={this.getDegree(this.props.shadow.xOffset , this.props.shadow.yOffset)}\r\n                            onChange={this.calcDegree}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Distance (px)</p>\r\n\r\n                    <div\r\n                        className=\"BorderWidth\"\r\n                    >\r\n                        <SliderInput\r\n                            className=\"BorderWidthSlider\"\r\n                            min={0}\r\n                            max={50}\r\n                            value={this.props.shadow.distance}\r\n                            designKey={`${this.props.designKey}.distance`}\r\n                            onDesignChange={this.props.onDesignChange}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Size (px)</p>\r\n\r\n                    <div\r\n                        className=\"BorderWidth\"\r\n                    >\r\n                        <SliderInput\r\n                            className=\"BorderWidthSlider\"\r\n                            min={0}\r\n                            max={50}\r\n                            value={this.props.shadow.size}\r\n                            designKey={`${this.props.designKey}.size`}\r\n                            onDesignChange={this.props.onDesignChange}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Blur (px)</p>\r\n\r\n                    <div\r\n                        className=\"BorderWidth\"\r\n                    >\r\n                        <SliderInput\r\n                            className=\"BorderWidthSlider\"\r\n                            min={0}\r\n                            max={50}\r\n                            value={this.props.shadow.blur}\r\n                            designKey={`${this.props.designKey}.blur`}\r\n                            onDesignChange={this.props.onDesignChange}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Opacity & Color</p>\r\n\r\n                    <ColorPicker\r\n                        color={this.props.shadow.color}\r\n                        designKey={`${this.props.designKey}.color`}\r\n                        onDesignChange={this.props.onDesignChange}\r\n                        editor={this.props.editor}\r\n                    />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport Background from \"./Components/Background\";\r\nimport Border from \"./Components/Border\";\r\nimport Corners from \"./Components/Corners\";\r\nimport Shadow from \"./Components/Shadow\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class BorderDesign extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    getIndex = () => {\r\n        return [\r\n            {\r\n                key: \"Fill Color & Opacity\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/water.svg'} />\r\n            },\r\n            {\r\n                key: \"Border\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/border.svg'} />\r\n            },\r\n            {\r\n                key: \"Corner\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/corner.svg'} />\r\n            },\r\n            {\r\n                key: \"Shadow\",\r\n                icon: <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" className=\"symbol symbol-shadowDesign\">\r\n                    <path fillRule=\"evenodd\"\r\n                          d=\"M11.5 14.5h-8v-2h8c.55 0 1-.45 1-1v-9h2v9c0 1.65-1.35 3-3 3zm-3-4h-7c-1.1 0-2-.9-2-2v-7c0-1.1.9-2 2-2h7c1.1 0 2 .9 2 2v7c0 1.1-.9 2-2 2z\"/>\r\n                </svg>\r\n            }\r\n        ]\r\n    };\r\n\r\n    getOptions = () => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        return [\r\n            {\r\n                key: \"Fill Color & Opacity\",\r\n                render: <Background\r\n                    color={design.fillColor}\r\n                    designKey={\"design.fillColor\"}\r\n                    onDesignChange={this.props.onDesignChange}\r\n                    editor={this.props.item.props.editor}\r\n                />\r\n            },\r\n            {\r\n                key: \"Border\",\r\n                render: <Border\r\n                    border={design.border}\r\n                    designKey={\"design.border\"}\r\n                    onDesignChange={this.props.onDesignChange}\r\n                    editor={this.props.item.props.editor}\r\n                />\r\n            },\r\n            {\r\n                key: \"Corner\",\r\n                render: <Corners\r\n                    radius={design.border.radius || {}}\r\n                    designKey={\"design.border.radius\"}\r\n                    onDesignChange={this.props.onDesignChange}\r\n                />\r\n            },\r\n            {\r\n                key: \"Shadow\",\r\n                render: <Shadow\r\n                    shadow={design.border.shadow || {}}\r\n                    designKey={\"design.border.shadow\"}\r\n                    onDesignChange={this.props.onDesignChange}\r\n                    editor={this.props.item.props.editor}\r\n                />\r\n            }\r\n        ]\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle=\"Box Design\"\r\n                {...this.props}\r\n                index={this.getIndex()}\r\n                options={this.getOptions()}\r\n                item={this.props.item}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\nimport classNames from \"classnames\";\r\n\r\nexport default class GridViewer extends React.Component {\r\n    render () {\r\n        let classes = classNames(\r\n            \"GridViewerRoot\",\r\n            this.props.className\r\n        );\r\n        return (\r\n            <div className={classes}>\r\n                {this.props.children}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../../Menus/Menu.css';\r\nimport GridViewer from \"../../../../Menus/CommonComponents/GridViewer\";\r\nimport classNames from \"classnames\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\n\r\nexport default class AnimationSelector extends React.Component {\r\n    onSelectAnimation = (name) => {\r\n        this.props.onDesignChange(this.props.designKey, name);\r\n        window.requestAnimationFrame(() => {\r\n            this.props.item.playAnimation();\r\n        });\r\n    };\r\n\r\n    render () {\r\n        let {allAnimationNames, animation} = this.props;\r\n        let noneClasses = classNames(\r\n            \"MenuOptionAnimationItem\",\r\n            (!animation || !animation.name) && \"MenuOptionAnimationItemSelected\"\r\n        );\r\n        return (\r\n            <div className=\"MenuOptionSection\">\r\n\r\n                <GridViewer>\r\n                    <ButtonBase\r\n                        className={noneClasses}\r\n                        key='none'\r\n                        onClick={(e) => this.onSelectAnimation()}\r\n                    >\r\n                        <img\r\n                            className=\"MenuOptionAnimationItemImage\"\r\n                            draggable={false} width={48} height={48}\r\n                            // src={process.env.PUBLIC_URL + `/static/icons/animation/${name}.svg`} />\r\n                            src={process.env.PUBLIC_URL + `/static/icon/animation-black.svg`}\r\n                        />\r\n                        <span>\r\n                            none\r\n                        </span>\r\n                    </ButtonBase>\r\n                    {\r\n                        allAnimationNames.map(name => {\r\n                            let classes = classNames(\r\n                                \"MenuOptionAnimationItem\",\r\n                                animation && name === animation.name && \"MenuOptionAnimationItemSelected\"\r\n                            );\r\n                            let displayName = name.split(/(?=[A-Z])/).join(' ');\r\n                            displayName = displayName.charAt(0).toUpperCase() + displayName.slice(1);\r\n                            return (\r\n                                <ButtonBase\r\n                                    className={classes}\r\n                                    key={name}\r\n                                    onClick={(e) => this.onSelectAnimation(name)}\r\n                                >\r\n                                    <img\r\n                                        className=\"MenuOptionAnimationItemImage\"\r\n                                        draggable={false} width={48} height={48}\r\n                                        // src={process.env.PUBLIC_URL + `/static/icons/animation/${name}.svg`} />\r\n                                        src={process.env.PUBLIC_URL + `/static/icon/animation-black.svg`}\r\n                                    />\r\n                                    <span className=\"MenuOptionAnimationItemTitle\">\r\n                                        {displayName}\r\n                                    </span>\r\n                                </ButtonBase>\r\n                            )\r\n                        })\r\n                    }\r\n                </GridViewer>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../../Menus/Menu.css';\r\nimport SliderInput from \"../../../../Menus/CommonComponents/SliderInput\";\r\nimport Switch from \"@material-ui/core/Switch/Switch\";\r\nimport {DynamicAnimations} from \"../../../../Dynamic/DynamicComponents\";\r\nimport Divider from \"../../../../Menus/CommonComponents/Divider\";\r\nimport IconButton from \"../../../../HelperComponents/IconButton\";\r\n\r\nexport default class AnimationOptions extends React.Component {\r\n\r\n    render () {\r\n        let {animation, onDesignChange, designKey, item} = this.props;\r\n        if (!animation || !animation.name) {\r\n            return <div className=\"MenuOptionSectionTitle\" style={{\r\n                textAlign: \"center\"\r\n            }}>\r\n                Select an Animation to See Options\r\n            </div>\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <div className=\"MenuOptionSection MenuOptionGrid2\">\r\n                    <span className=\"MenuOptionSectionTitleNoMargin\">Play animation</span>\r\n\r\n                    <IconButton onClick={(e) => {\r\n                                    item.playAnimation();\r\n                                }}\r\n                                imageContainerStyle={{\r\n                                    padding: 0\r\n                                }}\r\n                                buttonBaseStyle={{\r\n                                    borderRadius: 999\r\n                                }}\r\n                    >\r\n                        <img draggable={false} width={24} height={24}\r\n                                   src={process.env.PUBLIC_URL + '/static/icon/play-button.svg'}\r\n                        />\r\n                    </IconButton>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                {\r\n                    animation.name &&\r\n                        DynamicAnimations[animation.name].getOptions(this.props)\r\n                }\r\n\r\n                {\r\n                    animation.name && DynamicAnimations[animation.name].getOptions(this.props) &&\r\n                    <Divider/>\r\n                }\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Duration</p>\r\n\r\n                    <div\r\n                        className=\"BorderWidth\"\r\n                    >\r\n                        <SliderInput\r\n                            className=\"BorderWidthSlider\"\r\n                            min={0}\r\n                            max={5}\r\n                            step={0.1}\r\n                            value={animation.options? animation.options.duration !== undefined?\r\n                                animation.options.duration: 1 : 1}\r\n                            designKey={`${designKey}.duration`}\r\n                            onDesignChange={onDesignChange}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Delay</p>\r\n\r\n                    <div\r\n                        className=\"BorderWidth\"\r\n                    >\r\n                        <SliderInput\r\n                            className=\"BorderWidthSlider\"\r\n                            min={0}\r\n                            max={10}\r\n                            step={0.1}\r\n                            value={animation.options? animation.options.delay !== undefined?\r\n                                animation.options.delay: 0 : 0}\r\n                            designKey={`${designKey}.delay`}\r\n                            onDesignChange={onDesignChange}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionAnimationOnceRoot\">\r\n                    <p className=\"MenuOptionSectionTitle\">Only animate first time</p>\r\n                    <Switch\r\n                        className=\"InspectorOverflowDirSwitch\"\r\n                        checked={animation.options && animation.options.once ? animation.options.once : false}\r\n                        onChange={(e) => {\r\n                            onDesignChange(`${designKey}.once`, e.target.checked);\r\n                        }}\r\n                    />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\nimport AnimationSelector from \"./Components/AnimationSelector\";\r\nimport AnimationOptions from \"./Components/AnimationOptions\";\r\n\r\nexport default class AnimationDesign extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    getIndex = () => {\r\n        return [\r\n            {\r\n                key: \"Animation Type\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/animation-black.svg'} />\r\n            },\r\n            {\r\n                key: \"Animation Options\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/time.svg'} />\r\n            }\r\n        ]\r\n    };\r\n\r\n    getOptions = () => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        return [\r\n            {\r\n                key: \"Animation Type\",\r\n                render: <AnimationSelector\r\n                    animation={design.animation}\r\n                    designKey={\"design.animation.name\"}\r\n                    onDesignChange={this.props.onDesignChange}\r\n                    allAnimationNames={[\r\n                        'fadeIn',\r\n                        'bounceIn',\r\n                        'glideIn',\r\n                        'floatIn',\r\n                        'expandIn',\r\n                        'spinIn',\r\n                        'flyIn',\r\n                        'turnIn',\r\n                        'arcIn',\r\n                        'puffIn',\r\n                        'foldIn',\r\n                        'flipIn',\r\n                        'reveal',\r\n                    ]}\r\n                    item={this.props.item}\r\n                />\r\n            },\r\n            {\r\n                key: \"Animation Options\",\r\n                render: <AnimationOptions\r\n                    animation={design.animation}\r\n                    designKey={\"design.animation.options\"}\r\n                    onDesignChange={this.props.onDesignChange}\r\n                    item={this.props.item}\r\n                />\r\n            }\r\n        ]\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle=\"Box Design\"\r\n                {...this.props}\r\n                index={this.getIndex()}\r\n                options={this.getOptions()}\r\n                item={this.props.item}\r\n                defaultIndexNo={0}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport MenuButton from \"../../Menus/MenuBase/MenuButton\";\r\nimport BorderDesign from \"./Menus/BorderDesign\";\r\nimport '../../HelperStyle.css';\r\nimport './ContainerBase.css';\r\nimport {\r\n    getCompositeDesignData,\r\n    parseColor,\r\n    resolveDesignData,\r\n} from \"../../AwesomwGridLayoutHelper\";\r\nimport AnimationDesign from \"./Menus/AnimationDesign\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class ContainerBase extends AGLComponent{\r\n    static contextType = EditorContext;\r\n\r\n    resolveDesignData = () => {\r\n        resolveDesignData(this, \"border\", {shadow: {\r\n                xOffset: -1,\r\n                yOffset: 1,\r\n                distance: 1,\r\n                size: 0,\r\n                blur: 4\r\n        }, radius: {}});\r\n    };\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            isContainer: true,\r\n            bpData: {\r\n                overflowData: {\r\n                    state: \"show\"\r\n                }\r\n            }\r\n        };\r\n    };\r\n\r\n    getPrimaryOptions = () => {\r\n        this.resolveDesignData();\r\n\r\n        return [\r\n            <MenuButton\r\n                key={0}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/paint.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Box Design\"\r\n                menu={(e) =>\r\n                    <BorderDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={2}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/animation.svg'} /> }\r\n                select={this.props.select}\r\n                title=\"Animation Design\"\r\n                menu={(e) =>\r\n                    <AnimationDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={33}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/savewhite.svg'} /> }\r\n                select={this.props.select}\r\n                title=\"Copy Data\"\r\n                hide={this.context.user.role === \"user\"}\r\n                onClick={(e) => {\r\n                    this.showComponentCode();\r\n                }}\r\n            />\r\n        ]\r\n    };\r\n\r\n    updateDesign = (compositeDesign) => {\r\n    };\r\n\r\n    getStaticChildren = () => {\r\n        this.resolveDesignData();\r\n\r\n        let border = getCompositeDesignData(this).border;\r\n        let fillColor = getCompositeDesignData(this).fillColor;\r\n        if (fillColor)\r\n            fillColor = parseColor(fillColor, fillColor.alpha, this.context);\r\n\r\n        border.radius = border.radius || {};\r\n        border.shadow = border.shadow || {};\r\n\r\n        let shadowColor = border.shadow.color;\r\n        if (shadowColor)\r\n            shadowColor = parseColor(shadowColor, shadowColor.alpha, this.context);\r\n        let borderColor = border.color;\r\n        if (borderColor)\r\n            borderColor = parseColor(borderColor, borderColor.alpha, this.context);\r\n\r\n        return <div\r\n            className=\"ContainerBaseBorderRoot\"\r\n            style={{\r\n                border:\r\n                    `${border.width || 0}px solid ${borderColor || 'rgba(0,0,0,0)'}`,\r\n                backgroundColor: fillColor,\r\n                borderRadius:\r\n                    `${border.radius.topLeft || 0}px ${border.radius.topRight || 0}px ${border.radius.bottomRight || 0}px ${border.radius.bottomLeft || 0}px`,\r\n                boxShadow: `${(border.shadow.xOffset) * (border.shadow.distance)}px ${(border.shadow.yOffset) * (border.shadow.distance)}px ${border.shadow.blur}px ${border.shadow.size}px ${shadowColor || 'rgba(0,0,0,0)'}`\r\n            }}\r\n        >\r\n\r\n        </div>\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <AGLWrapper\r\n                tagName=\"ContainerBase\"\r\n                aglComponent={this}\r\n                {...this.props}\r\n                data={this.getData()}\r\n                getPrimaryOptions={this.getPrimaryOptions}\r\n                getInspector={this.getInspector}\r\n                getStaticChildren={this.getStaticChildren}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nContainerBase.defaultProps = {\r\n    tagName: \"ContainerBase\"\r\n};\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport Background from \"./Components/Background\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class SectionDesign extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    getIndex = () => {\r\n        return [\r\n            {\r\n                key: \"Fill Color & Opacity\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/water.svg'} />\r\n            }\r\n        ]\r\n    };\r\n\r\n    getOptions = () => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        return [\r\n            {\r\n                key: \"Fill Color & Opacity\",\r\n                render: <Background\r\n                    color={design.fillColor}\r\n                    designKey={\"design.fillColor\"}\r\n                    onDesignChange={this.props.onDesignChange}\r\n                    editor={this.props.item.props.editor}\r\n                />\r\n            }\r\n        ]\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle={this.props.menuTitle || \"Box Design\"}\r\n                {...this.props}\r\n                index={this.getIndex()}\r\n                options={this.getOptions()}\r\n                item={this.props.item}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport InspectorBreadcrumbs from \"../../Test/Inspector/InspectorBreadcrumbs\";\r\nimport InspectorAligns from \"../../Test/Inspector/InspectorAligns\";\r\nimport InspectorSize from \"../../Test/Inspector/InspectorSize\";\r\nimport InspectorOverflow from \"../../Test/Inspector/InspectorOverflow\";\r\nimport InspectorScroll from \"../../Test/Inspector/InspectorScroll\";\r\nimport InspectorPadding from \"../../Test/Inspector/InspectorPadding\";\r\nimport InspectorAnchor from \"../../Test/Inspector/InspectorAnchor\";\r\nimport MenuButton from \"../../Menus/MenuBase/MenuButton\";\r\nimport SectionDesign from \"./Menus/SectionDesign\";\r\nimport {parseColor, setStyleParam} from \"../../AwesomwGridLayoutHelper\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class Header extends AGLComponent{\r\n    static contextType = EditorContext;\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            draggable: false,\r\n            isContainer: true,\r\n            bpData: {\r\n                overflowData: {\r\n                    state: \"show\"\r\n                }\r\n            },\r\n            isSection: true\r\n        };\r\n    };\r\n\r\n    resolveDesignData = () => {\r\n    };\r\n\r\n    getPrimaryOptions = () => {\r\n        this.resolveDesignData();\r\n        return [\r\n            <MenuButton\r\n                key={0}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/paint.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Header Design\"\r\n                menu={(e) =>\r\n                    <SectionDesign\r\n                        menuTitle={\"Header Design\"}\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                    />\r\n                }\r\n            />\r\n        ]\r\n    };\r\n\r\n    updateDesign = (compositeDesign) => {\r\n        let fillColor;\r\n\r\n        console.log(\"updateDesign\", compositeDesign.fillColor)\r\n        if (compositeDesign.fillColor)\r\n            fillColor = parseColor(compositeDesign.fillColor, compositeDesign.fillColor.alpha, this.context);\r\n\r\n        setStyleParam(\"backgroundColor\", fillColor || \"unset\",\r\n            this.getAgl(), 2, undefined, true);\r\n    };\r\n\r\n    getInspectorOverride = () => {\r\n        return (\r\n            <>\r\n                <InspectorBreadcrumbs\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAligns\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorSize\r\n                    item={this.getAgl()}\r\n                    widthUnits={[\"auto\", \"%\", \"px\", \"vh\", \"vw\"]}\r\n                    heightUnits={[\"auto\", \"%\", \"px\", \"vh\", \"vw\"]}\r\n                    minWidthUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    minHeightUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    maxWidthUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    maxHeightUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    disabledProps={[\r\n                        'width', 'minWidth', 'maxWidth'\r\n                    ]}\r\n                />\r\n                <InspectorOverflow\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorScroll\r\n                    item={this.getAgl()}\r\n                    options={['none', 'sticky']}\r\n                />\r\n                <InspectorPadding\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAnchor\r\n                    item={this.getAgl()}\r\n                />\r\n            </>\r\n        )\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <AGLWrapper tagName=\"Header\"\r\n                        defaultGridItemStyle={{\r\n                            alignSelf: \"stretch\",\r\n                            justifySelf: \"stretch\",\r\n                            position: \"relative\",\r\n                            gridArea: \"1/1/2/2\",\r\n                        }}\r\n                        aglComponent={this}\r\n                        {...this.props}\r\n                        style={{\r\n                            // backgroundColor: \"#bcbcbc\",\r\n                            width: \"100%\",\r\n                            height: \"auto\",\r\n                            minHeight: \"150px\",\r\n                            // zIndex: \"50\"\r\n                        }}\r\n                        as=\"header\"\r\n                        autoConstraintsOff\r\n                        helplineOff\r\n                        isSection\r\n                        data={this.getData()}\r\n                        getInspector={this.getInspector}\r\n                        getPrimaryOptions={this.getPrimaryOptions}\r\n            >\r\n            </AGLWrapper>\r\n        )\r\n    }\r\n}\r\n\r\nHeader.defaultProps = {\r\n    tagName: \"Header\"\r\n};\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport InspectorBreadcrumbs from \"../../Test/Inspector/InspectorBreadcrumbs\";\r\nimport InspectorAligns from \"../../Test/Inspector/InspectorAligns\";\r\nimport InspectorSize from \"../../Test/Inspector/InspectorSize\";\r\nimport InspectorOverflow from \"../../Test/Inspector/InspectorOverflow\";\r\nimport InspectorScroll from \"../../Test/Inspector/InspectorScroll\";\r\nimport InspectorPadding from \"../../Test/Inspector/InspectorPadding\";\r\nimport InspectorAnchor from \"../../Test/Inspector/InspectorAnchor\";\r\nimport MenuButton from \"../../Menus/MenuBase/MenuButton\";\r\nimport SectionDesign from \"./Menus/SectionDesign\";\r\nimport {parseColor, setStyleParam} from \"../../AwesomwGridLayoutHelper\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class Footer extends AGLComponent{\r\n    static contextType = EditorContext;\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            draggable: false,\r\n            isContainer: true,\r\n            bpData: {\r\n                overflowData: {\r\n                    state: \"show\"\r\n                }\r\n            },\r\n            isSection: true\r\n        };\r\n    };\r\n\r\n    resolveDesignData = () => {\r\n    };\r\n\r\n    getPrimaryOptions = () => {\r\n        this.resolveDesignData();\r\n        return [\r\n            <MenuButton\r\n                key={0}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/paint.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Footer Design\"\r\n                menu={(e) =>\r\n                    <SectionDesign\r\n                        menuTitle={\"Footer Design\"}\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                    />\r\n                }\r\n            />\r\n        ]\r\n    };\r\n\r\n    updateDesign = (compositeDesign) => {\r\n        let fillColor;\r\n\r\n        if (compositeDesign.fillColor)\r\n            fillColor = parseColor(compositeDesign.fillColor, compositeDesign.fillColor.alpha, this.context);\r\n\r\n        setStyleParam(\"backgroundColor\", fillColor || \"unset\",\r\n            this.getAgl(), 2, undefined, true);\r\n    };\r\n\r\n    getInspectorOverride = () => {\r\n        return (\r\n            <>\r\n                <InspectorBreadcrumbs\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAligns\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorSize\r\n                    item={this.getAgl()}\r\n                    widthUnits={[\"auto\", \"%\", \"px\", \"vh\", \"vw\"]}\r\n                    heightUnits={[\"auto\", \"%\", \"px\", \"vh\", \"vw\"]}\r\n                    minWidthUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    minHeightUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    maxWidthUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    maxHeightUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    disabledProps={[\r\n                        'width', 'minWidth', 'maxWidth'\r\n                    ]}\r\n                />\r\n                <InspectorOverflow\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorScroll\r\n                    item={this.getAgl()}\r\n                    options={['none', 'sticky']}\r\n                />\r\n                <InspectorPadding\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAnchor\r\n                    item={this.getAgl()}\r\n                />\r\n            </>\r\n        )\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <AGLWrapper tagName=\"Footer\"\r\n                        defaultGridItemStyle={{\r\n                            alignSelf: \"stretch\",\r\n                            justifySelf: \"stretch\",\r\n                            position: \"relative\",\r\n                            gridArea: \"3/1/4/2\",\r\n                        }}\r\n                        aglComponent={this}\r\n                        {...this.props}\r\n                        style={{\r\n                            width: \"100%\",\r\n                            height: \"auto\",\r\n                            minHeight: \"100px\",\r\n                            // zIndex: \"51\"\r\n                        }}\r\n                        as=\"footer\"\r\n                        autoConstraintsOff\r\n                        helplineOff\r\n                        isSection\r\n                        data={this.getData()}\r\n                        getInspector={this.getInspector}\r\n                        getPrimaryOptions={this.getPrimaryOptions}\r\n            >\r\n            </AGLWrapper>\r\n        )\r\n    }\r\n}\r\n\r\nFooter.defaultProps = {\r\n    tagName: \"Footer\"\r\n};\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport InspectorBreadcrumbs from \"../../Test/Inspector/InspectorBreadcrumbs\";\r\nimport InspectorAligns from \"../../Test/Inspector/InspectorAligns\";\r\nimport InspectorSize from \"../../Test/Inspector/InspectorSize\";\r\nimport InspectorOverflow from \"../../Test/Inspector/InspectorOverflow\";\r\nimport InspectorScroll from \"../../Test/Inspector/InspectorScroll\";\r\nimport InspectorPadding from \"../../Test/Inspector/InspectorPadding\";\r\nimport InspectorAnchor from \"../../Test/Inspector/InspectorAnchor\";\r\nimport MenuButton from \"../../Menus/MenuBase/MenuButton\";\r\nimport {parseColor, setStyleParam} from \"../../AwesomwGridLayoutHelper\";\r\nimport SectionDesign from \"./Menus/SectionDesign\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class Section extends AGLComponent{\r\n    static contextType = EditorContext;\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            draggable: false,\r\n            isContainer: true,\r\n            bpData: {\r\n                overflowData: {\r\n                    state: \"show\"\r\n                }\r\n            },\r\n            isSection: true\r\n        };\r\n    };\r\n\r\n    resolveDesignData = () => {\r\n    };\r\n\r\n    getPrimaryOptions = () => {\r\n        this.resolveDesignData();\r\n        return [\r\n            <MenuButton\r\n                key={0}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/paint.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Section Design\"\r\n                menu={(e) =>\r\n                    <SectionDesign\r\n                        menuTitle={\"Section Design\"}\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                    />\r\n                }\r\n            />\r\n        ]\r\n    };\r\n\r\n    updateDesign = (compositeDesign) => {\r\n        let fillColor;\r\n\r\n        if (compositeDesign.fillColor)\r\n            fillColor = parseColor(compositeDesign.fillColor, compositeDesign.fillColor.alpha, this.context);\r\n\r\n        setStyleParam(\"backgroundColor\", fillColor || \"unset\",\r\n            this.getAgl(), 2, undefined, true);\r\n    };\r\n\r\n    getInspectorOverride = () => {\r\n        return (\r\n            <>\r\n                <InspectorBreadcrumbs\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAligns\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorSize\r\n                    item={this.getAgl()}\r\n                    widthUnits={[\"auto\", \"%\", \"px\", \"vh\", \"vw\"]}\r\n                    heightUnits={[\"auto\", \"%\", \"px\", \"vh\", \"vw\"]}\r\n                    minWidthUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    minHeightUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    maxWidthUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    maxHeightUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    disabledProps={!this.props.isVerticalSection ? [\r\n                        'width', 'minWidth', 'maxWidth'\r\n                    ] : [\r\n                        'height', 'minHeight', 'maxHeight'\r\n                    ]}\r\n                />\r\n                <InspectorOverflow\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorScroll\r\n                    item={this.getAgl()}\r\n                    options={['none', 'sticky']}\r\n                />\r\n                <InspectorPadding\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAnchor\r\n                    item={this.getAgl()}\r\n                />\r\n            </>\r\n        )\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <AGLWrapper tagName=\"Section\"\r\n                        defaultGridItemStyle={{\r\n                            alignSelf: \"stretch\",\r\n                            justifySelf: \"stretch\",\r\n                            position: \"relative\",\r\n                            gridArea: \"2/1/3/2\",\r\n                        }}\r\n                        aglComponent={this}\r\n                        {...this.props}\r\n                        style={{...{\r\n                            width: \"100%\",\r\n                            height: \"auto\",\r\n                            minHeight: \"500px\",\r\n                        }, ...this.props.style}}\r\n                        designStyle={{...{\r\n                                // backgroundColor: \"#b3faf5\",\r\n                        }, ...this.props.designStyle}}\r\n                        data={this.getData()}\r\n                        autoConstraintsOff\r\n                        helplineOff\r\n                        isSection\r\n                        as={\"section\"}\r\n                        getInspector={this.getInspector}\r\n                        getPrimaryOptions={this.getPrimaryOptions}\r\n            >\r\n            </AGLWrapper>\r\n        )\r\n    }\r\n}\r\n\r\nSection.defaultProps = {\r\n    tagName: \"Section\"\r\n};\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport {setStyleParam} from \"../../AwesomwGridLayoutHelper\";\r\nimport ColorPicker from \"../../Menus/CommonComponents/ColorPicker\";\r\nimport InspectorTitle from \"./InspectorTitle\";\r\nimport Background from \"../../Components/Containers/Menus/Components/Background\";\r\n\r\nexport default class InspectorBackground extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { open: true};\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    onChangeColor = (key, value) => {\r\n        let {item} = this.props;\r\n        setStyleParam(\"backgroundColor\", value,\r\n            item, true, undefined, true);\r\n    };\r\n\r\n    render() {\r\n        let {item} = this.props;\r\n        let style = item.getFromData(\"style\") || {};\r\n        return (\r\n            <>\r\n                <InspectorTitle defaultOpen title=\"Background\" onChange={(open) => {\r\n                    this.setState({open});\r\n                }}/>\r\n\r\n                {\r\n                    this.state.open &&\r\n                    <div className=\"InspectorOptionRoot\">\r\n                        <span className=\"InspectorBackgroundColorTitle\">\r\n                            Color\r\n                        </span>\r\n                        <ColorPicker\r\n                            color={style.backgroundColor || 'rgba(0, 0, 0, 0)'}\r\n                            designKey={\"design.fillColor\"}\r\n                            // onDesignChange={this.onChangeColor}\r\n                            onDesignChange={this.props.onDesignChange}\r\n                            editor={this.props.item.props.editor}\r\n                        />\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport Section from \"../Containers/Section\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport {initGriddata, swapArrayElements} from \"../../AwesomeGridLayoutUtils\";\r\nimport InspectorBreadcrumbs from \"../../Test/Inspector/InspectorBreadcrumbs\";\r\nimport InspectorPadding from \"../../Test/Inspector/InspectorPadding\";\r\nimport InspectorBackground from \"../../Test/Inspector/InspectorBackground\";\r\nimport './PageBase.css';\r\nimport {isHideInBreakpoint, parseColor, setStyleParam} from \"../../AwesomwGridLayoutHelper\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nconst mainColTemplate = \"minmax(0px,1fr)\";\r\n\r\nexport default class PageBase extends AGLComponent {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        };\r\n\r\n        this.gridTemplateRows = \"auto\";\r\n        this.gridTemplateColumns = mainColTemplate;\r\n        this.gridX = 0;\r\n        this.gridY = 1;\r\n\r\n        this.allSectionsH = [];\r\n        this.allSectionsV = [null];\r\n\r\n        this.root = React.createRef();\r\n\r\n        this.initKeyboard();\r\n\r\n        this.initDataFromPageData(props);\r\n    }\r\n\r\n    initDataFromPageData = (props) => {\r\n        if (!props.griddata.initialized)\r\n            initGriddata(props.griddata, this.props.breakpointmanager);\r\n\r\n        if (!props.griddata.allSectionsH)\r\n            props.griddata.allSectionsH = [];\r\n        if (!props.griddata.allSectionsV)\r\n            props.griddata.allSectionsV = [null];\r\n\r\n        this.allSectionsH = props.griddata.allSectionsH;\r\n        this.allSectionsV = props.griddata.allSectionsV;\r\n        let grid = this.props.breakpointmanager.getFromData(props.griddata, \"grid\");\r\n        if (grid) {\r\n            this.gridX = grid.x;\r\n            this.gridY = grid.y;\r\n            this.gridTemplateRows = grid.gridTemplateRows;\r\n            this.gridTemplateColumns = grid.gridTemplateColumns;\r\n        }\r\n    };\r\n\r\n    initKeyboard = () => {\r\n        window.addEventListener(\"keydown\", (e) => {\r\n            e = e || window.event;\r\n            let key = e.which || e.keyCode; // keyCode detection\r\n            let ctrl = e.ctrlKey ? e.ctrlKey : (key === 17); // ctrl detection\r\n\r\n            if (key === 38 && ctrl) {\r\n                e.preventDefault();\r\n                let selectedItem = this.props.select.getSelected();\r\n                if (this.getHorizontalSection(selectedItem.props.id))\r\n                    this.moveUp(selectedItem.props.id);\r\n\r\n                this.props.select.onScrollItem(e, this);\r\n            }\r\n\r\n            if (key === 40 && ctrl) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + Down\");\r\n                let selectedItem = this.props.select.getSelected();\r\n                if (this.getHorizontalSection(selectedItem.props.id))\r\n                    this.moveDown(selectedItem.props.id);\r\n\r\n                this.props.select.onScrollItem(e, this);\r\n            }\r\n\r\n            if (key === 37 && ctrl) {\r\n                e.preventDefault();\r\n                let selectedItem = this.props.select.getSelected();\r\n                if (this.getVerticalSection(selectedItem.props.id))\r\n                    this.moveLeft(selectedItem.props.id);\r\n\r\n                this.props.select.onScrollItem(e, this);\r\n            }\r\n\r\n            if (key === 39 && ctrl) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + Right\");\r\n                let selectedItem = this.props.select.getSelected();\r\n                if (this.getVerticalSection(selectedItem.props.id))\r\n                    this.moveRight(selectedItem.props.id);\r\n\r\n                this.props.select.onScrollItem(e, this);\r\n            }\r\n        });\r\n    };\r\n\r\n    componentDidMount() {\r\n        // TODO remove tests\r\n        // this.addSectionQueue(0, \"Header\", DynamicComponents, undefined, false);\r\n        // this.addSectionQueue(1, \"Section\", DynamicComponents, undefined, false);\r\n        // this.addSectionQueue(2, \"Footer\", DynamicComponents, undefined, false);\r\n    }\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            isContainer: true,\r\n            draggable: false,\r\n            resizable: true,\r\n            pageResize: true,\r\n            bpData: {\r\n                overflowData: {\r\n                    state: \"scroll\",\r\n                    overflowY: \"scroll\",\r\n                    auto: true\r\n                },\r\n                grid: {\r\n                    x: this.gridX,\r\n                    y: this.gridY,\r\n                    gridTemplateRows: this.gridTemplateRows,\r\n                    gridTemplateColumns: this.gridTemplateColumns\r\n                },\r\n                containerHeight: \"max-content\"\r\n            },\r\n            customStyle: {\r\n                scrollBehavior: \"smooth\"\r\n            }\r\n        };\r\n    };\r\n\r\n    getHorizontalSection = (id) => {\r\n        return this.props.idMan.getItem(this.allSectionsH.find(h => {\r\n            return h === id;\r\n        }));\r\n    };\r\n\r\n    deleteHorizontalSection = (id) => {\r\n        console.log(\"deleteHorizontalSection 0\", id);\r\n\r\n        let index = this.allSectionsH.findIndex(h => {\r\n            return h === id;\r\n        });\r\n        console.log(\"deleteHorizontalSection 01\", index);\r\n        if (index < 0)\r\n            return false;\r\n\r\n        console.log(\"deleteHorizontalSection 02\", this.allSectionsH);\r\n        if (this.allSectionsH.length === 1)\r\n            return false;\r\n\r\n        console.log(\"deleteHorizontalSection 03\");\r\n        this.gridX--;\r\n\r\n        let currentSection = this.allSectionsH[index];\r\n        currentSection = this.props.idMan.getItem(currentSection);\r\n        let gridArea = currentSection.getGridArea();\r\n        let areas = gridArea.split('/');\r\n        let x1 = parseInt(areas[0]);\r\n        let y1 = parseInt(areas[1]);\r\n        let x2 = parseInt(areas[2]);\r\n        let y2 = parseInt(areas[3]);\r\n\r\n        let firstRow = x1;\r\n        let lastRow = x2;\r\n\r\n        this.allSectionsV.forEach(verticalSection => {\r\n            if (verticalSection === null)\r\n                return;\r\n\r\n            verticalSection = this.props.idMan.getItem(verticalSection);\r\n\r\n            let gridArea = verticalSection.getGridArea();\r\n            let areas = gridArea.split('/');\r\n            let x12 = parseInt(areas[0]);\r\n            let y12 = parseInt(areas[1]);\r\n            let x22 = parseInt(areas[2]);\r\n            let y22 = parseInt(areas[3]);\r\n\r\n            if (firstRow >= x12 && lastRow <= x22) {\r\n                x22--;\r\n            } else if (lastRow <= x12) {\r\n                x22--;\r\n                x12--;\r\n            }\r\n\r\n            gridArea = `${x12}/${y12}/${x22}/${y22}`;\r\n            verticalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n        });\r\n        this.allSectionsH.forEach(horizontalSection => {\r\n            horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n            let gridArea = horizontalSection.getGridArea();\r\n            let areas = gridArea.split('/');\r\n            let x13 = parseInt(areas[0]);\r\n            let y13 = parseInt(areas[1]);\r\n            let x23 = parseInt(areas[2]);\r\n            let y23 = parseInt(areas[3]);\r\n\r\n            if (lastRow <= x13) {\r\n                x13--;\r\n                x23--;\r\n            }\r\n\r\n            gridArea = `${x13}/${y13}/${x23}/${y23}`;\r\n            horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n        });\r\n\r\n        index >= 0 && this.allSectionsH.splice(index, 1);\r\n\r\n        console.log(\"deleteHorizontalSection 1\", index, this.allSectionsH);\r\n        this.gridTemplateRows = new Array(this.allSectionsH.length).fill(0).map(a => {\r\n            return \"auto\";\r\n        }).join(' ');\r\n        console.log(\"deleteHorizontalSection 2\", this.gridTemplateRows);\r\n\r\n        this.root.current.setGrid({\r\n            x: this.gridX,\r\n            y: this.gridY,\r\n            gridTemplateRows: this.gridTemplateRows,\r\n            gridTemplateColumns: this.gridTemplateColumns\r\n        }, undefined, this.props.breakpointmanager.getHighestBpName());\r\n\r\n        this.getAgl().invalidateSize();\r\n        this.props.select.onScrollItem();\r\n        return true;\r\n    };\r\n\r\n    getVerticalSection = (id) => {\r\n        return this.props.idMan.getItem(this.allSectionsV.find(h => {\r\n            if (h === null)\r\n                return false;\r\n\r\n            return h === id;\r\n        })) || null;\r\n    };\r\n\r\n    deleteVerticalSection = (id) => {\r\n        let index = this.allSectionsV.findIndex(h => {\r\n            if (h === null)\r\n                return false;\r\n            return h === id;\r\n        });\r\n        if (index < 0)\r\n            return false;\r\n\r\n        this.gridY--;\r\n\r\n        let currentSection = this.allSectionsV[index];\r\n        currentSection = this.props.idMan.getItem(currentSection);\r\n        let gridArea = currentSection.getGridArea();\r\n        let areas = gridArea.split('/');\r\n        let x1 = parseInt(areas[0]);\r\n        let y1 = parseInt(areas[1]);\r\n        let x2 = parseInt(areas[2]);\r\n        let y2 = parseInt(areas[3]);\r\n\r\n        let firstRow = x1;\r\n        let lastRow = x2;\r\n        let firstCol = y1;\r\n        let lastCol = y2;\r\n\r\n        this.allSectionsV.forEach(verticalSection => {\r\n            if (verticalSection === null)\r\n                return;\r\n\r\n            verticalSection = this.props.idMan.getItem(verticalSection);\r\n\r\n            let gridArea = verticalSection.getGridArea();\r\n            let areas = gridArea.split('/');\r\n            let x12 = parseInt(areas[0]);\r\n            let y12 = parseInt(areas[1]);\r\n            let x22 = parseInt(areas[2]);\r\n            let y22 = parseInt(areas[3]);\r\n\r\n            if (y12 >= firstCol) {\r\n                y12--;\r\n                y22--;\r\n            }\r\n\r\n            gridArea = `${x12}/${y12}/${x22}/${y22}`;\r\n            verticalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n        });\r\n        this.allSectionsH.forEach(horizontalSection => {\r\n            horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n            let gridArea = horizontalSection.getGridArea();\r\n            let areas = gridArea.split('/');\r\n            let x13 = parseInt(areas[0]);\r\n            let y13 = parseInt(areas[1]);\r\n            let x23 = parseInt(areas[2]);\r\n            let y23 = parseInt(areas[3]);\r\n\r\n            console.log(\"Check Resize\", horizontalSection.props.id, y13, y23, lastCol)\r\n            if (y13 >= lastCol) {\r\n                // fully right\r\n                y13--;\r\n                y23--;\r\n            // } else if (y23 >= lastRow) {\r\n            } else if (y23 >= lastCol) { // TODO Check\r\n                // partially right\r\n                y23--;\r\n            }\r\n\r\n            gridArea = `${x13}/${y13}/${x23}/${y23}`;\r\n            horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n        });\r\n\r\n        this.allSectionsV.splice(index, 1);\r\n\r\n        let mainColIndex = this.getMainColIndex();\r\n        this.gridTemplateColumns = new Array(this.allSectionsV.length).fill(0).map((a, i) => {\r\n            if (i === mainColIndex)\r\n                return mainColTemplate;\r\n            return \"auto\";\r\n        }).join(' ');\r\n\r\n        this.root.current.setGrid({\r\n            x: this.gridX,\r\n            y: this.gridY,\r\n            gridTemplateRows: this.gridTemplateRows,\r\n            gridTemplateColumns: this.gridTemplateColumns\r\n        }, undefined, this.props.breakpointmanager.getHighestBpName());\r\n\r\n        this.getAgl().invalidateSize();\r\n        this.props.select.onScrollItem();\r\n        return true;\r\n    };\r\n\r\n    addSectionQueue = (index, tagName, dynamicComponents, as, isVertical, callback) => {\r\n        if (!this.addQueue)\r\n            this.addQueue = [];\r\n\r\n        this.addQueue.push({\r\n            index, tagName, dynamicComponents, as, isVertical, callback\r\n        });\r\n\r\n        if (!this.checkingAddQueue) {\r\n            let nextOne = this.addQueue.shift();\r\n            this.checkAddQueue(nextOne);\r\n        }\r\n    };\r\n\r\n    checkAddQueue = (nextOne) => {\r\n        this.checkingAddQueue = true;\r\n        if (!nextOne.isVertical) {\r\n            this.addHorizontalSection(nextOne.index, nextOne.tagName, nextOne.dynamicComponents,\r\n                nextOne.as, (agl) => {\r\n                    if (nextOne.callback)\r\n                        nextOne.callback(agl);\r\n                    let newNextOne = this.addQueue.shift();\r\n                    if (newNextOne)\r\n                        this.checkAddQueue(newNextOne);\r\n                    else\r\n                        this.checkingAddQueue = false;\r\n                });\r\n        } else {\r\n            this.addVerticalSection(nextOne.index, nextOne.tagName, nextOne.dynamicComponents,\r\n                nextOne.as, (agl) => {\r\n                    if (nextOne.callback)\r\n                        nextOne.callback(agl);\r\n                    let newNextOne = this.addQueue.shift();\r\n                    if (newNextOne)\r\n                        this.checkAddQueue(newNextOne);\r\n                    else\r\n                        this.checkingAddQueue = false;\r\n                });\r\n        }\r\n    };\r\n\r\n    onItemPreDelete = (item) => {\r\n        console.log(\"onItemPreDelete 0\", item.props.id);\r\n        let allow = this.deleteHorizontalSection(item.props.id);\r\n        if (!allow)\r\n            allow = this.deleteVerticalSection(item.props.id);\r\n\r\n        return allow;\r\n    };\r\n\r\n    // Just for vertical items\r\n    onItemPreResizeStop = (item, e, dir, delta, runtimeStyle) => {\r\n        console.log(\"small from top0\", this.allSectionsH, this.allSectionsV);\r\n\r\n        let index = this.allSectionsH.findIndex(h => {\r\n            return h === item.props.id;\r\n        });\r\n\r\n        if (index >= 0)\r\n            return;\r\n        if (dir === 'e' || dir === 'w')\r\n            return;\r\n\r\n        let gridArea = item.getGridArea();\r\n        let areas = gridArea.split('/');\r\n        let x1 = parseInt(areas[0]);\r\n        let y1 = parseInt(areas[1]);\r\n        let x2 = parseInt(areas[2]);\r\n        let y2 = parseInt(areas[3]);\r\n\r\n        this.root.current.prepareRects(false, true);\r\n        let yLineRefs = this.props.gridLine.getYlineRef(this.root.current.props.id);\r\n        let firstLineTop =\r\n            this.root.current.getGridLineRect(yLineRefs[0], 0, 'y', this.root.current).top;\r\n\r\n        console.log(\"small from top1\", this.allSectionsH, this.allSectionsV)\r\n        if (dir === 'n') {\r\n            if (delta.y > 0) { // small from top\r\n                let targetTop = runtimeStyle.top - firstLineTop;\r\n                let selectedX1 = 1;\r\n                for (let i = yLineRefs.length - 1; i >= 0; i--) {\r\n                    let lineTop =\r\n                        this.root.current.getGridLineRect(yLineRefs[i], i, 'y', this.root.current).top - firstLineTop;\r\n                    if (i === yLineRefs.length - 1) // last line\r\n                        lineTop++;\r\n\r\n                    if (targetTop >= lineTop) {\r\n                        selectedX1 = i + 1;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                console.log(\"small from top\", this.allSectionsH, this.allSectionsV)\r\n\r\n                this.allSectionsH.forEach(horizontalSection => {\r\n                    horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n                    let gridArea = horizontalSection.getGridArea();\r\n                    let areas = gridArea.split('/');\r\n                    let x12 = parseInt(areas[0]);\r\n                    let y12 = parseInt(areas[1]);\r\n                    let x22 = parseInt(areas[2]);\r\n                    let y22 = parseInt(areas[3]);\r\n\r\n                    if (x12 >= x1 && x12 < selectedX1) {\r\n                        if (y12 === y2) { // shift left\r\n                            y12--;\r\n                            let checkIndex = this.allSectionsV.findIndex(h => {\r\n                                if (h === null)\r\n                                    return false;\r\n                                return h === item.props.id;\r\n                            }) - 1;\r\n                            while (checkIndex >= 0) {\r\n                                let nextSectionV = this.allSectionsV[checkIndex];\r\n                                nextSectionV = this.props.idMan.getItem(nextSectionV);\r\n                                if (nextSectionV) {\r\n                                    let gridArea = nextSectionV.getGridArea();\r\n                                    let areas = gridArea.split('/');\r\n                                    let x13 = parseInt(areas[0]);\r\n                                    let y13 = parseInt(areas[1]);\r\n                                    let x23 = parseInt(areas[2]);\r\n                                    let y23 = parseInt(areas[3]);\r\n\r\n                                    if (x22 <= x13) {\r\n                                        y12--;\r\n                                        checkIndex--;\r\n                                    } else {\r\n                                        checkIndex = -1;\r\n                                    }\r\n                                }\r\n                            }\r\n                        } else if (y22 === y1) { // shift right\r\n                            y22++;\r\n                            let checkIndex = this.allSectionsV.findIndex(h => {\r\n                                if (h === null)\r\n                                    return false;\r\n                                return h === item.props.id;\r\n                            }) + 1;\r\n                            while (checkIndex < this.allSectionsV.length) {\r\n                                let nextSectionV = this.allSectionsV[checkIndex];\r\n                                nextSectionV = this.props.idMan.getItem(nextSectionV);\r\n                                if (nextSectionV) {\r\n                                    let gridArea = nextSectionV.getGridArea();\r\n                                    let areas = gridArea.split('/');\r\n                                    let x13 = parseInt(areas[0]);\r\n                                    let y13 = parseInt(areas[1]);\r\n                                    let x23 = parseInt(areas[2]);\r\n                                    let y23 = parseInt(areas[3]);\r\n\r\n                                    if (x22 <= x13) {\r\n                                        y22++;\r\n                                        checkIndex++;\r\n                                    } else {\r\n                                        checkIndex = this.allSectionsV.length;\r\n                                    }\r\n                                } else {\r\n                                    checkIndex = this.allSectionsV.length;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    gridArea = `${x12}/${y12}/${x22}/${y22}`;\r\n                    horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n                });\r\n\r\n                x1 = Math.min(selectedX1, x2 - 1);\r\n            }\r\n            else { // big from top\r\n                let targetTop = runtimeStyle.top - firstLineTop;\r\n                let selectedX1 = 1;\r\n                for (let i = yLineRefs.length - 1; i >= 0; i--) {\r\n                    let lineTop =\r\n                        this.root.current.getGridLineRect(yLineRefs[i], i, 'y', this.root.current).top - firstLineTop;\r\n                    if (i === yLineRefs.length - 1) // last line\r\n                        lineTop++;\r\n\r\n                    if (targetTop >= lineTop) {\r\n                        selectedX1 = i + 1;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                this.allSectionsH.forEach(horizontalSection => {\r\n                    horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n                    let gridArea = horizontalSection.getGridArea();\r\n                    let areas = gridArea.split('/');\r\n                    let x12 = parseInt(areas[0]);\r\n                    let y12 = parseInt(areas[1]);\r\n                    let x22 = parseInt(areas[2]);\r\n                    let y22 = parseInt(areas[3]);\r\n\r\n                    if (x22 <= x1 && x12 >= selectedX1) {\r\n                        if (y12 <= y1 && y22 >= y2) { // walk through\r\n                            let mainColIndex = this.getMainColIndex();\r\n                            let currentIndex = this.allSectionsV.findIndex(h => {\r\n                                if (h === null)\r\n                                    return false;\r\n                                return h === item.props.id;\r\n                            });\r\n                            if (mainColIndex > currentIndex) { // move right\r\n                                y12 = y2;\r\n                            } else { // move left\r\n                                y22 = y1;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    gridArea = `${x12}/${y12}/${x22}/${y22}`;\r\n                    horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n                });\r\n\r\n                x1 = Math.min(selectedX1, x2 - 1);\r\n            }\r\n        }\r\n        else { // dir === 's'\r\n            if (delta.y > 0) { // big from bottom\r\n                let targetBottom = runtimeStyle.height + (runtimeStyle.top - firstLineTop);\r\n                let selectedX2 = yLineRefs.length;\r\n                for (let i = 1; i < yLineRefs.length; i++) {\r\n                    let lineBottom =\r\n                        this.root.current.getGridLineRect(yLineRefs[i], i, 'y', this.root.current).top - firstLineTop;\r\n                    if (i === yLineRefs.length - 1) // last line\r\n                        lineBottom++;\r\n\r\n                    if (targetBottom <= lineBottom) {\r\n                        selectedX2 = i + 1;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                this.allSectionsH.forEach(horizontalSection => {\r\n                    horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n                    let gridArea = horizontalSection.getGridArea();\r\n                    let areas = gridArea.split('/');\r\n                    let x12 = parseInt(areas[0]);\r\n                    let y12 = parseInt(areas[1]);\r\n                    let x22 = parseInt(areas[2]);\r\n                    let y22 = parseInt(areas[3]);\r\n\r\n                    if (x12 >= x2 && x12 < selectedX2) {\r\n                        if (y12 <= y1 && y22 >= y2) { // walk through\r\n                            let mainColIndex = this.getMainColIndex();\r\n                            let currentIndex = this.allSectionsV.findIndex(h => {\r\n                                if (h === null)\r\n                                    return false;\r\n                                return h === item.props.id;\r\n                            });\r\n                            if (mainColIndex > currentIndex) { // move right\r\n                                y12 = y2;\r\n                            } else { // move left\r\n                                y22 = y1;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    gridArea = `${x12}/${y12}/${x22}/${y22}`;\r\n                    horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n                });\r\n\r\n                x2 = Math.max(selectedX2, x1 + 1);\r\n            }\r\n            else { // small from bottom\r\n                let targetBottom = runtimeStyle.height + (runtimeStyle.top - firstLineTop);\r\n                let selectedX2 = yLineRefs.length;\r\n                for (let i = 1; i < yLineRefs.length; i++) {\r\n                    let lineBottom =\r\n                        this.root.current.getGridLineRect(yLineRefs[i], i, 'y', this.root.current).top - firstLineTop;\r\n                    if (i === yLineRefs.length - 1) // last line\r\n                        lineBottom++;\r\n\r\n                    if (targetBottom <= lineBottom) {\r\n                        selectedX2 = i + 1;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                this.allSectionsH.forEach(horizontalSection => {\r\n                    horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n                    let gridArea = horizontalSection.getGridArea();\r\n                    let areas = gridArea.split('/');\r\n                    let x12 = parseInt(areas[0]);\r\n                    let y12 = parseInt(areas[1]);\r\n                    let x22 = parseInt(areas[2]);\r\n                    let y22 = parseInt(areas[3]);\r\n\r\n                    if (x12 < x2 && x12 >= selectedX2) {\r\n                        if (y12 === y2) { // shift left\r\n                            y12--;\r\n                            let checkIndex = this.allSectionsV.findIndex(h => {\r\n                                if (h === null)\r\n                                    return false;\r\n                                return h === item.props.id;\r\n                            }) - 1;\r\n                            while (checkIndex >= 0) {\r\n                                let nextSectionV = this.allSectionsV[checkIndex];\r\n                                nextSectionV = this.props.idMan.getItem(nextSectionV);\r\n                                if (nextSectionV) {\r\n                                    let gridArea = nextSectionV.getGridArea();\r\n                                    let areas = gridArea.split('/');\r\n                                    let x13 = parseInt(areas[0]);\r\n                                    let y13 = parseInt(areas[1]);\r\n                                    let x23 = parseInt(areas[2]);\r\n                                    let y23 = parseInt(areas[3]);\r\n\r\n                                    if (x12 >= x23) {\r\n                                        y12--;\r\n                                        checkIndex--;\r\n                                    } else {\r\n                                        checkIndex = -1;\r\n                                    }\r\n                                } else {\r\n                                    checkIndex = -1;\r\n                                }\r\n                            }\r\n                        } else if (y22 === y1) { // shift right\r\n                            y22++;\r\n                            let checkIndex = this.allSectionsV.findIndex(h => {\r\n                                if (h === null)\r\n                                    return false;\r\n                                return h === item.props.id;\r\n                            }) + 1;\r\n                            while (checkIndex < this.allSectionsV.length) {\r\n                                let nextSectionV = this.allSectionsV[checkIndex];\r\n                                nextSectionV = this.props.idMan.getItem(nextSectionV);\r\n                                if (nextSectionV) {\r\n                                    let gridArea = nextSectionV.getGridArea();\r\n                                    let areas = gridArea.split('/');\r\n                                    let x13 = parseInt(areas[0]);\r\n                                    let y13 = parseInt(areas[1]);\r\n                                    let x23 = parseInt(areas[2]);\r\n                                    let y23 = parseInt(areas[3]);\r\n\r\n                                    if (x12 >= x23) {\r\n                                        y22++;\r\n                                        checkIndex++;\r\n                                    } else {\r\n                                        checkIndex = this.allSectionsV.length;\r\n                                    }\r\n                                } else {\r\n                                    checkIndex = this.allSectionsV.length;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    gridArea = `${x12}/${y12}/${x22}/${y22}`;\r\n                    horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n                });\r\n\r\n                x2 = Math.max(selectedX2, x1 + 1);\r\n            }\r\n        }\r\n\r\n        item.setGridArea(\r\n            `${x1}/${y1}/${x2}/${y2}`\r\n            , this.props.breakpointmanager.getHighestBpName());\r\n    };\r\n\r\n    addHorizontalSection = (index, tagName, dynamicComponents, as, callback) => {\r\n        this.gridX++;\r\n        this.gridTemplateRows = new Array(this.allSectionsH.length + 1).fill(0).map(a => {\r\n            return \"auto\";\r\n        }).join(' ');\r\n\r\n        let currentSectionIndex = index !== 0 ? index - 1 : 0;\r\n\r\n        let currentSection = this.allSectionsH[currentSectionIndex];\r\n        currentSection = this.props.idMan.getItem(currentSection);\r\n\r\n        let currentSectionGridArea = currentSection && currentSection.getGridArea();\r\n        let gridArea = currentSectionGridArea ? `${index + 1}/${\r\n                currentSectionGridArea.split('/')[1]\r\n                }/${index + 2}/${\r\n                currentSectionGridArea.split('/')[3]\r\n                }` :\r\n            \"1/1/2/2\"\r\n        ;\r\n\r\n        if (!tagName)\r\n            tagName = \"Section\";\r\n\r\n        let Tag = dynamicComponents[tagName];\r\n\r\n        let section = <Tag\r\n            as={as}\r\n            isSection\r\n            data={{\r\n                bpData: {\r\n                    gridItemStyle: {\r\n                        gridArea: gridArea,\r\n                        marginTop: \"0px\",\r\n                        marginLeft: \"0px\",\r\n                        marginBottom: \"0px\",\r\n                        marginRight: \"0px\",\r\n                    }\r\n                },\r\n                isSection: true,\r\n            }}\r\n            resizeSides={['s', 'n']}\r\n            // onItemPreDelete={this.onItemPreDelete}\r\n        />;\r\n\r\n        this.allSectionsV.forEach(verticalSection => {\r\n            if (verticalSection === null)\r\n                return;\r\n\r\n            verticalSection = this.props.idMan.getItem(verticalSection);\r\n\r\n            let gridArea = verticalSection.getGridArea();\r\n            let areas = gridArea.split('/');\r\n            let x1 = parseInt(areas[0]);\r\n            let y1 = parseInt(areas[1]);\r\n            let x2 = parseInt(areas[2]);\r\n            let y2 = parseInt(areas[3]);\r\n\r\n            let firstRow = index + 1;\r\n\r\n            if (x2 >= firstRow)\r\n                x2++;\r\n            if (x1 >= firstRow)\r\n                x1++;\r\n\r\n            gridArea = `${x1}/${y1}/${x2}/${y2}`;\r\n            verticalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n        });\r\n        this.allSectionsH.forEach(horizontalSection => {\r\n            horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n            let gridArea = horizontalSection.getGridArea();\r\n            let areas = gridArea.split('/');\r\n            let x1 = parseInt(areas[0]);\r\n            let y1 = parseInt(areas[1]);\r\n            let x2 = parseInt(areas[2]);\r\n            let y2 = parseInt(areas[3]);\r\n\r\n            let firstCol = index + 1;\r\n\r\n            if (x1 >= firstCol)\r\n                x1++;\r\n            if (x2 > firstCol)\r\n                x2++;\r\n\r\n            gridArea = `${x1}/${y1}/${x2}/${y2}`;\r\n            horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n        });\r\n\r\n        this.root.current.setGrid({\r\n            x: this.gridX,\r\n            y: this.gridY,\r\n            gridTemplateRows: this.gridTemplateRows,\r\n            gridTemplateColumns: this.gridTemplateColumns\r\n        }, undefined, this.props.breakpointmanager.getHighestBpName());\r\n        this.root.current.addChild(section, undefined, undefined, undefined, (agl) => {\r\n            this.allSectionsH.splice(index, 0, agl.props.id);\r\n            if (callback)\r\n                callback(agl);\r\n        }, undefined, true);\r\n    };\r\n\r\n    getMainColIndex = (insertIndex) => {\r\n        let index = this.allSectionsV.findIndex(v => {\r\n            return v === null;\r\n        });\r\n\r\n        if (insertIndex !== undefined && index >= insertIndex)\r\n            return index + 1;\r\n\r\n        return index;\r\n    };\r\n\r\n    addVerticalSection = (index, tagName, dynamicComponents, as, callback) => {\r\n        this.gridY++;\r\n\r\n        let currentSectionIndex = index !== 0 ? index - 1 : 0;\r\n\r\n        let currentSection = this.allSectionsV[currentSectionIndex] || null;\r\n        if (currentSection === null)\r\n            currentSection = this.allSectionsV[currentSectionIndex + 1];\r\n\r\n        currentSection = this.props.idMan.getItem(currentSection);\r\n\r\n        let currentSectionGridArea = currentSection && currentSection.getGridArea();\r\n        let gridArea = currentSectionGridArea ? `${\r\n                currentSectionGridArea.split('/')[0]\r\n                }/${index + 1}/${\r\n                currentSectionGridArea.split('/')[2]\r\n                }/${index + 2}` :\r\n            `${1}/${index + 1}/${this.gridX + 1}/${index + 2}`\r\n        ;\r\n\r\n        if (!tagName)\r\n            tagName = \"Section\";\r\n\r\n        let Tag = dynamicComponents[tagName];\r\n\r\n        let section = <Tag\r\n            as={as}\r\n            isSection\r\n            isVerticalSection\r\n            data={{\r\n                bpData: {\r\n                    gridItemStyle: {\r\n                        gridArea: gridArea,\r\n                        marginTop: \"0px\",\r\n                        marginLeft: \"0px\",\r\n                        marginBottom: \"0px\",\r\n                        marginRight: \"0px\",\r\n                    }\r\n                },\r\n                isSection: true,\r\n                isVerticalSection: true,\r\n            }}\r\n            style={{\r\n                width: \"200px\",\r\n                height: \"auto\",\r\n                minHeight: \"auto\",\r\n            }}\r\n            resizeSides={['e', 'w', 'n', 's']}\r\n            // onItemPreDelete={this.onItemPreDelete}\r\n            // onItemPreResizeStop={this.onItemPreResizeStop}\r\n        />;\r\n\r\n        console.log(\"this.allSectionsH\", this.allSectionsH)\r\n        this.allSectionsH.forEach(horizontalSection => {\r\n            horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n            let gridArea = horizontalSection.getGridArea();\r\n            let areas = gridArea.split('/');\r\n            let x1 = parseInt(areas[0]);\r\n            let y1 = parseInt(areas[1]);\r\n            let x2 = parseInt(areas[2]);\r\n            let y2 = parseInt(areas[3]);\r\n\r\n            let firstCol = index + 1;\r\n\r\n            console.log(\"Check\", horizontalSection.props.id, y1, y2, firstCol)\r\n            if (y1 >= firstCol)\r\n                y1++;\r\n            if (y2 > firstCol)\r\n                y2++;\r\n\r\n            gridArea = `${x1}/${y1}/${x2}/${y2}`;\r\n            horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n        });\r\n        this.allSectionsV.forEach(verticalSection => {\r\n            if (verticalSection === null)\r\n                return;\r\n            verticalSection = this.props.idMan.getItem(verticalSection);\r\n\r\n            let gridArea = verticalSection.getGridArea();\r\n            let areas = gridArea.split('/');\r\n            let x1 = parseInt(areas[0]);\r\n            let y1 = parseInt(areas[1]);\r\n            let x2 = parseInt(areas[2]);\r\n            let y2 = parseInt(areas[3]);\r\n\r\n            let firstCol = index + 1;\r\n\r\n            if (y1 >= firstCol)\r\n                y1++;\r\n            if (y2 > firstCol)\r\n                y2++;\r\n\r\n            gridArea = `${x1}/${y1}/${x2}/${y2}`;\r\n            verticalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n        });\r\n\r\n        let mainColIndex = this.getMainColIndex(index);\r\n        this.gridTemplateColumns = new Array(this.allSectionsV.length + 1).fill(0).map((a, i) => {\r\n            if (i === mainColIndex)\r\n                return mainColTemplate;\r\n            return \"auto\";\r\n        }).join(' ');\r\n\r\n        this.root.current.setGrid({\r\n            x: this.gridX,\r\n            y: this.gridY,\r\n            gridTemplateRows: this.gridTemplateRows,\r\n            gridTemplateColumns: this.gridTemplateColumns\r\n        }, undefined, this.props.breakpointmanager.getHighestBpName());\r\n        this.root.current.addChild(section, undefined, undefined, undefined, (agl) => {\r\n            this.allSectionsV.splice(index, 0, agl.props.id);\r\n            this.props.select.onScrollItem();\r\n            if (callback)\r\n                callback(agl);\r\n        }, undefined, true);\r\n    };\r\n\r\n    moveUp = (id) => {\r\n        let horizontalSection = this.getHorizontalSection(id);\r\n        if (!horizontalSection)\r\n            return;\r\n\r\n        let gridArea = horizontalSection.getGridArea();\r\n        let areas = gridArea.split('/');\r\n        let x1 = parseInt(areas[0]);\r\n        let y1 = parseInt(areas[1]);\r\n        let x2 = parseInt(areas[2]);\r\n        let y2 = parseInt(areas[3]);\r\n        let gridArea2, areas2, x12, y12, x22, y22;\r\n\r\n        let currentIndex = x1 - 1;\r\n        let sideSection = this.allSectionsH[currentIndex - 1];\r\n        sideSection = this.props.idMan.getItem(sideSection);\r\n        if (sideSection) {\r\n            gridArea2 = sideSection.getGridArea();\r\n            areas2 = gridArea2.split('/');\r\n            x12 = parseInt(areas2[0]);\r\n            y12 = parseInt(areas2[1]);\r\n            x22 = parseInt(areas2[2]);\r\n            y22 = parseInt(areas2[3]);\r\n\r\n            sideSection.setGridArea(\r\n                `${x12 + 1}/${y1}/${x22 + 1}/${y2}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n\r\n            horizontalSection.setGridArea(\r\n                `${x1 - 1}/${y12}/${x2 - 1}/${y22}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n\r\n            swapArrayElements(this.allSectionsH, currentIndex, currentIndex - 1);\r\n        }\r\n\r\n        this.getAgl().invalidateSize();\r\n        this.props.select.onScrollItem();\r\n    };\r\n\r\n    moveDown = (id) => {\r\n        let horizontalSection = this.getHorizontalSection(id);\r\n        if (!horizontalSection)\r\n            return;\r\n\r\n        let gridArea = horizontalSection.getGridArea();\r\n        let areas = gridArea.split('/');\r\n        let x1 = parseInt(areas[0]);\r\n        let y1 = parseInt(areas[1]);\r\n        let x2 = parseInt(areas[2]);\r\n        let y2 = parseInt(areas[3]);\r\n        let gridArea2, areas2, x12, y12, x22, y22;\r\n\r\n        let currentIndex = x1 - 1;\r\n        let sideSection = this.allSectionsH[currentIndex + 1];\r\n        sideSection = this.props.idMan.getItem(sideSection);\r\n        if (sideSection) {\r\n            gridArea2 = sideSection.getGridArea();\r\n            areas2 = gridArea2.split('/');\r\n            x12 = parseInt(areas2[0]);\r\n            y12 = parseInt(areas2[1]);\r\n            x22 = parseInt(areas2[2]);\r\n            y22 = parseInt(areas2[3]);\r\n\r\n            sideSection.setGridArea(\r\n                `${x12 - 1}/${y1}/${x22 - 1}/${y2}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n\r\n            horizontalSection.setGridArea(\r\n                `${x1 + 1}/${y12}/${x2 + 1}/${y22}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n\r\n            swapArrayElements(this.allSectionsH, currentIndex, currentIndex + 1);\r\n        }\r\n\r\n        this.getAgl().invalidateSize();\r\n        this.props.select.onScrollItem();\r\n    };\r\n\r\n    moveRight = (id) => {\r\n        let verticalSection = this.getVerticalSection(id);\r\n        if (!verticalSection)\r\n            return;\r\n\r\n        let gridArea = verticalSection.getGridArea();\r\n        let areas = gridArea.split('/');\r\n        let x1 = parseInt(areas[0]);\r\n        let y1 = parseInt(areas[1]);\r\n        let x2 = parseInt(areas[2]);\r\n        let y2 = parseInt(areas[3]);\r\n        let gridArea2, areas2, x12, y12, x22, y22;\r\n\r\n        let currentIndex = y1 - 1;\r\n        let sideSection = this.allSectionsV[currentIndex + 1];\r\n        if (sideSection !== null){\r\n            sideSection = this.props.idMan.getItem(sideSection);\r\n        }\r\n        // sideSection = this.props.idMan.getItem(sideSection) || null;\r\n        if (sideSection) {\r\n            gridArea2 = sideSection.getGridArea();\r\n            areas2 = gridArea2.split('/');\r\n            x12 = parseInt(areas2[0]);\r\n            y12 = parseInt(areas2[1]);\r\n            x22 = parseInt(areas2[2]);\r\n            y22 = parseInt(areas2[3]);\r\n\r\n            sideSection.setGridArea(\r\n                `${x1}/${y12 - 1}/${x2}/${y22 - 1}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n\r\n            verticalSection.setGridArea(\r\n                `${x12}/${y1 + 1}/${x22}/${y2 + 1}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n\r\n            swapArrayElements(this.allSectionsV, currentIndex, currentIndex + 1);\r\n\r\n            this.getAgl().invalidateSize();\r\n            this.props.select.onScrollItem();\r\n            return;\r\n        }\r\n\r\n        // if side section was main horizontal sections\r\n        if (sideSection === null) {\r\n            verticalSection.setGridArea(\r\n                `${x1}/${y1 + 1}/${x2}/${y2 + 1}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n\r\n            this.allSectionsH.forEach(horizontalSection => {\r\n                horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n                let gridArea = horizontalSection.getGridArea();\r\n                let areas = gridArea.split('/');\r\n                let x13 = parseInt(areas[0]);\r\n                let y13 = parseInt(areas[1]);\r\n                let x23 = parseInt(areas[2]);\r\n                let y23 = parseInt(areas[3]);\r\n\r\n                let firstRow = x1;\r\n                let lastRow = x2;\r\n\r\n                console.log(\"moveRight firstRow:\", firstRow, \"lastRow:\", lastRow, \"x13:\", x13, \"x23:\", x23);\r\n                if (x13 >= firstRow && x23 <= lastRow) {\r\n                    console.log(\"moveRight yes\");\r\n                    y13--;\r\n                    y23--;\r\n\r\n                    if (y23 > y1 + 1)\r\n                        y23 = y1 + 1;\r\n                }\r\n\r\n                gridArea = `${x13}/${y13}/${x23}/${y23}`;\r\n                horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n            });\r\n\r\n            swapArrayElements(this.allSectionsV, currentIndex, currentIndex + 1);\r\n        }\r\n\r\n        let mainColIndex = this.getMainColIndex();\r\n        this.gridTemplateColumns = new Array(this.allSectionsV.length).fill(0).map((a, i) => {\r\n            if (i === mainColIndex)\r\n                return mainColTemplate;\r\n            return \"auto\";\r\n        }).join(' ');\r\n        this.root.current.setGrid({\r\n            x: this.gridX,\r\n            y: this.gridY,\r\n            gridTemplateRows: this.gridTemplateRows,\r\n            gridTemplateColumns: this.gridTemplateColumns\r\n        }, undefined, this.props.breakpointmanager.getHighestBpName());\r\n\r\n        this.getAgl().invalidateSize();\r\n        this.props.select.onScrollItem();\r\n    };\r\n\r\n    moveLeft = (id) => {\r\n        let verticalSection = this.getVerticalSection(id);\r\n        if (!verticalSection)\r\n            return;\r\n\r\n        let gridArea = verticalSection.getGridArea();\r\n        let areas = gridArea.split('/');\r\n        let x1 = parseInt(areas[0]);\r\n        let y1 = parseInt(areas[1]);\r\n        let x2 = parseInt(areas[2]);\r\n        let y2 = parseInt(areas[3]);\r\n        let gridArea2, areas2, x12, y12, x22, y22;\r\n\r\n        let currentIndex = y1 - 1;\r\n        let sideSection = this.allSectionsV[currentIndex - 1];\r\n        if (sideSection !== null){\r\n            sideSection = this.props.idMan.getItem(sideSection);\r\n        }\r\n        // sideSection = this.props.idMan.getItem(sideSection) || null;\r\n        if (sideSection) {\r\n            gridArea2 = sideSection.getGridArea();\r\n            areas2 = gridArea2.split('/');\r\n            x12 = parseInt(areas2[0]);\r\n            y12 = parseInt(areas2[1]);\r\n            x22 = parseInt(areas2[2]);\r\n            y22 = parseInt(areas2[3]);\r\n\r\n            sideSection.setGridArea(\r\n                `${x1}/${y12 + 1}/${x2}/${y22 + 1}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n\r\n            verticalSection.setGridArea(\r\n                `${x12}/${y1 - 1}/${x22}/${y2 - 1}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n\r\n            swapArrayElements(this.allSectionsV, currentIndex, currentIndex - 1);\r\n\r\n            this.getAgl().invalidateSize();\r\n            this.props.select.onScrollItem();\r\n            return;\r\n        }\r\n\r\n        // if side section was main horizontal sections\r\n        if (sideSection === null) {\r\n            verticalSection.setGridArea(\r\n                `${x1}/${y1 - 1}/${x2}/${y2 - 1}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n            this.allSectionsH.forEach(horizontalSection => {\r\n                horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n                let gridArea = horizontalSection.getGridArea();\r\n                let areas = gridArea.split('/');\r\n                let x13 = parseInt(areas[0]);\r\n                let y13 = parseInt(areas[1]);\r\n                let x23 = parseInt(areas[2]);\r\n                let y23 = parseInt(areas[3]);\r\n\r\n                let firstRow = x1;\r\n                let lastRow = x2;\r\n\r\n                if (x13 >= firstRow && x23 <= lastRow) {\r\n                    y13++;\r\n                    y23++;\r\n\r\n                    if (y13 < y2 - 1)\r\n                        y13 = y2 - 1;\r\n                }\r\n\r\n                gridArea = `${x13}/${y13}/${x23}/${y23}`;\r\n                horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n            });\r\n\r\n            swapArrayElements(this.allSectionsV, currentIndex, currentIndex - 1);\r\n        }\r\n\r\n        let mainColIndex = this.getMainColIndex();\r\n        this.gridTemplateColumns = new Array(this.allSectionsV.length).fill(0).map((a, i) => {\r\n            if (i === mainColIndex)\r\n                return mainColTemplate;\r\n            return \"auto\";\r\n        }).join(' ');\r\n        this.root.current.setGrid({\r\n            x: this.gridX,\r\n            y: this.gridY,\r\n            gridTemplateRows: this.gridTemplateRows,\r\n            gridTemplateColumns: this.gridTemplateColumns\r\n        }, undefined, this.props.breakpointmanager.getHighestBpName());\r\n\r\n        this.getAgl().invalidateSize();\r\n        this.props.select.onScrollItem();\r\n    };\r\n\r\n    updateTemplates = () => {\r\n        let mainColIndex = this.getMainColIndex();\r\n        this.gridTemplateColumns = new Array(this.allSectionsV.length).fill(0).map((a, i) => {\r\n            if (i === mainColIndex)\r\n                return mainColTemplate;\r\n            if (isHideInBreakpoint(this.props.idMan.getItem(this.allSectionsV[i])))\r\n                return \"0px\";\r\n            return \"auto\";\r\n        }).join(' ');\r\n        this.gridTemplateRows = new Array(this.allSectionsH.length).fill(0).map((a, i) => {\r\n            if (isHideInBreakpoint(this.props.idMan.getItem(this.allSectionsH[i])))\r\n                return \"0px\";\r\n            return \"auto\";\r\n        }).join(' ');\r\n        this.root.current.setGrid({\r\n            x: this.gridX,\r\n            y: this.gridY,\r\n            gridTemplateRows: this.gridTemplateRows,\r\n            gridTemplateColumns: this.gridTemplateColumns\r\n        }, undefined, this.props.breakpointmanager.getHighestBpName());\r\n    };\r\n\r\n    hasMiniMenuOverride = () => {\r\n        return false;\r\n    };\r\n\r\n    invalidateSizeOverride = (agl, self, updateParent, updateChildren, sourceId) => {\r\n        if (self)\r\n            delete this.tempSize;\r\n\r\n        Object.values(agl.allChildRefs).forEach(childRef => {\r\n            if (childRef && childRef.current && sourceId !== childRef.current.props.id) {\r\n                childRef.current.invalidateSize(true, false, true);\r\n            }\r\n        });\r\n    };\r\n\r\n    getInspectorOverride = () => {\r\n        return (\r\n            <>\r\n                <InspectorBreadcrumbs\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorBackground\r\n                    item={this.getAgl()}\r\n                    onDesignChange={this.onDesignChange}\r\n                />\r\n                <InspectorPadding\r\n                    item={this.getAgl()}\r\n                />\r\n            </>\r\n        )\r\n    };\r\n\r\n    getSectionOfPoint = (left, top, width, height) => {\r\n        let childRef = Object.values(this.getAgl().allChildRefs).find(childRef => {\r\n            if (childRef && childRef.current) {\r\n                if (childRef.current.isPointInclude(left, top))\r\n                    return true;\r\n            }\r\n        });\r\n\r\n        if (!childRef)\r\n            childRef = Object.values(this.getAgl().allChildRefs).find(childRef => {\r\n                if (childRef && childRef.current) {\r\n                    if (childRef.current.isPointInclude(left + width, top + height))\r\n                        return true;\r\n                }\r\n            });\r\n\r\n        if (!childRef)\r\n            childRef = Object.values(this.getAgl().allChildRefs).find(childRef => {\r\n                return (childRef && childRef.current);\r\n            });\r\n\r\n        return childRef.current;\r\n    };\r\n\r\n    updateDesign = (compositeDesign) => {\r\n        let fillColor;\r\n\r\n        console.log(\"updateDesign\", compositeDesign.fillColor)\r\n        if (compositeDesign.fillColor)\r\n            fillColor = parseColor(compositeDesign.fillColor, compositeDesign.fillColor.alpha, this.context);\r\n\r\n        setStyleParam(\"backgroundColor\", fillColor || \"unset\",\r\n            this.getAgl(), 2, undefined, true);\r\n    };\r\n    // White Background\r\n    getStaticChildren = () => {\r\n\r\n        return <div\r\n            className=\"PageBaseWhiteBackground\"\r\n            style={{\r\n\r\n            }}\r\n        />\r\n    };\r\n\r\n    render() {\r\n        // let fullWidth = (this.getAgl() && this.getAgl().getSize(false)) || (1002);\r\n        let fullWidth = this.props.pageSize;\r\n        return (\r\n            <AGLWrapper tagName=\"PageBase\"\r\n                        aglRef={!this.props.aglRef ? this.root : this.root = this.props.aglRef}\r\n                        aglComponent={this}\r\n                        {...this.props}\r\n                        className=\"Page1Root\"\r\n                        style={{\r\n                            width: this.context.production ? \"100%\" : `${fullWidth}px`,\r\n                            height: \"100%\",\r\n                            boxShadow: \"0 2px 12px 6px rgba(134,138,165,.41)\",\r\n                            display: \"inline-block\"\r\n                        }}\r\n                        data={this.getData()}\r\n                        isPage\r\n                        resizeSides={[]}\r\n                        page={this}\r\n                        hasMiniMenuOverride={this.hasMiniMenuOverride}\r\n                        getInspector={this.getInspector}\r\n                        invalidateSizeOverride={this.invalidateSizeOverride}\r\n                        onDeletingChild={this.onItemPreDelete}\r\n                        onChildResizeStoping={this.onItemPreResizeStop}\r\n            >\r\n            </AGLWrapper>\r\n        )\r\n    }\r\n}\r\n\r\nPageBase.defaultProps = {\r\n    tagName: \"PageBase\",\r\n};\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\n\r\nexport default class VerticalSpacer extends AGLComponent{\r\n    render() {\r\n        return (\r\n            <AGLWrapper\r\n                tagName=\"VerticalSpacer\"\r\n                {...this.props}\r\n                data={this.getData()}\r\n                style={{\r\n                    width: \"100%\",\r\n                    height: \"20px\"\r\n                }}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport React from \"react\";\r\n\r\nlet FadeInAnimation = {};\r\n\r\nFadeInAnimation.getOptions = (props) => {\r\n    return null;\r\n};\r\n\r\nFadeInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {duration, delay} = options;\r\n    let animationStyles = StyleSheet.create({\r\n        fadeIn: {\r\n            animationName: {\r\n                \"0%\": {\r\n                    opacity: 0\r\n                },\r\n                \"100%\": {\r\n                    opacity: 1\r\n                }\r\n            },\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.fadeIn);\r\n};\r\n\r\nFadeInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default FadeInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\n\r\nlet BounceInAnimation = {};\r\n\r\nBounceInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Direction</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'From center',\r\n                    'From top left',\r\n                    'From top right',\r\n                    'From bottom left',\r\n                    'From bottom right'\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.direction`, v);\r\n                }}\r\n                value={options.direction || 'From top left'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nBounceInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {direction, duration, delay} = options;\r\n    direction = direction || 'From top left';\r\n\r\n    let animationName = {};\r\n    animationName['0%'] = {\r\n        opacity: 0,\r\n        transform: `scale3d(0, 0, 0) translate3d(${\r\n                direction.includes('center')? '0': direction.includes('left')? '-100%': direction.includes('right')?\r\n                    '100%': '0'\r\n            }, ${\r\n                direction.includes('center')? '0': direction.includes('top')? '-100%': direction.includes('bottom')?\r\n                    '100%': '0'\r\n            }, 0)`\r\n    };\r\n    animationName['20%'] = {\r\n        opacity: 0.33,\r\n        transform: `scale3d(1.1, 1.1, 1.1) translate3d(${\r\n            direction.includes('center')? '0': direction.includes('left')? '7%': direction.includes('right')?\r\n                '-7%': '0'\r\n            }, ${\r\n            direction.includes('center')? '0': direction.includes('top')? '7%': direction.includes('bottom')?\r\n                '-7%': '0'\r\n            }, 0)`\r\n    };\r\n    animationName['40%'] = {\r\n        opacity: 0.66,\r\n        transform: `scale3d(0.9, 0.9, 0.9) translate3d(${\r\n            direction.includes('center')? '0': direction.includes('left')? '-5%': direction.includes('right')?\r\n                '5%': '0'\r\n            }, ${\r\n            direction.includes('center')? '0': direction.includes('top')? '-5%': direction.includes('bottom')?\r\n                '5%': '0'\r\n            }, 0)`\r\n    };\r\n    animationName['60%'] = {\r\n        opacity: 1,\r\n        transform: `scale3d(1.03, 1.03, 1.03) translate3d(${\r\n            direction.includes('center')? '0': direction.includes('left')? '3%': direction.includes('right')?\r\n                '-3%': '0'\r\n            }, ${\r\n            direction.includes('center')? '0': direction.includes('top')? '3%': direction.includes('bottom')?\r\n                '-3%': '0'\r\n            }, 0)`\r\n    };\r\n    animationName['80%'] = {\r\n        opacity: 1,\r\n        transform: `scale3d(0.97, 0.97, 0.97) translate3d(${\r\n            direction.includes('center')? '0': direction.includes('left')? '-1%': direction.includes('right')?\r\n                '1%': '0'\r\n            }, ${\r\n            direction.includes('center')? '0': direction.includes('top')? '-1%': direction.includes('bottom')?\r\n                '1%': '0'\r\n            }, 0)`\r\n    };\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        transform: `scale3d(1, 1, 1)`\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        bounceIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.bounceIn);\r\n};\r\n\r\nBounceInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default BounceInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport React from \"react\";\r\nimport SliderInput from \"../../Menus/CommonComponents/SliderInput\";\r\nimport Angle from \"../../Menus/CommonComponents/Angle\";\r\nimport Divider from \"../../Menus/CommonComponents/Divider\";\r\n\r\nlet GlideInAnimation = {};\r\n\r\nGlideInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <>\r\n            <div className=\"MenuOptionSection\">\r\n                <p className=\"MenuOptionSectionTitle\">Angle</p>\r\n\r\n                <Angle\r\n                    className=\"ShadowAngle\"\r\n                    angle={options.angle || 90}\r\n                    onChange={(d) => {\r\n                        onDesignChange(`${designKey}.angle`, d);\r\n                    }}\r\n                />\r\n            </div>\r\n\r\n            <Divider/>\r\n\r\n            <div className=\"MenuOptionSection\">\r\n                <p className=\"MenuOptionSectionTitle\">Distance</p>\r\n\r\n                <div\r\n                    className=\"BorderWidth\"\r\n                >\r\n                    <SliderInput\r\n                        className=\"BorderWidthSlider\"\r\n                        min={0}\r\n                        max={300}\r\n                        value={options.distance || 100}\r\n                        designKey={`${designKey}.distance`}\r\n                        onDesignChange={onDesignChange}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n};\r\n\r\nGlideInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {distance, angle, duration, delay} = options;\r\n    distance = distance || 100;\r\n    angle = angle || 90;\r\n\r\n    let animationName = {};\r\n    let tx = - distance * Math.sin(angle * Math.PI / 180);\r\n    let ty = distance * Math.cos(angle * Math.PI / 180);\r\n    animationName['0%'] = {\r\n        opacity: 1,\r\n        transform: `translate3d(${tx}px, ${ty}px, 0)`\r\n    };\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        transform: `translate3d(0,0,0)`\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        glideIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.glideIn);\r\n};\r\n\r\nGlideInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default GlideInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\n\r\nlet FloatInAnimation = {};\r\n\r\nFloatInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Direction</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'From top',\r\n                    'From left',\r\n                    'From bottom',\r\n                    'From right',\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.direction`, v);\r\n                }}\r\n                value={options.direction || 'From left'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nFloatInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {direction, duration, delay} = options;\r\n    direction = direction || 'From left';\r\n\r\n    let animationName = {};\r\n    animationName['0%'] = {\r\n        opacity: 0,\r\n        transform: `translate3d(${\r\n                direction.includes('left')? '-20%': direction.includes('right')? '20%': 0\r\n            }, ${\r\n                direction.includes('top')? '-20%': direction.includes('bottom')? '20%': 0\r\n            }, 0)`\r\n    };\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        transform: `translate3d(0,0,0)`\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        floatIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.floatIn);\r\n};\r\n\r\nFloatInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default FloatInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\n\r\nlet ExpandInAnimation = {};\r\n\r\nExpandInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Power</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'Soft',\r\n                    'Medium',\r\n                    'Hard'\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.power`, v);\r\n                }}\r\n                value={options.power || 'Hard'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nExpandInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {power, duration, delay} = options;\r\n    power = power || 'Hard';\r\n\r\n    let animationName = {};\r\n    animationName[\"0%\"] = {\r\n        opacity: 0,\r\n        transform: `scale3d(${\r\n                power === \"Hard\"? '0.2': power === \"Medium\"? '0.5': '0.8'\r\n            }, ${\r\n                power === \"Hard\"? '0.2': power === \"Medium\"? '0.5': '0.8'\r\n            }, 0)`\r\n    };\r\n    animationName[\"100%\"] = {\r\n        opacity: 1,\r\n        transform: 'scale3d(1,1,1)'\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        expandIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.expandIn);\r\n};\r\n\r\nExpandInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default ExpandInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\nimport Divider from \"../../Menus/CommonComponents/Divider\";\r\nimport SliderInput from \"../../Menus/CommonComponents/SliderInput\";\r\n\r\nlet SpinInAnimation = {};\r\n\r\nSpinInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <>\r\n            <div className=\"MenuOptionAnimationRoot\">\r\n                <p className=\"MenuOptionSectionTitle\">Power</p>\r\n\r\n                <DropDown\r\n                    options={[\r\n                        'Soft',\r\n                        'Medium',\r\n                        'Hard'\r\n                    ]}\r\n                    onChange={(v) => {\r\n                        onDesignChange(`${designKey}.power`, v);\r\n                    }}\r\n                    value={options.power || 'Hard'}\r\n                    spanStyle={{\r\n                        width: \"100%\",\r\n                        fontSize: 14,\r\n                    }}\r\n                />\r\n            </div>\r\n\r\n            <Divider/>\r\n\r\n            <div className=\"MenuOptionAnimationRoot\">\r\n                <p className=\"MenuOptionSectionTitle\">Direction</p>\r\n\r\n                <DropDown\r\n                    options={[\r\n                        'Clockwise',\r\n                        'Counter clockwise',\r\n                    ]}\r\n                    onChange={(v) => {\r\n                        onDesignChange(`${designKey}.direction`, v);\r\n                    }}\r\n                    value={options.direction || 'Clockwise'}\r\n                    spanStyle={{\r\n                        width: \"100%\",\r\n                        fontSize: 14,\r\n                    }}\r\n                />\r\n            </div>\r\n\r\n            <Divider/>\r\n\r\n            <div className=\"MenuOptionAnimationRoot\">\r\n                <p className=\"MenuOptionSectionTitle\">Spin number</p>\r\n\r\n                <div\r\n                    className=\"BorderWidth\"\r\n                >\r\n                    <SliderInput\r\n                        className=\"BorderWidthSlider\"\r\n                        min={0}\r\n                        max={15}\r\n                        step={0.1}\r\n                        value={options.spinNo || 2}\r\n                        designKey={`${designKey}.spinNo`}\r\n                        onDesignChange={onDesignChange}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n};\r\n\r\nSpinInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {power, direction, spinNo, duration, delay} = options;\r\n    power = power || 'Hard';\r\n    direction = direction || 'Clockwise';\r\n    spinNo = spinNo || 2;\r\n\r\n    let animationName = {};\r\n    let firstRotate = 360 * spinNo * (direction === 'Clockwise'? -1: 1);\r\n    animationName[\"0%\"] = {\r\n        opacity: 0,\r\n        transform: `rotate(${firstRotate}deg) scale3d(${\r\n                power === \"Hard\"? '0.3': power === \"Medium\"? '0.6': '1'\r\n            }, ${\r\n                power === \"Hard\"? '0.3': power === \"Medium\"? '0.6': '1'\r\n            }, 1)`\r\n    };\r\n    animationName[\"100%\"] = {\r\n        opacity: 1,\r\n        transform: 'rotate(0deg) scale3d(1,1,1)'\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        spinIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.spinIn);\r\n};\r\n\r\nSpinInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default SpinInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\n\r\nlet FlyInAnimation = {};\r\n\r\nFlyInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Direction</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'From top',\r\n                    'From left',\r\n                    'From bottom',\r\n                    'From right',\r\n                    'From top left',\r\n                    'From top right',\r\n                    'From bottom left',\r\n                    'From bottom right',\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.direction`, v);\r\n                }}\r\n                value={options.direction || 'From top left'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nFlyInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let size = item.getSize(true);\r\n    let windowSize = {\r\n        width: item.props.breakpointmanager.getWindowWidth(),\r\n        height: item.props.breakpointmanager.getWindowHeight(),\r\n    };\r\n    let {direction, duration, delay} = options;\r\n    direction = direction || 'From top left';\r\n\r\n    let animationName = {};\r\n    animationName['0%'] = {\r\n        opacity: 0,\r\n        transform: `translate3d(${\r\n                direction.includes('left')? `${-size.left}px`: direction.includes('right')? `${\r\n                    windowSize.width - size.left - size.width\r\n                }px`: 0\r\n            }, ${\r\n                direction.includes('top')? `${-size.top}px`: direction.includes('bottom')? `${\r\n                    windowSize.height - size.top - size.height\r\n                }px`: 0\r\n            }, 0)`\r\n    };\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        transform: `translate3d(0,0,0)`\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        flyIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.flyIn);\r\n};\r\n\r\nFlyInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default FlyInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\n\r\nlet TurnInAnimation = {};\r\n\r\nTurnInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Direction</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'From left',\r\n                    'From right',\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.direction`, v);\r\n                }}\r\n                value={options.direction || 'From left'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nTurnInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let size = item.getSize(true);\r\n    let viewSize = item.props.viewRef.current.getSize(false);\r\n    let windowSize = {\r\n        width: item.props.breakpointmanager.getWindowWidth(),\r\n        height: item.props.breakpointmanager.getWindowHeight(),\r\n    };\r\n    let {direction, duration, delay} = options;\r\n    direction = direction || 'From left';\r\n\r\n    let animationName = {};\r\n    animationName['0%'] = {\r\n        opacity: 0,\r\n        transform: `translate3d(${\r\n            direction.includes('left')? `${\r\n                -(size.left - viewSize.left)\r\n                }px`: `${\r\n            windowSize.width - (size.left - viewSize.left) - size.width\r\n                }px`\r\n            }, -200%, 0) rotate(${\r\n            direction.includes('left')? '-45': '45'\r\n            }deg) `\r\n    };\r\n    animationName['30%'] = {\r\n        opacity: 0.3,\r\n        transform: `translate3d(${\r\n            direction.includes('left')? `${\r\n            -(size.left - viewSize.left) * 0.7\r\n                }px`: `${\r\n            (windowSize.width - (size.left - viewSize.left) - size.width) * 0.7\r\n                }px`\r\n            }, -${200*0.85}%, 0) rotate(${\r\n            direction.includes('left')? -45 * 0.7: 45 * 0.7\r\n            }deg) `\r\n    };\r\n    animationName['60%'] = {\r\n        opacity: 0.6,\r\n        transform: `translate3d(${\r\n            direction.includes('left')? `${\r\n            -(size.left - viewSize.left) * 0.4\r\n                }px`: `${\r\n            (windowSize.width - (size.left - viewSize.left) - size.width) * 0.4\r\n                }px`\r\n            }, -${200*0.55}%, 0) rotate(${\r\n            direction.includes('left')? -45 * 0.4: 45 * 0.4\r\n            }deg) `\r\n    };\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        transform: `translate3d(0,0,0) rotate(0deg) `\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        turnIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            animationTimingFunction: 'linear',\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.turnIn);\r\n};\r\n\r\nTurnInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default TurnInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport React from \"react\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\n\r\nlet ArcInAnimation = {};\r\n\r\nArcInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Direction</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'From left',\r\n                    'From right',\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.direction`, v);\r\n                }}\r\n                value={options.direction || 'From right'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nArcInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {direction, duration, delay} = options;\r\n    direction = direction || 'From right';\r\n\r\n    let animationName = {};\r\n    animationName['0%'] = {\r\n        opacity: 0,\r\n        transform: `perspective(400px) scale(0) rotateY(${\r\n            direction.includes('left') ? '-' : ''\r\n            }180deg) translateZ(600px)`\r\n    };\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        transform: `perspective(400px) scale(1) rotateY(0deg) translateZ(0px)`\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        arcIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            animationTimingFunction: 'linear',\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.arcIn);\r\n};\r\n\r\nArcInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default ArcInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\n\r\nlet PuffInAnimation = {};\r\n\r\nPuffInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Power</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'Soft',\r\n                    'Medium',\r\n                    'Hard'\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.power`, v);\r\n                }}\r\n                value={options.power || 'Hard'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nPuffInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {power, duration, delay} = options;\r\n    power = power || 'Hard';\r\n\r\n    let animationName = {};\r\n    animationName['0%'] = {\r\n        opacity: 0,\r\n        transform: `perspective(400px) translateZ(${\r\n            power === \"Hard\"? 400: power === \"Medium\"? 200: 100\r\n            }px)`\r\n    };\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        transform: `perspective(400px) translateZ(0)`\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        puffIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.puffIn);\r\n};\r\n\r\nPuffInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default PuffInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\n\r\nlet FoldInAnimation = {};\r\n\r\nFoldInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Direction</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'From top',\r\n                    'From left',\r\n                    'From bottom',\r\n                    'From right',\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.direction`, v);\r\n                }}\r\n                value={options.direction || 'From left'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nFoldInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {direction, duration, delay} = options;\r\n    direction = direction || 'From left';\r\n\r\n    let animationName = {};\r\n    animationName['0%'] = {\r\n        opacity: 0,\r\n        transform: `perspective(400px) rotateY(${\r\n                direction.includes('left')? 90: direction.includes('right')? -90: 0\r\n            }deg) rotateX(${\r\n                direction.includes('top')? -90: direction.includes('bottom')? 90: 0\r\n            }deg)`,\r\n        transformOrigin: `${\r\n            direction.includes('left')? 'left': direction.includes('right')? 'right': 'center'\r\n            } ${\r\n            direction.includes('top')? 'top': direction.includes('bottom')? 'bottom': 'center'\r\n            } 0`,\r\n    };\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        transform: `perspective(400px) rotateY(0deg) rotateX(0deg)`,\r\n        transformOrigin: `${\r\n            direction.includes('left')? 'left': direction.includes('right')? 'right': 'center'\r\n            } ${\r\n            direction.includes('top')? 'top': direction.includes('bottom')? 'bottom': 'center'\r\n            } 0`,\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        foldIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.foldIn);\r\n};\r\n\r\nFoldInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default FoldInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\n\r\nlet FlipInAnimation = {};\r\n\r\nFlipInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Direction</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'From top',\r\n                    'From left',\r\n                    'From bottom',\r\n                    'From right',\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.direction`, v);\r\n                }}\r\n                value={options.direction || 'From top'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nFlipInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {direction, duration, delay} = options;\r\n    direction = direction || 'From top';\r\n\r\n    let animationName = {};\r\n    animationName['0%'] = {\r\n        opacity: 0,\r\n        transform: `perspective(400px) rotateY(${\r\n                direction.includes('left')? -90: direction.includes('right')? 90: 0\r\n            }deg) rotateX(${\r\n                direction.includes('top')? 90: direction.includes('bottom')? -90: 0\r\n            }deg)`,\r\n    };\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        transform: `perspective(400px) rotateY(0deg) rotateX(0deg)`,\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        flipIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.flipIn);\r\n};\r\n\r\nFlipInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default FlipInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\n\r\nlet RevealAnimation = {};\r\n\r\nRevealAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Direction</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'From center',\r\n                    'From top',\r\n                    'From left',\r\n                    'From bottom',\r\n                    'From right',\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.direction`, v);\r\n                }}\r\n                value={options.direction || 'From center'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nRevealAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {direction, duration, delay} = options;\r\n    direction = direction || 'From center';\r\n\r\n    let animationName = {};\r\n    switch (direction) {\r\n        case 'From center':\r\n            animationName['0%'] = {\r\n                opacity: 1,\r\n                clipPath: `polygon(50% 50%, 50% 50%, 50% 50%, 50% 50%)`,\r\n            };\r\n            break;\r\n        case 'From left':\r\n            animationName['0%'] = {\r\n                opacity: 1,\r\n                clipPath: `polygon(0 0, 0 0, 0 100%, 0 100%)`,\r\n            };\r\n            break;\r\n        case 'From right':\r\n            animationName['0%'] = {\r\n                opacity: 1,\r\n                clipPath: `polygon(100% 0, 100% 0, 100% 100%, 100% 100%)`,\r\n            };\r\n            break;\r\n        case 'From top':\r\n            animationName['0%'] = {\r\n                opacity: 1,\r\n                clipPath: `polygon(0 0, 0 100%, 0 100%, 0 0)`,\r\n            };\r\n            break;\r\n        case 'From bottom':\r\n            animationName['0%'] = {\r\n                opacity: 1,\r\n                clipPath: `polygon(0 100%, 100% 100%, 100% 100%, 0 100%)`,\r\n            };\r\n            break;\r\n    }\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        clipPath: `polygon(0 0, 100% 0, 100% 100%, 0 100%)`,\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        reveal: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.reveal);\r\n};\r\n\r\nRevealAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default RevealAnimation;\r\n","import React from \"react\";\r\nimport {getInheritTextStyle} from \"../TextHelper\";\r\n\r\nexport default class InputDiv extends React.Component {\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        return false;\r\n    }\r\n\r\n    render () {\r\n        let {tag, textStaticData} = this.props;\r\n        let TextTag = tag;\r\n        return (\r\n            <TextTag\r\n                id={\"editableDiv\"}\r\n                key={'textEditor'}\r\n                ref={this.props.textareaRef}\r\n                contentEditable={true}\r\n                style={{...{\r\n                    width: \"100%\",\r\n                    boxSizing: \"border-box\",\r\n                    margin: 0,\r\n                    height: \"auto\",\r\n                    overflow: \"hidden\",\r\n                    display: \"inline-block\",\r\n                    whiteSpace: 'pre-wrap'\r\n                }, ...getInheritTextStyle()}}\r\n                dangerouslySetInnerHTML={{ __html: this.props.value }}\r\n            >\r\n            </TextTag>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport InputDiv from \"./InputDiv\";\r\nimport {\r\n    getInheritTextStyle,\r\n    getParentLine,\r\n    getSelectionHtmlRemoveProperty,\r\n    getSelectionText,\r\n    getTextStyle\r\n} from \"../TextHelper\";\r\nimport {JSToCSS} from \"../../../AwesomeGridLayoutUtils\";\r\n\r\nexport default class InputWrapper extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {};\r\n\r\n        this.textareaRef = React.createRef();\r\n        this.textEditorRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.onLoad && this.props.onLoad();\r\n        this.updateHeight();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        this.props.onUpdate && this.props.onUpdate();\r\n    }\r\n\r\n    updateHeight = () => {\r\n        this.setState({\r\n            // width: this.textareaRef.current.scrollWidth,\r\n            height: this.textareaRef.current.scrollHeight,\r\n        })\r\n    }\r\n\r\n    onChange = (e, callback) => {\r\n        this.updateHeight();\r\n        this.props.onChange && this.props.onChange(e, callback);\r\n    }\r\n\r\n    onInput = (e) => {\r\n        if (e)\r\n            e.target.value = this.textareaRef.current.innerHTML;\r\n        else\r\n            e = {target: {value: this.textareaRef.current.innerHTML}}\r\n\r\n        this.onChange(e);\r\n    }\r\n\r\n    keydown = (e) => {\r\n        e = e || window.event;\r\n        let key = e.which || e.keyCode; // keyCode detection\r\n        if (key === 13) { // Enter or Return\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n\r\n            let sel = this.props.doc.getSelection();\r\n            let range = sel.getRangeAt(0);\r\n            let line = getParentLine(range);\r\n            if (!line)\r\n                return;\r\n\r\n            range.deleteContents();\r\n\r\n            range.setEndAfter(line);\r\n\r\n            let text = getSelectionText(this.props.doc, this.props.iframeNode.contentWindow);\r\n\r\n            if (!text) {\r\n                let br = this.props.doc.createElement(\"br\");\r\n                range.startContainer.after(br);\r\n                range.setStartBefore(br);\r\n            }\r\n\r\n            let html = getSelectionHtmlRemoveProperty(this.props.doc, this.props.iframeNode.contentWindow);\r\n\r\n            console.log(\"html\", html, text)\r\n\r\n            range.deleteContents();\r\n\r\n            range.setStartAfter(line);\r\n\r\n            line.insertAdjacentHTML('afterend', html)\r\n            this.onInput();\r\n        } else {\r\n            // this.props.doc.execCommand('selectAll');\r\n                // let text = getSelectionText(this.props.doc, this.props.iframeNode.contentWindow);\r\n\r\n            console.log(\"text\", this.textareaRef.current.innerText)\r\n            if (!this.textareaRef.current.innerText.trim()) {\r\n                this.textareaRef.current.innerHTML = '';\r\n\r\n                console.log(\"this.props.tag\", this.props.tag)\r\n                let div = this.props.doc.createElement(this.props.tag);\r\n                div.setAttribute(\"title\", \"line\");\r\n                div.setAttribute(\"style\", JSToCSS({...getInheritTextStyle(), ...{margin: \"0px\"}}))\r\n                div.focus();\r\n                div.innerText = String.fromCharCode(key);\r\n\r\n                let sel = this.props.doc.getSelection();\r\n                let range = sel.getRangeAt(0);\r\n\r\n                range.insertNode(div);\r\n                range.setStart(div, 1);\r\n                range.collapse(true)\r\n\r\n                sel.removeAllRanges()\r\n                sel.addRange(range)\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n            }\r\n        }\r\n    }\r\n\r\n    init = (doc) => {\r\n        if (!this.inited) {\r\n            this.inited = true;\r\n            doc.getElementById(\"textEditor\").addEventListener(\"input\", this.onInput);\r\n            // doc.getElementById(\"textEditor\").addEventListener(\"keydown\", this.keydown);\r\n        }\r\n    }\r\n\r\n    render () {\r\n        let {textTheme, textStaticData, textDesignData} = this.props;\r\n        let TextTag = this.props.tag;\r\n        return (\r\n            <div\r\n                dir={textStaticData.dir || \"ltr\"}\r\n                ref={this.textEditorRef}\r\n                id={'textEditor'}\r\n                style={{...{\r\n                    width: this.props.width,\r\n                    boxSizing: \"border-box\",\r\n                    margin: 0,\r\n                    height: this.state.height || this.props.height,\r\n                    resize: \"none\",\r\n                    overflow: \"hidden\"\r\n                }, ...getTextStyle(textTheme, textStaticData, textDesignData)}}\r\n            >\r\n                <InputDiv\r\n                    textareaRef={this.textareaRef}\r\n                    value={this.props.value}\r\n                    tag={this.props.tag}\r\n                    textTheme={this.props.textTheme}\r\n                    textStaticData={this.props.textStaticData}\r\n                    textDesignData={this.props.textDesignData}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './TextEditor.css';\r\nimport IconButton from \"../../../HelperComponents/IconButton\";\r\n\r\nexport default class TextEditorButton extends React.Component {\r\n    getImage = () => {\r\n        if (this.props.selected && this.props.selectedIcon)\r\n            return this.props.selectedIcon;\r\n\r\n        if (this.props.disabled && this.props.disabledIcon)\r\n            return this.props.disabledIcon;\r\n\r\n        return this.props.children;\r\n    }\r\n    render () {\r\n        return (\r\n            <IconButton\r\n                buttonBaseStyle={{\r\n                    marginLeft: 4,\r\n                    backgroundColor: this.props.selected ? \"#dce9ff\" : \"unset\"\r\n                }}\r\n                imageContainerStyle={{\r\n                    padding: 6\r\n                }}\r\n                onClick={this.props.onClick}\r\n                rootRef={this.props.rootRef}\r\n                disabled={this.props.disabled}\r\n            >\r\n                {this.getImage()}\r\n            </IconButton>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\n\r\nconst useStyles = makeStyles({\r\n    popper: {\r\n        zIndex: 999999999999999999\r\n    },\r\n    root: {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        borderRight: \"1px solid #c6c6c6\",\r\n        paddingRight: 12\r\n    }\r\n});\r\n\r\nexport default function FontSizeAutoComplete(props) {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Autocomplete\r\n            classes={{\r\n                popper: classes.popper,\r\n                root: classes.root\r\n            }}\r\n            {...props}\r\n        />\r\n    );\r\n}\r\n\r\nexport function RoughInput(props) {\r\n    return (\r\n        <Autocomplete\r\n            id=\"custom-input-demo\"\r\n            options={[]}\r\n            onChange={\r\n                props.onChange\r\n            }\r\n            onBlur={\r\n                props.onBlur\r\n            }\r\n            onKeyPress={\r\n                props.onKeyPress\r\n            }\r\n            renderInput={(params) => (\r\n                // <div ref={params.InputProps.ref}>\r\n                    <input\r\n                        {...params.inputProps}\r\n                        className=\"NumberInput PageManagerRenameInput PageInfoNameInput LinkGeneratorOptionWebAddressInput\"\r\n                        type=\"text\"\r\n                    >\r\n                    </input>\r\n                // </div>\r\n            )}\r\n        />\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FontSizeAutoComplete from \"./FontSizeAutoComplete\";\r\n\r\nexport default class FontSizeSelector extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {};\r\n    }\r\n    filterOptions = (options) => {\r\n        return [\"6\",\"8\",\"10\",\"12\",\"14\",\"16\",\"18\",\"20\",\"22\",\"24\",\"28\",\"32\",\"48\",\"72\"];\r\n    }\r\n\r\n    getAllowableFontSize = () => {\r\n        return (new Array(100)).fill(\"0\").map((v, i) => {\r\n            return `${i + 1}`;\r\n        });\r\n    }\r\n\r\n    setForceValue = (value) => {\r\n        this.onFontSizeChange(undefined, value, \"input\");\r\n    }\r\n\r\n    onFontSizeChange = (e, value, reason) => {\r\n        console.log(\"onFontSizeChange value reason\", value, reason);\r\n        if (reason === \"input\") {\r\n            console.log(\"onFontSizeChange input\", value);\r\n            this.setState({tempFontSize: value});\r\n        } else if (reason === \"select-option\") {\r\n            console.log(\"onFontSizeChange select-option\", value);\r\n            this.setFontSize(value);\r\n        } else if (reason === \"enter\") {\r\n            console.log(\"onFontSizeChange enter\", value, this.getAllowableFontSize());\r\n            if (this.getAllowableFontSize().includes(value))\r\n                this.setFontSize(value);\r\n            else\r\n                this.setState({tempFontSize: this.getFontSizeValue(value !== \"\" && true)});\r\n        }\r\n    }\r\n\r\n    setFontSize = (value) => {\r\n        this.setState({tempFontSize: value});\r\n        this.props.onChange(value);\r\n    }\r\n\r\n    setFontSizeUi = (value) => {\r\n        this.setState({tempFontSize: value});\r\n    }\r\n\r\n    getFontSizeValue = (ignoreState = false) => {\r\n        let {textTheme, textStaticData, textDesignData} = this.props;\r\n\r\n        if (!ignoreState && this.state.tempFontSize !== undefined)\r\n            return this.state.tempFontSize;\r\n\r\n        return (!ignoreState && this.state.tempFontSize) ||\r\n            (textDesignData.fontSize && textDesignData.fontSize.toString()) ||\r\n            (textTheme.fontSize &&\r\n                textTheme.fontSize.toString()) ||\r\n            \"22\"\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <FontSizeAutoComplete\r\n                size={\"small\"}\r\n                options={this.getAllowableFontSize()}\r\n                value={this.getFontSizeValue()}\r\n                getOptionLabel={(option) => option}\r\n                filterOptions={this.filterOptions}\r\n                style={this.props.style || { width: 64 }}\r\n                popupIcon={\r\n                    <img width={10} height={10} src={process.env.PUBLIC_URL + \"/static/icon/down-arrow.svg\"}/>\r\n                }\r\n                renderInput={(params) => {\r\n                    params.InputProps.disableUnderline = true;\r\n                    params.inputProps.style = {padding: 0, fontSize: 14};\r\n                    return (\r\n                        <TextField {...params} onChange={(e) => {\r\n                            this.onFontSizeChange(e, e.target.value, 'input');\r\n                        }}/>\r\n                    )\r\n                }}\r\n                blurOnSelect\r\n                onChange={this.onFontSizeChange}\r\n                onKeyDown={(e) => {\r\n                    if((e.keyCode || e.which) === 13){\r\n                        this.onFontSizeChange(e, e.target.value, 'enter');\r\n                    }\r\n                }}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport TextEditorButton from \"../TextEditorButton\";\r\nimport {EditorContext} from \"../../../../Editor/EditorContext\";\r\nimport ThemeColorPicker from \"../../../../Test/Theme/ThemeColorPicker\";\r\n\r\nexport default class TextColorSelector extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {};\r\n\r\n        this.buttonRef = React.createRef();\r\n    }\r\n\r\n    handleChangeComplete = (color) => {\r\n        this.props.onChange(color);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <TextEditorButton\r\n                    rootRef={this.buttonRef}\r\n                    onClick={(e) => {\r\n                        this.setState({open: true})\r\n                    }}\r\n                >\r\n                    {this.props.children}\r\n                </TextEditorButton>\r\n\r\n                {\r\n                    this.state.open &&\r\n                    <ThemeColorPicker\r\n                        onClose={(e) => {\r\n                            this.setState({open: false})\r\n                        }}\r\n                        onChangeComplete={ this.handleChangeComplete }\r\n                        disableAlpha\r\n                        editor={this.context.editor}\r\n                        defaultPosition={\r\n                            this.buttonRef.current.getBoundingClientRect()\r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        '&:hover': {\r\n            backgroundColor: 'transparent',\r\n        },\r\n    },\r\n    icon: {\r\n        borderRadius: '50%',\r\n        width: 16,\r\n        height: 16,\r\n        boxShadow: 'inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)',\r\n        backgroundColor: '#f5f8fa',\r\n        backgroundImage: 'linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))',\r\n        '$root.Mui-focusVisible &': {\r\n            outline: '2px auto rgba(19,124,189,.6)',\r\n            outlineOffset: 2,\r\n        },\r\n        'input:hover ~ &': {\r\n            backgroundColor: '#ebf1f5',\r\n        },\r\n        'input:disabled ~ &': {\r\n            boxShadow: 'none',\r\n            background: 'rgba(206,217,224,.5)',\r\n        },\r\n    },\r\n    checkedIcon: {\r\n        backgroundColor: '#137cbd',\r\n        backgroundImage: 'linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))',\r\n        '&:before': {\r\n            display: 'block',\r\n            width: 16,\r\n            height: 16,\r\n            backgroundImage: 'radial-gradient(#fff,#fff 28%,transparent 32%)',\r\n            content: '\"\"',\r\n        },\r\n        'input:hover ~ &': {\r\n            backgroundColor: '#106ba3',\r\n        },\r\n    },\r\n});\r\n\r\n// Inspired by blueprintjs\r\nfunction SmallRadio(props) {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Radio\r\n            className={classes.root}\r\n            disableRipple\r\n            color=\"default\"\r\n            checkedIcon={<span className={clsx(classes.icon, classes.checkedIcon)} />}\r\n            icon={<span className={classes.icon} />}\r\n            {...props}\r\n        />\r\n    );\r\n}\r\n\r\nexport default SmallRadio;\r\n","import React from \"react\";\r\nimport {EditorContext} from \"../../../../Editor/EditorContext\";\r\nimport IconButton from \"../../../../HelperComponents/IconButton\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport './LinkGenerator.css';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport LightTooltip from \"../../../Containers/Menus/Components/LightTooltip\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport SmallRadio from \"../../../../HelperComponents/SmallRadio\";\r\nimport DropDown from \"../../../../Menus/CommonComponents/DropDown\";\r\n\r\nexport default class LinkGenerator extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            type: props.linkData? props.linkData.type: \"None\",\r\n            linkData: props.linkData || {type: \"None\", data: {}}\r\n        };\r\n\r\n        console.log(\"LinkGenerator\", props.linkData)\r\n    }\r\n\r\n\r\n    getHomePageId = () => {\r\n        let homePage = Object.values(this.context.siteData.allPages).find(pageData => {\r\n            return pageData.props.isHome;\r\n        });\r\n\r\n        if (!homePage)\r\n            homePage = Object.values(this.context.siteData.allPages)[0];\r\n\r\n        return homePage.props.pageId;\r\n    }\r\n\r\n    getPageOptions = () => {\r\n        return Object.values(this.context.siteData.allPages).map(page => {\r\n            return {pageId: page.props.pageId, pageName: page.props.pageName};\r\n        })\r\n    };\r\n\r\n    getAnchorOptions = () => {\r\n        return Object.values(this.context.pageData.props.anchors || {});\r\n    };\r\n\r\n    getFirstLightBoxId = () => {\r\n        return \"\";\r\n    }\r\n\r\n    setLinkType = (type) => {\r\n        switch (type) {\r\n            case \"None\":\r\n                this.setState({type, linkData: {type, data: {}}});\r\n                break;\r\n            case \"WebAddress\":\r\n                this.setState({type, linkData: {type, data: {\r\n                    window: \"new\", url: \"\"}}});\r\n                break;\r\n            case \"Page\":\r\n                this.setState({type, linkData: {type, data: {\r\n                    window: \"current\", pageId: this.getHomePageId(), inputs: []}}});\r\n                break;\r\n            case \"Anchor\":\r\n                this.setState({type, linkData: {type, data: {\r\n                    anchorId: \"\"}}});\r\n                break;\r\n            case \"TopBottomThisPage\":\r\n                this.setState({type, linkData: {type, data: {\r\n                    position: \"top\"}}});\r\n                break;\r\n            case \"Document\":\r\n                this.setState({type, linkData: {type, data: {\r\n                    url: \"\"}}});\r\n                break;\r\n            case \"Email\":\r\n                this.setState({type, linkData: {type, data: {\r\n                    email: \"\", subject: \"\"}}});\r\n                break;\r\n            case \"Phone\":\r\n                this.setState({type, linkData: {type, data: {\r\n                    number: \"\"}}});\r\n                break;\r\n            case \"LightBox\":\r\n                this.setState({type, linkData: {type, data: {\r\n                    lightBoxId: this.getFirstLightBoxId()}}});\r\n                break;\r\n        }\r\n    }\r\n\r\n    validURL = (str) => {\r\n        let pattern = new RegExp('^(https?:\\\\/\\\\/)?'+ // protocol\r\n            '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|'+ // domain name\r\n            '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))'+ // OR ip (v4) address\r\n            '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*'+ // port and path\r\n            '(\\\\?[;&a-z\\\\d%_.~+=-]*)?'+ // query string\r\n            '(\\\\#[-a-z\\\\d_]*)?$','i'); // fragment locator\r\n        if (!!pattern.test(str)) {\r\n            let result = str;\r\n            if (!str.startsWith(\"http\")) {\r\n                result = \"http://\" + str;\r\n            }\r\n\r\n            return result;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    validPhone = (str) => {\r\n        if (!str || str.length < 3)\r\n            return false;\r\n\r\n        console.log(\"validPhone\", !!/^\\d+$/.test(str))\r\n        return !!/^\\d+$/.test(str);\r\n    }\r\n\r\n    validEmail = (str) => {\r\n        if (!str || str.length < 3)\r\n            return false;\r\n\r\n        const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        return re.test(String(str).toLowerCase());\r\n    }\r\n\r\n    isLinkReadyForDone = () => {\r\n        let {type, linkData} = this.state;\r\n\r\n        switch (type) {\r\n            case \"None\":\r\n                return true;\r\n            case \"WebAddress\":\r\n                return this.validURL(linkData.data.url);\r\n            case \"Page\":\r\n                return true;\r\n            case \"Anchor\":\r\n                return linkData.data.anchorId;\r\n            case \"TopBottomThisPage\":\r\n                return true;\r\n            case \"Document\":\r\n                // TODO\r\n            case \"Email\":\r\n                return this.validEmail(linkData.data.email);\r\n            case \"Phone\":\r\n                return this.validPhone(linkData.data.number);\r\n            case \"LightBox\":\r\n                // TODO\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    render () {\r\n        let {type, linkData} = this.state;\r\n        return <Modal\r\n            open={this.props.open}\r\n            onClose={this.props.onClose}\r\n            aria-labelledby=\"simple-modal-title2\"\r\n            aria-describedby=\"simple-modal-description2\"\r\n            className=\"PageSettingModal\"\r\n            disableBackdropClick\r\n        >\r\n            <div className=\"PageSettingRoot\" style={{height: \"auto\"}}>\r\n                {/*Header*/}\r\n                <div className=\"PageSettingHeader\">\r\n                    <div\r\n                        className=\"PageManagerHeaderContainer\"\r\n                    >\r\n                            <span className=\"PageManagerHeaderTitle\">\r\n                                What do you want to link to?\r\n                            </span>\r\n\r\n                        <IconButton\r\n                            onClick={this.props.onClose}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={12}\r\n                                height={12}\r\n                                src={require('../../../../icons/close.svg')}\r\n                            />\r\n                        </IconButton>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"LinkGeneratorRoot\">\r\n                    <div className=\"LinkGeneratorContent\">\r\n                        <div className=\"LinkGeneratorTypes\">\r\n                            <RadioGroup name=\"type\" value={type} onChange={\r\n                                (e) => {this.setLinkType(e.target.value)}}>\r\n                                <FormControlLabel value=\"None\" control={<SmallRadio />}\r\n                                                  label={<p className=\"LinkGeneratorTypesLabel\">None</p>} />\r\n                                <FormControlLabel value=\"WebAddress\" control={<SmallRadio />}\r\n                                                  label={<p className=\"LinkGeneratorTypesLabel\">Web Address</p>}/>\r\n                                <FormControlLabel value=\"Page\" control={<SmallRadio />}\r\n                                                  label={<p className=\"LinkGeneratorTypesLabel\">Page</p>} />\r\n                                <FormControlLabel value=\"Anchor\" control={<SmallRadio />}\r\n                                                  label={<p className=\"LinkGeneratorTypesLabel\">Anchor</p>} />\r\n                                <FormControlLabel value=\"TopBottomThisPage\" control={<SmallRadio />}\r\n                                                  label={<p className=\"LinkGeneratorTypesLabel\">Top / Bottom</p>} />\r\n                                <FormControlLabel value=\"Document\" disabled control={<SmallRadio />}\r\n                                                  label={<p className=\"LinkGeneratorTypesLabel\">Document</p>} />\r\n                                <FormControlLabel value=\"Email\"  control={<SmallRadio />}\r\n                                                  label={<p className=\"LinkGeneratorTypesLabel\">Email</p>} />\r\n                                <FormControlLabel value=\"Phone\"  control={<SmallRadio />}\r\n                                                  label={<p className=\"LinkGeneratorTypesLabel\">Phone</p>} />\r\n                                <FormControlLabel value=\"LightBox\" disabled  control={<SmallRadio />}\r\n                                                  label={<p className=\"LinkGeneratorTypesLabel\">LightBox</p>} />\r\n                            </RadioGroup>\r\n                        </div>\r\n                        <div className=\"LinkGeneratorOptions\">\r\n                            {\r\n                                (type === \"None\") &&\r\n                                <div className=\"LinkGeneratorOptionNone\">\r\n                                    <h3>No Link</h3>\r\n                                    <p>Choose from the list of options to add a link to your element</p>\r\n                                </div>\r\n                            }\r\n                            {\r\n                                (type === \"WebAddress\") &&\r\n                                <div className=\"LinkGeneratorOptionWebAddress\">\r\n                                    <span className=\"LinkGeneratorTypesLabel\">\r\n                                        What's the web address (URL)?\r\n                                    </span>\r\n                                    <div className=\"LinkGeneratorOptionWebAddressInputContainer\">\r\n                                        <input\r\n                                            defaultValue={linkData.data.url || \"\"}\r\n                                            className=\"NumberInput PageManagerRenameInput PageInfoNameInput LinkGeneratorOptionWebAddressInput\"\r\n                                            type=\"text\"\r\n                                            onChange={\r\n                                                (e) => {this.tempUrl = e.target.value}\r\n                                            }\r\n                                            onBlur={() => {\r\n                                                if (this.validURL(this.tempUrl)) {\r\n                                                    this.tempUrl = this.validURL(this.tempUrl);\r\n                                                }\r\n                                                linkData.data.url = this.tempUrl || \"\";\r\n                                                this.setState({linkData});\r\n                                            }}\r\n                                            onKeyPress={(e) => {\r\n                                                if((e.keyCode || e.which) === 13) {\r\n                                                    if (this.validURL(this.tempUrl)) {\r\n                                                        this.tempUrl = this.validURL(this.tempUrl);\r\n                                                    }\r\n                                                    linkData.data.url = this.tempUrl || \"\";\r\n                                                    this.setState({linkData});\r\n                                                }\r\n                                            }}\r\n                                        >\r\n                                        </input>\r\n                                        {\r\n                                            (this.tempUrl && !this.validURL(this.tempUrl)) &&\r\n                                            <LightTooltip\r\n                                                title=\"Check the URL and try again\"\r\n                                                PopperProps={{style:{zIndex: 99999999999}}}\r\n                                            >\r\n                                                <img\r\n                                                    className=\"LinkGeneratorOptionWebAddressUrlError\"\r\n                                                    draggable={false}\r\n                                                    width={24}\r\n                                                    height={24}\r\n                                                    src={require('../../../../icons/errorred.svg')}\r\n                                                />\r\n                                            </LightTooltip>\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"LinkGeneratorHorizontalDivider\">\r\n                                    </div>\r\n\r\n                                    <RadioGroup name=\"window\" value={linkData.data.window} onChange={(e) => {\r\n                                        linkData.data.window = e.target.value;\r\n                                        this.setState({linkData});\r\n                                    }}>\r\n                                        <FormControlLabel value=\"new\" control={<SmallRadio />}\r\n                                                          label={<p className=\"LinkGeneratorTypesLabel\">New Window</p>} />\r\n                                        <FormControlLabel value=\"current\" control={<SmallRadio />}\r\n                                                          label={<p className=\"LinkGeneratorTypesLabel\">Current Window</p>} />\r\n                                    </RadioGroup>\r\n\r\n                                    {\r\n                                        linkData.data.window === \"current\" &&\r\n                                        <div className=\"LinkGeneratorOptionWebAddressTip\">\r\n                                            You can only open this link from your published site.\r\n                                        </div>\r\n                                    }\r\n                                </div>\r\n                            }\r\n                            {\r\n                                (type === \"Anchor\") &&\r\n                                <div className=\"LinkGeneratorOptionWebAddress\">\r\n                                    <span className=\"LinkGeneratorTypesLabel\">\r\n                                        Which anchor linking to?\r\n                                    </span>\r\n                                    <DropDown\r\n                                        rootStyle={{\r\n                                            border: \"1px solid #c6c6c6\",\r\n                                            marginTop: 12,\r\n                                            borderRadius: 4\r\n                                        }}\r\n                                        menuItemStyle={{\r\n                                            padding: 0\r\n                                        }}\r\n                                        options={this.getAnchorOptions()}\r\n                                        onChange={(v) => {\r\n                                            linkData.data.anchorId = v.id;\r\n                                            this.setState({linkData});\r\n                                        }}\r\n                                        value={this.getAnchorOptions().find(a => a.id === linkData.data.anchorId) || {}}\r\n                                        spanStyle={{\r\n                                            width: 367,\r\n                                            fontSize: 14,\r\n                                            border: \"0px solid #cfcfcf\",\r\n                                        }}\r\n                                        renderer={(anchor) => {\r\n                                            return (\r\n                                                <div id={\"TEst\"} className=\"TextEditorThemeRendererRoot\">\r\n                                                    <span className=\"TextEditorThemeRendererName\">\r\n                                                        {anchor.name}\r\n                                                    </span>\r\n                                                </div>\r\n                                            )\r\n                                        }}\r\n                                        valueRenderer={(anchor) => {\r\n                                            return (\r\n                                                <span>\r\n                                                    {anchor.name}\r\n                                                </span>\r\n                                            )\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                            }\r\n                            {\r\n                                (type === \"Page\") &&\r\n                                <div className=\"LinkGeneratorOptionWebAddress\">\r\n                                    <span className=\"LinkGeneratorTypesLabel\">\r\n                                        Add your number\r\n                                    </span>\r\n                                    <DropDown\r\n                                        rootStyle={{\r\n                                            border: \"1px solid #c6c6c6\",\r\n                                            marginTop: 12,\r\n                                            borderRadius: 4\r\n                                        }}\r\n                                        menuItemStyle={{\r\n                                            padding: 0\r\n                                        }}\r\n                                        options={this.getPageOptions()}\r\n                                        onChange={(v) => {\r\n                                            linkData.data.pageId = v.pageId;\r\n                                            this.setState({linkData});\r\n                                        }}\r\n                                        value={this.getPageOptions().find(p => p.pageId === linkData.data.pageId)}\r\n                                        spanStyle={{\r\n                                            width: 367,\r\n                                            fontSize: 14,\r\n                                            border: \"0px solid #cfcfcf\",\r\n                                        }}\r\n                                        renderer={(page) => {\r\n                                            return (\r\n                                                <div id={\"TEst\"} className=\"TextEditorThemeRendererRoot\">\r\n                                                    <span className=\"TextEditorThemeRendererName\">\r\n                                                        {page.pageName}\r\n                                                    </span>\r\n                                                </div>\r\n                                            )\r\n                                        }}\r\n                                        valueRenderer={(page) => {\r\n                                            return (\r\n                                                <span>\r\n                                                    {page.pageName}\r\n                                                </span>\r\n                                            )\r\n                                        }}\r\n                                    />\r\n                                    <div className=\"LinkGeneratorHorizontalDivider\">\r\n                                    </div>\r\n\r\n                                    <RadioGroup name=\"window\" value={linkData.data.window} onChange={(e) => {\r\n                                        linkData.data.window = e.target.value;\r\n                                        this.setState({linkData});\r\n                                    }}>\r\n                                        <FormControlLabel value=\"new\" control={<SmallRadio />}\r\n                                                          label={<p className=\"LinkGeneratorTypesLabel\">New Window</p>} />\r\n                                        <FormControlLabel value=\"current\" control={<SmallRadio />}\r\n                                                          label={<p className=\"LinkGeneratorTypesLabel\">Current Window</p>} />\r\n                                    </RadioGroup>\r\n\r\n                                    {\r\n                                        linkData.data.window === \"new\" &&\r\n                                        <div className=\"LinkGeneratorOptionWebAddressTip\">\r\n                                            You can only open this link from your published site.\r\n                                        </div>\r\n                                    }\r\n                                </div>\r\n                            }\r\n                            {\r\n                                (type === \"TopBottomThisPage\") &&\r\n                                <div className=\"LinkGeneratorOptionWebAddress\">\r\n                                    <span className=\"LinkGeneratorTypesLabel\">\r\n                                        Select scroll destination\r\n                                    </span>\r\n\r\n                                    <div className=\"LinkGeneratorVerticalSpace\">\r\n                                    </div>\r\n\r\n                                    <RadioGroup name=\"window\" value={linkData.data.position} onChange={(e) => {\r\n                                        linkData.data.position = e.target.value;\r\n                                        this.setState({linkData});\r\n                                    }}>\r\n                                        <FormControlLabel value=\"top\" control={<SmallRadio />}\r\n                                                          label={<p className=\"LinkGeneratorTypesLabel\">Top of page</p>} />\r\n                                        <FormControlLabel value=\"bottom\" control={<SmallRadio />}\r\n                                                          label={<p className=\"LinkGeneratorTypesLabel\">Bottom of page</p>} />\r\n                                    </RadioGroup>\r\n                                </div>\r\n                            }\r\n                            {\r\n                                (type === \"Phone\") &&\r\n                                <div className=\"LinkGeneratorOptionWebAddress\">\r\n                                    <span className=\"LinkGeneratorTypesLabel\">\r\n                                        Add your number\r\n                                    </span>\r\n                                    <div className=\"LinkGeneratorOptionWebAddressInputContainer\">\r\n                                        <input\r\n                                            defaultValue={linkData.data.number || \"\"}\r\n                                            placeholder=\"09123456789\"\r\n                                            className=\"NumberInput PageManagerRenameInput PageInfoNameInput LinkGeneratorOptionWebAddressInput\"\r\n                                            type=\"text\"\r\n                                            onChange={\r\n                                                (e) => {this.tempNumber = e.target.value}\r\n                                            }\r\n                                            onBlur={() => {\r\n                                                linkData.data.number = this.tempNumber || \"\";\r\n                                            }}\r\n                                            onKeyPress={(e) => {\r\n                                                if((e.keyCode || e.which) === 13) {\r\n                                                    linkData.data.number = this.tempNumber || \"\";\r\n                                                    this.setState({linkData});\r\n                                                }\r\n                                            }}\r\n                                        >\r\n                                        </input>\r\n                                        {\r\n                                            (this.tempNumber && !this.validPhone(this.tempNumber)) &&\r\n                                            <LightTooltip\r\n                                                title=\"Check the number and try again\"\r\n                                                PopperProps={{style:{zIndex: 99999999999}}}\r\n                                            >\r\n                                                <img\r\n                                                    className=\"LinkGeneratorOptionWebAddressUrlError\"\r\n                                                    draggable={false}\r\n                                                    width={24}\r\n                                                    height={24}\r\n                                                    src={require('../../../../icons/errorred.svg')}\r\n                                                />\r\n                                            </LightTooltip>\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                            {\r\n                                (type === \"Email\") &&\r\n                                <div className=\"LinkGeneratorOptionWebAddress\">\r\n                                    <span className=\"LinkGeneratorTypesLabel\">\r\n                                        What's the email address?\r\n                                    </span>\r\n                                    <div className=\"LinkGeneratorOptionWebAddressInputContainer\">\r\n                                        <input\r\n                                            defaultValue={linkData.data.email || \"\"}\r\n                                            placeholder=\"e.g. youremail@gmal.com\"\r\n                                            className=\"NumberInput PageManagerRenameInput PageInfoNameInput LinkGeneratorOptionWebAddressInput\"\r\n                                            type=\"text\"\r\n                                            onChange={\r\n                                                (e) => {this.tempEmail = e.target.value}\r\n                                            }\r\n                                            onBlur={() => {\r\n                                                linkData.data.email = this.tempEmail || \"\";\r\n                                            }}\r\n                                            onKeyPress={(e) => {\r\n                                                if((e.keyCode || e.which) === 13) {\r\n                                                    linkData.data.email = this.tempEmail || \"\";\r\n                                                    this.setState({linkData});\r\n                                                }\r\n                                            }}\r\n                                        >\r\n                                        </input>\r\n                                        {\r\n                                            (this.tempEmail && !this.validEmail(this.tempEmail)) &&\r\n                                            <LightTooltip\r\n                                                title=\"Check the email and try again\"\r\n                                                PopperProps={{style:{zIndex: 99999999999}}}\r\n                                            >\r\n                                                <img\r\n                                                    className=\"LinkGeneratorOptionWebAddressUrlError\"\r\n                                                    draggable={false}\r\n                                                    width={24}\r\n                                                    height={24}\r\n                                                    src={require('../../../../icons/errorred.svg')}\r\n                                                />\r\n                                            </LightTooltip>\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"LinkGeneratorHorizontalDivider\">\r\n                                    </div>\r\n\r\n                                    <div className=\"LinkGeneratorOptionWebAddressInputContainer\">\r\n                                        <input\r\n                                            defaultValue={linkData.data.subject || \"\"}\r\n                                            placeholder=\"\"\r\n                                            className=\"NumberInput PageManagerRenameInput PageInfoNameInput LinkGeneratorOptionWebAddressInput\"\r\n                                            type=\"text\"\r\n                                            onChange={\r\n                                                (e) => {this.tempSubject = e.target.value}\r\n                                            }\r\n                                            onBlur={() => {\r\n                                                linkData.data.subject = this.tempSubject || \"\";\r\n                                            }}\r\n                                            onKeyPress={(e) => {\r\n                                                if((e.keyCode || e.which) === 13) {\r\n                                                    linkData.data.subject = this.tempSubject || \"\";\r\n                                                    this.setState({linkData});\r\n                                                }\r\n                                            }}\r\n                                        >\r\n                                        </input>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"LinkGeneratorFooter\">\r\n                        <Button\r\n                            className=\"LinkGeneratorFooterCancel\"\r\n                            color=\"primary\"\r\n                            onClick={this.props.onClose}\r\n                        >\r\n                            Cancel\r\n                        </Button>\r\n\r\n                        <Button\r\n                            className=\"LinkGeneratorFooterDone\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            disabled={!this.isLinkReadyForDone()}\r\n                            onClick={() => {\r\n                                this.props.onDone(linkData);\r\n                                this.props.onClose();\r\n                            }}\r\n                        >\r\n                            Done\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {getRandomLinkId, getRangeSelectedNodes} from \"../../TextHelper\";\r\n\r\nexport function addLinkData (doc, linkData) {\r\n    if (linkData.type === \"None\") {\r\n        removeSelectedLink(doc);\r\n        return;\r\n    }\r\n\r\n    let linkId = getRandomLinkId(12);\r\n    if (getSelectedLinkId(doc))\r\n    {\r\n        linkId = getSelectedLinkId(doc);\r\n        let node = doc.getElementById(linkId);\r\n        node.setAttribute(\"linkdata\", JSON.stringify(linkData));\r\n    }\r\n    else\r\n    {\r\n        doc.execCommand('underline');\r\n        doc.execCommand('createlink', false, \"link1\");\r\n\r\n        let nodes = doc.querySelectorAll(`[href=\"link1\"]`);\r\n\r\n        nodes.forEach(node => {\r\n            node.removeAttribute(\"href\");\r\n            node.setAttribute(\"id\", linkId);\r\n            node.setAttribute(\"islink\", true);\r\n            node.setAttribute(\"linkdata\", JSON.stringify(linkData));\r\n        })\r\n    }\r\n}\r\n\r\nexport function removeSelectedLink (doc) {\r\n    let linkId = getSelectedLinkId(doc);\r\n\r\n    if (!linkId)\r\n        return;\r\n\r\n    let node = doc.getElementById(linkId);\r\n\r\n    var parent = node.parentNode;\r\n\r\n    while (node.firstChild) parent.insertBefore(node.firstChild, node);\r\n\r\n    parent.removeChild(node);\r\n}\r\n\r\nexport function getSelectedLinkData (doc) {\r\n    let linkId = getSelectedLinkId(doc);\r\n\r\n    if (!linkId)\r\n        return;\r\n\r\n    let node = doc.getElementById(linkId);\r\n\r\n    return JSON.parse(node.getAttribute(\"linkdata\"));\r\n}\r\n\r\nexport function getSelectedLinkId (doc) {\r\n    let selection = doc.getSelection();\r\n\r\n    console.log(\"getSelectedLinkId\");\r\n    if (selection.rangeCount < 1)\r\n        return false;\r\n\r\n    let range = selection.getRangeAt(0);\r\n    let nodes = getRangeSelectedNodes(range);\r\n    let linkId = false;\r\n    nodes.forEach(node => {\r\n        while (node) {\r\n            if (node.tagName === \"A\" && node.hasAttribute(\"islink\")) {\r\n                linkId = node.getAttribute(\"id\");\r\n                break;\r\n            }\r\n            node = node.parentNode;\r\n        }\r\n    });\r\n    console.log(\"getSelectedLinkId\", \"return false\");\r\n    return linkId;\r\n}\r\n\r\nexport function resolveLinks (element, preview, production, editorContext) {\r\n    let nodes = element.querySelectorAll(`[islink=true]`);\r\n\r\n    nodes.forEach(node => {\r\n        prepareLink(node, preview, production, editorContext);\r\n    })\r\n}\r\n\r\nexport function prepareLink (node, preview, production, editorContext, linkData) {\r\n    if (!linkData)\r\n        linkData = JSON.parse(node.getAttribute(\"linkdata\"));\r\n\r\n    if (!preview && !production)\r\n        return;\r\n\r\n    if (!linkData)\r\n        return;\r\n\r\n    switch (linkData.type) {\r\n        case \"WebAddress\":\r\n            if (linkData.data.window === \"current\" && !production)\r\n                return;\r\n\r\n            node.setAttribute(\"href\", linkData.data.url);\r\n            if (linkData.data.window === \"new\") {\r\n                node.setAttribute(\"target\", \"_blank\");\r\n            }\r\n            break;\r\n        case \"Page\":\r\n            if (linkData.data.window === \"new\" && !production)\r\n                return;\r\n\r\n            node.addEventListener('click', () => {pageLinkHandle(editorContext, linkData)})\r\n            node.setAttribute(\"href\", \"#\");\r\n            break;\r\n        case \"Anchor\":\r\n            node.setAttribute(\"href\", `#${linkData.data.anchorId}`);\r\n            break;\r\n        case \"TopBottomThisPage\":\r\n            node.setAttribute(\"href\", `#${linkData.data.position}`);\r\n            break;\r\n\r\n        case \"Document\":\r\n        // TODO\r\n            break;\r\n        case \"Email\":\r\n            node.setAttribute(\"href\", `mailto:${linkData.data.email}?subject=${\r\n                linkData.data.subject || \"subject\"\r\n            }`);\r\n            break;\r\n        case \"Phone\":\r\n            node.setAttribute(\"href\", `tel:${linkData.data.number}`);\r\n            break;\r\n        case \"LightBox\":\r\n        // TODO\r\n            break;\r\n    }\r\n\r\n    node.removeAttribute(\"linkdata\");\r\n}\r\n\r\nfunction pageLinkHandle (editorContext, linkData) {\r\n    if (linkData.data.window === 'current') {\r\n        editorContext.setPageData(linkData.data.pageId);\r\n    } else {\r\n        // TODO open page in other window !Important\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport Popper from \"@material-ui/core/Popper/Popper\";\r\nimport './TextEditor.css';\r\nimport TextEditorButton from \"./TextEditorButton\";\r\nimport {EditorContext} from \"../../../Editor/EditorContext\";\r\nimport DropDown from \"../../../Menus/CommonComponents/DropDown\";\r\nimport {getRandomColor, getFontDataByFamily} from \"../TextHelper\";\r\nimport FontSizeSelector from \"./components/FontSizeSelector\";\r\nimport TextColorSelector from \"./components/TextColorSelector\";\r\nimport StaticFonts from '../Fonts/StaticFonts.json';\r\nimport LinkGenerator from \"./components/LinkGenerator\";\r\nimport {addLinkData, getSelectedLinkData, getSelectedLinkId} from \"./components/LinkHelper\";\r\n\r\nexport default class TextEditor extends React.Component {\r\n    static contextType = EditorContext;\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {};\r\n\r\n        this.fontSizeSelectorRef = React.createRef();\r\n    }\r\n\r\n    // Depricated: These function does not support undo redo\r\n    // applyProperty = (propertyName, value, tagName = 'span') => {\r\n    //     applyProperty(this.props.doc, this.props.iframeNode.contentWindow, propertyName, value, tagName);\r\n    //     this.props.inputWrapperRef.current.onInput();\r\n    // }\r\n\r\n    getTextDir = () => {\r\n        let {textStaticData} = this.props;\r\n\r\n        if (!textStaticData.dir)\r\n            return \"ltr\";\r\n\r\n        return textStaticData.dir;\r\n    }\r\n\r\n    onIframeTextClicked = (e) => {\r\n        if (this.mounted) {\r\n            this.refreshState();\r\n            return;\r\n        }\r\n\r\n        setTimeout(() => {\r\n            this.onIframeTextClicked(e);\r\n        }, 200);\r\n    }\r\n\r\n    refreshState = () => {\r\n        window.requestAnimationFrame(() => {\r\n            const selection = this.props.doc.getSelection();\r\n\r\n            if (!selection.anchorNode)\r\n                return;\r\n\r\n            // set size\r\n            const size = window.getComputedStyle(selection.anchorNode.parentElement, null).getPropertyValue('font-size');\r\n            this.fontSizeSelectorRef.current.setForceValue(size);\r\n\r\n            // set bold\r\n            const fontWeight = window.getComputedStyle(selection.anchorNode.parentElement, null).getPropertyValue('font-weight');\r\n            let bold = (fontWeight === \"700\");\r\n\r\n            // set italic\r\n            const fontStyle = window.getComputedStyle(selection.anchorNode.parentElement, null).getPropertyValue('font-style');\r\n            let italic = (fontStyle === \"italic\");\r\n\r\n            // set underline\r\n            const decoration = window.getComputedStyle(selection.anchorNode.parentElement, null).getPropertyValue('text-decoration');\r\n            console.log(\"decoration\", decoration)\r\n            let underline = (decoration.includes(\"underline\"));\r\n\r\n            // set font name\r\n            let fontFamily =\r\n                window.getComputedStyle(selection.anchorNode.parentElement, null).getPropertyValue('font-family');\r\n\r\n            let fontData = getFontDataByFamily(StaticFonts, fontFamily);\r\n\r\n            // let multiLineSelect = /\\r|\\n/.exec(selection);\r\n\r\n            this.setState({bold, italic, underline, fontData});\r\n        });\r\n    }\r\n\r\n    isTextSelcted = () => {\r\n            let selection = this.props.doc.getSelection();\r\n            return !(selection.toString().length < 1);\r\n    }\r\n\r\n    tryAgain = () => {\r\n        window.requestAnimationFrame(() => {\r\n            this.forceUpdate();\r\n        });\r\n    }\r\n\r\n    render () {\r\n        let {textTheme, textStaticData, textDesignData, anchorEI} = this.props;\r\n        if (document.getElementById(\"TextEditorIFrame\") === null){\r\n            this.tryAgain();\r\n            return null;\r\n        }\r\n\r\n        this.mounted = true;\r\n        console.log(\"TextEditorIFrame\", document.getElementById(\"TextEditorIFrame\"))\r\n        return (\r\n            <>\r\n            <Popper\r\n                open={true}\r\n                // anchorEl={anchorEI}\r\n                anchorEl={document.getElementById(\"TextEditorIFrame\")}\r\n                placement=\"top-start\"\r\n                style={{\r\n                    zIndex: 9999999999999999,\r\n                    ...this.props.style\r\n                }}\r\n                modifiers={{\r\n                    flip: {\r\n                        enabled: true,\r\n                    },\r\n                    preventOverflow: {\r\n                        enabled: true,\r\n                        boundariesElement: 'scrollParent',\r\n                    },\r\n                }}\r\n            >\r\n                <div\r\n                    className=\"TextEditorRoot\"\r\n                    onMouseDown={(e) => {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                    }}\r\n                    onClick={(e) => {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                    }}\r\n                    onDoubleClick={(e) => {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                    }}\r\n                >\r\n                    <div className=\"TextEditorContainer\">\r\n                        <div className=\"TextEditorContainerRow\">\r\n                            <DropDown\r\n                                rootStyle={{\r\n                                    borderRight: \"1px solid #c6c6c6\",\r\n                                    marginRight: 12,\r\n                                    marginLeft: 4\r\n                                }}\r\n                                menuItemStyle={{\r\n                                    padding: 0\r\n                                }}\r\n                                options={this.context.getTheme(\"Text\")}\r\n                                onChange={(v) => {\r\n                                    textDesignData.textTheme = v.name;\r\n                                    this.props.onChangeData(textStaticData, textDesignData);\r\n                                    window.requestAnimationFrame(() => {\r\n                                        this.props.updateInputWrapper();\r\n                                        this.props.inputWrapperRef.current.onInput();\r\n                                    })\r\n                                }}\r\n                                value={textTheme}\r\n                                spanStyle={{\r\n                                    width: 180,\r\n                                    fontSize: 14,\r\n                                    border: \"0px solid #cfcfcf\",\r\n                                }}\r\n                                renderer={(textTheme) => {\r\n                                    return (\r\n                                        <div className=\"TextEditorThemeRendererRoot\">\r\n                                        <span className=\"TextEditorThemeRendererColor\" style={{\r\n                                            backgroundColor: textTheme.color\r\n                                        }}>\r\n                                        </span>\r\n                                            <span className=\"TextEditorThemeRendererName\">\r\n                                            {textTheme.name}\r\n                                        </span>\r\n                                            <span className=\"TextEditorThemeRendererSize\">\r\n                                            {textTheme.fontSize}px\r\n                                        </span>\r\n                                        </div>\r\n                                    )\r\n                                }}\r\n                                valueRenderer={(textTheme) => {\r\n                                    return (\r\n                                        <span>\r\n                                        {textTheme.name}\r\n                                    </span>\r\n                                    )\r\n                                }}\r\n                            />\r\n                            <DropDown\r\n                                rootStyle={{\r\n                                    borderRight: \"1px solid #c6c6c6\",\r\n                                    marginRight: 12,\r\n                                    marginLeft: 4\r\n                                }}\r\n                                menuItemStyle={{\r\n                                    padding: 0\r\n                                }}\r\n                                options={Object.values(StaticFonts)}\r\n                                onChange={(fontData) => {\r\n                                    if (!this.isTextSelcted()) {\r\n                                        textDesignData.fontFamily = fontData.fontFamily;\r\n                                        this.props.onChangeData(textStaticData, textDesignData);\r\n                                        window.requestAnimationFrame(() => {\r\n                                            this.props.updateInputWrapper();\r\n                                            this.props.inputWrapperRef.current.onInput();\r\n                                        })\r\n                                    } else {\r\n                                        this.props.doc.execCommand('fontName', false, fontData.fontFamily);\r\n                                        this.refreshState();\r\n                                    }\r\n                                }}\r\n                                value={this.state.fontData? this.state.fontData:\r\n                                    getFontDataByFamily(StaticFonts, textDesignData.fontFamily)}\r\n                                spanStyle={{\r\n                                    width: 180,\r\n                                    fontSize: 14,\r\n                                    border: \"0px solid #cfcfcf\",\r\n                                }}\r\n                                renderer={(fontData) => {\r\n                                    let isRtlStyle = fontData.isRtl ? {justifyContent: \"flex-end\"}: {}\r\n                                    return (\r\n                                        <div className=\"TextEditorThemeRendererRoot\" style={isRtlStyle} >\r\n                                            <span style={{\r\n                                                fontFamily: fontData.fontFamily\r\n                                            }}>\r\n                                                {fontData.display}\r\n                                            </span>\r\n                                        </div>\r\n                                    )\r\n                                }}\r\n                                valueRenderer={(fontData) => {\r\n                                    return (\r\n                                        <span style={{\r\n                                            fontFamily: fontData.fontFamily\r\n                                        }}>\r\n                                            {fontData.display}\r\n                                        </span>\r\n                                    )\r\n                                }}\r\n                            />\r\n                            <FontSizeSelector\r\n                                ref={this.fontSizeSelectorRef}\r\n                                style={{ width: 64 }}\r\n                                textTheme={textTheme}\r\n                                textStaticData={textStaticData}\r\n                                textDesignData={textDesignData}\r\n                                onChange={(value) => {\r\n                                    console.log(\"this.isTextSelcted()\", this.isTextSelcted())\r\n                                    if (this.isTextSelcted()) {\r\n                                        this.props.doc.execCommand('fontSize', false, 1);\r\n\r\n                                        let nodes = this.props.doc.querySelectorAll(`[size=\"1\"]`);\r\n\r\n                                        nodes.forEach(node => {\r\n                                            node.removeAttribute(\"size\");\r\n                                            node.style.fontSize = `${value}px`;\r\n                                        })\r\n\r\n                                        this.props.inputWrapperRef.current.onInput();\r\n                                    } else {\r\n                                        textDesignData.fontSize = value;\r\n                                        this.props.onChangeData(textStaticData, textDesignData);\r\n                                        window.requestAnimationFrame(() => {\r\n                                            this.props.inputWrapperRef.current.onInput();\r\n                                        })\r\n                                    }\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div className=\"TextEditorContainerRow\">\r\n\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    this.props.doc.execCommand('bold');\r\n                                    this.refreshState();\r\n                                }}\r\n                                selected={this.state.bold}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/bold.svg'} />\r\n                            </TextEditorButton>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    this.props.doc.execCommand('italic');\r\n                                    this.refreshState();\r\n                                }}\r\n                                selected={this.state.italic}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/italic.svg'} />\r\n                            </TextEditorButton>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    this.props.doc.execCommand('underline');\r\n                                    this.refreshState();\r\n                                }}\r\n                                selected={this.state.underline}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/underline.svg'} />\r\n                            </TextEditorButton>\r\n                            <div className=\"TextEditorVerticalDivider\"/>\r\n                            <TextColorSelector\r\n                                onChange={(color) => {\r\n                                    let randomColor = getRandomColor();\r\n                                    this.props.doc.execCommand('foreColor', false, randomColor);\r\n\r\n                                    let nodes = this.props.doc.querySelectorAll(`[color=\"${randomColor}\"]`);\r\n\r\n                                    if (color instanceof Object) {\r\n                                        nodes.forEach(node => {\r\n                                            node.removeAttribute(\"color\");\r\n                                            [...node.classList].forEach(className => {\r\n                                                if (className.startsWith('Color_'))\r\n                                                    node.classList.remove(className);\r\n                                            });\r\n                                            node.classList.add(this.context.getThemeColorClass(color));\r\n                                            let childs = node.getElementsByTagName(\"*\");\r\n                                            for (let childNode of childs) {\r\n                                                [...childNode.classList].forEach(className => {\r\n                                                    if (className.startsWith('Color_'))\r\n                                                        childNode.classList.remove(className);\r\n                                                });\r\n                                            }\r\n                                        })\r\n                                    } else {\r\n                                        nodes.forEach(node => {\r\n                                            node.setAttribute(\"color\", color);\r\n                                            [...node.classList].forEach(className => {\r\n                                                if (className.startsWith('Color_'))\r\n                                                    node.classList.remove(className);\r\n                                            });\r\n                                            let childs = node.getElementsByTagName(\"*\");\r\n                                            for (let childNode of childs) {\r\n                                                [...childNode.classList].forEach(className => {\r\n                                                    if (className.startsWith('Color_'))\r\n                                                        childNode.classList.remove(className);\r\n                                                });\r\n                                            }\r\n                                        })\r\n                                    }\r\n\r\n                                    this.props.inputWrapperRef.current.onInput();\r\n                                }}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/color.svg'} />\r\n                            </TextColorSelector>\r\n                            <TextColorSelector\r\n                                onChange={(color) => {\r\n                                    let randomColor = getRandomColor();\r\n                                    this.props.doc.execCommand('fontSize', false, 1);\r\n                                    this.props.doc.execCommand('backColor', false, randomColor);\r\n\r\n                                    let nodes = this.props.doc.querySelectorAll(`[size=\"1\"]`);\r\n\r\n                                    if (color instanceof Object) {\r\n                                        nodes.forEach(node => {\r\n                                            node.removeAttribute(\"size\");\r\n                                            [...node.classList].forEach(className => {\r\n                                                if (className.startsWith('BackColor_'))\r\n                                                    node.classList.remove(className);\r\n                                            });\r\n                                            node.classList.add(this.context.getThemeBackColorClass(color));\r\n                                            if (node.style && node.style.removeProperty)\r\n                                                node.style.removeProperty(\"background-color\");\r\n                                            let childs = node.getElementsByTagName(\"*\");\r\n                                            for (let childNode of childs) {\r\n                                                [...childNode.classList].forEach(className => {\r\n                                                    if (className.startsWith('BackColor_'))\r\n                                                        childNode.classList.remove(className);\r\n                                                });\r\n                                            }\r\n                                        })\r\n                                    } else {\r\n                                        nodes.forEach(node => {\r\n                                            node.removeAttribute(\"size\");\r\n                                            if (node.style)\r\n                                                node.style.backgroundColor = color;\r\n                                            [...node.classList].forEach(className => {\r\n                                                if (className.startsWith('BackColor_'))\r\n                                                    node.classList.remove(className);\r\n                                            });\r\n                                            let childs = node.getElementsByTagName(\"*\");\r\n                                            for (let childNode of childs) {\r\n                                                [...childNode.classList].forEach(className => {\r\n                                                    if (className.startsWith('BackColor_'))\r\n                                                        childNode.classList.remove(className);\r\n                                                });\r\n                                            }\r\n                                        })\r\n                                    }\r\n\r\n                                    this.props.inputWrapperRef.current.onInput();\r\n                                }}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/fill.svg'} />\r\n                            </TextColorSelector>\r\n                            <div className=\"TextEditorVerticalDivider\"/>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    this.context.showLinkGenerator(\r\n                                        getSelectedLinkData(this.props.doc),\r\n                                        (linkData) => {\r\n                                            console.log(\"OnDone\", linkData)\r\n                                            addLinkData(this.props.doc, linkData);\r\n                                            this.refreshState();\r\n                                            this.props.inputWrapperRef.current.onInput();\r\n                                        }\r\n                                    );\r\n                                }}\r\n                                selected={getSelectedLinkId(this.props.doc) !== false}\r\n                                selectedIcon={<img draggable={false} width={16} height={16}\r\n                                                   src={require('../../../icons/linkblue.svg')} />}\r\n                                disabled={getSelectedLinkId(this.props.doc) === false && !this.isTextSelcted()}\r\n                                disabledIcon={<img draggable={false} width={16} height={16}\r\n                                                   src={require('../../../icons/linkdisable.svg')} />}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={require('../../../icons/link.svg')} />\r\n                            </TextEditorButton>\r\n                            <div className=\"TextEditorVerticalDivider\"/>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    // this.props.doc.execCommand('justifyLeft');\r\n                                    textDesignData.textAlign = undefined;\r\n                                    this.props.onChangeData(textStaticData, textDesignData);\r\n                                }}\r\n                                selected={textDesignData.textAlign === undefined}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/align-left.svg'} />\r\n                            </TextEditorButton>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    // this.props.doc.execCommand('justifyCenter');\r\n                                    textDesignData.textAlign = \"center\";\r\n                                    this.props.onChangeData(textStaticData, textDesignData);\r\n                                }}\r\n                                selected={textDesignData.textAlign === \"center\"}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/align-center.svg'} />\r\n                            </TextEditorButton>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    // this.props.doc.execCommand('justifyRight');\r\n                                    textDesignData.textAlign = \"right\";\r\n                                    this.props.onChangeData(textStaticData, textDesignData);\r\n                                }}\r\n                                selected={textDesignData.textAlign === \"right\"}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/align-right.svg'} />\r\n                            </TextEditorButton>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    // this.props.doc.execCommand('justifyFull');\r\n                                    textDesignData.textAlign = \"justify\";\r\n                                    this.props.onChangeData(textStaticData, textDesignData);\r\n                                }}\r\n                                selected={textDesignData.textAlign === \"justify\"}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/justify.svg'} />\r\n                            </TextEditorButton>\r\n                            <div className=\"TextEditorVerticalDivider\"/>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    this.props.doc.execCommand('insertUnorderedList');\r\n                                }}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/list-dot.svg'} />\r\n                            </TextEditorButton>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    this.props.doc.execCommand('insertOrderedList');\r\n                                }}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/list-number.svg'} />\r\n                            </TextEditorButton>\r\n                            <div className=\"TextEditorVerticalDivider\"/>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    // let sel = this.props.doc.getSelection();\r\n                                    // console.log(\"Selected Lines\", getLineSelected(sel))\r\n                                    if (this.getTextDir() === \"ltr\")\r\n                                        textStaticData.dir = \"rtl\";\r\n                                    else\r\n                                        textStaticData.dir = \"ltr\";\r\n\r\n                                    this.props.onChangeData(textStaticData, textDesignData);\r\n                                }}\r\n                            >\r\n                                {\r\n                                    <img draggable={false} width={16} height={16}\r\n                                         src={process.env.PUBLIC_URL + `/static/icon/texteditor/text-direction-${this.getTextDir()}.svg`} />\r\n                                }\r\n                            </TextEditorButton>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Popper>\r\n                {\r\n                    this.state.linkGenerator &&\r\n                    <LinkGenerator\r\n                        open={true}\r\n                        linkData={getSelectedLinkData(this.props.doc)}\r\n                        onClose={() => {this.setState({linkGenerator: false})}}\r\n                        onDone={(linkData) => {\r\n                            addLinkData(this.props.doc, linkData);\r\n                            this.setState({linkGenerator: false});\r\n                        }}\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport Frame from 'iframe-react';\r\nimport InputWrapper from \"./Menus/InputWrapper\";\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport TextEditor from \"./Menus/TextEditor\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport {getTextStyle} from \"./TextHelper\";\r\nimport {resolveLinks} from \"./Menus/components/LinkHelper\";\r\n\r\nexport default class TextWrapper extends React.PureComponent {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            editMode: false,\r\n            editableStyle: {\r\n\r\n            },\r\n            iframeNode: undefined\r\n        };\r\n\r\n        this.iframe = React.createRef();\r\n        this.inputWrapperRef = React.createRef();\r\n        this.textEditorRef = React.createRef();\r\n        this.textTagRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        resolveLinks(this.textTagRef.current, this.context.preview, this.context.production, this.context);\r\n    }\r\n\r\n    setEditableStyle = (editableStyle) => {\r\n        this.setState({editableStyle});\r\n    }\r\n\r\n    onEditorStateChange = (editorState) => {\r\n        this.setState({\r\n            editorState,\r\n        });\r\n    };\r\n\r\n    resizeIFrameToFitContent( document ) {\r\n        let textarea = document.getElementById(\"textEditor\");\r\n        let rect = textarea.getBoundingClientRect();\r\n        this.setState({\r\n            iframeWidth: rect.width,\r\n            iframeHeight: rect.height,\r\n        })\r\n\r\n        this.inputWrapperRef.current && this.inputWrapperRef.current.init(document);\r\n\r\n        this.setState({iframeNode: this.iframe.current.frame})\r\n\r\n        this.updateStyleSheets();\r\n    }\r\n\r\n    updateStyleSheets = () => {\r\n        if (this.doc)\r\n            this.context.calculateColorCSS(this.doc);\r\n    }\r\n\r\n    setEditMode = (editMode) => {\r\n        if (!editMode)\r\n            this.setState({iframeNode: undefined});\r\n        this.setState({editMode});\r\n        this.props.onEditModeChange && this.props.onEditModeChange(editMode);\r\n    }\r\n\r\n    getTag = () => {\r\n        let {textDesignData} = this.props;\r\n        let textTheme = this.context.getTheme(\"Text\", textDesignData.textTheme) || {};\r\n        return textDesignData.tagName || textTheme.tagName || \"h6\";\r\n    }\r\n\r\n    updateInputWrapper = () => {\r\n        this.inputWrapperRef.current.updateHeight();\r\n    }\r\n\r\n    onIframeTextClicked = (e) => {\r\n        if (this.textEditorRef && this.textEditorRef.current)\r\n            this.textEditorRef.current.onIframeTextClicked(e);\r\n    }\r\n\r\n    render () {\r\n        let {textTheme, textStaticData, textDesignData} = this.props;\r\n\r\n        let TextTag = this.getTag();\r\n\r\n        let editDisplayNoneStyle = this.state.editMode? {}: {display: \"none\"};\r\n        let nonEditDisplayNoneStyle = !this.state.editMode? {}: {display: \"none\"};\r\n        return (\r\n            <>\r\n                <TextTag\r\n                    ref={this.textTagRef}\r\n                    className=\"TextRoot\"\r\n                    style={{\r\n                        ...getTextStyle(textTheme, textStaticData, textDesignData),\r\n                        ...nonEditDisplayNoneStyle\r\n                    }}\r\n                    dir={textStaticData.dir || \"ltr\"}\r\n                    dangerouslySetInnerHTML={{ __html: textStaticData.textValue }}\r\n                >\r\n                </TextTag>\r\n                <ClickAwayListener onClickAway={(e) => this.setEditMode(false)}>\r\n                    <>\r\n                        {\r\n                            this.state.iframeNode && this.state.editMode &&\r\n                            <TextEditor\r\n                                ref={this.textEditorRef}\r\n                                onChangeData={this.props.onChangeData}\r\n                                inputWrapperRef={this.inputWrapperRef}\r\n                                onChange={this.props.onChange}\r\n                                textStaticData={textStaticData}\r\n                                textTheme={textTheme}\r\n                                textDesignData={textDesignData}\r\n                                anchorEI={this.state.iframeNode}\r\n                                iframeNode={this.state.iframeNode}\r\n                                updateInputWrapper={this.updateInputWrapper}\r\n                                doc={this.doc}\r\n                            />\r\n                        }\r\n                        <div id=\"TextEditorIFrame\">\r\n                        <Frame\r\n                            id={\"Hello\"}\r\n                            key={'textEditorFrame'}\r\n                            ref={this.iframe}\r\n                            title=\"TextEditorIFrame\"\r\n                            style={{\r\n                                width: this.state.iframeWidth || \"unset\",\r\n                                height: this.state.iframeHeight || \"unset\",\r\n                                border: 0,\r\n                                display: \"block\",\r\n                                ...editDisplayNoneStyle\r\n                            }}\r\n                            head={<>\r\n                                <link id=\"wix_richtext_font_url_googleFonts\" type=\"text/css\" rel=\"stylesheet\"\r\n                                      href=\"https://weblancerstaticdata.s3.ir-thr-at1.arvanstorage.com/StaticFonts.css\"/>\r\n                                <style type=\"text/css\">\r\n                                    {`\r\n                            body{\r\n                                width: fit-content;\r\n                                height: fit-content;\r\n                                box-sizing: border-box;\r\n                                margin: 0px;\r\n                                display: flex;\r\n                                overflow: hidden;\r\n                            }\r\n                            body>div{\r\n                                width: fit-content;\r\n                                height: fit-content;\r\n                                box-sizing: border-box;\r\n                                margin: 0px;\r\n                                display: flex;\r\n                                overflow: hidden;\r\n                            }\r\n                            \r\n\r\n                        `}\r\n                                </style>\r\n                            </>}\r\n                            documentRef={(doc) => {\r\n                                this.doc = doc;\r\n                                console.log(\"Listen !!!!!!!\")\r\n                                this.doc.addEventListener(\"click\", (e) => {\r\n                                    this.onIframeTextClicked(e);\r\n                                })\r\n                            }}\r\n                        >\r\n                            <InputWrapper\r\n                                onLoad={() => {\r\n                                    this.resizeIFrameToFitContent(this.doc);\r\n                                }}\r\n                                onUpdate={() => {\r\n                                    this.resizeIFrameToFitContent(this.doc);\r\n                                }}\r\n                                onChange={this.props.onChange}\r\n                                value={textStaticData.textValue}\r\n                                width={this.props.width}\r\n                                ref={this.inputWrapperRef}\r\n                                tag={this.getTag()}\r\n                                textTheme={textTheme}\r\n                                textStaticData={textStaticData}\r\n                                textDesignData={textDesignData}\r\n                                iframeNode={this.state.iframeNode}\r\n                                doc={this.doc}\r\n                            >\r\n                            </InputWrapper>\r\n                        </Frame>\r\n                        </div>\r\n                    </>\r\n                </ClickAwayListener>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport '../../HelperStyle.css';\r\nimport './Text.css';\r\nimport {\r\n    getCompositeDesignData,\r\n    getFromTempData,\r\n    setDataInBreakpoint,\r\n    setTempData\r\n} from \"../../AwesomwGridLayoutHelper\";\r\nimport TextWrapper from \"./TextWrapper\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport MenuButton from \"../../Menus/MenuBase/MenuButton\";\r\nimport AnimationDesign from \"../Containers/Menus/AnimationDesign\";\r\n\r\nexport default class Text extends AGLComponent{\r\n    static contextType = EditorContext;\r\n\r\n    constructor (props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            editMode: false\r\n        }\r\n\r\n        this.textRef = React.createRef();\r\n    }\r\n\r\n    resolveDesignData = () => {\r\n    };\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            bpData: {\r\n                overflowData: {\r\n                    state: \"show\"\r\n                }\r\n            },\r\n        };\r\n    };\r\n\r\n    getPrimaryOptions = () => {\r\n        this.resolveDesignData();\r\n        return [\r\n            <MenuButton\r\n                key={4}\r\n                icon={<span className=\"MenuButtonLabelSpan\">Edit Text</span>}\r\n                select={this.props.select}\r\n                onClick={(e) => {\r\n                    this.onDoubleClickOverride(this.getAgl(), e);\r\n                }}\r\n            />,\r\n            <MenuButton\r\n                key={2}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/animation.svg'} /> }\r\n                select={this.props.select}\r\n                title=\"Animation Design\"\r\n                menu={(e) =>\r\n                    <AnimationDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={33}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/savewhite.svg'} /> }\r\n                select={this.props.select}\r\n                hide={this.context.user.role === \"user\"}\r\n                title=\"Copy data\"\r\n                onClick={(e) => {\r\n                    this.showComponentCode();\r\n                }}\r\n            />\r\n        ]\r\n    };\r\n\r\n    updateDesign = (compositeDesign) => {\r\n\r\n    };\r\n\r\n    onChange = (e, callback) => {\r\n        if (e) {\r\n            let textStaticData = getFromTempData(this, \"textStaticData\");\r\n            textStaticData.textValue = e.target.value;\r\n        }\r\n\r\n        this.props.select.onScrollItem();\r\n    }\r\n\r\n    onEditModeChange = (editMode) => {\r\n        this.setState({editMode});\r\n        this.props.select.onScrollItem();\r\n    }\r\n\r\n    onChangeData = (textStaticData, textDesignData) => {\r\n        setTempData(\"textStaticData\", textStaticData, this.getAgl(), true);\r\n        setDataInBreakpoint(\"design.textDesignData\", textDesignData, this.getAgl(), true, undefined, true);\r\n        this.props.select.onScrollItem();\r\n    }\r\n\r\n    getStaticChildren = () => {\r\n        this.resolveDesignData();\r\n\r\n        let textStaticData = getFromTempData(this, \"textStaticData\");\r\n        let textDesignData = getCompositeDesignData(this).textDesignData;\r\n        let textTheme = this.context.getTheme(\"Text\", textDesignData.textTheme);\r\n\r\n        let rect = {};\r\n        if (this.getAgl()){\r\n            rect = this.getAgl().getSize(false);\r\n        }\r\n\r\n        return (\r\n            <TextWrapper\r\n                ref={this.textRef}\r\n                width={rect.width}\r\n                height={rect.height}\r\n                onChange={this.onChange}\r\n                onChangeData={this.onChangeData}\r\n                onEditModeChange={this.onEditModeChange}\r\n                textStaticData={textStaticData}\r\n                textDesignData={textDesignData}\r\n                textTheme={textTheme}\r\n                onThemeChange={this.onThemeChange}\r\n            >\r\n            </TextWrapper>\r\n        )\r\n    };\r\n\r\n    onDoubleClickOverride = (agl, e) => {\r\n        if (!this.props.editor)\r\n            return;\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        this.textRef.current.setEditMode(true);\r\n    }\r\n\r\n    onDeSelectListener = (agl) => {\r\n        if (!this.props.editor)\r\n            return;\r\n\r\n        this.textRef.current.setEditMode(false);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <AGLWrapper\r\n                tagName=\"Text\"\r\n                aglComponent={this}\r\n                {...this.props}\r\n                data={this.getData()}\r\n                resizeSides={!this.state.editMode ? ['e', 'w'] : []}\r\n                style={{\r\n                    height: \"auto\",\r\n                    minHeight: \"auto\",\r\n                    // pointerEvents: \"none\"\r\n                }}\r\n                getPrimaryOptions={this.getPrimaryOptions}\r\n                getInspector={this.getInspector}\r\n                getStaticChildren={this.getStaticChildren}\r\n                noStretch\r\n                onDoubleClickOverride={this.onDoubleClickOverride}\r\n                onDeSelectListener={this.onDeSelectListener}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nText.defaultProps = {\r\n    tagName: \"Text\"\r\n};\r\n","import React from \"react\";\r\nimport '../Menu.css';\r\nimport ColorPicker from \"../CommonComponents/ColorPicker\";\r\n\r\nexport default class ColorAdjustment extends React.Component {\r\n    render () {\r\n        return (\r\n            <div className=\"MenuOptionSection\">\r\n                <p className=\"MenuOptionSectionTitle\">{this.props.title}</p>\r\n\r\n                <ColorPicker\r\n                    color={this.props.color}\r\n                    designKey={this.props.designKey}\r\n                    onDesignChange={this.props.onDesignChange}\r\n                    editor={this.props.editor}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport Background from \"../../Containers/Menus/Components/Background\";\r\nimport Border from \"../../Containers/Menus/Components/Border\";\r\nimport Corners from \"../../Containers/Menus/Components/Corners\";\r\nimport Shadow from \"../../Containers/Menus/Components/Shadow\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\nimport ColorAdjustment from \"../../../Menus/CommonMenus/ColorAdjustment\";\r\n\r\nexport default class ButtonDesign extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    getIndex = (stateName) => {\r\n        let index = [];\r\n        index.push(\r\n            {\r\n                key: \"Fill Color & Opacity\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/water.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Border\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/border.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Corner\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/corner.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Shadow\",\r\n                icon: <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" className=\"symbol symbol-shadowDesign\">\r\n                    <path fillRule=\"evenodd\"\r\n                          d=\"M11.5 14.5h-8v-2h8c.55 0 1-.45 1-1v-9h2v9c0 1.65-1.35 3-3 3zm-3-4h-7c-1.1 0-2-.9-2-2v-7c0-1.1.9-2 2-2h7c1.1 0 2 .9 2 2v7c0 1.1-.9 2-2 2z\"/>\r\n                </svg>\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Text Appearance\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/text.svg'} />\r\n            });\r\n\r\n        return index;\r\n    };\r\n\r\n    getOptions = (stateName) => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        let options = [];\r\n\r\n        console.log(\"design\", design)\r\n\r\n        options.push({\r\n            key: \"Fill Color & Opacity\",\r\n            render: <Background\r\n                color={design[stateName].fillColor}\r\n                designKey={`design.${stateName}.fillColor`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Border\",\r\n            render: <Border\r\n                border={design[stateName].border || {}}\r\n                designKey={`design.${stateName}.border`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Corner\",\r\n            render: <Corners\r\n                radius={design[stateName].border.radius || {}}\r\n                designKey={`design.${stateName}.border.radius`}\r\n                onDesignChange={this.props.onDesignChange}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Shadow\",\r\n            render: <Shadow\r\n                shadow={design[stateName].border.shadow || {}}\r\n                designKey={`design.${stateName}.border.shadow`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Text Appearance\",\r\n            render: <ColorAdjustment\r\n                title={\"Text Color\"}\r\n                color={design[stateName].textColor}\r\n                designKey={`design.${stateName}.textColor`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n\r\n        return options;\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle=\"Box Design\"\r\n                {...this.props}\r\n                item={this.props.item}\r\n                multiState\r\n                states={{\r\n                    normal:{\r\n                        name: \"normal\",\r\n                        render: \"Normal\",\r\n                        toggle: () => {this.props.onStateChange(\"normal\")},\r\n                        options: this.getOptions(\"normal\"),\r\n                        index: this.getIndex(\"normal\")\r\n                    },\r\n                    hover: {\r\n                        name: \"hover\",\r\n                        render: \"Hover\",\r\n                        toggle: () => {this.props.onStateChange(\"hover\")},\r\n                        options: this.getOptions(\"hover\"),\r\n                        index: this.getIndex(\"hover\")\r\n                    }\r\n                }}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FontSizeAutoComplete from \"../../Text/Menus/components/FontSizeAutoComplete\";\r\n\r\nexport default class FontSizeSelector2 extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {};\r\n    }\r\n    filterOptions = (options) => {\r\n        return [\"6\",\"8\",\"10\",\"12\",\"14\",\"16\",\"18\",\"20\",\"22\",\"24\",\"28\",\"32\",\"48\",\"72\"];\r\n    }\r\n\r\n    getAllowableFontSize = () => {\r\n        return (new Array(100)).fill(\"0\").map((v, i) => {\r\n            return `${i + 1}`;\r\n        });\r\n    }\r\n\r\n    setForceValue = (value) => {\r\n        this.onFontSizeChange(undefined, value, \"input\");\r\n    }\r\n\r\n    onFontSizeChange = (e, value, reason) => {\r\n        console.log(\"onFontSizeChange value reason\", value, reason);\r\n        if (reason === \"input\") {\r\n            console.log(\"onFontSizeChange input\", value);\r\n            this.setState({tempFontSize: value});\r\n        } else if (reason === \"select-option\") {\r\n            console.log(\"onFontSizeChange select-option\", value);\r\n            this.setFontSize(value);\r\n        } else if (reason === \"enter\") {\r\n            console.log(\"onFontSizeChange enter\", value, this.getAllowableFontSize());\r\n            if (this.getAllowableFontSize().includes(value))\r\n                this.setFontSize(value);\r\n            else\r\n                this.setState({tempFontSize: this.getFontSizeValue(value !== \"\" && true)});\r\n        }\r\n    }\r\n\r\n    setFontSize = (value) => {\r\n        this.setState({tempFontSize: value});\r\n        this.props.onChange(value);\r\n    }\r\n\r\n    setFontSizeUi = (value) => {\r\n        this.setState({tempFontSize: value});\r\n    }\r\n\r\n    getFontSizeValue = (ignoreState = false) => {\r\n        let {fontSize} = this.props;\r\n\r\n        if (!ignoreState && this.state.tempFontSize !== undefined)\r\n            return this.state.tempFontSize;\r\n\r\n        return (!ignoreState && this.state.tempFontSize) ||\r\n            fontSize || \"14\"\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <FontSizeAutoComplete\r\n                size={\"small\"}\r\n                options={this.getAllowableFontSize()}\r\n                value={this.getFontSizeValue()}\r\n                getOptionLabel={(option) => option}\r\n                filterOptions={this.filterOptions}\r\n                style={this.props.style || { width: 64 }}\r\n                popupIcon={\r\n                    <img width={10} height={10} src={process.env.PUBLIC_URL + \"/static/icon/down-arrow.svg\"}/>\r\n                }\r\n                renderInput={(params) => {\r\n                    params.InputProps.disableUnderline = true;\r\n                    params.inputProps.style = {padding: 0, fontSize: 14};\r\n                    return (\r\n                        <TextField {...params} onChange={(e) => {\r\n                            this.onFontSizeChange(e, e.target.value, 'input');\r\n                        }}/>\r\n                    )\r\n                }}\r\n                blurOnSelect\r\n                onChange={this.onFontSizeChange}\r\n                onKeyDown={(e) => {\r\n                    if((e.keyCode || e.which) === 13){\r\n                        this.onFontSizeChange(e, e.target.value, 'enter');\r\n                    }\r\n                }}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../Menus/Menu.css';\r\nimport Divider from \"../../../Menus/CommonComponents/Divider\";\r\nimport StaticFonts from \"../../Text/Fonts/StaticFonts.json\";\r\nimport {getFontDataByFamily, getFontDataByName} from \"../../Text/TextHelper\";\r\nimport DropDown from \"../../../Menus/CommonComponents/DropDown\";\r\nimport FontSizeSelector2 from \"./FontSizeSelector2\";\r\n\r\nexport default class ButtonTextAppearance extends React.Component {\r\n    changeText = () => {\r\n        this.props.onDesignChange(this.props.designKey + '.text', this.tempText);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Text in button</p>\r\n\r\n                    <input\r\n                        defaultValue={this.props.data.text}\r\n                        className=\"NumberInput PageManagerRenameInput PageInfoNameInput\"\r\n                        type=\"text\"\r\n                        onChange={(e) => {this.tempText = e.target.value;}}\r\n                        onBlur={this.changeText}\r\n                        onKeyPress={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.changeText()\r\n                            }\r\n                        }}\r\n                    >\r\n                    </input>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Font</p>\r\n\r\n                    <DropDown\r\n                        rootStyle={{\r\n                            paddingLeft: 4,\r\n                            border: \"1px solid rgb(198, 198, 198)\",\r\n                            height: 36,\r\n                            borderRadius: 4\r\n                        }}\r\n                        menuItemStyle={{\r\n                            padding: 0\r\n                        }}\r\n                        options={Object.values(StaticFonts)}\r\n                        onChange={(fontData) => {\r\n                                this.props.onDesignChange(this.props.designKey + '.fontFamily', fontData.fontFamily);\r\n                        }}\r\n                        value={this.props.data.fontFamily? getFontDataByFamily(StaticFonts, this.props.data.fontFamily):\r\n                            getFontDataByName(StaticFonts, 'Yekan')}\r\n                        spanStyle={{\r\n                            width: 230,\r\n                            fontSize: 14,\r\n                            border: \"0px solid #cfcfcf\",\r\n                        }}\r\n                        renderer={(fontData) => {\r\n                            let isRtlStyle = fontData.isRtl ? {justifyContent: \"flex-end\"}: {}\r\n                            return (\r\n                                <div className=\"TextEditorThemeRendererRoot\" style={isRtlStyle} >\r\n                                            <span style={{\r\n                                                fontFamily: fontData.fontFamily\r\n                                            }}>\r\n                                                {fontData.display}\r\n                                            </span>\r\n                                </div>\r\n                            )\r\n                        }}\r\n                        valueRenderer={(fontData) => {\r\n                            return (\r\n                                <span style={{\r\n                                    fontFamily: fontData.fontFamily\r\n                                }}>\r\n                                            {fontData.display}\r\n                                        </span>\r\n                            )\r\n                        }}\r\n                    />\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Font size</p>\r\n                    <FontSizeSelector2\r\n                        ref={this.fontSizeSelectorRef}\r\n                        style={{\r\n                            paddingLeft: 4,\r\n                            border: \"1px solid rgb(198, 198, 198)\",\r\n                            height: 36,\r\n                            borderRadius: 4\r\n                        }}\r\n                        fontSize={this.props.data.fontSize || \"14\"}\r\n                        onChange={(value) => {\r\n                            this.props.onDesignChange(this.props.designKey + '.fontSize', value);\r\n                        }}\r\n                    />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../Menus/Menu.css';\r\nimport IconButton from \"../../../HelperComponents/IconButton\";\r\nimport './ButtonTextLayout.css';\r\nimport Divider from \"../../../Menus/CommonComponents/Divider\";\r\nimport SliderInput from \"../../../Menus/CommonComponents/SliderInput\";\r\n\r\nexport default class ButtonTextLayout extends React.Component {\r\n    render () {\r\n        return (\r\n            <>\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Text alignment</p>\r\n\r\n                    <div className=\"ButtonTextLayoutAlignRoot\">\r\n                        <IconButton\r\n                            buttonBaseStyle={{\r\n                                marginRight: 4,\r\n                                marginLeft: 4,\r\n                            }}\r\n                            imageContainerStyle={{\r\n                                padding: 6\r\n                            }}\r\n                            onClick={(e) => {\r\n                                this.props.onDesignChange(this.props.designKey + '.textAlign', \"flex-start\");\r\n                            }}\r\n                            className=\"InspectorAlignsButtons\"\r\n                            selected={this.props.data.textAlign === \"flex-start\"}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={16}\r\n                                height={16}\r\n                                src={require('../../../icons/align-left.svg')}\r\n                            />\r\n                        </IconButton>\r\n                        <IconButton\r\n                            buttonBaseStyle={{\r\n                                marginRight: 4,\r\n                                marginLeft: 4,\r\n                            }}\r\n                            imageContainerStyle={{\r\n                                padding: 6\r\n                            }}\r\n                            onClick={(e) => {\r\n                                this.props.onDesignChange(this.props.designKey + '.textAlign', \"center\");\r\n                            }}\r\n                            className=\"InspectorAlignsButtons\"\r\n                            selected={this.props.data.textAlign === \"center\" || !this.props.data.textAlign}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={16}\r\n                                height={16}\r\n                                src={require('../../../icons/align-center.svg')}\r\n                            />\r\n                        </IconButton>\r\n                        <IconButton\r\n                            buttonBaseStyle={{\r\n                                marginRight: 4,\r\n                                marginLeft: 4,\r\n                            }}\r\n                            imageContainerStyle={{\r\n                                padding: 6\r\n                            }}\r\n                            onClick={(e) => {\r\n                                this.props.onDesignChange(this.props.designKey + '.textAlign', \"flex-end\");\r\n                            }}\r\n                            className=\"InspectorAlignsButtons\"\r\n                            selected={this.props.data.textAlign === \"flex-end\"}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={16}\r\n                                height={16}\r\n                                src={require('../../../icons/align-right.svg')}\r\n                            />\r\n                        </IconButton>\r\n                    </div>\r\n                </div>\r\n\r\n                {\r\n                    (this.props.data.textAlign !== \"center\" || !this.props.data.textAlign) &&\r\n\r\n                    <>\r\n                        <Divider/>\r\n\r\n                        <div className=\"MenuOptionSection\">\r\n                            <p className=\"MenuOptionSectionTitle\">Margin (px)</p>\r\n\r\n                            <div\r\n                                className=\"BorderWidth\"\r\n                            >\r\n                                <SliderInput\r\n                                className=\"BorderWidthSlider\"\r\n                                min={0}\r\n                                max={100}\r\n                                value={this.props.data.margin}\r\n                                designKey={`${this.props.designKey}.margin`}\r\n                                onDesignChange={this.props.onDesignChange}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </>\r\n                }\r\n\r\n\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport Background from \"../../Containers/Menus/Components/Background\";\r\nimport Border from \"../../Containers/Menus/Components/Border\";\r\nimport Corners from \"../../Containers/Menus/Components/Corners\";\r\nimport Shadow from \"../../Containers/Menus/Components/Shadow\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\nimport ColorAdjustment from \"../../../Menus/CommonMenus/ColorAdjustment\";\r\nimport ButtonTextAppearance from \"./ButtonTextAppearance\";\r\nimport ButtonTextLayout from \"./ButtonTextLayout\";\r\n\r\nexport default class TextDesign extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    getIndex = (stateName) => {\r\n        let index = [];\r\n        index.push(\r\n            {\r\n                key: \"Text Appearance\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/text.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Text Layout\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/text.svg'} />\r\n            });\r\n\r\n        return index;\r\n    };\r\n\r\n    getOptions = (stateName) => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        let options = [];\r\n\r\n        options.push({\r\n            key: \"Text Appearance\",\r\n            render: <ButtonTextAppearance\r\n                data={design.spanData}\r\n                designKey={`design.spanData`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n\r\n        options.push({\r\n            key: \"Text Layout\",\r\n            render: <ButtonTextLayout\r\n                data={design.spanData}\r\n                designKey={`design.spanData`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n\r\n        return options;\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle=\"Text Design\"\r\n                {...this.props}\r\n                item={this.props.item}\r\n                defaultIndexNo={0}\r\n                index={this.getIndex()}\r\n                options={this.getOptions()}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {EditorContext} from \"../../../../Editor/EditorContext\";\r\nimport './LinkedTag.css';\r\nimport {prepareLink} from \"./LinkHelper\";\r\n\r\nexport default class LinkedTag extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {};\r\n    }\r\n\r\n    // componentDidUpdate(prevProps, prevState, snapshot) {\r\n    //     console.log(\"LinkedTag componentDidUpdate\", this.linkRef);\r\n    //     this.prepareLink();\r\n    // }\r\n\r\n    onRefChange = (ref) => {\r\n        this.linkRef = ref;\r\n        console.log(\"LinkedTag onRefChange\", this.linkRef);\r\n        window.requestAnimationFrame(this.prepareLink);\r\n    }\r\n\r\n    prepareLink = () => {\r\n        if (!this.context.preview && !this.context.production)\r\n            return;\r\n\r\n        let {linkData} = this.props;\r\n\r\n        if (this.linkRef && linkData && linkData.type !== \"None\") {\r\n            console.log(\"LinkedTag prepareLink\", this.linkRef);\r\n            prepareLink(this.linkRef, this.context.preview, this.context.production, this.context, linkData);\r\n        }\r\n    }\r\n\r\n    render () {\r\n        let {children, className} = this.props;\r\n        let aClassName = \"LinkedTagRoot\";\r\n        if (className)\r\n            aClassName += ` ${className}`;\r\n\r\n        let aTagProps = Object.assign({}, this.props);\r\n        delete aTagProps.linkData;\r\n        return (\r\n            <a\r\n                className={aClassName}\r\n                ref={(ref) => {this.onRefChange(ref)}}\r\n                {...aTagProps}\r\n            >\r\n                {children}\r\n            </a>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport '../../HelperStyle.css';\r\nimport './Button.css';\r\nimport {\r\n    getCompositeDesignData,\r\n    getFromTempData,\r\n    parseColor,\r\n    resolveDesignData,\r\n    setTempData\r\n} from \"../../AwesomwGridLayoutHelper\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport MenuButton from \"../../Menus/MenuBase/MenuButton\";\r\nimport AnimationDesign from \"../Containers/Menus/AnimationDesign\";\r\nimport ButtonDesign from \"./Menus/ButtonDesign\";\r\nimport TextDesign from \"./Menus/TextDesign\";\r\nimport {getFontDataByName} from \"../Text/TextHelper\";\r\nimport StaticFonts from \"../Text/Fonts/StaticFonts.json\";\r\nimport LinkedTag from \"../Text/Menus/components/LinkedTag\";\r\n\r\nexport default class Button extends AGLComponent{\r\n    static contextType = EditorContext;\r\n    constructor (props) {\r\n        super(props);\r\n\r\n        this.state = {hover: false};\r\n\r\n        this.rootBorderRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    resolveDesignData = () => {\r\n        resolveDesignData(this, \"spanData\", {\r\n            text: \"Start Now\",\r\n            fontFamily: getFontDataByName(StaticFonts, \"Yekan\").fontFamily,\r\n            fontSize: \"14\",\r\n            margin: 0\r\n        });\r\n        resolveDesignData(this, \"normal\", {border: {shadow: {\r\n                    xOffset: -1,\r\n                    yOffset: 1,\r\n                    distance: 1,\r\n                    size: 0,\r\n                    blur: 4\r\n                }, radius: {}}, textColor: \"#000000\"});\r\n        resolveDesignData(this, \"hover\", {border: {shadow: {\r\n                    xOffset: -1,\r\n                    yOffset: 1,\r\n                    distance: 1,\r\n                    size: 5,\r\n                    blur: 4\r\n                }, radius: {}}, textColor: \"#000000\"});\r\n    };\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            bpData: {\r\n                overflowData: {\r\n                    state: \"show\"\r\n                }\r\n            }\r\n        };\r\n    };\r\n\r\n    getPrimaryOptions = () => {\r\n        this.resolveDesignData();\r\n\r\n        let linkData = getFromTempData(this, \"linkData\");\r\n\r\n        return [\r\n            <MenuButton\r\n                key={0}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/textwhite.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Text Design\"\r\n                menu={(e) =>\r\n                    <TextDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                        onStateChange={this.onStateChange}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={1}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/paint.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Box Design\"\r\n                menu={(e) =>\r\n                    <ButtonDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                        onStateChange={this.onStateChange}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={2}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/animation.svg'} /> }\r\n                select={this.props.select}\r\n                title=\"Animation Design\"\r\n                menu={(e) =>\r\n                    <AnimationDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={3}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/linkwhite.svg'} /> }\r\n                select={this.props.select}\r\n                title=\"Link\"\r\n                onClick={(e) => {\r\n                    this.context.showLinkGenerator(\r\n                        linkData,\r\n                        (linkData) => {\r\n                            console.log(\"Image Link OnDone\", linkData)\r\n                            setTempData(\"linkData\", linkData, this.getAgl(), true);\r\n                        }\r\n                    );\r\n                }}\r\n            />,\r\n            <MenuButton\r\n                key={33}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/savewhite.svg'} /> }\r\n                select={this.props.select}\r\n                hide={this.context.user.role === \"user\"}\r\n                title=\"Copy Data\"\r\n                onClick={(e) => {\r\n                    this.showComponentCode();\r\n                }}\r\n            />\r\n        ]\r\n    };\r\n\r\n    updateDesign = (compositeDesign) => {\r\n    };\r\n\r\n    getStaticChildren = () => {\r\n        this.resolveDesignData();\r\n\r\n        let spanData = getCompositeDesignData(this).spanData;\r\n\r\n        let data;\r\n        if (this.state.hover)\r\n            data = getCompositeDesignData(this).hover;\r\n        else\r\n            data = getCompositeDesignData(this).normal;\r\n\r\n        let textColor = data.textColor;\r\n        if (textColor)\r\n            textColor = parseColor(textColor, textColor.alpha, this.context);\r\n\r\n        let border = data.border;\r\n        let fillColor = data.fillColor;\r\n        if (fillColor)\r\n            fillColor = parseColor(fillColor, fillColor.alpha, this.context);\r\n\r\n        border.radius = border.radius || {};\r\n        border.shadow = border.shadow || {};\r\n\r\n        let shadowColor = border.shadow.color;\r\n        if (shadowColor)\r\n            shadowColor = parseColor(shadowColor, shadowColor.alpha, this.context);\r\n        let borderColor = border.color;\r\n        if (borderColor)\r\n            borderColor = parseColor(borderColor, borderColor.alpha, this.context);\r\n\r\n        let spanMarginStyle = {};\r\n        if (spanData.textAlign === \"flex-start\")\r\n            spanMarginStyle.marginLeft = `${spanData.margin}px`;\r\n        if (spanData.textAlign === \"flex-end\")\r\n            spanMarginStyle.marginRight = `${spanData.margin}px`;\r\n\r\n        let linkData = getFromTempData(this, \"linkData\");\r\n\r\n        return <LinkedTag\r\n            onMouseOver={this.onMouseOver}\r\n            onMouseOut={this.onMouseOut}\r\n            className=\"ButtonBorderRoot\"\r\n            linkData={linkData}\r\n            style={{\r\n                border:\r\n                    `${border.width || 0}px solid ${borderColor || 'rgba(0,0,0,0)'}`,\r\n                backgroundColor: fillColor,\r\n                borderRadius:\r\n                    `${border.radius.topLeft || 0}px ${border.radius.topRight || 0}px ${border.radius.bottomRight || 0}px ${border.radius.bottomLeft || 0}px`,\r\n                boxShadow: `${(border.shadow.xOffset) * (border.shadow.distance)}px ${(border.shadow.yOffset) * (border.shadow.distance)}px ${border.shadow.blur}px ${border.shadow.size}px ${shadowColor || 'rgba(0,0,0,0)'}`,\r\n                justifyContent: spanData.textAlign || \"center\"\r\n            }}\r\n        >\r\n            <span\r\n                className=\"ButtonText\"\r\n                style={{\r\n                    color: textColor || \"#000000\",\r\n                    fontFamily: spanData.fontFamily || getFontDataByName(StaticFonts, \"Yekan\").fontFamily,\r\n                    fontSize: `${spanData.fontSize}px`,\r\n                    ...spanMarginStyle\r\n                }}\r\n            >\r\n                {spanData.text}\r\n            </span>\r\n        </LinkedTag>\r\n    };\r\n\r\n    onStateChange = (stateName) => {\r\n        if (stateName === \"hover\")\r\n            this.setState({hover:true});\r\n        else\r\n            this.setState({hover:false});\r\n    };\r\n\r\n    onMouseOver = () => {\r\n        if (this.context.isEditor())\r\n            return;\r\n\r\n        this.setState({hover: true});\r\n    };\r\n\r\n    onMouseOut = () => {\r\n        if (this.context.isEditor())\r\n            return;\r\n\r\n        this.setState({hover: false});\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <AGLWrapper\r\n                tagName=\"Image\"\r\n                aglComponent={this}\r\n                {...this.props}\r\n                style={{\r\n                    width: \"100px\",\r\n                    height: \"50px\",\r\n                }}\r\n                data={this.getData()}\r\n                getPrimaryOptions={this.getPrimaryOptions}\r\n                getInspector={this.getInspector}\r\n                getStaticChildren={this.getStaticChildren}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nButton.defaultProps = {\r\n    tagName: \"Button\"\r\n};\r\n","import React from 'react'\r\nimport Cropper from 'react-easy-crop'\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport Slider from '@material-ui/core/Slider'\r\nimport './Cropper.css';\r\nimport Button from \"@material-ui/core/Button/Button\";\r\n\r\nexport default class CropperModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            imageSrc: props.imageSrc,\r\n            crop: props.crop,\r\n            zoom: props.zoom,\r\n            aspect: props.aspect,\r\n        }\r\n    }\r\n\r\n    onCropChange = (crop) => {\r\n        this.setState({ crop })\r\n    }\r\n\r\n    onCropComplete = (croppedArea, croppedAreaPixels) => {\r\n        console.log(croppedArea, croppedAreaPixels)\r\n        this.setState({croppedArea, croppedAreaPixels})\r\n    }\r\n\r\n    onZoomChange = (zoom) => {\r\n        this.setState({ zoom })\r\n    }\r\n\r\n    render() {\r\n        return (<Modal\r\n            open={this.props.open}\r\n            onClose={this.props.onClose}\r\n            aria-labelledby=\"simple-modal-title2\"\r\n            aria-describedby=\"simple-modal-description2\"\r\n            className=\"FileManagerModal\"\r\n            disableBackdropClick\r\n        >\r\n            <div className=\"CropperRoot\">\r\n                {/*Header*/}\r\n                <div className=\"FileManagerHeader\">\r\n                    <div\r\n                        className=\"PageManagerHeaderContainer\"\r\n                    >\r\n                            <span className=\"PageManagerHeaderTitle\">\r\n                                Image Cropper\r\n                            </span>\r\n\r\n                        <IconButton\r\n                            onClick={this.props.onClose}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={12}\r\n                                height={12}\r\n                                src={require('../../icons/close.svg')}\r\n                            />\r\n                        </IconButton>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"CropperContainer\">\r\n                    <div className=\"CropperMargin\">\r\n                        <Cropper\r\n                            image={this.state.imageSrc}\r\n                            crop={this.state.crop}\r\n                            zoom={this.state.zoom}\r\n                            aspect={this.state.aspect}\r\n                            onCropChange={this.onCropChange}\r\n                            onCropComplete={this.onCropComplete}\r\n                            onZoomChange={this.onZoomChange}\r\n                        />\r\n                    </div>\r\n                    <div className=\"CropperFooter\">\r\n                        <span className=\"CropperZoomSpan\">\r\n                            Zoom Level\r\n                        </span>\r\n                        <div className=\"CropperZoom\">\r\n                            <Slider\r\n                                value={this.state.zoom}\r\n                                min={1}\r\n                                max={3}\r\n                                step={0.05}\r\n                                onChange={(e, zoom) => this.onZoomChange(zoom)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"CropperFooterSpacer\">\r\n                        </div>\r\n                        <IconButton\r\n                            buttonBaseStyle={{\r\n                                marginLeft: 0\r\n                            }}\r\n                            imageContainerStyle={{\r\n                            }}\r\n                            onClick={(e) => {\r\n                                this.setState({\r\n                                    zoom: 1,\r\n                                    crop: {x:0, y: 0},\r\n                                    croppedAreaPixels: undefined,\r\n                                    croppedArea: undefined\r\n                                })\r\n                            }}\r\n                            className=\"CropperReset\"\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={20}\r\n                                height={20}\r\n                                src={require('../../icons/refresh.svg')}\r\n                            />\r\n                        </IconButton>\r\n                        <div className=\"CropperFooterSpacer\">\r\n                        </div>\r\n\r\n                        <Button\r\n                            className=\"CropperCancel\"\r\n                            // variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={() => {\r\n                                this.props.onClose();\r\n                            }}\r\n                        >\r\n                            Cancel\r\n                        </Button>\r\n\r\n                        <Button\r\n                            className=\"CropperDone\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={() => {\r\n                                this.props.onClose();\r\n                                this.props.onDone({\r\n                                    zoom: this.state.zoom,\r\n                                    crop:this.state.crop,\r\n                                    croppedArea: this.state.croppedArea,\r\n                                    croppedAreaPixels:this.state.croppedAreaPixels,\r\n                                })\r\n                            }}\r\n                        >\r\n                            Done\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport './FocalPoint.css';\r\nimport Button from \"@material-ui/core/Button/Button\";\r\n\r\nexport default class FocalPointModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        }\r\n\r\n        this.clickerRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n    onChangePoint = (e) => {\r\n        let rect = this.clickerRef.current.getBoundingClientRect();\r\n        let x = (e.clientX-rect.left) / rect.width * 100;\r\n        let y = (e.clientY-rect.top) / rect.height * 100;\r\n\r\n        this.setState({focalPoint: {x, y}})\r\n    }\r\n\r\n    isLeftClick = (e) => {\r\n        e.persist();\r\n        console.log(\"isLeftClick\", e.pointerType, e.button, e)\r\n        if (e.pointerType === \"mouse\" && e.button === 0)\r\n            return true;\r\n\r\n        return false;\r\n    };\r\n\r\n    render() {\r\n        let focalPoint = this.state.focalPoint || this.props.focalPoint;\r\n        return (<Modal\r\n            open={this.props.open}\r\n            onClose={this.props.onClose}\r\n            aria-labelledby=\"simple-modal-title2\"\r\n            aria-describedby=\"simple-modal-description2\"\r\n            className=\"FileManagerModal\"\r\n            disableBackdropClick\r\n        >\r\n            <div className=\"FocalPointRoot\">\r\n                {/*Header*/}\r\n                <div className=\"FileManagerHeader\">\r\n                    <div\r\n                        className=\"PageManagerHeaderContainer\"\r\n                    >\r\n                            <span className=\"PageManagerHeaderTitle\">\r\n                                Image Focal Point\r\n                            </span>\r\n\r\n                        <IconButton\r\n                            onClick={this.props.onClose}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={12}\r\n                                height={12}\r\n                                src={require('../../icons/close.svg')}\r\n                            />\r\n                        </IconButton>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"FocalPointContainer\">\r\n                    <div className=\"FocalPointMargin\">\r\n                        <div\r\n                            className=\"FocalPointClicker\"\r\n                            onClick={this.onChangePoint}\r\n                            // onMouseMove={(e) => {\r\n                                // if (this.isLeftClick(e))\r\n                                //     this.onChangePoint(e);\r\n                            //}}\r\n                            ref={this.clickerRef}\r\n                        >\r\n                            <img\r\n                                className=\"FocalPointImage\"\r\n                                src={this.props.src}\r\n                                draggable={false}\r\n                            />\r\n                            <div\r\n                                className=\"FocalPointPoint\"\r\n                                style={{\r\n                                    top: `${focalPoint.y}%`,\r\n                                    left: `${focalPoint.x}%`\r\n                                }}\r\n                            >\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"FocalPointFooter\">\r\n                        <Button\r\n                            className=\"FocalPointDone\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={() => {\r\n                                this.props.onClose();\r\n                                this.props.onDone(focalPoint)\r\n                            }}\r\n                        >\r\n                            Done\r\n                        </Button>\r\n\r\n                        <Button\r\n                            className=\"FocalPointCancel\"\r\n                            // variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={() => {\r\n                                this.props.onClose();\r\n                            }}\r\n                        >\r\n                            Cancel\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport Background from \"../../Containers/Menus/Components/Background\";\r\nimport Border from \"../../Containers/Menus/Components/Border\";\r\nimport Corners from \"../../Containers/Menus/Components/Corners\";\r\nimport Shadow from \"../../Containers/Menus/Components/Shadow\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\nimport ColorAdjustment from \"../../../Menus/CommonMenus/ColorAdjustment\";\r\n\r\nexport default class ImageDesign extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    getIndex = (stateName) => {\r\n        let index = [];\r\n        index.push(\r\n            {\r\n                key: \"Overlay Color & Opacity\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/layer.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Background Color & Opacity\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/water.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Border\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/border.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Corner\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/corner.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Shadow\",\r\n                icon: <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" className=\"symbol symbol-shadowDesign\">\r\n                    <path fillRule=\"evenodd\"\r\n                          d=\"M11.5 14.5h-8v-2h8c.55 0 1-.45 1-1v-9h2v9c0 1.65-1.35 3-3 3zm-3-4h-7c-1.1 0-2-.9-2-2v-7c0-1.1.9-2 2-2h7c1.1 0 2 .9 2 2v7c0 1.1-.9 2-2 2z\"/>\r\n                </svg>\r\n            });\r\n\r\n        return index;\r\n    };\r\n\r\n    getOptions = (stateName) => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        let options = [];\r\n\r\n        console.log(\"design\", design)\r\n\r\n        options.push({\r\n            key: \"Overlay Color & Opacity\",\r\n            render: <Background\r\n                color={design[stateName].overlayColor}\r\n                designKey={`design.${stateName}.overlayColor`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n\r\n        options.push({\r\n            key: \"Background Color & Opacity\",\r\n            render: <Background\r\n                color={design[stateName].fillColor}\r\n                designKey={`design.${stateName}.fillColor`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Border\",\r\n            render: <Border\r\n                border={design[stateName].border || {}}\r\n                designKey={`design.${stateName}.border`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Corner\",\r\n            render: <Corners\r\n                radius={design[stateName].border.radius || {}}\r\n                designKey={`design.${stateName}.border.radius`}\r\n                onDesignChange={this.props.onDesignChange}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Shadow\",\r\n            render: <Shadow\r\n                shadow={design[stateName].border.shadow || {}}\r\n                designKey={`design.${stateName}.border.shadow`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n\r\n        return options;\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle=\"Image Design\"\r\n                {...this.props}\r\n                item={this.props.item}\r\n                multiState\r\n                states={{\r\n                    normal:{\r\n                        name: \"normal\",\r\n                        render: \"Normal\",\r\n                        toggle: () => {this.props.onStateChange(\"normal\")},\r\n                        options: this.getOptions(\"normal\"),\r\n                        index: this.getIndex(\"normal\")\r\n                    },\r\n                    hover: {\r\n                        name: \"hover\",\r\n                        render: \"Hover\",\r\n                        toggle: () => {this.props.onStateChange(\"hover\")},\r\n                        options: this.getOptions(\"hover\"),\r\n                        index: this.getIndex(\"hover\")\r\n                    }\r\n                }}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../Menus/Menu.css';\r\nimport Divider from \"../../../Menus/CommonComponents/Divider\";\r\nimport DropDown from \"../../../Menus/CommonComponents/DropDown\";\r\n\r\nexport default class ImageBehavior extends React.Component {\r\n    changeAltText = () => {\r\n        this.props.onDesignChange(this.props.designKey + '.altText', this.tempAltText);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">What's in the image? (SEO)</p>\r\n\r\n                    <input\r\n                        defaultValue={this.props.data.altText || \"\"}\r\n                        className=\"NumberInput PageManagerRenameInput PageInfoNameInput\"\r\n                        type=\"text\"\r\n                        onChange={(e) => {this.tempAltText = e.target.value;}}\r\n                        onBlur={this.changeAltText}\r\n                        onKeyPress={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.changeAltText()\r\n                            }\r\n                        }}\r\n                    >\r\n                    </input>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Scroll Behavior</p>\r\n\r\n                    <DropDown\r\n                        rootStyle={{\r\n                            paddingLeft: 4,\r\n                            border: \"1px solid rgb(198, 198, 198)\",\r\n                            height: 36,\r\n                            borderRadius: 4\r\n                        }}\r\n                        menuItemStyle={{\r\n                            padding: 0\r\n                        }}\r\n                        options={[\"None\", \"Parallax\", \"Reveal\"]}\r\n                        onChange={(value) => {\r\n                                this.props.onDesignChange(this.props.designKey + '.scrollType', value);\r\n                        }}\r\n                        value={this.props.data.scrollType || \"None\"}\r\n                        spanStyle={{\r\n                            width: 230,\r\n                            fontSize: 14,\r\n                            border: \"0px solid #cfcfcf\",\r\n                        }}\r\n                        renderer={(value) => {\r\n                            return (\r\n                                <div className=\"TextEditorThemeRendererRoot\">\r\n                                    <span style={{\r\n                                    }}>\r\n                                        {value}\r\n                                    </span>\r\n                                </div>\r\n                            )\r\n                        }}\r\n                        valueRenderer={(value) => {\r\n                            return (\r\n                                <span>\r\n                                    {value}\r\n                                </span>\r\n                            )\r\n                        }}\r\n                    />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\nimport ImageBehavior from \"./ImageBehavior\";\r\n\r\nexport default class ImageBehaviorDesign extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    getIndex = (stateName) => {\r\n        let index = [];\r\n        index.push(\r\n            {\r\n                key: \"Image Appearance\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/text.svg'} />\r\n            });\r\n\r\n        return index;\r\n    };\r\n\r\n    getOptions = (stateName) => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        let options = [];\r\n\r\n        options.push({\r\n            key: \"Image Appearance\",\r\n            render: <ImageBehavior\r\n                data={design.imageBehavior || {}}\r\n                designKey={`design.imageBehavior`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n\r\n        return options;\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle=\"Image Behavior Design\"\r\n                {...this.props}\r\n                item={this.props.item}\r\n                defaultIndexNo={0}\r\n                index={this.getIndex()}\r\n                options={this.getOptions()}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport '../../HelperStyle.css';\r\nimport './Image.css';\r\nimport {\r\n    getCompositeDesignData,\r\n    getFromTempData,\r\n    parseColor,\r\n    resolveDesignData,\r\n    setTempData\r\n} from \"../../AwesomwGridLayoutHelper\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport MenuButton from \"../../Menus/MenuBase/MenuButton\";\r\nimport AnimationDesign from \"../Containers/Menus/AnimationDesign\";\r\nimport CropperModal from \"./CropperModal\";\r\nimport FocalPointModal from \"./FocalPointModal\";\r\nimport ImageDesign from \"./Menus/ImageDesign\";\r\nimport ImageBehaviorDesign from \"./Menus/ImageBehaviorDesign\";\r\nimport LinkedTag from \"../Text/Menus/components/LinkedTag\";\r\n\r\nexport default class Image extends AGLComponent{\r\n    static contextType = EditorContext;\r\n    constructor (props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            hover: false,\r\n            imageLoaded: false,\r\n        };\r\n\r\n        // this.imgRef = React.createRef();\r\n    }\r\n\r\n    setImageNode = (node) => {\r\n        this.imgNode = node;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.checkImageLoad();\r\n    }\r\n\r\n    crop = (callback) => {\r\n        if (this.cropped) {\r\n            callback(false);\r\n            return;\r\n        }\r\n\r\n        this.cropped = true;\r\n\r\n        let cropData = getFromTempData(this, \"cropData\") || {};\r\n        if (!cropData.croppedAreaPixels) {\r\n            callback(false);\r\n            return;\r\n        }\r\n\r\n        var canvas = document.createElement(\"canvas\");\r\n        canvas.width = `${cropData.croppedAreaPixels.width}`;\r\n        canvas.height = `${cropData.croppedAreaPixels.height}`;\r\n        let context = canvas.getContext(\"2d\");\r\n        // let img = this.i mgRef.current;\r\n        let img = this.imgNode;\r\n\r\n        context.drawImage(\r\n            img,\r\n            cropData.croppedAreaPixels.x,\r\n            cropData.croppedAreaPixels.y,\r\n            cropData.croppedAreaPixels.width,\r\n            cropData.croppedAreaPixels.height,\r\n            0, 0,\r\n            cropData.croppedAreaPixels.width,\r\n            cropData.croppedAreaPixels.height,\r\n        );\r\n\r\n        callback(true);\r\n        this.setState({altSrc: canvas.toDataURL()});\r\n    }\r\n\r\n    onImageLoaded = (e) => {\r\n        this.setState({imageLoaded: true})\r\n        this.setState({imageDimension: {\r\n            width: e.target.width,\r\n            height: e.target.height,\r\n        }});\r\n        if (!this.state.imageExactDimension) {\r\n            this.setState({imageExactDimension: {\r\n                width: e.target.naturalWidth,\r\n                height: e.target.naturalHeight,\r\n            }});\r\n        }\r\n\r\n        console.log(\"onImageLoaded !!!\")\r\n        this.crop((cropping) => {\r\n            if (!cropping && !this.context.isEditor()) {\r\n                if (!this.animated) {\r\n                    this.animated = true;\r\n                    this.getAgl().playAnimation(false, true);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    checkImageLoad = () => {\r\n        let interval = setInterval(() => {\r\n            if (this.imgNode) {\r\n                if (this.imgNode.naturalWidth) {\r\n                    clearInterval(interval);\r\n                    this.setState({imageExactDimension: {\r\n                        width: this.imgNode.naturalWidth,\r\n                        height: this.imgNode.naturalHeight,\r\n                    }});\r\n                }\r\n            }\r\n        }, 50);\r\n    }\r\n\r\n    resolveDesignData = () => {\r\n        resolveDesignData(this, \"imageData\", {\r\n            src: \"https://weblancerstaticdata.s3.ir-thr-at1.arvanstorage.com/image-default.webp\",\r\n            fit: \"cover\",\r\n            scrollType: \"none\"\r\n        });\r\n        resolveDesignData(this, \"imageBehavior\", {\r\n            scrollType: \"None\"\r\n        });\r\n        resolveDesignData(this, \"normal\", {border: {shadow: {\r\n                    xOffset: -1,\r\n                    yOffset: 1,\r\n                    distance: 1,\r\n                    size: 0,\r\n                    blur: 4\r\n                }, radius: {}}, imageOpacity: 1});\r\n        resolveDesignData(this, \"hover\", {border: {shadow: {\r\n                    xOffset: -1,\r\n                    yOffset: 1,\r\n                    distance: 1,\r\n                    size: 5,\r\n                    blur: 4\r\n                }, radius: {}}, imageOpacity: 1});\r\n    };\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            bpData: {\r\n                overflowData: {\r\n                    state: \"show\"\r\n                }\r\n            }\r\n        };\r\n    };\r\n\r\n    getPrimaryOptions = () => {\r\n        this.resolveDesignData();\r\n\r\n        let linkData = getFromTempData(this, \"linkData\");\r\n\r\n        return [\r\n            <MenuButton\r\n                key={4}\r\n                icon={<span className=\"MenuButtonLabelSpan\">Change Image</span>}\r\n                select={this.props.select}\r\n                onClick={(e) => {\r\n                    this.context.showFileManager(\r\n                        {\r\n                            type: \"Images\",\r\n                            select: \"single\"\r\n                        },\r\n                        (filesData) => {\r\n                            console.log(\"Image FIle Pick OnDone\", filesData);\r\n                            let fileData = filesData[0];\r\n                            setTempData(\"cropData\", undefined, this.getAgl(), true);\r\n                            this.onDesignChange('design.imageData.focalPoint', {x: 50, y: 50});\r\n                            this.setState({imageLoaded: false, imageExactDimension: undefined, altSrc: undefined});\r\n                            this.onDesignChange('design.imageData.src', fileData.url);\r\n                        }\r\n                    );\r\n                }}\r\n            />,\r\n            <MenuButton\r\n                key={1}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/paint.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Border Design\"\r\n                menu={(e) =>\r\n                    <ImageDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                        onStateChange={this.onStateChange}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={22}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/settingwhite.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Image Behavior\"\r\n                menu={(e) =>\r\n                    <ImageBehaviorDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={2}\r\n                icon={<img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/animation.svg'}/>}\r\n                select={this.props.select}\r\n                title=\"Animation Design\"\r\n                menu={(e) =>\r\n                    <AnimationDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={3}\r\n                icon={<img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/linkwhite.svg'}/>}\r\n                select={this.props.select}\r\n                title=\"Link\"\r\n                onClick={(e) => {\r\n                    this.context.showLinkGenerator(\r\n                        linkData,\r\n                        (linkData) => {\r\n                            console.log(\"Image Link OnDone\", linkData)\r\n                            setTempData(\"linkData\", linkData, this.getAgl(), true);\r\n                        }\r\n                    );\r\n                }}\r\n            />,\r\n            <MenuButton\r\n                key={5}\r\n                icon={<img draggable={false} width={16} height={16}\r\n                           src={require('../../icons/cropwhite.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Crop Image\"\r\n                onClick={(e) => {\r\n                    let imageData = getCompositeDesignData(this).imageData;\r\n                    let cropData = getFromTempData(this, \"cropData\") || {};\r\n                    let totalSize = this.getAgl() ? this.getAgl().getSize() : null;\r\n\r\n                    this.context.showModal(\r\n                        <CropperModal\r\n                            open={true}\r\n                            imageSrc={imageData.src}\r\n                            crop={cropData.crop || {x: 0, y: 0}}\r\n                            zoom={cropData.zoom || 1}\r\n                            aspect={totalSize ? totalSize.width / totalSize.height : 1}\r\n                            onClose={() => {\r\n                                this.context.hideModal();\r\n                            }}\r\n                            onDone={(cropData) => {\r\n                                this.onDesignChange('design.imageData.focalPoint', {x: 50, y: 50});\r\n                                setTempData(\"cropData\", cropData, this.getAgl(), true);\r\n                                this.cropped = false;\r\n\r\n                                if (!this.state.altSrc)\r\n                                    this.crop();\r\n                                else\r\n                                    this.setState({altSrc: undefined});\r\n                            }}\r\n                        />\r\n                    );\r\n                }}\r\n            />,\r\n            <MenuButton\r\n                key={6}\r\n                icon={<img draggable={false} width={16} height={16}\r\n                           src={require('../../icons/focalwhite.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Focal Point\"\r\n                onClick={(e) => {\r\n                    let imageData = getCompositeDesignData(this).imageData;\r\n\r\n                    this.context.showModal(\r\n                        <FocalPointModal\r\n                            open={true}\r\n                            src={this.state.altSrc || imageData.src}\r\n                            focalPoint={imageData.focalPoint || {x: 50, y: 50}}\r\n                            onClose={() => {\r\n                                this.context.hideModal();\r\n                            }}\r\n                            onDone={(focalPoint) => {\r\n                                this.onDesignChange('design.imageData.focalPoint', focalPoint);\r\n                            }}\r\n                        />\r\n                    );\r\n                }}\r\n            />,\r\n            <MenuButton\r\n                key={33}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/savewhite.svg'} /> }\r\n                select={this.props.select}\r\n                title=\"Copy Data\"\r\n                hide={this.context.user.role === \"user\"}\r\n                onClick={(e) => {\r\n                    this.showComponentCode();\r\n                }}\r\n            />\r\n        ]\r\n    };\r\n\r\n    updateDesign = (compositeDesign) => {\r\n    };\r\n\r\n    getStaticChildren = () => {\r\n        let {imageDimension, imageExactDimension, imageLoaded} = this.state;\r\n        this.resolveDesignData();\r\n\r\n        let imageData = getCompositeDesignData(this).imageData;\r\n        let imageBehavior = getCompositeDesignData(this).imageBehavior;\r\n\r\n        let data;\r\n        if (this.state.hover)\r\n            data = getCompositeDesignData(this).hover;\r\n        else\r\n            data = getCompositeDesignData(this).normal;\r\n\r\n        let border = data.border;\r\n        let fillColor = data.fillColor;\r\n        if (fillColor)\r\n            fillColor = parseColor(fillColor, fillColor.alpha, this.context);\r\n\r\n        let overlayColor = data.overlayColor;\r\n        if (overlayColor)\r\n            overlayColor = parseColor(overlayColor, overlayColor.alpha, this.context);\r\n\r\n        border.radius = border.radius || {};\r\n        border.shadow = border.shadow || {};\r\n\r\n        let shadowColor = border.shadow.color;\r\n        if (shadowColor)\r\n            shadowColor = parseColor(shadowColor, shadowColor.alpha, this.context);\r\n        let borderColor = border.color;\r\n        if (borderColor)\r\n            borderColor = parseColor(borderColor, borderColor.alpha, this.context);\r\n\r\n        let imageStyle = {\r\n            objectFit: imageData.fit,\r\n            // objectPosition: `${imageData.objectPosition.x} ${imageData.objectPosition.y}`\r\n        };\r\n\r\n        let totalSize = this.getAgl()? this.getAgl().getSize() : null;\r\n        if (imageExactDimension) {\r\n            if (totalSize.width / totalSize.height > imageExactDimension.width/ imageExactDimension.height) {\r\n                // Vertical\r\n                imageStyle.height = \"auto\";\r\n                imageStyle.width = \"100%\";\r\n            } else {\r\n                console.log(\"imageExactDimension 2\")\r\n                // Horizontal\r\n                imageStyle.height = \"100%\";\r\n                imageStyle.width = \"auto\";\r\n            }\r\n        }\r\n\r\n        if (imageDimension && imageLoaded) {\r\n\r\n            imageDimension.width = this.imgNode.width;\r\n            imageDimension.height = this.imgNode.height;\r\n\r\n            if (imageBehavior) {\r\n                switch (imageBehavior.scrollType.toLowerCase()) {\r\n                    case \"none\":\r\n                        imageStyle.width = \"100%\";\r\n                        imageStyle.height = \"100%\";\r\n                        break;\r\n                    case \"parallax\":\r\n                        if (!(totalSize.width / totalSize.height > imageExactDimension.width / imageExactDimension.height)) {\r\n                            // Horizontal\r\n                            imageDimension.width = imageExactDimension.width / imageExactDimension.height * 2 * totalSize.height;\r\n                            imageDimension.height = 2 * totalSize.height;\r\n                            imageStyle.height = \"200%\";\r\n                        } else {\r\n                            imageStyle.height = \"auto\";\r\n                        }\r\n                        imageStyle.top = `calc(${-imageDimension.height}px * var(--page-scroll) + ${totalSize.height}px * var(--page-scroll))`;\r\n                        break;\r\n                    case \"reveal\":\r\n                        if (!this.context.isEditor()) {\r\n                            if (!(totalSize.width / totalSize.height > imageExactDimension.width / imageExactDimension.height)) {\r\n                                // Horizontal\r\n                                imageDimension.width = imageExactDimension.width / imageExactDimension.height * 2 * totalSize.height;\r\n                                imageDimension.height = 2 * totalSize.height;\r\n                                imageStyle.height = `calc(100vh * var(--vh-ratio))`;\r\n                            } else {\r\n                                imageStyle.height = `calc(100vh * var(--vh-ratio))`;\r\n                                imageStyle.minWidth = totalSize.width;\r\n                            }\r\n                            imageStyle.position = \"fixed\";\r\n                            imageStyle.left = totalSize.left;\r\n                            imageStyle.top = this.context.production ? 0 : 90;\r\n                            imageStyle.width = totalSize.width;\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n\r\n        imageStyle.objectPosition = imageData.focalPoint ?\r\n            `${imageData.focalPoint.x}% ${imageData.focalPoint.y}%` : '50% 50%';\r\n\r\n        let overlayStyle = {\r\n            backgroundColor: overlayColor,\r\n        }\r\n\r\n        let linkData = getFromTempData(this, \"linkData\");\r\n\r\n        return <LinkedTag\r\n            key=\"ImageBorderRoot\"\r\n            onMouseOver={this.onMouseOver}\r\n            onMouseOut={this.onMouseOut}\r\n            className=\"ImageBorderRoot\"\r\n            linkData={linkData}\r\n            style={{\r\n                border:\r\n                    `${border.width || 0}px solid ${borderColor || 'rgba(0,0,0,0)'}`,\r\n                backgroundColor: fillColor,\r\n                borderRadius:\r\n                    `${border.radius.topLeft || 0}px ${border.radius.topRight || 0}px ${border.radius.bottomRight || 0}px ${border.radius.bottomLeft || 0}px`,\r\n                boxShadow: `${(border.shadow.xOffset) * (border.shadow.distance)}px ${(border.shadow.yOffset) * (border.shadow.distance)}px ${border.shadow.blur}px ${border.shadow.size}px ${shadowColor || 'rgba(0,0,0,0)'}`,\r\n            }}\r\n        >\r\n            <div style={{\r\n                position: \"relative\", width: \"100%\", height: \"100%\",\r\n                clipPath: \"inset(0 0 0 0)\",\r\n                overflow: \"hidden\",\r\n                // borderRadius:\r\n                //     `${border.radius.topLeft || 0}px ${border.radius.topRight || 0}px ${border.radius.bottomRight || 0}px ${border.radius.bottomLeft || 0}px`,\r\n            }}>\r\n                <img\r\n                    className=\"ImageImage\"\r\n                    onMouseOver={this.onMouseOver}\r\n                    onMouseOut={this.onMouseOut}\r\n                    src={this.state.altSrc || imageData.src}\r\n                    style={imageStyle}\r\n                    // ref={this.imgRef}\r\n                    ref={(ref) => {this.setImageNode(ref)}}\r\n                    onLoad={this.onImageLoaded}\r\n                    crossOrigin=\"anonymous\"\r\n                    alt={imageBehavior.altText || \"\"}\r\n                />\r\n                <div\r\n                    className=\"ImageOverlay\"\r\n                    style={overlayStyle}\r\n                />\r\n            </div>\r\n        </LinkedTag>\r\n    };\r\n\r\n    onStateChange = (stateName) => {\r\n        if (stateName === \"hover\")\r\n            this.setState({hover:true});\r\n        else\r\n            this.setState({hover:false});\r\n    };\r\n\r\n    onMouseOver = () => {\r\n        console.log(\"onMouseOver\")\r\n        if (this.context.isEditor())\r\n            return;\r\n\r\n        this.setState({hover: true});\r\n    };\r\n\r\n    onMouseOut = () => {\r\n        if (this.context.isEditor())\r\n            return;\r\n\r\n        this.setState({hover: false});\r\n    };\r\n\r\n    onInvalidateSize = () => {\r\n        this.setState({reload: true});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <AGLWrapper\r\n                tagName=\"Image\"\r\n                aglComponent={this}\r\n                {...this.props}\r\n                style={{\r\n                    width: \"150px\",\r\n                    height: \"150px\",\r\n                }}\r\n                data={this.getData()}\r\n                getPrimaryOptions={this.getPrimaryOptions}\r\n                getInspector={this.getInspector}\r\n                getStaticChildren={this.getStaticChildren}\r\n                onInvalidateSize={this.onInvalidateSize}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nImage.defaultProps = {\r\n    tagName: \"Image\"\r\n};\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport Background from \"../../Containers/Menus/Components/Background\";\r\nimport Border from \"../../Containers/Menus/Components/Border\";\r\nimport Corners from \"../../Containers/Menus/Components/Corners\";\r\nimport Shadow from \"../../Containers/Menus/Components/Shadow\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class VideoDesign extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    getIndex = (stateName) => {\r\n        let index = [];\r\n        index.push(\r\n            {\r\n                key: \"Overlay Color & Opacity\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/layer.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Border\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/border.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Corner\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/corner.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Shadow\",\r\n                icon: <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" className=\"symbol symbol-shadowDesign\">\r\n                    <path fillRule=\"evenodd\"\r\n                          d=\"M11.5 14.5h-8v-2h8c.55 0 1-.45 1-1v-9h2v9c0 1.65-1.35 3-3 3zm-3-4h-7c-1.1 0-2-.9-2-2v-7c0-1.1.9-2 2-2h7c1.1 0 2 .9 2 2v7c0 1.1-.9 2-2 2z\"/>\r\n                </svg>\r\n            });\r\n\r\n        return index;\r\n    };\r\n\r\n    getOptions = (stateName) => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        let options = [];\r\n\r\n        console.log(\"design\", design)\r\n\r\n        options.push({\r\n            key: \"Overlay Color & Opacity\",\r\n            render: <Background\r\n                color={design[stateName].overlay}\r\n                designKey={`design.${stateName}.overlay`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Border\",\r\n            render: <Border\r\n                border={design[stateName].border || {}}\r\n                designKey={`design.${stateName}.border`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Corner\",\r\n            render: <Corners\r\n                radius={design[stateName].border.radius || {}}\r\n                designKey={`design.${stateName}.border.radius`}\r\n                onDesignChange={this.props.onDesignChange}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Shadow\",\r\n            render: <Shadow\r\n                shadow={design[stateName].border.shadow || {}}\r\n                designKey={`design.${stateName}.border.shadow`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n\r\n        return options;\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle=\"Video Design\"\r\n                {...this.props}\r\n                item={this.props.item}\r\n                defaultIndexNo={0}\r\n                index={this.getIndex(\"borderData\")}\r\n                options={this.getOptions(\"borderData\")}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../Menus/Menu.css';\r\nimport Divider from \"../../../Menus/CommonComponents/Divider\";\r\nimport DropDown from \"../../../Menus/CommonComponents/DropDown\";\r\n\r\nexport default class VideoSource extends React.Component {\r\n    changeUrl = () => {\r\n        this.props.onDesignChange(this.props.designKey + '.data.embedUrl', this.tempEmbedUrl);\r\n    };\r\n    changeAltText = () => {\r\n        this.props.onDesignChange(this.props.designKey + '.data.altText', this.tempAltText);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Embed URL (from aparat.com)</p>\r\n\r\n                    <input\r\n                        defaultValue={(this.props.data.data && this.props.data.data.embedUrl) || \"\"}\r\n                        className=\"NumberInput PageManagerRenameInput PageInfoNameInput\"\r\n                        type=\"text\"\r\n                        onChange={(e) => {this.tempEmbedUrl = e.target.value;}}\r\n                        onBlur={this.changeUrl}\r\n                        onKeyPress={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.changeUrl()\r\n                            }\r\n                        }}\r\n                    >\r\n                    </input>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">What's this video about? (SEO)</p>\r\n\r\n                    <input\r\n                        defaultValue={(this.props.data.data && this.props.data.data.altText) || \"\"}\r\n                        className=\"NumberInput PageManagerRenameInput PageInfoNameInput\"\r\n                        type=\"text\"\r\n                        onChange={(e) => {this.tempAltText = e.target.value;}}\r\n                        onBlur={this.changeAltText}\r\n                        onKeyPress={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.changeAltText()\r\n                            }\r\n                        }}\r\n                    >\r\n                    </input>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport Background from \"../../Containers/Menus/Components/Background\";\r\nimport Border from \"../../Containers/Menus/Components/Border\";\r\nimport Corners from \"../../Containers/Menus/Components/Corners\";\r\nimport Shadow from \"../../Containers/Menus/Components/Shadow\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\nimport VideoSource from \"./VideoSource\";\r\n\r\nexport default class VideoData extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    getIndex = (stateName) => {\r\n        let index = [];\r\n        index.push(\r\n        {\r\n            key: \"Video Source\",\r\n            icon: <img draggable={false} width={16} height={16}\r\n                       src={process.env.PUBLIC_URL + '/static/icon/text.svg'} />\r\n        });\r\n\r\n        return index;\r\n    };\r\n\r\n    getOptions = (stateName) => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        let options = [];\r\n\r\n        console.log(\"Video Source\", design.videoData)\r\n        options.push({\r\n            key: \"Video Source\",\r\n            render: <VideoSource\r\n                data={design.videoData}\r\n                designKey={`design.videoData`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n\r\n        return options;\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle=\"Video Data\"\r\n                {...this.props}\r\n                item={this.props.item}\r\n                defaultIndexNo={0}\r\n                index={this.getIndex()}\r\n                options={this.getOptions()}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport '../../HelperStyle.css';\r\nimport './Video.css';\r\nimport {\r\n    getCompositeDesignData,\r\n    getFromTempData,\r\n    parseColor,\r\n    resolveDesignData,\r\n} from \"../../AwesomwGridLayoutHelper\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport MenuButton from \"../../Menus/MenuBase/MenuButton\";\r\nimport AnimationDesign from \"../Containers/Menus/AnimationDesign\";\r\nimport {getVideoObject} from \"./VideoHelper\";\r\nimport VideoDesign from \"./Menus/VideoDesign\";\r\nimport {getFontDataByName} from \"../Text/TextHelper\";\r\nimport StaticFonts from \"../Text/Fonts/StaticFonts.json\";\r\nimport VideoData from \"./Menus/VideoData\";\r\n\r\nexport default class Video extends AGLComponent{\r\n    static contextType = EditorContext;\r\n    constructor (props) {\r\n        super(props);\r\n\r\n        this.state = {hover: false};\r\n\r\n        this.rootBorderRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    resolveDesignData = () => {\r\n        resolveDesignData(this, \"videoData\", {\r\n            videoType: \"aparat\",\r\n            data: {\r\n            }\r\n        });\r\n        resolveDesignData(this, \"borderData\", {border: {shadow: {\r\n                    xOffset: -1,\r\n                    yOffset: 1,\r\n                    distance: 1,\r\n                    size: 0,\r\n                    blur: 4\r\n                }, radius: {}}, textColor: \"#000000\"});\r\n    };\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            bpData: {\r\n                overflowData: {\r\n                    state: \"show\"\r\n                }\r\n            }\r\n        };\r\n    };\r\n\r\n    getPrimaryOptions = () => {\r\n        this.resolveDesignData();\r\n\r\n        return [\r\n            <MenuButton\r\n                key={1}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/paint.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Border Design\"\r\n                menu={(e) =>\r\n                    <VideoDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                        onStateChange={this.onStateChange}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={3}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/settingwhite.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Video Data\"\r\n                menu={(e) =>\r\n                    <VideoData\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                        onStateChange={this.onStateChange}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={2}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/animation.svg'} /> }\r\n                select={this.props.select}\r\n                title=\"Animation Design\"\r\n                menu={(e) =>\r\n                    <AnimationDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={33}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/savewhite.svg'} /> }\r\n                select={this.props.select}\r\n                hide={this.context.user.role === \"user\"}\r\n                title=\"Copy Data\"\r\n                onClick={(e) => {\r\n                    this.showComponentCode();\r\n                }}\r\n            />\r\n        ]\r\n    };\r\n\r\n    updateDesign = (compositeDesign) => {\r\n    };\r\n\r\n    getStaticChildren = () => {\r\n        this.resolveDesignData();\r\n\r\n        let borderData = getCompositeDesignData(this).borderData;\r\n        let videoData = getCompositeDesignData(this).videoData;\r\n\r\n        let border = borderData.border;\r\n        let overlay = borderData.overlay;\r\n        if (overlay)\r\n            overlay = parseColor(overlay, overlay.alpha, this.context);\r\n\r\n        border.radius = border.radius || {};\r\n        border.shadow = border.shadow || {};\r\n\r\n        let shadowColor = border.shadow.color;\r\n        if (shadowColor)\r\n            shadowColor = parseColor(shadowColor, shadowColor.alpha, this.context);\r\n        let borderColor = border.color;\r\n        if (borderColor)\r\n            borderColor = parseColor(borderColor, borderColor.alpha, this.context);\r\n\r\n        return <div\r\n            className=\"VideoBorderRoot\"\r\n            ref={this.rootBorderRef}\r\n            style={{\r\n                border:\r\n                    `${border.width || 0}px solid ${borderColor || 'rgba(0,0,0,0)'}`,\r\n                // backgroundColor: fillColor,\r\n                borderRadius:\r\n                    `${border.radius.topLeft || 0}px ${border.radius.topRight || 0}px ${border.radius.bottomRight || 0}px ${border.radius.bottomLeft || 0}px`,\r\n                boxShadow: `${(border.shadow.xOffset) * (border.shadow.distance)}px ${(border.shadow.yOffset) * (border.shadow.distance)}px ${border.shadow.blur}px ${border.shadow.size}px ${shadowColor || 'rgba(0,0,0,0)'}`,\r\n                pointerEvents: this.context.isEditor() ? \"none\" : \"auto\"\r\n            }}\r\n        >\r\n            {getVideoObject(videoData.videoType, videoData.data)}\r\n            <div\r\n                className=\"VideoOverlay\"\r\n                style={{\r\n                    backgroundColor: overlay,\r\n                }}\r\n            />\r\n        </div>\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <AGLWrapper\r\n                tagName=\"Video\"\r\n                aglComponent={this}\r\n                {...this.props}\r\n                style={{\r\n                    width: \"200px\",\r\n                    height: \"150px\",\r\n                }}\r\n                data={this.getData()}\r\n                getPrimaryOptions={this.getPrimaryOptions}\r\n                getInspector={this.getInspector}\r\n                getStaticChildren={this.getStaticChildren}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nVideo.defaultProps = {\r\n    tagName: \"Video\"\r\n};\r\n","import React from \"react\";\r\n\r\nexport function getVideoObject (videoType, data) {\r\n    console.log(\"getVideoObject\", data)\r\n    switch (videoType.toLowerCase()) {\r\n        case \"aparat\":\r\n            return(\r\n                <>\r\n                    <style>\r\n                        {`.h_iframe-aparat_embed_frame{position:relative; width: 100%; height: 100%}.h_iframe-aparat_embed_frame\r\n                        .ratio{display:block;width:100%;height:auto;}.h_iframe-aparat_embed_frame\r\n                        iframe{position:absolute;top:0;left:0;width:100%;height:100%; border: none;}`}\r\n                    </style>\r\n\r\n                    <div className=\"h_iframe-aparat_embed_frame\">\r\n                        <span style={{display: \"block\", paddingTop: \"57%\"}}></span>\r\n                        <iframe src={\r\n                            data.embedUrl? data.embedUrl :\r\n                            \"https://www.aparat.com/video/video/embed/videohash/3bQnk/vt/frame\"\r\n                        }\r\n                                title=\"  36:      \" allowFullScreen={true}\r\n                                webkitallowfullscreen=\"true\" mozallowfullscreen=\"true\"></iframe>\r\n                    </div>\r\n                 </>\r\n            )\r\n    }\r\n\r\n    return null;\r\n}\r\n","import React from \"react\";\r\nimport '../../HelperStyle.css';\r\nimport './HorizontalMenu.css';\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport Grow from '@material-ui/core/Grow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport MenuList from '@material-ui/core/MenuList';\r\n\r\nexport default class FreeDropDownMenu extends React.Component{\r\n    static contextType = EditorContext;\r\n    constructor (props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    render() {\r\n        let {open, anchorEl} =  this.props;\r\n        return (\r\n            <Popper open={open} anchorEl={anchorEl} role={undefined} transition>\r\n                {({ TransitionProps, placement }) => (\r\n                    <Grow\r\n                        {...TransitionProps}\r\n                        style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\r\n                    >\r\n                        <Paper\r\n                            className={this.props.className}\r\n                            style={this.props.style}\r\n                        >\r\n                            <ClickAwayListener onClickAway={this.props.onClose}>\r\n                                <MenuList autoFocusItem={open} id=\"menu-list-grow\"\r\n                                >\r\n                                    {\r\n                                        this.props.children\r\n                                    }\r\n                                </MenuList>\r\n                            </ClickAwayListener>\r\n                        </Paper>\r\n                    </Grow>\r\n                )}\r\n            </Popper>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../HelperStyle.css';\r\nimport './HorizontalMenu.css';\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FreeDropDownMenu from \"./FreeDropDownMenu\";\r\nimport LinkedTag from \"../Text/Menus/components/LinkedTag\";\r\n\r\nexport default class HorizontalMenuItem extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            state: \"normal\",\r\n            dropDown: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    onMouseOver = (e) => {\r\n        if (this.context.isEditor())\r\n            return;\r\n\r\n        let dropDownState = {};\r\n        if (this.props.dropDownOnHover) dropDownState.dropDown = true;\r\n\r\n        this.setState({state: \"hover\", ...dropDownState, dropDownAnchor: e.currentTarget});\r\n    };\r\n\r\n    onMouseLeave = (e) => {\r\n        if (this.context.isEditor())\r\n            return;\r\n\r\n        let dropDownState = {};\r\n        if (this.props.dropDownOnHover) dropDownState.dropDown = false;\r\n\r\n        this.setState({state: \"normal\", ...dropDownState});\r\n    };\r\n\r\n    onClick = (e) => {\r\n        let {menuItem} = this.props;\r\n\r\n        if (!this.props.dropDownOnHover) {\r\n            this.setState({dropDown: !this.state.dropDown, dropDownAnchor: e.currentTarget})\r\n        }\r\n    }\r\n\r\n    onDropDownClose = () => {\r\n        if (!this.props.dropDownOnHover) {\r\n            this.setState({dropDown: false})\r\n        }\r\n    }\r\n\r\n    getMenuItemStyle = () => {\r\n        let {menuItem} = this.props;\r\n        let state = this.props.state || this.state.state;\r\n\r\n        console.log(\"getMenuItemStyle\", this.context.pageData.props,menuItem.linkData )\r\n        if (!this.props.state &&\r\n            menuItem.linkData && menuItem.linkData.type === \"Page\" &&\r\n            menuItem.linkData.data.pageId === this.context.pageData.props.pageId\r\n        ) {\r\n            state = \"select\";\r\n        }\r\n\r\n        return this.props.getMenuItemStyle(state);\r\n    }\r\n\r\n    render() {\r\n        let {menuItem} = this.props;\r\n        let state = this.props.state || this.state.state;\r\n        return (\r\n            <MenuItem\r\n                onClick={this.onClick}\r\n                onMouseOver={this.onMouseOver}\r\n                onMouseLeave={this.onMouseLeave}\r\n                {...{id: this.props.moreId || undefined}}\r\n                className={this.props.className}\r\n                style={this.getMenuItemStyle()}\r\n            >\r\n                <LinkedTag\r\n                    linkData={menuItem.linkData}\r\n                    style={{\r\n                        width: \"unset\",\r\n                        height: \"unset\"\r\n                    }}\r\n                >\r\n                    {menuItem.name}\r\n                </LinkedTag>\r\n                {\r\n                    menuItem.menuItems && menuItem.menuItems.length > 0 && this.state.dropDown &&\r\n                    <FreeDropDownMenu\r\n                        className={this.props.dropDownClassName}\r\n                        style={this.props.dropDownStyle}\r\n                        open={true}\r\n                        anchorEl={this.state.dropDownAnchor}\r\n                        onClose={this.onDropDownClose}\r\n                    >\r\n                        {\r\n                            menuItem.menuItems.map(mi => {\r\n                                return (\r\n                                    <HorizontalMenuItem\r\n                                        key={mi.id}\r\n                                        className={this.props.dropDownItemClassName}\r\n                                        dropDownClassName={this.props.dropDownClassName}\r\n                                        dropDownStyle={this.props.dropDownStyle}\r\n                                        getMenuItemStyle={this.props.getDropDownItemStyle}\r\n                                        dropDownItemClassName={this.props.dropDownItemClassName}\r\n                                        getDropDownItemStyle={this.props.getDropDownItemStyle}\r\n                                        state={this.props.state}\r\n                                        menuItem={mi}\r\n                                        dropDownOnHover={this.props.dropDownOnHover}\r\n                                    />\r\n                                )\r\n                            })\r\n                        }\r\n                    </FreeDropDownMenu>\r\n                }\r\n            </MenuItem>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../HelperStyle.css';\r\nimport './HorizontalMenu.css';\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport {getMenuById} from \"../../MenuManager/MenuManager\";\r\n\r\nexport default class SelectMenu extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    render() {\r\n        let {siteData} = this.context;\r\n        let {menus} = siteData;\r\n        return <Modal\r\n            open={this.props.open}\r\n            onClose={this.props.onClose}\r\n            aria-labelledby=\"simple-modal-title2\"\r\n            aria-describedby=\"simple-modal-description2\"\r\n            className=\"FileManagerModal\"\r\n            disableBackdropClick\r\n            disableEnforceFocus\r\n        >\r\n            <div className=\"CreateMenuRoot\">\r\n                {/*Header*/}\r\n                <div className=\"FileManagerHeader\">\r\n                    <div\r\n                        className=\"PageManagerHeaderContainer\"\r\n                    >\r\n                            <span className=\"PageManagerHeaderTitle\">\r\n                                {this.props.title || \"Select Menu\"}\r\n                            </span>\r\n\r\n                        <IconButton\r\n                            onClick={this.props.onClose}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={12}\r\n                                height={12}\r\n                                src={require('../../icons/close.svg')}\r\n                            />\r\n                        </IconButton>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"CreateMenuContainer\">\r\n                    <span className=\"CreateMenuTitle\">\r\n                        {this.props.label || \"Which menu do you want to show?\"}\r\n                    </span>\r\n\r\n                    <DropDown\r\n                        rootStyle={{\r\n                            paddingLeft: 4,\r\n                            border: \"1px solid rgb(198, 198, 198)\",\r\n                            height: 36,\r\n                            borderRadius: 4,\r\n                            marginTop: 8\r\n                        }}\r\n                        menuItemStyle={{\r\n                            padding: 0\r\n                        }}\r\n                        options={menus}\r\n                        onChange={(menuData) => {\r\n                            this.setState({menuId: menuData.id});\r\n                        }}\r\n                        value={getMenuById(siteData,this.state.menuId || this.props.menuId || \"default\")}\r\n                        spanStyle={{\r\n                            width: 230,\r\n                            fontSize: 14,\r\n                            border: \"0px solid #cfcfcf\",\r\n                        }}\r\n                        renderer={(menuData) => {\r\n                            return (\r\n                                <div className=\"TextEditorThemeRendererRoot\">\r\n                                    <span>\r\n                                        {menuData.name}\r\n                                    </span>\r\n                                </div>\r\n                            )\r\n                        }}\r\n                        valueRenderer={(menuData) => {\r\n                            return (\r\n                                <span>\r\n                                    {menuData.name}\r\n                                </span>\r\n                            )\r\n                        }}\r\n                    />\r\n\r\n                    <div>\r\n                        <Button\r\n                            className=\"CreateMenuCreate\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={() => {\r\n                                this.props.onClose();\r\n                                this.props.onDone(this.state.menuId || \"default\")\r\n                            }}\r\n                        >\r\n                            {this.props.confirmLabel || \"Confirm\"}\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport Background from \"../../Containers/Menus/Components/Background\";\r\nimport Border from \"../../Containers/Menus/Components/Border\";\r\nimport Corners from \"../../Containers/Menus/Components/Corners\";\r\nimport Shadow from \"../../Containers/Menus/Components/Shadow\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\nimport ColorAdjustment from \"../../../Menus/CommonMenus/ColorAdjustment\";\r\n\r\nexport default class MenuItemDesign extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    getIndex = (stateName) => {\r\n        let index = [];\r\n        index.push(\r\n            {\r\n                key: \"Fill Color & Opacity\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/water.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Border\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/border.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Corner\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/corner.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Text Appearance\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/text.svg'} />\r\n            });\r\n\r\n        return index;\r\n    };\r\n\r\n    getOptions = (stateName) => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        let options = [];\r\n\r\n        options.push({\r\n            key: \"Fill Color & Opacity\",\r\n            render: <Background\r\n                color={design[stateName].fillColor}\r\n                designKey={`design.${stateName}.fillColor`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Border\",\r\n            render: <Border\r\n                border={design[stateName].border || {}}\r\n                designKey={`design.${stateName}.border`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Corner\",\r\n            render: <Corners\r\n                radius={design[stateName].border.radius || {}}\r\n                designKey={`design.${stateName}.border.radius`}\r\n                onDesignChange={this.props.onDesignChange}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Text Appearance\",\r\n            render: <ColorAdjustment\r\n                title={\"Text Color\"}\r\n                color={design[stateName].textColor}\r\n                designKey={`design.${stateName}.textColor`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n\r\n        return options;\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle=\"Menu Item Design\"\r\n                {...this.props}\r\n                item={this.props.item}\r\n                multiState\r\n                states={{\r\n                    normal:{\r\n                        name: \"normal\",\r\n                        render: \"Normal\",\r\n                        toggle: () => {this.props.onStateChange(\"normal\")},\r\n                        options: this.getOptions(\"normal\"),\r\n                        index: this.getIndex(\"normal\")\r\n                    },\r\n                    hover: {\r\n                        name: \"hover\",\r\n                        render: \"Hover\",\r\n                        toggle: () => {this.props.onStateChange(\"hover\")},\r\n                        options: this.getOptions(\"hover\"),\r\n                        index: this.getIndex(\"hover\")\r\n                    },\r\n                    select: {\r\n                        name: \"select\",\r\n                        render: \"Select\",\r\n                        toggle: () => {this.props.onStateChange(\"select\")},\r\n                        options: this.getOptions(\"select\"),\r\n                        index: this.getIndex(\"select\")\r\n                    }\r\n                }}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../Menus/Menu.css';\r\nimport Divider from \"../../../Menus/CommonComponents/Divider\";\r\nimport StaticFonts from \"../../Text/Fonts/StaticFonts.json\";\r\nimport {getFontDataByFamily, getFontDataByName} from \"../../Text/TextHelper\";\r\nimport DropDown from \"../../../Menus/CommonComponents/DropDown\";\r\nimport FontSizeSelector2 from \"../../Button/Menus/FontSizeSelector2\";\r\n\r\nexport default class MenuItemTextAppearance extends React.Component {\r\n    changeText = () => {\r\n        this.props.onDesignChange(this.props.designKey + '.text', this.tempText);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Font</p>\r\n\r\n                    <DropDown\r\n                        rootStyle={{\r\n                            paddingLeft: 4,\r\n                            border: \"1px solid rgb(198, 198, 198)\",\r\n                            height: 36,\r\n                            borderRadius: 4\r\n                        }}\r\n                        menuItemStyle={{\r\n                            padding: 0\r\n                        }}\r\n                        options={Object.values(StaticFonts)}\r\n                        onChange={(fontData) => {\r\n                                this.props.onDesignChange(this.props.designKey + '.fontFamily', fontData.fontFamily);\r\n                        }}\r\n                        value={this.props.data.fontFamily? getFontDataByFamily(StaticFonts, this.props.data.fontFamily):\r\n                            getFontDataByName(StaticFonts, 'Yekan')}\r\n                        spanStyle={{\r\n                            width: 230,\r\n                            fontSize: 14,\r\n                            border: \"0px solid #cfcfcf\",\r\n                        }}\r\n                        renderer={(fontData) => {\r\n                            let isRtlStyle = fontData.isRtl ? {justifyContent: \"flex-end\"}: {}\r\n                            return (\r\n                                <div className=\"TextEditorThemeRendererRoot\" style={isRtlStyle} >\r\n                                            <span style={{\r\n                                                fontFamily: fontData.fontFamily\r\n                                            }}>\r\n                                                {fontData.display}\r\n                                            </span>\r\n                                </div>\r\n                            )\r\n                        }}\r\n                        valueRenderer={(fontData) => {\r\n                            return (\r\n                                <span style={{\r\n                                    fontFamily: fontData.fontFamily\r\n                                }}>\r\n                                            {fontData.display}\r\n                                        </span>\r\n                            )\r\n                        }}\r\n                    />\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Font size</p>\r\n                    <FontSizeSelector2\r\n                        ref={this.fontSizeSelectorRef}\r\n                        style={{\r\n                            paddingLeft: 4,\r\n                            border: \"1px solid rgb(198, 198, 198)\",\r\n                            height: 36,\r\n                            borderRadius: 4\r\n                        }}\r\n                        fontSize={this.props.data.fontSize || \"14\"}\r\n                        onChange={(value) => {\r\n                            this.props.onDesignChange(this.props.designKey + '.fontSize', value);\r\n                        }}\r\n                    />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport Background from \"../../Containers/Menus/Components/Background\";\r\nimport Border from \"../../Containers/Menus/Components/Border\";\r\nimport Corners from \"../../Containers/Menus/Components/Corners\";\r\nimport Shadow from \"../../Containers/Menus/Components/Shadow\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\nimport ColorAdjustment from \"../../../Menus/CommonMenus/ColorAdjustment\";\r\nimport ButtonTextAppearance from \"../../Button/Menus/ButtonTextAppearance\";\r\nimport ButtonTextLayout from \"../../Button/Menus/ButtonTextLayout\";\r\nimport MenuItemTextAppearance from \"./MenuItemTextAppearance\";\r\n\r\nexport default class MenuItemTextDesign extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n\r\n\r\n    getIndex = (stateName) => {\r\n        let index = [];\r\n        index.push(\r\n            {\r\n                key: \"Text Appearance\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/text.svg'} />\r\n            });\r\n\r\n        return index;\r\n    };\r\n\r\n    getOptions = (stateName) => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        let options = [];\r\n\r\n        options.push({\r\n            key: \"Text Appearance\",\r\n            render: <MenuItemTextAppearance\r\n                data={design.spanData || {}}\r\n                designKey={`design.spanData`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n\r\n        return options;\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle=\"Text Design\"\r\n                {...this.props}\r\n                item={this.props.item}\r\n                defaultIndexNo={0}\r\n                index={this.getIndex()}\r\n                options={this.getOptions()}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../Menus/Menu.css';\r\nimport Divider from \"../../../Menus/CommonComponents/Divider\";\r\nimport StaticFonts from \"../../Text/Fonts/StaticFonts.json\";\r\nimport {getFontDataByFamily, getFontDataByName} from \"../../Text/TextHelper\";\r\nimport DropDown from \"../../../Menus/CommonComponents/DropDown\";\r\nimport FontSizeSelector2 from \"../../Button/Menus/FontSizeSelector2\";\r\nimport IconButton from \"../../../HelperComponents/IconButton\";\r\nimport Switch from \"@material-ui/core/Switch/Switch\";\r\n\r\nexport default class MenuLayoutAppearance extends React.Component {\r\n    changeMoreText = () => {\r\n        this.props.onDesignChange(this.props.designKey + '.moreText', this.tempMoreText);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Text alignment</p>\r\n\r\n                    <div className=\"ButtonTextLayoutAlignRoot\">\r\n                        <IconButton\r\n                            buttonBaseStyle={{\r\n                                marginRight: 4,\r\n                                marginLeft: 4,\r\n                            }}\r\n                            imageContainerStyle={{\r\n                                padding: 6\r\n                            }}\r\n                            onClick={(e) => {\r\n                                this.props.onDesignChange(this.props.designKey + '.textAlign', \"flex-start\");\r\n                            }}\r\n                            className=\"InspectorAlignsButtons\"\r\n                            selected={this.props.data.textAlign === \"flex-start\"}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={16}\r\n                                height={16}\r\n                                src={require('../../../icons/align-left.svg')}\r\n                            />\r\n                        </IconButton>\r\n                        <IconButton\r\n                            buttonBaseStyle={{\r\n                                marginRight: 4,\r\n                                marginLeft: 4,\r\n                            }}\r\n                            imageContainerStyle={{\r\n                                padding: 6\r\n                            }}\r\n                            onClick={(e) => {\r\n                                this.props.onDesignChange(this.props.designKey + '.textAlign', \"center\");\r\n                            }}\r\n                            className=\"InspectorAlignsButtons\"\r\n                            selected={this.props.data.textAlign === \"center\" || !this.props.data.textAlign}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={16}\r\n                                height={16}\r\n                                src={require('../../../icons/align-center.svg')}\r\n                            />\r\n                        </IconButton>\r\n                        <IconButton\r\n                            buttonBaseStyle={{\r\n                                marginRight: 4,\r\n                                marginLeft: 4,\r\n                            }}\r\n                            imageContainerStyle={{\r\n                                padding: 6\r\n                            }}\r\n                            onClick={(e) => {\r\n                                this.props.onDesignChange(this.props.designKey + '.textAlign', \"flex-end\");\r\n                            }}\r\n                            className=\"InspectorAlignsButtons\"\r\n                            selected={this.props.data.textAlign === \"flex-end\"}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={16}\r\n                                height={16}\r\n                                src={require('../../../icons/align-right.svg')}\r\n                            />\r\n                        </IconButton>\r\n                    </div>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <div style={{display: \"flex\", alignItems: \"center\"}}>\r\n                        <p\r\n                            className=\"MenuOptionSectionTitle\"\r\n                            style={{marginBottom: 4}}\r\n                        >\r\n                            Items has same size?\r\n                        </p>\r\n                        <Switch\r\n                            className=\"InspectorOverflowDirSwitch\"\r\n                            checked={this.props.data.sameSize}\r\n                            onChange={(e) => {\r\n                                this.props.onDesignChange(`${this.props.designKey}.sameSize`, e.target.checked);\r\n                            }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <div style={{display: \"flex\", alignItems: \"center\"}}>\r\n                        <p\r\n                            className=\"MenuOptionSectionTitle\"\r\n                            style={{marginBottom: 4}}\r\n                        >\r\n                            Items fill whole menu width?\r\n                        </p>\r\n                        <Switch\r\n                            className=\"InspectorOverflowDirSwitch\"\r\n                            checked={this.props.data.fillNav}\r\n                            onChange={(e) => {\r\n                                this.props.onDesignChange(`${this.props.designKey}.fillNav`, e.target.checked);\r\n                            }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                {\r\n                    !this.props.data.fillNav &&\r\n                    <>\r\n                        <div className=\"MenuOptionSection\">\r\n                            <p className=\"MenuOptionSectionTitle\">How are items aligned?</p>\r\n\r\n                            <div className=\"ButtonTextLayoutAlignRoot\">\r\n                                <IconButton\r\n                                    buttonBaseStyle={{\r\n                                        marginRight: 4,\r\n                                        marginLeft: 4,\r\n                                    }}\r\n                                    imageContainerStyle={{\r\n                                        padding: 6\r\n                                    }}\r\n                                    onClick={(e) => {\r\n                                        this.props.onDesignChange(this.props.designKey + '.justifyContent', \"flex-start\");\r\n                                    }}\r\n                                    className=\"InspectorAlignsButtons\"\r\n                                    selected={this.props.data.justifyContent === \"flex-start\"}\r\n                                >\r\n                                    <img\r\n                                        draggable={false}\r\n                                        width={16}\r\n                                        height={16}\r\n                                        src={require('../../../icons/align-left.svg')}\r\n                                    />\r\n                                </IconButton>\r\n                                <IconButton\r\n                                    buttonBaseStyle={{\r\n                                        marginRight: 4,\r\n                                        marginLeft: 4,\r\n                                    }}\r\n                                    imageContainerStyle={{\r\n                                        padding: 6\r\n                                    }}\r\n                                    onClick={(e) => {\r\n                                        this.props.onDesignChange(this.props.designKey + '.justifyContent', \"center\");\r\n                                    }}\r\n                                    className=\"InspectorAlignsButtons\"\r\n                                    selected={this.props.data.justifyContent === \"center\" || !this.props.data.justifyContent}\r\n                                >\r\n                                    <img\r\n                                        draggable={false}\r\n                                        width={16}\r\n                                        height={16}\r\n                                        src={require('../../../icons/align-center.svg')}\r\n                                    />\r\n                                </IconButton>\r\n                                <IconButton\r\n                                    buttonBaseStyle={{\r\n                                        marginRight: 4,\r\n                                        marginLeft: 4,\r\n                                    }}\r\n                                    imageContainerStyle={{\r\n                                        padding: 6\r\n                                    }}\r\n                                    onClick={(e) => {\r\n                                        this.props.onDesignChange(this.props.designKey + '.justifyContent', \"flex-end\");\r\n                                    }}\r\n                                    className=\"InspectorAlignsButtons\"\r\n                                    selected={this.props.data.justifyContent === \"flex-end\"}\r\n                                >\r\n                                    <img\r\n                                        draggable={false}\r\n                                        width={16}\r\n                                        height={16}\r\n                                        src={require('../../../icons/align-right.svg')}\r\n                                    />\r\n                                </IconButton>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <Divider/>\r\n                    </>\r\n                }\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <div style={{display: \"flex\", alignItems: \"center\"}}>\r\n                        <p\r\n                            className=\"MenuOptionSectionTitle\"\r\n                            style={{marginBottom: 4}}\r\n                        >\r\n                            Display items reversed? (Right to left)\r\n                        </p>\r\n                        <Switch\r\n                            className=\"InspectorOverflowDirSwitch\"\r\n                            checked={this.props.data.rtl}\r\n                            onChange={(e) => {\r\n                                this.props.onDesignChange(`${this.props.designKey}.rtl`, e.target.checked);\r\n                            }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\"\r\n                    style={{\r\n                        marginBottom: 12\r\n                    }}\r\n                >\r\n                    <p className=\"MenuOptionSectionTitle\">Text for hide items menu</p>\r\n\r\n                    <input\r\n                        defaultValue={this.props.data.moreText || \"\"}\r\n                        className=\"NumberInput PageManagerRenameInput PageInfoNameInput\"\r\n                        type=\"text\"\r\n                        onChange={(e) => {this.tempMoreText = e.target.value;}}\r\n                        onBlur={this.changeMoreText}\r\n                        onKeyPress={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.changeMoreText()\r\n                            }\r\n                        }}\r\n                    >\r\n                    </input>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport Background from \"../../Containers/Menus/Components/Background\";\r\nimport Border from \"../../Containers/Menus/Components/Border\";\r\nimport Corners from \"../../Containers/Menus/Components/Corners\";\r\nimport Shadow from \"../../Containers/Menus/Components/Shadow\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\nimport ColorAdjustment from \"../../../Menus/CommonMenus/ColorAdjustment\";\r\nimport ButtonTextAppearance from \"../../Button/Menus/ButtonTextAppearance\";\r\nimport ButtonTextLayout from \"../../Button/Menus/ButtonTextLayout\";\r\nimport MenuItemTextAppearance from \"./MenuItemTextAppearance\";\r\nimport MenuLayoutAppearance from \"./MenuLayoutAppearance\";\r\n\r\nexport default class MenuLayoutDesign extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n\r\n\r\n    getIndex = (stateName) => {\r\n        let index = [];\r\n        index.push(\r\n            {\r\n                key: \"Layout Appearance\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/layout.svg'} />\r\n            });\r\n\r\n        return index;\r\n    };\r\n\r\n    getOptions = (stateName) => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        let options = [];\r\n\r\n        options.push({\r\n            key: \"Layout Appearance\",\r\n            render: <MenuLayoutAppearance\r\n                data={design.menuData || {}}\r\n                designKey={`design.menuData`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n\r\n        return options;\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle=\"Menu Layout Design\"\r\n                {...this.props}\r\n                item={this.props.item}\r\n                defaultIndexNo={0}\r\n                index={this.getIndex()}\r\n                options={this.getOptions()}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport Background from \"../../Containers/Menus/Components/Background\";\r\nimport Border from \"../../Containers/Menus/Components/Border\";\r\nimport Corners from \"../../Containers/Menus/Components/Corners\";\r\nimport Shadow from \"../../Containers/Menus/Components/Shadow\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\nimport ColorAdjustment from \"../../../Menus/CommonMenus/ColorAdjustment\";\r\n\r\nexport default class MenuDropDownDesign extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    getIndex = (stateName) => {\r\n        let index = [];\r\n        index.push(\r\n            {\r\n                key: \"Fill Color & Opacity\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/water.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Border\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/border.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Corner\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/corner.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Shadow\",\r\n                icon: <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" className=\"symbol symbol-shadowDesign\">\r\n                    <path fillRule=\"evenodd\"\r\n                          d=\"M11.5 14.5h-8v-2h8c.55 0 1-.45 1-1v-9h2v9c0 1.65-1.35 3-3 3zm-3-4h-7c-1.1 0-2-.9-2-2v-7c0-1.1.9-2 2-2h7c1.1 0 2 .9 2 2v7c0 1.1-.9 2-2 2z\"/>\r\n                </svg>\r\n            });\r\n\r\n        return index;\r\n    };\r\n\r\n    getOptions = (stateName) => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        let options = [];\r\n\r\n        if (!design.dropDown) design.dropDown = {};\r\n\r\n        options.push({\r\n            key: \"Fill Color & Opacity\",\r\n            render: <Background\r\n                color={design.dropDown.fillColor}\r\n                designKey={`design.dropDown.fillColor`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Border\",\r\n            render: <Border\r\n                border={design.dropDown.border || {}}\r\n                designKey={`design.dropDown.border`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Corner\",\r\n            render: <Corners\r\n                radius={design.dropDown.border.radius || {}}\r\n                designKey={`design.dropDown.border.radius`}\r\n                onDesignChange={this.props.onDesignChange}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Shadow\",\r\n            render: <Shadow\r\n                shadow={design.dropDown.border.shadow || {}}\r\n                designKey={`design.dropDown.border.shadow`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n\r\n        return options;\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle=\"Menu Dropdown Design\"\r\n                {...this.props}\r\n                item={this.props.item}\r\n                defaultIndexNo={0}\r\n                index={this.getIndex()}\r\n                options={this.getOptions()}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport '../../HelperStyle.css';\r\nimport './HorizontalMenu.css';\r\nimport {\r\n    getCompositeDesignData,\r\n    parseColor,\r\n    resolveDesignData,\r\n} from \"../../AwesomwGridLayoutHelper\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport MenuButton from \"../../Menus/MenuBase/MenuButton\";\r\nimport {getFontDataByName, getRandomLinkId} from \"../Text/TextHelper\";\r\nimport throttle from \"lodash.throttle\";\r\nimport {cloneObject} from \"../../AwesomeGridLayoutUtils\";\r\nimport HorizontalMenuItem from \"./HorizontalMenuItem\";\r\nimport {debounce} from \"@material-ui/core\";\r\nimport SelectMenu from \"./SelectMenu\";\r\nimport StaticFonts from \"../Text/Fonts/StaticFonts.json\";\r\nimport MenuItemDesign from \"./Menus/MenuItemDesign\";\r\nimport MenuItemTextDesign from \"./Menus/MenuItemTextDesign\";\r\nimport MenuLayoutDesign from \"./Menus/MenuLayoutDesign\";\r\nimport MenuDropDownDesign from \"./Menus/MenuDropDownDesign\";\r\n\r\nexport default class HorizontalMenu extends AGLComponent{\r\n    static contextType = EditorContext;\r\n    constructor (props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            itemInMore: 0\r\n        };\r\n\r\n        this.rootBorderRef = React.createRef();\r\n        this.ulId = getRandomLinkId(6);\r\n        this.navId = getRandomLinkId(6);\r\n        this.moreId = getRandomLinkId(6);\r\n\r\n        console.log(\"HorizontalMenu constructor\");\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fitMenuItems();\r\n    }\r\n\r\n    resolveDesignData = () => {\r\n        resolveDesignData(this, \"menuData\", {\r\n            menuId: \"default\",\r\n            fillNav: true,\r\n            sameSize: true,\r\n            textAlign: \"center\",\r\n            justifyContent: \"center\",\r\n            rtl: false,\r\n            moreText: \"More\"\r\n        });\r\n        resolveDesignData(this, \"paintData\", {border: {shadow: {\r\n                    xOffset: -1,\r\n                    yOffset: 1,\r\n                    distance: 1,\r\n                    size: 0,\r\n                    blur: 4\r\n                }, radius: {}}, textColor: \"#000000\"});\r\n        resolveDesignData(this, \"dropDown\", {border: {shadow: {\r\n                    xOffset: -1,\r\n                    yOffset: 1,\r\n                    distance: 1,\r\n                    size: 0,\r\n                    blur: 4\r\n                }, radius: {}}});\r\n        resolveDesignData(this, \"normal\", {border: {shadow: {\r\n                    xOffset: -1,\r\n                    yOffset: 1,\r\n                    distance: 1,\r\n                    size: 0,\r\n                    blur: 4\r\n                }, radius: {}}, textColor: \"#000000\"});\r\n        resolveDesignData(this, \"hover\", {border: {shadow: {\r\n                    xOffset: -1,\r\n                    yOffset: 1,\r\n                    distance: 1,\r\n                    size: 5,\r\n                    blur: 4\r\n                }, radius: {}}, textColor: \"#000000\"});\r\n        resolveDesignData(this, \"select\", {border: {shadow: {\r\n                    xOffset: -1,\r\n                    yOffset: 1,\r\n                    distance: 1,\r\n                    size: 5,\r\n                    blur: 4\r\n                }, radius: {}}, textColor: \"#000000\"});\r\n    };\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            bpData: {\r\n                overflowData: {\r\n                    state: \"show\"\r\n                }\r\n            }\r\n        };\r\n    };\r\n\r\n    getPrimaryOptions = () => {\r\n        this.resolveDesignData();\r\n\r\n        return [\r\n            <MenuButton\r\n                key={2}\r\n                icon={<span className=\"MenuButtonLabelSpan\">Change Menu</span>}\r\n                onClick={(e) => {\r\n                    let menuData = getCompositeDesignData(this).menuData;\r\n                    this.context.showModal(<\r\n                            SelectMenu\r\n                            open={true}\r\n                            onClose={() => {this.context.hideModal()}}\r\n                            onDone={(menuId) => {\r\n                                this.onDesignChange(\"design.menuData.menuId\", menuId);\r\n                            }}\r\n                            menuId={menuData.menuId}\r\n                        />\r\n                    );\r\n                }}\r\n            />,\r\n            <MenuButton\r\n                key={1111}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/dropdownwhite.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Drop Down Design\"\r\n                menu={(e) =>\r\n                    <MenuDropDownDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                        onStateChange={this.onStateChange}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={12}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/layoutwhite.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Layout Design\"\r\n                menu={(e) =>\r\n                    <MenuLayoutDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                        onStateChange={this.onStateChange}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={0}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/textwhite.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Text Design\"\r\n                menu={(e) =>\r\n                    <MenuItemTextDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                        onStateChange={this.onStateChange}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={1}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/paint.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Buttons Design\"\r\n                menu={(e) =>\r\n                    <MenuItemDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                        onStateChange={this.onStateChange}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={33}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/savewhite.svg'} /> }\r\n                select={this.props.select}\r\n                hide={this.context.user.role === \"user\"}\r\n                title=\"Copy Data\"\r\n                onClick={(e) => {\r\n                    this.showComponentCode();\r\n                }}\r\n            />\r\n        ]\r\n    };\r\n\r\n    updateDesign = (compositeDesign) => {\r\n        this.fitMenuItems();\r\n    };\r\n\r\n    getMenu = () => {\r\n        let {menuId} = getCompositeDesignData(this).menuData;\r\n        return this.context.siteData.menus.find(m => m.id === menuId);\r\n    }\r\n\r\n    onInvalidateSize = throttle((runtimeStyle, force) => {\r\n        if (!this.getAgl())\r\n            return;\r\n\r\n        let compRect = runtimeStyle? runtimeStyle: this.getAgl().getSize();\r\n        if (force ||!this.lastSize || compRect.width !== this.lastSize.width)\r\n            this.fitMenuItems(runtimeStyle);\r\n    }, 100);\r\n\r\n    showItems = debounce((size) => {\r\n        let ulNode = document.getElementById(this.ulId);\r\n        if (!ulNode)\r\n            return;\r\n\r\n        ulNode.style.visibility = \"visible\";\r\n        // this.setState({ulVisibility: \"visible\"});\r\n\r\n        console.log(\"showItems\")\r\n        if (!this.fitting)\r\n            this.lastSize = size;\r\n    }, 200);\r\n\r\n    fitMenuItems = (runtimeStyle, itemAddedInMore) => {\r\n        let menu = this.getMenu();\r\n        let menuData = getCompositeDesignData(this).menuData;\r\n\r\n        let ulNode = document.getElementById(this.ulId);\r\n        let navNode = document.getElementById(this.navId);\r\n\r\n        if (!navNode || !this.getAgl() || !ulNode)\r\n            return;\r\n\r\n        this.fitting = true;\r\n\r\n        navNode.style[\"justify-content\"] = \"flex-start\";\r\n        ulNode.style.visibility = \"hidden\";\r\n        // this.setState({ulVisibility: \"hidden\"});\r\n\r\n        let maxLiNodeWidth = 0;\r\n        ulNode.childNodes.forEach(liNode => {\r\n            liNode.style[\"flex-grow\"] = \"unset\";\r\n            liNode.style[\"width\"] = \"auto\";\r\n            let w = liNode.getBoundingClientRect().width;\r\n            if (maxLiNodeWidth < w)\r\n                maxLiNodeWidth = w;\r\n        });\r\n\r\n        let ulRect = ulNode.getBoundingClientRect();\r\n        let compRect = runtimeStyle? runtimeStyle: this.getAgl().getSize();\r\n\r\n        let compareWidth = menuData.sameSize ? maxLiNodeWidth * ulNode.childNodes.length : ulRect.width;\r\n        if (compareWidth > compRect.width) {\r\n            if (this.state.itemInMore === menu.menuItems.length) {\r\n                this.fitting = false;\r\n                return;\r\n            }\r\n            this.setState({itemInMore: this.state.itemInMore + 1}, () => {\r\n                this.fitMenuItems(runtimeStyle,true);\r\n            })\r\n        } else {\r\n            if (this.state.itemInMore > 0 && !itemAddedInMore) {\r\n                this.setState({itemInMore: this.state.itemInMore - 1}, () => {\r\n                    // this.onInvalidateSize(runtimeStyle);\r\n                    this.fitMenuItems(runtimeStyle);\r\n                })\r\n                return;\r\n            } else {\r\n                this.fitting = false;\r\n            }\r\n\r\n            if(menuData.fillNav) {\r\n                let sum = 0;\r\n                let childNodes = [];\r\n                ulNode.childNodes.forEach(liNode => {\r\n                    let data = {\r\n                        liNode: liNode,\r\n                        width: menuData.sameSize? maxLiNodeWidth : liNode.getBoundingClientRect().width\r\n                    };\r\n                    childNodes.push(data);\r\n                    sum += data.width;\r\n                });\r\n\r\n                childNodes.forEach(liNodeData => {\r\n                    let newWidth = liNodeData.width * compRect.width / sum;\r\n                    console.log(\"SetNewWidth\", newWidth, liNodeData.width, sum, compRect.width)\r\n                    liNodeData.liNode.style[\"width\"] = newWidth + \"px\";\r\n                });\r\n\r\n                navNode.style[\"justify-content\"] = \"center\";\r\n            }\r\n        }\r\n        navNode.style[\"justify-content\"] = menuData.justifyContent || \"center\";\r\n\r\n        console.log(\"fitMenuItems\")\r\n        this.showItems(runtimeStyle || compRect);\r\n    }\r\n\r\n    getMenuItemStyle = (state) => {\r\n        let menuData = getCompositeDesignData(this).menuData;\r\n        let spanData = getCompositeDesignData(this).spanData || {};\r\n        let data = getCompositeDesignData(this)[state] || {};\r\n\r\n        let textColor = data.textColor;\r\n        if (textColor)\r\n            textColor = parseColor(textColor, textColor.alpha, this.context);\r\n\r\n        let border = data.border || {};\r\n        let fillColor = data.fillColor;\r\n        if (fillColor)\r\n            fillColor = parseColor(fillColor, fillColor.alpha, this.context);\r\n\r\n        border.radius = border.radius || {};\r\n\r\n        let borderColor = border.color;\r\n        if (borderColor)\r\n            borderColor = parseColor(borderColor, borderColor.alpha, this.context);\r\n\r\n        return {\r\n            justifyContent: menuData.textAlign,\r\n            border:\r\n                `${border.width || 0}px solid ${borderColor || 'rgba(0,0,0,0)'}`,\r\n            backgroundColor: fillColor,\r\n            borderRadius:\r\n                `${border.radius.topLeft || 0}px ${border.radius.topRight || 0}px ${border.radius.bottomRight || 0}px ${border.radius.bottomLeft || 0}px`,\r\n            color: textColor || \"#000000\",\r\n            fontFamily: spanData.fontFamily || getFontDataByName(StaticFonts, \"Yekan\").fontFamily,\r\n            fontSize: `${spanData.fontSize}px`,\r\n        };\r\n    }\r\n    getDropDownItemStyle = (state) => {\r\n        let menuData = getCompositeDesignData(this).menuData;\r\n        let spanData = getCompositeDesignData(this).spanData || {};\r\n        let data = getCompositeDesignData(this)[state] || {};\r\n\r\n        let textColor = data.textColor;\r\n        if (textColor)\r\n            textColor = parseColor(textColor, textColor.alpha, this.context);\r\n\r\n        let fillColor = data.fillColor;\r\n        if (fillColor)\r\n            fillColor = parseColor(fillColor, fillColor.alpha, this.context);\r\n\r\n        return {\r\n            justifyContent: menuData.textAlign,\r\n            backgroundColor: fillColor,\r\n            color: textColor || \"#000000\",\r\n            fontFamily: spanData.fontFamily || getFontDataByName(StaticFonts, \"Yekan\").fontFamily,\r\n            fontSize: `${spanData.fontSize}px`,\r\n        };\r\n    }\r\n\r\n    getDropDownStyle = () => {\r\n        let data = getCompositeDesignData(this).dropDown;\r\n\r\n        let border = data.border || {};\r\n        let fillColor = data.fillColor;\r\n        if (fillColor)\r\n            fillColor = parseColor(fillColor, fillColor.alpha, this.context);\r\n\r\n        border.radius = border.radius || {};\r\n        border.shadow = border.shadow || {};\r\n\r\n        let shadowColor = border.shadow.color;\r\n        if (shadowColor)\r\n            shadowColor = parseColor(shadowColor, shadowColor.alpha, this.context);\r\n        let borderColor = border.color;\r\n        if (borderColor)\r\n            borderColor = parseColor(borderColor, borderColor.alpha, this.context);\r\n        return {\r\n            border:\r\n                `${border.width || 0}px solid ${borderColor || 'rgba(0,0,0,0)'}`,\r\n            backgroundColor: fillColor,\r\n            borderRadius:\r\n                `${border.radius.topLeft || 0}px ${border.radius.topRight || 0}px ${border.radius.bottomRight || 0}px ${border.radius.bottomLeft || 0}px`,\r\n            boxShadow: `${(border.shadow.xOffset) * (border.shadow.distance)}px ${(border.shadow.yOffset) * (border.shadow.distance)}px ${border.shadow.blur}px ${border.shadow.size}px ${shadowColor || 'rgba(0,0,0,0)'}`,\r\n        }\r\n    }\r\n    getStaticChildren = () => {\r\n        this.resolveDesignData();\r\n\r\n        let menuData = getCompositeDesignData(this).menuData;\r\n\r\n        let menu = this.getMenu();\r\n        let menuItems = cloneObject(menu.menuItems);\r\n        if (menuData.rtl) {\r\n            menuItems.reverse();\r\n            menuItems = menuItems.slice(this.state.itemInMore, menuItems.length);\r\n        } else {\r\n            menuItems = menuItems.slice(0, menuItems.length - this.state.itemInMore);\r\n        }\r\n\r\n        let moreItems = cloneObject(menu.menuItems);\r\n        if (menuData.rtl) {\r\n            moreItems.reverse();\r\n            moreItems = moreItems.slice(0, this.state.itemInMore);\r\n        } else {\r\n            moreItems = moreItems.slice(moreItems.length - this.state.itemInMore, moreItems.length);\r\n        }\r\n\r\n        return <nav\r\n            className=\"HorizontalMenuNavRoot\"\r\n            ref={this.rootBorderRef}\r\n            id={this.navId}\r\n            style={{\r\n                justifyContent: menuData.justifyContent || \"center\"\r\n            }}\r\n        >\r\n            <ul\r\n                className=\"HorizontalMenuUL\"\r\n                id={this.ulId}\r\n                style={{\r\n                    // visibility: this.state.ulVisibility\r\n                }}\r\n            >\r\n                {\r\n                    this.state.itemInMore > 0 && menuData.rtl &&\r\n                    <HorizontalMenuItem\r\n                        moreId={this.moreId}\r\n                        className=\"HorizontalMenuLI\"\r\n                        dropDownClassName=\"HorizontalMenuDropDownUL\"\r\n                        dropDownItemClassName=\"HorizontalMenuDropDownLI\"\r\n                        dropDownStyle={this.getDropDownStyle()}\r\n                        getDropDownItemStyle={this.getDropDownItemStyle}\r\n                        getMenuItemStyle={this.getMenuItemStyle}\r\n                        menuItem={{\r\n                            name: menuData.moreText,\r\n                            menuItems: moreItems\r\n                        }}\r\n                        dropDownOnHover\r\n                        state={this.state.menuItemState}\r\n                    />\r\n                }\r\n                {\r\n                    menuItems.map(mi => {\r\n                        return (\r\n                            <HorizontalMenuItem\r\n                                key={mi.id}\r\n                                className=\"HorizontalMenuLI\"\r\n                                dropDownClassName=\"HorizontalMenuDropDownUL\"\r\n                                dropDownItemClassName=\"HorizontalMenuDropDownLI\"\r\n                                dropDownStyle={this.getDropDownStyle()}\r\n                                getDropDownItemStyle={this.getDropDownItemStyle}\r\n                                getMenuItemStyle={this.getMenuItemStyle}\r\n                                menuItem={mi}\r\n                                dropDownOnHover\r\n                                state={this.state.menuItemState}\r\n                            />\r\n                        )\r\n                    })\r\n                }\r\n                {\r\n                    this.state.itemInMore > 0 && !menuData.rtl &&\r\n                    <HorizontalMenuItem\r\n                        moreId={this.moreId}\r\n                        className=\"HorizontalMenuLI\"\r\n                        dropDownClassName=\"HorizontalMenuDropDownUL\"\r\n                        dropDownItemClassName=\"HorizontalMenuDropDownLI\"\r\n                        dropDownStyle={this.getDropDownStyle()}\r\n                        getDropDownItemStyle={this.getDropDownItemStyle}\r\n                        getMenuItemStyle={this.getMenuItemStyle}\r\n                        menuItem={{\r\n                            name: menuData.moreText,\r\n                            menuItems: moreItems\r\n                        }}\r\n                        dropDownOnHover\r\n                        state={this.state.menuItemState}\r\n                    />\r\n                }\r\n            </ul>\r\n        </nav>\r\n    };\r\n\r\n    onStateChange = (stateName) => {\r\n        this.setState({menuItemState: stateName});\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <AGLWrapper\r\n                tagName=\"HorizontalMenu\"\r\n                aglComponent={this}\r\n                {...this.props}\r\n                style={{\r\n                    width: \"400px\",\r\n                    height: \"50px\",\r\n                }}\r\n                data={this.getData()}\r\n                getPrimaryOptions={this.getPrimaryOptions}\r\n                getInspector={this.getInspector}\r\n                getStaticChildren={this.getStaticChildren}\r\n                onInvalidateSize={this.onInvalidateSize}\r\n                onResize={this.onInvalidateSize}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nHorizontalMenu.defaultProps = {\r\n    tagName: \"HorizontalMenu\"\r\n};\r\n","import ContainerBase from \"../Components/Containers/ContainerBase\";\r\nimport Header from \"../Components/Containers/Header\";\r\nimport Footer from \"../Components/Containers/Footer\";\r\nimport PageBase from \"../Components/Pages/PageBase\";\r\nimport Section from \"../Components/Containers/Section\";\r\nimport Stack from \"../Components/Stack/Stack\";\r\nimport VerticalSpacer from \"../Components/Stack/VerticalSpacer\";\r\nimport FadeInAnimation from \"../Test/Animations/FadeInAnimation\";\r\nimport BounceInAnimation from \"../Test/Animations/BounceInAnimation\";\r\nimport GlideInAnimation from \"../Test/Animations/GlideInAnimation\";\r\nimport FloatInAnimation from \"../Test/Animations/FloatInAnimation\";\r\nimport ExpandInAnimation from \"../Test/Animations/ExpandInAnimation\";\r\nimport SpinInAnimation from \"../Test/Animations/SpinInAnimation\";\r\nimport FlyInAnimation from \"../Test/Animations/FlyInAnimation\";\r\nimport TurnInAnimation from \"../Test/Animations/TurnInAnimation\";\r\nimport ArcInAnimation from \"../Test/Animations/ArcInAnimation\";\r\nimport PuffInAnimation from \"../Test/Animations/PuffInAnimation\";\r\nimport FoldInAnimation from \"../Test/Animations/FoldInAnimation\";\r\nimport FlipInAnimation from \"../Test/Animations/FlipInAnimation\";\r\nimport RevealAnimation from \"../Test/Animations/RevealAnimation\";\r\nimport Text from \"../Components/Text/Text\";\r\nimport Button from \"../Components/Button/Button\";\r\nimport Image from \"../Components/Image/Image\";\r\nimport Video from \"../Components/Video/Video\";\r\nimport HorizontalMenu from \"../Components/Menu/HorizontalMenu\";\r\n\r\nlet DynamicComponents = {};\r\n\r\nexport let initDynamicComponents = () => {\r\n    DynamicComponents[\"ContainerBase\"] = ContainerBase;\r\n    DynamicComponents[\"PageBase\"] = PageBase;\r\n    DynamicComponents[\"Header\"] = Header;\r\n    DynamicComponents[\"Footer\"] = Footer;\r\n    DynamicComponents[\"Section\"] = Section;\r\n    DynamicComponents[\"Stack\"] = Stack;\r\n    DynamicComponents[\"VerticalSpacer\"] = VerticalSpacer;\r\n    DynamicComponents[\"Text\"] = Text;\r\n    DynamicComponents[\"Button\"] = Button;\r\n    DynamicComponents[\"Image\"] = Image;\r\n    DynamicComponents[\"Video\"] = Video;\r\n    DynamicComponents[\"HorizontalMenu\"] = HorizontalMenu;\r\n};\r\n\r\nexport default DynamicComponents;\r\n\r\nexport let DynamicAnimations = {};\r\n\r\nexport let initDynamicAnimations = () => {\r\n    DynamicAnimations[\"fadeIn\"] = FadeInAnimation;\r\n    DynamicAnimations[\"bounceIn\"] = BounceInAnimation;\r\n    DynamicAnimations[\"glideIn\"] = GlideInAnimation;\r\n    DynamicAnimations[\"floatIn\"] = FloatInAnimation;\r\n    DynamicAnimations[\"expandIn\"] = ExpandInAnimation;\r\n    DynamicAnimations[\"spinIn\"] = SpinInAnimation;\r\n    DynamicAnimations[\"flyIn\"] = FlyInAnimation;\r\n    DynamicAnimations[\"turnIn\"] = TurnInAnimation;\r\n    DynamicAnimations[\"arcIn\"] = ArcInAnimation;\r\n    DynamicAnimations[\"puffIn\"] = PuffInAnimation;\r\n    DynamicAnimations[\"foldIn\"] = FoldInAnimation;\r\n    DynamicAnimations[\"flipIn\"] = FlipInAnimation;\r\n    DynamicAnimations[\"reveal\"] = RevealAnimation;\r\n};\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport classNames from \"classnames\";\r\nimport DynamicComponents from \"../Dynamic/DynamicComponents\";\r\nimport Popper from \"@material-ui/core/Popper/Popper\";\r\nimport '../HelperStyle.css';\r\n\r\nexport default class AdjustmentPageControllers extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            anchorEl: undefined\r\n        };\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.mounted = false;\r\n    }\r\n\r\n    addSection = (index, isVertical) => {\r\n        let {page} = this.props;\r\n        page.addSectionQueue(index, \"Section\", DynamicComponents, undefined, isVertical);\r\n    };\r\n\r\n    getAnchor = (index) => {\r\n        return  document.getElementById(`page_add_horizontal_${index}`)\r\n    };\r\n\r\n    needUpdate = () => {\r\n        clearTimeout(this.updateTimeout);\r\n        this.updateTimeout = setTimeout(() => {\r\n            if (!this.mounted) {\r\n                clearTimeout(this.updateTimeout);\r\n                return;\r\n            }\r\n            this.forceUpdate();\r\n        }, 500);\r\n    };\r\n\r\n    render () {\r\n        let {grid} = this.props;\r\n        return (\r\n                [\r\n                    new Array(grid.y + 1).fill(0).map((a, index) => {\r\n                        let style = {\r\n                            gridArea: `1/${index}/2/${index + 1}`\r\n                        };\r\n                        index === 0 && (style.justifySelf = \"start\");\r\n                        index === 0 && (style.gridArea = \"1/1/2/2\");\r\n\r\n                        let containerClasses = classNames(\r\n                            \"AdjustmentPageControllersAddSection\",\r\n                            index === 0 && \"AdjustmentPageControllersAddSectionFirst\"\r\n                        );\r\n                        return <div\r\n                            className=\"AdjustmentPageControllersAddSectionContainer\"\r\n                            style={style}\r\n                            key={index}\r\n                        >\r\n                            <div\r\n                                className={containerClasses}\r\n                                onClick={(e) => {\r\n                                    this.addSection(index, true);\r\n                                }}\r\n                            >\r\n                                <img draggable={false} width={8} height={8} src={require('./icons/plus.svg')} />\r\n                            </div>\r\n                        </div>\r\n                    }),\r\n                    new Array(grid.x + 1).fill(0).map((a, index) => {\r\n                        let style = {\r\n                            gridArea: `${index}/1/${index + 1}/2`,\r\n                            pointerEvents: \"auto\"\r\n                        };\r\n                        index === 0 && (style.alignSelf = \"start\");\r\n                        index === 0 && (style.gridArea = \"1/1/2/2\");\r\n\r\n                        let containerClasses = classNames(\r\n                            \"AdjustmentPageControllersAddHorizontalSection\",\r\n                            index === 0 && \"AdjustmentPageControllersAddHorizontalSectionFirst\"\r\n                        );\r\n                        return <div\r\n                            className=\"AdjustmentPageControllersAddHorizontalSectionContainer\"\r\n                            style={style}\r\n                            key={index}\r\n                            id={`page_add_horizontal_${index}`}\r\n                            onClick={(e) => {\r\n                                this.setState({anchorEl: e.currentTarget})\r\n                            }}\r\n                        >\r\n                            {!this.getAnchor(index) && this.needUpdate()}\r\n                            <Popper open={Boolean(document.getElementById(`page_add_horizontal_${index}`))}\r\n                                    anchorEl={\r\n                                        () => {\r\n                                            return this.getAnchor(index);\r\n                                        }\r\n                                    }\r\n                                    modifiers={{\r\n                                        preventOverflow: {\r\n                                            enabled: false,\r\n                                            boundariesElement: 'scrollParent',\r\n                                        },\r\n                                        hide: {\r\n                                            enabled: false,\r\n                                        },\r\n                                    }}\r\n                            >\r\n                                <div\r\n                                    className={containerClasses}\r\n                                    onClick={(e) => {\r\n                                        this.addSection(index, false);\r\n                                    }}\r\n                                >\r\n                                    <img draggable={false} className=\"IconImage\" width={8} height={8} src={require('./icons/plus.svg')} />\r\n                                </div>\r\n                            </Popper>\r\n                        </div>\r\n                    })\r\n                ]\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './GridChildDraggable.css';\r\n\r\nexport default class GridChildContainerFixedHolder extends React.Component {\r\n    render () {\r\n        let {size, id} = this.props;\r\n        return (\r\n            <div\r\n                className=\"fixed-holder\"\r\n                style={{\r\n                    top: size? size.top: 0,\r\n                    left: size? size.left: 0,\r\n                    width: size? size.width: 0,\r\n                    height: size? size.clientHeight || size.height: 0,\r\n                }}\r\n                id={`${id}_fixed_holder`}\r\n            >\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default class PaddingInterface extends React.Component {\r\n    render() {\r\n        return (\r\n            <div\r\n                style={{\r\n                    position: \"absolute\",\r\n                    top: 0,\r\n                    left: 0,\r\n                    width: \"100%\",\r\n                    height: \"100%\",\r\n                    boxSizing: \"border-box\",\r\n                    borderTop: this.props.padding.top ? `${this.props.padding.top} solid rgba(2, 242, 255, 0.3` : \"unset\",\r\n                    borderLeft: this.props.padding.left ? `${this.props.padding.left} solid rgba(2, 242, 255, 0.3)` : \"unset\",\r\n                    borderBottom: this.props.padding.bottom ? `${this.props.padding.bottom} solid rgba(2, 242, 255, 0.3)` : \"unset\",\r\n                    borderRight: this.props.padding.right ? `${this.props.padding.right} solid rgba(2, 242, 255, 0.3)` : \"unset\"\r\n                }}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default class ParentSelectInterface extends React.Component {\r\n    render() {\r\n        return (\r\n            <div\r\n                style={{\r\n                    position: \"absolute\",\r\n                    top: 0,\r\n                    left: 0,\r\n                    width: \"100%\",\r\n                    height: \"100%\",\r\n                    boxSizing: \"border-box\",\r\n                    border: '1px solid rgb(2 50 255 / 40%)'\r\n                }}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {appendStyle, cloneObject, shallowEqual, updateStyle} from \"./AwesomeGridLayoutUtils\";\r\nimport './GridChildDraggable.css';\r\nimport GridChildContainerChildren from \"./GridChildContainerChildren\";\r\nimport classNames from \"classnames\";\r\nimport AdjustmentPageControllers from \"./Adjustment/AdjustmentPageControllers\";\r\nimport GridChildContainerFixedHolder from \"./GridChildContainerFixedHolder\";\r\nimport PaddingInterface from \"./Test/PaddingInterface\";\r\nimport ParentSelectInterface from \"./Test/ParentSelectInterface\";\r\n\r\nexport default class GridChildContainer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.controllerRef = React.createRef();\r\n        this.fixedHolderRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.modifyOverflowStyle(this.props.overflowData, this.props.aglStyle);\r\n        this.modifyContainerStyle(this.props.grid, this.props.aglStyle, this.props.padding);\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        if (!shallowEqual(this.allChildId, Object.keys(nextProps.allChildren)) ||\r\n            !shallowEqual(this.grid, nextProps.grid) ||\r\n            !shallowEqual(this.size, nextProps.size) ||\r\n            this.props.selectAsParent !== nextProps.selectAsParent ||\r\n            this.props.selected !== nextProps.selected ||\r\n            !shallowEqual(this.padding, nextProps.padding) ||\r\n            !shallowEqual(JSON.stringify(this.allChildIndex),\r\n                JSON.stringify(Object.values(nextProps.allChildren).map(c => {\r\n                    return {\r\n                        z: c.zIndex,\r\n                        i: c.child.props.id\r\n                    }\r\n                })))\r\n        ) {\r\n            if (!shallowEqual(this.overflowData, nextProps.overflowData))\r\n                this.modifyOverflowStyle(nextProps.overflowData, nextProps.aglStyle);\r\n\r\n            if (!shallowEqual(this.grid, nextProps.grid) || !shallowEqual(this.padding, nextProps.padding))\r\n                this.modifyContainerStyle(nextProps.grid, nextProps.aglStyle, nextProps.padding);\r\n\r\n            if (!shallowEqual(this.aglStyle, nextProps.aglStyle)) {\r\n                this.modifyOverflowStyle(nextProps.overflowData, nextProps.aglStyle);\r\n                this.modifyContainerStyle(nextProps.grid, nextProps.aglStyle, nextProps.padding);\r\n            }\r\n\r\n            return true;\r\n        }\r\n\r\n        if (!shallowEqual(this.overflowData, nextProps.overflowData)) {\r\n            this.modifyOverflowStyle(nextProps.overflowData, nextProps.aglStyle);\r\n            return true;\r\n        }\r\n        if (!shallowEqual(this.aglStyle, nextProps.aglStyle)) {\r\n            this.modifyOverflowStyle(nextProps.overflowData, nextProps.aglStyle);\r\n            this.modifyContainerStyle(nextProps.grid, nextProps.aglStyle, nextProps.padding);\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    saveState = () => {\r\n        let {allChildren, grid, overflowData, aglStyle, size, padding} = this.props;\r\n        this.allChildId = Object.keys(allChildren);\r\n        this.allChildIndex = Object.values(allChildren).map(c => {\r\n            return {\r\n                z: c.zIndex,\r\n                i: c.child.props.id\r\n            }\r\n        });\r\n        this.grid = cloneObject(grid);\r\n        this.overflowData = cloneObject(overflowData);\r\n        this.aglStyle = cloneObject(aglStyle);\r\n        this.size = cloneObject(size);\r\n        this.padding = cloneObject(padding);\r\n    };\r\n\r\n    modifyContainerStyle = (grid, aglStyle, padding) => {\r\n        if (!grid)\r\n            grid = this.props.grid;\r\n\r\n        let {modifyContainerStyleOverride, agl} = this.props;\r\n\r\n        if (modifyContainerStyleOverride){\r\n            modifyContainerStyleOverride(this, agl, grid, aglStyle);\r\n            return;\r\n        }\r\n\r\n        let style = {\r\n            width: (aglStyle && aglStyle.width === \"auto\") ? \"auto\": \"100%\",\r\n            height: (aglStyle && aglStyle.height === \"auto\") ? \"auto\":\r\n                agl.getFromData(\"containerHeight\") || \"100%\",\r\n            display: \"grid\",\r\n            position: \"relative\",\r\n            boxSizing: \"border-box\",\r\n            gridTemplateRows: grid.gridTemplateRows,\r\n            gridTemplateColumns: grid.gridTemplateColumns,\r\n        };\r\n\r\n        if (padding) {\r\n            if (padding.top) style.paddingTop = padding.top;\r\n            if (padding.left) style.paddingLeft = padding.left;\r\n            if (padding.bottom) style.paddingBottom = padding.bottom;\r\n            if (padding.right) style.paddingRight = padding.right;\r\n\r\n            /*style.backgroundImage = \"\";\r\n            Object.keys(padding).forEach(key => {\r\n                if (key === \"top\")\r\n                    style.backgroundImage += `linear-gradient(to bottom, #00f3ffa8 ${padding.top}, transparent 10px),`\r\n                if (key === \"bottom\")\r\n                    style.backgroundImage += `linear-gradient(to top, #00f3ffa8 ${padding.bottom}, transparent 10px),`\r\n                if (key === \"left\")\r\n                    style.backgroundImage += `linear-gradient(to right, #00f3ffa8 ${padding.left}, transparent 10px),`\r\n                if (key === \"right\")\r\n                    style.backgroundImage += `linear-gradient(to left, #00f3ffa8 ${padding.right}, transparent 10px),`\r\n            });\r\n\r\n            if (style.backgroundImage)\r\n                style.backgroundImage = style.backgroundImage.slice(0, -1);*/\r\n        }\r\n\r\n        let styleNode = document.getElementById(this.getContainerStyleId());\r\n\r\n        if (!styleNode) {\r\n            appendStyle(style, this.getContainerStyleId(), this.getContainerStyleId());\r\n        } else {\r\n            updateStyle(styleNode, style, this.getContainerStyleId());\r\n        }\r\n    };\r\n\r\n    modifyOverflowStyle = (overflowData, aglStyle) => {\r\n        let styleNode = document.getElementById(this.getOverflowStyleId());\r\n\r\n        if (!styleNode) {\r\n            appendStyle(this.getOverflowStyle(overflowData, aglStyle), this.getOverflowStyleId()\r\n                , this.getOverflowStyleId());\r\n        } else {\r\n            updateStyle(styleNode, this.getOverflowStyle(overflowData, aglStyle), this.getOverflowStyleId());\r\n        }\r\n\r\n        let webkitScrollbarStyle = {};\r\n        let webkitScrollbarStyleId = this.getOverflowStyleId() + '::-webkit-scrollbar';\r\n        if (overflowData.auto === 'hide') webkitScrollbarStyle.display = \"none\";\r\n\r\n        let scrollStyleNode = document.getElementById(webkitScrollbarStyleId);\r\n\r\n        if (!scrollStyleNode) {\r\n            appendStyle(webkitScrollbarStyle, webkitScrollbarStyleId, webkitScrollbarStyleId);\r\n        } else {\r\n            updateStyle(scrollStyleNode, webkitScrollbarStyle, webkitScrollbarStyleId);\r\n        }\r\n    };\r\n\r\n    getOverflowStyle = (overflowData, aglStyle) => {\r\n        let style = {\r\n            display: \"grid\",\r\n            gridTemplateRows: \"1fr\",\r\n            gridTemplateColumns: \"1fr\",\r\n            position: \"absolute\",\r\n            top: 0,\r\n            bottom: 0,\r\n            left: 0,\r\n            right: 0,\r\n        };\r\n\r\n        if (aglStyle && aglStyle.width === \"auto\") {\r\n            style.position = \"relative\";\r\n            delete style.left;\r\n            delete style.right;\r\n            delete style.top;\r\n            delete style.bottom;\r\n        }\r\n\r\n        if (aglStyle && aglStyle.height === \"auto\") {\r\n            style.position = \"relative\";\r\n            delete style.left;\r\n            delete style.right;\r\n            delete style.top;\r\n            delete style.bottom;\r\n        }\r\n\r\n\r\n        if (!overflowData)\r\n            overflowData = this.props.overflowData;\r\n\r\n        if (!overflowData)\r\n            return style;\r\n\r\n        if (overflowData.state === 'show') {\r\n            return style;\r\n        }\r\n\r\n        if (overflowData.state === 'hide') {\r\n            style.overflowX = \"hidden\";\r\n            style.overflowY = \"hidden\";\r\n            return style;\r\n        }\r\n\r\n        if (overflowData.state === 'scroll') {\r\n            style.overflowX = overflowData.overflowX? overflowData.auto === 'auto'? \"auto\" : \"scroll\" : \"hidden\" ;\r\n            style.overflowY = overflowData.overflowY? overflowData.auto === 'auto'? \"auto\" : \"scroll\" : \"hidden\" ;\r\n        }\r\n\r\n        if (overflowData.auto === 'hide') {\r\n            // TODO hide scrollbar with webkit\r\n            style.scrollbarWidth = 'none';\r\n            style.overflow = '-moz-scrollbars-none';\r\n            style['-ms-overflow-style'] = 'none';\r\n        }\r\n\r\n        return style;\r\n    };\r\n\r\n    getOverflowStyleId = () => {\r\n        return `style_overflow_${this.props.id}`\r\n    };\r\n\r\n    getContainerStyleId = () => {\r\n        return `style_container_${this.props.id}`\r\n    };\r\n\r\n    updateAdjustments = () => {\r\n        this.controllerRef.current && this.controllerRef.current.forceUpdate();\r\n        this.fixedHolderRef.current && this.fixedHolderRef.current.forceUpdate();\r\n    };\r\n\r\n    needOverflow = () => {\r\n        let overflowData = this.props.overflowData;\r\n\r\n        if (overflowData.state !== 'scroll')\r\n            return false;\r\n\r\n        if (overflowData.overflowX === 'scroll')\r\n                return true;\r\n        if (overflowData.overflowY === 'scroll')\r\n                return true;\r\n\r\n        return false;\r\n    };\r\n\r\n    render () {\r\n        if (!this.props.show)\r\n            return null;\r\n        this.saveState();\r\n        let {allChildren, id, grid, isPage, page, size, getChildrenOverride, agl, editor} = this.props;\r\n\r\n        let overflowClasses = classNames(\r\n            this.getOverflowStyleId()\r\n        );\r\n        let containerClasses = classNames(\r\n            this.getContainerStyleId()\r\n        );\r\n\r\n        if (!isPage) {\r\n            if (this.needOverflow()) {\r\n                return (\r\n                    <div\r\n                        id={`${id}_overflow`}\r\n                        className={overflowClasses}\r\n                        ref={this.props.overflowRef}\r\n                        onScroll={this.props.onScroll}\r\n                    >\r\n                        <div\r\n                            id={`${id}_container`}\r\n                            className={containerClasses}\r\n                            ref={this.props.containerRef}\r\n                        >\r\n                            {\r\n                                this.props.padding && (this.props.selectAsParent || this.props.selected) &&\r\n                                <PaddingInterface padding={this.props.padding} />\r\n                            }\r\n                            {\r\n                                this.props.selectAsParent &&\r\n                                <ParentSelectInterface />\r\n                            }\r\n                            <GridChildContainerChildren\r\n                                allChildren={allChildren}\r\n                                getChildrenOverride={getChildrenOverride}\r\n                                agl={agl}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                )\r\n            } else {\r\n                return (\r\n                    <div\r\n                        id={`${id}_container`}\r\n                        className={containerClasses}\r\n                        ref={this.props.containerRef}\r\n                    >\r\n                        {\r\n                            this.props.padding && (this.props.selectAsParent || this.props.selected) &&\r\n                            <PaddingInterface padding={this.props.padding} />\r\n                        }\r\n                        {\r\n                            this.props.selectAsParent &&\r\n                            <ParentSelectInterface />\r\n                        }\r\n                        <GridChildContainerChildren\r\n                            allChildren={allChildren}\r\n                            getChildrenOverride={getChildrenOverride}\r\n                            agl={agl}\r\n                        />\r\n                    </div>\r\n                )\r\n            }\r\n        } else {\r\n            return (\r\n                    <div\r\n                        id={`${id}_container`}\r\n                        className={containerClasses}\r\n                        ref={this.props.containerRef}\r\n                    >\r\n                        {\r\n                            this.props.padding && (this.props.selectAsParent || this.props.selected) &&\r\n                            <PaddingInterface padding={this.props.padding} />\r\n                        }\r\n                        {\r\n                            this.props.selectAsParent &&\r\n                            <ParentSelectInterface />\r\n                        }\r\n                        <GridChildContainerChildren\r\n                            allChildren={allChildren}\r\n                            getChildrenOverride={getChildrenOverride}\r\n                            agl={agl}\r\n                        />\r\n\r\n                        {\r\n                            editor &&\r\n                            <AdjustmentPageControllers\r\n                                grid={grid}\r\n                                page={page}\r\n                                editor={editor}\r\n                                ref={this.controllerRef}\r\n                            />\r\n                        }\r\n\r\n                        <GridChildContainerFixedHolder\r\n                            ref={this.fixedHolderRef}\r\n                            size={size}\r\n                            id={id}\r\n                        />\r\n                    </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './AwesomeGridLayout.css';\r\n\r\nexport default class AGLAnchor extends React.Component {\r\n    render () {\r\n        let {anchor} = this.props;\r\n\r\n        if (!anchor)\r\n            return null;\r\n\r\n        return (\r\n            <div\r\n                className=\"AGLAnchor\"\r\n                id={anchor.id}\r\n            >\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css';\r\nimport classNames from 'classnames';\r\n\r\nexport default class ResizePanePage extends React.Component {\r\n    onMouseDown = (e) => {\r\n        if (this.isLeftClick(e)) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            this.mouseDown = true;\r\n            window.addEventListener(\"pointermove\", this.onMouseMove);\r\n            window.addEventListener(\"pointerup\", this.onMouseUp);\r\n        }\r\n    };\r\n\r\n    isLeftClick = (e) => {\r\n        if (e.pointerType === \"mouse\" && e.button === 0)\r\n            return true;\r\n\r\n        return false;\r\n    };\r\n\r\n\r\n    onMouseMove = (e) => {\r\n        if (!this.mouseDown)\r\n            return;\r\n        e.stopPropagation();\r\n\r\n        if (!this.moving) {\r\n            this.moving = true;\r\n            this.onDragStart(e);\r\n        } else {\r\n            this.onDrag(e);\r\n        }\r\n    };\r\n\r\n    onMouseUp = (e) => {\r\n        if (!this.mouseDown)\r\n            return;\r\n\r\n        this.mouseDown = false;\r\n\r\n        if (this.moving) {\r\n            e.stopPropagation();\r\n            this.onDragStop(e);\r\n        }\r\n\r\n        this.moving = false;\r\n\r\n        window.removeEventListener(\"pointermove\", this.onMouseMove);\r\n        window.removeEventListener(\"pointerup\", this.onMouseUp);\r\n    };\r\n\r\n    onDragStart = (e) => {\r\n        this.dragData = {\r\n            lastMouseX: e.clientX,\r\n            lastMouseY: e.clientY\r\n        };\r\n        this.delta = {\r\n            x: 0,\r\n            y: 0,\r\n        };\r\n        this.props.onResizeStart(e, this.props.side, this.delta);\r\n    };\r\n\r\n    onDrag = (e) => {\r\n        this.delta.x += (e.clientX - this.dragData.lastMouseX);\r\n        this.delta.y += (e.clientY - this.dragData.lastMouseY);\r\n        this.props.onResize(e, this.props.side, this.delta);\r\n        this.dragData.lastMouseX = e.clientX;\r\n        this.dragData.lastMouseY = e.clientY;\r\n    };\r\n\r\n    onDragStop = (e) => {\r\n        this.delta.x += (e.clientX - this.dragData.lastMouseX);\r\n        this.delta.y += (e.clientY - this.dragData.lastMouseY);\r\n        this.props.onResizeStop(e, this.props.side, this.delta);\r\n    };\r\n\r\n    isCorner = () => {\r\n        return this.props.side.length === 2;\r\n    };\r\n    render () {\r\n        let classes = classNames(\r\n            `Adjustment-${this.props.side}-pane-page`,\r\n            \"Adjustment-Pane\"\r\n        );\r\n        let style = {};\r\n        if (this.props.draggingStart)\r\n            style.pointerEvents = \"none\";\r\n\r\n        return (\r\n            <div\r\n                id={this.props.id}\r\n                onPointerDown={this.onMouseDown}\r\n                className={classes}\r\n                style={style}\r\n            >\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport ResizePanePage from \"./ResizePanePage\";\r\n\r\nexport default class AdjustmentResizePage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render () {\r\n        let {top, left, width, height} = this.props;\r\n        if (top === undefined || left === undefined || width === undefined || height === undefined)\r\n            return null;\r\n\r\n        return (\r\n                <div\r\n                    id=\"AdjustmentResizePage\"\r\n                    style={{\r\n                        width: width,\r\n                        height: \"80vh\",\r\n                        // left: left? left: 0,\r\n                        // top: top? top : 0,\r\n                        // bottom: top? window.innerHeight - top - height: 0,\r\n                        // right: left? window.innerWidth - left - width: 0,\r\n                    }}\r\n                    // className=\"AdjustmentResizeRootPage\"\r\n                    className=\"AdjustmentResizeRoot\"\r\n                >\r\n                    {\r\n                        this.props.sides.map((side, index) => {\r\n                            return <ResizePanePage\r\n                                key={index}\r\n                                side={side}\r\n                                onResizeStart={this.props.onResizeStart}\r\n                                onResize={this.props.onResize}\r\n                                onResizeStop={this.props.onResizeStop}\r\n                                draggingStart={this.props.draggingStart}\r\n                            />\r\n                        })\r\n                    }\r\n                </div>\r\n        )\r\n    }\r\n}\r\n","import {throttleDebounce} from \"../AwesomeGridLayoutUtils\";\r\n\r\nexport default class EventTrigger {\r\n    constructor(owner, defaultListener) {\r\n        this.owner = owner;\r\n        this.listeners = [];\r\n        if (defaultListener)\r\n            this.listeners.push(defaultListener);\r\n    }\r\n\r\n    addListener = (listener) => {\r\n        if (!this.listeners.find(l => { return l === listener; })) {\r\n            this.listeners.push(listener);\r\n        }\r\n    };\r\n\r\n    trigger = throttleDebounce((data) => {\r\n        this.listeners.forEach(l => {\r\n            l(this.owner, data);\r\n        });\r\n    }, 50);\r\n\r\n    removeListener = (listener) => {\r\n        let index = this.listeners.findIndex(l => { return l === listener; })\r\n        if (index >= 0)\r\n            this.listeners.splice(index, 1);\r\n    };\r\n}\r\n","let windowCache = {\r\n    boundingRects: {},\r\n    clientsWidth: {},\r\n    clientsHeight: {},\r\n    scrollsTop: {},\r\n    scrollsLeft: {},\r\n    scrollsWidth: {},\r\n    scrollsHeight: {}\r\n};\r\n\r\nlet clearCache = () => {\r\n    windowCache.boundingRects = {};\r\n    windowCache.clientsWidth = {};\r\n    windowCache.clientsHeight = {};\r\n    windowCache.scrollsTop = {};\r\n    windowCache.scrollsLeft = {};\r\n    windowCache.scrollsWidth = {};\r\n    windowCache.scrollsHeight = {};\r\n    delete windowCache.clearCacheTimeuot;\r\n};\r\n\r\nexport let getCachedBoundingRect = (id, node) => {\r\n    if (!windowCache.clearCacheTimeuot) {\r\n        windowCache.clearCacheTimeuot = true;\r\n        window.requestAnimationFrame(clearCache);\r\n    }\r\n\r\n    if (!windowCache.boundingRects[id])\r\n        windowCache.boundingRects[id] = node.getBoundingClientRect();\r\n\r\n    return windowCache.boundingRects[id];\r\n};\r\n\r\nexport let getCachedClientWidth = (id, node) => {\r\n    if (!windowCache.clearCacheTimeuot) {\r\n        windowCache.clearCacheTimeuot = true;\r\n        window.requestAnimationFrame(clearCache);\r\n    }\r\n\r\n    if (!windowCache.clientsWidth[id])\r\n        windowCache.clientsWidth[id] = node.clientWidth;\r\n\r\n    return windowCache.clientsWidth[id];\r\n};\r\n\r\nexport let getCachedClientHeight = (id, node) => {\r\n    if (!windowCache.clearCacheTimeuot) {\r\n        windowCache.clearCacheTimeuot = true;\r\n        window.requestAnimationFrame(clearCache);\r\n    }\r\n\r\n    if (!windowCache.clientsHeight[id])\r\n        windowCache.clientsHeight[id] = node.clientHeight;\r\n\r\n    return windowCache.clientsHeight[id];\r\n};\r\n\r\nexport let getCachedScrollTop = (id, node) => {\r\n    if (!windowCache.clearCacheTimeuot) {\r\n        windowCache.clearCacheTimeuot = true;\r\n        window.requestAnimationFrame(clearCache);\r\n    }\r\n\r\n    if (!windowCache.scrollsTop[id])\r\n        windowCache.scrollsTop[id] = node.scrollTop;\r\n\r\n    return windowCache.scrollsTop[id];\r\n};\r\n\r\nexport let getCachedScrollLeft = (id, node) => {\r\n    if (!windowCache.clearCacheTimeuot) {\r\n        windowCache.clearCacheTimeuot = true;\r\n        window.requestAnimationFrame(clearCache);\r\n    }\r\n\r\n    if (!windowCache.scrollsLeft[id])\r\n        windowCache.scrollsLeft[id] = node.scrollLeft;\r\n\r\n    return windowCache.scrollsLeft[id];\r\n};\r\n\r\nexport let getCachedScrollWidth = (id, node) => {\r\n    if (!windowCache.clearCacheTimeuot) {\r\n        windowCache.clearCacheTimeuot = true;\r\n        window.requestAnimationFrame(clearCache);\r\n    }\r\n\r\n    if (!windowCache.scrollsWidth[id])\r\n        windowCache.scrollsWidth[id] = node.scrollWidth;\r\n\r\n    return windowCache.scrollsWidth[id];\r\n};\r\n\r\nexport let getCachedScrollHeight = (id, node) => {\r\n    if (!windowCache.clearCacheTimeuot) {\r\n        windowCache.clearCacheTimeuot = true;\r\n        window.requestAnimationFrame(clearCache);\r\n    }\r\n\r\n    if (!windowCache.scrollsHeight[id])\r\n        windowCache.scrollsHeight[id] = node.scrollHeight;\r\n\r\n    return windowCache.scrollsHeight[id];\r\n};\r\n\r\nexport let addToCache = (id, rect, propName) => {\r\n    windowCache[propName][id] = rect;\r\n};\r\n","import React from \"react\";\r\nexport default class AnimationHolder extends React.Component {\r\n    render () {\r\n        return this.props.children;\r\n        if (!this.props.disabled)\r\n            return this.props.children;\r\n        else\r\n            return (\r\n                <div\r\n                    className={this.props.className}\r\n                    id={this.props.id}\r\n                    ref={this.props.transformRef}\r\n                >\r\n                    {this.props.children}\r\n                </div>\r\n            )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport VisibilitySensor from \"react-visibility-sensor\";\r\nexport default class VisibilitySensorWrapper extends React.Component {\r\n    render () {\r\n        if (!this.props.animation)\r\n            return this.props.children;\r\n        else\r\n            return (\r\n                <VisibilitySensor\r\n                    partialVisibility onChange={(v) => {\r\n                        if (this.props.animation.name &&\r\n                            (this.props.animation.options && this.props.animation.options.once)\r\n                            && v) {\r\n                            !this.props.editor && this.props.playAnimation(true);\r\n                            return;\r\n                        }\r\n\r\n                        if (this.props.animation.name && v)\r\n                            !this.props.editor && this.props.playAnimation();\r\n                    }}\r\n                    containment={this.props.select.getPageOverflowRef()}\r\n                    active={this.props.animation.name && !this.props.disableVS}\r\n                >\r\n                    {this.props.children}\r\n                </VisibilitySensor>\r\n            )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\n\r\nexport default class AdjustmentHelpSize extends React.Component {\r\n    getText = () => {\r\n        let {width, height} = this.props.resizeHelpData;\r\n\r\n        return `${width? \"W: \" + width.toFixed(0).toString() + \"  \": \"\"}\r\n        ${height? \"H: \" + height.toFixed(0).toString() + \"\": \"\"}`;\r\n    };\r\n    render () {\r\n        let {x, y} = this.props.resizeHelpData;\r\n        return (\r\n            <div\r\n                id=\"AdjustmentHelpSize\"\r\n                className=\"AdjustmentHelpSizeRoot\"\r\n            >\r\n                <p\r\n                    style={{\r\n                        position: \"absolute\",\r\n                        top: y,\r\n                        left: x,\r\n                        margin: 0,\r\n                        transform: \"translateX(20px) translateY(20px)\",\r\n                        fontSize: \"0.65em\",\r\n                        color: \"#ffffff\",\r\n                        backgroundColor: \"#4b4b4b\",\r\n                        padding: 4,\r\n                        borderRadius: 4,\r\n                        width: \"fit-content\"\r\n                    }}\r\n                >\r\n                    {this.getText()}\r\n                </p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport debounce from 'lodash.debounce';\r\nimport {appendStyle, cloneObject, initGriddata, updateStyle} from \"./AwesomeGridLayoutUtils\";\r\nimport './AwesomeGridLayout.css';\r\nimport GridChildContainer from \"./GridChildContainer\";\r\nimport DynamicComponents, {DynamicAnimations} from \"./Dynamic/DynamicComponents\";\r\nimport classNames from \"classnames\";\r\nimport Portal from \"./Portal\";\r\nimport {\r\n    createItem,\r\n    getCompositeDesignData, getPxValueFromCSSValue, getResizeDelta, getViewRatioStyle,\r\n    isFixed,\r\n    isGroupSelected, isRightClick, isStretch, stretch,\r\n} from \"./AwesomwGridLayoutHelper\";\r\nimport AGLAnchor from \"./AGLAnchor\";\r\nimport AdjustmentResizePage from \"./Adjustment/AdjustmentResizePage\";\r\nimport EventTrigger from \"./Test/EventTrigger\";\r\nimport {\r\n    addToCache,\r\n    getCachedBoundingRect,\r\n    getCachedClientHeight, getCachedScrollLeft,\r\n    getCachedScrollTop,\r\n    getCachedClientWidth, getCachedScrollHeight, getCachedScrollWidth\r\n} from \"./Test/WindowCache\";\r\nimport AnimationHolder from \"./AnimationHolder\";\r\nimport VisibilitySensorWrapper from \"./Test/VisibilitySensorWrapper\";\r\nimport AdjustmentHelpSize from \"./Adjustment/AdjustmentHelpSize\";\r\n\r\nexport default class AwesomeGridLayout2 extends React.Component{\r\n    constructor (props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            childContainers: [],\r\n            grid: {x: 1, y: 1, gridTemplateRows: \"1fr\", gridTemplateColumns: \"1fr\"},\r\n            portalNodeId: props.portalNodeId,\r\n            windowWidth: props.breakpointmanager.getWindowWidth()\r\n        };\r\n\r\n        this.rootDivRef = React.createRef();\r\n        this.overflowRef = !props.isPage? React.createRef(): this.rootDivRef;\r\n        this.containerRef = React.createRef();\r\n        this.backContainerRef = React.createRef();\r\n        this.transformRef = React.createRef();\r\n        this.allChildRefs = {};\r\n\r\n        this.children = {};\r\n\r\n        initGriddata(props.griddata, this.props.breakpointmanager);\r\n\r\n        this.props.idMan.setItem(this.props.id, this);\r\n\r\n        this.onPropsChange = new EventTrigger(this);\r\n\r\n        console.log(\"AwesomeGridLayout2 constructor\", this.props.id)\r\n\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n\r\n        if (this.props.isPage) {\r\n            let el = this.rootDivRef.current;\r\n            console.log(\"--page-scroll\", el.scrollTop, el.scrollHeight, el.clientHeight)\r\n            if (el.scrollHeight - el.clientHeight === 0)\r\n                document.documentElement.style.setProperty('--page-scroll', 0);\r\n            else\r\n                document.documentElement.style.setProperty('--page-scroll',\r\n                    el.scrollTop / (el.scrollHeight - el.clientHeight));\r\n        }\r\n\r\n        this.init();\r\n    }\r\n\r\n    componentDidUpdate (prevProps, prevState, snapshot) {\r\n        if (this.needRender) {\r\n            delete this.needRender;\r\n            this.updateLayout(() => {\r\n                this.isEditor() ? this.onSelect(this.getFromTempData(\"selected\"), this.lateMounted) : this.lateMounted();\r\n            });\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n        this.isEditor() && this.props.editor.updateLayout();\r\n    }\r\n\r\n    callOverride = (funcName, ...args) => {\r\n        let override = this.getOverrideProp(funcName);\r\n        if (override) {\r\n            return override(this, ...args);\r\n        }\r\n\r\n        return false;\r\n    };\r\n\r\n    hasOverride = (funcName) => {\r\n        return this.getOverrideProp(funcName);\r\n    };\r\n\r\n    init = () => {\r\n        this.needRender = true;\r\n\r\n        this.children = {};\r\n\r\n        let lastZIndex = this.getNextIndexData(0).lastZIndex;\r\n        let savedChildren = this.props.griddata.savedChildren;\r\n        if (!savedChildren) {\r\n            this.props.griddata.savedChildren = {};\r\n            savedChildren = this.props.griddata.savedChildren;\r\n\r\n            React.Children.map(this.props.children, (child, i)=> {\r\n                if (child) {\r\n                    let props = {...child.props};\r\n                    let createdChild = this.createChildByData({\r\n                        tagName: child.type.name ? child.type.name : child.type,\r\n                        props: props\r\n                    }, DynamicComponents);\r\n                    this.children[props.id] = {\r\n                        // child: this.getChildClone(child),\r\n                        child: createdChild,\r\n                        zIndex: lastZIndex + 1\r\n                    };\r\n\r\n                    savedChildren[props.id] = {\r\n                        tagName: child.type.name ? child.type.name : child.type,\r\n                        props: this.getClearProps(props),\r\n                        zIndex: this.children[props.id].zIndex\r\n                    };\r\n\r\n                    lastZIndex++;\r\n                }\r\n            });\r\n\r\n            if (this.renderChild) {\r\n                let childs = this.renderChild();\r\n                if (childs instanceof Array) {\r\n                    childs.forEach(c => {\r\n                        if (c) {\r\n                            let props = {...c.props};\r\n                            let createdChild = this.createChildByData({\r\n                                tagName: c.type.name? c.type.name: c.type,\r\n                                props: props\r\n                            }, DynamicComponents);\r\n                            this.children[props.id] = {\r\n                                child: createdChild,\r\n                                zIndex: lastZIndex + 1\r\n                            };\r\n\r\n                            savedChildren[props.id] = {\r\n                                tagName: c.type.name? c.type.name: c.type,\r\n                                props: this.getClearProps(props),\r\n                                zIndex: this.children[props.id].zIndex\r\n                            };\r\n\r\n                            lastZIndex++;\r\n                        }\r\n                    });\r\n                } else {\r\n                    if (childs) {\r\n                        let props = {...childs.props};\r\n                        let createdChild = this.createChildByData({\r\n                            tagName: childs.type.name ? childs.type.name : childs.type,\r\n                            props: props\r\n                        }, DynamicComponents);\r\n                        this.children[props.id] = {\r\n                            child: createdChild,\r\n                            zIndex: lastZIndex + 1\r\n                        };\r\n\r\n                        savedChildren[props.id] = {\r\n                            tagName: childs.type.name ? childs.type.name : childs.type,\r\n                            props: this.getClearProps(props),\r\n                            zIndex: this.children[props.id].zIndex\r\n                        };\r\n\r\n                        lastZIndex++;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (this.props.childrenData) {\r\n                let childs = this.props.childrenData();\r\n                childs.forEach(c => {\r\n                    if (c) {\r\n                        let props = {...c.props};\r\n                        let createdChild = this.createChildByData({\r\n                            tagName: c.tagName,\r\n                            props: props\r\n                        }, DynamicComponents);\r\n                        this.children[props.id] = {\r\n                            child: createdChild,\r\n                            zIndex: lastZIndex + 1\r\n                        };\r\n\r\n                        savedChildren[props.id] = {\r\n                            tagName: c.tagName,\r\n                            props: this.getClearProps(props),\r\n                            zIndex: this.children[props.id].zIndex\r\n                        };\r\n\r\n                        lastZIndex++;\r\n                    }\r\n                });\r\n            }\r\n        } else {\r\n            let savedChildrenArray = Object.values(savedChildren);\r\n            savedChildrenArray.sort((a, b) => {\r\n                if (a.zIndex > b.zIndex) {\r\n                    return 1;\r\n                } else if (a.zIndex === b.zIndex) {\r\n                    // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                    return 0;\r\n                }\r\n                return -1;\r\n            });\r\n            savedChildrenArray.forEach(childData => {\r\n                let oldId = childData.props.id;\r\n                let child = this.createChildByData(childData, DynamicComponents);\r\n                this.children[childData.props.id] = {\r\n                    child: child,\r\n                    zIndex: childData.zIndex\r\n                };\r\n\r\n                if (oldId !== childData.props.id) {\r\n                    delete savedChildren[oldId];\r\n                    savedChildren[childData.props.id] = childData;\r\n                }\r\n            })\r\n        }\r\n\r\n        this.initLayout();\r\n    };\r\n\r\n    initLayout = () => {\r\n        if (this.callOverride(\"initLayout\"))\r\n            return;\r\n\r\n        let style = this.getCompositeFromData(\"style\") || this.getDefaultStyle();\r\n\r\n        this.setTransformStyle(this.getCompositeFromData(\"transform\"), undefined,\r\n            this.props.breakpointmanager.getHighestBpName());\r\n        this.setGridItemStyle(this.getCompositeFromData(\"gridItemStyle\") ||\r\n            this.props.defaultGridItemStyle,\r\n            this.props.breakpointmanager.getHighestBpName());\r\n\r\n        if (this.props.isPage)\r\n            style.width = this.props.style.width;\r\n\r\n        this.setStyle(style, undefined,\r\n            this.props.breakpointmanager.getHighestBpName());\r\n        this.setGrid(this.getCompositeFromData(\"grid\") || this.props.defaultGrid, undefined,\r\n            this.props.breakpointmanager.getHighestBpName());\r\n    };\r\n\r\n    getDefaultStyle = () => {\r\n        let style = { ...this.props.defaultStyle, ...this.props.style};\r\n\r\n        if ((this.props.defaultGridItemStyle).justifySelf === \"stretch\" &&\r\n            (this.getFromTempData(\"resizable\") &&\r\n                (!this.props.resizeSides || (!this.props.resizeSides.includes(\"w\") &&\r\n                    !this.props.resizeSides.includes(\"e\"))))) {\r\n            style.width = \"auto\";\r\n        }\r\n\r\n        return style;\r\n    };\r\n\r\n    lateMounted = () => {\r\n        if (this.hasOverride(\"lateMounted\")) {\r\n            return this.callOverride(\"lateMounted\");\r\n        }\r\n\r\n        let size = this.getSize(false, true, true);\r\n        this.addToSnap();\r\n\r\n        let baseDocks = this.getBaseDocks();\r\n        this.setDocks(baseDocks.top, baseDocks.left, baseDocks.bottom, baseDocks.right,\r\n            this.getFromTempData(\"autoDock\"),\r\n            this.props.breakpointmanager.getHighestBpName(), true);\r\n\r\n        console.log(\"AwesomeGridLayout2 lateMounted\", this.props.id)\r\n        if (this.props.onPageResize) {\r\n            console.log(\"AwesomeGridLayout2 lateMounted.onPageResize\", this.props.id)\r\n            this.props.onPageResize(size.width, this, true);\r\n        }\r\n\r\n        if (!this.onChildMountedCalled) {\r\n            console.log(\"onChildMountedCalled\")\r\n            this.onChildMountedCalled = true;\r\n            this.props.onChildMounted && this.props.onChildMounted(this);\r\n        }\r\n        this.isEditor() && this.props.editor.updateLayout();\r\n    };\r\n\r\n    getPrimaryOptions = () => {\r\n        return this.props.getPrimaryOptions && this.props.getPrimaryOptions();\r\n    };\r\n\r\n    getShortcutOptions = () => {\r\n        return this.props.getShortcutOptions && this.props.getShortcutOptions();\r\n    };\r\n\r\n    hasMiniMenu = () => {\r\n        if (this.hasOverride(\"hasMiniMenu\")) {\r\n            return this.callOverride(\"hasMiniMenu\");\r\n        }\r\n\r\n        return true;\r\n    };\r\n\r\n    addToSnap = debounce(() => {\r\n        if (this.callOverride(\"addToSnap\"))\r\n            return;\r\n\r\n        // let rect = this.getSize(false);\r\n        let rect = this.getBoundarySize() || this.getSize(false);\r\n        if (rect) {\r\n            this.props.snap.addSnap(this.props.id,\r\n                [\r\n                    {\r\n                        id: this.props.id,\r\n                        value: rect.top,\r\n                        p1: rect.left,\r\n                        p2: rect.left + rect.width\r\n                    },\r\n                    !this.props.isPage && {\r\n                        id: this.props.id,\r\n                        value: rect.top + rect.height / 2,\r\n                        p1: rect.left,\r\n                        p2: rect.left + rect.width\r\n                    },\r\n                    {\r\n                        id: this.props.id,\r\n                        value: rect.top + rect.height,\r\n                        p1: rect.left,\r\n                        p2: rect.left + rect.width\r\n                    }\r\n                ],\r\n                [\r\n                    {\r\n                        id: this.props.id,\r\n                        value: rect.left,\r\n                        p1: rect.top,\r\n                        p2: rect.top + rect.height\r\n                    },\r\n                    !this.props.isPage && {\r\n                        id: this.props.id,\r\n                        value: rect.left + rect.width / 2,\r\n                        p1: rect.top,\r\n                        p2: rect.top + rect.height\r\n                    },\r\n                    {\r\n                        id: this.props.id,\r\n                        value: rect.left + rect.width,\r\n                        p1: rect.top,\r\n                        p2: rect.top + rect.height\r\n                    }\r\n                ],\r\n                this.getParentsId()\r\n            );\r\n        }\r\n\r\n        Object.values(this.allChildRefs).forEach(childRef => {\r\n            if (childRef && childRef.current){\r\n                childRef.current.addToSnap();\r\n            }\r\n        });\r\n    }, 500);\r\n\r\n    getParentsId = () => {\r\n        let parentsId = [];\r\n        let parent = this.props.parent;\r\n\r\n        while (parent) {\r\n            parentsId.push(parent.props.id);\r\n            parent = parent.props.parent;\r\n        }\r\n\r\n        return parentsId;\r\n    };\r\n\r\n    getContainerParent = () => {\r\n        if (this.getFromTempData(\"isContainer\"))\r\n            return this;\r\n\r\n        let containerParent;\r\n        let parent = this.props.parent;\r\n\r\n        while (!containerParent) {\r\n            if (parent.getFromTempData(\"isContainer\")) {\r\n                containerParent = parent;\r\n            } else {\r\n                parent = parent.props.parent;\r\n            }\r\n        }\r\n\r\n        return containerParent;\r\n    };\r\n\r\n    getGridLineSnaps = () => {\r\n        let snaps = {\r\n            horizontals: [],\r\n            verticals: [],\r\n            id: this.props.id\r\n        };\r\n        this.prepareRects();\r\n        let xLineRef = this.props.gridLine.getXlineRef(this.props.id);\r\n        for(let i = 0; i < xLineRef.length; i++) {\r\n            // let current = xLineRef[i].current;\r\n            let rect = this.getGridLineRect(xLineRef[i], i, 'x', this);\r\n            if (!rect)\r\n                continue;\r\n\r\n            // let rect = current.getBoundingClientRect();\r\n            // let rect = current.rect;\r\n            snaps.verticals.push({\r\n                id: this.props.id,\r\n                value: rect.left + ((i === xLineRef.length - 1)? 1: 0),\r\n                p1: rect.top,\r\n                p2: rect.top + rect.height\r\n            });\r\n        }\r\n        let yLineRef = this.props.gridLine.getYlineRef(this.props.id);\r\n        for(let i = 0; i < yLineRef.length; i++) {\r\n            // let current = yLineRef[i].current;\r\n            let rect = this.getGridLineRect(yLineRef[i], i, 'y', this);\r\n            if (!rect)\r\n                continue;\r\n\r\n            // let rect = current.getBoundingClientRect();\r\n            // let rect = current.rect;\r\n            snaps.horizontals.push({\r\n                id: this.props.id,\r\n                value: rect.top + ((i === yLineRef.length - 1)? 1: 0),\r\n                p1: rect.left,\r\n                p2: rect.left + rect.width\r\n            });\r\n        }\r\n\r\n        return [snaps];\r\n    };\r\n\r\n    createChildByData = (childData, dynamicComponents, newId, onChildMounted, fixed) => {\r\n        console.log(\"createChildByData 1\");\r\n        if (this.callOverride(\"addToSnap\", childData, dynamicComponents, newId, onChildMounted, fixed))\r\n            return;\r\n\r\n        let tagName = childData.tagName;\r\n        let props = childData.props;\r\n\r\n        let griddata = initGriddata(props.griddata, this.props.breakpointmanager);\r\n\r\n        if (newId)\r\n            props.id = newId;\r\n        if (!props.id)\r\n            props.id = this.props.idMan.getId(tagName);\r\n        else\r\n            props.id = this.props.idMan.getId(tagName, props.id);\r\n\r\n        griddata.id = props.id;\r\n        if (!props.griddata || newId)\r\n            props.griddata = griddata;\r\n\r\n        this.allChildRefs[props.id] = React.createRef();\r\n\r\n        if (this.getFromTempData(\"isFixed\", props.griddata))\r\n            fixed = true;\r\n\r\n        let AGLProps = {};\r\n        if (tagName[0] == tagName[0].toUpperCase()) {\r\n            console.log(\"createChildByData portalNodeId\",props.portalNodeId, (fixed && `${this.props.id}_fixed_holder`))\r\n            AGLProps = {\r\n                aglRef: this.allChildRefs[props.id],\r\n                viewRef: this.props.viewRef,\r\n                breakpointmanager: this.props.breakpointmanager,\r\n                undoredo: this.props.undoredo,\r\n                dragdrop: this.props.dragdrop,\r\n                select: this.props.select,\r\n                snap: this.props.snap,\r\n                idMan: this.props.idMan,\r\n                input: this.props.input,\r\n                copyMan: this.props.copyMan,\r\n                window: this.props.window,\r\n                document: this.props.document,\r\n                editorData: this.props.editorData,\r\n                anchorMan: this.props.anchorMan,\r\n                gridLine: this.props.gridLine,\r\n                gridEditorRef: this.props.gridEditorRef,\r\n                parent: this,\r\n                editor: this.props.editor,\r\n                onChildMounted: onChildMounted,\r\n                portalNodeId: (fixed && `${this.props.id}_fixed_holder`),\r\n                ...this.getAllChildOverrideProps()\r\n            };\r\n        }\r\n\r\n        let component = tagName[0] === tagName[0].toUpperCase()? dynamicComponents[tagName]: tagName;\r\n\r\n        if (tagName[0] !== tagName[0].toUpperCase())\r\n            delete props.griddata;\r\n\r\n        return React.createElement(\r\n            component,\r\n            {\r\n                ...props,\r\n                key: props.id,\r\n                ...AGLProps,\r\n            }\r\n        );\r\n    };\r\n\r\n    getSize = (updateState = true, force, fullForce) => {\r\n        if (!this.rootDivRef.current)\r\n            return;\r\n\r\n        if (this.tempSize && !force)\r\n            return cloneObject(this.tempSize);\r\n\r\n        let rect = fullForce ? this.rootDivRef.current.getBoundingClientRect() :\r\n            getCachedBoundingRect(this.props.id, this.rootDivRef.current);\r\n\r\n        let clientWidth = rect.width;\r\n        let clientHeight = rect.height;\r\n        let scrollTop = 0;\r\n        let scrollLeft = 0;\r\n        let scrollWidth = rect.width;\r\n        let scrollHeight = rect.height;\r\n        if (this.overflowRef.current) {\r\n            clientWidth = fullForce ? this.overflowRef.current.clientWidth :\r\n                getCachedClientWidth(this.props.id, this.overflowRef.current);\r\n            clientHeight = fullForce ? this.overflowRef.current.clientHeight :\r\n                getCachedClientHeight(this.props.id, this.overflowRef.current);\r\n            scrollTop = fullForce ? this.overflowRef.current.scrollTop :\r\n                getCachedScrollTop(this.props.id, this.overflowRef.current);\r\n            scrollLeft = fullForce ? this.overflowRef.current.scrollLeft :\r\n                getCachedScrollLeft(this.props.id, this.overflowRef.current);\r\n            scrollWidth = fullForce ? this.overflowRef.current.scrollWidth :\r\n                getCachedScrollWidth(this.props.id, this.overflowRef.current);\r\n            scrollHeight = fullForce ? this.overflowRef.current.scrollHeight :\r\n                getCachedScrollHeight(this.props.id, this.overflowRef.current);\r\n        }\r\n\r\n        let padding = cloneObject(this.getCompositeFromData(\"padding\")) || {};\r\n        ['top', 'left', 'bottom', 'right'].forEach(key => {\r\n            padding[key] = getPxValueFromCSSValue(padding[key], 0, this) || 0;\r\n        });\r\n        let temp = {\r\n            x: rect.width,\r\n            y: rect.height,\r\n            clientWidth: clientWidth,\r\n            clientHeight: clientHeight,\r\n            scrollTop: scrollTop,\r\n            scrollLeft: scrollLeft,\r\n            scrollWidth: scrollWidth,\r\n            scrollHeight: scrollHeight,\r\n            top: rect.top,\r\n            left: rect.left,\r\n            bottom: rect.bottom,\r\n            right: rect.right,\r\n            width: rect.width,\r\n            height: rect.height,\r\n            widthMinusPadding: rect.width - (padding.left||0)- (padding.right||0),\r\n            heightMinusPadding: rect.height - (padding.top||0)- (padding.bottom||0),\r\n            scrollWidthMinusPadding: scrollWidth - (padding.left||0)- (padding.right||0),\r\n            scrollHeightMinusPadding: scrollHeight - (padding.top||0)- (padding.bottom||0)\r\n        };\r\n\r\n        this.tempSize = temp;\r\n\r\n        if (fullForce) {\r\n            addToCache(this.props.id, this.tempSize, \"boundingRects\");\r\n            addToCache(this.props.id, clientWidth, \"clientsWidth\");\r\n            addToCache(this.props.id, clientHeight, \"clientsHeight\");\r\n            addToCache(this.props.id, scrollTop, \"scrollsTop\");\r\n            addToCache(this.props.id, scrollLeft, \"scrollsLeft\");\r\n            addToCache(this.props.id, scrollWidth, \"scrollsWidth\");\r\n            addToCache(this.props.id, scrollHeight, \"scrollsHeight\");\r\n        }\r\n\r\n        return temp;\r\n    };\r\n\r\n    getBoundarySize = (force) => {\r\n        if (this.transformRef.current) {\r\n            if (!force)\r\n                return getCachedBoundingRect(`${this.props.id}_transform`, this.transformRef.current);\r\n            else\r\n                return this.transformRef.current.getBoundingClientRect();\r\n        }\r\n    };\r\n\r\n    invalidateSize = (self = true, updateParent = true, updateChildren = true, sourceId,\r\n                      addToSnap = false) => {\r\n        if (this.callOverride(\"invalidateSize\", self, updateParent, updateChildren, sourceId))\r\n            return;\r\n\r\n        if (addToSnap)\r\n            this.addToSnap();\r\n\r\n        if (!sourceId)\r\n            sourceId = this.props.id;\r\n\r\n        if (self)\r\n            delete this.tempSize;\r\n\r\n        if (updateChildren) {\r\n            Object.values(this.allChildRefs).forEach(childRef => {\r\n                if (childRef && childRef.current && sourceId !== childRef.current.props.id) {\r\n                    childRef.current.invalidateSize(true, false, true, sourceId, addToSnap);\r\n                }\r\n            });\r\n        }\r\n\r\n        if (updateParent) {\r\n            this.getParentsId().forEach(id => {\r\n                let parent = this.props.idMan.getItem(id);\r\n                if (parent && parent.mounted && sourceId !== parent.props.id) {\r\n                    parent.invalidateSize(true, false, false, sourceId, addToSnap);\r\n                }\r\n            });\r\n        }\r\n\r\n        if (this.props.onInvalidateSize)\r\n            this.props.onInvalidateSize();\r\n    };\r\n\r\n    onWindowSizeChange = () => {\r\n        this.addToSnap();\r\n        this.prepareRects();\r\n        Object.values(this.allChildRefs).forEach(childRef => {\r\n            if (childRef && childRef.current) {\r\n                childRef.current.onWindowSizeChange();\r\n            }\r\n        });\r\n    };\r\n\r\n    getRenderChildData = (id) => {\r\n        return this.children[id];\r\n    };\r\n\r\n    arrangeIndex = (child, type) => {\r\n        let childData = this.getFromTempData(\"savedChildren\")[child.props.id];\r\n        let currentIndex = childData.zIndex;\r\n\r\n        if (!currentIndex)\r\n            currentIndex = 0;\r\n\r\n        let indexData = this.getNextIndexData(currentIndex);\r\n        switch (type) {\r\n            case \"forward\":\r\n                childData.zIndex = indexData.nextZIndex;\r\n                if (indexData.nextChild) {\r\n                    indexData.nextChild.zIndex = currentIndex;\r\n                    this.getRenderChildData(indexData.nextChild.props.id).zIndex = currentIndex;\r\n                }\r\n                break;\r\n            case \"backward\":\r\n                childData.zIndex = indexData.prevZIndex;\r\n                if (indexData.prevChild) {\r\n                    indexData.prevChild.zIndex = currentIndex;\r\n                    this.getRenderChildData(indexData.prevChild.props.id).zIndex = currentIndex;\r\n                }\r\n                break;\r\n            case \"front\":\r\n                childData.zIndex = indexData.lastZIndex + 1;\r\n                break;\r\n            case \"back\":\r\n                childData.zIndex = indexData.firstZIndex - 1;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.getRenderChildData(childData.props.id).zIndex = childData.zIndex;\r\n\r\n        this.updateLayout();\r\n    };\r\n\r\n    changeIndex = (child, index) => {\r\n        let allChildData = this.getFromTempData(\"savedChildren\");\r\n        let childData = allChildData[child.props.id];\r\n        let currentIndex = childData.zIndex;\r\n\r\n        if (currentIndex === index)\r\n            return;\r\n\r\n        if (!currentIndex)\r\n            currentIndex = 0;\r\n\r\n        let findIndex = (zIndex) => {\r\n            return allChildData.findIndex(a => {\r\n                return a.zIndex === zIndex;\r\n            });\r\n        };\r\n\r\n        let change = currentIndex < index ? -1 : 1;\r\n\r\n        if (findIndex(index)) // if false, means index is free to set\r\n        {\r\n            let startIndex = currentIndex < index ? findIndex(currentIndex) || 0 : findIndex(index);\r\n            let lastIndex = currentIndex < index ? findIndex(index) : findIndex(currentIndex) || 0 ;\r\n\r\n            for (let i = startIndex; i < lastIndex + 1; i++) {\r\n                let testChildData = allChildData[i];\r\n                testChildData.zIndex += change;\r\n                this.getRenderChildData(testChildData.props.id).zIndex = testChildData.zIndex;\r\n            }\r\n        }\r\n\r\n        childData.zIndex = index;\r\n        this.getRenderChildData(childData.props.id).zIndex = childData.zIndex;\r\n\r\n        this.updateLayout();\r\n    };\r\n\r\n    setChildZIndex = (childId, zIndex) => {\r\n        let allChildData = this.getFromTempData(\"savedChildren\");\r\n        let childData = allChildData[childId];\r\n        childData.zIndex = zIndex;\r\n        this.getRenderChildData(childData.props.id).zIndex = childData.zIndex;\r\n    };\r\n\r\n    getNextIndexData = (currentIndex) => {\r\n        let children = Object.values(this.getFromTempData(\"savedChildren\") || {});\r\n        children.sort((a, b) => {\r\n            if (a.zIndex > b.zIndex) {\r\n                return 1;\r\n            } else if (a.zIndex === b.zIndex) {\r\n                // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                return 0;\r\n            }\r\n            return -1;\r\n        });\r\n        let result = {};\r\n        for (let i = 0; i < children.length; i++){\r\n            let child = children[i];\r\n\r\n            let childZIndex = child.zIndex;\r\n\r\n            if (i === 0) {\r\n                result.firstZIndex = childZIndex;\r\n            }\r\n\r\n            if (i === children.length - 1) {\r\n                result.lastZIndex = childZIndex;\r\n            }\r\n\r\n            if (result.nextChild === undefined && childZIndex > currentIndex){\r\n                result.nextChild = child;\r\n                result.nextZIndex = childZIndex;\r\n                continue;\r\n            }\r\n\r\n            if (childZIndex < currentIndex){\r\n                result.prevChild = child;\r\n                result.prevZIndex = childZIndex;\r\n                // continue;\r\n            }\r\n        }\r\n\r\n        if (!result.nextChild)\r\n            result.nextZIndex = result.lastZIndex + 1;\r\n        if (!result.prevChild)\r\n            result.prevZIndex = result.firstZIndex - 1;\r\n\r\n        if (result.lastZIndex === undefined)\r\n            result.lastZIndex = 0;\r\n\r\n        return result;\r\n    };\r\n\r\n    updateLayout = (callback) => {\r\n        if (this.callOverride(\"updateLayout\", callback))\r\n            return;\r\n\r\n        this.setState({reload: true}, callback);\r\n    };\r\n\r\n    isPointInclude = (x, y, forceCalculate) => {\r\n        let rect = this.getSize(false, forceCalculate);\r\n        return x >= rect.left && x <= rect.left + rect.width &&\r\n            y >= rect.top && y <= rect.top + rect.height;\r\n    };\r\n\r\n    addChild = (childElement, newId, newProps, callback, onChildMounted, fixed, keepChildren) => {\r\n        if (this.callOverride(\"addChild\", childElement, newId, newProps, callback, onChildMounted, fixed))\r\n            return;\r\n\r\n        if (!childElement.props.tagName && !childElement.type) {\r\n            throw new Error(\"childElement must pass tagName prop to AGL or be primitive type\");\r\n        }\r\n\r\n        let lastZIndex = this.getNextIndexData(0).lastZIndex;\r\n        let props = newId? newProps: {...childElement.props};\r\n        console.log(\"addChild\")\r\n        let createdChild = this.createChildByData({\r\n            tagName: childElement.props.tagName? childElement.props.tagName:\r\n                childElement.type.name? childElement.type.name: childElement.type,\r\n            props: this.getClearProps(props, keepChildren)\r\n        }, DynamicComponents, newId, onChildMounted, fixed);\r\n        this.children[props.id] = {\r\n            child: createdChild,\r\n            zIndex: lastZIndex + 1\r\n        };\r\n\r\n        this.props.griddata.savedChildren[props.id] = {\r\n            tagName: childElement.props.tagName? childElement.props.tagName:\r\n                childElement.type.name? childElement.type.name: childElement.type,\r\n            props: this.getClearProps(props),\r\n            zIndex: this.children[props.id].zIndex\r\n        };\r\n\r\n        this.updateLayout(callback);\r\n        this.props.onChildAdd && this.props.onChildAdd();\r\n    };\r\n\r\n    onBreakpointChange = (width, newBreakpointName, devicePixelRatio) => {\r\n        if (this.callOverride(\"onBreakpointChange\", width, newBreakpointName, devicePixelRatio))\r\n            return;\r\n\r\n        let style = this.getCompositeFromData(\"style\");\r\n        let gridItemStyle = this.getCompositeFromData(\"gridItemStyle\");\r\n        let transform = this.getCompositeFromData(\"transform\");\r\n        this.setStyle(style, undefined, undefined, true);\r\n        this.setGridItemStyle(gridItemStyle, undefined, true);\r\n        this.setTransformStyle(transform, undefined, undefined, true);\r\n\r\n        Object.values(this.allChildRefs).forEach(childRef => {\r\n            if (childRef && childRef.current) {\r\n                childRef.current.onBreakpointChange(width, newBreakpointName, devicePixelRatio);\r\n            }\r\n        });\r\n\r\n        this.updateLayout();\r\n    };\r\n\r\n    onDeletingChild = (item) => {\r\n        if (this.props.onDeletingChild)\r\n            this.props.onDeletingChild(item);\r\n    }\r\n\r\n    delete = (fromUndoRedo) => {\r\n        if (this.callOverride(\"delete\"))\r\n            return;\r\n\r\n        if (!this.props.parent)\r\n            return;\r\n\r\n\r\n        if (this.props.onItemPreDelete) {\r\n            let allow = this.props.onItemPreDelete(this);\r\n            if (!allow)\r\n                return;\r\n        }\r\n\r\n        this.props.parent.onDeletingChild(this);\r\n\r\n        if (!fromUndoRedo) {\r\n            let itemId = this.props.id;\r\n            let parentId = this.props.parent.props.id;\r\n            let childData = cloneObject(this.props.parent.getChildData(itemId));\r\n            this.props.undoredo.add((idMan) => {\r\n                idMan.getItem(itemId).delete(true);\r\n            }, (idMan) => {\r\n                createItem(idMan.getItem(parentId), childData, true);\r\n            });\r\n        }\r\n\r\n        this.clearItem();\r\n\r\n        this.props.parent.removeChildElement(this);\r\n\r\n        this.props.select.clearMiniMenu();\r\n    };\r\n\r\n    getChildData = (childId) => {\r\n        return this.props.griddata.savedChildren[childId];\r\n    };\r\n\r\n    getOverrideProp = (funcName) => {\r\n        let key = Object.keys(this.props).find(key => {\r\n            return key === `${funcName}Override`;\r\n        });\r\n\r\n        return this.props[key];\r\n    };\r\n\r\n    getAllOverrideProps = (props) => {\r\n        let result = {};\r\n        Object.keys(props || this.props).forEach(key => {\r\n            if (key.endsWith(\"Override\")) {\r\n                result[key] = this.props[key];\r\n            }\r\n        });\r\n\r\n        return result;\r\n    };\r\n\r\n    getAllChildOverrideProps = (props) => {\r\n        let result = {};\r\n        Object.keys(props || this.props).forEach(key => {\r\n            if (key.endsWith(\"ChildOverride\")) {\r\n                result[key.replace(\"ChildOverride\", \"Override\")] = this.props[key];\r\n            }\r\n        });\r\n\r\n        return result;\r\n    };\r\n\r\n    clearItem = () => {\r\n        this.props.idMan.removeId(this.props.id);\r\n        this.props.gridLine.removeGridLine(this.props.id);\r\n        this.props.snap.removeSnap(this.props.id);\r\n\r\n        let anchor = this.getFromTempData(\"anchor\");\r\n        anchor && this.props.anchorMan.removeAnchor(anchor.id, this);\r\n\r\n        this.state.selected && this.props.select.updateResizePanes();\r\n        this.state.selected && this.props.select.updateHelpSizeLines();\r\n        this.state.selected && this.props.select.setInspector();\r\n        if (this.state.selected)\r\n            this.props.select.selectedItem = false;\r\n        Object.values(this.allChildRefs).forEach(childRef => {\r\n            if (childRef && childRef.current) {\r\n                childRef.current.clearItem();\r\n            }\r\n        });\r\n    };\r\n\r\n    getClearProps = (props, keepChildren) => {\r\n        delete props.breakpointmanager;\r\n        delete props.undoredo;\r\n        delete props.dragdrop;\r\n        delete props.select;\r\n        delete props.editor;\r\n        delete props.snap;\r\n        delete props.idMan;\r\n        delete props.input;\r\n        delete props.copyMan;\r\n        delete props.anchorMan;\r\n        delete props.aglRef;\r\n        delete props.parent;\r\n        delete props.window;\r\n        delete props.document;\r\n        delete props.viewRef;\r\n        delete props.aglComponent;\r\n        if (!keepChildren)\r\n            delete props.children;\r\n        delete props.allChildRefs;\r\n        delete props.gridLine;\r\n        delete props.page;\r\n        delete props.gridEditorRef;\r\n        delete props.onChildMounted;\r\n        delete props.filDataOnMount;\r\n\r\n        Object.keys(this.getAllOverrideProps(props)).forEach(key => {\r\n            delete props[key];\r\n        });\r\n\r\n        Object.keys(props).forEach(key => {\r\n            if (typeof props[key] === \"function\")\r\n                delete props[key];\r\n        });\r\n\r\n        return props;\r\n    };\r\n\r\n    removeChildElement = (childElement, callback) => {\r\n        if (this.hasOverride(\"removeChildElement\"))\r\n            return this.callOverride(\"removeChildElement\", childElement);\r\n\r\n        delete this.children[childElement.props.id];\r\n        delete this.allChildRefs[childElement.props.id];\r\n        delete this.props.griddata.savedChildren[childElement.props.id];\r\n\r\n        setTimeout(() => {\r\n            if (!this.mounted)\r\n                return;\r\n            this.updateLayout(callback);\r\n        }, 0);\r\n    };\r\n\r\n    // Can be remove carefully\r\n    hide = () => {\r\n        this.setState({hide: true});\r\n    };\r\n\r\n    // Can be remove carefully\r\n    show = () => {\r\n        this.setState({hide: false});\r\n    };\r\n\r\n    onMouseOver = (e, fromEnter) => {\r\n        if (!this.props.dragdrop.getDragging()) {\r\n            e.stopPropagation();\r\n\r\n            // if (this.getFromTempData(\"selected\"))\r\n            //     return;\r\n\r\n            this.setItemHover(true);\r\n\r\n            this.setMouseOverForNonDragging(this);\r\n\r\n            if (this.props.parent && this.props.parent.onMouseOut) {\r\n                setTimeout(() => {\r\n                    if (!this.mounted)\r\n                        return;\r\n                    this.props.parent.onMouseOut(e, true);\r\n                }, 10);\r\n            }\r\n        } else {\r\n            if (this.props.isPage)\r\n                return;\r\n\r\n            if (this.props.dragdrop.getDragging().props.id === this.props.id)\r\n                return;\r\n\r\n            e.stopPropagation();\r\n\r\n            let rect = getCachedBoundingRect(this.props.id, this.rootDivRef.current);\r\n            if (e.clientX < rect.x - 1 || e.clientX > (rect.x + rect.width) ||\r\n                e.clientY < rect.y - 1 || e.clientY > (rect.y + rect.height))\r\n                return;\r\n\r\n            this.setItemHover(true);\r\n\r\n            if (this.props.parent && this.props.parent.onMouseOut) {\r\n                setTimeout(() => {\r\n                    if (!this.mounted)\r\n                        return;\r\n                    this.props.parent.onMouseOut(e, true);\r\n                }, 10);\r\n            }\r\n\r\n            this.setMouseOver(this, {\r\n                x: e.clientX,\r\n                y: e.clientY\r\n            }, (draggingItem, mouseOver) => {\r\n                // on new parent state changed\r\n                draggingItem.toggleHelpLines(this);\r\n            });\r\n        }\r\n    };\r\n\r\n    setMouseOverForNonDragging = () => {\r\n        if (this.hasOverride(\"setMouseOverForNonDragging\"))\r\n            return this.callOverride(\"setMouseOverForNonDragging\");\r\n\r\n        this.props.dragdrop.setMouseOverForNonDragging(this);\r\n    };\r\n\r\n    setItemHover = (hover) => {\r\n        if (!this.isEditor()) return;\r\n\r\n        if (hover)\r\n            this.props.select.updateHover(this, this.getSize(false));\r\n        else\r\n            this.props.select.updateHover(this, undefined, true);\r\n    };\r\n\r\n    onMouseEnter = (e) => {\r\n        if (this.hasOverride(\"onMouseEnter\"))\r\n            this.callOverride(\"onMouseEnter\", e);\r\n\r\n        this.onMouseOver(e, true);\r\n    };\r\n\r\n    onMouseOut = (e, outAllParent) => {\r\n        if (this.hasOverride(\"onMouseOut\"))\r\n            this.callOverride(\"onMouseOut\", e);\r\n\r\n        if (outAllParent && this.props.parent && this.props.parent.onMouseOut)\r\n            this.props.parent.onMouseOut(e);\r\n\r\n        this.setItemHover(false);\r\n    };\r\n\r\n    prepareRects = (forceRect, forceGridLines, callback, gridType) => {\r\n        if (this.hasOverride(\"prepareRects\"))\r\n            return this.callOverride(\"prepareRects\", forceRect, forceGridLines);\r\n\r\n        let rect = this.getSize(false, forceRect);\r\n\r\n        if (forceGridLines || !this.props.gridLine.isPrepared(this.props.id)) {\r\n            this.isEditor() && this.props.gridLine.prepareRects(this.props.id);\r\n        }\r\n\r\n        return rect;\r\n    };\r\n\r\n    onChildDrop = (child, newId, fixed, onNewChildMounted) => {\r\n        console.log(\"onChildDrop\")\r\n        if (this.callOverride(\"onChildDrop\", child, newId, fixed, onNewChildMounted))\r\n            return;\r\n\r\n        let childRect = child.getSize(false);\r\n        let thisRect = this.getSize(false, true);\r\n\r\n        let calcResult, gridItemStyle, coordinates, newProps;\r\n\r\n        if (!newId) {\r\n            let relativeY = childRect.top - thisRect.top;\r\n            // if (fixed) {\r\n            //     // relativeY = childRect.top - this.props.breakpointmanager.getWindowHeight() / 8;\r\n            //     relativeY = childRect.top - thisRect.top;\r\n            // }\r\n            this.prepareRects();\r\n            calcResult = this.calculateChildGridItem(child,\r\n                childRect.left - thisRect.left, relativeY, this,\r\n                childRect.width,\r\n                childRect.height,\r\n                thisRect\r\n            );\r\n        }\r\n        else\r\n        {\r\n            this.prepareRects();\r\n            calcResult = this.calculateChildGridItem(child,\r\n                thisRect.width / 2 - childRect.width / 2,\r\n                thisRect.height / 2 - childRect.height / 2,\r\n                this,\r\n                childRect.width,\r\n                childRect.height,\r\n                thisRect\r\n            );\r\n        }\r\n\r\n        gridItemStyle = calcResult.gridItemStyle;\r\n        coordinates = calcResult.coordinates;\r\n        if (!newId) {\r\n            if (gridItemStyle.alignSelf !== \"stretch\") {\r\n                if (child.getFromData(\"style\").width !== \"auto\")\r\n                    child.setProps(\"width\", childRect.width, coordinates, undefined,\r\n                        this.props.breakpointmanager.getHighestBpName());\r\n            } else {\r\n                child.setProps(\"width\", \"auto\", undefined,\r\n                    this.props.breakpointmanager.getHighestBpName());\r\n            }\r\n            if (child.getFromData(\"style\").height === \"auto\")\r\n                if (child.getFromData(\"style\").minHeight !== \"auto\")\r\n                    child.setProps(\"minHeight\", childRect.height, coordinates, undefined,\r\n                        this.props.breakpointmanager.getHighestBpName());\r\n            else {\r\n                if (child.getFromData(\"style\").height !== \"auto\")\r\n                    child.setProps(\"height\", childRect.height, coordinates, undefined,\r\n                        this.props.breakpointmanager.getHighestBpName());\r\n                if (child.getFromData(\"style\").minHeight !== \"auto\")\r\n                    child.setProps(\"minHeight\", childRect.height, coordinates, undefined,\r\n                        this.props.breakpointmanager.getHighestBpName());\r\n            }\r\n        } else {\r\n            newProps = {...child.props};\r\n            newProps.griddata = cloneObject(newProps.griddata);\r\n            this.setDataInBreakpoint(\"gridItemStyle\", gridItemStyle, newProps.griddata, undefined,\r\n                this.props.breakpointmanager.getHighestBpName());\r\n            this.setTempData(\"selected\", true, newProps.griddata);\r\n            if (gridItemStyle.alignSelf !== \"stretch\") {\r\n                this.setProps(\"width\", childRect.width, coordinates, newProps.griddata, undefined,\r\n                    this.props.breakpointmanager.getHighestBpName());\r\n            } else {\r\n                this.setProps(\"width\", \"auto\", undefined, newProps.griddata, undefined,\r\n                    this.props.breakpointmanager.getHighestBpName());\r\n            }\r\n            if (child.getFromData(\"style\").height === \"auto\")\r\n                this.setProps(\"minHeight\", childRect.height, coordinates, newProps.griddata, undefined,\r\n                    this.props.breakpointmanager.getHighestBpName());\r\n            else {\r\n                this.setProps(\"height\", childRect.height, coordinates, newProps.griddata, undefined,\r\n                    this.props.breakpointmanager.getHighestBpName());\r\n                this.setProps(\"minHeight\", childRect.height, coordinates, newProps.griddata, undefined,\r\n                    this.props.breakpointmanager.getHighestBpName());\r\n            }\r\n        }\r\n\r\n        child.clearFromAllBp(\"style\", undefined, this.props.breakpointmanager.getHighestBpName());\r\n        child.clearFromAllBp(\"gridItemStyle\", undefined, this.props.breakpointmanager.getHighestBpName());\r\n\r\n        this.addChild(child, newId, newProps, () => {\r\n            let newChild = this.allChildRefs[newId? newProps.id: child.props.id].current;\r\n            newChild.setGridItemStyle(gridItemStyle,\r\n                this.props.breakpointmanager.getHighestBpName());\r\n            if (!newId) {\r\n                newChild.state.selected && newChild.toggleHelpLines(this);\r\n            }\r\n\r\n        }, (agl) => {\r\n            window.requestAnimationFrame(() => {\r\n                this.invalidateSize(true, true, true);\r\n                window.requestAnimationFrame(() => {\r\n                    this.props.select.onScrollItem();\r\n                });\r\n            });\r\n            if (onNewChildMounted)\r\n                onNewChildMounted(agl);\r\n        }, fixed, undefined);\r\n    };\r\n\r\n    onChildLeave = (child, callback) => {\r\n        if (this.hasOverride(\"onChildLeave\"))\r\n            return this.callOverride(\"onChildLeave\", child);\r\n\r\n        this.removeChildElement(child, callback);\r\n        child.removeIdAndChildrenId();\r\n    };\r\n\r\n    removeIdAndChildrenId = () => {\r\n        this.props.idMan.removeId(this.props.id);\r\n        Object.values(this.allChildRefs).forEach(childRef => {\r\n            if (childRef && childRef.current) {\r\n                childRef.current.removeIdAndChildrenId();\r\n            }\r\n        });\r\n    };\r\n\r\n    nonePointerEventForChildren = (parentDragging) => {\r\n        Object.values(this.allChildRefs).forEach(childRef => {\r\n            if (childRef && childRef.current) {\r\n                childRef.current.onParentDragging(parentDragging);\r\n            }\r\n        });\r\n    };\r\n\r\n    onParentDragging = (parentDragging) => {\r\n        this.nonePointerEventForChildren(parentDragging);\r\n        if (!parentDragging) {\r\n            this.setRuntimeStyle();\r\n            return;\r\n        }\r\n        let runtimeStyle = {...this.state.runtimeStyle};\r\n        runtimeStyle.pointerEvents = \"none\";\r\n        this.setRuntimeStyle(runtimeStyle);\r\n    };\r\n\r\n    onDragStart = (e, group, callGroup) => {\r\n        if (this.callOverride(\"onDragStart\", e, group, callGroup))\r\n            return;\r\n\r\n        if (this.getFromTempData(\"dontMove\") || this.resizing || !this.props.parent.children[this.props.id])\r\n            return;\r\n\r\n        if (this.props.parent)\r\n            this.props.parent.prepareRects();\r\n\r\n        if (!group)\r\n            this.props.dragdrop.setDragging(this);\r\n\r\n        this.nonePointerEventForChildren(true);\r\n\r\n        if (isStretch(this))\r\n            stretch(this);\r\n\r\n        let thisRect = this.getSize(false);\r\n\r\n        let runtimeStyle = {...this.state.runtimeStyle};\r\n        runtimeStyle.position = \"fixed\";\r\n        runtimeStyle.gridArea = \"auto/auto/auto/auto\";\r\n        runtimeStyle.marginBottom = \"auto\";\r\n        runtimeStyle.marginTop = \"auto\";\r\n        runtimeStyle.marginLeft = \"auto\";\r\n        runtimeStyle.marginRight = \"auto\";\r\n        runtimeStyle.width = thisRect.width;\r\n        runtimeStyle.height = thisRect.height;\r\n        runtimeStyle.minWidth = \"auto\";\r\n        runtimeStyle.minHeight = \"auto\";\r\n        runtimeStyle.opacity = 0.7;\r\n        runtimeStyle.zIndex = 999999;\r\n        runtimeStyle.pointerEvents = \"none\";\r\n\r\n        if (!this.moveWithMouse) {\r\n            runtimeStyle.top = thisRect.top;\r\n            runtimeStyle.left = thisRect.left;\r\n        } else {\r\n            runtimeStyle.top = e.clientY - thisRect.height / 2;\r\n            runtimeStyle.left = e.clientX - thisRect.width / 2;\r\n        }\r\n\r\n        this.dragData = {\r\n            firstPos: {\r\n                top: runtimeStyle.top,\r\n                left: runtimeStyle.left\r\n            },\r\n            firstBoundaryPos: this.getBoundarySize() && {\r\n                top: this.moveWithMouse? e.clientX - thisRect.width / 2 : this.getBoundarySize().top,\r\n                left: this.moveWithMouse? e.clientY - thisRect.height / 2 : this.getBoundarySize().left\r\n            },\r\n            x: runtimeStyle.left,\r\n            y: runtimeStyle.top,\r\n            lastMouseX: e.clientX,\r\n            lastMouseY: e.clientY,\r\n        };\r\n\r\n        this.setRuntimeStyle(runtimeStyle);\r\n        this.draggingStart = true;\r\n        this.setDraggingState(true, true, undefined, runtimeStyle);\r\n\r\n        this.props.select.updateMenu();\r\n        this.props.select.clearMiniMenu();\r\n\r\n        if (this.props.dragdrop.getMouseOverForNonDragging()) {\r\n            this.props.dragdrop.getMouseOverForNonDragging().onMouseOver(e);\r\n        }\r\n\r\n        if (group && callGroup)\r\n            this.state.groupDragStart(e, this);\r\n    };\r\n\r\n    setMouseOver = (item, positionData, callback) => {\r\n        if (this.hasOverride(\"setMouseOver\"))\r\n            return this.callOverride(\"setMouseOver\", item, positionData, callback);\r\n\r\n        return this.props.dragdrop.setMouseOver(item, positionData, callback);\r\n    };\r\n\r\n    onDrag = (e, group, callGroup) => {\r\n        if (this.callOverride(\"onDrag\", e, group, callGroup))\r\n            return;\r\n\r\n        if (!this.props.parent.children[this.props.id]) {\r\n            return;\r\n        }\r\n        if (this.resizing || !this.state.draggingStart) {\r\n            if (this.props.dragdrop.getDragging()) {\r\n                this.props.dragdrop.setDragging();\r\n            }\r\n            return;\r\n        }\r\n\r\n        this.dragData.x += (e.clientX - this.dragData.lastMouseX);\r\n        this.dragData.y += (e.clientY - this.dragData.lastMouseY);\r\n        this.dragData.lastMouseX = e.clientX;\r\n        this.dragData.lastMouseY = e.clientY;\r\n\r\n        let runtimeStyle = {...this.state.runtimeStyle};\r\n        runtimeStyle.top = this.dragData.y;\r\n        runtimeStyle.left = this.dragData.x;\r\n\r\n        // For snaps\r\n        let boundarySize = this.getBoundarySize();\r\n        if (boundarySize)\r\n            boundarySize = {\r\n                top: this.dragData.firstBoundaryPos.top + (this.dragData.y - this.dragData.firstPos.top),\r\n                left: this.dragData.firstBoundaryPos.left + (this.dragData.x - this.dragData.firstPos.left),\r\n                width: boundarySize.width,\r\n                height: boundarySize.height\r\n            };\r\n        else\r\n            boundarySize = runtimeStyle;\r\n\r\n        if (!isFixed(this) && !group)\r\n            this.checkSnapOnDrag(runtimeStyle, boundarySize);\r\n        this.setRuntimeStyle(runtimeStyle);\r\n\r\n        this.props.select.updateResizePanes(this, runtimeStyle);\r\n\r\n        if (!group)\r\n            this.updateGridLines(\r\n                runtimeStyle.top,\r\n                runtimeStyle.left,\r\n                window.innerHeight - runtimeStyle.top - runtimeStyle.height,\r\n                window.innerWidth - runtimeStyle.left - runtimeStyle.width,\r\n                \"A\"\r\n            );\r\n\r\n        if (!group)\r\n            this.props.select.updateHelpLines(this, this.state.helpLinesParent,\r\n                cloneObject(runtimeStyle), this.state.dragging);\r\n\r\n        if (group && callGroup)\r\n            this.state.groupDrag(e, this);\r\n    };\r\n\r\n    updateGridLines = (top, left, bottom, right, gridType) => {\r\n        if (!this.isEditor()) return;\r\n\r\n        if (!this.getFromTempData(\"isContainer\"))\r\n            return;\r\n\r\n        let grid = this.getFromData(\"grid\");\r\n        this.props.gridLine.addGrid(\r\n            this.props.id,\r\n            grid.x,\r\n            grid.y,\r\n            gridType,\r\n            grid.gridTemplateRows,\r\n            grid.gridTemplateColumns,\r\n            {\r\n                top,\r\n                left,\r\n                bottom,\r\n                right,\r\n            }\r\n        )\r\n    };\r\n\r\n    onDragStop = (e, group, callGroup) => {\r\n        if (this.hasOverride(\"onDragStop\"))\r\n            return this.callOverride(\"onDragStop\", e, group, callGroup);\r\n\r\n        if (this.resizing || !this.state.draggingStart || !this.props.parent.children[this.props.id])\r\n            return;\r\n\r\n        if (group && callGroup)\r\n            this.state.groupDragStop(e, this);\r\n\r\n        if (group)\r\n            // this.props.parent.prepareRects(true);\r\n            this.props.parent.prepareRects();\r\n\r\n        let {top, left, width, height} = this.state.runtimeStyle;\r\n\r\n        this.props.snap.drawSnap();\r\n        this.getSize(true, true);\r\n        if (group || !this.props.dragdrop.setDraggingStop()){\r\n            let parentRect = this.props.parent.getSize(false);\r\n            this.setPosition(\r\n                group,\r\n                left - parentRect.left,\r\n                top - parentRect.top,\r\n                this.dragData.firstPos.left - parentRect.left,\r\n                this.dragData.firstPos.top - parentRect.top, width, height, parentRect);\r\n            return;\r\n        } else if (!group) {\r\n            this.dropped = true;\r\n        }\r\n\r\n        // this.setState({dragging: false, draggingStart: false});\r\n\r\n        if (!group)\r\n            this.updateGridLines(\r\n                top, left,\r\n                window.innerHeight - top - height,\r\n                window.innerWidth - left - width,\r\n                \"A\"\r\n            );\r\n\r\n        this.props.select.updateMiniMenu();\r\n    };\r\n\r\n    setPosition = (group, relativeX, relativeY, firstRelativeX, firstRelativeY,\r\n                   width, height, parentRect, fromUndoRedo) => {\r\n        if (!fromUndoRedo) {\r\n            let itemId = this.props.id;\r\n            let parentId = this.props.parent.props.id;\r\n            let redoData = [group, relativeX, relativeY, firstRelativeX, firstRelativeY,\r\n                width, height, parentRect];\r\n            let undoData = [group, firstRelativeX, firstRelativeY, undefined, undefined,\r\n                width, height, parentRect];\r\n            this.props.undoredo.add((idMan) => {\r\n                idMan.getItem(itemId).onSelect(true);\r\n                idMan.getItem(itemId).props.dragdrop.setMouseOver(idMan.getItem(parentId));\r\n                idMan.getItem(itemId).setPosition(...redoData, true);\r\n            }, (idMan) => {\r\n                idMan.getItem(itemId).onSelect(true);\r\n                idMan.getItem(itemId).props.dragdrop.setMouseOver(idMan.getItem(parentId));\r\n                idMan.getItem(itemId).setPosition(...undoData, true);\r\n            });\r\n        }\r\n\r\n        if (this.hasOverride(\"setPosition\"))\r\n            return this.callOverride(\"setPosition\",\r\n                group, relativeX, relativeY, firstRelativeX, firstRelativeY,\r\n                width, height, parentRect, fromUndoRedo);\r\n\r\n        let {gridItemStyle, coordinates} = this.calculateGridItem(relativeX, relativeY, this.props.parent,\r\n            width, height, parentRect);\r\n\r\n        // TODO uncomment if bug found\r\n        // if (gridItemStyle.justifySelf !== \"stretch\"){\r\n        //     this.setProps(\"width\", width, coordinates, undefined, undefined, true);\r\n        // } else {\r\n        //     this.setProps(\"width\", \"auto\", undefined, undefined, undefined, true);\r\n        // }\r\n        // if (this.getCompositeFromData(\"style\").height === \"auto\")\r\n        //     this.setProps(\"minHeight\", height, coordinates, undefined, undefined, true);\r\n        // else {\r\n        //     this.setProps(\"height\", height, coordinates, undefined, undefined, true);\r\n        //     this.setProps(\"minHeight\", height, coordinates, undefined, undefined, true);\r\n        // }\r\n\r\n        this.setGridItemStyle(gridItemStyle);\r\n\r\n        this.nonePointerEventForChildren(false);\r\n        this.setRuntimeStyle();\r\n        // this.setState({dragging: false, draggingStart: false}, () => {\r\n        //     this.addToSnap();\r\n        // });\r\n        let top = relativeY + parentRect.top;\r\n        let left = relativeX + parentRect.left;\r\n        this.setDraggingState(false, false, () => {\r\n            this.addToSnap();\r\n        }, {top, left, width, height});\r\n\r\n        if (!group)\r\n            this.props.select.updateHelpLines(this, this.state.helpLinesParent,\r\n                {top, left, width, height}, this.state.dragging);\r\n\r\n        this.dropped = false;\r\n\r\n        // this.props.select.updateSize();\r\n        // this.props.select.updateResizePanes(this, {top, left, width, height});\r\n        // this.props.select.updateMiniMenu();\r\n\r\n        setTimeout(() => {\r\n            if (!this.mounted)\r\n                return;\r\n\r\n            // for fixing helpline\r\n            this.props.select.onScrollItem();\r\n        }, 100);\r\n\r\n        this.invalidateSize(false, true, true);\r\n    };\r\n\r\n    setDraggingState = (dragging, draggingStart, callback, rect) => {\r\n        let fakeStyle = cloneObject({\r\n            ...this.getCompositeFromData(\"style\"),\r\n            ...this.getCompositeFromData(\"gridItemStyle\"),\r\n        });\r\n        this.setState({dragging, draggingStart, fakeStyle}, callback);\r\n    };\r\n\r\n    checkSnapOnDrag = (runtimeStyle, boundarySize) => {\r\n        if (this.callOverride(\"checkSnapOnDrag\", runtimeStyle, boundarySize))\r\n            return;\r\n\r\n        let snapDelta1 = this.getSnapDelta(\r\n            boundarySize.top, boundarySize.left);\r\n        let snapDelta2 = this.getSnapDelta(\r\n            boundarySize.top + boundarySize.height/2, boundarySize.left + boundarySize.width/2);\r\n        let snapDelta3 = this.getSnapDelta(\r\n            boundarySize.top + boundarySize.height, boundarySize.left + boundarySize.width);\r\n\r\n        let snapDelta = {\r\n            deltaX: snapDelta2.snapV? snapDelta2.deltaX:\r\n                snapDelta1.snapV? snapDelta1.deltaX:\r\n                    snapDelta3.snapV? snapDelta3.deltaX: 0,\r\n            deltaY: snapDelta2.snapH? snapDelta2.deltaY:\r\n                snapDelta1.snapH? snapDelta1.deltaY:\r\n                    snapDelta3.snapH? snapDelta3.deltaY: 0,\r\n            snapH: (snapDelta2.snapH || snapDelta1.snapH) || snapDelta3.snapH,\r\n            snapV: (snapDelta2.snapV || snapDelta1.snapV) || snapDelta3.snapV\r\n        };\r\n\r\n        runtimeStyle.left += snapDelta.deltaX;\r\n        runtimeStyle.top += snapDelta.deltaY;\r\n        if (boundarySize !== runtimeStyle) {\r\n            boundarySize.left += snapDelta.deltaX;\r\n            boundarySize.top += snapDelta.deltaY;\r\n        }\r\n\r\n        let pointOfSnapH = {\r\n            p1: boundarySize.left,\r\n            p2: boundarySize.left + boundarySize.width\r\n        };\r\n        let pointOfSnapV = {\r\n            p1: boundarySize.top,\r\n            p2: boundarySize.top + boundarySize.height\r\n        };\r\n\r\n        this.props.snap.drawSnap(snapDelta.snapH, snapDelta.snapV, pointOfSnapH, pointOfSnapV);\r\n    };\r\n\r\n    getSnapDelta = (top, left) => {\r\n        let parentGridLines = [];\r\n        if (this.props.parent) {\r\n            if (this.resizing) {\r\n                parentGridLines = this.props.parent.getGridLineSnaps();\r\n            } else {\r\n                // dragging\r\n                if (this.props.dragdrop.mouseOver &&\r\n                    this.props.gridLine.hasGridLine(this.props.dragdrop.mouseOver.props.id))\r\n                    parentGridLines = this.props.dragdrop.mouseOver &&\r\n                        this.props.dragdrop.mouseOver.getGridLineSnaps();\r\n            }\r\n        }\r\n\r\n        let {snapH, snapV} =\r\n            this.props.snap.checkSnap(top, left, this.props.id, parentGridLines);\r\n\r\n        let deltaX = 0;\r\n        let deltaY = 0;\r\n        if (snapH) {\r\n            deltaY = snapH.value - top;\r\n        }\r\n        if (snapV) {\r\n            deltaX = snapV.value - left;\r\n        }\r\n\r\n        return {\r\n            deltaX, deltaY, snapH, snapV\r\n        }\r\n    };\r\n\r\n    setDocks = (top, left, bottom, right, auto, breakpointName, dontCalculate) => {\r\n        this.setDataInBreakpoint(\"docks\", {top, left, bottom, right}, undefined, breakpointName);\r\n        this.setTempData(\"autoDock\", auto);\r\n\r\n        if (!this.props.parent || dontCalculate)\r\n            return;\r\n\r\n        this.props.parent.prepareRects();\r\n        let thisRect = this.getSize(false);\r\n        let parentRect = this.props.parent.getSize(false);\r\n        let {gridItemStyle} =\r\n            this.calculateGridItem(\r\n                thisRect.left - parentRect.left,\r\n                thisRect.top - parentRect.top,\r\n                this.props.parent,\r\n                thisRect.width,\r\n                thisRect.height,\r\n                parentRect\r\n            );\r\n\r\n        this.setGridItemStyle(gridItemStyle, breakpointName);\r\n\r\n        if (gridItemStyle.justifySelf !== \"stretch\" && this.getCompositeFromData(\"style\").width === \"auto\")\r\n        {\r\n            this.setStyleParam(\"width\", `${this.getSize(false).width}px`, undefined, undefined, true);\r\n        }\r\n        else if (gridItemStyle.justifySelf === \"stretch\")\r\n        {\r\n            this.setStyleParam(\"width\", \"auto\", undefined, undefined, true);\r\n        }\r\n    };\r\n\r\n    getDocks = () => {\r\n        return this.getFromData(\"docks\");\r\n    };\r\n\r\n    getBaseDocks = () => {\r\n        let gridItemStyle = this.getCompositeFromData(\"gridItemStyle\");\r\n        return {\r\n            top: gridItemStyle.alignSelf === \"start\" || gridItemStyle.alignSelf === \"stretch\",\r\n            bottom: gridItemStyle.alignSelf === \"end\" || gridItemStyle.alignSelf === \"stretch\",\r\n            left: gridItemStyle.justifySelf === \"start\" || gridItemStyle.justifySelf === \"stretch\",\r\n            right: gridItemStyle.justifySelf === \"end\" || gridItemStyle.justifySelf === \"stretch\",\r\n        }\r\n    };\r\n\r\n    getRuntimeGridItemStyle = () => {\r\n        return this.props.select.getRuntimeGridItemStyle();\r\n    };\r\n\r\n    calculateGridItem = (relativeX, relativeY, parent, width, height, parentRect, fromState, dontAutoDock) => {\r\n        if (this.hasOverride(\"calculateGridItem\"))\r\n            return this.callOverride(\r\n                \"calculateGridItem\", relativeX, relativeY, parent, width, height, parentRect, fromState, dontAutoDock);\r\n\r\n        if (!width) {\r\n            let rect = this.getSize(false, true);\r\n            width = rect.width;\r\n            height = rect.height;\r\n        }\r\n\r\n        if (!parentRect)\r\n            parentRect = parent.getSize(false, true);\r\n\r\n        let gridArea, coordinates;\r\n        if (isFixed(this)) {\r\n            gridArea = {x1: 1, x2: 2, y1: 1, y2: 2};\r\n            coordinates = {\r\n                cy1: parentRect.top,\r\n                cy2: parentRect.top + parentRect.height,\r\n                cx1: parentRect.left,\r\n                cx2: parentRect.left + parentRect.width\r\n            }\r\n        } else {\r\n            let result = this.calculateGridArea(\r\n                parentRect.left + relativeX,\r\n                parentRect.top + relativeY,\r\n                width,\r\n                height,\r\n                parent,\r\n                parentRect\r\n            );\r\n            gridArea = result.gridArea;\r\n            coordinates = result.coordinates;\r\n        }\r\n\r\n        let coordinatesAbs = cloneObject(coordinates);\r\n\r\n        this.coordinateToRelative(coordinates, parentRect);\r\n\r\n        let oldGridItemStyle = this.getCompositeFromData(\"gridItemStyle\");\r\n        let gridItemStyle = cloneObject(oldGridItemStyle);\r\n        gridItemStyle.gridArea = `${gridArea.y1}/${gridArea.x1}/${gridArea.y2}/${gridArea.x2}`;\r\n\r\n        let centerX = (relativeX  - coordinates.cx1) + width / 2;\r\n        let centerY = (relativeY  - coordinates.cy1) + height / 2;\r\n\r\n        let parentCenterMinusX = (coordinates.cx2 - coordinates.cx1) / 2 * (1 - 0.1);\r\n        let parentCenterPlusX = (coordinates.cx2 - coordinates.cx1) / 2 * (1 + 0.1);\r\n\r\n        let yLineRef = this.props.gridLine.getYlineRef(parent.props.id);\r\n        let cy2IsLastLine = gridArea.y2 === yLineRef.length || isFixed(this);\r\n        let xLineRef = this.props.gridLine.getXlineRef(parent.props.id);\r\n        let cx2IsLastLine = gridArea.x2 === xLineRef.length || isFixed(this);\r\n\r\n        let widthForPercent = coordinates.cx2 - coordinates.cx1/* + (cx2IsLastLine?1:0)*/;\r\n        let heightForPercent = coordinates.cy2 - coordinates.cy1/* + (cy2IsLastLine?1:0)*/;\r\n\r\n        let autoDock = this.getFromTempData(\"autoDock\");\r\n        let docks = this.getDocks() || {top: true};\r\n\r\n        if (autoDock && !dontAutoDock) {\r\n            if (centerX < parentCenterPlusX && centerX > parentCenterMinusX) {\r\n                // Center X\r\n                delete docks.left;\r\n                delete docks.right;\r\n            } else if (centerX > parentCenterPlusX) {\r\n                delete docks.left;\r\n                docks.right = true;\r\n            } else {\r\n                docks.left = true;\r\n                delete docks.right;\r\n            }\r\n\r\n            if (cy2IsLastLine && (relativeY + height >= coordinates.cy2) && relativeY >= 0) {\r\n                delete docks.top;\r\n                docks.bottom = true;\r\n            } else {\r\n                docks.top = true;\r\n                delete docks.bottom;\r\n            }\r\n        }\r\n\r\n        gridItemStyle.alignSelf = \"center\";\r\n        gridItemStyle.justifySelf = \"center\";\r\n\r\n        let centerDiffX = (centerX - (coordinates.cx2 - coordinates.cx1) / 2);\r\n        let centerDiffY = (centerY - (coordinates.cy2 - coordinates.cy1) / 2);\r\n        if (centerDiffX >= 0) {\r\n            gridItemStyle.marginRight = `${(-centerDiffX * 2 / widthForPercent * 100).toString()}%`;\r\n            gridItemStyle.marginLeft = \"0%\";\r\n        } else {\r\n            gridItemStyle.marginRight = \"0%\";\r\n            gridItemStyle.marginLeft = `${(centerDiffX * 2 / widthForPercent * 100).toString()}%`;\r\n        }\r\n        gridItemStyle.marginTop =\r\n            this.getPxOrPcOrValue(\r\n                `${(centerDiffY * 2).toString()}`,\r\n                widthForPercent,\r\n                \"px\");\r\n        gridItemStyle.marginBottom = \"0px\";\r\n\r\n        if (docks.top) {\r\n            gridItemStyle.alignSelf = \"start\";\r\n            gridItemStyle.marginTop =\r\n                this.getPxOrPcOrValue(\r\n                `${(relativeY - coordinates.cy1).toString()}`,\r\n                    widthForPercent,\r\n                    this.getUnit(oldGridItemStyle.marginTop) || \"px\");\r\n        } else if (docks.bottom) {\r\n            gridItemStyle.marginTop = \"0px\";\r\n        }\r\n        if (docks.left) {\r\n            gridItemStyle.justifySelf = \"start\";\r\n            gridItemStyle.marginLeft =\r\n                this.getPxOrPcOrValue(\r\n                    `${(relativeX - coordinates.cx1).toString()}`,\r\n                    widthForPercent,\r\n                    this.getUnit(oldGridItemStyle.marginLeft) || \"%\");\r\n        } else if (docks.right) {\r\n            gridItemStyle.marginLeft = \"0%\";\r\n        }\r\n        if (docks.bottom) {\r\n            gridItemStyle.alignSelf = docks.top ? \"stretch\": \"end\";\r\n            gridItemStyle.marginBottom =\r\n                this.getPxOrPcOrValue(\r\n                    `${(coordinates.cy2 - relativeY - height).toString()}`,\r\n                    widthForPercent,\r\n                    this.getUnit(oldGridItemStyle.marginBottom) || \"px\");\r\n        } else if (docks.top) {\r\n            gridItemStyle.marginBottom = \"0px\";\r\n        }\r\n        if (docks.right) {\r\n            gridItemStyle.justifySelf = docks.left? \"stretch\": \"end\";\r\n            gridItemStyle.marginRight =\r\n                this.getPxOrPcOrValue(\r\n                    `${(coordinates.cx2 - (relativeX + width)).toString()}`,\r\n                    widthForPercent,\r\n                    this.getUnit(oldGridItemStyle.marginRight) || \"%\");\r\n        } else if (docks.left) {\r\n            gridItemStyle.marginRight = \"0%\";\r\n        }\r\n\r\n        gridItemStyle.widthForPercent = widthForPercent;\r\n        gridItemStyle.heightForPercent = heightForPercent;\r\n\r\n        /*if (gridItemStyle.justifySelf !== \"stretch\") {\r\n            if (centerX < parentCenterPlusX && centerX > parentCenterMinusX) {\r\n                // this is center\r\n                let centerDiff = (centerX - (coordinates.cx2 - coordinates.cx1) / 2);\r\n                gridItemStyle.justifySelf = \"center\";\r\n                gridItemStyle.marginRight = `0${this.getUnit(gridItemStyle.marginRight)}`;\r\n                gridItemStyle.marginLeft =\r\n                    `${(centerDiff * 2).toFixed(0).toString()}${this.getUnit(gridItemStyle.marginLeft)}`;\r\n            } else if (centerX > parentCenterPlusX) {\r\n                gridItemStyle.justifySelf = \"end\";\r\n                gridItemStyle.marginRight =\r\n                    `${(coordinates.cx2 - (relativeX + width)).toFixed(0).toString()}${this.getUnit(gridItemStyle.marginRight)}`;\r\n                gridItemStyle.marginLeft = `0${this.getUnit(gridItemStyle.marginLeft)}`;\r\n            } else {\r\n                gridItemStyle.justifySelf = \"start\";\r\n                gridItemStyle.marginRight = `0${this.getUnit(gridItemStyle.marginRight)}`;\r\n                gridItemStyle.marginLeft =\r\n                    `${(relativeX - coordinates.cx1).toFixed(0).toString()}${this.getUnit(gridItemStyle.marginLeft)}`;\r\n            }\r\n\r\n            if (cy2IsLastLine && (relativeY + height >= coordinates.cy2)) {\r\n                gridItemStyle.alignSelf = \"end\";\r\n                gridItemStyle.marginBottom =\r\n                    `${(coordinates.cy2 - relativeY - height).toFixed(0).toString()}${this.getUnit(gridItemStyle.marginBottom)}`;\r\n                gridItemStyle.marginTop =`0${this.getUnit(gridItemStyle.marginBottom)}`;\r\n            } else {\r\n                gridItemStyle.alignSelf = \"start\";\r\n                gridItemStyle.marginBottom = `0${this.getUnit(gridItemStyle.marginBottom)}`;\r\n                gridItemStyle.marginTop =\r\n                    `${(relativeY - coordinates.cy1).toFixed(0).toString()}${this.getUnit(gridItemStyle.marginTop)}`;\r\n            }\r\n        } else {\r\n            gridItemStyle.marginRight =\r\n                `${(coordinates.cx2 - (relativeX + width)).toFixed(0).toString()}${this.getUnit(gridItemStyle.marginRight)}`;\r\n            gridItemStyle.marginLeft =\r\n                `${(relativeX - coordinates.cx1).toFixed(0).toString()}${this.getUnit(gridItemStyle.marginLeft)}`;\r\n\r\n            gridItemStyle.marginBottom =\r\n                `${(coordinates.cy2 - relativeY - height).toFixed(0).toString()}${this.getUnit(gridItemStyle.marginBottom)}`;\r\n            gridItemStyle.marginTop =\r\n            `${(relativeY - coordinates.cy1).toFixed(0).toString()}${this.getUnit(gridItemStyle.marginTop)}`;\r\n        }*/\r\n\r\n        return {gridItemStyle, gridArea, coordinates, coordinatesAbs};\r\n    };\r\n\r\n    getPxOrPcOrValue = (value, parentValue, unit) => {\r\n        if (unit === \"px\") {\r\n            return `${value}px`;\r\n        } else if (unit === \"%\") {\r\n            return `${parseFloat(value) / parentValue * 100}%`;\r\n        } else {\r\n            return value\r\n        }\r\n    };\r\n\r\n    calculateChildGridItem = (child, relativeX, relativeY, parent, width, height, parentRect, fromState, dontAutoDock) => {\r\n        if (this.hasOverride(\"calculateChildGridItem\"))\r\n            return this.callOverride(\r\n                \"calculateChildGridItem\",child, relativeX, relativeY, parent, width, height, parentRect, fromState, dontAutoDock);\r\n\r\n        if (!width) {\r\n            let rect = child.getSize(false, true);\r\n            width = rect.width;\r\n            height = rect.height;\r\n        }\r\n\r\n        if (!parentRect)\r\n            parentRect = parent.getSize(false, true);\r\n\r\n        if (isFixed(child)) {\r\n            if (relativeY < 0) relativeY = 0;\r\n            if (relativeY > parentRect.scrollHeightMinusPadding - height)\r\n                relativeY = parentRect.scrollHeightMinusPadding - height;\r\n            if (relativeX < 0) relativeX = 0;\r\n            if (relativeX > parentRect.scrollWidthMinusPadding - width)\r\n                relativeX = parentRect.scrollWidthMinusPadding - width;\r\n        }\r\n\r\n        let gridArea, coordinates;\r\n        if (isFixed(child)) {\r\n            gridArea = {x1: 1, x2: 2, y1: 1, y2: 2};\r\n            coordinates = {\r\n                cy1: parentRect.top,\r\n                cy2: parentRect.top + parentRect.height,\r\n                cx1: parentRect.left,\r\n                cx2: parentRect.left + parentRect.width\r\n            }\r\n        } else {\r\n            let result = this.calculateGridArea(\r\n                parentRect.left + relativeX,\r\n                parentRect.top + relativeY,\r\n                width,\r\n                height,\r\n                parent,\r\n                parentRect\r\n            );\r\n            gridArea = result.gridArea;\r\n            coordinates = result.coordinates;\r\n        }\r\n\r\n        let coordinatesAbs = cloneObject(coordinates);\r\n\r\n        child.coordinateToRelative(coordinates, parentRect);\r\n\r\n        let oldGridItemStyle = child.getCompositeFromData(\"gridItemStyle\");\r\n        let gridItemStyle = cloneObject(oldGridItemStyle);\r\n        gridItemStyle.gridArea = `${gridArea.y1}/${gridArea.x1}/${gridArea.y2}/${gridArea.x2}`;\r\n\r\n        let centerX = (relativeX  - coordinates.cx1) + width / 2;\r\n        let centerY = (relativeY  - coordinates.cy1) + height / 2;\r\n\r\n        let parentCenterMinusX = (coordinates.cx2 - coordinates.cx1) / 2 * (1 - 0.1);\r\n        let parentCenterPlusX = (coordinates.cx2 - coordinates.cx1) / 2 * (1 + 0.1);\r\n\r\n        let yLineRef = this.props.gridLine.getYlineRef(parent.props.id);\r\n        let cy2IsLastLine = gridArea.y2 === yLineRef.length || isFixed(child);\r\n        let xLineRef = this.props.gridLine.getXlineRef(parent.props.id);\r\n        let cx2IsLastLine = gridArea.x2 === xLineRef.length || isFixed(child);\r\n\r\n        let widthForPercent = coordinates.cx2 - coordinates.cx1 + (cx2IsLastLine?1:0);\r\n        let heightForPercent = coordinates.cy2 - coordinates.cy1 + (cy2IsLastLine?1:0);\r\n\r\n        let autoDock = child.getFromTempData(\"autoDock\");\r\n        let docks = child.getDocks() || {top: true};\r\n\r\n        if (autoDock && !dontAutoDock) {\r\n            if (centerX < parentCenterPlusX && centerX > parentCenterMinusX) {\r\n                // Center X\r\n                delete docks.left;\r\n                delete docks.right;\r\n            } else if (centerX > parentCenterPlusX) {\r\n                delete docks.left;\r\n                docks.right = true;\r\n            } else {\r\n                docks.left = true;\r\n                delete docks.right;\r\n            }\r\n\r\n            if (cy2IsLastLine && (relativeY + height >= coordinates.cy2) && relativeY >= 0) {\r\n                delete docks.top;\r\n                docks.bottom = true;\r\n            } else {\r\n                docks.top = true;\r\n                delete docks.bottom;\r\n            }\r\n        }\r\n\r\n        gridItemStyle.alignSelf = \"center\";\r\n        gridItemStyle.justifySelf = \"center\";\r\n\r\n        let centerDiffX = (centerX - (coordinates.cx2 - coordinates.cx1) / 2);\r\n        let centerDiffY = (centerY - (coordinates.cy2 - coordinates.cy1) / 2);\r\n        if (centerDiffX >= 0) {\r\n            gridItemStyle.marginRight = `${(-centerDiffX * 2 / widthForPercent * 100).toString()}%`;\r\n            gridItemStyle.marginLeft = \"0%\";\r\n        } else {\r\n            gridItemStyle.marginRight = \"0%\";\r\n            gridItemStyle.marginLeft = `${(centerDiffX * 2 / widthForPercent * 100).toString()}%`;\r\n        }\r\n        gridItemStyle.marginTop =\r\n            this.getPxOrPcOrValue(\r\n                `${(centerDiffY * 2).toString()}`,\r\n                widthForPercent,\r\n                \"px\");\r\n        gridItemStyle.marginBottom = \"0px\";\r\n\r\n        if (docks.top) {\r\n            gridItemStyle.alignSelf = \"start\";\r\n            gridItemStyle.marginTop =\r\n                this.getPxOrPcOrValue(\r\n                    `${(relativeY - coordinates.cy1).toString()}`,\r\n                    widthForPercent,\r\n                    this.getUnit(oldGridItemStyle.marginTop) || \"px\");\r\n        } else if (docks.bottom) {\r\n            gridItemStyle.marginTop = \"0px\";\r\n        }\r\n        if (docks.left) {\r\n            gridItemStyle.justifySelf = \"start\";\r\n            gridItemStyle.marginLeft =\r\n                this.getPxOrPcOrValue(\r\n                    `${(relativeX - coordinates.cx1).toString()}`,\r\n                    widthForPercent,\r\n                    this.getUnit(oldGridItemStyle.marginLeft) || \"%\");\r\n        } else if (docks.right) {\r\n            gridItemStyle.marginLeft = \"0%\";\r\n        }\r\n        if (docks.bottom) {\r\n            gridItemStyle.alignSelf = docks.top ? \"stretch\": \"end\";\r\n            gridItemStyle.marginBottom =\r\n                this.getPxOrPcOrValue(\r\n                    `${(coordinates.cy2 - relativeY - height).toString()}`,\r\n                    widthForPercent,\r\n                    this.getUnit(oldGridItemStyle.marginBottom) || \"px\");\r\n        } else if (docks.top) {\r\n            gridItemStyle.marginBottom = \"0px\";\r\n        }\r\n        if (docks.right) {\r\n            gridItemStyle.justifySelf = docks.left? \"stretch\": \"end\";\r\n            gridItemStyle.marginRight =\r\n                this.getPxOrPcOrValue(\r\n                    `${(coordinates.cx2 - (relativeX + width)).toString()}`,\r\n                    widthForPercent,\r\n                    this.getUnit(oldGridItemStyle.marginRight) || \"%\");\r\n        } else if (docks.left) {\r\n            gridItemStyle.marginRight = \"0%\";\r\n        }\r\n\r\n        gridItemStyle.widthForPercent = widthForPercent;\r\n        gridItemStyle.heightForPercent = heightForPercent;\r\n\r\n        /*\r\n        let parentCenterMinusX = (coordinates.cx2 - coordinates.cx1) / 2 * (1 - 0.1);\r\n        let parentCenterPlusX = (coordinates.cx2 - coordinates.cx1) / 2 * (1 + 0.1);\r\n\r\n        let yLineRef = child.props.gridLine.getYlineRef(parent.props.id);\r\n        let cy2IsLastLine = gridArea.y2 === yLineRef.length || isFixed(child);\r\n\r\n        if (gridItemStyle.justifySelf !== \"stretch\") {\r\n            if (centerX < parentCenterPlusX && centerX > parentCenterMinusX) {\r\n                // child is center\r\n                let centerDiff = (centerX - (coordinates.cx2 - coordinates.cx1) / 2);\r\n                gridItemStyle.justifySelf = \"center\";\r\n                gridItemStyle.marginRight = `0${child.getUnit(gridItemStyle.marginRight)}`;\r\n                gridItemStyle.marginLeft =\r\n                    `${(centerDiff * 2).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginLeft)}`;\r\n            } else if (centerX > parentCenterPlusX) {\r\n                gridItemStyle.justifySelf = \"end\";\r\n                gridItemStyle.marginRight =\r\n                    `${(coordinates.cx2 - (relativeX + width)).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginRight)}`;\r\n                gridItemStyle.marginLeft = `0${child.getUnit(gridItemStyle.marginLeft)}`;\r\n            } else {\r\n                gridItemStyle.justifySelf = \"start\";\r\n                gridItemStyle.marginRight = `0${child.getUnit(gridItemStyle.marginRight)}`;\r\n                gridItemStyle.marginLeft =\r\n                    `${(relativeX - coordinates.cx1).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginLeft)}`;\r\n            }\r\n\r\n            if (cy2IsLastLine && (relativeY + height >= coordinates.cy2)) {\r\n                gridItemStyle.alignSelf = \"end\";\r\n                gridItemStyle.marginBottom =\r\n                    `${(coordinates.cy2 - relativeY - height).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginBottom)}`;\r\n                gridItemStyle.marginTop =`0${child.getUnit(gridItemStyle.marginBottom)}`;\r\n            } else {\r\n                gridItemStyle.alignSelf = \"start\";\r\n                gridItemStyle.marginBottom = `0${child.getUnit(gridItemStyle.marginBottom)}`;\r\n                gridItemStyle.marginTop =\r\n                    `${(relativeY - coordinates.cy1).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginTop)}`;\r\n            }\r\n        } else {\r\n            gridItemStyle.marginRight =\r\n                `${(coordinates.cx2 - (relativeX + width)).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginRight)}`;\r\n            gridItemStyle.marginLeft =\r\n                `${(relativeX - coordinates.cx1).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginLeft)}`;\r\n\r\n            gridItemStyle.marginBottom =\r\n                `${(coordinates.cy2 - relativeY - height).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginBottom)}`;\r\n            gridItemStyle.marginTop =\r\n                `${(relativeY - coordinates.cy1).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginTop)}`;\r\n        }*/\r\n\r\n        return {gridItemStyle, gridArea, coordinates, coordinatesAbs};\r\n    };\r\n\r\n    coordinateToRelative = (coordinates, parentRect) => {\r\n        coordinates.cx1 -= parentRect.left;\r\n        coordinates.cx2 -= parentRect.left;\r\n        coordinates.cy1 -= parentRect.top;\r\n        coordinates.cy2 -= parentRect.top;\r\n    };\r\n\r\n    coordinateToAbsolute = (coordinates, parentRect) => {\r\n        coordinates.cx1 += parentRect.left;\r\n        coordinates.cx2 += parentRect.left;\r\n        coordinates.cy1 += parentRect.top;\r\n        coordinates.cy2 += parentRect.top;\r\n    };\r\n\r\n    getUnit = (value) => {\r\n        if (!value)\r\n            return;\r\n\r\n        if (value.includes(\"%\")) {\r\n            return \"%\";\r\n        } else {\r\n            return \"px\";\r\n        }\r\n    };\r\n\r\n    getTopLeft = (force) => {\r\n        let size = this.getSize(false, force);\r\n        return {\r\n            top: size.top,\r\n            left: size.left\r\n        }\r\n    };\r\n\r\n    pageResizeStart = (e, dir, delta) => {\r\n        if (this.resizing)\r\n            return;\r\n\r\n        this.resizing = true;\r\n\r\n        let runtimeStyle = {...this.state.runtimeStyle};\r\n        runtimeStyle.width = this.getSize().x;\r\n        runtimeStyle.height = this.getSize().y;\r\n\r\n        this.resizeData = {\r\n            firstX: runtimeStyle.width,\r\n            firstLeft: this.getSize().left,\r\n            top: this.getSize().top,\r\n            left: this.getSize().left\r\n        };\r\n\r\n        this.setRuntimeStyle(runtimeStyle);\r\n\r\n        this.setDraggingState(true, false, undefined, runtimeStyle);\r\n\r\n        this.isEditor() && this.props.select.activateHover(false);\r\n\r\n        if (this.props.onPageResizeStart)\r\n            this.props.onPageResizeStart();\r\n\r\n        window.requestAnimationFrame(this.pageResizeCalculate);\r\n    };\r\n\r\n    onResizeStart = (e, dir, delta, group) => {\r\n        if (this.callOverride(\"onResizeStart\", e, dir, delta, group))\r\n            return;\r\n\r\n        if (this.resizing)\r\n            return;\r\n\r\n        if (this.props.parent)\r\n            this.props.parent.prepareRects();\r\n\r\n        this.resizing = true;\r\n\r\n        let thisRect = this.getSize(false);\r\n\r\n        let runtimeStyle = {...this.state.runtimeStyle};\r\n        runtimeStyle.position = \"fixed\";\r\n        runtimeStyle.gridArea = \"auto/auto/auto/auto\";\r\n        runtimeStyle.marginBottom = \"auto\";\r\n        runtimeStyle.marginTop = \"auto\";\r\n        runtimeStyle.marginLeft = \"auto\";\r\n        runtimeStyle.marginRight = \"auto\";\r\n        runtimeStyle.width = thisRect.width;\r\n        runtimeStyle.height = thisRect.height;\r\n        runtimeStyle.minWidth = \"auto\";\r\n        runtimeStyle.minHeight = \"auto\";\r\n        runtimeStyle.maxWidth = \"unset\";\r\n        runtimeStyle.maxHeight = \"unset\";\r\n        runtimeStyle.opacity = 0.7;\r\n        runtimeStyle.zIndex = 999999;\r\n        runtimeStyle.pointerEvents = \"none\";\r\n\r\n        runtimeStyle.top = thisRect.top;\r\n        runtimeStyle.left = thisRect.left;\r\n\r\n        this.resizeData = {\r\n            firstX: runtimeStyle.width,\r\n            firstY: runtimeStyle.height,\r\n            firstTop: runtimeStyle.top,\r\n            firstLeft: runtimeStyle.left,\r\n            lastWidth: runtimeStyle.width,\r\n            lastHeight: runtimeStyle.height,\r\n            firstBoundaryWidth: this.getBoundarySize() && this.getBoundarySize().width,\r\n            firstBoundaryHeight: this.getBoundarySize() && this.getBoundarySize().height,\r\n            firstBoundaryTop: this.getBoundarySize() && this.getBoundarySize().top,\r\n            firstBoundaryLeft: this.getBoundarySize() && this.getBoundarySize().left\r\n        };\r\n\r\n        this.setDraggingState(true, false, undefined, runtimeStyle);\r\n\r\n        this.props.select.clearMiniMenu();\r\n        this.props.select.activateHover(false);\r\n\r\n        this.setRuntimeStyle(runtimeStyle);\r\n\r\n        window.requestAnimationFrame(this.onResizeCalculate);\r\n    };\r\n\r\n    pageResize = (e, dir, delta) => {\r\n        let runtimeStyle = {...this.state.runtimeStyle};\r\n\r\n        let deltaX = delta.x;\r\n        let minWidth = this.props.breakpointmanager.getMinWidth();\r\n        if (dir.includes('e')) {\r\n            if (this.resizeData.firstX <= (-deltaX* 2 + minWidth))\r\n                deltaX = -(this.resizeData.firstX - minWidth) / 2;\r\n\r\n            runtimeStyle.width = this.resizeData.firstX + deltaX * 2;\r\n            this.resizeData.left = this.resizeData.firstLeft - deltaX;\r\n            if (this.resizeData.firstLeft - deltaX < 50)\r\n                this.resizeData.left = 50;\r\n        }\r\n        if (dir.includes('w')) {\r\n            if (this.resizeData.firstX <= (deltaX * 2 + minWidth))\r\n                deltaX = (this.resizeData.firstX - minWidth) / 2;\r\n            runtimeStyle.width = this.resizeData.firstX - deltaX * 2;\r\n            this.resizeData.left = this.resizeData.firstLeft + deltaX;\r\n            if (this.resizeData.firstLeft + deltaX < 50)\r\n                this.resizeData.left = 50;\r\n        }\r\n\r\n        this.updateGridLines(\r\n            this.resizeData.top,\r\n            this.resizeData.left,\r\n            window.innerHeight - this.resizeData.top - runtimeStyle.height,\r\n            window.innerWidth - this.resizeData.left - runtimeStyle.width,\r\n            \"A\"\r\n        );\r\n\r\n        this.updatePageAdjustments();\r\n\r\n        this.resizeData.onResizeData = {\r\n            runtimeStyle: runtimeStyle,\r\n        };\r\n    };\r\n\r\n    updatePageAdjustments = () => {\r\n        this.backContainerRef.current.updateAdjustments();\r\n    };\r\n\r\n    pageResizeCalculate = () => {\r\n        if (this.callOverride(\"pageResizeCalculate\"))\r\n            return;\r\n\r\n        if (!this.resizing)\r\n            return;\r\n\r\n        if (!this.resizeData.onResizeData) {\r\n            window.requestAnimationFrame(this.pageResizeCalculate);\r\n            return;\r\n        }\r\n\r\n        let {runtimeStyle} = this.resizeData.onResizeData;\r\n\r\n        this.setRuntimeStyle(runtimeStyle);\r\n\r\n        if (this.props.onPageResize) {\r\n            this.props.onPageResize(runtimeStyle.width, this);\r\n        }\r\n\r\n        window.requestAnimationFrame(this.pageResizeCalculate);\r\n    };\r\n\r\n    onResize = (e, dir, delta, group) => {\r\n        if (this.callOverride(\"onResize\", e, dir, delta, group))\r\n            return;\r\n\r\n        let runtimeStyle = {...this.state.runtimeStyle};\r\n\r\n        let degree = (this.getCompositeFromData(\"transform\") || {}).rotateDegree || 0;\r\n\r\n        let finalDelta = getResizeDelta(degree, dir, delta);\r\n        runtimeStyle.left = this.resizeData.firstLeft + finalDelta.left;\r\n        runtimeStyle.top = this.resizeData.firstTop + finalDelta.top;\r\n        runtimeStyle.width = this.resizeData.firstX + finalDelta.width;\r\n        runtimeStyle.height = this.resizeData.firstY + finalDelta.height;\r\n\r\n        // For snaps\r\n        let boundarySize = this.getBoundarySize();\r\n\r\n        if (!group && !boundarySize)\r\n            this.checkSnapOnResize(runtimeStyle, dir, this.resizeData);\r\n        // this.checkSnapOnResize(rect, dir, this.resizeData);\r\n\r\n        let rect = {\r\n            top: runtimeStyle.top,\r\n            left: runtimeStyle.left,\r\n            width: runtimeStyle.width,\r\n            height: runtimeStyle.height\r\n        };\r\n\r\n        this.props.select.updateResizePanes(this, rect);\r\n\r\n        if (!group)\r\n            this.setResizeHelpData({\r\n                x: e.clientX,\r\n                y: e.clientY,\r\n                width: (dir.includes('w') || dir.includes('e')) && rect.width,\r\n                height: (dir.includes('n') || dir.includes('s')) && rect.height,\r\n            });\r\n\r\n        if (!group)\r\n            this.updateGridLines(\r\n                rect.top,\r\n                rect.left,\r\n                window.innerHeight - rect.top - rect.height,\r\n                window.innerWidth - rect.left - rect.width,\r\n                \"A\"\r\n            );\r\n\r\n        this.props.select.updateHelpLines(this, this.state.helpLinesParent,\r\n            rect, this.state.dragging);\r\n\r\n        this.resizeData.onResizeData = {\r\n            runtimeStyle: runtimeStyle,\r\n        };\r\n\r\n        if (this.props.onResize)\r\n            this.props.onResize(runtimeStyle);\r\n    };\r\n\r\n    onResizeCalculate = () => {\r\n        if (this.callOverride(\"onResizeCalculate\"))\r\n            return;\r\n\r\n        if (!this.resizing)\r\n            return;\r\n\r\n        if (!this.resizeData.onResizeData) {\r\n            window.requestAnimationFrame(this.onResizeCalculate);\r\n            return;\r\n        }\r\n\r\n        let {runtimeStyle} = this.resizeData.onResizeData;\r\n\r\n        this.setRuntimeStyle(runtimeStyle);\r\n\r\n        window.requestAnimationFrame(this.onResizeCalculate);\r\n    };\r\n\r\n    setResizeHelpData = (resizeHelpData) => {\r\n        this.setState({resizeHelpData})\r\n    };\r\n\r\n    pageResizeStop = (e, dir, delta) => {\r\n        let {width, height} = this.state.runtimeStyle;\r\n        this.isEditor() && this.props.select.activateHover(true);\r\n        this.setPageSize(this.resizeData.top, this.resizeData.left, width, height);\r\n    };\r\n\r\n    setPageSize = (top, left, width, height) => {\r\n        this.setProps(\"width\", width, undefined, undefined,\r\n            this.props.breakpointmanager.getHighestBpName());\r\n\r\n        this.setRuntimeStyle();\r\n        this.invalidateSize();\r\n\r\n        this.setDraggingState(false, false, () => {\r\n            this.addToSnap();\r\n        }, {top, left, width, height});\r\n        this.resizing = false;\r\n\r\n        this.updateGridLines(\r\n            top, left,\r\n            window.innerHeight - top - height,\r\n            window.innerWidth - left - width,\r\n            \"A\"\r\n        );\r\n\r\n        this.isEditor() && this.props.select.onScrollItem(this);\r\n\r\n        this.prepareRects();\r\n\r\n        if (this.props.onPageResizeStop)\r\n            this.props.onPageResizeStop(width, this);\r\n\r\n        this.resizeData = undefined;\r\n    };\r\n\r\n    setPageSizeWidth = (width) => {\r\n        this.setProps(\"width\", width, undefined, undefined,\r\n            this.props.breakpointmanager.getHighestBpName());\r\n\r\n        this.invalidateSize();\r\n\r\n        this.addToSnap();\r\n\r\n        let rect = this.getSize(false);\r\n        let minWidth = this.props.breakpointmanager.getMinWidth();\r\n\r\n        if (width < minWidth)\r\n            width = minWidth;\r\n\r\n        let deltaX = width - rect.width;\r\n        let firstLeft = rect.left;\r\n        let left = firstLeft + deltaX;\r\n        if (left < 50)\r\n            left = 50;\r\n\r\n        let top = rect.top;\r\n\r\n        this.updateGridLines(\r\n            top, left,\r\n            window.innerHeight - top - rect.height,\r\n            window.innerWidth - left - width,\r\n            \"A\"\r\n        );\r\n\r\n        this.isEditor() && this.props.select.onScrollItem(this);\r\n\r\n        this.prepareRects();\r\n    };\r\n\r\n    onChildResizeStoping = (item, e, dir, delta, runtimeStyle) => {\r\n        if (this.props.onChildResizeStoping)\r\n            this.props.onChildResizeStoping(item, e, dir, delta, runtimeStyle);\r\n    }\r\n\r\n    onResizeStop = (e, dir, delta, group) => {\r\n        if (this.hasOverride(\"onResizeStop\"))\r\n            return this.callOverride(\"onResizeStop\", e, dir, delta, group);\r\n        this.resizing = false;\r\n\r\n        if (this.props.onItemPreResizeStop) {\r\n            this.props.onItemPreResizeStop(this, e, dir, delta, this.state.runtimeStyle);\r\n        }\r\n        this.props.parent.onChildResizeStoping(this, e, dir, delta, this.state.runtimeStyle);\r\n        this.getSize(true, true);\r\n\r\n        if (group)\r\n            this.props.parent.prepareRects();\r\n        // this.props.parent.prepareRects(true);\r\n\r\n        let parentRect = this.props.parent.getSize(false);\r\n\r\n        let {top, left, width, height} = this.state.runtimeStyle;\r\n        // width = this.resizeData.lastWidth;\r\n        // height = this.resizeData.lastHeight;\r\n        this.setSize(\r\n            dir, delta, group,\r\n            left - parentRect.left,\r\n            top - parentRect.top, width, height,\r\n            this.resizeData.firstLeft - parentRect.left,\r\n            this.resizeData.firstTop - parentRect.top,\r\n            this.resizeData.firstX,\r\n            this.resizeData.firstY, parentRect\r\n        );\r\n        this.props.select.updateMiniMenu();\r\n        this.props.select.activateHover(true);\r\n    };\r\n\r\n    setSize = (dir, delta, group, relativeX, relativeY, width, height, firstRelativeX,\r\n               firstRelativeY, firstWidth, firstHeight, parentRect, fromUndoRedo) =>\r\n    {\r\n        if (!fromUndoRedo) {\r\n            let itemId = this.props.id;\r\n            let redoData = [dir, delta, group, relativeX, relativeY, width, height, firstRelativeX,\r\n                firstRelativeY, firstWidth, firstHeight, parentRect];\r\n            let undoData = [dir, delta, group, firstRelativeX,\r\n                firstRelativeY, firstWidth, firstHeight, undefined,\r\n                undefined, undefined, undefined, parentRect];\r\n            this.props.undoredo.add((idMan) => {\r\n                idMan.getItem(itemId).onSelect(true);\r\n                idMan.getItem(itemId).props.dragdrop.setMouseOver(idMan.getItem(itemId).props.parent);\r\n                idMan.getItem(itemId).setSize(...redoData, true);\r\n            }, (idMan) => {\r\n                idMan.getItem(itemId).onSelect(true);\r\n                idMan.getItem(itemId).props.dragdrop.setMouseOver(idMan.getItem(itemId).props.parent);\r\n                idMan.getItem(itemId).setSize(...undoData, true);\r\n            });\r\n        }\r\n\r\n        if (this.hasOverride(\"setSize\"))\r\n            return this.callOverride(\"setSize\",\r\n                dir, delta, group, relativeX, relativeY, height, width, firstRelativeX,\r\n                firstRelativeY, firstWidth, firstHeight, parentRect, fromUndoRedo);\r\n\r\n        let gridItemStyle, coordinates;\r\n        let calcResult = this.calculateGridItem(relativeX, relativeY, this.props.parent, width, height);\r\n\r\n        gridItemStyle = this.props.autoConstraintsOff?  this.getCompositeFromData(\"gridItemStyle\"):\r\n            calcResult.gridItemStyle;\r\n        coordinates = calcResult.coordinates;\r\n\r\n        if (dir.includes('e') || dir.includes('w')) {\r\n            if (gridItemStyle.justifySelf !== \"stretch\" && this.getCompositeFromData(\"style\").width !== \"auto\")\r\n                this.setProps(\"width\", width, coordinates, undefined, undefined, true);\r\n            else\r\n                this.setProps(\"width\", \"auto\", undefined, undefined, undefined, true);\r\n\r\n            if (this.getCompositeFromData(\"style\").minWidth) {\r\n                this.setProps(\"minWidth\", width, coordinates, undefined, undefined, true);\r\n            }\r\n            if (this.getCompositeFromData(\"style\").maxWidth) {\r\n                this.setProps(\"maxWidth\", width, coordinates, undefined, undefined, true);\r\n            }\r\n        }\r\n\r\n        if (dir.includes('s') || dir.includes('n')) {\r\n            if (this.getCompositeFromData(\"style\").height !== \"auto\") {\r\n                this.setProps(\"height\", height, coordinates, undefined, undefined, true);\r\n            }\r\n            if (!this.getFromTempData(\"isVerticalSection\")) {\r\n                if (this.getCompositeFromData(\"style\").minHeight) {\r\n                    this.setProps(\"minHeight\", height, coordinates, undefined, undefined, true);\r\n                }\r\n                if (this.getCompositeFromData(\"style\").maxHeight) {\r\n                    this.setProps(\"maxHeight\", height, coordinates, undefined, undefined, true);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (!this.getFromTempData(\"isSection\"))\r\n            this.setGridItemStyle(gridItemStyle);\r\n        this.setRuntimeStyle();\r\n        this.setResizeHelpData();\r\n\r\n        let top = relativeY + parentRect.top;\r\n        let left = relativeX + parentRect.left;\r\n        this.setDraggingState(false, false, () => {\r\n            this.addToSnap();\r\n        }, {top, left, width, height});\r\n        this.props.snap.drawSnap();\r\n\r\n        if (!group)\r\n            this.updateGridLines(\r\n                this.getSize(false).top, this.getSize(false).left,\r\n                window.innerHeight - this.getSize(false).top - height,\r\n                window.innerWidth - this.getSize(false).left - width,\r\n                \"A\"\r\n            );\r\n\r\n        if (!group)\r\n            this.props.select.updateHelpLines(this, this.state.helpLinesParent,\r\n                this.getSize(false), this.state.dragging);\r\n\r\n        setTimeout(() => {\r\n            if (!this.mounted)\r\n                return;\r\n\r\n            // for fixing helpline\r\n            this.props.select.onScrollItem();\r\n        }, 100);\r\n\r\n        this.resizeData = undefined;\r\n\r\n        this.invalidateSize(false, true, true);\r\n    };\r\n\r\n    checkSnapOnResize = (runtimeStyle, dir, resizeData) => {\r\n        if (this.callOverride(\"checkSnapOnResize\", runtimeStyle, dir, resizeData))\r\n            return;\r\n\r\n        let snapDelta1, snapDelta2;\r\n        if (dir.includes(\"n\")) {\r\n            snapDelta1 = this.getSnapDelta(\r\n                runtimeStyle.top, runtimeStyle.left);\r\n        } else if (dir.includes(\"s\")) {\r\n            snapDelta1 = this.getSnapDelta(\r\n                runtimeStyle.top + runtimeStyle.height, runtimeStyle.left);\r\n        }\r\n        if (dir.includes(\"w\")) {\r\n            snapDelta2 = this.getSnapDelta(\r\n                runtimeStyle.top, runtimeStyle.left);\r\n        } else if (dir.includes(\"e\")) {\r\n            snapDelta2 = this.getSnapDelta(\r\n                runtimeStyle.top, runtimeStyle.left + runtimeStyle.width);\r\n        }\r\n\r\n        let snapDelta = {\r\n            deltaX: snapDelta2? snapDelta2.deltaX: 0,\r\n            deltaY: snapDelta1? snapDelta1.deltaY: 0,\r\n            snapH: snapDelta1 && snapDelta1.snapH,\r\n            snapV: snapDelta2 && snapDelta2.snapV\r\n        };\r\n\r\n        if (dir.includes(\"n\")) {\r\n            runtimeStyle.height -= snapDelta.deltaY;\r\n            runtimeStyle.top += snapDelta.deltaY;\r\n        } else if (dir.includes(\"s\")) {\r\n            runtimeStyle.height += snapDelta.deltaY;\r\n        }\r\n        if (dir.includes(\"w\")) {\r\n            runtimeStyle.width -= snapDelta.deltaX;\r\n            runtimeStyle.left += snapDelta.deltaX;\r\n        } else if (dir.includes(\"e\")) {\r\n            runtimeStyle.width += snapDelta.deltaX;\r\n        }\r\n\r\n        let pointOfSnapH = {\r\n            p1: runtimeStyle.left,\r\n            p2: runtimeStyle.left + runtimeStyle.width\r\n        };\r\n        let pointOfSnapV = {\r\n            p1: runtimeStyle.top,\r\n            p2: runtimeStyle.top + runtimeStyle.height\r\n        };\r\n\r\n        this.props.snap.drawSnap(snapDelta.snapH, snapDelta.snapV, pointOfSnapH, pointOfSnapV);\r\n    };\r\n\r\n    setProps = (prop, value, gridCoordinates, data, breakpointName, dontAddToSnap) => {\r\n        if (this.hasOverride(\"setProps\"))\r\n            return this.callOverride(\"setProps\", prop, value, gridCoordinates, data, breakpointName);\r\n\r\n        if (prop === \"width\" || prop === \"height\" ||\r\n            prop === \"minWidth\" || prop === \"minHeight\" ||\r\n            prop === \"maxWidth\" || prop === \"maxHeight\")\r\n        {\r\n            this.setNewSize(prop, value, gridCoordinates, data, breakpointName, dontAddToSnap);\r\n        } else {\r\n            this.setDataInBreakpoint(prop, value, data, breakpointName);\r\n        }\r\n    };\r\n\r\n    setDataInBreakpoint = (prop, value, data, breakpointName) => {\r\n        this.props.breakpointmanager.setData(data || this.props.griddata, prop, value, breakpointName);\r\n        this.onPropsChange.trigger();\r\n    };\r\n\r\n    setTempData = (prop, value, data) => {\r\n        let dataToWrite = data || this.props.griddata;\r\n        dataToWrite[prop] = value;\r\n        this.onPropsChange.trigger();\r\n    };\r\n\r\n    getFromTempData = (prop, data) => {\r\n        let dataToRead = data || this.props.griddata;\r\n        return dataToRead[prop];\r\n    };\r\n\r\n    hasDataInBreakPoint = (prop, data, breakpointName) => {\r\n        return this.props.breakpointmanager\r\n            .hasDataInBreakPoint(data || this.props.griddata, prop, breakpointName);\r\n    };\r\n\r\n    getFromData = (prop, data, breakpointName) => {\r\n        return this.props.breakpointmanager\r\n            .getFromData(data || this.props.griddata, prop, breakpointName)\r\n    };\r\n\r\n    getCompositeFromData = (prop, data) => {\r\n        return this.props.breakpointmanager\r\n            .getCompositeFromData(data || this.props.griddata, prop, undefined)\r\n    };\r\n\r\n    setNewSize = (prop, value, gridCoordinates, data, breakpointName, dontAddToSnap) => {\r\n        if (this.hasOverride(\"setNewSize\"))\r\n            return this.callOverride(\"setNewSize\", prop, value, gridCoordinates, data, breakpointName);\r\n\r\n        let oldStyle = this.getCompositeFromData(\"style\", data, breakpointName);\r\n        let oldValue = oldStyle && oldStyle[prop];\r\n\r\n        if (value === undefined) {\r\n            this.setStyleParam(prop, value, data, breakpointName, dontAddToSnap);\r\n            return;\r\n        }\r\n\r\n        if (!oldValue || (!this.isPercent(oldValue) && !this.isViewRatio(oldValue)) ||\r\n            value === \"auto\" || isNaN(value)) {\r\n            if (!isNaN(value)) {\r\n                value+=\"px\";\r\n            }\r\n            this.setStyleParam(prop, value, data, breakpointName, dontAddToSnap);\r\n            return;\r\n        }\r\n\r\n        if (isNaN(value) && value.includes('px'))\r\n            value = parseFloat(value.replace('px', ''));\r\n\r\n        if (this.isPercent(oldValue)) {\r\n            let parentRect = {\r\n                width: gridCoordinates? (gridCoordinates.cx2 - gridCoordinates.cx1): window.innerWidth,\r\n                height: gridCoordinates?(gridCoordinates.cy2 - gridCoordinates.cy1): window.innerHeight\r\n            };\r\n            let newValue = (value / parentRect[this.getParentProps(prop)] * 100).toString() + \"%\";\r\n            this.setStyleParam(prop, newValue, data, breakpointName, dontAddToSnap);\r\n        } else if (this.isViewRatio(oldValue)) {\r\n            let parentValue;\r\n            let postFix;\r\n            if (oldValue.includes('vh')) {\r\n                parentValue = this.props.breakpointmanager.getWindowHeight();\r\n                postFix = 'vh'\r\n            }\r\n            if (oldValue.includes('vw')) {\r\n                parentValue = this.props.breakpointmanager.getWindowWidth();\r\n                postFix = 'vw'\r\n            }\r\n            let newValue = (value / parentValue * 100).toString() + postFix;\r\n            newValue = getViewRatioStyle(newValue);\r\n            this.setStyleParam(prop, newValue, data, breakpointName, dontAddToSnap);\r\n        }\r\n    };\r\n\r\n    getParentProps = (prop) => {\r\n        if (prop === \"width\" ||\r\n            prop === \"minWidth\" ||\r\n            prop === \"maxWidth\")\r\n        {\r\n            return \"width\";\r\n        }\r\n\r\n        return \"height\";\r\n    };\r\n\r\n    isPercent = (value) => {\r\n        if (isNaN(value)) {\r\n            if (value.includes(\"%\"))\r\n                return true;\r\n        }\r\n\r\n        return false;\r\n    };\r\n\r\n    isViewRatio = (value) => {\r\n        if (isNaN(value)) {\r\n            if (value.includes(\"vh\") || value.includes(\"vw\"))\r\n                return true;\r\n        }\r\n\r\n        return false;\r\n    };\r\n\r\n    setRuntimeStyle = (newRuntimeStyle, animationCss) => {\r\n        if (this.callOverride(\"setRuntimeStyle\", newRuntimeStyle))\r\n            return;\r\n\r\n        let runtimeStyle = newRuntimeStyle && {...newRuntimeStyle};\r\n        this.setState({runtimeStyle, animationCss});\r\n        this.onPropsChange.trigger();\r\n    };\r\n\r\n    getGridItemStyleId = () => {\r\n        return `style_grid_item_${this.props.id}`;\r\n    };\r\n\r\n    setGridItemStyle = (newGridItemStyle, breakpointName, dontOverride) => {\r\n        if (this.callOverride(\"setGridItemStyle\", newGridItemStyle, breakpointName, dontOverride))\r\n            return;\r\n\r\n        let gridItemStyle = {...newGridItemStyle};\r\n\r\n        if (!dontOverride)\r\n            this.setDataInBreakpoint(\"gridItemStyle\", gridItemStyle, undefined, breakpointName);\r\n\r\n        let styleNode = document.getElementById(this.getGridItemStyleId());\r\n\r\n        if (!styleNode) {\r\n            appendStyle(this.getCompositeFromData(\"gridItemStyle\"),\r\n                this.getGridItemStyleId(), this.getGridItemStyleId(), this);\r\n        } else {\r\n            updateStyle(styleNode, this.getCompositeFromData(\"gridItemStyle\"), this.getGridItemStyleId());\r\n        }\r\n\r\n        this.onPropsChange.trigger();\r\n    };\r\n\r\n    setGridArea = (gridArea, breakpointName) => {\r\n        if (this.callOverride(\"setGridArea\", gridArea))\r\n            return;\r\n\r\n        let gridItemStyle = this.getFromData(\"gridItemStyle\");\r\n        gridItemStyle.gridArea = gridArea;\r\n\r\n        this.setGridItemStyle(gridItemStyle, breakpointName);\r\n    };\r\n\r\n    getGridArea = () => {\r\n        if (this.callOverride(\"getGridArea\"))\r\n            return;\r\n\r\n        let gridItemStyle = this.getCompositeFromData(\"gridItemStyle\");\r\n        return gridItemStyle.gridArea;\r\n    };\r\n\r\n    setStyleParam = (param, value, data, breakpointName, dontAddToSnap) => {\r\n        if (this.hasOverride(\"setStyleParam\"))\r\n            return this.callOverride(\"setStyleParam\", param, value, data, breakpointName);\r\n\r\n        let style = this.hasDataInBreakPoint(\"style\", data, breakpointName) || {};\r\n        style[param] = value;\r\n        if (value === undefined)\r\n            delete style[param];\r\n        this.setStyle(style, data, breakpointName, undefined, dontAddToSnap);\r\n    };\r\n\r\n    getStyleId = () => {\r\n        return `style_${this.props.id}`;\r\n    };\r\n\r\n    getDesignStyleId = () => {\r\n        return `style_design_${this.props.id}`;\r\n    };\r\n\r\n    setDesignStyle = (newDesignStyle, data, breakpointName, dontOverride) => {\r\n        if (this.callOverride(\"setDesignStyle\", newDesignStyle, data, breakpointName, dontOverride))\r\n            return;\r\n\r\n        let designStyle = {...newDesignStyle};\r\n        if (!dontOverride)\r\n            this.setDataInBreakpoint(\"designStyle\", designStyle, data, breakpointName);\r\n\r\n        if (!data) {\r\n            let designStyleNode = document.getElementById(this.getDesignStyleId());\r\n\r\n            if (!designStyleNode) {\r\n                appendStyle(this.getCompositeFromData(\"designStyle\"),\r\n                    this.getDesignStyleId(), this.getDesignStyleId(), this);\r\n            } else {\r\n                updateStyle(designStyleNode, this.getCompositeFromData(\"designStyle\"), this.getDesignStyleId());\r\n            }\r\n\r\n            this.invalidateSize();\r\n            this.addToSnap();\r\n        }\r\n\r\n        this.onPropsChange.trigger();\r\n    };\r\n\r\n    getTransformStyleId = () => {\r\n        return `style-transform-${this.props.id}`;\r\n    };\r\n\r\n    setTransformStyle = (newTransform, data, breakpointName, dontOverride) => {\r\n        if (this.callOverride(\"setTransformStyle\", newTransform, data, breakpointName, dontOverride))\r\n            return;\r\n\r\n        let transform = {...newTransform};\r\n        if (!dontOverride)\r\n            this.setDataInBreakpoint(\"transform\", transform, data, breakpointName);\r\n\r\n        if (!data) {\r\n            let transformStyleNode = document.getElementById(this.getTransformStyleId());\r\n\r\n            if (!transformStyleNode) {\r\n                appendStyle(this.getTransformStyle(),\r\n                    this.getTransformStyleId(), this.getTransformStyleId(), this);\r\n            } else {\r\n                updateStyle(transformStyleNode, this.getTransformStyle(), this.getTransformStyleId());\r\n            }\r\n        }\r\n\r\n        this.onPropsChange.trigger();\r\n    };\r\n\r\n    getTransformStyle = (compositeTransform) => {\r\n        if (!compositeTransform)\r\n            compositeTransform = this.getCompositeFromData(\"transform\") || {};\r\n\r\n        let rules = [];\r\n\r\n        // TODO add more rules\r\n        compositeTransform.rotateDegree && rules.push(`rotate(${compositeTransform.rotateDegree}deg)`);\r\n\r\n        return {transform: rules.join(' ')};\r\n    };\r\n\r\n    setStyle = (newStyle, data, breakpointName, dontOverride, dontAddToSnap) => {\r\n        if (this.callOverride(\"setStyle\", newStyle, data, breakpointName, dontOverride))\r\n            return;\r\n\r\n        let style = {...newStyle};\r\n\r\n        if (!dontOverride)\r\n            this.setDataInBreakpoint(\"style\", style, data, breakpointName);\r\n\r\n        if (!data) {\r\n            let styleNode = document.getElementById(this.getStyleId());\r\n\r\n            if (!styleNode) {\r\n                appendStyle(\r\n                    this.getCompositeFromData(\"style\"),\r\n                    this.getStyleId(), this.getStyleId(), this);\r\n            } else {\r\n                updateStyle(styleNode,\r\n                    this.getCompositeFromData(\"style\"),\r\n                    this.getStyleId());\r\n            }\r\n\r\n            if (!dontAddToSnap) {\r\n                this.invalidateSize();\r\n                this.addToSnap();\r\n            }\r\n        }\r\n\r\n        this.onPropsChange.trigger();\r\n    };\r\n\r\n    clearFromAllBp = (props, data, excludeBp) => {\r\n        let sortedBp = this.props.breakpointmanager.getSortedBreakPoints();\r\n        sortedBp.forEach( bp => {\r\n            if (excludeBp !== bp.name || !excludeBp.includes(bp.name))\r\n                this.setDataInBreakpoint(props, undefined, data, bp.name);\r\n        });\r\n    };\r\n\r\n    setGrid = (grid, callback, breakpointName) => {\r\n        if (this.callOverride(\"setGrid\", grid, callback, breakpointName))\r\n            return;\r\n\r\n        this.setDataInBreakpoint(\"grid\", grid, undefined, breakpointName);\r\n        this.setState({grid: grid}, () => {\r\n            if (this.props.gridLine.hasGridLine(this.props.id)) {\r\n                let size = this.getSize(false);\r\n                this.updateGridLines(\r\n                    size.top,\r\n                    size.left,\r\n                    size.top + size.clientHeight,\r\n                    size.left + size.clientWidth,\r\n                    this.props.gridLine.hasGridLine(this.props.id)\r\n                );\r\n            }\r\n\r\n            if (callback)\r\n                callback();\r\n        });\r\n    };\r\n\r\n    getGridLineRect = (ref, index, dir, item) => {\r\n        if (ref.current) {\r\n            return ref.current.rect;\r\n        }\r\n\r\n        let parentRect = item.props.parent && item.props.parent.getSize(false) || {\r\n            width: item.props.breakpointmanager.getWindowWidth()\r\n        };\r\n        let padding = cloneObject(item.getCompositeFromData(\"padding\")) || {};\r\n        ['top', 'left', 'bottom', 'right'].forEach(key => {\r\n            padding[key] = getPxValueFromCSSValue(padding[key], parentRect.width, item) || 0;\r\n        });\r\n\r\n        let thisRect = item.getSize(false);\r\n        if (dir === 'x') {\r\n            if (index === 0) {\r\n                return {\r\n                    left: thisRect.left - thisRect.scrollLeft + padding.left ,\r\n                    top: thisRect.top - thisRect.scrollTop + padding.top,\r\n                    height: thisRect.scrollHeight - padding.top - padding.bottom,\r\n                    width: 1\r\n                }\r\n            } else {\r\n                return {\r\n                    left: thisRect.left - thisRect.scrollLeft + thisRect.scrollWidth - padding.right - 1,\r\n                    top: thisRect.top - thisRect.scrollTop + padding.top,\r\n                    height: thisRect.scrollHeight - padding.top - padding.bottom,\r\n                    width: 1\r\n                }\r\n            }\r\n        } else {\r\n            if (index === 0) {\r\n                return {\r\n                    top: thisRect.top - thisRect.scrollTop + padding.top ,\r\n                    left: thisRect.left - thisRect.scrollLeft + padding.left,\r\n                    height: 1,\r\n                    width: thisRect.scrollWidth - padding.left - padding.right,\r\n                }\r\n            } else {\r\n                return {\r\n                    top: thisRect.top - thisRect.scrollTop + thisRect.scrollHeight - padding.bottom - 1,\r\n                    left: thisRect.left - thisRect.scrollLeft + padding.left,\r\n                    height: 1,\r\n                    width: thisRect.scrollWidth - padding.left - padding.right,\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    getGridLineOfPoint = (left, top, parent, after = false, parentRect) => {\r\n        if (!parentRect)\r\n            parentRect = parent.getSize(false);\r\n        let x;\r\n        let cx;\r\n        let xLineRef = this.props.gridLine.getXlineRef(parent.props.id);\r\n        for(let i = 0; i < xLineRef.length; i++) {\r\n            let rect = this.getGridLineRect(xLineRef[i], i, 'x', parent);\r\n            if (left < rect.left || (after && left <= rect.left)) {\r\n                x = i;\r\n                if (!after) {\r\n                    if (xLineRef[i - 1]) {\r\n                        // rect = xLineRef[i - 1].current.getBoundingClientRect();\r\n                        // rect = xLineRef[i - 1].current.rect;\r\n                        rect = this.getGridLineRect(xLineRef[i - 1], i - 1, 'x', parent);\r\n                        cx = rect.left;\r\n                    } else {\r\n                        // cx = parentRect.left - parentRect.scrollLeft;\r\n                        cx = rect.left;\r\n                    }\r\n                } else {\r\n                    cx = rect.left;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n        if (x === undefined) {\r\n            x = xLineRef.length;\r\n            // let rect = xLineRef[xLineRef.length - 1].current.getBoundingClientRect();\r\n            // let rect = xLineRef[xLineRef.length - 1].current.rect;\r\n            let rect = this.getGridLineRect(xLineRef[xLineRef.length - 1], xLineRef.length - 1, 'x', parent);\r\n            cx = rect.left;\r\n        }\r\n\r\n        let y;\r\n        let cy;\r\n        let yLineRef = this.props.gridLine.getYlineRef(parent.props.id);\r\n        for(let i = 0; i < yLineRef.length; i++) {\r\n            // let rect = yLineRef[i].current.getBoundingClientRect();\r\n            // let rect = yLineRef[i].current.rect;\r\n            let rect = this.getGridLineRect(yLineRef[i], i, 'y', parent);\r\n            if (top < rect.top || (after && top <= rect.top)) {\r\n                y = i;\r\n                if (!after) {\r\n                    if (yLineRef[i - 1]) {\r\n                        // rect = yLineRef[i - 1].current.getBoundingClientRect();\r\n                        // rect = yLineRef[i - 1].current.rect;\r\n                        rect = this.getGridLineRect(yLineRef[i - 1], i - 1, 'y', parent);\r\n                        cy = rect.top;\r\n                    } else {\r\n                        // cy = parentRect.top - parentRect.scrollTop;\r\n                        cy = rect.top;\r\n                    }\r\n                } else {\r\n                    cy = rect.top;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n        if (y === undefined) {\r\n            y = yLineRef.length;\r\n            // let rect = yLineRef[yLineRef.length - 1].current.getBoundingClientRect();\r\n            // let rect = yLineRef[yLineRef.length - 1].current.rect;\r\n            let rect = this.getGridLineRect(yLineRef[yLineRef.length - 1], yLineRef.length - 1, 'y', parent);\r\n            cy = rect.top;\r\n        }\r\n\r\n        if (after) {\r\n            x++;\r\n            y++;\r\n        }\r\n\r\n        x = Math.max(1, x);\r\n        x = Math.min(xLineRef.length, x);\r\n        y = Math.max(1, y);\r\n        y = Math.min(yLineRef.length, y);\r\n\r\n        if (x === xLineRef.length)\r\n            cx++;\r\n        if (y === yLineRef.length)\r\n            cy++;\r\n\r\n        return {x, y, cx, cy};\r\n    };\r\n\r\n    calculateGridArea = (left, top, width, height, parent, parentRect) => {\r\n        if (!this.props.gridLine.hasGridLine(parent.props.id)) {\r\n            return {\r\n                gridArea: {x1: 1, y1: 1, x2: 2, y2: 2},\r\n                coordinates: {cx1: 0, cy1: 0, cx2: 0, cy2: 0}\r\n            }\r\n        }\r\n        let gridLine1 = this.getGridLineOfPoint(left, top, parent, false, parentRect);\r\n        let gridLine2 = this.getGridLineOfPoint(left + width, top + height, parent, true, parentRect);\r\n        return {\r\n            gridArea: {x1: gridLine1.x, y1: gridLine1.y, x2: gridLine2.x, y2: gridLine2.y},\r\n            coordinates: {cx1: gridLine1.cx, cy1: gridLine1.cy, cx2: gridLine2.cx, cy2: gridLine2.cy}\r\n        };\r\n    };\r\n\r\n    onMouseDown = (e, moveWithMouse) => {\r\n        if (!this.isEditor())\r\n            return;\r\n\r\n        if (this.isLeftClick(e)) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            this.mouseDown = true;\r\n            this.moveWithMouse = moveWithMouse;\r\n            this.mouseMoved = {\r\n                deltaX: 0,\r\n                deltaY: 0,\r\n                lastClientX: e.clientX,\r\n                lastClientY: e.clientY,\r\n                startMillis: (new Date()).getTime()\r\n            };\r\n            window.addEventListener(\"mousemove\", this.onMouseMove);\r\n            window.addEventListener(\"mouseup\", this.onMouseUp);\r\n        } else if (isRightClick(e)) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            this.mouseDown = true;\r\n            window.addEventListener(\"mouseup\", this.onMouseUp);\r\n        }\r\n    };\r\n\r\n    isLeftClick = (e) => {\r\n        if (e.button === 0)\r\n            return true;\r\n\r\n        return false;\r\n    };\r\n\r\n    onMouseMove = (e) => {\r\n        if (!this.mouseDown)\r\n            return;\r\n\r\n        this.mouseMoved.deltaX += (e.clientX - this.mouseMoved.lastClientX);\r\n        this.mouseMoved.deltaY += (e.clientY - this.mouseMoved.lastClientY);\r\n        this.mouseMoved.lastClientX = e.clientX;\r\n        this.mouseMoved.lastClientY = e.clientY;\r\n\r\n        if (!this.moving) {\r\n            let currentMillis = new Date().getTime();\r\n            if (Math.abs(this.mouseMoved.deltaX) > 10 ||\r\n                Math.abs(this.mouseMoved.deltaY) > 10 ||\r\n                currentMillis - this.mouseMoved.startMillis > 500)\r\n            {\r\n                if (!this.state.groupSelected && this.getFromTempData(\"draggable\") && !this.state.selected) {\r\n                    this.onSelect(true);\r\n                }\r\n                this.moving = true;\r\n                this.canMove() && this.onDragStart(e, isGroupSelected(this), true);\r\n            }\r\n        } else {\r\n            this.canMove() && this.onDrag(e, isGroupSelected(this), true);\r\n        }\r\n    };\r\n\r\n    canMove = () => {\r\n        return (this.state.selected || this.state.groupSelected) && this.getFromTempData(\"draggable\");\r\n    };\r\n\r\n    onMouseUp = (e) => {\r\n        if (!this.mouseDown)\r\n            return;\r\n\r\n        delete this.moveWithMouse;\r\n\r\n        if (isRightClick(e)) {\r\n            this.onContextMenu(e);\r\n            this.mouseDown = false;\r\n            window.removeEventListener(\"mouseup\", this.onMouseUp);\r\n            return;\r\n        }\r\n\r\n        let currentMillis = new Date().getTime();\r\n        if (!this.moving && currentMillis - this.mouseMoved.startMillis < 500) {\r\n            if (!this.dropped) {\r\n                e.stopPropagation();\r\n                this.onSelect(true, undefined, undefined, true);\r\n            } else {\r\n                this.dropped = false;\r\n            }\r\n        }\r\n\r\n        if (this.moving && this.canMove()) {\r\n            window.requestAnimationFrame(() => {\r\n                this.onDragStop(e, isGroupSelected(this), true);\r\n            });\r\n        }\r\n\r\n        this.moving = false;\r\n        this.mouseDown = false;\r\n\r\n        window.removeEventListener(\"mousemove\", this.onMouseMove);\r\n        window.removeEventListener(\"mouseup\", this.onMouseUp);\r\n    };\r\n\r\n    onSelect = (selected, callback, deselectParent, clicked, dontUpdateAdjustment) => {\r\n        if (!this.isEditor()) return;\r\n\r\n        if (this.callOverride(\"onSelect\", selected, callback, deselectParent))\r\n            return;\r\n\r\n        if (!this.mounted)\r\n            return;\r\n        if (!this.props.isSelectable)\r\n            return;\r\n\r\n        if (selected) {\r\n            this.props.select.selectItem(this, clicked, dontUpdateAdjustment);\r\n            this.props.gridLine.removeGridLineByType(\"A\");\r\n            this.toggleGridLines(selected, undefined, \"A\");\r\n        } else {\r\n            this.props.onDeSelectListener && this.props.onDeSelectListener(this);\r\n            this.props.select.updateHelpSizeLines();\r\n        }\r\n\r\n        if (this.props.parent) {\r\n            if (selected || deselectParent)\r\n                this.props.parent.toggleGridLines(selected, () => {\r\n                    this.toggleHelpLines(selected && this.props.parent);\r\n                }, \"B\");\r\n        } else {\r\n            selected && this.props.gridLine.removeGridLineByType(\"B\");\r\n            this.props.select.updateHelpSizeLines();\r\n        }\r\n\r\n        this.setTempData(\"selected\", selected);\r\n\r\n        if (!this.mounted)\r\n            return;\r\n\r\n        this.setState({selected, groupSelected: false}, () => {\r\n            selected && this.setItemHover(true);\r\n\r\n            this.props.editor.updateLayout();\r\n\r\n            if (callback)\r\n                callback();\r\n        });\r\n    };\r\n\r\n    toggleGridLines = (showGridLines, callback, gridType) => {\r\n        if (this.callOverride(\"toggleGridLines\", showGridLines, callback, gridType))\r\n            return;\r\n\r\n        if (!this.mounted)\r\n            return;\r\n\r\n        if (!showGridLines) {\r\n            this.props.gridLine.removeGridLine(this.props.id);\r\n            this.updateLayout();\r\n            return;\r\n        }\r\n\r\n        if (!this.getFromTempData(\"isContainer\"))\r\n            return;\r\n\r\n        if (this.props.gridLine.hasGridLine(this.props.id, gridType)) {\r\n            if (callback)\r\n                callback();\r\n\r\n            this.updateLayout();\r\n\r\n            return;\r\n        }\r\n\r\n        let grid = this.getCompositeFromData(\"grid\");\r\n        this.props.gridLine.addGrid(\r\n            this.props.id,\r\n            grid.x,\r\n            grid.y,\r\n            gridType,\r\n            grid.gridTemplateRows,\r\n            grid.gridTemplateColumns,\r\n            {\r\n                top: 0,\r\n                left: 0,\r\n                bottom: 0,\r\n                right: 0,\r\n            },\r\n            () => {\r\n                if (callback)\r\n                    callback();\r\n\r\n                this.updateLayout();\r\n            }\r\n        );\r\n    };\r\n\r\n    toggleHelpLines = (helpLinesParent, callback) => {\r\n        if (this.callOverride(\"toggleHelpLines\", helpLinesParent, callback))\r\n            return;\r\n\r\n        if (this.mounted) {\r\n            this.setState({\r\n                helpLinesParent: helpLinesParent !== this && helpLinesParent\r\n            }, () => {\r\n                helpLinesParent &&\r\n                this.props.select.updateHelpLines(this, this.state.helpLinesParent,\r\n                    this.getSize(false), this.state.dragging);\r\n\r\n                if (callback)\r\n                    callback();\r\n            });\r\n        }\r\n    };\r\n\r\n    onScroll = (e) => {\r\n        console.log(\"onScroll\", this.props.id);\r\n        if (this.callOverride(\"onScroll\", e))\r\n            return;\r\n\r\n        this.isEditor() && this.invalidateSize(true, false, true);\r\n        this.isEditor() && this.props.select.updateParentsRect();\r\n        this.isEditor() && this.props.select.onScrollItem();\r\n        this.onScrollEnd(e);\r\n    };\r\n\r\n    onRootScroll = (e) => {\r\n        if (this.getFromTempData(\"isFixed\")) {\r\n            this.props.parent.forceScroll(e);\r\n        }\r\n\r\n        let {isPage} = this.props;\r\n\r\n        if (isPage) {\r\n            let el = this.rootDivRef.current;\r\n            if (el.scrollHeight - el.clientHeight === 0)\r\n                document.documentElement.style.setProperty('--page-scroll', 0);\r\n            else\r\n                document.documentElement.style.setProperty('--page-scroll',\r\n                    el.scrollTop / (el.scrollHeight - el.clientHeight));\r\n        }\r\n    };\r\n\r\n    forceScroll = (e) => {\r\n        console.log(\"forceScroll\", this.props.id, this.rootDivRef.current.scrollTop, e.deltaY);\r\n\r\n        clearTimeout(this.scrollReset);\r\n\r\n        if (!this.targetScroll) this.targetScroll = {\r\n            top: this.rootDivRef.current.scrollTop\r\n        };\r\n\r\n        if (this.targetScroll.top < 0 && e.deltaY > 0)\r\n            this.targetScroll.top = 0;\r\n\r\n        let maxTop = this.rootDivRef.current.scrollHeight - this.getSize(false).height;\r\n        if (this.targetScroll.top > maxTop && e.deltaY < 0) {\r\n            this.targetScroll.top = maxTop;\r\n        }\r\n\r\n        this.targetScroll.top += e.deltaY;\r\n\r\n        this.rootDivRef.current.scrollTo({\r\n            top: this.targetScroll.top,\r\n            behavior: 'smooth'\r\n        });\r\n\r\n        this.scrollReset = setTimeout(() => {\r\n            this.targetScroll = {\r\n                top: this.rootDivRef.current.scrollTop\r\n            };\r\n        }, 500);\r\n    }\r\n\r\n    onScrollEnd = debounce((e) => {\r\n        if (this.callOverride(\"onScrollEnd\", e))\r\n            return;\r\n\r\n        this.isEditor() && this.invalidateSize();\r\n        this.isEditor() && this.addToSnap();\r\n    }, 500);\r\n\r\n    editGrid = () => {\r\n        this.props.gridEditorRef.current.editing(this);\r\n    };\r\n\r\n    updateGridEditor = () => {\r\n        this.props.gridEditorRef.current.update(this);\r\n    };\r\n\r\n    setAnchor = (anchor) => {\r\n        if (this.callOverride(\"setAnchor\", anchor))\r\n            return;\r\n\r\n        this.setTempData(\"anchor\", anchor);\r\n        this.updateLayout();\r\n    };\r\n\r\n    isEditor = () => {\r\n        return this.props.editor;\r\n    }\r\n\r\n    playAnimation = (disable, force) => {\r\n        let compositeDesign = getCompositeDesignData(this);\r\n        if (!compositeDesign.animation || !compositeDesign.animation.name)\r\n            return;\r\n\r\n        if (!force && this.getFromData(\"dontAnimate\"))\r\n            return;\r\n\r\n        // Component going to show animation, so add end listener for more action\r\n        let onAnimationEnd = DynamicAnimations[compositeDesign.animation.name].onAnimationEnd;\r\n\r\n        let stateChange = {\r\n            forceKey: \"animationReplay\",\r\n            showAnimation: true,\r\n            onAnimationEnd\r\n        };\r\n\r\n        if (disable) {\r\n            stateChange.disableVS = true;\r\n            this.setTempData(\"dontAnimate\", true);\r\n        }\r\n\r\n        this.isEditor() && this.props.select.activateHover(false);\r\n        this.isEditor() && this.props.select.activateResize(false);\r\n\r\n        this.setState(stateChange);\r\n    };\r\n\r\n    onAnimationEnd = () => {\r\n        this.setState({forceKey: undefined, showAnimation: undefined});\r\n        this.isEditor() && this.props.select.activateHover(true);\r\n        this.isEditor() && this.props.select.activateResize(true);\r\n        this.invalidateSize(true,false,true);\r\n    };\r\n\r\n    getCompositeAnimationCss = (compositeAnimation = {}) => {\r\n        if (!(compositeAnimation.name && this.state.forceKey && this.state.showAnimation))\r\n            return;\r\n\r\n        return DynamicAnimations[compositeAnimation.name]\r\n            .getAnimationCSS(this, compositeAnimation.options);\r\n    };\r\n\r\n    onContextMenu = (e) => {\r\n        if (!this.isEditor()) return;\r\n\r\n        e.preventDefault();\r\n        this.onSelect(true);\r\n        this.props.select.onContextMenu(e, this);\r\n    };\r\n\r\n    getContextMenu = () => {\r\n        if (this.hasOverride(\"getContextMenu\"))\r\n            return this.callOverride(\"getContextMenu\");\r\n    };\r\n\r\n    onDoubleClick = (e) => {\r\n        if (this.callOverride(\"onDoubleClick\", e))\r\n            return;\r\n    }\r\n\r\n    animationRunning = debounce(() => {\r\n        this.onAnimationFrame();\r\n    }, 200);\r\n\r\n    onAnimationFrame = () => {\r\n        this.invalidateSize(false, false, true);\r\n        if (this.state.showAnimation)\r\n            window.requestAnimationFrame(this.onAnimationFrame);\r\n    }\r\n\r\n    render () {\r\n        let {className, animationCss, as, editor, select, id, getStaticChildren,\r\n            isPage, page, getChildrenOverride, modifyContainerStyleOverride} = this.props;\r\n        let {selected, runtimeStyle, portalNodeId, disableVS, showAnimation, forceKey, grid,\r\n            draggingStart, showGridLines, resizeHelpData} = this.state;\r\n        let isContainer = this.props.griddata.isContainer;\r\n        let children = this.children;\r\n        let resizeData = this.resizeData;\r\n        let size = runtimeStyle || this.getSize(false);\r\n        let compositeDesign = getCompositeDesignData(this);\r\n        let compositeTransform = this.getCompositeFromData(\"transform\") || {};\r\n        let compositeStyle = this.getCompositeFromData(\"style\");\r\n        let overflowData = this.getCompositeFromData(\"overflowData\");\r\n        let anchor = this.getFromTempData(\"anchor\");\r\n        let customStyle = this.getFromTempData(\"customStyle\") || {};\r\n        let selectAsParent = this.props.gridLine.hasGridLine(this.props.id, \"B\") !== undefined;\r\n\r\n        let classes = classNames(\r\n            \"AwesomeGridLayoutRoot\",\r\n            \"AwesomeGridLayoutGrid\",\r\n            className,\r\n            this.getDesignStyleId(),\r\n            this.getGridItemStyleId(),\r\n            this.getStyleId(),\r\n            this.getCompositeAnimationCss(compositeDesign.animation),\r\n            isPage && \"PageScrollBar\"\r\n        );\r\n\r\n        let holderClasses = classNames(\r\n            \"AwesomeGridLayoutHolder\",\r\n            this.getTransformStyleId(),\r\n        );\r\n\r\n        let TagAs = as || \"div\";\r\n\r\n        if (showAnimation) this.animationRunning();\r\n\r\n        return (\r\n            <Portal nodeId={portalNodeId} disabled={!portalNodeId}>\r\n                <VisibilitySensorWrapper\r\n                    animation={compositeDesign.animation}\r\n                    editor={editor}\r\n                    playAnimation={this.playAnimation}\r\n                    select={select}\r\n                    disableVS={disableVS}\r\n                >\r\n                        <TagAs\r\n                            onMouseDown={!showAnimation ? this.onMouseDown : undefined}\r\n                            onMouseOver={this.onMouseOver}\r\n                            onMouseEnter={this.onMouseEnter}\r\n                            onMouseOut={this.onMouseOut}\r\n                            onScroll={this.onRootScroll}\r\n                            onWheel={this.onRootScroll}\r\n                            onDoubleClick={this.onDoubleClick}\r\n                            id={id}\r\n                            className={classes}\r\n                            style={{\r\n                                ...runtimeStyle,\r\n                                ...(this.canMove() && {cursor: \"move\"}),\r\n                                // ...(!this.isEditor() && this.getFromTempData(\"isFixed\") && {pointerEvents: \"none\"}),\r\n                                ...(isPage && {overflowY: \"auto\", overflowX: \"hidden\"}),\r\n                                ...(overflowData.state === 'hide' && {\r\n                                    overflowY: 'hidden',\r\n                                    overflowX: 'hidden',\r\n                                }),\r\n                                ...(showAnimation && {\r\n                                    opacity: 0\r\n                                }),\r\n                                ...customStyle\r\n                            }}\r\n                            ref={this.rootDivRef}\r\n                            key={id}\r\n                            onAnimationEnd={this.onAnimationEnd}\r\n                        >\r\n                            {\r\n                                this.getFromTempData(\"pageResize\") &&\r\n                                !showAnimation &&\r\n                                <AdjustmentResizePage\r\n                                    id={id}\r\n                                    key={`${id}_resize`}\r\n                                    sides={['e','w']}\r\n                                    onResizeStart={this.pageResizeStart}\r\n                                    onResize={this.pageResize}\r\n                                    onResizeStop={this.pageResizeStop}\r\n                                    data={runtimeStyle || size}\r\n                                    top={(resizeData && resizeData.top) || (size && size.top)}\r\n                                    left={(resizeData && resizeData.left) || (size && size.left)}\r\n                                    width={(runtimeStyle && runtimeStyle.width) || (size && size.width)}\r\n                                    height={(runtimeStyle && runtimeStyle.height) || (size && size.height)}\r\n                                    draggingStart={draggingStart}\r\n                                    itemId={id}\r\n                                />\r\n                            }\r\n\r\n                            {\r\n                                selected && resizeHelpData &&\r\n                                !this.getFromTempData(\"pageResize\") &&\r\n                                !showAnimation &&\r\n                                !isGroupSelected(this) &&\r\n                                <AdjustmentHelpSize\r\n                                    resizeHelpData={resizeHelpData}\r\n                                />\r\n                            }\r\n\r\n                            {isPage && <div id={\"top\"}></div>}\r\n                            <AnimationHolder\r\n                                className={holderClasses}\r\n                                // key={forceKey || `${id}_container`}\r\n                                id={`${id}_child_holder`}\r\n                                disabled={Object.keys(compositeTransform).length > 0}\r\n                                transformRef={this.transformRef}\r\n                            >\r\n                                {\r\n                                    getStaticChildren && getStaticChildren()\r\n                                }\r\n\r\n                                <GridChildContainer\r\n                                    id={id}\r\n                                    key={`${id}_container`}\r\n                                    allChildren={children}\r\n                                    grid={grid}\r\n                                    overflowData={overflowData}\r\n                                    showGridLines={showGridLines}\r\n                                    aglStyle={compositeStyle}\r\n                                    overflowRef={this.overflowRef}\r\n                                    containerRef={this.containerRef}\r\n                                    show={isContainer}\r\n                                    onScroll={this.onScroll}\r\n                                    isPage={isPage}\r\n                                    editor={editor}\r\n                                    page={page}\r\n                                    ref={this.backContainerRef}\r\n                                    size={runtimeStyle || size}\r\n                                    getChildrenOverride={getChildrenOverride}\r\n                                    agl={this}\r\n                                    padding={this.getCompositeFromData(\"padding\")}\r\n                                    modifyContainerStyleOverride={modifyContainerStyleOverride}\r\n                                    selectAsParent={selectAsParent}\r\n                                    selected={selected}\r\n                                />\r\n                            </AnimationHolder>\r\n                            {isPage && <div id={\"bottom\"}></div>}\r\n\r\n                            <AGLAnchor\r\n                                anchor={anchor}\r\n                            />\r\n\r\n                            {\r\n                                this.state.dragging && this.props.parent &&\r\n                                <Portal nodeId={this.state.portalNodeId ||\r\n                                    `${this.props.parent.props.id}_container`}\r\n                                >\r\n                                    <div\r\n                                        className={this.state.fakeStyle}\r\n                                        style={{\r\n                                            opacity: 0,\r\n                                            pointerEvents: \"none\",\r\n                                            ...this.state.fakeStyle\r\n                                        }}\r\n                                    />\r\n                                </Portal>\r\n                            }\r\n\r\n                        </TagAs>\r\n                </VisibilitySensorWrapper>\r\n            </Portal>\r\n        )\r\n    }\r\n}\r\n\r\nAwesomeGridLayout2.defaultProps = {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    childSize: {w: \"100%\", h: \"100%\"},\r\n    showSideResize: false,\r\n    isSelectable: true,\r\n    layoutType: \"free\", // free, grid\r\n    snap: {x: 1, y: 1},\r\n    dir: \"rtl\", // rtl, ltr,\r\n    compactType: \"vertical\", // none, vertical, horizontal\r\n    defaultGrid: {\r\n        x: 1,\r\n        y: 1,\r\n        gridTemplateRows: \"1fr\",\r\n        gridTemplateColumns: \"1fr\"\r\n    },\r\n    defaultStyle: {\r\n        width: \"50%\",\r\n        height: \"50%\",\r\n    },\r\n    defaultGridItemStyle: {\r\n        alignSelf: \"center\",\r\n        justifySelf: \"center\",\r\n        position: \"relative\",\r\n        marginLeft: 0,\r\n        marginRight: 0,\r\n        marginTop: 0,\r\n        marginBottom: 0,\r\n        gridArea: \"1/1/2/2\",\r\n    }\r\n};\r\n","import AwesomeGridLayout2 from \"../../AwesomeGridLayout2\";\r\nimport React from \"react\";\r\nimport {assignData, initGriddata} from \"../../AwesomeGridLayoutUtils\";\r\n\r\nexport default class AGLWrapper extends React.Component{\r\n    render() {\r\n        let griddata = this.props.aglRef.current && this.props.aglRef.current.props.griddata;\r\n        if (!griddata) griddata = this.props.griddata;\r\n        console.log(\"griddata.customStyle1\", this.props.griddata.customStyle)\r\n        console.log(\"griddata.customStyle2\", griddata.customStyle)\r\n        if (griddata && griddata.initialized) {\r\n            console.log(\"griddata.customStyle3\", griddata.customStyle)\r\n            if (!griddata.filDataOnMount) {\r\n                console.log(\"griddata.customStyle4\", griddata.customStyle)\r\n                griddata.filDataOnMount = true;\r\n                // griddata.fillWithData = true;\r\n                let bpData = this.props.data.bpData;\r\n                Object.keys(this.props.data).forEach(key => {\r\n                    if (key !== \"bpData\") {\r\n                        console.log(\"key\", key)\r\n                        griddata[key] = this.props.data[key];\r\n                    }\r\n                });\r\n                assignData(griddata.bpData[\"laptop\"], bpData);\r\n                console.log(\"griddata.customStyle5\", griddata.customStyle)\r\n            }\r\n        } else {\r\n            console.log(\"griddata.customStyle6\", griddata.customStyle)\r\n            griddata = assignData(this.props.griddata, this.props.data);\r\n            console.log(\"griddata.customStyle7\", griddata.customStyle)\r\n            initGriddata(griddata, this.props.breakpointmanager);\r\n            console.log(\"griddata.customStyle8\", griddata.customStyle)\r\n        }\r\n\r\n        console.log(\"griddata\", griddata)\r\n\r\n        return (\r\n            <AwesomeGridLayout2\r\n                className={this.props.className}\r\n                {...this.props}\r\n                ref={this.props.aglRef}\r\n                griddata={griddata}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport Portal from \"../../Portal\";\r\n\r\nexport default class StackSpacerContainer extends React.PureComponent{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            spacers: []\r\n        };\r\n    }\r\n\r\n    updateSpacers = (spacers) => {\r\n        setTimeout(() => {\r\n            this.setState({spacers});\r\n        }, 0);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            this.state.spacers.map((spacer, index) => {\r\n                return <Portal nodeId={`${this.props.aglRef.current.props.id}_container`}\r\n                               key={index}\r\n                               document={this.props.document}\r\n                >\r\n                    {spacer}\r\n                </Portal>\r\n            })\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\n\r\nexport default class AdjustmentMove extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.rootDivRef = React.createRef();\r\n    }\r\n\r\n    onMouseDown = (e) => {\r\n        let rect = this.rootDivRef.current.getBoundingClientRect();\r\n        if (this.isLeftClick(e) && e.clientX >= rect.left && e.clientX <= rect.left + rect.width &&\r\n            e.clientY >= rect.top && e.clientY <= rect.top + rect.height) {\r\n            e.stopPropagation();\r\n            this.mouseDown = true;\r\n            window.addEventListener(\"pointermove\", this.onMouseMove);\r\n            window.addEventListener(\"pointerup\", this.onMouseUp);\r\n        }\r\n    };\r\n\r\n    isLeftClick = (e) => {\r\n        if (e.pointerType === \"mouse\" && e.button === 0)\r\n            return true;\r\n\r\n        return false;\r\n    };\r\n\r\n    onMouseMove = (e) => {\r\n        if (!this.mouseDown)\r\n            return;\r\n        e.stopPropagation();\r\n\r\n        if (!this.moving) {\r\n            this.moving = true;\r\n            this.onDragStart(e);\r\n        } else {\r\n            this.onDrag(e);\r\n        }\r\n    };\r\n\r\n    onMouseUp = (e) => {\r\n        if (!this.mouseDown)\r\n            return;\r\n\r\n        this.mouseDown = false;\r\n\r\n        if (this.moving) {\r\n            e.stopPropagation();\r\n            this.onDragStop(e);\r\n        } else {\r\n            if (this.props.onClick)\r\n                this.props.onClick(e);\r\n        }\r\n\r\n        this.moving = false;\r\n\r\n        window.removeEventListener(\"pointermove\", this.onMouseMove);\r\n        window.removeEventListener(\"pointerup\", this.onMouseUp);\r\n    };\r\n\r\n    onDragStart = (e) => {\r\n        this.props.onDragStart(e);\r\n    };\r\n\r\n    onDrag = (e) => {\r\n        this.props.onDrag(e);\r\n    };\r\n\r\n    onDragStop = (e) => {\r\n        if (this.props.onDragStop)\r\n            this.props.onDragStop(e);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <div\r\n                id=\"AdjustmentMove\"\r\n                className=\"AdjustmentMoveRoot\"\r\n                ref={this.rootDivRef}\r\n                onPointerDown={this.onMouseDown}\r\n                style={{\r\n                    cursor: this.props.cursor || \"move\"\r\n                }}\r\n            >\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport \"./StackSpacer.css\";\r\nimport AdjustmentMove from \"../../Adjustment/AdjustmentMove\";\r\n\r\nexport default class StackSpacerResizer extends React.PureComponent{\r\n    render() {\r\n        return (\r\n            <div\r\n                className=\"StackSpacerResizerRoot\"\r\n            >\r\n                <AdjustmentMove\r\n                    onDragStart={this.props.onDragStart}\r\n                    onDrag={this.props.onDrag}\r\n                    onDragStop={this.props.onDragStop}\r\n                    cursor={this.props.cursor}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport \"./StackSpacer.css\";\r\nimport AdjustmentMove from \"../../Adjustment/AdjustmentMove\";\r\nimport StackSpacerResizer from \"./StackSpacerResizer\";\r\n\r\nexport default class StackSpacer extends React.PureComponent{\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            pointerEvents: \"auto\"\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.mounted = false;\r\n    }\r\n\r\n    setPointerEvents = (pointerEvents) => {\r\n        this.mounted && this.setState({pointerEvents});\r\n    };\r\n\r\n    updateSpacerData = (newHeight) => {\r\n        this.props.spacerData.height = newHeight;\r\n        this.props.stack.props.select.updateSize();\r\n        this.forceUpdate();\r\n    };\r\n\r\n    onClick = (e) => {\r\n        this.props.aglRef.current.onSelect(true);\r\n    };\r\n\r\n    onDragStart = (e) => {\r\n        if (this.props.onDragStart)\r\n            this.props.onDragStart(e);\r\n\r\n        this.dragData = {\r\n            lastMouseX: e.clientX,\r\n            lastMouseY: e.clientY,\r\n            firstHeight: this.props.spacerData.height\r\n        };\r\n    };\r\n\r\n    onDrag = (e) => {\r\n        e.preventDefault();\r\n        let deltaY = (e.clientY - this.dragData.lastMouseY);\r\n        let newHeight = this.dragData.firstHeight + deltaY;\r\n\r\n        newHeight = Math.max(0, newHeight);\r\n        this.updateSpacerData(newHeight);\r\n    };\r\n\r\n    onDragStop = (e) => {\r\n        if (this.props.onDragStop)\r\n            this.props.onDragStop(e);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div\r\n                className=\"StackSpacerRoot\"\r\n                style={{\r\n                    height: `${this.props.spacerData.height}px`,\r\n                    order: this.props.order,\r\n                    pointerEvents: this.state.pointerEvents\r\n                }}\r\n                onClick={this.onClick}\r\n                onMouseOver={this.props.onMouseOver}\r\n                onMouseEnter={this.props.onMouseEnter}\r\n                onMouseOut={this.props.onMouseOut}\r\n            >\r\n\r\n                <StackSpacerResizer\r\n                    onDragStart={this.onDragStart}\r\n                    onDrag={this.onDrag}\r\n                    onDragStop={this.onDragStop}\r\n                    cursor={\"ns-resize\"}\r\n                />\r\n\r\n                {\r\n                    this.props.aglRef.current.getSize(false).width > 150 &&\r\n                    <p\r\n                        className=\"StackSpacerText\"\r\n                    >\r\n                        Spacer\r\n                    </p>\r\n                }\r\n\r\n                <p\r\n                    className=\"StackSpacerSizeText\"\r\n                >\r\n                    {`${this.props.spacerData.height.toFixed(0)}px`}\r\n                </p>\r\n\r\n                <AdjustmentMove\r\n                    onDragStart={this.onDragStart}\r\n                    onDrag={this.onDrag}\r\n                    onDragStop={this.onDragStop}\r\n                    onClick={this.onClick}\r\n                    cursor={\"ns-resize\"}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport {isFixed, isStretch} from \"../../AwesomwGridLayoutHelper\";\r\nimport {appendStyle, cloneObject, updateStyle} from \"../../AwesomeGridLayoutUtils\";\r\nimport StackSpacerContainer from \"./StackSpacerContainer\";\r\nimport StackSpacer from \"./StackSpacer\";\r\n\r\nexport default class Stack extends AGLComponent{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            spacers: []\r\n        };\r\n        this.aglRef = React.createRef();\r\n        this.spacerContainerRef = React.createRef();\r\n\r\n        if (props.allSpacerData)\r\n            this.allSpacerData = props.allSpacerData;\r\n    }\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            isContainer: true,\r\n        };\r\n    };\r\n\r\n    getChildrenOverride = (sortedChildrenArray, agl) => { // [{child: child, zIndex: zIndex}], agl\r\n        return sortedChildrenArray.map((child, index) => {\r\n            return child.child;\r\n        });\r\n    };\r\n\r\n    lateMountedOverride = (agl) => {\r\n        agl.invalidateSize();\r\n        agl.addToSnap();\r\n        agl.onSelect(agl.getFromTempData(\"selected\"));\r\n\r\n        if (agl.props.onPageResize) {\r\n            let rect = agl.getSize(false, true);\r\n            agl.props.onPageResize(rect.width, agl, true);\r\n        }\r\n\r\n        agl.props.onChildMounted && agl.props.onChildMounted(agl);\r\n        if (this.props.lateMountedComplete)\r\n            this.props.lateMountedComplete(this);\r\n\r\n        this.setOrder();\r\n    };\r\n\r\n    calculateGridItemChildOverride = (child, relativeX, relativeY, parent, width, height, parentRect, fromState) =>\r\n    {\r\n        return this.calculateWrapper(child, relativeX, relativeY, parent, width, height, parentRect, fromState);\r\n    };\r\n\r\n    calculateChildGridItemOverride =\r\n        (child1, child, relativeX, relativeY, parent, width, height, parentRect, fromState) =>\r\n    {\r\n        return this.calculateWrapper(child, relativeX, relativeY, parent, width, height, parentRect, fromState);\r\n    };\r\n\r\n    calculateWrapper = (child, relativeX, relativeY, parent, width, height, parentRect, fromState) => {\r\n        if (!width) {\r\n            let rect = child.getSize(false, true);\r\n            width = rect.width;\r\n            height = rect.height;\r\n        }\r\n\r\n        if (!parentRect)\r\n            parentRect = parent.getSize(false, true);\r\n\r\n        let {gridArea, coordinates} = child.calculateGridArea(\r\n            parentRect.left + relativeX,\r\n            parentRect.top + relativeY,\r\n            width,\r\n            height,\r\n            parent,\r\n            parentRect\r\n        );\r\n\r\n        if (isFixed(child)) {\r\n            gridArea = {x1: 1, x2: 2, y1: 1, y2: 2};\r\n            coordinates = {\r\n                cy1: parentRect.top,\r\n                cy2: parentRect.top + parentRect.clientHeight,\r\n                cx1: parentRect.left,\r\n                cx2: parentRect.left + parentRect.clientWidth\r\n            }\r\n        }\r\n\r\n        let coordinatesAbs = cloneObject(coordinates);\r\n\r\n        child.coordinateToRelative(coordinates, parentRect);\r\n\r\n        let gridItemStyle = {...(child.state.gridItemStyle || child.props.defaultGridItemStyle)};\r\n        delete gridItemStyle.marginLeft;\r\n        delete gridItemStyle.marginRight;\r\n\r\n        gridItemStyle.gridArea = `${gridArea.y1}/${gridArea.x1}/${gridArea.y2}/${gridArea.x2}`;\r\n\r\n        let centerX = (relativeX  - coordinates.cx1) + width / 2;\r\n\r\n        let parentCenterMinusX = (coordinates.cx2 - coordinates.cx1) / 2 * (1 - 0.1);\r\n        let parentCenterPlusX = (coordinates.cx2 - coordinates.cx1) / 2 * (1 + 0.1);\r\n\r\n        let yLineRef = child.props.gridLine.getYlineRef(parent.props.id);\r\n        let cy2IsLastLine = gridArea.y2 === yLineRef.length || isFixed(child);\r\n\r\n        if (gridItemStyle.justifySelf !== \"stretch\") {\r\n            if (centerX < parentCenterPlusX && centerX > parentCenterMinusX) {\r\n                // child is center\r\n                let centerDiff = (centerX - (coordinates.cx2 - coordinates.cx1) / 2);\r\n                gridItemStyle.alignSelf = \"center\";\r\n                gridItemStyle.marginRight = `0${child.getUnit(gridItemStyle.marginRight)}`;\r\n                gridItemStyle.marginLeft =\r\n                    `${(centerDiff * 2).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginLeft)}`;\r\n            } else if (centerX > parentCenterPlusX) {\r\n                gridItemStyle.alignSelf = \"flex-end\";\r\n                gridItemStyle.marginRight =\r\n                    `${(coordinates.cx2 - (relativeX + width)).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginRight)}`;\r\n                gridItemStyle.marginLeft = `0${child.getUnit(gridItemStyle.marginLeft)}`;\r\n            } else {\r\n                gridItemStyle.alignSelf = \"flex-start\";\r\n                gridItemStyle.marginRight = `0${child.getUnit(gridItemStyle.marginRight)}`;\r\n                gridItemStyle.marginLeft =\r\n                    `${(relativeX - coordinates.cx1).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginLeft)}`;\r\n            }\r\n\r\n            // if (cy2IsLastLine && (relativeY + height >= coordinates.cy2)) {\r\n            // gridItemStyle.alignSelf = \"end\";\r\n            // gridItemStyle.marginBottom =\r\n            //     `${(coordinates.cy2 - relativeY - height).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginBottom)}`;\r\n            // gridItemStyle.marginTop =`0${child.getUnit(gridItemStyle.marginBottom)}`;\r\n            // } else {\r\n            // gridItemStyle.alignSelf = \"start\";\r\n            // gridItemStyle.marginBottom = `0${child.getUnit(gridItemStyle.marginBottom)}`;\r\n            // gridItemStyle.marginTop =\r\n            //     `${(relativeY - coordinates.cy1).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginTop)}`;\r\n            // }\r\n        } else {\r\n            gridItemStyle.marginRight =\r\n                `${(coordinates.cx2 - (relativeX + width)).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginRight)}`;\r\n            gridItemStyle.marginLeft =\r\n                `${(relativeX - coordinates.cx1).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginLeft)}`;\r\n\r\n            // gridItemStyle.marginBottom =\r\n            //     `${(coordinates.cy2 - relativeY - height).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginBottom)}`;\r\n            // gridItemStyle.marginTop =\r\n            //     `${(relativeY - coordinates.cy1).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginTop)}`;\r\n        }\r\n\r\n        delete gridItemStyle.justifySelf;\r\n        delete gridItemStyle.marginTop;\r\n        delete gridItemStyle.marginBottom;\r\n        delete gridItemStyle.gridArea;\r\n\r\n        child.setDataInBreakpoint(\"relativeY\", relativeY);\r\n\r\n        this.setOrder(child.props.id, child, relativeY, height, fromState);\r\n\r\n        child.setStyleParam(\"height\", \"auto\");\r\n\r\n        return {gridItemStyle, gridArea, coordinates, coordinatesAbs};\r\n    };\r\n\r\n    setOrder = (childId, child, childRelativeY, childHeight, fromState) => {\r\n        let childFound = false;\r\n        let childOrderSet = false;\r\n        let sorted = Object.values(this.aglRef.current.allChildRefs).sort((a,b) => {\r\n            if (a && a.current && b && b.current){\r\n                if (a.current.props.id === childId || b.current.props.id === childId)\r\n                    childFound = true;\r\n\r\n                let relativeYA = a.current.getFromData(\"relativeY\");\r\n                let relativeYB = b.current.getFromData(\"relativeY\");\r\n                if (relativeYA < relativeYB) {\r\n                    return -1;\r\n                } else if (relativeYA === relativeYB) {\r\n                    // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                    if (childId === a.current.props.id)\r\n                        return -1;\r\n                    else if (childId === b.current.props.id)\r\n                        return 1;\r\n                    else\r\n                        return 0;\r\n                }\r\n                return 1;\r\n            } else {\r\n                return 0;\r\n            }\r\n        });\r\n\r\n        let order = 1;\r\n        let relativeY = 0;\r\n        let spacers = [];\r\n        let length = sorted.filter(childRef => {\r\n            return (childRef && childRef.current);\r\n        }).length;\r\n\r\n        sorted.forEach((childRef, index) => {\r\n            if (childRef && childRef.current) {\r\n                if (childRelativeY && !childFound) {\r\n                    let relativeY2 = childRef.current.getFromData(\"relativeY\");\r\n                    if (!childOrderSet && relativeY2 > childRelativeY) {\r\n                        childOrderSet = true;\r\n                        child.setStyleParam(\"order\", order);\r\n                        child.setDataInBreakpoint(\"order\", order);\r\n                        order++;\r\n                    }\r\n                }\r\n                childRef.current.setStyleParam(\"order\", order);\r\n                childRef.current.setDataInBreakpoint(\"order\", order);\r\n                childRef.current.setDataInBreakpoint(\"relativeY\", relativeY);\r\n                let size = childRef.current.getSize(false);\r\n                relativeY += size.height;\r\n\r\n                if (childId === childRef.current.props.id) {\r\n                    childOrderSet = true;\r\n                }\r\n                order++;\r\n\r\n                if (length > index + 1) {\r\n                    spacers[index] = this.getSpacer(index, order);\r\n                    relativeY+= this.getSpacerData(index).height;\r\n                    order++;\r\n                }\r\n            }\r\n        });\r\n\r\n        if (child && !childOrderSet) {\r\n            childOrderSet = true;\r\n            child.setStyleParam(\"order\", order);\r\n            child.setDataInBreakpoint(\"order\", order);\r\n            order++;\r\n        }\r\n\r\n        this.spacerContainerRef.current.updateSpacers(spacers);\r\n        setTimeout(() => {\r\n            this.props.select.updateSize();\r\n        }, 0);\r\n    };\r\n\r\n    getSpacer = (index, order) => {\r\n        if (!this.allSpacerData) {\r\n            this.allSpacerData = [];\r\n        }\r\n        if (!this.allSpacerRef) {\r\n            this.allSpacerRef = [];\r\n        }\r\n\r\n        if (!this.allSpacerData[index]) {\r\n            this.allSpacerData[index] = {\r\n                height: 20\r\n            };\r\n        }\r\n\r\n        if (!this.allSpacerRef[index]) {\r\n            this.allSpacerRef[index] = React.createRef();\r\n        }\r\n\r\n        return <StackSpacer\r\n            key={index}\r\n            order={order}\r\n            spacerData={this.allSpacerData[index]}\r\n            ref={this.allSpacerRef[index]}\r\n            aglRef={this.aglRef}\r\n            onDragStart={this.onStackDragStart}\r\n            onDragStop={this.onStackDragStop}\r\n            stack={this}\r\n            onMouseOver={this.onMouseOverSpacer}\r\n            onMouseEnter={this.onMouseEnterSpacer}\r\n            onMouseOut={this.onMouseOutSpacer}\r\n        />;\r\n    };\r\n\r\n    onStackDragStart = (e) => {\r\n        this.aglRef.current.setTempData(\"dontMove\", true);\r\n    };\r\n\r\n    onStackDragStop = (e) => {\r\n        this.aglRef.current.setTempData(\"dontMove\", false);\r\n    };\r\n\r\n    getSpacerData = (index) => {\r\n        if (!this.allSpacerData) {\r\n            this.allSpacerData = [];\r\n        }\r\n        if (!this.allSpacerRef) {\r\n            this.allSpacerRef = [];\r\n        }\r\n\r\n        if (!this.allSpacerData[index]) {\r\n            this.allSpacerData[index] = {\r\n                height: 20\r\n            };\r\n        }\r\n\r\n        return this.allSpacerData[index];\r\n    };\r\n\r\n    setMouseOverOverride = (agl, item, positionData, callback) => {\r\n        this.setPointerEventOfSpacers(\"none\");\r\n        return this.props.dragdrop.setMouseOver(item, positionData, callback);\r\n    };\r\n\r\n    setMouseOverForNonDraggingOverride = (agl) => {\r\n        this.setPointerEventOfSpacers(\"auto\");\r\n        agl.props.dragdrop.setMouseOverForNonDragging(agl);\r\n    };\r\n\r\n    setPointerEventOfSpacers = (pointerEvents) => {\r\n        if (!this.allSpacerRef)\r\n            this.allSpacerRef = [];\r\n\r\n        this.allSpacerRef.forEach((spacerRef) => {\r\n            if (spacerRef && spacerRef.current)\r\n                spacerRef.current.setPointerEvents(pointerEvents);\r\n        })\r\n    };\r\n\r\n    setGridItemStyleChildOverride = (child, newGridItemStyle) => {\r\n        let gridItemStyle = {...newGridItemStyle};\r\n        delete gridItemStyle.gridArea;\r\n        child.setDataInBreakpoint(\"gridItemStyle\", gridItemStyle);\r\n        let styleNode = document.getElementById(child.getGridItemStyleId());\r\n\r\n        if (!styleNode) {\r\n            appendStyle(gridItemStyle, child.getGridItemStyleId(), child.getGridItemStyleId(), this.getAgl());\r\n        } else {\r\n            updateStyle(styleNode, gridItemStyle, child.getGridItemStyleId());\r\n        }\r\n    };\r\n\r\n    modifyContainerStyleOverride = (container, agl, grid, aglStyle) => {\r\n        let style;\r\n\r\n        style = {\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            position: \"relative\"\r\n        };\r\n\r\n        let styleNode = document.getElementById(container.getContainerStyleId());\r\n\r\n        if (!styleNode) {\r\n            appendStyle(style, container.getContainerStyleId(), container.getContainerStyleId(), this.getAgl());\r\n        } else {\r\n            updateStyle(styleNode, style, container.getContainerStyleId());\r\n        }\r\n    };\r\n\r\n    onChildLeaveOverride = (agl, child) => {\r\n        agl.removeChildElement(child);\r\n        child.removeIdAndChildrenId();\r\n\r\n        this.setOrder();\r\n\r\n        if (!agl.removing && Object.values(agl.allChildRefs).length === 1) {\r\n            agl.removing = true;\r\n            setTimeout(() => {\r\n                Object.values(agl.allChildRefs)[0] &&\r\n                this.props.dragdrop.dropItem(\r\n                    Object.values(agl.allChildRefs)[0].current,\r\n                    Object.values(agl.allChildRefs)[0].current.props.parent,\r\n                    this.props.parent, undefined, false, 2);\r\n            }, 0);\r\n        }\r\n    };\r\n\r\n    stretchChildOverride = (child, item) => {\r\n        if (!item.props.parent)\r\n            return;\r\n\r\n        let stretch = false;\r\n        let gridItemStyle = item.getFromData(\"gridItemStyle\");\r\n\r\n\r\n        if (!isStretch(item, true)) {\r\n            stretch = true;\r\n        }\r\n\r\n        gridItemStyle.alignSelf = stretch? \"stretch\": \"center\";\r\n        gridItemStyle.marginLeft = \"0px\";\r\n        gridItemStyle.marginRight = \"0px\";\r\n        item.setStyleParam(\"width\", \"100%\");\r\n\r\n        if (!stretch) {\r\n            item.setStyleParam(\"width\", \"80%\");\r\n        }\r\n\r\n        item.setGridItemStyle(gridItemStyle);\r\n        item.props.select.onScrollItem();\r\n    };\r\n\r\n    isStretchChildOverride = (child, item, log) => {\r\n        if (!item.props.parent)\r\n            return false;\r\n\r\n        let gridItemStyle = item.getFromData(\"gridItemStyle\");\r\n\r\n        return !(gridItemStyle.alignSelf !== \"stretch\" ||\r\n            gridItemStyle.marginLeft !== \"0px\" ||\r\n            gridItemStyle.marginRight !== \"0px\");\r\n    };\r\n\r\n    setStyleParamOverride = (agl, param, value, data) => {\r\n        if (param === \"height\" || param === \"minHeight\")\r\n            return;\r\n\r\n        let style = !data? agl.getFromData(\"style\"): agl.getFromData(\"style\", data);\r\n        style[param] = value;\r\n        if (value === undefined)\r\n            delete style[param];\r\n        agl.setStyle(style, data);\r\n    };\r\n\r\n    onMouseOverSpacer = (e) => {\r\n        this.aglRef.current.onMouseOver(e);\r\n    };\r\n\r\n    onMouseEnterSpacer = (e) => {\r\n        this.aglRef.current.onMouseEnter(e);\r\n    };\r\n\r\n    onMouseOutSpacer = (e) => {\r\n        this.aglRef.current.onMouseOut(e);\r\n    };\r\n\r\n    onChildAdd = () => {\r\n        this.getAgl().removing = false;\r\n    };\r\n\r\n    render() {\r\n        return [\r\n            <AGLWrapper tagName=\"Stack\"\r\n                        key=\"Stack\"\r\n                        aglRef={!this.props.aglRef? this.aglRef: this.aglRef = this.props.aglRef}\r\n                        {...this.props}\r\n                        data={this.getData()}\r\n                        style={{...{\r\n                            height: \"auto\"\r\n                        }, ...this.props.style}}\r\n                        getChildrenOverride={this.getChildrenOverride}\r\n                        isStack={true}\r\n                        resizeSides={['e','w']}\r\n                        onDragStartChildOverride={this.onDragStartChildOverride}\r\n                        onDragChildOverride={this.onDragChildOverride}\r\n                        onDragStopChildOverride={this.onDragStopChildOverride}\r\n                        setGridItemStyleChildOverride={this.setGridItemStyleChildOverride}\r\n                        calculateGridItemChildOverride={this.calculateGridItemChildOverride}\r\n                        calculateChildGridItemOverride={this.calculateChildGridItemOverride}\r\n                        modifyContainerStyleOverride={this.modifyContainerStyleOverride}\r\n                        setMouseOverOverride={this.setMouseOverOverride}\r\n                        setMouseOverForNonDraggingOverride={this.setMouseOverForNonDraggingOverride}\r\n                        stretchChildOverride={this.stretchChildOverride}\r\n                        isStretchChildOverride={this.isStretchChildOverride}\r\n                        lateMountedOverride={this.lateMountedOverride}\r\n                        setStyleParamOverride={this.setStyleParamOverride}\r\n                        onChildLeaveOverride={this.onChildLeaveOverride}\r\n                        onChildAdd={this.onChildAdd}\r\n\r\n            >\r\n            </AGLWrapper>,\r\n            <StackSpacerContainer ref={this.spacerContainerRef} key=\"spacers\"\r\n                                  aglRef={this.aglRef}\r\n                                  document={this.props.document}\r\n            />\r\n        ]\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport Divider from \"../Menus/CommonComponents/Divider\";\r\nimport MenuItem from \"@material-ui/core/MenuItem/MenuItem\";\r\nimport {LightMenuTooltip} from \"../Components/Containers/Menus/Components/LightTooltip\";\r\nimport {isLeftClick} from \"../AwesomwGridLayoutHelper\";\r\nimport Popper from \"@material-ui/core/Popper/Popper\";\r\nimport Paper from \"@material-ui/core/Paper/Paper\";\r\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener/ClickAwayListener\";\r\nimport MenuList from \"@material-ui/core/MenuList/MenuList\";\r\n\r\nexport default class ContextMenu extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n\r\n    getFakeAnchor = (clientX, clientY) => {\r\n        return {\r\n            clientWidth: 0,\r\n            clientHeight: 0,\r\n            getBoundingClientRect: () => {\r\n                return {\r\n                    top: clientY,\r\n                    left: clientX,\r\n                    width: 0,\r\n                    height: 0,\r\n                    bottom: clientY,\r\n                    right: clientX\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    render () {\r\n        let {menu, clientX, clientY, popperStyle, onClose} = this.props;\r\n        return (\r\n            <>\r\n                <Popper\r\n                    style={{...{\r\n                            zIndex: 99999999999999\r\n                        }, ...popperStyle}}\r\n                    // anchorReference=\"anchorPosition\"\r\n                    // anchorPosition={\r\n                    //     clientY !== null && clientX !== null\r\n                    //         ? { top: clientY, left: clientX }\r\n                    //         : undefined\r\n                    // }\r\n                    anchorEl={this.getFakeAnchor(clientX, clientY)}\r\n                    open={true}\r\n                    onContextMenu={(e) => {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }}\r\n                    placement=\"bottom-start\"\r\n                >\r\n                    <Paper style={{\r\n                        boxShadow: '0px 5px 5px -3px rgba(0,0,0,0.2), 0px 8px 10px 1px rgba(0,0,0,0.14), 0px 3px 14px 2px rgba(0,0,0,0.12)',\r\n                    }}>\r\n                        <ClickAwayListener onClickAway={onClose} mouseEvent='onMouseDown'>\r\n                            <MenuList autoFocusItem={true} style={{padding: 0}}\r\n                                      onPointerDown={(e) => {\r\n                                          e.preventDefault();\r\n                                          e.stopPropagation();\r\n                                      }}\r\n                            >\r\n                                {\r\n                                    menu.map((section, i) => {\r\n                                        let hasDivider = (i !== menu.length - 1);\r\n                                        return (\r\n                                            [\r\n                                                section.map((menuItem, j) => {\r\n                                                    return (\r\n                                                        <ContextMenuItem\r\n                                                            key={`${i}${j}`}\r\n                                                            onClose={onClose}\r\n                                                            menuItem={menuItem}\r\n                                                        />\r\n                                                    )\r\n                                                }),\r\n                                                hasDivider && <Divider style={{\r\n                                                    width: \"100%\",\r\n                                                    margin: 0,\r\n                                                    display: \"block\"\r\n                                                }}/>\r\n                                            ]\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </MenuList>\r\n                        </ClickAwayListener>\r\n                    </Paper>\r\n                </Popper>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport class ContextMenuItem extends React.Component {\r\n    render () {\r\n        let {menuItem, onClose} = this.props;\r\n\r\n        if (!menuItem.subMenu)\r\n            return (\r\n                <MenuItem\r\n                    dense\r\n                    onClick={(e) => {\r\n                        if (menuItem.onClick) {\r\n                            menuItem.onClick(e);\r\n                            onClose && onClose(e);\r\n                        }\r\n                    }}\r\n                    onPointerDown={(e) => {\r\n                        if (!isLeftClick(e)) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                        }\r\n                    }}\r\n                >\r\n                    <span style={{\r\n                        display: \"grid\",\r\n                        gridTemplateColumns: \"1fr auto\",\r\n                        alignItems: \"center\",\r\n                        width: \"100%\"\r\n                    }}>\r\n                        {menuItem.name}\r\n                        <span style={{\r\n                            fontSize: 10,\r\n                            marginLeft: 24,\r\n                            color: \"#9a9a9a\"\r\n                        }}>\r\n                            {\r\n                                menuItem.shortcut\r\n                            }\r\n                        </span>\r\n                    </span>\r\n                </MenuItem>\r\n            );\r\n        else\r\n            return (\r\n                <LightMenuTooltip\r\n                    title={\r\n                        menuItem.subMenu.map((menuItem, j) => {\r\n                            return (\r\n                                <ContextMenuItem\r\n                                    key={`${j}`}\r\n                                    onClose={onClose}\r\n                                    menuItem={menuItem}\r\n                                />\r\n                            )\r\n                        })\r\n                    }\r\n                    interactive\r\n                    placement=\"right\"\r\n                    leaveDelay={200}\r\n                    PopperProps={{\r\n                        style: {\r\n                            zIndex: 99999999999999,\r\n                        },\r\n                        modifiers:{\r\n                            flip: {\r\n                                enabled: true,\r\n                            },\r\n                            preventOverflow: {\r\n                                enabled: true,\r\n                                boundariesElement: 'viewport',\r\n                            },\r\n                        }}\r\n                    }\r\n                >\r\n                    <MenuItem\r\n                        dense\r\n                        onPointerDown={(e) => {\r\n                            e.preventDefault();\r\n                            e.stopPropagation()\r\n                        }}\r\n                    >\r\n                        <span style={{\r\n                            display: \"grid\",\r\n                            gridTemplateColumns: \"1fr auto\",\r\n                            alignItems: \"center\",\r\n                            width: \"100%\"\r\n                        }}>\r\n                            {menuItem.name}\r\n                            <img draggable={false} width={8} height={8}\r\n                                 src={process.env.PUBLIC_URL + '/static/icon/right-arrow.svg'}\r\n                                style={{\r\n                                    marginLeft: 24,\r\n                                    color: \"#9a9a9a\"\r\n                                }}\r\n                            />\r\n                    </span>\r\n                    </MenuItem>\r\n                </LightMenuTooltip>\r\n            )\r\n    }\r\n}\r\n\r\n/*\r\n* Structure of input menu object\r\n* [\r\n*   [ // each section has one array\r\n    *   {\r\n    *       name: \"delete\",\r\n    *       onClick: function,\r\n    *       icon: <img ... />\r\n    *       shortcut: \"Ctrl + D\"\r\n    *       subMenu: {other Menu}\r\n    *   }\r\n*   ]\r\n* ]\r\n* */\r\n","import React from \"react\";\r\nimport './AwesomwGridLayoutHelper.css';\r\nimport {isLeftClick} from \"./AwesomwGridLayoutHelper\";\r\n\r\nexport default class SelectManager {\r\n    constructor() {\r\n        window.addEventListener(\"keydown\",(e) =>{\r\n            e = e || window.event;\r\n            let key = e.which || e.keyCode; // keyCode detection\r\n            this.ctrl = e.ctrlKey ? e.ctrlKey : (key === 17); // ctrl detection\r\n        });\r\n        window.addEventListener(\"keyup\",(e) =>{\r\n            e = e || window.event;\r\n            let key = e.which || e.keyCode; // keyCode detection\r\n            if (key === 17) {\r\n                this.ctrl = false;\r\n            }\r\n        });\r\n\r\n        this.ctrl = false;\r\n        this.shift = false;\r\n        this.alt = false;\r\n\r\n        this.mouseDown = 0;\r\n        window.addEventListener(\"mousedown\",(e) =>{\r\n            if (isLeftClick(e))\r\n                this.mouseDown = 1;\r\n        });\r\n        window.addEventListener(\"mouseup\",(e) =>{\r\n            if (isLeftClick(e) && this.mouseDown > 0)\r\n                this.mouseDown = 0;\r\n        });\r\n    }\r\n}\r\n","import {throttleDebounce} from \"./AwesomeGridLayoutUtils\";\r\nimport {\r\n    createStack,\r\n    getSectionId,\r\n} from \"./AwesomwGridLayoutHelper\";\r\nimport React from \"react\";\r\nimport './AwesomwGridLayoutHelper.css';\r\nimport throttle from \"lodash.throttle\";\r\nimport Text from \"./Components/Text/Text\";\r\n\r\nexport default class SelectManager {\r\n    constructor(inputManager, groupSelectRef, pageAglRef, miniMenuHolderRef,\r\n                inspectorRef, resizeRef, helpLinesRef, hoverRef) {\r\n        this.inputManager = inputManager;\r\n        this.groupSelectRef = groupSelectRef;\r\n        this.pageAglRef = pageAglRef;\r\n        this.miniMenuHolderRef = miniMenuHolderRef;\r\n        this.inspectorRef = inspectorRef;\r\n        this.resizeRef = resizeRef;\r\n        this.helpLinesRef = helpLinesRef;\r\n        this.hoverRef = hoverRef;\r\n        window.addEventListener(\"keydown\",(e) =>{\r\n            e = e || window.event;\r\n            let key = e.which || e.keyCode; // keyCode detection\r\n            let ctrl = e.ctrlKey ? e.ctrlKey : (key === 17); // ctrl detection\r\n\r\n            if ( key === 71 && ctrl ) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + G\");\r\n                this.editGrid();\r\n            }\r\n            if ( key === 49 && ctrl ) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + 1\");\r\n                this.test1();\r\n            }\r\n            if ( key === 50 && ctrl ) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + 2\");\r\n                this.test2();\r\n            }\r\n            if ( key === 51 && ctrl ) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + 3\");\r\n                this.test3();\r\n            }\r\n        });\r\n    }\r\n\r\n    setContext = (editorContext) => {\r\n        this.context = editorContext;\r\n    }\r\n\r\n    getPageOverflowRef = () => {\r\n        if (this.pageAglRef.current)\r\n            return this.pageAglRef.current.overflowRef.current;\r\n    };\r\n\r\n    editGrid = (item) => {\r\n        if (!this.getSelected()) {\r\n            this.selectedItem = item;\r\n        } else if (!item){\r\n            item = this.getSelected();\r\n        }\r\n\r\n        if (!item)\r\n            return;\r\n\r\n        item.editGrid();\r\n    };\r\n\r\n    selectItem = (item, clicked, dontUpdateAdjustments) => {\r\n        if (!this.getSelected()) {\r\n            this.selectedItem = item;\r\n        }\r\n\r\n        if (this.inputManager.ctrl && clicked && getSectionId(this.selectedItem) === getSectionId(item)) {\r\n            this.createGroup(item);\r\n            return;\r\n        } else if (this.inputManager.ctrl){\r\n            // TODO can notify to user that can't select multiple item from different section\r\n            this.clearGroup();\r\n        } else {\r\n            this.clearGroup();\r\n        }\r\n\r\n        if (this.selectedItem.props.id !== item.props.id){\r\n            this.selectedItem.onSelect(false, undefined, true);\r\n        }\r\n\r\n        if (!dontUpdateAdjustments) {\r\n            if (this.selectedItem.props.id !== item.props.id){\r\n                this.updateMenu();\r\n            }\r\n\r\n            this.updateMiniMenu(item);\r\n            this.setInspector(\r\n                item.props.getInspector()\r\n            );\r\n            this.updateResizePanes(item, item.getSize(false));\r\n        }\r\n\r\n        this.selectedItem = item;\r\n    };\r\n\r\n    clearMiniMenu = () => {\r\n        this.miniMenuHolderRef.current.clearMiniMenu();\r\n    };\r\n\r\n    onContextMenu = (e, item) => {\r\n        this.miniMenuHolderRef.current.onContextMenu(e, item);\r\n    };\r\n\r\n    updateMiniMenu = (item) => {\r\n        if(!item)\r\n            item = this.getSelected();\r\n\r\n        if (item && item.hasMiniMenu())\r\n            this.miniMenuHolderRef.current.addMiniMenu(item);\r\n        else\r\n            this.clearMiniMenu();\r\n    };\r\n\r\n    updateMenu = (menu) => {\r\n        this.miniMenuHolderRef.current.addMenu(menu);\r\n    };\r\n\r\n    setInspector = (inspectorMenu) => {\r\n        this.inspectorRef.current.setMenu(inspectorMenu);\r\n    };\r\n\r\n    clearGroup = () => {\r\n        if (!this.group)\r\n            return;\r\n\r\n        this.group.forEach(item => {\r\n            item.setState({groupSelected: false,\r\n                groupDragStart: undefined,\r\n                groupDrag: undefined,\r\n                groupDragStop: undefined,\r\n            });\r\n            item.onSelect(false, undefined, true);\r\n        });\r\n\r\n        this.group = undefined;\r\n\r\n        this.updateGroupRect();\r\n    };\r\n\r\n    createGroup = (item) => {\r\n        let selectedItem = this.selectedItem;\r\n        this.selectedItem = undefined;\r\n\r\n        if (!this.group) {\r\n            this.group = [];\r\n            selectedItem && this.group.push(selectedItem);\r\n        }\r\n\r\n        item && this.group.push(item);\r\n\r\n        this.updateResizePanes();\r\n\r\n        this.group.forEach(item => {\r\n            item.setState({groupSelected: true,\r\n                groupDragStart: this.groupDragStart,\r\n                groupDrag: this.groupDrag,\r\n                groupDragStop: this.groupDragStop,\r\n            });\r\n        });\r\n\r\n        this.updateGroupRect();\r\n        this.clearMiniMenu();\r\n        this.updateMenu();\r\n    };\r\n\r\n    groupDragStart = (e, mainItem) => {\r\n        this.group.forEach(item => {\r\n            if (mainItem !== item)\r\n                item.onDragStart(e, true);\r\n        });\r\n    };\r\n\r\n    groupDrag = (e, mainItem) => {\r\n        this.group.forEach(item => {\r\n            if (mainItem !== item)\r\n                item.onDrag(e, true);\r\n        });\r\n\r\n        this.updateGroupRect();\r\n    };\r\n\r\n    groupDragStop = (e, mainItem) => {\r\n        this.group.forEach(item => {\r\n            if (mainItem !== item)\r\n                item.onDragStop(e, true);\r\n        });\r\n\r\n        this.updateGroupRect();\r\n    };\r\n\r\n    deleteGroup = () => {\r\n        if (!this.group) {\r\n            return;\r\n        }\r\n\r\n        this.group.forEach(item => {\r\n            item.delete();\r\n        });\r\n\r\n        this.clearGroup();\r\n    };\r\n\r\n    updateGroupRect = () => {\r\n        if (!this.group) {\r\n            this.groupSelectRef.current && this.groupSelectRef.current.updateRect();\r\n            return;\r\n        }\r\n\r\n        let firstRect = this.group[0].getSize(false, true);\r\n        let top = firstRect.top;\r\n        let left = firstRect.left;\r\n        let bottom = window.innerHeight - firstRect.top - firstRect.height;\r\n        let right =  window.innerWidth - firstRect.left - firstRect.width;\r\n\r\n        this.group.slice(1, this.group.length).forEach(item => {\r\n            let rect = item.getSize(false, true);\r\n            top = Math.min(top, rect.top);\r\n            left = Math.min(left, rect.left);\r\n            bottom = Math.min(bottom, window.innerHeight - rect.top - rect.height);\r\n            right = Math.min(right, window.innerWidth - rect.left - rect.width);\r\n        });\r\n\r\n        this.groupSelectRef.current.updateRect({\r\n            top, left, bottom, right\r\n        }, this.group);\r\n    };\r\n\r\n    getSelected = () => {\r\n        return this.selectedItem;\r\n    };\r\n\r\n    updateParentsRect = throttleDebounce(() => {\r\n        if (!this.getSelected() || !this.getSelected().mounted)\r\n            return;\r\n\r\n        let item = this.getSelected();\r\n\r\n        if (item.props.parent)\r\n            item.props.parent.prepareRects(true, true);\r\n        if (item.state.helpLinesParent && item.state.helpLinesParent !== item.props.parent)\r\n            item.state.helpLinesParent.prepareRects(true, true);\r\n    }, 40);\r\n\r\n    isEditor = () => {\r\n        return !this.context.preview;\r\n    }\r\n\r\n    // change grid line positions and resize panes\r\n    onScrollItem = throttleDebounce(() => {\r\n        if (!this.isEditor())\r\n            return;\r\n\r\n        this.updateGroupRect();\r\n\r\n        if (!this.getSelected() || !this.getSelected().mounted)\r\n            return;\r\n\r\n        let item = this.getSelected();\r\n\r\n        if (item.props.parent)\r\n            item.props.parent.prepareRects();\r\n        if (item.state.helpLinesParent && item.state.helpLinesParent !== item.props.parent)\r\n            item.state.helpLinesParent.prepareRects();\r\n\r\n        let size = item.getSize(false, true);\r\n        item.updateGridLines(\r\n            size.top, size.left,\r\n            window.innerHeight - size.top - size.height,\r\n            window.innerWidth - size.left - size.width,\r\n            \"A\"\r\n        );\r\n        item.updateGridEditor();\r\n        this.updateMiniMenu();\r\n        this.updateResizePanes(item, size);\r\n\r\n        this.updateHelpSizeLines(item, item.state.helpLinesParent, size, item.state.dragging,\r\n            item.getBoundarySize(true));\r\n        this.updateHover(item, size);\r\n    }, 50);\r\n\r\n    // updateSize\r\n    updateSize = throttleDebounce(() => {\r\n        if (!this.getSelected() || !this.getSelected().mounted)\r\n            return;\r\n\r\n        let item = this.getSelected();\r\n\r\n        let size = item.getSize(true, true);\r\n\r\n        this.updateResizePanes(item, size);\r\n    }, 100);\r\n\r\n    updateResizePanes = (item, data) => {\r\n        this.resizeRef.current.update(item, data, item && item.getTransformStyleId());\r\n    };\r\n\r\n    updateHelpLines = throttle((item, helpLineParent, itemRect, dragging) => {\r\n        this.updateHelpSizeLines(item, helpLineParent, itemRect, dragging,\r\n            item.getBoundarySize());\r\n    }, 50);\r\n\r\n    getRuntimeGridItemStyle = () => {\r\n        if (this.helpLinesRef.current)\r\n            return this.helpLinesRef.current.getRuntimeGridItemStyle();\r\n    };\r\n\r\n    updateHover = (item, size, clear) => {\r\n        this.hoverRef.current.update(item, size, clear);\r\n    };\r\n\r\n    activateHover = (active) => {\r\n        this.hoverRef.current.activate(active);\r\n    };\r\n\r\n    activateResize = (active) => {\r\n        this.resizeRef.current.activate(active);\r\n    };\r\n\r\n    updateHelpSizeLines = (item, helpLineParent, itemRect, dragging, fakeItemRect) => {\r\n        if (this.helpLinesRef.current)\r\n            this.helpLinesRef.current.update(item, helpLineParent, itemRect, dragging, fakeItemRect);\r\n    };\r\n\r\n    test1 = () => {\r\n        createStack(this.group);\r\n    };\r\n\r\n    test2 = () => {\r\n        let item = this.getSelected();\r\n        if (!item)\r\n            return;\r\n\r\n        let child =\r\n            <Text\r\n                style={{\r\n                    width: \"50%\",\r\n                    height: \"auto\"\r\n                }}\r\n                data={{\r\n                    textStaticData: {\r\n                        textValue: \"Normal Text\"\r\n                    },\r\n                    bpData: {\r\n                        design: {\r\n                            textDesignData: {\r\n                                textTheme: \"Heading 6\"\r\n                            }\r\n                        }\r\n                    }\r\n                }}\r\n            />;\r\n\r\n        item.addChild(child, undefined, undefined, undefined, (agl) => {\r\n        }, undefined, true);\r\n    };\r\n\r\n    test3 = () => {\r\n        let item = this.getSelected();\r\n        if (!item)\r\n            return;\r\n\r\n        item.playAnimation();\r\n    };\r\n}\r\n","export default class SnapManager {\r\n    constructor (snapThreshold, snapSvgRef) {\r\n        this.snaps = {};\r\n        this.snapThreshold = snapThreshold || 10;\r\n        this.snapSvgRef = snapSvgRef;\r\n    }\r\n\r\n    addSnap = (id, horizontals = [], verticals = [], parentsId) => {\r\n        this.snaps[id] = {\r\n            horizontals, verticals, id, parentsId\r\n        };\r\n    };\r\n\r\n    clearSnaps = () => {\r\n        this.snaps = {};\r\n    }\r\n\r\n    removeSnap = (id) => {\r\n        delete this.snaps[id];\r\n    };\r\n\r\n    checkSnap = (top, left, ignoreId, additionalSnaps = []) => {\r\n        let snapH, snapV;\r\n        let topUp = top + this.snapThreshold;\r\n        let topDown = top - this.snapThreshold;\r\n        let leftUp = left + this.snapThreshold;\r\n        let leftDown = left - this.snapThreshold;\r\n\r\n        let snaps = Object.values(this.snaps);\r\n        snaps = snaps.concat(additionalSnaps);\r\n\r\n        for (let i = 0; i < snaps.length; i++) {\r\n            let snap = snaps[i];\r\n            if (!snap)\r\n                continue;\r\n\r\n            if (snap.id === ignoreId)\r\n                continue;\r\n            if (snap.parentsId && snap.parentsId.includes(ignoreId))\r\n                continue;\r\n\r\n            if (!snapH){\r\n                for (let h = 0; h < snap.horizontals.length; h++) {\r\n                    let horizontal = snap.horizontals[h];\r\n                    if (!horizontal)\r\n                        continue;\r\n                    if (horizontal.value <= topUp && horizontal.value >= topDown) {\r\n                        snapH = horizontal;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!snapV) {\r\n                for (let v = 0; v < snap.verticals.length; v++) {\r\n                    let vertical = snap.verticals[v];\r\n                    if (!vertical)\r\n                        continue;\r\n                    if (vertical.value <= leftUp && vertical.value >= leftDown) {\r\n                        snapV = vertical;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (snapH && snapV)\r\n                break;\r\n        }\r\n\r\n        return {snapH, snapV};\r\n    }\r\n\r\n    drawSnap = (snapH, snapV, pointOfSnapH, pointOfSnapV) => {\r\n        this.snapSvgRef.current.update(snapH, snapV, pointOfSnapH, pointOfSnapV)\r\n    }\r\n}\r\n","import {createItem} from \"./AwesomwGridLayoutHelper\";\r\nimport {cloneObject} from \"./AwesomeGridLayoutUtils\";\r\nimport throttle from \"lodash.throttle\";\r\n\r\nexport default class CopyManager {\r\n    constructor(selectManager, pageRef, dragdrop) {\r\n        this.selectManager = selectManager;\r\n        this.pageRef = pageRef;\r\n        this.dragdrop = dragdrop;\r\n\r\n        window.addEventListener(\"keydown\",this.handleKeyCodeEvent);\r\n    }\r\n\r\n    handleKeyCodeEvent = (e) => {\r\n        e = e || window.event;\r\n        let key = e.which || e.keyCode; // keyCode detection\r\n        let ctrl = e.ctrlKey ? e.ctrlKey : (key === 17); // ctrl detection\r\n\r\n        if ( key === 86 && ctrl ) {\r\n            console.log(\"ctrl + V\");\r\n            this.paste();\r\n        } else if ( key === 67 && ctrl ) {\r\n            console.log(\"ctrl + C\");\r\n            this.copy();\r\n        } else if ( key === 68 && ctrl ) {\r\n            e.preventDefault && e.preventDefault();\r\n            console.log(\"ctrl + D\");\r\n            this.duplicate();\r\n        } else if ( key === 46 ) {\r\n            console.log(\"delete\");\r\n            this.delete();\r\n        }\r\n    }\r\n\r\n    copy = (item) => {\r\n        if (!item)\r\n            item = this.selectManager.getSelected();\r\n        if (!item)\r\n            return;\r\n\r\n        this.copyItem = item;\r\n    };\r\n\r\n    getCopyItem = () => {\r\n        return this.copyItem;\r\n    };\r\n\r\n    paste = throttle((selectedItem) => {\r\n        if (!this.copyItem)\r\n            return;\r\n        let destinationItem;\r\n        if (!selectedItem)\r\n            selectedItem = this.selectManager.getSelected() || this.pageRef.current;\r\n\r\n        while (!destinationItem)  {\r\n            if (selectedItem.getFromTempData(\"isContainer\")) {\r\n                destinationItem = selectedItem;\r\n            } else {\r\n                selectedItem = selectedItem.props.parent;\r\n            }\r\n        }\r\n\r\n        let style = cloneObject(this.getCopyItem().getFromData(\"style\"));\r\n        let gridItemStyle = cloneObject(this.getCopyItem().getFromData(\"gridItemStyle\"));\r\n        let copyRect = this.getCopyItem().getSize(false);\r\n        let parentRect = destinationItem.getSize(false);\r\n        if (destinationItem === this.getCopyItem().props.parent) {\r\n            if (gridItemStyle.marginLeft)\r\n                gridItemStyle.marginLeft =\r\n                    (parseFloat(gridItemStyle.marginLeft.replace(\"px\", \"\").replace(\"%\", \"\")) + 20).toString()\r\n                    + \"px\";\r\n            if (gridItemStyle.marginLeft)\r\n                gridItemStyle.marginTop =\r\n                    (parseFloat(gridItemStyle.marginTop.replace(\"px\", \"\").replace(\"%\", \"\")) + 20).toString()\r\n                    + \"px\";\r\n            if (gridItemStyle.marginRight)\r\n                gridItemStyle.marginRight =\r\n                    (parseFloat(gridItemStyle.marginRight.replace(\"px\", \"\").replace(\"%\", \"\")) - 20).toString()\r\n                    + \"px\";\r\n            if (gridItemStyle.marginBottom)\r\n                gridItemStyle.marginBottom =\r\n                    (parseFloat(gridItemStyle.marginBottom.replace(\"px\", \"\").replace(\"%\", \"\")) - 20).toString()\r\n                    + \"px\";\r\n\r\n            if (!gridItemStyle.marginLeft && !gridItemStyle.marginRight)\r\n                gridItemStyle.marginLeft = \"20px\";\r\n            if (!gridItemStyle.marginTop && !gridItemStyle.marginBottom)\r\n                gridItemStyle.marginTop = \"20px\";\r\n        } else {\r\n            delete gridItemStyle.marginLeft;\r\n            delete gridItemStyle.marginTop;\r\n            delete gridItemStyle.marginRight;\r\n            delete gridItemStyle.marginBottom;\r\n\r\n            gridItemStyle.justifySelf = \"center\";\r\n            gridItemStyle.alignSelf = \"center\";\r\n\r\n            if (style.width.toString().includes(\"%\")) {\r\n                style.width = (copyRect.width / parentRect.width * 100).toString() + \"%\";\r\n            }\r\n            if (style.height.toString().includes(\"%\")) {\r\n                style.height = (copyRect.height / parentRect.height * 100).toString() + \"%\";\r\n            }\r\n        }\r\n\r\n        createItem(destinationItem, {\r\n            props: this.getCopyItem().props,\r\n            tagName: this.getCopyItem().props.tagName\r\n        }, undefined, gridItemStyle, style);\r\n    }, 200);\r\n\r\n    duplicate = (item) => {\r\n        if (!item)\r\n            item = this.selectManager.getSelected();\r\n        if (!item)\r\n            return;\r\n\r\n        this.copy(item);\r\n        this.paste(item.props.parent);\r\n        this.copyItem = false;\r\n    };\r\n\r\n    delete = (item) => {\r\n        if (!item)\r\n            item = this.selectManager.getSelected();\r\n        if (!item && !this.selectManager.group)\r\n            return;\r\n\r\n        this.selectManager.deleteGroup();\r\n\r\n        if (!item)\r\n            return;\r\n\r\n        item.delete();\r\n    };\r\n}\r\n","export default class IdManager {\r\n    constructor(prefix) {\r\n        this.prefix = prefix + '_';\r\n        this.allId = {};\r\n    }\r\n\r\n    clear = () => {\r\n        this.allId = {};\r\n    };\r\n\r\n    getId = (preferName, fixName) => {\r\n        let result;\r\n        let baseId = !fixName? this.prefix + preferName: fixName;\r\n        let id = baseId;\r\n        let postNo = 1;\r\n        while (!result) {\r\n            if (this.allId[id]) {\r\n                id = baseId + \"_\" + postNo;\r\n                postNo++;\r\n            } else {\r\n                result = id;\r\n            }\r\n        }\r\n\r\n        this.allId[id] = true;\r\n\r\n        return result;\r\n    };\r\n\r\n    setItem = (id, item) => {\r\n        this.allId[id] = item;\r\n    };\r\n\r\n    // return agl reference\r\n    getItem = (id) => {\r\n        return this.allId[id];\r\n    };\r\n\r\n    removeId = (id) => {\r\n        delete this.allId[id];\r\n    };\r\n}\r\n","import throttle from 'lodash.throttle';\r\n\r\nexport default class UndoRedo {\r\n    constructor(max, document, idMan) {\r\n        this.undoQueue = [];\r\n        this.redoQueue = [];\r\n        this.max = max || 20;\r\n        this.idMan = idMan;\r\n\r\n        document.addEventListener('keydown', (event) => {\r\n            if (event.ctrlKey && event.key === 'z') {\r\n                this.undo();\r\n            }\r\n        });\r\n\r\n        document.addEventListener('keydown', (event) => {\r\n            if (event.ctrlKey && event.key === 'Z') {\r\n                this.redo();\r\n            }\r\n        });\r\n    }\r\n\r\n    getQueueObject = (func, undo, power) => {\r\n        return {\r\n            redo: func,\r\n            undo: undo,\r\n            power: (typeof power === 'number') ? power : undefined\r\n        }\r\n    };\r\n\r\n    add = (func, undo, power) => {\r\n        this.undoQueue.unshift(this.getQueueObject(func, undo, power));\r\n        if (this.undoQueue.length > this.max)\r\n            this.undoQueue.pop();\r\n        this.redoQueue = [];\r\n    };\r\n\r\n    undo = throttle(() => {\r\n        this.undoFunc();\r\n    }, 200);\r\n\r\n    undoFunc = () => {\r\n        if (this.undoQueue.length === 0)\r\n            return;\r\n\r\n        let object = this.undoQueue.shift();\r\n        let power = object.power || 1;\r\n\r\n        power--;\r\n        object.undo(this.idMan);\r\n        this.redoQueue.unshift(object);\r\n\r\n        while (power > 0) {\r\n            power--;\r\n            this.undoFunc();\r\n        }\r\n    };\r\n\r\n    hasUndo = () => {\r\n        return this.undoQueue.length > 0;\r\n    };\r\n\r\n    redo = throttle(() => {\r\n        if (this.redoQueue.length === 0)\r\n            return;\r\n\r\n        let object = this.redoQueue.shift();\r\n        object.redo(this.idMan);\r\n        this.undoQueue.unshift(object);\r\n    }, 100);\r\n\r\n    hasRedo = () => {\r\n        return this.redoQueue.length > 0;\r\n    };\r\n};\r\n","export default class GridLineManager {\r\n    constructor(gridContainerRef) {\r\n        this.gridContainerRef = gridContainerRef;\r\n    }\r\n\r\n    addGrid = (id, x, y, gridType, gridTemplateRows, gridTemplateColumns, positions, callback) => {\r\n        this.gridContainerRef.current.addGrid(id, x, y, gridType, gridTemplateRows, gridTemplateColumns, positions, callback);\r\n    };\r\n\r\n    getIdCache = (gridType) => {\r\n        return this.gridContainerRef.current.getIdCache(gridType);\r\n    };\r\n\r\n    getXlineRef = (id) => {\r\n        return this.gridContainerRef.current.getXlineRef(id);\r\n    };\r\n\r\n    getYlineRef = (id) => {\r\n        return this.gridContainerRef.current.getYlineRef(id);\r\n    };\r\n\r\n    removeGridLine = (id) => {\r\n        this.gridContainerRef.current.removeGridLine(id);\r\n    };\r\n\r\n    removeGridLineByType = (type) => {\r\n        this.gridContainerRef.current.removeGridLineByType(type);\r\n    };\r\n\r\n    prepareRects = (id) => {\r\n        this.gridContainerRef.current.prepareRects(id);\r\n    };\r\n\r\n    hasGridLine = (id, gridType) => {\r\n        if (this.gridContainerRef.current)\r\n            return this.gridContainerRef.current.hasGridLine(id, gridType);\r\n    };\r\n\r\n    isPrepared = (id) => {\r\n        if (this.gridContainerRef.current)\r\n            return this.gridContainerRef.current.isPrepared(id);\r\n    };\r\n}\r\n","import {v4 as uuidv4} from 'uuid';\r\nimport { goToAnchor } from 'react-scrollable-anchor'\r\nimport {EditorContext} from \"./Editor/EditorContext\";\r\n\r\nexport default class AnchorManager {\r\n    constructor() {\r\n    }\r\n\r\n    addAnchor = (name, item) => {\r\n        let pageId = item.props.viewRef.current.props.pageId;\r\n        let page = item.props.viewRef.current;\r\n        if (!page.props.anchors) page.props.anchors = {};\r\n        let id = uuidv4();\r\n        page.props.anchors[id] = {pageId, name, id};\r\n        item.setAnchor(page.props.anchors[id]);\r\n    };\r\n\r\n    modifyAnchor = (id, newName, item) => {\r\n        let page = item.props.viewRef.current;\r\n        let anchor = page.props.anchors[id];\r\n        if (!anchor) {\r\n            this.addAnchor(newName, item);\r\n            return;\r\n        }\r\n\r\n        anchor.name = newName;\r\n\r\n        item.setAnchor(anchor);\r\n    };\r\n\r\n    removeAnchor = (id, item) => {\r\n        let page = item.props.viewRef.current;\r\n        delete page.props.anchors[id];\r\n        item.setAnchor();\r\n    };\r\n\r\n    getAnchors = (pageData) => {\r\n        return pageData.props.anchors || {};\r\n    };\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\n\r\nexport default class AdjustmentGridRoot extends React.PureComponent {\r\n    render () {\r\n        let {top, left, bottom, right} = this.props;\r\n        return (\r\n            <div\r\n                id=\"AdjustmentGridRoot\"\r\n                className=\"AdjustmentGridRoot\"\r\n                style={{top, left, bottom, right}}\r\n            >\r\n                {\r\n                    this.props.children\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport classNames from \"classnames\";\r\n\r\nexport default class AdjustmentGridRow extends React.Component {\r\n    // TODO BUG: first and last grid line is not provided, fix the bug\r\n    render () {\r\n        let {gridLineManager, itemId, grid} = this.props;\r\n        let rowLines = gridLineManager.getYlineRef(itemId);\r\n        return (\r\n            <div\r\n                className=\"AdjustmentGridRowEditor\"\r\n            >\r\n                {\r\n                    new Array(grid.x).fill(0).map((x, index) => {\r\n                        let rowLine = rowLines[index];\r\n                        let rowLineRect = rowLine.current.rect;\r\n                        let nextRowLineRect = rowLines[index + 1].current.rect;\r\n                        let rowHeight = grid.gridTemplateRows.split(' ')[index];\r\n                        let classes = classNames(\r\n                            \"AdjustmentGridRowEditorItem\",\r\n                            index === 0 && \"AdjustmentGridRowEditorItemTop\",\r\n                            index === grid.x - 1 && \"AdjustmentGridRowEditorItemBottom\",\r\n                        );\r\n                        return(\r\n                                <div\r\n                                    key={`row_${index}`}\r\n                                    className={classes}\r\n                                    style={{\r\n                                        height: nextRowLineRect.top - rowLineRect.top,\r\n                                    }}\r\n                                >\r\n                                    <p style={{\r\n                                        margin: 0,\r\n                                        fontWeight: \"bold\"\r\n                                    }}>\r\n                                        {rowHeight}\r\n                                    </p>\r\n                                </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport AdjustmentGridRoot from \"./AdjustmentGridRoot\";\r\nimport AdjustmentGridRow from \"./AdjustmentGridRow\";\r\n\r\nexport default class AdjustmentGrid extends React.PureComponent {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            item: undefined,\r\n            grid: undefined,\r\n            gridLineManager: undefined\r\n        };\r\n    }\r\n\r\n    editing = (item) => {\r\n        let grid = item.getFromData(\"grid\");\r\n        let gridLineManager = item.props.gridLine;\r\n        this.setState({item, grid, gridLineManager});\r\n    };\r\n\r\n    update = (item) => {\r\n        if (item === item)\r\n            this.forceUpdate();\r\n    };\r\n\r\n    addRow = (index) => {\r\n        if (!this.state.item)\r\n            return;\r\n\r\n        if (grid.x === 100)\r\n            return;\r\n\r\n        let {grid, item} = this.state;\r\n\r\n        grid.x++;\r\n        let rowsHeight = grid.gridTemplateRows.split(' ');\r\n\r\n        rowsHeight.splice(index, 0, \"minmax(100px,max-content)\");\r\n        grid.gridTemplateRows = rowsHeight.join(' ');\r\n\r\n        item.setGrid(grid);\r\n        this.setState({grid});\r\n    };\r\n\r\n    addColumn = (index) => {\r\n        if (!this.state.item)\r\n            return;\r\n\r\n        let {grid, item} = this.state;\r\n\r\n        if (grid.y === 100)\r\n            return;\r\n\r\n        grid.y++;\r\n        let columnsWidth = grid.gridTemplateColumns.split(' ');\r\n\r\n        columnsWidth.splice(index, 0, \"1fr\");\r\n        grid.gridTemplateColumns = columnsWidth.join(' ');\r\n\r\n        item.setGrid(grid);\r\n        this.setState({grid});\r\n    };\r\n\r\n    changeColumnWidth = (index, newValue) => {\r\n        if (!this.state.item)\r\n            return;\r\n\r\n        let {grid, item} = this.state;\r\n\r\n        let columnsWidth = grid.gridTemplateColumns.split(' ');\r\n\r\n        columnsWidth.splice(index, 1, newValue);\r\n        grid.gridTemplateColumns = columnsWidth.join(' ');\r\n\r\n        item.setGrid(grid);\r\n        this.setState({grid});\r\n    };\r\n\r\n    changeRowHeight = (index, newValue) => {\r\n        if (!this.state.item)\r\n            return;\r\n\r\n        let {grid, item} = this.state;\r\n\r\n        let rowsHeight = grid.gridTemplateRows.split(' ');\r\n\r\n        rowsHeight.splice(index, 1, newValue);\r\n        grid.gridTemplateRows = rowsHeight.join(' ');\r\n\r\n        item.setGrid(grid);\r\n        this.setState({grid});\r\n    };\r\n\r\n    deleteRow = (index) => {\r\n        if (!this.state.item)\r\n            return;\r\n\r\n        let {grid, item} = this.state;\r\n\r\n        if (grid.x === 1)\r\n            return;\r\n\r\n        grid.x--;\r\n        let rowsHeight = grid.gridTemplateRows.split(' ');\r\n\r\n        rowsHeight.splice(index, 1);\r\n        grid.gridTemplateRows = rowsHeight.join(' ');\r\n\r\n        item.setGrid(grid);\r\n        this.setState({grid});\r\n    };\r\n\r\n    deleteColumn = (index) => {\r\n        if (!this.state.item)\r\n            return;\r\n\r\n        let {grid, item} = this.state;\r\n\r\n        if (grid.y === 1)\r\n            return;\r\n\r\n        grid.y--;\r\n        let columnsWidth = grid.gridTemplateColumns.split(' ');\r\n\r\n        columnsWidth.splice(index, 1);\r\n        grid.gridTemplateColumns = columnsWidth.join(' ');\r\n\r\n        item.setGrid(grid);\r\n        this.setState({grid});\r\n    };\r\n\r\n    render () {\r\n        let {gridLineManager, item, grid} = this.state;\r\n        if (!item)\r\n            return null;\r\n\r\n        let positions = gridLineManager.getIdCache(\"A\").positions;\r\n        return (\r\n            <AdjustmentGridRoot\r\n                top={positions.top}\r\n                left={positions.left}\r\n                bottom={positions.bottom}\r\n                right={positions.right}\r\n            >\r\n                <AdjustmentGridRow\r\n                    gridLineManager={gridLineManager}\r\n                    itemId={item.props.id}\r\n                    grid={grid}\r\n                />\r\n            </AdjustmentGridRoot>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\n\r\nexport default class AdjustmentSnapLines extends React.Component {\r\n    render () {\r\n        let {snapH, snapV, pointOfSnapH, pointOfSnapV} = this.props;\r\n        if (!snapH && !snapV)\r\n            return null;\r\n\r\n        if (snapH) {\r\n            return (\r\n                <line\r\n                    x1={Math.min(snapH.p1, snapH.p2, pointOfSnapH.p1, pointOfSnapH.p2)}\r\n                    x2={Math.max(snapH.p1, snapH.p2, pointOfSnapH.p1, pointOfSnapH.p2)}\r\n                    y1={snapH.value}\r\n                    y2={snapH.value}\r\n                    style={{\r\n                        stroke: \"#ff00a4\"\r\n                    }}\r\n                />\r\n            )\r\n        } else {\r\n            return (\r\n                <line\r\n                    x1={snapV.value}\r\n                    x2={snapV.value}\r\n                    y1={Math.min(snapV.p1, snapV.p2, pointOfSnapV.p1, pointOfSnapV.p2)}\r\n                    y2={Math.max(snapV.p1, snapV.p2, pointOfSnapV.p1, pointOfSnapV.p2)}\r\n                    style={{\r\n                        stroke: \"#ff00a4\"\r\n                    }}\r\n                />\r\n            )\r\n        }\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport AdjustmentSnapLines from \"./AdjustmentSnapLines\";\r\n\r\nexport default class AdjustmentSnap extends React.PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    update = (snapH, snapV, pointOfSnapH, pointOfSnapV) => {\r\n        this.setState({\r\n            snapH, snapV, pointOfSnapH, pointOfSnapV\r\n        });\r\n    };\r\n\r\n    render () {\r\n        let {snapH, snapV, pointOfSnapH, pointOfSnapV} = this.state;\r\n        return (\r\n            <div\r\n                id=\"AdjustmentHelpLines\"\r\n                className=\"AdjustmentSnapLinesRoot\"\r\n            >\r\n                <svg className=\"AdjustmentHelpLinesSVG\">\r\n                    <AdjustmentSnapLines\r\n                        snapH={snapH}\r\n                        pointOfSnapH={pointOfSnapH}\r\n                    />\r\n                    <AdjustmentSnapLines\r\n                        snapV={snapV}\r\n                        pointOfSnapV={pointOfSnapV}\r\n                    />\r\n                </svg>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\n\r\nexport default class GridLine extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    render () {\r\n        let {id, lineRef, style} = this.props;\r\n        return (\r\n            <div\r\n                className={this.props.className}\r\n                id={id}\r\n                ref={lineRef}\r\n                style={style}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport {throttleDebounce} from \"../AwesomeGridLayoutUtils\";\r\nimport Portal from \"@material-ui/core/Portal/Portal\";\r\nimport GridLine from \"./GridLine\";\r\n\r\nexport default class AdjustmentGridLinesWrapper2 extends React.PureComponent {\r\n    needUpdate = throttleDebounce(() => {\r\n        this.forceUpdate();\r\n    }, 100);\r\n\r\n    render () {\r\n        let {yNo, xNo, yLineRef, xLineRef, refId} = this.props;\r\n\r\n        if (yNo >= 0 && xNo >= 0 && !document.getElementById(`${refId}_container`))\r\n            this.needUpdate();\r\n\r\n        return (\r\n            <>\r\n                {\r\n                    new Array(yNo + 1).fill(0).map((y, index) => {\r\n                        if (index === 0 || index === yNo)\r\n                            return null;\r\n                        return <Portal\r\n                            key={index}\r\n                            container={document.getElementById(`${refId}_container`)}\r\n                        >\r\n                            <GridLine\r\n                                className=\"AdjustmentGridLinesY\"\r\n                                id={`y_${index}_${refId}`}\r\n                                lineRef={yLineRef[index]}\r\n                                style={{\r\n                                    top: index === yNo ? \"unset\" : 0,\r\n                                    bottom: index === yNo ? 0 : \"unset\",\r\n                                    gridArea: `${index + 1}/1/${index + 1}/${xNo + 1}`,\r\n                                }}\r\n                            />\r\n                        </Portal>\r\n                    })\r\n                }\r\n                {\r\n                    new Array(xNo + 1).fill(0).map((x, index) => {\r\n                        if (index === 0 || index === xNo)\r\n                            return null;\r\n                        return <Portal\r\n                            key={index}\r\n                            container={document.getElementById(`${refId}_container`)}\r\n                        >\r\n                            <GridLine\r\n                                className=\"AdjustmentGridLinesX\"\r\n                                id={`x_${index}_${refId}`}\r\n                                lineRef={xLineRef[index]}\r\n                                style={{\r\n                                    left: index === xNo? \"unset\": 0,\r\n                                    right: index === xNo? 0: \"unset\",\r\n                                    gridArea: `1/${index + 1}/${yNo + 1}/${index + 1}`,\r\n                                }}\r\n                            />\r\n                        </Portal>\r\n                    })\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport {getCachedBoundingRect} from \"../Test/WindowCache\";\r\nimport AdjustmentGridLinesWrapper2 from \"./AdjustmentGridLinesWrapper2\";\r\n\r\nexport default class AdjustmentGridLines extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            xNoA: -1,\r\n            yNoA: -1,\r\n            xNoB: -1,\r\n            yNoB: -1,\r\n            xNoT: -1,\r\n            yNoT: -1,\r\n        };\r\n\r\n        this.xLineRefA = new Array(100);\r\n        this.yLineRefA = new Array(100);\r\n        this.xLineRefB = new Array(100);\r\n        this.yLineRefB = new Array(100);\r\n        this.xLineRefT = new Array(100);\r\n        this.yLineRefT = new Array(100);\r\n\r\n        this.idCache = {};\r\n    }\r\n\r\n    fixLineRef = (x, y, gridType) => {\r\n        for (let i = 0; i <= x; i++) {\r\n            if (!this[`xLineRef${gridType}`][i])\r\n                this[`xLineRef${gridType}`][i] = React.createRef();\r\n        }\r\n        for (let i = 0; i <= y; i++) {\r\n            if (!this[`yLineRef${gridType}`][i])\r\n                this[`yLineRef${gridType}`][i] = React.createRef();\r\n        }\r\n    };\r\n\r\n    addGrid = (id, y, x, gridType, gridTemplateRows, gridTemplateColumns, positions, callback) => {\r\n        this.fixLineRef(x, y, gridType);\r\n        if (this.idCache[\"A\"] && this.idCache[\"A\"].id === id && gridType === \"A\") {\r\n            this.updateGridLine(id, \"A\", {\r\n                gridTemplateRows, gridTemplateColumns, positions, x, y\r\n            }, callback)\r\n        }\r\n        else if (this.idCache[\"B\"] && this.idCache[\"B\"].id === id && gridType === \"B\") {\r\n            this.updateGridLine(id, \"B\", {\r\n                gridTemplateRows, gridTemplateColumns, positions, x, y\r\n            }, callback)\r\n        }\r\n        else if (this.idCache[\"T\"] && this.idCache[\"T\"].id === id && gridType === \"T\") {\r\n            this.updateGridLine(id, \"T\", {\r\n                gridTemplateRows, gridTemplateColumns, positions, x, y\r\n            }, callback)\r\n        }\r\n        else {\r\n            this.idCache[gridType] = {id, gridTemplateRows, gridTemplateColumns, positions, x, y};\r\n\r\n            this.setState({\r\n                [`xNo${gridType}`]: x,\r\n                [`yNo${gridType}`]: y\r\n            }, () => {\r\n                // this.prepareRects(id);\r\n                if (callback)\r\n                    callback();\r\n            })\r\n        }\r\n    };\r\n\r\n    updateGridLine = (id, gridType, {gridTemplateRows, gridTemplateColumns, positions, x, y} = {}, callback) => {\r\n        if (!gridType) {\r\n            if (this.idCache[\"A\"] && this.idCache[\"A\"].id === id)\r\n                gridType = \"A\";\r\n            else if (this.idCache[\"B\"] && this.idCache[\"B\"].id === id)\r\n                gridType = \"B\";\r\n            else if (this.idCache[\"T\"] && this.idCache[\"T\"].id === id)\r\n                gridType = \"T\";\r\n            else return;\r\n        }\r\n\r\n        gridTemplateRows && (this.idCache[gridType].gridTemplateRows = gridTemplateRows);\r\n        gridTemplateColumns && (this.idCache[gridType].gridTemplateColumns = gridTemplateColumns);\r\n        positions && (this.idCache[gridType].positions = positions);\r\n        x && (this.idCache[gridType].x = x);\r\n        y && (this.idCache[gridType].y = y);\r\n\r\n        if (!x && !y) {\r\n            this.setState({reload: true}, callback);\r\n            return;\r\n        }\r\n\r\n        if (x || y)\r\n            this.setState({\r\n                [`xNo${gridType}`]: x,\r\n                [`yNo${gridType}`]: y\r\n            }, callback);\r\n    };\r\n\r\n    getIdCache = (gridType) => {\r\n        return this.idCache[gridType];\r\n    };\r\n\r\n    getXlineRef = (id, gridType) => {\r\n        if (!gridType) {\r\n            if (this.idCache[\"A\"] && this.idCache[\"A\"].id === id)\r\n                gridType = \"A\";\r\n            else if (this.idCache[\"B\"] && this.idCache[\"B\"].id === id)\r\n                gridType = \"B\";\r\n            else if (this.idCache[\"T\"] && this.idCache[\"T\"].id === id)\r\n                gridType = \"T\";\r\n            else return;\r\n        }\r\n\r\n        return this[`xLineRef${gridType}`].slice(0, this.idCache[gridType].x + 1);\r\n    };\r\n\r\n    getYlineRef = (id, gridType) => {\r\n        if (!gridType) {\r\n            if (this.idCache[\"A\"] && this.idCache[\"A\"].id === id)\r\n                gridType = \"A\";\r\n            else if (this.idCache[\"B\"] && this.idCache[\"B\"].id === id)\r\n                gridType = \"B\";\r\n            else if (this.idCache[\"T\"] && this.idCache[\"T\"].id === id)\r\n                gridType = \"T\";\r\n            else return;\r\n        }\r\n\r\n        console.log(\"getYlineRef\",id, gridType)\r\n        return this[`yLineRef${gridType}`].slice(0, this.idCache[gridType].y + 1);\r\n    };\r\n\r\n    removeGridLine = (id, gridType) => {\r\n        if (!gridType) {\r\n            if (this.idCache[\"A\"] && this.idCache[\"A\"].id === id)\r\n                gridType = \"A\";\r\n            else if (this.idCache[\"B\"] && this.idCache[\"B\"].id === id)\r\n                gridType = \"B\";\r\n            else if (this.idCache[\"T\"] && this.idCache[\"T\"].id === id)\r\n                gridType = \"T\";\r\n            else return;\r\n        }\r\n\r\n        delete this.idCache[gridType];\r\n\r\n        this.setState({\r\n            [`xNo${gridType}`]: -1,\r\n            [`yNo${gridType}`]: -1\r\n        })\r\n    };\r\n\r\n    hasGridLine = (id, gridType) => {\r\n        if (!gridType) {\r\n            if (this.idCache[\"A\"] && this.idCache[\"A\"].id === id)\r\n                return \"A\";\r\n\r\n            if (this.idCache[\"B\"] && this.idCache[\"B\"].id === id)\r\n                return \"B\";\r\n\r\n            if (this.idCache[\"T\"] && this.idCache[\"T\"].id === id)\r\n                return \"T\";\r\n        } else {\r\n            if (this.idCache[gridType] && this.idCache[gridType].id === id)\r\n                return gridType;\r\n        }\r\n    };\r\n\r\n    isPrepared = (id) => {\r\n        if (this.idCache[\"A\"] && this.idCache[\"A\"].prepared)\r\n            return true;\r\n        else if (this.idCache[\"B\"] && this.idCache[\"B\"].prepared)\r\n            return true;\r\n        else if (this.idCache[\"T\"] && this.idCache[\"T\"].prepared)\r\n            return true;\r\n    };\r\n\r\n    prepareRects = (id) => {\r\n        let xLineRef = this.getXlineRef(id);\r\n        if (xLineRef)\r\n            for(let i = 0; i < xLineRef.length; i++) {\r\n                let current = xLineRef[i].current;\r\n                if (!current)\r\n                    continue;\r\n\r\n                current.rect = getCachedBoundingRect(`xLineRef_${i}_${id}`, current);\r\n            }\r\n        let yLineRef = this.getYlineRef(id);\r\n        if (yLineRef)\r\n            for(let i = 0; i < yLineRef.length; i++) {\r\n                let current = yLineRef[i].current;\r\n                if (!current)\r\n                    continue;\r\n\r\n                current.rect = getCachedBoundingRect(`yLineRef_${i}_${id}`, current);\r\n            }\r\n\r\n        if (this.idCache[\"A\"] && this.idCache[\"A\"].id === id)\r\n            this.idCache[\"A\"].prepared = true;\r\n        else if (this.idCache[\"B\"] && this.idCache[\"B\"].id === id)\r\n            this.idCache[\"B\"].prepared = true;\r\n        else if (this.idCache[\"T\"] && this.idCache[\"T\"].id === id)\r\n            this.idCache[\"T\"].prepared = true;\r\n    };\r\n\r\n    removeGridLineByType = (gridType) => {\r\n        delete this.idCache[gridType];\r\n\r\n        this.setState({\r\n            [`xNo${gridType}`]: -1,\r\n            [`yNo${gridType}`]: -1\r\n        })\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <div\r\n                id=\"AdjustmentGridLinesRoot\"\r\n                className=\"AdjustmentGridLinesRoot\"\r\n            >\r\n                <AdjustmentGridLinesWrapper2\r\n                    id={\"GridLinesContainer_A\"}\r\n                    refId={this.idCache[\"A\"] && this.idCache[\"A\"].id}\r\n                    xNo={this.state.xNoA}\r\n                    yNo={this.state.yNoA}\r\n                    xLineRef={this.xLineRefA}\r\n                    yLineRef={this.yLineRefA}\r\n                    gridTemplateRows={this.idCache[\"A\"] && this.idCache[\"A\"].gridTemplateRows}\r\n                    gridTemplateColumns={this.idCache[\"A\"] && this.idCache[\"A\"].gridTemplateColumns}\r\n                    top={this.idCache[\"A\"] && this.idCache[\"A\"].positions.top}\r\n                    bottom={this.idCache[\"A\"] && this.idCache[\"A\"].positions.bottom}\r\n                    left={this.idCache[\"A\"] && this.idCache[\"A\"].positions.left}\r\n                    right={this.idCache[\"A\"] && this.idCache[\"A\"].positions.right}\r\n                />\r\n\r\n                <AdjustmentGridLinesWrapper2\r\n                    id={\"GridLinesContainer_B\"}\r\n                    refId={this.idCache[\"B\"] && this.idCache[\"B\"].id}\r\n                    xNo={this.state.xNoB}\r\n                    yNo={this.state.yNoB}\r\n                    xLineRef={this.xLineRefB}\r\n                    yLineRef={this.yLineRefB}\r\n                    gridTemplateRows={this.idCache[\"B\"] && this.idCache[\"B\"].gridTemplateRows}\r\n                    gridTemplateColumns={this.idCache[\"B\"] && this.idCache[\"B\"].gridTemplateColumns}\r\n                    top={this.idCache[\"B\"] && this.idCache[\"B\"].positions.top}\r\n                    bottom={this.idCache[\"B\"] && this.idCache[\"B\"].positions.bottom}\r\n                    left={this.idCache[\"B\"] && this.idCache[\"B\"].positions.left}\r\n                    right={this.idCache[\"B\"] && this.idCache[\"B\"].positions.right}\r\n                />\r\n\r\n                <AdjustmentGridLinesWrapper2\r\n                    id={\"GridLinesContainer_T\"}\r\n                    refId={this.idCache[\"T\"] && this.idCache[\"T\"].id}\r\n                    xNo={this.state.xNoT}\r\n                    yNo={this.state.yNoT}\r\n                    xLineRef={this.xLineRefT}\r\n                    yLineRef={this.yLineRefT}\r\n                    gridTemplateRows={this.idCache[\"T\"] && this.idCache[\"T\"].gridTemplateRows}\r\n                    gridTemplateColumns={this.idCache[\"T\"] && this.idCache[\"T\"].gridTemplateColumns}\r\n                    top={this.idCache[\"T\"] && this.idCache[\"T\"].positions.top}\r\n                    bottom={this.idCache[\"T\"] && this.idCache[\"T\"].positions.bottom}\r\n                    left={this.idCache[\"T\"] && this.idCache[\"T\"].positions.left}\r\n                    right={this.idCache[\"T\"] && this.idCache[\"T\"].positions.right}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css';\r\nimport classNames from 'classnames';\r\n\r\nexport default class ResizePane extends React.Component {\r\n    onMouseDown = (e) => {\r\n        if (this.isLeftClick(e)) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            this.mouseDown = true;\r\n            window.addEventListener(\"pointermove\", this.onMouseMove);\r\n            window.addEventListener(\"pointerup\", this.onMouseUp);\r\n        }\r\n    };\r\n\r\n    isLeftClick = (e) => {\r\n        if (e.pointerType === \"mouse\" && e.button === 0)\r\n            return true;\r\n\r\n        return false;\r\n    };\r\n\r\n\r\n    onMouseMove = (e) => {\r\n        if (!this.mouseDown)\r\n            return;\r\n        e.stopPropagation();\r\n\r\n        if (!this.moving) {\r\n            this.moving = true;\r\n            this.onDragStart(e);\r\n        } else {\r\n            this.onDrag(e);\r\n        }\r\n    };\r\n\r\n    onMouseUp = (e) => {\r\n        if (!this.mouseDown)\r\n            return;\r\n\r\n        this.mouseDown = false;\r\n\r\n        if (this.moving) {\r\n            e.stopPropagation();\r\n            this.onDragStop(e);\r\n        }\r\n\r\n        this.moving = false;\r\n\r\n        window.removeEventListener(\"pointermove\", this.onMouseMove);\r\n        window.removeEventListener(\"pointerup\", this.onMouseUp);\r\n    };\r\n\r\n    onDragStart = (e) => {\r\n        this.dragData = {\r\n            lastMouseX: e.clientX,\r\n            lastMouseY: e.clientY\r\n        };\r\n        this.delta = {\r\n            x: 0,\r\n            y: 0,\r\n        };\r\n        this.props.onResizeStart(e, this.props.side, this.delta);\r\n    };\r\n\r\n    onDrag = (e) => {\r\n        this.delta.x += (e.clientX - this.dragData.lastMouseX);\r\n        this.delta.y += (e.clientY - this.dragData.lastMouseY);\r\n        this.props.onResize(e, this.props.side, this.delta);\r\n        this.dragData.lastMouseX = e.clientX;\r\n        this.dragData.lastMouseY = e.clientY;\r\n    };\r\n\r\n    onDragStop = (e) => {\r\n        this.delta.x += (e.clientX - this.dragData.lastMouseX);\r\n        this.delta.y += (e.clientY - this.dragData.lastMouseY);\r\n        this.props.onResizeStop(e, this.props.side, this.delta);\r\n    };\r\n\r\n    isCorner = () => {\r\n        return this.props.side.length === 2;\r\n    };\r\n    render () {\r\n        let classes = classNames(\r\n            `Adjustment-${this.props.side}-pane`,\r\n            this.props.enabled && `Adjustment-${this.props.side}-pane-circle`,\r\n            `Adjustment-${this.props.side}-pane-line`,\r\n            {\"Adjustment-CornerCircle\": this.props.enabled && this.isCorner()},\r\n            \"Adjustment-Pane\",\r\n            !this.props.enabled && \"ResizePanePointerNone\"\r\n        );\r\n        let style = {};\r\n        if (this.props.draggingStart)\r\n            style.pointerEvents = \"none\";\r\n\r\n        return (\r\n            <div\r\n                id={this.props.id}\r\n                onPointerDown={this.props.enabled ? this.onMouseDown : undefined}\r\n                className={classes}\r\n                style={{...style, ...this.props.style}}\r\n            >\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport ResizePane from \"./ResizePane\";\r\nimport {cloneObject} from \"../AwesomeGridLayoutUtils\";\r\n\r\nexport default class AdjustmentGroupRect extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            rect: undefined,\r\n            group: undefined,\r\n            draggingStart: false\r\n        }\r\n    }\r\n\r\n    updateRect = (rect, group) => {\r\n        this.setState({rect, group});\r\n    };\r\n\r\n    onResizeStart = (e, dir, delta) => {\r\n        if (this.resizing)\r\n            return;\r\n        this.resizing = true;\r\n\r\n        this.setState({draggingStart: true});\r\n        this.state.group.forEach(item => {\r\n            item.onResizeStart(e, dir, delta, true);\r\n        });\r\n\r\n        let {rect} = this.state;\r\n        this.resizeData = {\r\n            firstX: window.innerWidth - rect.left - rect.right,\r\n            firstY: window.innerHeight - rect.top - rect.bottom,\r\n            firstTop: rect.top,\r\n            firstLeft: rect.left,\r\n        };\r\n    };\r\n\r\n    onResize = (e, dir, delta) => {\r\n        this.state.group.forEach(item => {\r\n            item.onResize(e, dir, delta, true);\r\n        });\r\n\r\n        let rect = cloneObject(this.state.rect);\r\n        delete rect.height;\r\n        delete rect.width;\r\n\r\n        let deltaY = delta.y;\r\n        let deltaX = delta.x;\r\n        if (dir.includes('n')) {\r\n            if (this.resizeData.firstY <= deltaY)\r\n                deltaY = this.resizeData.firstY;\r\n            rect.height = this.resizeData.firstY - deltaY;\r\n            rect.top = this.resizeData.firstTop + deltaY;\r\n        }\r\n        if (dir.includes('s')) {\r\n            if (this.resizeData.firstY <= -deltaY)\r\n                deltaY = -this.resizeData.firstY;\r\n            rect.height = this.resizeData.firstY + deltaY;\r\n        }\r\n        if (dir.includes('e')) {\r\n            if (this.resizeData.firstX <= -deltaX)\r\n                deltaX = -this.resizeData.firstX;\r\n            rect.width = this.resizeData.firstX + deltaX;\r\n        }\r\n        if (dir.includes('w')) {\r\n            if (this.resizeData.firstX <= deltaX)\r\n                deltaX = this.resizeData.firstX;\r\n            rect.width = this.resizeData.firstX - deltaX;\r\n            rect.left = this.resizeData.firstLeft + deltaX;\r\n        }\r\n\r\n        if (rect.height)\r\n            rect.bottom = window.innerWidth - rect.top - rect.height;\r\n        if (rect.width)\r\n        rect.right = window.innerWidth - rect.left - rect.width;\r\n\r\n        this.setState({rect});\r\n    };\r\n\r\n    onResizeStop = (e, dir, delta) => {\r\n        this.state.group.forEach(item => {\r\n            item.onResizeStop(e, dir, delta, true);\r\n        });\r\n\r\n        this.resizing = false;\r\n\r\n        this.setState({draggingStart: false});\r\n    };\r\n\r\n    onDragStart = (e) => {\r\n        this.state.group.forEach(item => {\r\n            item.onDragStart(e, true);\r\n        });\r\n        this.setState({draggingStart: false});\r\n\r\n        let {rect} = this.state;\r\n\r\n        this.dragData = {\r\n            x: rect.left,\r\n            y: rect.top,\r\n            lastMouseX: e.clientX,\r\n            lastMouseY: e.clientY,\r\n        };\r\n    };\r\n\r\n    onDrag = (e) => {\r\n        this.state.group.forEach(item => {\r\n            item.onDrag(e, true);\r\n        });\r\n        this.setState({draggingStart: false});\r\n\r\n        let deltaX = (e.clientX - this.dragData.lastMouseX);\r\n        let deltaY = (e.clientY - this.dragData.lastMouseY);\r\n        this.dragData.x += deltaX;\r\n        this.dragData.y += deltaY;\r\n        this.dragData.lastMouseX = e.clientX;\r\n        this.dragData.lastMouseY = e.clientY;\r\n\r\n        let rect = cloneObject(this.state.rect);\r\n\r\n        rect.top = this.dragData.y;\r\n        rect.left = this.dragData.x;\r\n        rect.right -= deltaX;\r\n        rect.bottom -= deltaY;\r\n\r\n        this.setState({rect});\r\n    };\r\n\r\n    onDragStop = (e) => {\r\n        this.state.group.forEach(item => {\r\n            item.onDragStop(e, true);\r\n        });\r\n        this.setState({draggingStart: false});\r\n    };\r\n\r\n    render () {\r\n        let {rect} = this.state;\r\n        if (!rect)\r\n            return null;\r\n\r\n        return (\r\n            <div\r\n                id=\"AdjustmentGroupRect\"\r\n                style={rect}\r\n                className=\"AdjustmentResizeRoot\"\r\n            >\r\n                {\r\n                    ['n','s','e','w','ne','nw','se','sw'].map((side, index) => {\r\n                        return <ResizePane\r\n                            key={index}\r\n                            side={side}\r\n                            onResizeStart={this.onResizeStart}\r\n                            onResize={this.onResize}\r\n                            onResizeStop={this.onResizeStop}\r\n                            draggingStart={this.state.draggingStart}\r\n                        />\r\n                    })\r\n                }\r\n\r\n                {/*<AdjustmentMove*/}\r\n                    {/*key={`${this.props.id}_move`}*/}\r\n                    {/*onDragStart={this.onDragStart}*/}\r\n                    {/*onDrag={this.onDrag}*/}\r\n                    {/*onDragStop={this.onDragStop}*/}\r\n                {/*/>*/}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport IconButton from \"../../../HelperComponents/IconButton\";\r\n\r\nexport default class RightClick extends React.Component {\r\n    onClick = (e) => {\r\n        this.props.onClick && this.props.onClick(e);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <IconButton\r\n                onClick={this.onClick}\r\n            >\r\n                <img\r\n                    draggable={false}\r\n                    width={16}\r\n                    height={16}\r\n                    src={require('../../../icons/more.svg')}\r\n                />\r\n            </IconButton>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './MiniMenu.css';\r\n\r\nexport default class MiniMenuVerticalDivider extends React.Component {\r\n    render () {\r\n        return (\r\n            <div className=\"MiniMenuVerticalDivider\"/>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport IconButton from \"../../../HelperComponents/IconButton\";\r\nimport '../../../HelperStyle.css';\r\n\r\nexport default class Help extends React.Component {\r\n    onClick = (e) => {\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <IconButton\r\n                onClick={this.onClick}\r\n            >\r\n                <img\r\n                    draggable={false}\r\n                    width={16}\r\n                    height={16}\r\n                    src={require('../../../icons/question.svg')}\r\n                />\r\n            </IconButton>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './MiniMenu.css';\r\nimport RightClick from \"./Components/RightClick\";\r\nimport MiniMenuVerticalDivider from \"./MiniMenuVerticalDivider\";\r\nimport Popper from \"@material-ui/core/Popper/Popper\";\r\nimport Help from \"./Components/Help\";\r\nimport {isHideInBreakpoint} from \"../../AwesomwGridLayoutHelper\";\r\n\r\nconst miniMenuId = \"wl_mini_menu\";\r\nexport default class MiniMenu extends React.PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            clear: true\r\n        };\r\n    }\r\n\r\n    clear = () => {\r\n        this.setState({clear: true});\r\n    };\r\n\r\n    update = (itemId, shortcut, primary, item) => {\r\n        this.setState({\r\n            itemId\r\n            , shortcut, primary, clear: false,\r\n            item\r\n        })\r\n    };\r\n\r\n    getAnchor = () => {\r\n        return document.getElementById(`${this.state.itemId}_child_holder`) ||\r\n            document.getElementById(this.state.itemId);\r\n    };\r\n\r\n    render () {\r\n        if (this.state.clear)\r\n            return null;\r\n        if (!this.state.itemId || !this.getAnchor() ||\r\n            isHideInBreakpoint(this.state.item))\r\n            return null;\r\n        return (\r\n            <Popper\r\n                key={\"miniMenu\"}\r\n                open={true}\r\n                anchorEl={this.getAnchor()}\r\n                placement=\"bottom-start\"\r\n                style={{\r\n                    zIndex: 9999999\r\n                }}\r\n                modifiers={{\r\n                    flip: {\r\n                        enabled: true,\r\n                    },\r\n                    preventOverflow: {\r\n                        enabled: true,\r\n                        boundariesElement: 'scrollParent',\r\n                    },\r\n                }}\r\n            >\r\n                <div className=\"MiniMenuRoot\"\r\n                     id={miniMenuId}\r\n                     style={{\r\n                        opacity:  !this.state.clear? 1: 0\r\n                     }}\r\n                >\r\n                    <div className=\"MiniMenuContainer\"\r\n                    >\r\n                        {\r\n                            !this.state.clear &&\r\n                            this.state.shortcut.map(option => {\r\n                                return option;\r\n                            })\r\n                        }\r\n\r\n                        {\r\n                            !this.state.clear &&\r\n                            this.state.shortcut.length > 0 && <MiniMenuVerticalDivider/>\r\n                        }\r\n\r\n                        {\r\n                            !this.state.clear &&\r\n                            this.state.primary.map(option => {\r\n                                return option;\r\n                            })\r\n                        }\r\n\r\n                        {\r\n                            !this.state.clear &&\r\n                            this.state.primary.length > 0 && <MiniMenuVerticalDivider/>\r\n                        }\r\n\r\n                        <Help/>\r\n                        <RightClick/>\r\n                    </div>\r\n                </div>\r\n            </Popper>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Menu.css';\r\nimport MiniMenu from \"./MiniMenu/MiniMenu\";\r\nimport {createContextMenu} from \"../AwesomwGridLayoutHelper\";\r\n\r\nconst miniMenuHolderId = \"wl_menu_holder\";\r\nexport default class MenuHolder extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            active: true\r\n        };\r\n\r\n        this.miniMenuRef = React.createRef();\r\n    }\r\n\r\n    clearMiniMenu = () => {\r\n        this.state.active && this.miniMenuRef.current.clear();\r\n    };\r\n\r\n    addMiniMenu = (item) => {\r\n        if (item && this.state.active)\r\n            this.miniMenuRef.current.update(\r\n                item.props.id,\r\n                item.getShortcutOptions() || [],\r\n                item.getPrimaryOptions() || [],\r\n                item\r\n        );\r\n    };\r\n\r\n    addMenu = (menu) => {\r\n        this.setState({\r\n            menu: undefined,\r\n        });\r\n        if (menu) {\r\n            setTimeout(() => {\r\n                this.setState({\r\n                    menu,\r\n                });\r\n            }, 0);\r\n        }\r\n    };\r\n\r\n    onContextMenu = (e, item) => {\r\n        this.setState({\r\n            contextMenu: createContextMenu(e, item, () => {\r\n                this.setState({contextMenu: undefined})\r\n            })\r\n        });\r\n    };\r\n\r\n    activate = (active) => {\r\n        this.setState({active});\r\n    };\r\n\r\n    render () {\r\n        if (!this.state.active)\r\n            return null;\r\n\r\n        return (\r\n            <div\r\n                id={miniMenuHolderId}\r\n                key={miniMenuHolderId}\r\n                className=\"MenuHolderRoot\"\r\n            >\r\n                <MiniMenu\r\n                    itemId={this.state.miniMenuItem && this.state.miniMenuItem.props.id}\r\n                    key={\"miniMenu\"}\r\n                    ref={this.miniMenuRef}\r\n                />\r\n                {\r\n                    !this.state.contextMenu &&\r\n                    this.state.menu\r\n                }\r\n                {\r\n                    this.state.contextMenu\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","export default class IFrameCommunicator {\r\n    constructor(origin, authKey, otherWindow, onMessage) {\r\n        this.onMessage = onMessage;\r\n        this.origin = origin;\r\n        this.otherWindow = otherWindow;\r\n        this.counter = 0;\r\n        this.authKey = authKey;\r\n        this.callbacks = {};\r\n        this.responses = {};\r\n\r\n        window.addEventListener(\"message\", (event) => {\r\n            console.log(\"message\", event);\r\n            if (this.origin && event.origin !== this.origin) {\r\n                return;\r\n            }\r\n\r\n            this.processIncomingMessage(event);\r\n        });\r\n    }\r\n\r\n    processIncomingMessage = (event) => {\r\n        let data = event.data;\r\n\r\n        if (!data || data.authKey !== this.authKey)\r\n            return;\r\n\r\n        if (data && data.r) {\r\n            let r = data.r;\r\n            this.callbacks[r](data);\r\n            delete this.callbacks[r];\r\n        }\r\n        else\r\n        {\r\n            let responseFunc = () => {};\r\n            if (data && data.c) {\r\n                let c = data.c;\r\n                responseFunc = this.responses[c] = (result) => {\r\n                    let newData = {r: c, result};\r\n                    this.post(newData);\r\n                }\r\n            }\r\n\r\n            this.onMessage(event.data, responseFunc);\r\n        }\r\n    };\r\n\r\n    post = (data, callback) => {\r\n        if (callback) {\r\n            this.counter++;\r\n            data.c = this.counter;\r\n            this.callbacks[data.c] = callback;\r\n        }\r\n\r\n        data.authKey = this.authKey;\r\n\r\n        let otherWindow = typeof(this.otherWindow) === 'function' ? this.otherWindow() : this.otherWindow;\r\n\r\n        otherWindow.postMessage(data, this.origin || \"*\");\r\n    };\r\n}\r\n","let EditorController = {};\r\nlet AllowFunctions = {};\r\n\r\nEditorController.onMessage = (data, res, editor) => {\r\n    if (data.type === 'Controller' && AllowFunctions[data.func]) {\r\n        res(AllowFunctions[data.func](...data.inputs, editor));\r\n        return;\r\n    }\r\n\r\n    if (data.type === 'Editor' && editor[data.func]) {\r\n        editor[data.func](...data.inputs, res);\r\n        return;\r\n    }\r\n\r\n    if (data.type === 'Event') {\r\n        let jsonedEvent = data.inputs[0];\r\n        let event = new Event(jsonedEvent.type);\r\n        delete jsonedEvent.type;\r\n        Object.assign(event, jsonedEvent);\r\n        window.dispatchEvent(event);\r\n        return;\r\n    }\r\n};\r\n//\r\n// // TODO GET functions\r\n// AllowFunctions.getItemGridData = (itemId, editor) => {\r\n//     return editor.idMan.getItem(itemId).props.griddata;\r\n// };\r\n// AllowFunctions.getLayout = (editor) => {\r\n//     let layout = {\r\n//         id: editor.rootLayoutRef.current.props.id,\r\n//         griddata: editor.rootLayoutRef.current.props.griddata,\r\n//         children: []\r\n//     };\r\n//     let fillData = (item, parent) => {\r\n//         parent[item.props.id] = {\r\n//             id: item.props.id,\r\n//             griddata: item.props.griddata,\r\n//             children: []\r\n//         };\r\n//\r\n//         Object.values(item.allChildRefs).forEach(child => {\r\n//             if (child && child.current)\r\n//                 fillData(child.current, parent[item.props.id].children);\r\n//         });\r\n//     };\r\n//\r\n//     fillData(editor.rootLayoutRef.current, layout.children);\r\n//\r\n//     return layout;\r\n// };\r\n// AllowFunctions.getSiteData = (editor) => {\r\n//     return editor.state.siteData;\r\n// };\r\n// AllowFunctions.getBreakpointsData = (itemId, editor) => {\r\n//     let item = editor.idMan.getItem(itemId);\r\n//     return {\r\n//         breakpoints: item.props.breakpointmanager.breakpoints,\r\n//         currentWidth: item.props.breakpointmanager.lastWidth\r\n//     }\r\n// };\r\n//\r\n// // TODO POST functions\r\n// AllowFunctions.changePage = (pageId, editor) => {\r\n//     editor.onPageChange(pageId);\r\n//     return true;\r\n// };\r\n// AllowFunctions.addItem = (parentId, childData, gridItemStyle, style, editor) => {\r\n//     createItem(editor.idMan.getItem(parentId), childData, false, gridItemStyle, style);\r\n//     return true;\r\n// };\r\n//\r\n// AllowFunctions.undoRedoMethod = (method, inputs, editor) => {\r\n//     editor.undoredo[method](inputs);\r\n//     return true;\r\n// };\r\n// AllowFunctions.togglePreview = (preview, editor) => {\r\n//     editor.togglePreview(preview);\r\n//     return true;\r\n// };\r\n// AllowFunctions.setZoomLevel = (zoomLevel, editor) => {\r\n//     editor.setZoomLevel(zoomLevel);\r\n//     return true;\r\n// };\r\n//\r\n// // TODO Edit functions\r\n// AllowFunctions.setDataInBackground = (itemId, prop, value, editor) => {\r\n//     let item = editor.idMan.getItem(itemId);\r\n//     setDataInBreakpoint(prop, value, item, true);\r\n//     return item.props.griddata;\r\n// };\r\n\r\nexport default EditorController;\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class Inspector extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            percent: props.open? 100: 0,\r\n            inspectorMenu: undefined\r\n        };\r\n\r\n        this.opening = false;\r\n        this.closing = false;\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    open = () => {\r\n        this.opening = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.setState({ open: true});\r\n        this.openInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.openInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent += (this.props.speed * this.props.interval / 1000);\r\n            if (percent >= 100) {\r\n                this.opening = false;\r\n                clearInterval(this.openInterval);\r\n            }\r\n            percent = Math.min(100, percent);\r\n            this.setState({percent});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    close = (force) => {\r\n        this.closing = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.setState({ open: false});\r\n        if (force) {\r\n            this.setState({percent: 0});\r\n            return;\r\n        }\r\n        this.closeInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.closeInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent -= (this.props.speed * this.props.interval / 1000);\r\n            if (percent <= 0) {\r\n                this.closing = false;\r\n                clearInterval(this.closeInterval);\r\n            }\r\n            percent = Math.max(0, percent);\r\n            this.setState({percent});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    toggle = (force) => {\r\n        if (this.context.inspectorPinned) {\r\n            this.props.pinInspector();\r\n            this.close(force);\r\n            return;\r\n        }\r\n\r\n        let toggleState = !this.state.open;\r\n        this.state.open ? this.close(force) : this.open();\r\n\r\n        return toggleState;\r\n    };\r\n\r\n    setMenu = (inspectorMenu) => {\r\n        this.setState({inspectorMenu});\r\n    };\r\n\r\n    getDefaultMenu = () => {\r\n        return <div\r\n            className=\"InspectorDefaultMenuRoot\"\r\n        >\r\n            <span>\r\n                Select a component to show options\r\n            </span>\r\n        </div>\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <div\r\n                    className=\"InspectorRoot\"\r\n                    style={{...\r\n                        !this.context.inspectorPinned ? {\r\n                            right: `${this.state.percent - 100}%`,\r\n                            opacity: this.state.percent / 100\r\n                        } : {right: \"0%\", opacity: 1},\r\n                        ...{\r\n                        }}\r\n                    }\r\n                    onContextMenu={(e) => {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }}\r\n                >\r\n                    <div style={{\r\n                    }}>\r\n                    <div className=\"InspectorPin\">\r\n                        <IconButton\r\n                            buttonBaseStyle={{\r\n                                marginLeft: 0,\r\n                                borderRadius: \"50%\",\r\n                                backgroundColor: this.context.inspectorPinned && \"#8d8d8d\"\r\n                            }}\r\n                            onClick={(e) => {\r\n                                this.props.pinInspector();\r\n                            }}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={12}\r\n                                height={12}\r\n                                src={this.context.inspectorPinned ?\r\n                                    process.env.PUBLIC_URL + '/static/icon/pin-white.svg':\r\n                                    process.env.PUBLIC_URL + '/static/icon/pin.svg'}\r\n                            />\r\n                        </IconButton>\r\n                    </div>\r\n                    {\r\n                        this.state.inspectorMenu || this.getDefaultMenu()\r\n                    }\r\n                    </div>\r\n                </div>\r\n                {\r\n                    this.context.inspectorPinned &&\r\n\r\n                    <div\r\n                        className=\"InspectorPinRoot\"\r\n                    >\r\n                    </div>\r\n                }\r\n\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nInspector.defaultProps = {\r\n    open: false,\r\n    speed: 400,\r\n    interval: 5\r\n};\r\n","import React from \"react\";\r\nimport './Adjustment.css';\r\nimport {stretch} from \"../AwesomwGridLayoutHelper\";\r\n\r\nexport default class AdjustmentStretch extends React.Component {\r\n    onClick = (e) => {\r\n        let {itemId, idMan} = this.props;\r\n        stretch(idMan.getItem(itemId));\r\n    };\r\n\r\n    onMouseDown = (e) => {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n    };\r\n\r\n    isLeftClick = (e) => {\r\n        if (e.pointerType === \"mouse\" && e.button === 0)\r\n            return true;\r\n\r\n        return false;\r\n    };\r\n\r\n    isDragging = () => {\r\n        let {itemId, idMan} = this.props;\r\n        return idMan.getItem(itemId).state.draggingStart;\r\n    }\r\n\r\n    render () {\r\n        let {isStretch} = this.props;\r\n        if (this.isDragging())\r\n            return null;\r\n        return (\r\n            <div\r\n                id=\"AdjustmentResize\"\r\n                className=\"AdjustmentStretchRoot\"\r\n                onPointerDown={this.onMouseDown}\r\n                onClick={this.onClick}\r\n                style={this.props.style}\r\n            >\r\n                {\r\n                    isStretch && <img draggable={false} width={16} height={16} src={require('./icons/minimize.svg')} />\r\n                }\r\n                {\r\n                    !isStretch && <img draggable={false} width={16} height={16} src={require('./icons/maximize.svg')} />\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport ResizePane from \"./ResizePane\";\r\nimport AdjustmentStretch from \"./AdjustmentStretch\";\r\nimport {cloneObject, shallowEqual} from \"../AwesomeGridLayoutUtils\";\r\nimport classNames from \"classnames\";\r\n\r\nexport default class AdjustmentResize extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n    }\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        if (!shallowEqual(nextProps.data, this.data))\r\n            return true;\r\n\r\n        if (!shallowEqual(nextProps, this.props))\r\n            return true;\r\n\r\n        return false;\r\n    }\r\n\r\n    render () {\r\n        let {data, allowStretch, idMan, itemId, isStretch, draggingStart, transformStyleId, item} = this.props;\r\n        this.data = cloneObject(data);\r\n        let stretchStyle = {};\r\n        if (!allowStretch) stretchStyle.display = \"none\";\r\n\r\n        let classes = classNames(\r\n            \"AdjustmentResizeRoot\",\r\n            transformStyleId\r\n        );\r\n        return (\r\n            <div\r\n                id=\"AdjustmentResize\"\r\n                style={{\r\n                    width: data.width,\r\n                    height: data.height,\r\n                    top: data.top,\r\n                    left: data.left,\r\n                    // transform: transform\r\n                }}\r\n                className={classes}\r\n            >\r\n                {\r\n                    !isStretch &&\r\n                    ['s','n','e','w','se','ne','sw','nw'].map((side, index) => {\r\n                        return <ResizePane\r\n                            enabled={this.props.sides.includes(side)}\r\n                            key={index}\r\n                            side={side}\r\n                            onResizeStart={this.props.onResizeStart}\r\n                            onResize={this.props.onResize}\r\n                            onResizeStop={this.props.onResizeStop}\r\n                            draggingStart={draggingStart}\r\n                        />\r\n                    })\r\n                }\r\n                {\r\n                    !(item.getCompositeFromData(\"transform\") || {}).rotateDegree && !item.props.noStretch &&\r\n                    <AdjustmentStretch\r\n                        style={stretchStyle}\r\n                        isStretch={isStretch}\r\n                        idMan={idMan}\r\n                        itemId={itemId}\r\n                    />\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport {allowStretch, isGroupSelected, isHideInBreakpoint, isStretch} from \"../AwesomwGridLayoutHelper\";\r\nimport AdjustmentResize from \"./AdjustmentResize\";\r\n\r\nexport default class AdjustmentResizeWrapper extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            active: true\r\n        };\r\n    }\r\n\r\n    update = (item, data, transformStyleId) => {\r\n        this.setState({item, data, transformStyleId});\r\n    };\r\n\r\n    activate = (active) => {\r\n        this.setState({active});\r\n    };\r\n\r\n    render () {\r\n        if (!this.state.active)\r\n            return null;\r\n\r\n        if (!this.state.item)\r\n            return null;\r\n\r\n        let {item, data} = this.state;\r\n\r\n        return (\r\n            <>\r\n                {\r\n                    item.getFromTempData(\"resizable\") &&\r\n                    !item.state.showAnimation &&\r\n                    !isGroupSelected(item) &&\r\n                    !isHideInBreakpoint(item) &&\r\n                    <AdjustmentResize\r\n                        id={item.props.id}\r\n                        key={`resize`}\r\n                        sides={item.props.resizeSides || ['n','s','e','w','ne','nw','se','sw']}\r\n                        onResizeStart={item.onResizeStart}\r\n                        onResize={item.onResize}\r\n                        onResizeStop={item.onResizeStop}\r\n                        draggingStart={item.state.draggingStart}\r\n                        isStretch={isStretch(item)}\r\n                        allowStretch={allowStretch(item)}\r\n                        itemId={item.props.id}\r\n                        item={item}\r\n                        idMan={item.props.idMan}\r\n                        transformStyleId={this.state.transformStyleId}\r\n                        data={data}\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport {cloneObject, shallowEqual} from \"../AwesomeGridLayoutUtils\";\r\n\r\nexport default class AdjustmentHelpLines extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        if (nextProps.helpLinesParent) {\r\n            let newParentRect = nextProps.helpLinesParent.getSize(false);\r\n\r\n            if (!shallowEqual(this.parentRect, cloneObject(newParentRect))) {\r\n                this.parentRect = newParentRect;\r\n                return true;\r\n            }\r\n        }\r\n\r\n        if (this.props.width !== nextProps.width ||\r\n            this.props.height !== nextProps.height ||\r\n            this.props.show !== nextProps.show ||\r\n            this.props.dragging !== nextProps.dragging)\r\n            return true;\r\n\r\n        if (!shallowEqual(this.props.itemRect, nextProps.itemRect)) {\r\n            return true;\r\n        }\r\n        if (!shallowEqual(this.props.fakeItemRect, nextProps.fakeItemRect)) {\r\n            return true;\r\n        }\r\n        if (!shallowEqual(nextProps.item.getCompositeFromData(\"gridItemStyle\"), this.gridItemStyle)) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    getValue = (value) => {\r\n        if (value.includes(\"px\")) {\r\n            return `${parseFloat(value.replace(\"px\", \"\")).toFixed(1)}px`;\r\n        }\r\n        if (value.includes(\"%\")) {\r\n            return `${parseFloat(value.replace(\"%\", \"\")).toFixed(1)}%`;\r\n        }\r\n\r\n        return value;\r\n    };\r\n\r\n    calculate = () => {\r\n        let {helpLinesParent, item, itemRect, width, height, dragging, fakeItemRect} = this.props;\r\n        // this.parentRect = this.parentRect || helpLinesParent.getSize(false);\r\n        this.parentRect = helpLinesParent.prepareRects();\r\n\r\n        if (fakeItemRect)\r\n            itemRect = fakeItemRect;\r\n        return {\r\n            ...item.calculateGridItem(itemRect.left - this.parentRect.left,\r\n                itemRect.top - this.parentRect.top, helpLinesParent,\r\n                width || itemRect.width, height || itemRect.height, this.parentRect, true, !dragging),\r\n            itemRect, parentRect: this.parentRect\r\n        };\r\n    };\r\n\r\n    getRuntimeGridItemStyle = () => {\r\n        return this.gridItemStyle;\r\n    };\r\n\r\n    render () {\r\n        let {show, item, transform, fakeItemRect} = this.props;\r\n        if (!show)\r\n            return null;\r\n\r\n        if (!item.mounted)\r\n            return null;\r\n\r\n        let {gridItemStyle, coordinates, itemRect, parentRect, coordinatesAbs} = this.calculate();\r\n        this.gridItemStyle = cloneObject(gridItemStyle);\r\n        if (fakeItemRect)\r\n            itemRect = fakeItemRect;\r\n        return (\r\n            <div\r\n                id=\"AdjustmentHelpLines\"\r\n                className=\"AdjustmentHelpLinesRoot\"\r\n                style={{\r\n                    width: coordinatesAbs.cx2 - coordinatesAbs.cx1,\r\n                    height: coordinatesAbs.cy2 - coordinatesAbs.cy1,\r\n                    top: coordinatesAbs.cy1,\r\n                    left: coordinatesAbs.cx1,\r\n                }}\r\n            >\r\n                <div className=\"AdjustmentHelpLinesRect\" style={{\r\n                    top: itemRect.top - coordinatesAbs.cy1,\r\n                    left: itemRect.left - coordinatesAbs.cx1,\r\n                    width: itemRect.width,\r\n                    height: itemRect.height\r\n                }}/>\r\n                <svg className=\"AdjustmentHelpLinesSVG\">\r\n                    {\r\n                        /*(gridItemStyle.justifySelf === \"start\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                            gridItemStyle.alignSelf === \"flex-start\") &&*/\r\n                        <line\r\n                            visibility={(gridItemStyle.justifySelf === \"start\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                                gridItemStyle.alignSelf === \"flex-start\")? \"visible\": \"hidden\"}\r\n                            x1={0}\r\n                            x2={itemRect.left - coordinatesAbs.cx1}\r\n                            y1={itemRect.top - coordinatesAbs.cy1 + itemRect.height / 2}\r\n                            y2={itemRect.top - coordinatesAbs.cy1 + itemRect.height / 2}\r\n                            style={{\r\n                                stroke: \"#116dff\",\r\n                                strokeDasharray: \"3px 3px\"\r\n                            }}\r\n                        />\r\n                    }\r\n                    {\r\n                        /*(gridItemStyle.justifySelf === \"start\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                            gridItemStyle.alignSelf === \"flex-start\") &&\r\n                        !this.props.dragging &&*/\r\n                        <circle\r\n                            visibility={((gridItemStyle.justifySelf === \"start\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                                gridItemStyle.alignSelf === \"flex-start\") &&\r\n                                !this.props.dragging)? \"visible\" : \"hidden\"}\r\n                            cx={0}\r\n                            cy={itemRect.top - coordinatesAbs.cy1 + itemRect.height / 2}\r\n                            r={5}\r\n                            style={{\r\n                                stroke: \"#fff\",\r\n                                fill: \"#116dff\"\r\n                            }}\r\n                        />\r\n                    }\r\n                    {\r\n                        // (gridItemStyle.justifySelf === \"end\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                        //     gridItemStyle.alignSelf === \"flex-end\") &&\r\n                        <line\r\n                            visibility={(gridItemStyle.justifySelf === \"end\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                                gridItemStyle.alignSelf === \"flex-end\") ? \"visible\" : \"hidden\"}\r\n                            x1={itemRect.left - coordinatesAbs.cx1 + itemRect.width}\r\n                            x2={coordinatesAbs.cx2 - coordinatesAbs.cx1}\r\n                            y1={itemRect.top - coordinatesAbs.cy1 + itemRect.height / 2}\r\n                            y2={itemRect.top - coordinatesAbs.cy1 + itemRect.height / 2}\r\n                            style={{\r\n                                stroke: \"#116dff\",\r\n                                strokeDasharray: \"3px 3px\"\r\n                            }}\r\n                        />\r\n                    }\r\n                    {\r\n                        // (gridItemStyle.justifySelf === \"end\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                        //     gridItemStyle.alignSelf === \"flex-end\") &&\r\n                        // !this.props.dragging &&\r\n                        <circle\r\n                            visibility={((gridItemStyle.justifySelf === \"end\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                                gridItemStyle.alignSelf === \"flex-end\") &&\r\n                                !this.props.dragging) ? \"visible\" : \"hidden\"}\r\n                            cx={coordinatesAbs.cx2 - coordinatesAbs.cx1}\r\n                            cy={itemRect.top - coordinatesAbs.cy1 + itemRect.height / 2}\r\n                            r={5}\r\n                            style={{\r\n                                stroke: \"#fff\",\r\n                                fill: \"#116dff\"\r\n                            }}\r\n                        />\r\n                    }\r\n                    {\r\n                        // (gridItemStyle.alignSelf === \"start\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                        <line\r\n                            visibility={(gridItemStyle.alignSelf === \"start\" || gridItemStyle.alignSelf === \"stretch\")\r\n                            ? \"visible\" : \"hidden\"}\r\n                            x1={itemRect.left - coordinatesAbs.cx1 + itemRect.width / 2}\r\n                            x2={itemRect.left - coordinatesAbs.cx1 + itemRect.width / 2}\r\n                            y1={0}\r\n                            y2={itemRect.top - coordinatesAbs.cy1}\r\n                            style={{\r\n                                stroke: \"#116dff\",\r\n                                strokeDasharray: \"3px 3px\"\r\n                            }}\r\n                        />\r\n                    }\r\n                    {\r\n                        // (gridItemStyle.alignSelf === \"start\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                        // !this.props.dragging &&\r\n                        <circle\r\n                            visibility={((gridItemStyle.alignSelf === \"start\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                                !this.props.dragging) ? \"visible\" : \"hidden\"}\r\n                            cx={itemRect.left - coordinatesAbs.cx1 + itemRect.width / 2}\r\n                            cy={0}\r\n                            r={5}\r\n                            style={{\r\n                                stroke: \"#fff\",\r\n                                fill: \"#116dff\"\r\n                            }}\r\n                        />\r\n                    }\r\n                    {\r\n                        // (gridItemStyle.alignSelf === \"end\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                        <line\r\n                            visibility={(gridItemStyle.alignSelf === \"end\" || gridItemStyle.alignSelf === \"stretch\")\r\n                            ? \"visible\" : \"hidden\"}\r\n                            x1={itemRect.left - coordinatesAbs.cx1 + itemRect.width / 2}\r\n                            x2={itemRect.left - coordinatesAbs.cx1 + itemRect.width / 2}\r\n                            y1={itemRect.top - coordinatesAbs.cy1 + itemRect.height}\r\n                            y2={coordinatesAbs.cy2 - coordinatesAbs.cy1}\r\n                            style={{\r\n                                stroke: \"#116dff\",\r\n                                strokeDasharray: \"3px 3px\"\r\n                            }}\r\n                        />\r\n                    }\r\n                    {\r\n                        // (gridItemStyle.alignSelf === \"end\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                        // !this.props.dragging &&\r\n                        <circle\r\n                            visibility={((gridItemStyle.alignSelf === \"end\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                                !this.props.dragging) ? \"visible\" : \"hidden\"}\r\n                            cx={itemRect.left - coordinatesAbs.cx1 + itemRect.width / 2}\r\n                            cy={coordinatesAbs.cy2 - coordinatesAbs.cy1}\r\n                            r={5}\r\n                            style={{\r\n                                stroke: \"#fff\",\r\n                                fill: \"#116dff\"\r\n                            }}\r\n                        />\r\n                    }\r\n                </svg>\r\n\r\n                {\r\n                    // (gridItemStyle.justifySelf === \"start\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                    //     gridItemStyle.alignSelf === \"flex-start\") &&\r\n                    // this.props.dragging &&\r\n                    <p\r\n                        style={{\r\n                            display: ((gridItemStyle.justifySelf === \"start\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                                gridItemStyle.alignSelf === \"flex-start\") &&\r\n                                this.props.dragging) ? \"unset\" : \"none\",\r\n                            position: \"absolute\",\r\n                            top: itemRect.top - coordinatesAbs.cy1 + itemRect.height / 2,\r\n                        left: (itemRect.left - coordinatesAbs.cx1) / 2,\r\n                        transform: \"translateY(-125%) translateX(-50%)\",\r\n                        margin: 0,\r\n                        fontSize: \"0.65em\",\r\n                        color: \"#0013ff\",\r\n                        fontWeight: \"bold\"\r\n                    }}\r\n                    >\r\n                            {this.getValue(gridItemStyle.marginLeft)}\r\n                    </p>\r\n                }\r\n\r\n                {\r\n                    // (gridItemStyle.justifySelf === \"end\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                    //     gridItemStyle.alignSelf === \"flex-end\") &&\r\n                    // this.props.dragging &&\r\n                    <p\r\n                        style={{\r\n                            display: ((gridItemStyle.justifySelf === \"end\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                                gridItemStyle.alignSelf === \"flex-end\") &&\r\n                                this.props.dragging) ? \"unset\" : \"none\",\r\n                            position: \"absolute\",\r\n                            top: itemRect.top - coordinatesAbs.cy1 + itemRect.height / 2,\r\n                            right: (coordinatesAbs.cx2 - itemRect.left - itemRect.width) / 2,\r\n                            transform: \"translateY(-125%) translateX(50%)\",\r\n                            margin: 0,\r\n                            fontSize: \"0.65em\",\r\n                            color: \"#0013ff\",\r\n                            fontWeight: \"bold\"\r\n                        }}\r\n                    >\r\n                        {this.getValue(gridItemStyle.marginRight)}\r\n                    </p>\r\n                }\r\n\r\n                {\r\n                    // (gridItemStyle.alignSelf === \"start\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                    // this.props.dragging &&\r\n                    <p\r\n                        style={{\r\n                            display: ((gridItemStyle.alignSelf === \"start\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                                this.props.dragging) ? \"unset\" : \"none\",\r\n                            position: \"absolute\",\r\n                            top: (itemRect.top - coordinatesAbs.cy1) / 2,\r\n                            left: itemRect.left - coordinatesAbs.cx1 + itemRect.width / 2,\r\n                            transform: \"translateY(-50%) translateX(5px)\",\r\n                            margin: 0,\r\n                            fontSize: \"0.65em\",\r\n                            color: \"#0013ff\",\r\n                            fontWeight: \"bold\"\r\n                        }}\r\n                    >\r\n                        {this.getValue(gridItemStyle.marginTop)}\r\n                    </p>\r\n                }\r\n\r\n                {\r\n                    // (gridItemStyle.alignSelf === \"end\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                    // this.props.dragging &&\r\n                    <p\r\n                        style={{\r\n                            display: ((gridItemStyle.alignSelf === \"end\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                                this.props.dragging) ? \"unset\" : \"none\",\r\n                            position: \"absolute\",\r\n                            bottom: (coordinatesAbs.cy2 - itemRect.top - itemRect.height) / 2,\r\n                            left: itemRect.left - coordinatesAbs.cx1 + itemRect.width / 2,\r\n                            transform: \"translateY(50%) translateX(5px)\",\r\n                            margin: 0,\r\n                            fontSize: \"0.65em\",\r\n                            color: \"#0013ff\",\r\n                            fontWeight: \"bold\"\r\n                        }}\r\n                    >\r\n                        {this.getValue(gridItemStyle.marginBottom)}\r\n                    </p>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport {isGroupSelected, isHideInBreakpoint} from \"../AwesomwGridLayoutHelper\";\r\nimport AdjustmentHelpLines from \"./AdjustmentHelpLines\";\r\n\r\nexport default class AdjustmentHelpLinesWrapper extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            active: true\r\n        };\r\n\r\n        this.helpLineRef = React.createRef();\r\n    }\r\n\r\n    update = (item, helpLineParent, itemRect, dragging, fakeItemRect) => {\r\n        this.setState({item, itemRect, dragging, fakeItemRect});\r\n    };\r\n\r\n    activate = (active) => {\r\n        this.setState({active});\r\n    };\r\n\r\n    getRuntimeGridItemStyle = () => {\r\n        if (this.helpLineRef.current)\r\n            return this.helpLineRef.current.getRuntimeGridItemStyle();\r\n    };\r\n\r\n    render () {\r\n        if (!this.state.active)\r\n            return null;\r\n\r\n        if (!this.state.item)\r\n            return null;\r\n\r\n        let {item, itemRect, dragging, fakeItemRect} = this.state;\r\n        return (\r\n            <>\r\n                {\r\n                    !item.state.showAnimation &&\r\n                    !isHideInBreakpoint(item) &&\r\n                    <AdjustmentHelpLines\r\n                        ref={this.helpLineRef}\r\n                        show={!item.props.helplineOff /*&& item.state.selected*/ &&\r\n                        item.state.helpLinesParent && !item.getFromTempData(\"pageResize\") &&\r\n                        !isGroupSelected(item)}\r\n                        helpLinesParent={item.state.helpLinesParent}\r\n                        item={item}\r\n                        dragging={dragging}\r\n                        itemRect={itemRect}\r\n                        fakeItemRect={fakeItemRect}\r\n                        width={itemRect.width}\r\n                        height={itemRect.height}\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport Popper from \"@material-ui/core/Popper/Popper\";\r\n\r\nexport default class AdjustmentHover extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            active: true\r\n        };\r\n\r\n        console.log(\"AdjustmentHover constructor\")\r\n    }\r\n\r\n    update = (item, size, clear) => {\r\n        if (!clear)\r\n            if (!item.state.selected)\r\n                this.setState({item, size, itemId: item.props.id});\r\n            else\r\n                this.setState({item, size, itemId: undefined});\r\n        else {\r\n            if (this.state.itemId === item.props.id) {\r\n                this.setState({item, size, itemId: undefined});\r\n            }\r\n        }\r\n    };\r\n\r\n    activate = (active) => {\r\n        this.setState({active});\r\n    };\r\n\r\n    render () {\r\n        if (!this.state.active)\r\n            return null;\r\n\r\n        if (!this.state.itemId)\r\n            return null;\r\n        return (\r\n            <Popper\r\n                open={true}\r\n                anchorEl={document.getElementById(this.state.itemId)}\r\n                placement=\"top-start\"\r\n                style={{\r\n                    zIndex: 9999999,\r\n                    pointerEvents: \"none\"\r\n                }}\r\n                disablePortal={false}\r\n                modifiers={{\r\n                    flip: {\r\n                        enabled: false\r\n                    },\r\n                    preventOverflow: {\r\n                        enabled: false,\r\n                    },\r\n                    hide: {\r\n                        enabled: false,\r\n                    },\r\n                }}\r\n            >\r\n                {\r\n                    this.state.itemId ?\r\n                        <div\r\n                            className=\"AwesomeGridLayoutRootHover\"\r\n                            key={`hover`}\r\n                            style={{\r\n                                width: this.state.size ? this.state.size.width : 0,\r\n                                height: this.state.size ? this.state.size.height : 0,\r\n                            }}\r\n                        >\r\n                            <span className=\"AGLHoverCompName\">\r\n                                {this.state.item.props.tagName}\r\n                            </span>\r\n                        </div>\r\n                        :\r\n                        <div></div>\r\n                }\r\n            </Popper>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Layout.css';\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\n\r\nexport default class Layout extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            percent: props.open ? 100 : 0,\r\n            treeData: []\r\n        };\r\n\r\n        this.opening = false;\r\n        this.closing = false;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n    open = () => {\r\n        this.opening = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.openInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.openInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent += (this.props.speed * this.props.interval / 1000);\r\n            if (percent > 100) {\r\n                this.opening = false;\r\n                clearInterval(this.openInterval);\r\n            }\r\n            percent = Math.min(100, percent);\r\n            this.setState({percent, open: (percent === 100)});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    close = () => {\r\n        this.closing = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.closeInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.closeInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent -= (this.props.speed * this.props.interval / 1000);\r\n            if (percent < 0) {\r\n                this.closing = false;\r\n                clearInterval(this.closeInterval);\r\n            }\r\n            percent = Math.max(0, percent);\r\n            this.setState({percent, open: (percent !== 0)});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    setLayout = (layout) => {\r\n        this.processLayout(layout)\r\n    };\r\n\r\n    processLayout = (layout) => {\r\n        if (!layout)\r\n            return;\r\n\r\n        let {idMan} = this.props;\r\n\r\n        let getTreeItem = (layoutItem) => {\r\n            let item = idMan.getItem(layoutItem.childData.props.id);\r\n            return {\r\n                title: layoutItem.childData.tagName,\r\n                layoutItem: layoutItem,\r\n                children: layoutItem.childrenData.map(childLayout => {\r\n                    return getTreeItem(childLayout);\r\n                }),\r\n                expanded: item.getFromTempData(\"layoutTreeExpanded\"),\r\n                parentItemId: item.props.parent && item.props.parent.props.id\r\n            };\r\n        };\r\n\r\n        this.setState({\r\n            treeData: [getTreeItem(layout[0])]\r\n        });\r\n    };\r\n\r\n    setTree = (treeData) => {\r\n        let {idMan} = this.props;\r\n        let updateItem = (treeItem) => {\r\n            let item = idMan.getItem(treeItem.layoutItem.childData.props.id);\r\n            item.setTempData(\"layoutTreeExpanded\", treeItem.expanded);\r\n            treeItem.children.forEach((childTreeItem, index) => {\r\n                item.setChildZIndex(childTreeItem.layoutItem.childData.props.id, index + 1);\r\n            });\r\n            item.updateLayout();\r\n            treeItem.children.map(childTreeItem => {\r\n                updateItem(childTreeItem);\r\n            });\r\n        };\r\n\r\n        updateItem(treeData[0]);\r\n\r\n        this.setState({treeData});\r\n    };\r\n\r\n    render() {\r\n        let {idMan} = this.props;\r\n        return (\r\n            <>\r\n                <div\r\n                    className=\"LayoutRoot\"\r\n                    style={{\r\n                        left: `${this.state.percent - 100}%`,\r\n                        opacity: this.state.percent / 100\r\n                    }}\r\n                    onContextMenu={(e) => {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }}\r\n                >\r\n                    <div\r\n                        className=\"LayoutTreeRootHeader\"\r\n                    >\r\n                        {/*Header*/}\r\n                        <div\r\n                            className=\"LayoutTreeRootHeaderContainer\"\r\n                        >\r\n                            <span className=\"LayoutTreeRootHeaderTitle\">\r\n                                Layers\r\n                            </span>\r\n\r\n                            <IconButton\r\n                                onClick={this.close}\r\n                            >\r\n                                <img\r\n                                    draggable={false}\r\n                                    width={12}\r\n                                    height={12}\r\n                                    src={require('../../icons/close.svg')}\r\n                                />\r\n                            </IconButton>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div\r\n                        className=\"LayoutTreeRoot\"\r\n                    >\r\n                        Coming soon ...\r\n                        {/*<SortableTree\r\n                            className=\"LayoutSortableTree\"\r\n                            treeData={this.state.treeData}\r\n                            onChange={treeData => this.setTree(treeData)}\r\n                            innerStyle={{\r\n                                outline: 'none',\r\n                            }}\r\n                            generateNodeProps={rowInfo => {\r\n                                let layoutItem = rowInfo.node.layoutItem; // {tagName, childData, childrenData}\r\n                                let item = idMan.getItem(layoutItem.childData.props.id);\r\n                                let rowWrapperStyle = {};\r\n                                if (item.state.selected)\r\n                                    rowWrapperStyle.backgroundColor = \"#e4ffea\";\r\n\r\n                                let buttons = [\r\n                                    <IconButton\r\n                                        key={\"rightClick\"}\r\n                                        onClick={(e) => {\r\n                                            item.onContextMenu(e);\r\n                                        }}\r\n                                        imageContainerStyle={{\r\n                                            padding: 4\r\n                                        }}\r\n                                    >\r\n                                        <img\r\n                                            draggable={false}\r\n                                            width={16}\r\n                                            height={16}\r\n                                            src={process.env.PUBLIC_URL + 'static/icon/more-black.svg'}\r\n                                        />\r\n                                    </IconButton>\r\n                                ];\r\n                                if (isHideInBreakpoint(item)) {\r\n                                    buttons.unshift(\r\n                                        <IconButton\r\n                                            key={\"hidedInBp\"}\r\n                                            onClick={(e) => {\r\n                                                showInBreakPoint(item);\r\n                                            }}\r\n                                            imageContainerStyle={{\r\n                                                padding: 4\r\n                                            }}\r\n                                        >\r\n                                            <img\r\n                                                draggable={false}\r\n                                                width={16}\r\n                                                height={16}\r\n                                                src={process.env.PUBLIC_URL + 'static/icon/hide.svg'}\r\n                                            />\r\n                                        </IconButton>\r\n                                    )\r\n                                }\r\n\r\n                                return ({\r\n                                    rowWrapperStyle: rowWrapperStyle,\r\n                                    onClick: (e) => {\r\n                                        let eClass = e.target.getAttribute(\"class\");\r\n                                        if (eClass !== \"expandButton\" && eClass !== \"collapseButton\")\r\n                                            item.onSelect(true, undefined, undefined, true);\r\n                                    },\r\n                                    icons: [\r\n                                        <Image\r\n                                            draggable={false}\r\n                                            width={16}\r\n                                            height={16}\r\n                                            src={item.props.favIconUrl}\r\n                                            style={{\r\n                                                marginTop: 2\r\n                                            }}\r\n                                            errorsrc={process.env.PUBLIC_URL + '/static/icon/rectangle.svg'}\r\n                                        />\r\n                                    ],\r\n                                    buttons: buttons,\r\n                                })\r\n                            }}\r\n                            canDrag={({ node, path, treeIndex, lowerSiblingCounts, isSearchMatch,\r\n                                          isSearchFocus}) => {\r\n                                let item = idMan.getItem(node.layoutItem.childData.props.id);\r\n                                return !item.props.isPage && !item.props.isSection;\r\n                            }}\r\n                            canDrop={({ node, nextParent, prevPath, nextPath }) => {\r\n                                return !!(nextParent && node.parentItemId === nextParent.layoutItem.childData.props.id);\r\n                            }}\r\n                        />*/}\r\n                    </div>\r\n\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nLayout.defaultProps = {\r\n    open: false,\r\n    speed: 400,\r\n    interval: 5\r\n};\r\n","import React from \"react\";\r\nimport './AddComponent.css';\r\nimport {createItem, sortBy} from \"../../AwesomwGridLayoutHelper\";\r\nimport {cloneObject} from \"../../AwesomeGridLayoutUtils\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class ComponentGrid extends React.Component {\r\n    static contextType = EditorContext;\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n\r\n        };\r\n\r\n        this.rootRef = React.createRef();\r\n    }\r\n\r\n    getItemStyle = (item) => {\r\n        let rootWidth = this.rootRef.current?\r\n            this.rootRef.current.getBoundingClientRect().width - 24: 400 - 24;\r\n\r\n        return {\r\n            // width: rootWidth / (item.widthRatio || 2),\r\n            // height: rootWidth / (item.widthRatio || 2) / (item.aspectRatio || 2)\r\n            // height: \"fit-content\",\r\n            gridColumnEnd: `span ${item.width || 2}`,\r\n            gridRowEnd: `span ${item.height || 2}`\r\n        };\r\n    };\r\n\r\n    componentDidMount(){\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.mounted = false;\r\n    }\r\n\r\n    setDraggingItem = (draggingItem, e) => {\r\n        e.persist();\r\n\r\n        e.preventDefault();\r\n        // this.props.closeMenu(true);\r\n        this.context.toggleRightMenu(\"addComponent\");\r\n        this.createItemAndDrag(draggingItem, e);\r\n    };\r\n\r\n    createItemAndDrag = (item, e) => {\r\n        let {pageRef, editor} = this.props;\r\n        let selectedItem = editor.select.getSelected();\r\n        if (!selectedItem)\r\n            selectedItem = pageRef.current;\r\n        selectedItem = selectedItem.getContainerParent();\r\n\r\n        createItem(selectedItem, {\r\n            tagName: item.tagName,\r\n            props: cloneObject(item.presetProps)\r\n        }, undefined, undefined, undefined, (agl) => {\r\n            if (agl.props.input.mouseDown) {\r\n                window.requestAnimationFrame(() => {\r\n                    agl.onMouseDown(e, true);\r\n                });\r\n            }\r\n            // else {\r\n            //     console.log(\"createItemAndDrag 2\");\r\n            //     window.requestAnimationFrame(() => {\r\n            //         this.changeItemParent(agl, selectedItem);\r\n            //     });\r\n            // }\r\n        });\r\n    };\r\n\r\n    changeItemParent = (agl, selectedItem) => {\r\n        let size = agl.getSize(false);\r\n\r\n        if (!selectedItem || selectedItem.props.isPage)\r\n            selectedItem = this.props.editor.rootLayoutRef.current.props.aglComponent.getSectionOfPoint(\r\n                size.left, size.top, size.width, size.height\r\n            );\r\n\r\n        let newGridItemStyle = {\r\n            alignSelf: \"center\",\r\n            justifySelf: \"center\",\r\n            position: \"relative\",\r\n            marginLeft: 0,\r\n            marginRight: 0,\r\n            marginTop: 0,\r\n            marginBottom: 0,\r\n            gridArea: \"1/1/2/2\",\r\n        };\r\n\r\n        agl.props.dragdrop.dropItem(agl, agl.props.parent, selectedItem, (newItem) => {\r\n            newItem.setGridItemStyle(newGridItemStyle, newItem.props.breakpointmanager.getHighestBpName());\r\n        });\r\n    };\r\n\r\n    createItem = (item, e) => {\r\n        // this.props.closeMenu(true);\r\n\r\n        this.context.toggleRightMenu(\"addComponent\");\r\n\r\n        let {pageRef, editor} = this.props;\r\n        let selectedItem = editor.select.getSelected();\r\n        if (!selectedItem)\r\n            selectedItem = pageRef.current;\r\n\r\n        selectedItem = selectedItem.getContainerParent();\r\n\r\n        createItem(pageRef.current, {\r\n            tagName: item.tagName,\r\n            props: cloneObject(item.presetProps)\r\n        }, undefined, undefined, undefined, (agl) => {\r\n            window.requestAnimationFrame(() => {\r\n                this.changeItemParent(agl, selectedItem);\r\n            });\r\n        });\r\n    };\r\n\r\n    setDraggingEnd = () => {\r\n        console.log(\"setDraggingEnd\");\r\n        this.setState({draggingItem: undefined});\r\n    };\r\n\r\n    render() {\r\n        let {allItems, id, rowHeight, categoryItem} = this.props;\r\n        if (!allItems)\r\n            return null;\r\n\r\n        console.log(\"AddComponentItemGrid\", rowHeight);\r\n        return (\r\n            <React.Fragment key={id}>\r\n                <div\r\n                    className=\"AddComponentItemGrid\"\r\n                    ref={this.rootRef}\r\n                    key={id}\r\n                    style={{\r\n                        gridAutoRows: rowHeight\r\n                    }}\r\n                >\r\n                    {\r\n                        sortBy(allItems, \"order\").map((item, index) => {\r\n                            if (item.innerHtml) {\r\n                                return (\r\n                                    <div\r\n                                        key={index}\r\n                                        className=\"AddComponentItemGridItem\"\r\n                                        style={this.getItemStyle(item)}\r\n                                        onDragStart={(e) => {\r\n                                            this.setDraggingItem(item, e);\r\n                                        }}\r\n                                        onDragEnd={(e) => {\r\n                                            this.setDraggingEnd();\r\n                                        }}\r\n                                        onClick={(e) => {\r\n                                            this.createItem(item, e);\r\n                                        }}\r\n                                        draggable\r\n                                    >\r\n                                        <div\r\n                                            dangerouslySetInnerHTML={{__html: item.innerHtml}}\r\n                                        >\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                )\r\n                            } else {\r\n                                return (\r\n                                    <div\r\n                                        key={index}\r\n                                        className=\"AddComponentItemGridItem\"\r\n                                        style={this.getItemStyle(item)}\r\n                                        onDragStart={(e) => {\r\n                                            this.setDraggingItem(item, e);\r\n                                        }}\r\n                                        onDragEnd={(e) => {\r\n                                            this.setDraggingEnd();\r\n                                        }}\r\n                                        onClick={(e) => {\r\n                                            this.createItem(item, e);\r\n                                        }}\r\n                                        draggable\r\n                                    >\r\n                                        <img\r\n                                            className=\"AddComponentItemGridItemImage\"\r\n                                            src={item.imageUrl || '/static/image/box.webp'}\r\n                                            width={\"100%\"}\r\n                                            draggable={false}\r\n                                        />\r\n                                        {\r\n                                            item.icon &&\r\n                                            <img\r\n                                                className=\"AddComponentItemGridQAImage\"\r\n                                                draggable={false}\r\n                                                width={20 * (item.iconSizeMultiplyer || 1)}\r\n                                                height=\"auto\"\r\n                                                src={require(`../../icons/${item.icon}`)}\r\n                                            />\r\n                                        }\r\n                                        {\r\n                                            item.label &&\r\n                                            <span\r\n                                                className=\"AddComponentItemGridItemLabel\"\r\n                                            >\r\n                                                {item.label}\r\n                                            </span>\r\n                                        }\r\n                                    </div>\r\n                                )\r\n                            }\r\n\r\n                        })\r\n                    }\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './AddComponent.css';\r\nimport ComponentGrid from \"./ComponentGrid\";\r\nimport Divider from \"../../Menus/CommonComponents/Divider\";\r\nimport debounce from 'lodash.debounce';\r\nimport {sortBy} from \"../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class AddComponent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            percent: props.open ? 100 : 0,\r\n            componentListItem: undefined,\r\n            componentSubListItem: undefined,\r\n            componentListItemHover: undefined,\r\n            componentSubListItemHover: undefined\r\n        };\r\n\r\n        this.opening = false;\r\n        this.closing = false;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n    open = () => {\r\n        this.opening = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.setState({ open: true});\r\n        this.openInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.openInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent += (this.props.speed * this.props.interval / 1000);\r\n            if (percent >= 100) {\r\n                this.opening = false;\r\n                clearInterval(this.openInterval);\r\n            }\r\n            percent = Math.min(100, percent);\r\n            this.setState({percent});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    close = (force) => {\r\n        this.closing = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.setState({ open: false});\r\n        if (force) {\r\n            this.setState({percent: 0});\r\n            return;\r\n        }\r\n        this.closeInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.closeInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent -= (this.props.speed * this.props.interval / 1000);\r\n            if (percent <= 0) {\r\n                this.closing = false;\r\n                clearInterval(this.closeInterval);\r\n            }\r\n            percent = Math.max(0, percent);\r\n            this.setState({percent});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    toggle = (force) => {\r\n        let toggleState = !this.state.open;\r\n        this.state.open ? this.close(force) : this.open();\r\n\r\n        return toggleState;\r\n    };\r\n\r\n    setComponentListItemDebounce = debounce((componentListItem) => {\r\n        this.setComponentListItem(componentListItem);\r\n    }, 500);\r\n\r\n    setComponentListItemLeave = (componentListItem) => {\r\n        if (this.state.componentListItemHover === componentListItem) {\r\n            this.setState({componentListItemHover: undefined});\r\n        }\r\n    };\r\n\r\n    setComponentListItem = (componentListItem) => {\r\n        if (componentListItem !== this.state.componentListItem &&\r\n            componentListItem === this.state.componentListItemHover)\r\n            this.setState({componentListItem,\r\n                componentSubListItem: componentListItem.subList && Object.values(componentListItem.subList)[0]?\r\n                    Object.values(componentListItem.subList)[0][0]: undefined\r\n            });\r\n    };\r\n\r\n    setComponentSubListItemDebounce = debounce((componentSubListItem) => {\r\n        console.log(\"componentSubListItem\", componentSubListItem)\r\n        this.setComponentSubListItem(componentSubListItem);\r\n    }, 500);\r\n\r\n    setComponentSubListItemLeave = (componentSubListItem) => {\r\n        if (this.state.componentSubListItemHover === componentSubListItem) {\r\n            this.setState({componentSubListItemHover: undefined});\r\n        }\r\n    };\r\n\r\n    setComponentSubListItem = (componentSubListItem) => {\r\n        if (componentSubListItem !== this.state.componentSubListItem &&\r\n            componentSubListItem.listName === this.state.componentListItem.name &&\r\n            componentSubListItem === this.state.componentSubListItemHover)\r\n            this.setState({componentSubListItem});\r\n    };\r\n\r\n    render() {\r\n        let {allComponentData} = this.props;\r\n        if (!allComponentData)\r\n            return null;\r\n\r\n        let allItems;\r\n        let rowHeight;\r\n        let categoryItem;\r\n        if (this.state.componentListItem && this.state.componentListItem.allItems) {\r\n            allItems = this.state.componentListItem.allItems;\r\n            rowHeight = this.state.componentListItem.rowHeight;\r\n            categoryItem = this.state.componentListItem;\r\n        }\r\n        if (this.state.componentSubListItem && this.state.componentSubListItem.allItems) {\r\n            allItems = this.state.componentSubListItem.allItems;\r\n            rowHeight = this.state.componentSubListItem.rowHeight;\r\n            categoryItem = this.state.componentSubListItem;\r\n        }\r\n\r\n        if (!this.state.componentListItem)\r\n            allItems = undefined;\r\n\r\n        return (\r\n            <>\r\n                <div\r\n                    className=\"AddComponentRoot\"\r\n                    style={{\r\n                        left: `${this.state.percent - 100}%`,\r\n                        opacity: this.state.percent / 100\r\n                    }}\r\n                    onContextMenu={(e) => {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }}\r\n                >\r\n                    <div\r\n                        className=\"AddComponentList\"\r\n                    >\r\n                        {\r\n                            sortBy(Object.values(allComponentData.builtin), \"order\").map(componentListItem => {\r\n                                let style = {};\r\n                                if (componentListItem === this.state.componentListItem)\r\n                                    style.backgroundColor = \"#e5ffff\";\r\n                                if(!componentListItem.subList &&\r\n                                    (!componentListItem.allItems || componentListItem.allItems.length < 1))\r\n                                    return null;\r\n                                return (\r\n                                    <div\r\n                                        key={componentListItem.name}\r\n                                        className=\"AddComponentListItem\"\r\n                                        onMouseEnter={(e) => {\r\n                                            this.setState({componentListItemHover: componentListItem});\r\n                                            this.setComponentListItemDebounce(componentListItem);\r\n                                        }}\r\n                                        onMouseOver={(e) => {\r\n                                            this.setState({componentListItemHover: componentListItem});\r\n                                            this.setComponentListItemDebounce(componentListItem);\r\n                                        }}\r\n                                        onClick={(e) => {\r\n                                            this.setComponentListItem(componentListItem);\r\n                                        }}\r\n                                        onMouseOut={(e) => {\r\n                                            this.setComponentListItemLeave(componentListItem);\r\n                                        }}\r\n                                        style={style}\r\n                                    >\r\n                                        {componentListItem.name}\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                        <Divider/>\r\n                        {\r\n                            sortBy(Object.values(allComponentData.apps), \"order\").map(componentListItem => {\r\n                                let style = {};\r\n                                if (componentListItem === this.state.componentListItem)\r\n                                    style.backgroundColor = \"#e5ffff\";\r\n                                return (\r\n                                    <div\r\n                                        key={componentListItem.name}\r\n                                        className=\"AddComponentListItem\"\r\n                                        onMouseEnter={(e) => {\r\n                                            this.setState({componentListItemHover: componentListItem});\r\n                                            this.setComponentListItemDebounce(componentListItem);\r\n                                        }}\r\n                                        onMouseOver={(e) => {\r\n                                            this.setState({componentListItemHover: componentListItem});\r\n                                            this.setComponentListItemDebounce(componentListItem);\r\n                                        }}\r\n                                        onClick={(e) => {\r\n                                            this.setComponentListItem(componentListItem);\r\n                                        }}\r\n                                        onMouseOut={(e) => {\r\n                                            this.setComponentListItemLeave(componentListItem);\r\n                                        }}\r\n                                        style={style}\r\n                                    >\r\n                                        {componentListItem.name}\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n\r\n                    {\r\n                        this.state.componentListItem &&\r\n                        this.state.componentListItem.subList &&\r\n                        <div\r\n                            className=\"AddComponentSubList\"\r\n                        >\r\n                            {\r\n                                sortBy(Object.keys(allComponentData.builtin[this.state.componentListItem.name].subList), \"order\")\r\n                                    .map(groupName => {\r\n                                        let componentSubListItems =\r\n                                            allComponentData.builtin[this.state.componentListItem.name].subList[groupName];\r\n                                        return (\r\n                                            <React.Fragment key={groupName}>\r\n                                                <div\r\n                                                    key={groupName}\r\n                                                    className=\"AddComponentSubListGroup\"\r\n                                                >\r\n                                                    {groupName}\r\n                                                </div>\r\n                                                {\r\n                                                    sortBy(componentSubListItems, \"order\").map(componentSubListItem => {\r\n                                                        let style = {};\r\n                                                        if (componentSubListItem === this.state.componentSubListItem)\r\n                                                            style.backgroundColor = \"#e5ffff\";\r\n                                                        return (\r\n                                                            <div\r\n                                                                key={componentSubListItem.name}\r\n                                                                className=\"AddComponentSubListItem\"\r\n                                                                onMouseEnter={(e) => {\r\n                                                                    this.setState({componentSubListItemHover: componentSubListItem});\r\n                                                                    this.setComponentSubListItemDebounce(componentSubListItem);\r\n                                                                }}\r\n                                                                onMouseOver={(e) => {\r\n                                                                    this.setState({componentSubListItemHover: componentSubListItem});\r\n                                                                    this.setComponentSubListItemDebounce(componentSubListItem);\r\n                                                                }}\r\n                                                                onClick={(e) => {\r\n                                                                    this.setComponentSubListItem(componentSubListItem);\r\n                                                                }}\r\n                                                                onMouseOut={(e) => {\r\n                                                                    this.setComponentSubListItemLeave(componentSubListItem);\r\n                                                                }}\r\n                                                                style={style}\r\n                                                            >\r\n                                                                {componentSubListItem.name}\r\n                                                            </div>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                            </React.Fragment>\r\n                                        )\r\n                                })\r\n                            }\r\n                        </div>\r\n                    }\r\n\r\n                    <ComponentGrid\r\n                        allItems={allItems}\r\n                        id={this.state.componentSubListItem? this.state.componentSubListItem.name:\r\n                            this.state.componentListItem? this.state.componentListItem.name: null}\r\n                        closeMenu={this.close}\r\n                        pageRef={this.props.pageRef}\r\n                        editor={this.props.editor}\r\n                        rowHeight={rowHeight}\r\n                        categoryItem={categoryItem}\r\n                    />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nAddComponent.defaultProps = {\r\n    open: false,\r\n    speed: 400,\r\n    interval: 5\r\n};\r\n","import React from \"react\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\nimport './PageTypeTitle.css';\r\n\r\nexport default class PageTypeTitle extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            open: props.defaultOpen || false\r\n        }\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <ButtonBase className=\"PageTypeTitle\" onClick={(e) => {\r\n                if (this.props.onChange)\r\n                    this.props.onChange(!this.state.open);\r\n                this.setState({open: !this.state.open});\r\n            }}>\r\n                    <span>\r\n                        {this.props.title}\r\n                    </span>\r\n\r\n                    <div className=\"PageTypeTitleExpandIcon\">\r\n                        {\r\n                            this.state.open &&\r\n                            <img draggable={false} width={10} height={10}\r\n                                 src={process.env.PUBLIC_URL + '/static/icon/down-arrow.svg'} />\r\n                        }\r\n                        {\r\n                            !this.state.open &&\r\n                            <img draggable={false} width={10} height={10}\r\n                                 src={process.env.PUBLIC_URL + '/static/icon/right-arrow.svg'} />\r\n                        }\r\n                    </div>\r\n            </ButtonBase>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './PageSetting.css';\r\nimport '../PageManager.css';\r\nimport Image from \"../../../Menus/CommonComponents/Image\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport {EditorContext} from \"../../../Editor/EditorContext\";\r\nimport {resolveDefaultMenu} from \"../../../MenuManager/MenuManager\";\r\n\r\nexport default class PageInfo extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    onRename = (e) => {\r\n        this.newPageName = e.target.value;\r\n    };\r\n\r\n    rename = () => {\r\n        let {pageData} = this.props;\r\n\r\n        if (this.newPageName === pageData.props.pageName)\r\n            return;\r\n\r\n        if (!this.newPageName) {\r\n            // TODO show error\r\n            return;\r\n        }\r\n\r\n        pageData.props.pageName = this.newPageName;\r\n        this.newPageName = undefined;\r\n\r\n        this.context.update();\r\n\r\n        resolveDefaultMenu(this.context.siteData);\r\n    };\r\n\r\n    setAsHomePage = () => {\r\n        let {pageData} = this.props;\r\n        let siteData = this.context.siteData;\r\n\r\n        let home = Object.values(siteData.allPages).find(p => {return p.props.isHome});\r\n\r\n        if (home)\r\n            delete home.props.isHome;\r\n        pageData.props.isHome = true;\r\n\r\n        this.context.update();\r\n    };\r\n\r\n    render () {\r\n        let {pageData} = this.props;\r\n        return (\r\n            <div className=\"PageSettingTabPanelRoot\">\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        What's this page's name (on your menu)?\r\n                    </span>\r\n                    <input\r\n                        defaultValue={pageData.props.pageName}\r\n                        className=\"NumberInput PageManagerRenameInput PageInfoNameInput\"\r\n                        type=\"text\"\r\n                        onChange={this.onRename}\r\n                        onBlur={this.rename}\r\n                        onKeyPress={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.rename()\r\n                            }\r\n                        }}\r\n                    >\r\n                    </input>\r\n                </div>\r\n\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        <Image\r\n                            draggable={false}\r\n                            width={16}\r\n                            height={16}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/home.svg'}\r\n                            style={{\r\n                                marginTop: 2,\r\n                                marginRight: 12\r\n                            }}\r\n                        />\r\n                        {\r\n                            pageData.props.isHome &&\r\n                            \"This page is your home page\"\r\n                        }\r\n                        {\r\n                            !pageData.props.isHome &&\r\n                            \"Set this page as your home page\"\r\n                        }\r\n                        {\r\n                            !pageData.props.isHome &&\r\n                            <Button className=\"PageInfoHomePageButton\" variant=\"contained\"\r\n                                onClick={this.setAsHomePage}\r\n                            >\r\n                                Set as Home Page\r\n                            </Button>\r\n                        }\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Radio from \"@material-ui/core/Radio/Radio\";\r\n\r\nconst AglRadio = withStyles((theme) => ({\r\n    root: {\r\n        padding: 6,\r\n        '&:hover': {\r\n            backgroundColor: 'transparent',\r\n        },\r\n    },\r\n    checked: {\r\n        color: '#137cbd',\r\n    },\r\n}))(Radio);\r\n\r\nexport default AglRadio;\r\n","import React from \"react\";\r\nimport './PageSetting.css';\r\nimport '../PageManager.css';\r\nimport Image from \"../../../Menus/CommonComponents/Image\";\r\nimport GridViewer from \"../../../Menus/CommonComponents/GridViewer\";\r\nimport RadioGroup from \"@material-ui/core/RadioGroup/RadioGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel/FormControlLabel\";\r\nimport AglRadio from \"../../../Menus/CommonComponents/AglRadio\";\r\nimport Menu from \"@material-ui/core/Menu/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem/MenuItem\";\r\nimport Checkbox from \"@material-ui/core/Checkbox/Checkbox\";\r\nimport {EditorContext} from \"../../../Editor/EditorContext\";\r\n\r\nexport default class Permissions extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    changePermission = (type) => (e) => {\r\n        let {pageData} = this.props;\r\n        pageData.props.pageSetting.permissions.type = type;\r\n\r\n        this.context.update();\r\n    };\r\n\r\n    onSetPassword = (e) => {\r\n        let {pageData} = this.props;\r\n        pageData.props.pageSetting.permissions.password = e.target.value;\r\n\r\n        this.context.update();\r\n    };\r\n\r\n    onChangeMemberType = (e) => {\r\n        let {pageData} = this.props;\r\n        pageData.props.pageSetting.permissions.memberType = e.target.value;\r\n\r\n        this.context.update();\r\n    };\r\n\r\n    onRoleChange = (checked, role) => {\r\n        let {pageData} = this.props;\r\n        if (checked) {\r\n            if (pageData.props.pageSetting.permissions.memberRoles.findIndex(r => r === role) < 0)\r\n                pageData.props.pageSetting.permissions.memberRoles.push(role);\r\n        } else {\r\n            if (pageData.props.pageSetting.permissions.memberRoles.findIndex(r => r === role) >= 0) {\r\n                let index = pageData.props.pageSetting.permissions.memberRoles.findIndex(r => r === role);\r\n                pageData.props.pageSetting.permissions.memberRoles.splice(index, 1);\r\n            }\r\n        }\r\n\r\n        this.context.update();\r\n    };\r\n\r\n    render () {\r\n        let {pageData} = this.props;\r\n        let siteData = this.context.siteData;\r\n        return (\r\n            <div className=\"PageSettingTabPanelRoot\">\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        Who can view this page?\r\n                    </span>\r\n\r\n                    <GridViewer>\r\n                        <div className={`PermissionsItem ${\r\n                            pageData.props.pageSetting.permissions.type === \"Everyone\" ?\r\n                                \"PermissionsItemSelected\": \"\"}`}\r\n                             onClick={this.changePermission(\"Everyone\")}\r\n                        >\r\n                            <Image\r\n                                className=\"PermissionsItemImage\"\r\n                                draggable={false}\r\n                                width={92}\r\n                                height={92}\r\n                                src={process.env.PUBLIC_URL + '/static/icon/world.svg'}\r\n                            />\r\n\r\n                            <span className=\"PermissionsItemTitle\">\r\n                                Everyone\r\n                            </span>\r\n                        </div>\r\n                        <div className={`PermissionsItem ${\r\n                            pageData.props.pageSetting.permissions.type === \"Password Holder\" ?\r\n                                \"PermissionsItemSelected\": \"\"}`}\r\n                             onClick={this.changePermission(\"Password Holder\")}\r\n                        >\r\n                            <Image\r\n                                className=\"PermissionsItemImage\"\r\n                                draggable={false}\r\n                                width={92}\r\n                                height={92}\r\n                                src={process.env.PUBLIC_URL + '/static/icon/password.svg'}\r\n                            />\r\n\r\n                            <span className=\"PermissionsItemTitle\">\r\n                                Password Holder\r\n                            </span>\r\n                        </div>\r\n                        <div className={`PermissionsItem ${\r\n                            pageData.props.pageSetting.permissions.type === \"Member Only\" ?\r\n                                \"PermissionsItemSelected\": \"\"}`}\r\n                             onClick={this.changePermission(\"Member Only\")}\r\n                        >\r\n                            <Image\r\n                                className=\"PermissionsItemImage\"\r\n                                draggable={false}\r\n                                width={92}\r\n                                height={92}\r\n                                src={process.env.PUBLIC_URL + '/static/icon/group.svg'}\r\n                            />\r\n\r\n                            <span className=\"PermissionsItemTitle\">\r\n                                Member Only\r\n                            </span>\r\n                        </div>\r\n                    </GridViewer>\r\n\r\n                    <span className=\"PermissionsDescription\">\r\n                        {\r\n                            pageData.props.pageSetting.permissions.type === \"Everyone\" &&\r\n                            \"Everyone can see this page\"\r\n                        }\r\n                        {\r\n                            pageData.props.pageSetting.permissions.type === \"Password Holder\" &&\r\n                            \"Visitors with a password can see this page\"\r\n                        }\r\n                        {\r\n                            pageData.props.pageSetting.permissions.type === \"Member Only\" &&\r\n                            \"Visitors need to sign up to see this page\"\r\n                        }\r\n                    </span>\r\n                </div>\r\n\r\n                {\r\n                    pageData.props.pageSetting.permissions.type === \"Password Holder\" &&\r\n                    <div className=\"PageInfoBox\">\r\n                        <span className=\"PageInfoBoxTitle\">\r\n                            What's the page's password?\r\n                        </span>\r\n\r\n                        <input\r\n                            defaultValue={pageData.props.pageSetting.permissions.password}\r\n                            className=\"NumberInput PageManagerRenameInput PageInfoNameInput\"\r\n                            type=\"text\"\r\n                            onChange={this.onSetPassword}\r\n                        >\r\n                        </input>\r\n                    </div>\r\n                }\r\n\r\n                {\r\n                    pageData.props.pageSetting.permissions.type === \"Member Only\" &&\r\n                    <div className=\"PageInfoBox\">\r\n                        <span className=\"PageInfoBoxTitle\">\r\n                            Which member can access this page?\r\n                        </span>\r\n\r\n                        <RadioGroup className=\"PermissionsRadioGroup\"\r\n                                    value={pageData.props.pageSetting.permissions.memberType}\r\n                                    onChange={this.onChangeMemberType}\r\n                        >\r\n                            <FormControlLabel\r\n                                value=\"all\" control={<AglRadio color='default' />}\r\n                                label={<span className=\"PermissionsFormLabel\">\r\n                                    All members\r\n                                </span>}\r\n                            />\r\n                            <FormControlLabel\r\n                                className=\"PermissionsFormLabel\"\r\n                                value=\"role\" control={<AglRadio color='default' />}\r\n                                label={<span className=\"PermissionsFormLabel\">\r\n                                    Members with some role\r\n                                </span>}\r\n                            />\r\n                            <FormControlLabel\r\n                                disabled\r\n                                className=\"PermissionsFormLabel\"\r\n                                value=\"pay\" control={<AglRadio color='default' />}\r\n                                label={<span className=\"PermissionsFormLabel\">\r\n                                    Paying customers\r\n                                </span>}\r\n                            />\r\n                        </RadioGroup>\r\n\r\n                        {\r\n                            pageData.props.pageSetting.permissions.memberType === \"role\" &&\r\n                            <div className=\"PageInfoBox\">\r\n                                <span className=\"PageInfoBoxTitle\">\r\n                                    Select from your member roles\r\n                                </span>\r\n\r\n                                <div className=\"PermissionsRolesInput NumberInput PageManagerRenameInput\"\r\n                                    onClick={(e) => {\r\n                                        this.setState({roleAnchor: e.target})\r\n                                    }}\r\n                                >\r\n                                    {\r\n                                        pageData.props.pageSetting.permissions.memberRoles.map(role => {\r\n                                            return role;\r\n                                        }).join(\" \")\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        }\r\n\r\n                        {\r\n                            this.state.roleAnchor &&\r\n                            <Menu\r\n                                style={{\r\n                                    zIndex: 99999999999,\r\n                                }}\r\n                                anchorEl={this.state.roleAnchor}\r\n                                open={this.state.roleAnchor !== undefined}\r\n                                onClose={(e) => {\r\n                                    this.setState({roleAnchor: undefined})\r\n                                }}\r\n                                MenuListProps={{\r\n                                    style: {\r\n                                        padding: 0,\r\n                                    }\r\n                                }}\r\n                            >\r\n                                <MenuItem dense disabled style={{\r\n                                    opacity: 1\r\n                                }}>\r\n                                    <span className=\"PermissionsSelectRole\">\r\n                                        Select roles\r\n                                    </span>\r\n                                </MenuItem>\r\n\r\n                                {\r\n                                    siteData.allApps.member.setting.roles.map(role => {\r\n                                        return (\r\n                                            <MenuItem dense onClick={(e) => {\r\n                                                this.onRoleChange(!(pageData.props.pageSetting.permissions.memberRoles\r\n                                                    .findIndex(r => r === role) > -1), role);\r\n                                            }}\r\n                                                      key={role}\r\n                                                      style={{\r\n                                                          paddingTop: 0,\r\n                                                          paddingBottom: 0\r\n                                                      }}\r\n                                            >\r\n                                                <Checkbox\r\n                                                    size={'small'}\r\n                                                    checked={\r\n                                                        pageData.props.pageSetting.permissions.memberRoles\r\n                                                            .findIndex(r => r === role) > -1\r\n                                                    }\r\n                                                    onChange={(e) => {\r\n                                                        this.onRoleChange(e.target.checked, role);\r\n                                                    }}\r\n                                                    color=\"default\"\r\n                                                />\r\n                                                <span className=\"PermissionsRole\">\r\n                                                    {role}\r\n                                                </span>\r\n                                            </MenuItem>\r\n                                        )\r\n                                    })\r\n                                }\r\n\r\n                                <MenuItem dense onClick={(e) => {\r\n                                    // TODO connect to member manager\r\n                                    console.log(\"Soon\")\r\n                                }}\r\n                                >\r\n                                    <span className=\"PermissionsNewRole\">\r\n                                        Add New Role\r\n                                    </span>\r\n                                </MenuItem>\r\n                            </Menu>\r\n                        }\r\n\r\n                        {\r\n                            pageData.props.pageSetting.permissions.memberType === \"pay\" &&\r\n                            <div className=\"PageInfoBox\">\r\n                                <span className=\"PageInfoBoxTitle\">\r\n                                    Coming soon\r\n                                </span>\r\n\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './PageSetting.css';\r\nimport '../PageManager.css';\r\nimport Switch from \"@material-ui/core/Switch/Switch\";\r\nimport {EditorContext} from \"../../../Editor/EditorContext\";\r\n\r\nexport default class SeoGoogle extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    onChangeSeoSetting = (param) => (e, value) => {\r\n        let {pageData} = this.props;\r\n\r\n        value = value || e.target.value;\r\n        console.log(\"onChangeSeoSetting\", value, param);\r\n        if (param === \"endUrl\") {\r\n            if (!this.newEndUrl)\r\n                return;\r\n\r\n            value = this.newEndUrl.replace(/\\s+/g, '').toLowerCase();\r\n            let siteData = this.context.siteData;\r\n            let same = Object.values(siteData.allPages).find(p => p.props.pageSetting.seoGoogle.endUrl === value);\r\n            if (same) {\r\n                console.log(\"onChangeSeoSetting2\");\r\n                this.setState({endUrlError: true});\r\n                delete this.newEndUrl;\r\n                return;\r\n            }\r\n\r\n            delete this.newEndUrl;\r\n        }\r\n\r\n        pageData.props.pageSetting.seoGoogle[param] = value;\r\n\r\n        this.context.update();\r\n    };\r\n\r\n    render () {\r\n        let {pageData} = this.props;\r\n        let siteData = this.context.siteData;\r\n        return (\r\n            <div className=\"PageSettingTabPanelRoot\">\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        Preview on Google search\r\n                    </span>\r\n\r\n                    <div className=\"SeoGooglePreviewRoot\">\r\n                        <span className=\"SeoGooglePreviewTitle\">\r\n                            {\r\n                                pageData.props.pageSetting.seoGoogle.pageTitle ||\r\n                                    pageData.props.pageName\r\n                            }\r\n                        </span>\r\n                        <span className=\"SeoGooglePreviewUrl\">\r\n                            {\r\n                                siteData.setting.baseUrl + (\r\n                                    pageData.props.pageSetting.seoGoogle.endUrl ||\r\n                                    pageData.props.pageName.toLowerCase()\r\n                                )\r\n                            }\r\n                        </span>\r\n                        <span className=\"SeoGooglePreviewDesc\">\r\n                            {\r\n                                pageData.props.pageSetting.seoGoogle.pageDescription\r\n                            }\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        What's the lat part (or slug) of url?\r\n                    </span>\r\n\r\n                    <input\r\n                        defaultValue={pageData.props.pageSetting.seoGoogle.endUrl || pageData.props.pageName.toLowerCase()}\r\n                        className={`PageSettingInput PageManagerRenameInput PageInfoNameInput ${\r\n                            this.state.endUrlError? 'PageInfoNameInputError': \"\"\r\n                        }`}\r\n                        type=\"text\"\r\n                        onChange={(e) => {\r\n                            this.newEndUrl = e.target.value;\r\n                            this.setState({endUrlError: undefined});\r\n                        }}\r\n                        onBlur={this.onChangeSeoSetting(\"endUrl\")}\r\n                        onKeyPress={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.onChangeSeoSetting(\"endUrl\")(e);\r\n                            }\r\n                        }}\r\n                    >\r\n                    </input>\r\n                </div>\r\n\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        What's the page's title on search results and browser tabs?\r\n                    </span>\r\n\r\n                    <input\r\n                        defaultValue={pageData.props.pageSetting.seoGoogle.pageTitle || pageData.props.pageName}\r\n                        className=\"PageSettingInput PageManagerRenameInput PageInfoNameInput\"\r\n                        type=\"text\"\r\n                        onChange={(e) => {\r\n                            this.newPageTitle = e.target.value;\r\n                        }}\r\n                        onBlur={(e) => {\r\n                            this.onChangeSeoSetting(\"pageTitle\")(e, this.newPageTitle);\r\n                        }}\r\n                        onKeyPress={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.onChangeSeoSetting(\"pageTitle\")(e, this.newPageTitle);\r\n                            }\r\n                        }}\r\n                    >\r\n                    </input>\r\n                </div>\r\n\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        What's the page about? Add a description\r\n                    </span>\r\n\r\n                    <textarea\r\n                        defaultValue={pageData.props.pageSetting.seoGoogle.pageDescription}\r\n                        className=\"PageSettingInput PageManagerRenameInput PageInfoNameInput\"\r\n                        style={{\r\n                            resize: \"none\",\r\n                            minHeight: 120\r\n                        }}\r\n                        onChange={(e) => {\r\n                            this.newPageDescription = e.target.value;\r\n                        }}\r\n                        onBlur={(e) => {\r\n                            this.onChangeSeoSetting(\"pageDescription\")(e, this.newPageDescription);\r\n                        }}\r\n                        onKeyPress={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.onChangeSeoSetting(\"pageDescription\")(e, this.newPageDescription);\r\n                            }\r\n                        }}\r\n                        rows={5}\r\n                    >\r\n                    </textarea>\r\n                </div>\r\n\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        Show this page in search results\r\n                    </span>\r\n\r\n                    <Switch\r\n                        className=\"SeoGoogleShowInSearch\"\r\n                        checked={\r\n                            pageData.props.pageSetting.permissions.type === \"Everyone\" ?\r\n                            pageData.props.pageSetting.seoGoogle.showInSearch: false\r\n                        }\r\n                        disabled={pageData.props.pageSetting.permissions.type !== \"Everyone\"}\r\n                        onChange={(e) => {\r\n                            let checked = e.target.checked;\r\n                            this.onChangeSeoSetting('showInSearch')(e, checked);\r\n                        }}\r\n                    />\r\n                </div>\r\n\r\n                {\r\n                    pageData.props.pageSetting.permissions.type !== \"Everyone\" &&\r\n                    <div className=\"PageInfoBox\">\r\n                        <span className=\"PageInfoBoxTitle\">\r\n                            Note: Youve made changes to who can view this page, so it wont show in search results. Go to the Permissions tab to change this.\r\n                        </span>\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './PageSetting.css';\r\nimport '../PageManager.css';\r\nimport Image from \"../../../Menus/CommonComponents/Image\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport {EditorContext} from \"../../../Editor/EditorContext\";\r\n\r\nexport default class SocialShare extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    onChangeSocialShareSetting = (param) => (e, value) => {\r\n        let {pageData} = this.props;\r\n\r\n        value = value || e.target.value;\r\n        pageData.props.pageSetting.socialShare[param] = value;\r\n\r\n        this.context.update();\r\n    };\r\n\r\n    render () {\r\n        let {pageData} = this.props;\r\n        let siteData = this.context.siteData;\r\n        return (\r\n            <div className=\"PageSettingTabPanelRoot\">\r\n                <div className=\"PageInfoBox\">\r\n                    <div className=\"SocialShareTitle\">\r\n                        What is Social Share\r\n                    </div>\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        Add the text and image that display when this page is shared on social networks like Facebook, Instagram and more.\r\n                    </span>\r\n                </div>\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        Preview on social\r\n                    </span>\r\n\r\n                    <div className=\"SocialPreviewBox\">\r\n                        <div className=\"SocialPreviewRoot\">\r\n                            <span className=\"SocialPreviewImageNoImage\">\r\n                                {\r\n                                    pageData.props.pageSetting.socialShare.imageUrl &&\r\n                                    <Image\r\n                                        className=\"SocialPreviewImage\"\r\n                                        src={pageData.props.pageSetting.socialShare.imageUrl}\r\n                                    />\r\n                                }\r\n\r\n                                <Button\r\n                                    className=\"SocialPreviewImageSelect\"\r\n                                >\r\n                                    Upload or Select an Image\r\n                                </Button>\r\n                            </span>\r\n                            <div className=\"SocialPreviewDetailBox\">\r\n                                <span className=\"SocialPreviewUrl\">\r\n                                    {\r\n                                        siteData.setting.baseUrl.substring(0, siteData.setting.baseUrl.lastIndexOf('/'))\r\n                                            .replace(/(^\\w+:|^)\\/\\//, '')\r\n\r\n                                    }\r\n                                </span>\r\n                                <span className=\"SocialPreviewTitle\">\r\n                                    {\r\n                                        pageData.props.pageSetting.socialShare.title ||\r\n                                        pageData.props.pageSetting.seoGoogle.pageTitle\r\n                                    }\r\n                                </span>\r\n                                <span className=\"SocialPreviewDescription\">\r\n                                    {\r\n                                        pageData.props.pageSetting.socialShare.description ||\r\n                                        pageData.props.pageSetting.seoGoogle.pageDescription\r\n                                    }\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        What's the page's title on social networks?\r\n                    </span>\r\n\r\n                    <input\r\n                        defaultValue={pageData.props.pageSetting.socialShare.title ||\r\n                            pageData.props.pageSetting.seoGoogle.pageTitle || pageData.props.pageName}\r\n                        className=\"PageSettingInput PageManagerRenameInput PageInfoNameInput\"\r\n                        type=\"text\"\r\n                        onChange={(e) => {\r\n                            this.newTitle = e.target.value;\r\n                        }}\r\n                        onBlur={(e) => {\r\n                            this.onChangeSocialShareSetting(\"title\")(e, this.newTitle);\r\n                        }}\r\n                        onKeyPress={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.onChangeSocialShareSetting(\"title\")(e, this.newTitle);\r\n                            }\r\n                        }}\r\n                    >\r\n                    </input>\r\n                </div>\r\n\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        What's the page about? Add a description\r\n                    </span>\r\n\r\n                    <textarea\r\n                        defaultValue={pageData.props.pageSetting.socialShare.description ||\r\n                            pageData.props.pageSetting.seoGoogle.pageDescription}\r\n                        className=\"PageSettingInput PageManagerRenameInput PageInfoNameInput\"\r\n                        style={{\r\n                            resize: \"none\",\r\n                            minHeight: 120\r\n                        }}\r\n                        onChange={(e) => {\r\n                            this.newDescription = e.target.value;\r\n                        }}\r\n                        onBlur={(e) => {\r\n                            this.onChangeSocialShareSetting(\"description\")(e, this.newDescription);\r\n                        }}\r\n                        onKeyPress={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.onChangeSocialShareSetting(\"description\")(e, this.newDescription);\r\n                            }\r\n                        }}\r\n                        rows={5}\r\n                    >\r\n                    </textarea>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './PageSetting.css';\r\nimport '../PageManager.css';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport IconButton from \"../../../HelperComponents/IconButton\";\r\nimport Tabs from \"@material-ui/core/Tabs/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab/Tab\";\r\nimport PageInfo from \"./PageInfo\";\r\nimport Permissions from \"./Permissions\";\r\nimport SeoGoogle from \"./SeoGoogle\";\r\nimport SocialShare from \"./SocialShare\";\r\n\r\nexport default class PageSetting extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            tabValue: \"Page Info\"\r\n        }\r\n    }\r\n\r\n    onChangeTab = (e, tabValue) => {\r\n        this.setState({tabValue});\r\n    };\r\n\r\n    render () {\r\n        let {pageData} = this.props;\r\n        return (\r\n            <Modal\r\n                open={this.props.open}\r\n                onClose={this.props.onClose}\r\n                aria-labelledby=\"simple-modal-title\"\r\n                aria-describedby=\"simple-modal-description\"\r\n                className=\"PageSettingModal\"\r\n                disableBackdropClick\r\n            >\r\n                <div className=\"PageSettingRoot\">\r\n                    {/*Header*/}\r\n                    <div className=\"PageSettingHeader\">\r\n                        <div\r\n                            className=\"PageManagerHeaderContainer\"\r\n                        >\r\n                            <span className=\"PageManagerHeaderTitle\">\r\n                                Page Setting ({pageData.props.pageName})\r\n                            </span>\r\n\r\n                            <IconButton\r\n                                onClick={this.props.onClose}\r\n                            >\r\n                                <img\r\n                                    draggable={false}\r\n                                    width={12}\r\n                                    height={12}\r\n                                    src={require('../../../icons/close.svg')}\r\n                                />\r\n                            </IconButton>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <Tabs\r\n                        className=\"PageSettingTabBox\"\r\n                        value={this.state.tabValue}\r\n                        indicatorColor=\"primary\"\r\n                        textColor=\"primary\"\r\n                        onChange={this.onChangeTab}\r\n                        aria-label=\"disabled tabs example\"\r\n                    >\r\n                        <Tab label=\"Page Info\" value=\"Page Info\" className=\"PageSettingTab\"/>\r\n                        <Tab label=\"Permissions\" value=\"Permissions\" className=\"PageSettingTab\"/>\r\n                        <Tab label=\"SEO (Google)\" value=\"SEO (Google)\" className=\"PageSettingTab\"/>\r\n                        <Tab label=\"Social Share\" value=\"Social Share\" className=\"PageSettingTab\"/>\r\n                        <Tab label=\"Advanced SEO\" value=\"Advanced SEO\" className=\"PageSettingTab\"/>\r\n\r\n                    </Tabs>\r\n\r\n                    {\r\n                        this.state.tabValue === \"Page Info\" &&\r\n                        <PageInfo\r\n                            pageData={pageData}\r\n                        />\r\n                    }\r\n\r\n                    {\r\n                        this.state.tabValue === \"Permissions\" &&\r\n                        <Permissions\r\n                            pageData={pageData}\r\n                        />\r\n                    }\r\n\r\n                    {\r\n                        this.state.tabValue === \"SEO (Google)\" &&\r\n                        <SeoGoogle\r\n                            pageData={pageData}\r\n                        />\r\n                    }\r\n\r\n                    {\r\n                        this.state.tabValue === \"Social Share\" &&\r\n                        <SocialShare\r\n                            pageData={pageData}\r\n                        />\r\n                    }\r\n\r\n                    {\r\n                        this.state.tabValue === \"Advanced SEO\" &&\r\n                        <div style={{\r\n                            height: \"100%\",\r\n                            display: \"flex\",\r\n                            alignItems: \"center\",\r\n                            justifyContent: \"center\",\r\n                            fontSize: 12,\r\n                            fontWeight: \"bold\"\r\n                        }}>\r\n                            Coming Soon\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './PageManager.css';\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport Image from \"../../Menus/CommonComponents/Image\";\r\nimport Menu from \"@material-ui/core/Menu/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem/MenuItem\";\r\nimport classNames from \"classnames\";\r\nimport {cloneObject} from \"../../AwesomeGridLayoutUtils\";\r\nimport PageSetting from \"./PageSetting/PageSetting\";\r\nimport {v4 as uuidv4} from \"uuid\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport {resolveDefaultMenu} from \"../../MenuManager/MenuManager\";\r\n\r\nexport default class PageItem extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            pageMenuAnchorEl: undefined\r\n        };\r\n\r\n        this.renameInput = React.createRef();\r\n    }\r\n\r\n    duplicate = () => {\r\n        // TODO ask verify\r\n        let {pageData, editor} = this.props;\r\n\r\n        let newName = `${pageData.props.pageName}(Copy)`;\r\n        let newId = uuidv4();\r\n\r\n        this.context.siteData.allPages[newId] = cloneObject(pageData);\r\n        this.context.siteData.allPages[newId].props.pageName = newName;\r\n        this.context.siteData.allPages[newId].props.pageId = newId;\r\n        delete this.context.siteData.allPages[newId].props.isHome;\r\n\r\n        this.setState({pageMenuAnchorEl: undefined});\r\n        editor.setState({reload: true});\r\n    };\r\n\r\n    delete = () => {\r\n        // TODO ask verify\r\n        let {pageData, editor} = this.props;\r\n\r\n        delete this.context.siteData.allPages[pageData.props.pageId];\r\n\r\n        this.setState({pageMenuAnchorEl: undefined});\r\n\r\n        console.log(\"delete\", Object.keys(this.context.siteData.allPages)[0])\r\n        if (this.context.pageData === pageData)\r\n            editor.onPageChange(Object.keys(this.context.siteData.allPages)[0], true);\r\n\r\n        resolveDefaultMenu(this.context.siteData);\r\n\r\n        this.context.update();\r\n    };\r\n\r\n    setAsHome = () => {\r\n        let {pageData, editor} = this.props;\r\n        let home = Object.values(this.context.siteData.allPages).find(p => {return p.props.isHome});\r\n\r\n        if (home)\r\n            delete home.props.isHome;\r\n        pageData.props.isHome = true;\r\n\r\n        this.setState({pageMenuAnchorEl: undefined});\r\n        editor.setState({reload: true});\r\n    };\r\n\r\n    setting = (active) => {\r\n        this.setState({setting: active, pageMenuAnchorEl: undefined});\r\n    };\r\n\r\n    rename = (active) => {\r\n        this.setState({rename: active, pageMenuAnchorEl: undefined}, () => {\r\n            if (active)\r\n                this.renameInput.current.focus();\r\n        });\r\n\r\n        if (!active) {\r\n            let {pageData, editor} = this.props;\r\n\r\n            if (this.newPageName === pageData.props.pageName)\r\n                return;\r\n\r\n            if (!this.newPageName) {\r\n                // TODO show error\r\n                return;\r\n            }\r\n\r\n            pageData.props.pageName = this.newPageName;\r\n            this.newPageName = undefined;\r\n\r\n            editor.setState({reload: true});\r\n        }\r\n\r\n        resolveDefaultMenu(this.context.siteData);\r\n    };\r\n\r\n    onRename = (e) => {\r\n        this.newPageName = e.target.value;\r\n    };\r\n\r\n    render () {\r\n        let {pageData, onClick, editor} = this.props;\r\n        let boxClasses = classNames(\r\n            \"PageManagerNormalPageBox\",\r\n            this.context.pageData === pageData && \"PageManagerNormalPageBoxSelected\"\r\n        );\r\n        return (\r\n            <div className={boxClasses} key={pageData.props.pageId}\r\n            >\r\n                {\r\n                    !this.state.rename &&\r\n                    <span className=\"PageManagerNormalPageTitle\">\r\n                        {pageData.props.pageName}\r\n                    </span>\r\n                }\r\n\r\n                <div className=\"PageManagerNormalPageClick\" onClick={onClick}>\r\n\r\n                </div>\r\n\r\n                {\r\n                    this.state.rename &&\r\n                    <input\r\n                        ref={this.renameInput}\r\n                        defaultValue={pageData.props.pageName}\r\n                        className=\"NumberInput PageManagerRenameInput\"\r\n                        type=\"text\"\r\n                        onChange={this.onRename}\r\n                        onBlur={(e) => this.rename(false)}\r\n                        onKeyPress={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.rename(false)\r\n                            }\r\n                        }}\r\n                        onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            e.preventDefault();\r\n                            // TODO\r\n                        }}\r\n                    >\r\n                    </input>\r\n                }\r\n\r\n                {\r\n                    pageData.props.isHome &&\r\n                    <IconButton\r\n                        className=\"PageManagerNormalSiteButton\"\r\n                        onClick={(e) => {\r\n                            // TODO\r\n                        }}\r\n                        disabled\r\n                    >\r\n                        <Image\r\n                            src={process.env.PUBLIC_URL + '/static/icon/home.svg'}\r\n                            width={16}\r\n                            height={16}\r\n                        />\r\n                    </IconButton>\r\n                }\r\n\r\n                <IconButton\r\n                    className=\"PageManagerNormalSiteButton\"\r\n                    onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                        this.setState({pageMenuAnchorEl: e.target})\r\n                    }}\r\n                >\r\n                    <Image\r\n                        src={process.env.PUBLIC_URL + '/static/icon/more-black.svg'}\r\n                        width={16}\r\n                        height={16}\r\n                    />\r\n                </IconButton>\r\n\r\n                {\r\n                    this.state.pageMenuAnchorEl &&\r\n                    <Menu\r\n                        style={{\r\n                            zIndex: 99999999999\r\n                        }}\r\n                        anchorEl={this.state.pageMenuAnchorEl}\r\n                        open={this.state.pageMenuAnchorEl !== undefined}\r\n                        onClose={(e) => {\r\n                            e.stopPropagation();\r\n                            e.preventDefault();\r\n                            this.setState({pageMenuAnchorEl: undefined});\r\n                        }}\r\n                        MenuListProps={{\r\n                            style: {\r\n                                padding: 0,\r\n                            }\r\n                        }}\r\n                    >\r\n                        <MenuItem dense onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            e.preventDefault();\r\n                            this.setting(true);\r\n                        }}\r\n                        >\r\n                            Setting\r\n                        </MenuItem>\r\n                        <MenuItem dense onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            e.preventDefault();\r\n                            this.rename(true)\r\n                        }}>\r\n                            Rename\r\n                        </MenuItem>\r\n                        <MenuItem dense onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            e.preventDefault();\r\n                            this.duplicate(true)\r\n                        }}\r\n                        >\r\n                            Duplicate\r\n                        </MenuItem>\r\n                        {\r\n                            !pageData.props.isHome &&\r\n                            <MenuItem dense onClick={(e) => {\r\n                                e.stopPropagation();\r\n                                e.preventDefault();\r\n                                this.delete()\r\n                            }}\r\n                            >\r\n                                Delete\r\n                            </MenuItem>\r\n                        }\r\n                        {\r\n                            !pageData.props.isHome && !pageData.props.isDynamic &&\r\n                            <MenuItem dense onClick={(e) => {\r\n                                e.stopPropagation();\r\n                                e.preventDefault();\r\n                                this.setAsHome()\r\n                            }}\r\n                            >\r\n                                Set as Home Page\r\n                            </MenuItem>\r\n                        }\r\n                        <MenuItem dense onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            e.preventDefault();\r\n                            this.setState({pageMenuAnchorEl: undefined});\r\n                            onClick();\r\n                        }} >\r\n                            Edit Page\r\n                        </MenuItem>\r\n                    </Menu>\r\n                }\r\n\r\n                {\r\n                    this.state.setting &&\r\n                    <PageSetting\r\n                        open={this.state.setting !== undefined}\r\n                        onClose={() => this.setState({setting: undefined})}\r\n                        pageData={pageData}\r\n                        editor={editor}\r\n                    />\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './AddNewPageDialogItem.css';\r\n\r\nexport default class AddNewPageDialogItem extends React.Component {\r\n    render () {\r\n        return (\r\n            <div className=\"AddNewPageDialogItemRoot\">\r\n                <span className=\"AddNewPageDialogItemTitle\">\r\n                    {this.props.title}\r\n                </span>\r\n\r\n                <span className=\"AddNewPageDialogItemDesc\">\r\n                    {this.props.description}\r\n                </span>\r\n\r\n                <span className=\"AddNewPageDialogItemAdd\">\r\n                    Add\r\n                </span>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './PageManager.css';\r\nimport Menu from \"@material-ui/core/Menu/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem/MenuItem\";\r\nimport AddNewPageDialogItem from \"./AddNewPageDialogItem\";\r\n\r\nexport default class AddNewPageDialog extends React.Component {\r\n    addNormalPage = () => {\r\n        this.props.onClose();\r\n        this.props.onAddNormalPage();\r\n    };\r\n\r\n    addDynamicPage = () => {\r\n        this.props.onClose();\r\n        this.props.onAddDynamicPage();\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <Menu\r\n                style={{\r\n                    zIndex: 99999999999,\r\n                }}\r\n                anchorEl={this.props.anchorEl}\r\n                open={this.props.open}\r\n                onClose={(e) => {\r\n                    this.props.onClose();\r\n                }}\r\n                MenuListProps={{\r\n                    style: {\r\n                        padding: 0,\r\n                    }\r\n                }}\r\n            >\r\n                <MenuItem dense onClick={(e) => {\r\n                    this.addNormalPage();\r\n                }}\r\n                >\r\n                    <AddNewPageDialogItem\r\n                        title={\"Page\"}\r\n                        description={\"Add a standard blank page\"}\r\n                    />\r\n                </MenuItem>\r\n                <MenuItem dense onClick={(e) => {\r\n                    this.addDynamicPage();\r\n                }}>\r\n                    <AddNewPageDialogItem\r\n                        title={\"Dynamic Page\"}\r\n                        description={\"Design once and generate a lot of different page\"}\r\n                    />\r\n                </MenuItem>\r\n            </Menu>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './PageManager.css';\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport Image from \"../../Menus/CommonComponents/Image\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\nimport PageTypeTitle from \"./PageTypeTitle\";\r\nimport PageItem from \"./PageItem\";\r\nimport AddNewPageDialog from \"./AddNewPageDialog\";\r\nimport {v4 as uuidv4} from \"uuid\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport {resolveDefaultMenu} from \"../../MenuManager/MenuManager\";\r\n\r\nexport default class PageManager extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            percent: props.open ? 100 : 0,\r\n            openNormalPage: true,\r\n            openDynamicPage: false\r\n        };\r\n\r\n        this.opening = false;\r\n        this.closing = false;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n\r\n\r\n    open = () => {\r\n        this.opening = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.setState({ open: true});\r\n        this.openInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.openInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent += (this.props.speed * this.props.interval / 1000);\r\n            if (percent >= 100) {\r\n                this.opening = false;\r\n                clearInterval(this.openInterval);\r\n            }\r\n            percent = Math.min(100, percent);\r\n            this.setState({percent});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    close = (force) => {\r\n        this.closing = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.setState({ open: false});\r\n        if (force) {\r\n            this.setState({percent: 0});\r\n            return;\r\n        }\r\n        this.closeInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.closeInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent -= (this.props.speed * this.props.interval / 1000);\r\n            if (percent <= 0) {\r\n                this.closing = false;\r\n                clearInterval(this.closeInterval);\r\n            }\r\n            percent = Math.max(0, percent);\r\n            this.setState({percent});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    toggle = (force) => {\r\n        let toggleState = !this.state.open;\r\n        this.state.open ? this.close(force) : this.open();\r\n\r\n        return toggleState;\r\n    };\r\n\r\n    onChangeSearch = (e) => {\r\n        let searchValue = e.target.value;\r\n        this.setState({searchValue});\r\n    };\r\n\r\n    getFilteredPages = () => {\r\n        let {siteData} = this.context;\r\n        return Object.keys(siteData.allPages).filter(siteId => {\r\n            if (!this.state.searchValue)\r\n                return true;\r\n\r\n            let pageData = siteData.allPages[siteId];\r\n\r\n            return pageData.props.pageName.toLowerCase().includes(this.state.searchValue.toLowerCase());\r\n        }).map(siteId => {\r\n            return siteData.allPages[siteId];\r\n        });\r\n    };\r\n\r\n    onPageClick = (pageData) => {\r\n        this.context.setPageData(pageData.props.pageId);\r\n    };\r\n\r\n    onAddNormalPage = () => {\r\n        let {siteData} = this.context;\r\n\r\n        if (!this.props.newPageDataUrl) {\r\n            fetch('/static/json/newPageData.json')\r\n                .then((r) => r.json())\r\n                .then((pageData) =>{\r\n                    let newName = \"New Page\";\r\n                    let newId = uuidv4();\r\n\r\n                    pageData.props.pageName = newName;\r\n                    pageData.props.pageId = newId;\r\n\r\n                    siteData.allPages[newId] = pageData;\r\n\r\n                    resolveDefaultMenu(siteData);\r\n\r\n                    this.onPageClick(siteData.allPages[newId]);\r\n                });\r\n            // return;\r\n        }\r\n    };\r\n\r\n    onAddDynamicPage = (data) => {\r\n        // TODO\r\n    };\r\n\r\n    render() {\r\n        let {siteData} = this.context;\r\n\r\n        if (!siteData)\r\n            return null;\r\n\r\n        return (\r\n            <>\r\n                <div\r\n                    className=\"PageManagerRoot\"\r\n                    style={{\r\n                        left: `${this.state.percent - 100}%`,\r\n                        opacity: this.state.percent / 100\r\n                    }}\r\n                    onContextMenu={(e) => {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }}\r\n                >\r\n                    {/*Header*/}\r\n                    <div className=\"PageManagerHeader\">\r\n                        <div\r\n                            className=\"PageManagerHeaderContainer\"\r\n                        >\r\n                            <span className=\"PageManagerHeaderTitle\">\r\n                                Site Pages\r\n                            </span>\r\n\r\n                            <IconButton\r\n                                onClick={() => {\r\n                                    this.context.toggleRightMenu(\"pageManager\", false);\r\n                                }}\r\n                            >\r\n                                <img\r\n                                    draggable={false}\r\n                                    width={12}\r\n                                    height={12}\r\n                                    src={require('../../icons/close.svg')}\r\n                                />\r\n                            </IconButton>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/*Search box*/}\r\n                    <div className=\"PageManagerSearchBox\">\r\n                        <input\r\n                            className=\"NumberInput PageManagerSearchInput\"\r\n                            type=\"text\"\r\n                            onChange={this.onChangeSearch}\r\n                        >\r\n                        </input>\r\n\r\n                        <Image\r\n                            className=\"PageManagerSearchImage\"\r\n                            src={process.env.PUBLIC_URL + '/static/icon/search.svg'}\r\n                        />\r\n                    </div>\r\n\r\n                    {/*Sites list*/}\r\n\r\n                    <PageTypeTitle\r\n                        defaultOpen={this.state.openNormalPage}\r\n                        title=\"Main Pages\" onChange={(openNormalPage) => {\r\n                        this.setState({openNormalPage});\r\n                    }}/>\r\n\r\n                    <div className=\"PageManagerNormalPageList\">\r\n                        {\r\n                            this.state.openNormalPage &&\r\n                            this.getFilteredPages().map(pageData => {\r\n                                return (\r\n                                    <PageItem\r\n                                        key={pageData.props.pageId}\r\n                                        pageData={pageData}\r\n                                        onClick={(e) => {\r\n                                            this.onPageClick(pageData);\r\n                                        }}\r\n                                        editor={this.props.editor}\r\n                                    />\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n\r\n\r\n                    <ButtonBase className=\"PageManagerAddPageButton\"\r\n                        onClick={(e) => {\r\n                            this.setState({showAddPage: e.target})\r\n                        }}\r\n                    >\r\n                        Add New Page\r\n                    </ButtonBase>\r\n\r\n                    {\r\n                        this.state.showAddPage &&\r\n                        <AddNewPageDialog\r\n                            anchorEl={this.state.showAddPage}\r\n                            open={this.state.showAddPage !== undefined}\r\n                            onClose={(e) => {\r\n                                this.setState({showAddPage: undefined})\r\n                            }}\r\n                            onAddDynamicPage={this.onAddDynamicPage}\r\n                            onAddNormalPage={this.onAddNormalPage}\r\n                        />\r\n                    }\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nPageManager.defaultProps = {\r\n    open: false,\r\n    speed: 800,\r\n    interval: 5\r\n};\r\n","import React from \"react\";\r\nimport './ThemeManager.css';\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport Image from \"../../Menus/CommonComponents/Image\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class ThemeTextItem extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n    onEditClick = (e) => {\r\n\r\n    };\r\n\r\n    render() {\r\n        let {item} = this.props;\r\n        let {siteData} = this.context;\r\n        if (!siteData)\r\n            return null;\r\n\r\n        return (\r\n            <div className=\"ThemeTextItemRoot\">\r\n                <span className=\"ThemeTextItemName\">\r\n                    {item.name}\r\n                </span>\r\n                <span className=\"ThemeTextItemDetail\">\r\n                    {item.font}, {item.fontSize}px\r\n                </span>\r\n                <span style={{\r\n                    fontFamily: `${item.font} Arial`,\r\n                    fontWeight: item.fontWeight,\r\n                    fontStyle: item.fontStyle,\r\n                    fontSize: Math.min(item.fontSize, 40),\r\n                    color: item.color,\r\n                    lineHeight: '1.4em'\r\n                }}>\r\n                    For Bold Creators\r\n                </span>\r\n\r\n                <IconButton\r\n                    className=\"ThemeTextItemEdit\"\r\n                    onClick={this.onEditClick}\r\n                >\r\n                    <img\r\n                        draggable={false}\r\n                        width={16}\r\n                        height={16}\r\n                        src={process.env.PUBLIC_URL + '/static/icon/edit.svg'}\r\n                    />\r\n                </IconButton>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './ThemeManager.css';\r\nimport Image from \"../../Menus/CommonComponents/Image\";\r\nimport {getColorScheme} from \"../../AwesomwGridLayoutHelper\";\r\nimport HexColorPicker from \"./HexColorPicker\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class ThemeColorsItem extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n    onEditClick = (paletteName, key, color) => (e) => {\r\n        this.setState({\r\n            toChange: {\r\n                paletteName, key, color\r\n            }\r\n        })\r\n    };\r\n\r\n    onChangeColor = (color) => {\r\n        let {editor} = this.props;\r\n        let {siteData} = this.context;\r\n        let {toChange} = this.state;\r\n        siteData.theme.Colors.items[toChange.paletteName][toChange.key] = color;\r\n\r\n        if (toChange.key === \"main\") {\r\n            siteData.theme.Colors.calculated = false;\r\n            this.context.calculateTheme(true);\r\n        }\r\n\r\n        toChange.color = color;\r\n        this.setState({toChange});\r\n        this.context.update();\r\n        // editor.setState({reload: true});\r\n    };\r\n\r\n    render() {\r\n        let {item} = this.props;\r\n        let {siteData} = this.context;\r\n        if (!siteData)\r\n            return null;\r\n\r\n        return (\r\n            <div className=\"ThemeColorsItemRoot\">\r\n                <span className=\"ThemeTextItemName\">\r\n                    {item.name}\r\n                </span>\r\n\r\n                <div className=\"ThemeColorsItemDetail\">\r\n                    <div className=\"ThemeColorsItemDetailMain\" style={{\r\n                            backgroundColor: getColorScheme(item.main)[\"3\"]\r\n                        }}\r\n                        onClick={this.onEditClick(item.name, \"main\", getColorScheme(item.main)[\"3\"])}\r\n                    >\r\n\r\n                        <Image\r\n                            className=\"ThemeColorsItemDetailOverlay\"\r\n                            style={{opacity: 1}}\r\n                            src={process.env.PUBLIC_URL + 'static/icon/edit-white.svg'}\r\n                            width={18}\r\n                            height={18}\r\n                        />\r\n                    </div>\r\n                    <div className=\"ThemeColorsItemDetailSecondary\">\r\n                        <div className=\"ThemeColorsItemDetailSecondaryItem\" style={{\r\n                            backgroundColor: item[\"1\"] || getColorScheme(item.main)[\"1\"],\r\n                            borderTopRightRadius: 4,\r\n                            borderBottomRightRadius: 4\r\n                        }}\r\n                             onClick={this.onEditClick(item.name, \"1\", item[\"1\"] || getColorScheme(item.main)[\"1\"])}\r\n                        >\r\n\r\n                            <Image\r\n                                className=\"ThemeColorsItemDetailOverlay\"\r\n                                src={process.env.PUBLIC_URL + 'static/icon/edit-white.svg'}\r\n                                width={18}\r\n                                height={18}\r\n                            />\r\n                        </div>\r\n                        <div className=\"ThemeColorsItemDetailSecondaryItem\" style={{\r\n                            backgroundColor: item[\"2\"] || getColorScheme(item.main)[\"2\"]\r\n                        }}\r\n                             onClick={this.onEditClick(item.name, \"2\", item[\"2\"] || getColorScheme(item.main)[\"2\"])}\r\n                        >\r\n\r\n                            <Image\r\n                                className=\"ThemeColorsItemDetailOverlay\"\r\n                                src={process.env.PUBLIC_URL + '/static/icon/edit-white.svg'}\r\n                                width={18}\r\n                                height={18}\r\n                            />\r\n                        </div>\r\n                        <div className=\"ThemeColorsItemDetailSecondaryItem\" style={{\r\n                            backgroundColor: item[\"3\"] || getColorScheme(item.main)[\"3\"]\r\n                        }}\r\n                             onClick={this.onEditClick(item.name, \"3\", item[\"3\"] || getColorScheme(item.main)[\"3\"])}\r\n                        >\r\n\r\n                            <Image\r\n                                className=\"ThemeColorsItemDetailOverlay\"\r\n                                src={process.env.PUBLIC_URL + '/static/icon/edit.svg'}\r\n                                width={18}\r\n                                height={18}\r\n                            />\r\n                        </div>\r\n                        <div className=\"ThemeColorsItemDetailSecondaryItem\" style={{\r\n                            backgroundColor: item[\"4\"] || getColorScheme(item.main)[\"4\"]\r\n                        }}\r\n                             onClick={this.onEditClick(item.name, \"4\", item[\"4\"] || getColorScheme(item.main)[\"4\"])}\r\n                        >\r\n\r\n                            <Image\r\n                                className=\"ThemeColorsItemDetailOverlay\"\r\n                                src={process.env.PUBLIC_URL + '/static/icon/edit.svg'}\r\n                                width={18}\r\n                                height={18}\r\n                            />\r\n                        </div>\r\n                        <div className=\"ThemeColorsItemDetailSecondaryItem\" style={{\r\n                            backgroundColor: item[\"5\"] || getColorScheme(item.main)[\"5\"],\r\n                            borderTopLeftRadius: 4,\r\n                            borderBottomLeftRadius: 4\r\n                        }}\r\n                             onClick={this.onEditClick(item.name, \"5\", item[\"5\"] || getColorScheme(item.main)[\"5\"])}\r\n                        >\r\n\r\n                            <Image\r\n                                className=\"ThemeColorsItemDetailOverlay\"\r\n                                src={process.env.PUBLIC_URL + '/static/icon/edit.svg'}\r\n                                width={18}\r\n                                height={18}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {\r\n                    this.state.toChange &&\r\n                    <HexColorPicker\r\n                        onClose={() => this.setState({toChange: undefined})}\r\n                        color={this.state.toChange.color}\r\n                        onChangeComplete={ this.onChangeColor }\r\n                        disableAlpha\r\n                        width={224}\r\n                    />\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './ThemeManager.css';\r\nimport {sortBy} from \"../../AwesomwGridLayoutHelper\";\r\nimport ThemeTextItem from \"./ThemeTextItem\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport ThemeColorsItem from \"./ThemeColorsItem\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class ThemeManager extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            percent: props.open ? 100 : 0,\r\n            // category: sortBy(Object.values(props.siteData.theme), \"order\")[0],\r\n        };\r\n\r\n        this.opening = false;\r\n        this.closing = false;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n        this.setState({\r\n            category: sortBy(Object.values(this.context.siteData.theme), \"order\")[0],\r\n        })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n    open = () => {\r\n        this.opening = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.setState({ open: true});\r\n        this.openInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.openInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent += (this.props.speed * this.props.interval / 1000);\r\n            if (percent >= 100) {\r\n                this.opening = false;\r\n                clearInterval(this.openInterval);\r\n            }\r\n            percent = Math.min(100, percent);\r\n            this.setState({percent});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    close = (force) => {\r\n        this.closing = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.setState({ open: false});\r\n        if (force) {\r\n            this.setState({percent: 0});\r\n            return;\r\n        }\r\n        this.closeInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.closeInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent -= (this.props.speed * this.props.interval / 1000);\r\n            if (percent <= 0) {\r\n                this.closing = false;\r\n                clearInterval(this.closeInterval);\r\n            }\r\n            percent = Math.max(0, percent);\r\n            this.setState({percent});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    toggle = (force) => {\r\n        let toggleState = !this.state.open;\r\n        this.state.open ? this.close(force) : this.open();\r\n\r\n        return toggleState;\r\n    };\r\n\r\n    setCategory = (category) => (e) => {\r\n        if (category !== this.state.category)\r\n            this.setState({category});\r\n    };\r\n\r\n    getColor = (paletteName, key) => {\r\n        let {siteData} = this.context;\r\n\r\n        let theme = siteData.theme;\r\n\r\n        this.context.calculateTheme(false);\r\n\r\n        return theme.Colors.items[paletteName][key];\r\n    };\r\n\r\n    render() {\r\n        let {editor} = this.props;\r\n        let {siteData, pageData} = this.context;\r\n        if (!siteData)\r\n            return null;\r\n\r\n        return (\r\n            <>\r\n                <div\r\n                    className=\"ThemeManagerRoot\"\r\n                    style={{\r\n                        left: `${this.state.percent - 100}%`,\r\n                        opacity: this.state.percent / 100\r\n                    }}\r\n                    onContextMenu={(e) => {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }}\r\n                >\r\n                    <div\r\n                        className=\"ThemeManagerList\"\r\n                    >\r\n                        {\r\n                            sortBy(Object.values(siteData.theme), \"order\").map(category => {\r\n                                let style = {};\r\n                                if (category === this.state.category)\r\n                                    style.backgroundColor = \"#e5ffff\";\r\n                                return (\r\n                                    <div\r\n                                        key={category.name}\r\n                                        className=\"ThemeManagerCategoryItem\"\r\n                                        onClick={this.setCategory(category)}\r\n                                        style={style}\r\n                                    >\r\n                                        {category.name}\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n\r\n                    {\r\n                        this.state.category &&\r\n                        <div className=\"ThemeManagerItemRoot\">\r\n                            {/*Header*/}\r\n                            <div\r\n                                className=\"ThemeManagerItemHeaderContainer\"\r\n                            >\r\n                            <span className=\"ThemeManagerItemHeaderTitle\">\r\n                                Theme\r\n                            </span>\r\n\r\n                                <IconButton\r\n                                    onClick={() => {\r\n                                        this.context.toggleRightMenu(\"themeManager\", false);\r\n                                    }}\r\n                                >\r\n                                    <img\r\n                                        draggable={false}\r\n                                        width={12}\r\n                                        height={12}\r\n                                        src={require('../../icons/close.svg')}\r\n                                    />\r\n                                </IconButton>\r\n                            </div>\r\n\r\n                            <div className=\"ThemeManagerItemScroll\">\r\n                                {\r\n                                    Object.keys(this.state.category.items).map(key => {\r\n                                        if (this.state.category.name === \"Text\") {\r\n                                            return (\r\n                                                <ThemeTextItem\r\n                                                    key={key}\r\n                                                    item={this.state.category.items[key]}\r\n                                                    editor={editor}\r\n                                                />\r\n                                            )\r\n                                        }\r\n                                        if (this.state.category.name === \"Colors\") {\r\n                                            return (\r\n                                                <ThemeColorsItem\r\n                                                    key={key}\r\n                                                    item={this.state.category.items[key]}\r\n                                                    editor={editor}\r\n                                                    // recalculateColors={this.context.calculateTheme()}\r\n                                                />\r\n                                            )\r\n                                        }\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nThemeManager.defaultProps = {\r\n    open: false,\r\n    speed: 1200,\r\n    interval: 5\r\n};\r\n","import React from \"react\";\r\nimport Menu from \"@material-ui/core/Menu/Menu\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport Paper from \"@material-ui/core/Paper/Paper\";\r\nimport {EditorContext} from \"../EditorContext\";\r\n\r\nexport default class EditorHeaderZoom extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <EditorContext.Consumer>\r\n                {editorContext => (\r\n                    <>\r\n                    <IconButton\r\n                        buttonBaseStyle={{\r\n                            marginLeft: 0,\r\n                            marginRight: 10,\r\n                            backgroundColor: this.state.zoomSetting && \"#d2fffc\",\r\n                        }}\r\n                        onClick={(e) => {\r\n                            this.setState({zoomSetting: e.currentTarget});\r\n                        }}\r\n                    >\r\n                        <img\r\n                            draggable={false}\r\n                            width={18}\r\n                            height={18}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/zoom-in.svg'}\r\n                        />\r\n\r\n                    </IconButton>\r\n\r\n                    {\r\n                        this.state.zoomSetting &&\r\n                        <Menu\r\n                            style={{\r\n                                zIndex: 99999999999,\r\n                            }}\r\n                            anchorEl={this.state.zoomSetting}\r\n                            anchorOrigin={{\r\n                                vertical: 'top',\r\n                                horizontal: 'right',\r\n                            }}\r\n                            getContentAnchorEl={null}\r\n                            anchorPosition={{ left: 0, top: 0 }}\r\n                            PaperProps={{\r\n                                style:{\r\n                                    transformOrigin: \"top right\",\r\n                                    transform: `scale(${1/editorContext.zoomScale})`\r\n                                }\r\n                            }}\r\n                            marginThreshold={0}\r\n                            transformOrigin={{\r\n                                vertical: 'top',\r\n                                horizontal: 'right',\r\n                            }}\r\n                            open={true}\r\n                            onClose={(e) => {\r\n                                e.stopPropagation();\r\n                                e.preventDefault();\r\n                                this.setState({zoomSetting: undefined});\r\n                            }}\r\n                            MenuListProps={{\r\n                                style: {\r\n                                    padding: 0,\r\n                                }\r\n                            }}\r\n                            transitionDuration={0}\r\n                        >\r\n                            <Paper style={{\r\n                                padding: 10,\r\n                                display: \"flex\",\r\n                                alignItems: \"center\"\r\n                            }}>\r\n                                <IconButton\r\n                                    buttonBaseStyle={{\r\n                                        marginLeft: 0,\r\n                                        marginRight: 10,\r\n                                        pointerEvents: \"auto\"\r\n                                    }}\r\n                                    imageContainerStyle={{\r\n                                        padding: 10\r\n                                    }}\r\n                                    onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        e.preventDefault();\r\n                                        this.props.onZoomChange(Math.min(1.3, editorContext.zoomScale + 0.1));\r\n                                    }}\r\n                                >\r\n                                    <img\r\n                                        draggable={false}\r\n                                        width={14}\r\n                                        height={14}\r\n                                        src={process.env.PUBLIC_URL + '/static/icon/add.svg'}\r\n                                    />\r\n                                </IconButton>\r\n                                <span style={{\r\n                                    width: 70,\r\n                                    textAlign: \"center\"\r\n                                }}>\r\n                                    {(editorContext.zoomScale * 100).toFixed(0)}%\r\n                                </span>\r\n                                <IconButton\r\n                                    buttonBaseStyle={{\r\n                                        marginLeft: 10,\r\n                                        marginRight: 10,\r\n                                        pointerEvents: \"auto\"\r\n                                    }}\r\n                                    imageContainerStyle={{\r\n                                        padding: 10\r\n                                    }}\r\n                                    onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        e.preventDefault();\r\n                                        this.props.onZoomChange(Math.max(0.5 ,editorContext.zoomScale - 0.1));\r\n                                    }}\r\n                                >\r\n                                    <img\r\n                                        draggable={false}\r\n                                        width={14}\r\n                                        height={14}\r\n                                        src={process.env.PUBLIC_URL + '/static/icon/minus.svg'}\r\n                                    />\r\n                                </IconButton>\r\n                                <Button className=\"EditorHeaderZoomReset\"\r\n                                    onClick={(e) => {\r\n                                        this.props.onZoomChange(1);\r\n                                    }}\r\n                                >\r\n                                    Reset\r\n                                </Button>\r\n                            </Paper>\r\n                        </Menu>\r\n                    }\r\n                    </>\r\n                )}\r\n            </EditorContext.Consumer>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport {EditorContext} from \"../EditorContext\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport './EditorHeaderPageSelect.css';\r\n\r\nexport default class EditorHeaderPageSelect extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    getOptions = (editorContext) => {\r\n        let options = Object.values(editorContext.siteData.allPages).map(pageData => {\r\n            return pageData.props.pageName;\r\n        });\r\n\r\n        !editorContext.preview && options.push(\r\n            <div\r\n                className=\"EditorHeaderPageSelectPageManagerButton\"\r\n                onClick={() => {\r\n                    editorContext.toggleRightMenu(\"pageManager\", true);\r\n                }}\r\n            >\r\n                Page Manager\r\n            </div>\r\n        );\r\n\r\n        return options;\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <EditorContext.Consumer>\r\n                {editorContext => (\r\n                    <div\r\n                        {...this.props}\r\n                    >\r\n                        <DropDown\r\n                            options={editorContext.siteData ? this.getOptions(editorContext) : [\"...\"]}\r\n                            onChange={(v) => {\r\n                                let pageData = Object.values(editorContext.siteData.allPages).find(pd => {\r\n                                    return pd.props.pageName === v;\r\n                                });\r\n\r\n                                if (pageData)\r\n                                    editorContext.setPageData(pageData.props.pageId);\r\n                            }}\r\n                            value={editorContext.pageData ? editorContext.pageData.props.pageName : \"...\"}\r\n                            spanStyle={{\r\n                                width: 200,\r\n                                fontSize: 14,\r\n                                border: \"0px solid #cfcfcf\",\r\n                            }}\r\n                        />\r\n                    </div>\r\n                )}\r\n            </EditorContext.Consumer>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\n\r\nexport default class NumberInputEnterToChange extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        console.log(\"props.min\", props.min)\r\n\r\n        this.state = {};\r\n    }\r\n\r\n    inputFilter = (value, oldValue) => {\r\n        if (/^\\d+$/.test(value)) {\r\n            value = parseFloat(value).toFixed(0);\r\n            value = Math.min(this.props.max, value);\r\n            value = Math.max(this.props.min, value);\r\n            return value;\r\n        } else if (value === \"\") {\r\n            return \"0\";\r\n        }\r\n\r\n        return oldValue;\r\n    };\r\n\r\n    onChange = (e) => {\r\n        if (this.props.lazy)\r\n            return;\r\n\r\n        let value = this.inputFilter(this.state.tempValue, this.props.value);\r\n        this.props.onChange(value);\r\n        this.setState({tempValue: undefined});\r\n    };\r\n\r\n    onTempChange = (e) => {\r\n        let tempValue = e.target.value;\r\n        this.setState({tempValue});\r\n\r\n        if (this.props.lazy)\r\n            this.props.onChange(tempValue);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <input\r\n                className={\"NumberInput \" + this.props.className || \"\"}\r\n                value={this.state.tempValue || this.props.value || 0}\r\n                onChange={this.onTempChange}\r\n                onBlur={this.onChange}\r\n                onKeyPress={(e) => {\r\n                    if((e.keyCode || e.which) === 13) {\r\n                        this.onChange();\r\n                        if (this.props.onKeyPress)\r\n                            this.props.onKeyPress();\r\n                    }\r\n                }}\r\n                type=\"text\"\r\n                style={this.props.inputStyle}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\n\r\nexport const getBreakpointIcon = (bpData) => {\r\n    if (bpData.start >= 1255)\r\n        return <img draggable={false} width={24} height={24} src={process.env.PUBLIC_URL + '/static/icon/computer.svg'} />\r\n    if (bpData.start >= 1001)\r\n        return <img draggable={false} width={24} height={24} src={process.env.PUBLIC_URL + '/static/icon/laptop.svg'} />\r\n    if (bpData.start >= 751)\r\n        return <img draggable={false} width={18} height={18} src={process.env.PUBLIC_URL + '/static/icon/ipad.svg'} />\r\n\r\n    return <img draggable={false} width={16} height={16} src={process.env.PUBLIC_URL + '/static/icon/phone.svg'} />\r\n};\r\n\r\nexport const getBreakpointName = (bpData) => {\r\n    if (bpData.start >= 1255)\r\n        return 'Desktop'\r\n    if (bpData.start >= 1001)\r\n        return 'Laptop'\r\n    if (bpData.start >= 751)\r\n        return 'Tablet'\r\n\r\n    return 'Mobile'\r\n};\r\n\r\nexport const getCommonDevices = () => {\r\n    return [\r\n        {\r\n            name: \"Galaxy S7\",\r\n            start: 360\r\n        },\r\n        {\r\n            name: \"Galaxy S8/S9\",\r\n            start: 360\r\n        },\r\n        {\r\n            name: \"iPad\",\r\n            start: 768\r\n        },\r\n        {\r\n            name: \"iPad Pro\",\r\n            start: 1024\r\n        },\r\n        {\r\n            name: \"iPhone 6/7/8\",\r\n            start: 375\r\n        },\r\n        {\r\n            name: \"iPhone 6/7/8 Plus\",\r\n            start: 414\r\n        },\r\n        {\r\n            name: \"iPhone X\",\r\n            start: 375\r\n        },\r\n        {\r\n            name: \"Pixel 2\",\r\n            start: 411\r\n        },\r\n        {\r\n            name: \"Pixel 2 XL\",\r\n            start: 411\r\n        }\r\n    ];\r\n};\r\n","import React from \"react\";\r\nimport './EditorHeaderBreakpointsSettingItem.css';\r\nimport {EditorContext} from \"../EditorContext\";\r\nimport {getBreakpointIcon} from \"./BreakpointHelper\";\r\nimport NumberInputEnterToChange from \"../../Menus/CommonComponents/NumberInputEnterToChange\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport {Button} from \"@material-ui/core\";\r\nimport {v4 as uuidv4} from \"uuid\";\r\n\r\nexport default class EditorHeaderBreakpointsSettingItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            editMode: props.bpData.name? false: true\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    isHighestBp = (editorContext) => {\r\n        let {bpData} = this.props;\r\n        return editorContext.editor.breakpointmanager.getHighestBpName() === bpData.name;\r\n    };\r\n\r\n    done = (editorContext) => {\r\n        let {bpData} = this.props;\r\n\r\n        if (isNaN(this.tempEnd)) {\r\n            return;\r\n        }\r\n\r\n        this.tempEnd = parseInt(this.tempEnd);\r\n\r\n        editorContext.editor.breakpointmanager.updateBreakpoint(\r\n            bpData.name, undefined, this.tempEnd\r\n        );\r\n\r\n        this.setState({editMode: false})\r\n\r\n        editorContext.update();\r\n    };\r\n\r\n    create = (editorContext) => {\r\n        if (!this.tempEnd)\r\n            this.tempEnd = editorContext.pageSize;\r\n\r\n        if (isNaN(this.tempEnd)) {\r\n            return;\r\n        }\r\n\r\n        this.tempEnd = parseInt(this.tempEnd);\r\n\r\n        let {newBpData, prevBpData} = editorContext.editor.breakpointmanager.updateBreakpoint(\r\n            uuidv4(), this.tempEnd, undefined\r\n        );\r\n\r\n        this.props.onCancel();\r\n\r\n        editorContext.onNewBpAdded(newBpData, prevBpData);\r\n    };\r\n\r\n    delete = (editorContext) => {\r\n        let {bpData} = this.props;\r\n\r\n        editorContext.editor.breakpointmanager.deleteBreakpoint(bpData.name);\r\n\r\n        editorContext.update();\r\n    }\r\n\r\n    cancelEditMode = () => {\r\n        this.setState({editMode: false});\r\n    };\r\n\r\n    render () {\r\n        let {bpData, nextBpData} = this.props;\r\n        return (\r\n            <EditorContext.Consumer>\r\n                {editorContext => (\r\n                    <div className=\"BreakpointSettingItemRoot\">\r\n                        <div className=\"BreakpointSettingItemIcon\">\r\n                            {\r\n                                getBreakpointIcon(bpData)\r\n                            }\r\n                        </div>\r\n\r\n                        {\r\n                            bpData.name &&\r\n                            <p className=\"BreakpointSettingItemStart\">\r\n                                {bpData.start} {\r\n                                    this.isHighestBp(editorContext) ? \" & Up\" : \" -\"\r\n                                }\r\n                            </p>\r\n                        }\r\n\r\n                        {\r\n                            !this.state.editMode &&\r\n                            !this.isHighestBp(editorContext) &&\r\n                            <p className=\"BreakpointSettingItemEndText\">\r\n                                {bpData.end}\r\n                            </p>\r\n                        }\r\n\r\n                        {\r\n                            this.state.editMode &&\r\n                            !this.isHighestBp(editorContext) &&\r\n                            <NumberInputEnterToChange\r\n                                className=\"BreakpointSettingItemEndInput\"\r\n                                inputStyle={{\r\n                                    marginLeft: 0\r\n                                }}\r\n                                min={bpData.name? bpData.start + 1: 320}\r\n                                max={bpData.name? nextBpData.end - 2 : 9999}\r\n                                value={bpData.end || editorContext.pageSize}\r\n                                onChange={(tempEnd) => {\r\n                                    this.tempEnd = tempEnd;\r\n                                }}\r\n                                onKeyPress={() => {\r\n                                    bpData.name?\r\n                                        this.done(editorContext):\r\n                                        this.create(editorContext);\r\n                                }}\r\n                                lazy\r\n                            />\r\n                        }\r\n\r\n                        {\r\n                            !this.isHighestBp(editorContext) &&\r\n                            <p className=\"BreakpointSettingItemPx\">\r\n                                {\"px\"}\r\n                            </p>\r\n                        }\r\n\r\n                        {\r\n                            !this.state.editMode &&\r\n                            !this.isHighestBp(editorContext) &&\r\n                            <div className=\"BreakpointSettingItemNoneEdit\">\r\n                                <IconButton\r\n                                    onClick={() => {\r\n                                        this.delete(editorContext)\r\n                                    }}\r\n                                >\r\n                                    <img\r\n                                        draggable={false}\r\n                                        width={16}\r\n                                        height={16}\r\n                                        src={process.env.PUBLIC_URL + '/static/icon/delete.svg'}\r\n                                    />\r\n                                </IconButton>\r\n                                <IconButton\r\n                                    onClick={() => {\r\n                                        this.props.onEditMode && this.props.onEditMode();\r\n                                        this.setState({editMode: true})\r\n                                        this.tempEnd = bpData.end;\r\n                                    }}\r\n                                >\r\n                                    <img\r\n                                        draggable={false}\r\n                                        width={16}\r\n                                        height={16}\r\n                                        src={process.env.PUBLIC_URL + '/static/icon/edit2.svg'}\r\n                                    />\r\n                                </IconButton>\r\n                            </div>\r\n                        }\r\n\r\n                        {\r\n                            this.state.editMode &&\r\n                            !this.isHighestBp(editorContext) &&\r\n                            <div className=\"BreakpointSettingItemEditMode\">\r\n                                {\r\n                                    bpData.name &&\r\n                                    <Button\r\n                                        variant=\"contained\"\r\n                                        className=\"BreakpointSettingItemButtons BreakpointSettingItemDone\"\r\n                                        onClick={() => {\r\n                                            this.done(editorContext);\r\n                                        }}\r\n                                    >\r\n                                        Done\r\n                                    </Button>\r\n                                }\r\n                                {\r\n                                    !bpData.name &&\r\n                                    <Button\r\n                                        variant=\"contained\"\r\n                                        className=\"BreakpointSettingItemButtons BreakpointSettingItemDone\"\r\n                                        onClick={() => {\r\n                                            this.create(editorContext);\r\n                                        }}\r\n                                    >\r\n                                        Create\r\n                                    </Button>\r\n                                }\r\n                                <Button\r\n                                    className=\"BreakpointSettingItemButtons BreakpointSettingItemCancel\"\r\n                                    onClick={() => {\r\n                                        bpData.name ?\r\n                                            this.setState({editMode: false}) :\r\n                                            this.props.onCancel();\r\n                                    }}\r\n                                >\r\n                                    Cancel\r\n                                </Button>\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                )}\r\n            </EditorContext.Consumer>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './EditorHeaderBreakpointsSetting.css';\r\nimport {EditorContext} from \"../EditorContext\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport EditorHeaderBreakpointsSettingItem from \"./EditorHeaderBreakpointsSettingItem\";\r\nimport {Button} from \"@material-ui/core\";\r\n\r\nexport default class EditorHeaderBreakpointsSetting extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    clearEditMode = () => {\r\n        console.log(\"clearEditMode\")\r\n        Object.values(this.bpItemrRefs).forEach(bpItemRef => {\r\n            console.log(\"clearEditMode1\", bpItemRef)\r\n            if (bpItemRef.current)\r\n                bpItemRef.current.cancelEditMode();\r\n        });\r\n    };\r\n\r\n    getBpItemRef = (name) => {\r\n        if (!this.bpItemrRefs)\r\n            this.bpItemrRefs = {};\r\n\r\n        if (!this.bpItemrRefs[name])\r\n            this.bpItemrRefs[name] = React.createRef();\r\n\r\n        return this.bpItemrRefs[name];\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <EditorContext.Consumer>\r\n                {editorContext => (\r\n                    <Menu\r\n                        style={{\r\n                            zIndex: 99999999999\r\n                        }}\r\n                        anchorEl={this.props.anchorEl}\r\n                        open={true}\r\n                        onClose={(e) => {\r\n                            this.props.onClose();\r\n                        }}\r\n                        MenuListProps={{\r\n                            style: {\r\n                                padding: 0\r\n                            }\r\n                        }}\r\n                    >\r\n                        <div className=\"BpSettingRoot\">\r\n                            {/*Header*/}\r\n                            <div className=\"BpSettingHeader\">\r\n                                <div\r\n                                    className=\"BpSettingHeaderContainer\"\r\n                                >\r\n                            <span className=\"BpSettingHeaderTitle\">\r\n                                Customize Breakpoints\r\n                            </span>\r\n\r\n                                    <IconButton\r\n                                        onClick={this.props.onClose}\r\n                                    >\r\n                                        <img\r\n                                            draggable={false}\r\n                                            width={12}\r\n                                            height={12}\r\n                                            src={process.env.PUBLIC_URL + '/static/icon/close.svg'}\r\n                                        />\r\n                                    </IconButton>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <p className=\"BpSettingGuideSpan\">\r\n                                Add, edit or delete this page's breakpoints to design for different viewport sizes.\r\n                            </p>\r\n\r\n                            {\r\n                                editorContext.editor.breakpointmanager.breakpoints.map((bpData, index) => {\r\n                                    return (\r\n                                        <EditorHeaderBreakpointsSettingItem\r\n                                            key={bpData.name}\r\n                                            bpData={bpData}\r\n                                            nextBpData={editorContext.editor.breakpointmanager.breakpoints[index - 1]}\r\n                                            onEditMode={this.clearEditMode}\r\n                                            ref={this.getBpItemRef(bpData.name)}\r\n                                        />\r\n                                    )\r\n                                })\r\n                            }\r\n\r\n                            {\r\n                                this.state.newBpData &&\r\n                                <EditorHeaderBreakpointsSettingItem\r\n                                    bpData={this.state.newBpData}\r\n                                    onCancel={() => {\r\n                                        this.setState({newBpData: undefined});\r\n                                    }}\r\n                                />\r\n                            }\r\n\r\n                            <Button\r\n                                className=\"BpSettingAddBp\"\r\n                                onClick={() => {\r\n                                    this.clearEditMode();\r\n                                    this.setState({newBpData: {}});\r\n                                }}\r\n                            >\r\n                                Add New Breakpoint\r\n                            </Button>\r\n                        </div>\r\n                    </Menu>\r\n                )}\r\n            </EditorContext.Consumer>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './EditorHeaderBreakpoints.css';\r\nimport {EditorContext} from \"../EditorContext\";\r\nimport Tabs from \"@material-ui/core/Tabs/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab/Tab\";\r\nimport NumberInputEnterToChange from \"../../Menus/CommonComponents/NumberInputEnterToChange\";\r\nimport EditorHeaderBreakpointsSetting from \"./EditorHeaderBreakpointsSetting\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport {getBreakpointIcon} from \"./BreakpointHelper\";\r\n\r\nexport default class EditorHeaderBreakpoints extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    onChangeTab = (editorContext) => (e, bpName) => {\r\n        this.setState({tabValue: bpName});\r\n        console.log(\"bpName\", bpName, editorContext.editor.breakpointmanager.current())\r\n\r\n        if (editorContext.editor.breakpointmanager.current() === bpName)\r\n            return;\r\n\r\n        let bpData = editorContext.editor.breakpointmanager.getBpData(bpName);\r\n\r\n        if (!bpData)\r\n            return;\r\n\r\n        let width;\r\n        if (bpData.prefer >= bpData.start && bpData.prefer <= bpData.end)\r\n            width = bpData.prefer;\r\n        else\r\n            width = bpData.start;\r\n\r\n        editorContext.editor.onPageResize(width);\r\n    };\r\n\r\n    getTabValue = (editorContext) => {\r\n        let width = editorContext.editor.rootLayoutRef.current.getSize(false).width;\r\n        return editorContext.editor.breakpointmanager.current(width);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <EditorContext.Consumer>\r\n                {editorContext => (\r\n                    <div\r\n                        {...this.props}\r\n                    >\r\n                        {\r\n                            editorContext.editor && editorContext.editor.rootLayoutRef.current &&\r\n                            <Tabs\r\n                                className=\"EditorHeaderBreakpointsTabRoot\"\r\n                                value={\r\n                                    this.getTabValue(editorContext)\r\n                                }\r\n                                indicatorColor=\"primary\"\r\n                                textColor=\"primary\"\r\n                                onChange={this.onChangeTab(editorContext)}\r\n                                aria-label=\"disabled tabs example\"\r\n                            >\r\n                                {\r\n                                    editorContext.editor.breakpointmanager.breakpoints.map((bpData, index) => {\r\n                                        return (\r\n                                            <Tab\r\n                                                key={bpData.name}\r\n                                                className=\"EditorHeaderBreakpointsTab\"\r\n                                                label={getBreakpointIcon(bpData)}\r\n                                                value={bpData.name}\r\n                                            />\r\n                                        )\r\n                                    })\r\n                                }\r\n\r\n                            </Tabs>\r\n                        }\r\n\r\n                        {\r\n                            editorContext.editor && editorContext.editor.rootLayoutRef.current &&\r\n                            <IconButton\r\n                                buttonBaseStyle={{marginLeft: 10}}\r\n                                onClick={(e) => {\r\n                                    this.setState({settingAnchor: e.currentTarget});\r\n                                }}\r\n                            >\r\n                                <img\r\n                                    draggable={false}\r\n                                    width={18}\r\n                                    height={18}\r\n                                    src={process.env.PUBLIC_URL + '/static/icon/open-menu.svg'}\r\n                                />\r\n                            </IconButton>\r\n                        }\r\n\r\n                        <div style={{\r\n                            backgroundColor: \"#cfcfcf\",\r\n                            height: \"auto\",\r\n                            width: 1,\r\n                            marginLeft: 10\r\n                        }}>\r\n\r\n                        </div>\r\n\r\n                        {\r\n                            editorContext.editor && editorContext.editor.rootLayoutRef.current &&\r\n                            <>\r\n                                <span\r\n                                    style={{\r\n                                        marginLeft: 10,\r\n                                        display:\"flex\",\r\n                                        alignItems: \"center\",\r\n                                        fontSize: 12\r\n                                    }}\r\n                                >\r\n                                    Width\r\n                                </span>\r\n                                <NumberInputEnterToChange\r\n                                    inputStyle={{\r\n                                        marginLeft: 10\r\n                                    }}\r\n                                    min={editorContext.editor.breakpointmanager.getMinWidth()}\r\n                                    max={9999}\r\n                                    value={editorContext.editor.rootLayoutRef.current.getSize(false).width}\r\n                                    onChange={(width) => {\r\n                                        editorContext.setPageSizeWidth(width);\r\n                                    }}\r\n                                />\r\n                            </>\r\n                        }\r\n\r\n                        {\r\n                            this.state.settingAnchor &&\r\n                            <EditorHeaderBreakpointsSetting\r\n                                anchorEl={this.state.settingAnchor}\r\n                                onClose={(e) => {\r\n                                    this.setState({settingAnchor: undefined});\r\n                                }}\r\n                            />\r\n                        }\r\n                    </div>\r\n                )}\r\n            </EditorContext.Consumer>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {EditorContext} from \"../Editor/EditorContext\";\r\nimport IconButton from \"../HelperComponents/IconButton\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport './CreateMenu.css'\r\n\r\nexport default class CreateMenu extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {name: \"\"};\r\n    }\r\n\r\n    rename = (e) => {\r\n        this.setState({name: e.target.value})\r\n    }\r\n\r\n    render () {\r\n        return <Modal\r\n            open={this.props.open}\r\n            onClose={this.props.onClose}\r\n            aria-labelledby=\"simple-modal-title2\"\r\n            aria-describedby=\"simple-modal-description2\"\r\n            className=\"FileManagerModal\"\r\n            disableBackdropClick\r\n            disableEnforceFocus\r\n        >\r\n            <div className=\"CreateMenuRoot\">\r\n                {/*Header*/}\r\n                <div className=\"FileManagerHeader\">\r\n                    <div\r\n                        className=\"PageManagerHeaderContainer\"\r\n                    >\r\n                            <span className=\"PageManagerHeaderTitle\">\r\n                                {this.props.title || \"New Menu\"}\r\n                            </span>\r\n\r\n                        <IconButton\r\n                            onClick={this.props.onClose}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={12}\r\n                                height={12}\r\n                                src={require('../icons/close.svg')}\r\n                            />\r\n                        </IconButton>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"CreateMenuContainer\">\r\n                    <span className=\"CreateMenuTitle\">\r\n                        {this.props.label || \"What's menu name?\"}\r\n                    </span>\r\n                    <input\r\n                        defaultValue={this.props.defaultValue}\r\n                        className=\"NumberInput PageManagerRenameInput PageInfoNameInput\"\r\n                        type=\"text\"\r\n                        onChange={this.rename}\r\n                        onKeyPress={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                if (this.state.name.length >= 3) {\r\n                                    this.props.onClose();\r\n                                    this.props.onDone(this.state.name)\r\n                                }\r\n                            }\r\n                        }}\r\n                        autoFocus\r\n                    >\r\n                    </input>\r\n\r\n                    <div>\r\n                        <Button\r\n                            className=\"CreateMenuCreate\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            disabled={this.state.name.length < 3}\r\n                            onClick={() => {\r\n                                this.props.onClose();\r\n                                this.props.onDone(this.state.name)\r\n                            }}\r\n                        >\r\n                            {this.props.confirmLabel || \"Create\"}\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport './MenuTree.css';\r\n\r\nexport default class MenuTreeOrderer extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            hover: false\r\n        }\r\n    }\r\n\r\n    onDragOver = (e) => {\r\n        this.setState({hover: true});\r\n        this.props.onDragOver(e);\r\n    }\r\n\r\n    onDragLeave = (e) => {\r\n        this.setState({hover: false});\r\n    }\r\n\r\n    render () {\r\n        let className = \"MenuTreeOrdererRoot\";\r\n        if (this.state.hover) className += \" MenuTreeOrdererRootDropOver\";\r\n        return (\r\n            <div className={className}\r\n                 onDragOver={this.onDragOver}\r\n                 onDragLeave={this.onDragLeave}\r\n                 onClick={this.onDragLeave}\r\n                 onDrop={this.props.onDrop}\r\n            >\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport './MenuTree.css';\r\nimport MenuTreeOrderer from \"./MenuTreeOrderer\";\r\n\r\nexport default class MenuTreeItem extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            hover: false\r\n        }\r\n    }\r\n\r\n    onDragOver = (e) => {\r\n        let {menuItem} = this.props;\r\n\r\n        if (menuItem.isParent)\r\n            this.setState({hover: true});\r\n\r\n        this.props.onDragOver(e, menuItem);\r\n    }\r\n\r\n    onDragLeave = (e) => {\r\n        this.setState({hover: false});\r\n    }\r\n\r\n\r\n    render () {\r\n        let {menuItem} = this.props;\r\n        let itemClassName = \"MenuTreeItem\";\r\n        if (this.state.hover) itemClassName += \" MenuTreeItemDropOver\";\r\n\r\n        let dropableProps = menuItem.isParent ? {\r\n            onDrop: (e) => {this.props.onDrop(e, menuItem)},\r\n            onDragOver: this.onDragOver,\r\n            onDragLeave: this.onDragLeave,\r\n            onClick: this.onDragLeave,\r\n        } : {};\r\n        return (\r\n            <div\r\n                className=\"MenuTreeItemRoot\"\r\n            >\r\n                <div\r\n                    draggable\r\n                    className={itemClassName}\r\n                    onDragStart={(e) => {this.props.onDragStart(e, menuItem)}}\r\n                    {...dropableProps}\r\n                >\r\n                    {this.props.renderer(menuItem)}\r\n                </div>\r\n                {\r\n                    menuItem.isParent &&\r\n                    <div\r\n                        className=\"MenuTreeItemParentRoot\"\r\n                    >\r\n                        {\r\n                            menuItem.menuItems.length > 0 &&\r\n                            <MenuTreeOrderer\r\n                                onDragOver={(e) => {this.props.onOrderOver(e, menuItem, 0)}}\r\n                                onDrop={(e) => {this.props.onOrderDrop(e, menuItem, 0)}}\r\n                            />\r\n                        }\r\n                        {\r\n                            menuItem.menuItems.map((mi, index) => {\r\n                                return (\r\n                                    <React.Fragment key={mi.id}>\r\n                                        <MenuTreeItem\r\n                                            menuItem={mi}\r\n                                            onDragStart={this.props.onDragStart}\r\n                                            onDrop={this.props.onDrop}\r\n                                            onDragOver={this.props.onDragOver}\r\n                                            renderer={this.props.renderer}\r\n                                            onOrderOver={this.props.onOrderOver}\r\n                                            onOrderDrop={this.props.onOrderDrop}\r\n                                        />\r\n                                        <MenuTreeOrderer\r\n                                            onDragOver={(e) => {this.props.onOrderOver(e, menuItem, index + 1)}}\r\n                                            onDrop={(e) => {this.props.onOrderDrop(e, menuItem, index + 1)}}\r\n                                        />\r\n                                    </React.Fragment>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport './MenuTree.css';\r\nimport MenuTreeItem from \"./MenuTreeItem\";\r\nimport MenuTreeOrderer from \"./MenuTreeOrderer\";\r\nimport {\r\n    changeMenuItemParent,\r\n    deleteMenuItem,\r\n    findParent,\r\n    getIndexInParent, renameMenuItem,\r\n    reorderMenuItem, toggleMenuItemAsParent\r\n} from \"../MenuManager\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport CreateMenu from \"../CreateMenu\";\r\n\r\nexport default class MenuTree extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {};\r\n    }\r\n\r\n    onDragStart = (e, mi) => {\r\n        console.log(\"onDragStart\", mi.name);\r\n        this.draggingMenuItem = mi;\r\n    }\r\n\r\n    onDragOver = (e, mi) => {\r\n        if (!this.draggingMenuItem)\r\n            return;\r\n\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n\r\n        if (mi !== this.draggingMenuItem) {\r\n            console.log(\"onDragOver\", mi.name);\r\n        }\r\n    }\r\n\r\n    onDrop = (e, mi) => {\r\n        if (!this.draggingMenuItem)\r\n            return;\r\n\r\n        let {menu} = this.props;\r\n        e.target.click();\r\n\r\n        if (mi !== this.draggingMenuItem) {\r\n            console.log(\"onDrop\", mi.name, this.draggingMenuItem);\r\n\r\n            changeMenuItemParent(menu, this.draggingMenuItem, mi.id);\r\n            this.forceUpdate();\r\n        }\r\n    }\r\n\r\n    onOrderOver = (e, parentMI, order) => {\r\n        if (!this.draggingMenuItem)\r\n            return;\r\n\r\n        console.log(\"onOrderOver\", parentMI.id);\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n    }\r\n\r\n    onOrderDrop = (e, parentMI, order) => {\r\n        if (!this.draggingMenuItem)\r\n            return;\r\n\r\n        let {menu} = this.props;\r\n\r\n        console.log(\"onOrderDrop\", parentMI.id);\r\n        e.target.click();\r\n\r\n        if (findParent(menu, this.draggingMenuItem.id) === parentMI) {\r\n            // this is reOrdering\r\n            if (getIndexInParent(menu, this.draggingMenuItem) < order) {\r\n                order--;\r\n            }\r\n\r\n            reorderMenuItem(menu, this.draggingMenuItem, order);\r\n            this.forceUpdate();\r\n        } else {\r\n            changeMenuItemParent(menu, this.draggingMenuItem, parentMI.id, order);\r\n            this.forceUpdate();\r\n        }\r\n    }\r\n\r\n    getTreeItemRenderer = (mi) => {\r\n        let {menu} = this.props;\r\n\r\n        return (\r\n            <div\r\n                className=\"MenuTreeItemRenderer\"\r\n            >\r\n                <div className=\"MenuTreeItemLabel\">\r\n                    {mi.name}\r\n                </div>\r\n\r\n                {\r\n                    menu.id !== \"default\" &&\r\n                        <>\r\n                            <IconButton\r\n                                onClick={(e) => {\r\n                                    deleteMenuItem(menu, mi.id);\r\n                                    this.forceUpdate();\r\n                                }}\r\n                            >\r\n                                <img\r\n                                    draggable={false}\r\n                                    width={12}\r\n                                    height={12}\r\n                                    src={require('../../icons/bin.svg')}\r\n                                />\r\n                            </IconButton>\r\n\r\n                            <IconButton\r\n                                onClick={(e) => {\r\n                                    this.setState({renameMI: mi});\r\n                                }}\r\n                            >\r\n                                <img\r\n                                    draggable={false}\r\n                                    width={12}\r\n                                    height={12}\r\n                                    src={require('../../icons/text.svg')}\r\n                                />\r\n                            </IconButton>\r\n\r\n                            <IconButton\r\n                                onClick={(e) => {\r\n                                    console.log(\"showLinkGenerator\", mi)\r\n                                    this.context.showLinkGenerator(mi.linkData, (linkData) => {\r\n                                        mi.linkData = linkData;\r\n                                        this.forceUpdate();\r\n                                    })\r\n                                }}\r\n                            >\r\n                                <img\r\n                                    draggable={false}\r\n                                    width={12}\r\n                                    height={12}\r\n                                    src={require('../../icons/chain.svg')}\r\n                                />\r\n                            </IconButton>\r\n\r\n                            <IconButton\r\n                                onClick={(e) => {\r\n                                    if (!mi.isParent){\r\n                                        toggleMenuItemAsParent(mi, !mi.isParent);\r\n                                        this.forceUpdate();\r\n                                        return;\r\n                                    }\r\n\r\n                                    if (mi.isParent && mi.menuItems.length === 0)\r\n                                        toggleMenuItemAsParent(mi, !mi.isParent);\r\n                                    else {\r\n                                        // TODO show error\r\n                                        // it must have no child\r\n                                    }\r\n                                    this.forceUpdate();\r\n                                }}\r\n                            >\r\n                                <img\r\n                                    draggable={false}\r\n                                    width={12}\r\n                                    height={12}\r\n                                    src={mi.isParent ? require('../../icons/parent.svg') : require('../../icons/notparent.svg')}\r\n                                />\r\n                            </IconButton>\r\n                        </>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        let {menu} = this.props;\r\n        return (\r\n            <div className=\"MenuTreeRoot\">\r\n                <MenuTreeOrderer\r\n                    onDragOver={(e) => {\r\n                        this.onOrderOver(e, menu, 0)\r\n                    }}\r\n                    onDrop={(e) => {\r\n                        this.onOrderDrop(e, menu, 0)\r\n                    }}\r\n                />\r\n                {\r\n                    menu.menuItems &&\r\n                    menu.menuItems.map((mi, index) => {\r\n                        return (\r\n                            <React.Fragment key={mi.id}>\r\n                                <MenuTreeItem\r\n                                    className=\"MenuManagerMenuItemItem\"\r\n                                    menuItem={mi}\r\n                                    onDragStart={this.onDragStart}\r\n                                    onDrop={this.onDrop}\r\n                                    onDragOver={this.onDragOver}\r\n                                    renderer={(menuItem) => {\r\n                                        return this.getTreeItemRenderer(menuItem);\r\n                                    }}\r\n                                    onOrderOver={this.onOrderOver}\r\n                                    onOrderDrop={this.onOrderDrop}\r\n                                />\r\n                                <MenuTreeOrderer\r\n                                    onDragOver={(e) => {\r\n                                        this.onOrderOver(e, menu, index + 1)\r\n                                    }}\r\n                                    onDrop={(e) => {\r\n                                        this.onOrderDrop(e, menu, index + 1)\r\n                                    }}\r\n                                />\r\n                            </React.Fragment>\r\n                        )\r\n                    })\r\n                }\r\n                {\r\n                    this.state.renameMI &&\r\n                    <CreateMenu\r\n                        title={\"New Menu Item Name\"}\r\n                        label={\"What's the new name of menu item?\"}\r\n                        title={\"Change\"}\r\n                        defaultValue={this.state.renameMI.name}\r\n                        open={true}\r\n                        onClose={() => {\r\n                            this.setState({renameMI: undefined})\r\n                        }}\r\n                        onDone={(name) => {\r\n                            renameMenuItem(this.state.renameMI, name);\r\n                            this.setState({renameMI: undefined})\r\n                        }}\r\n                    />\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {EditorContext} from \"../Editor/EditorContext\";\r\nimport IconButton from \"../HelperComponents/IconButton\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport './MenuManagerUI.css';\r\nimport {addNewMenu, addNewMenuItem, deleteMenu, renameMenuItem} from \"./MenuManager\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport CreateMenu from \"./CreateMenu\";\r\nimport MenuTree from \"./MenuTree/MenuTree\";\r\n\r\nexport default class MenuManagerUI extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            selectedMenuId: props.menuId || \"default\",\r\n        };\r\n    }\r\n\r\n    render() {\r\n        let {selectedMenuId} = this.state;\r\n        let {siteData} = this.context;\r\n        let selectedMenu = siteData.menus.find(m => m.id === selectedMenuId);\r\n\r\n        return <Modal\r\n            open={this.props.open}\r\n            onClose={this.props.onClose}\r\n            aria-labelledby=\"simple-modal-title2\"\r\n            aria-describedby=\"simple-modal-description2\"\r\n            className=\"PageSettingModal\"\r\n            disableBackdropClick\r\n        >\r\n            <div className=\"MenuManagerRoot\">\r\n                {/*Header*/}\r\n                <div className=\"PageSettingHeader\">\r\n                    <div\r\n                        className=\"PageManagerHeaderContainer\"\r\n                    >\r\n                            <span className=\"PageManagerHeaderTitle\">\r\n                                Menu Manager\r\n                            </span>\r\n\r\n                        <IconButton\r\n                            onClick={this.props.onClose}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={12}\r\n                                height={12}\r\n                                src={require('../icons/close.svg')}\r\n                            />\r\n                        </IconButton>\r\n                    </div>\r\n                </div>\r\n                <div className=\"MenuManagerContentRoot\">\r\n                    <div className=\"MenuManagerContent\">\r\n                        <div className=\"MenuManagerLeft\">\r\n                            <div className=\"MenuManagerTypesTitle\">\r\n                                Website Menus\r\n                            </div>\r\n                            <div className=\"MenuManagerTypes\">\r\n                                {\r\n                                    siteData.menus.map(menu => {\r\n                                        let className = \"MenuManagerMenuListItem\";\r\n                                        if (selectedMenuId === menu.id)\r\n                                            className += \" MenuManagerMenuListItemSelected\";\r\n                                        return (\r\n                                            <div className={className}\r\n                                                 key={menu.id}\r\n                                                 onClick={(e) => {\r\n                                                     this.setState({selectedMenuId: menu.id});\r\n                                                 }}\r\n                                            >\r\n                                                <div>\r\n                                                    {menu.name}\r\n                                                </div>\r\n                                                {\r\n                                                    menu.id !== \"default\" &&\r\n                                                    <IconButton\r\n                                                        className={\"MenuManagerDeleteMenu\"}\r\n                                                        onClick={(e) => {\r\n                                                            e.preventDefault();\r\n                                                            e.stopPropagation();\r\n                                                            deleteMenu(siteData, menu.id);\r\n                                                            if (menu.id === selectedMenuId)\r\n                                                                this.setState({selectedMenuId: \"default\"});\r\n                                                            this.forceUpdate();\r\n                                                        }}\r\n                                                    >\r\n                                                        <img\r\n                                                            draggable={false}\r\n                                                            width={12}\r\n                                                            height={12}\r\n                                                            src={require('../icons/bin.svg')}\r\n                                                        />\r\n                                                    </IconButton>\r\n                                                }\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n\r\n                            <Button\r\n                                className=\"MenuManagerCreate\"\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                onClick={() => {\r\n                                    this.setState({createMenu: true})\r\n                                }}\r\n                            >\r\n                                Create Menu\r\n                            </Button>\r\n                        </div>\r\n                        <div className=\"MenuManagerOptions\">\r\n                            <MenuTree\r\n                                menu={selectedMenu}\r\n                            />\r\n                            <Button\r\n                                className=\"MenuManagerCreate\"\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                onClick={() => {\r\n                                    this.setState({createMenuItem: true})\r\n                                }}\r\n                            >\r\n                                Create Menu Item\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {\r\n                    this.state.createMenu &&\r\n                    <CreateMenu\r\n                        open={true}\r\n                        onClose={() => {\r\n                            this.setState({createMenu: undefined})\r\n                        }}\r\n                        onDone={(name) => {\r\n                            addNewMenu(siteData, name);\r\n                            this.forceUpdate();\r\n                        }}\r\n                    />\r\n                }\r\n                {\r\n                    this.state.createMenuItem &&\r\n                    <CreateMenu\r\n                        title={\"New Menu Item Name\"}\r\n                        label={\"What's the new name of menu item?\"}\r\n                        title={\"Change\"}\r\n                        open={true}\r\n                        onClose={() => {\r\n                            this.setState({createMenuItem: undefined})\r\n                        }}\r\n                        onDone={(name) => {\r\n                            addNewMenuItem(selectedMenu, name);\r\n                            this.setState({createMenuItem: undefined})\r\n                        }}\r\n                    />\r\n                }\r\n            </div>\r\n        </Modal>\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './EditorBoundary.css';\r\nimport IconButton from \"../HelperComponents/IconButton\";\r\nimport EditorHeaderZoom from \"./Zoom/EditorHeaderZoom\";\r\nimport {EditorContext} from \"./EditorContext\";\r\nimport EditorHeaderPageSelect from \"./PageSelect/EditorHeaderPageSelect\";\r\nimport EditorHeaderBreakpoints from \"./Breakpoints/EditorHeaderBreakpoints\";\r\nimport MenuManagerUI from \"../MenuManager/MenuManagerUI\";\r\n\r\nexport default class EditorHeader extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            onInspectorClickState: true,\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    setRightMenuOpen = (openMenu, state) => {\r\n        let changedState = {};\r\n        [\r\n            \"onAddComponentClick\",\r\n            \"onThemeManagerClick\",\r\n            \"onPageManagerClick\"\r\n        ].forEach(name => {\r\n            if (this.state[`${name}State`] && `${name}State` !== openMenu) {\r\n                console.log(\"setRightMenuOpen\", name);\r\n                this.props[name](true);\r\n            }\r\n\r\n            changedState[`${name}State`] = false;\r\n        });\r\n        this.setState({\r\n            ...changedState,\r\n            [openMenu]: state\r\n        });\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"EditorHeaderRoot\" style={{\r\n                width: `${this.context.zoomScale*100}%`,\r\n            }}>\r\n                <div className=\"EditorHeaderRightShortcuts\">\r\n                    <IconButton\r\n                        buttonBaseStyle={{\r\n                            marginLeft: 0,\r\n                            backgroundColor: this.context.rightMenus.addComponent.state && \"#d2fffc\",\r\n                        }}\r\n                        onClick={(e) => {\r\n                            this.context.toggleRightMenu(\"addComponent\");\r\n                            // let onAddComponentClickState = this.props.onAddComponentClick();\r\n                            // this.setRightMenuOpen(\"onAddComponentClickState\", onAddComponentClickState);\r\n                        }}\r\n                    >\r\n                        <img\r\n                            draggable={false}\r\n                            width={18}\r\n                            height={18}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/add.svg'}\r\n                        />\r\n                    </IconButton>\r\n                    <IconButton\r\n                        buttonBaseStyle={{marginLeft: 0,\r\n                            backgroundColor: this.context.rightMenus.pageManager.state && \"#d2fffc\",\r\n                        }}\r\n                        onClick={(e) => {\r\n                            this.context.toggleRightMenu(\"pageManager\");\r\n                            // let onPageManagerClickState = this.props.onPageManagerClick();\r\n                            // this.setRightMenuOpen(\"onPageManagerClickState\", onPageManagerClickState);\r\n                        }}\r\n                    >\r\n                        <img\r\n                            draggable={false}\r\n                            width={18}\r\n                            height={18}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/page.svg'}\r\n                        />\r\n                    </IconButton>\r\n                    <IconButton\r\n                        buttonBaseStyle={{marginLeft: 0,\r\n                            backgroundColor: this.context.rightMenus.themeManager.state && \"#d2fffc\",\r\n                        }}\r\n                        onClick={(e) => {\r\n                            this.context.toggleRightMenu(\"themeManager\");\r\n                            // let onThemeManagerClickState = this.props.onThemeManagerClick();\r\n                            // this.setRightMenuOpen(\"onThemeManagerClickState\", onThemeManagerClickState);\r\n                        }}\r\n                    >\r\n                        <img\r\n                            draggable={false}\r\n                            width={18}\r\n                            height={18}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/water.svg'}\r\n                        />\r\n                    </IconButton>\r\n                    <IconButton\r\n                        buttonBaseStyle={{marginLeft: 0,\r\n                            backgroundColor: this.context.rightMenus.menuManager.state && \"#d2fffc\",\r\n                        }}\r\n                        onClick={(e) => {\r\n                            this.context.toggleRightMenu(\"menuManager\", true);\r\n\r\n                        }}\r\n                    >\r\n                        <img\r\n                            draggable={false}\r\n                            width={18}\r\n                            height={18}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/menu.svg'}\r\n                        />\r\n                    </IconButton>\r\n                </div>\r\n                <div className=\"EditorHeaderCenterShortcuts\">\r\n                    <EditorHeaderPageSelect\r\n                        className=\"EditorHeaderCenterDiv\"\r\n                        style={{\r\n                            width: 200\r\n                        }}\r\n                    />\r\n                    <EditorHeaderBreakpoints\r\n                        className=\"EditorHeaderCenterDiv EditorHeaderLastCenterDiv EditorHeaderBreakpoints\"\r\n                    />\r\n                </div>\r\n                <div className=\"EditorHeaderLeftShortcuts\">\r\n                    <IconButton\r\n                        buttonBaseStyle={{\r\n                            marginLeft: 0,\r\n                            marginRight: 10,\r\n                            backgroundColor: this.state.onInspectorClickState && \"#d2fffc\",\r\n                        }}\r\n                        onClick={(e) => {\r\n                            let onInspectorClickState = this.props.onInspectorClick(e);\r\n                            this.setState({onInspectorClickState})\r\n                        }}\r\n                    >\r\n                        <img\r\n                            draggable={false}\r\n                            width={18}\r\n                            height={18}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/inspector.svg'}\r\n                        />\r\n                    </IconButton>\r\n                    <EditorHeaderZoom\r\n                        onZoomChange={(zoomScale) => {\r\n                            this.props.onPageZoomChange(zoomScale);\r\n                        }}\r\n                    />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './PreviewHeaderBreakpoints.css';\r\nimport {EditorContext} from \"../EditorContext\";\r\nimport NumberInputEnterToChange from \"../../Menus/CommonComponents/NumberInputEnterToChange\";\r\nimport {getBreakpointIcon, getBreakpointName} from \"./BreakpointHelper\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\n\r\nexport default class PreviewHeaderBreakpoints extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            lastBpData: undefined\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    getCurrentValue = (editorContext) => {\r\n        if (!editorContext.editor.rootLayoutRef.current)\r\n            return \"...\";\r\n\r\n        let width = editorContext.editor.rootLayoutRef.current.getSize(false).width;\r\n\r\n        let bpData = this.getOptions(editorContext).filter(bpData => {\r\n            console.log(\"getCurrentValue\", bpData.name, bpData.type, bpData.start, width, bpData.type === 'device' && bpData.start === width)\r\n            return bpData.type === 'device' && bpData.start === width;\r\n        })[0];\r\n\r\n        if (bpData) {\r\n            return (this.state.lastBpData && this.state.lastBpData.type === \"device\" && this.state.lastBpData) || bpData;\r\n        }\r\n\r\n        return editorContext.editor.breakpointmanager.currentBpData(width);\r\n    };\r\n\r\n    getOptions = (editorContext) => {\r\n        let options = [{\r\n            title: \"Page Breakpoints\", disabled:true\r\n        }];\r\n\r\n        if (!editorContext.editor.breakpointmanager) return [];\r\n\r\n        let breakpoints = editorContext.editor.breakpointmanager.getSortedBreakPoints().reverse();\r\n\r\n        breakpoints.forEach(bpData => {\r\n            options.push(bpData);\r\n        });\r\n\r\n        options.push({\r\n            title: \"Common Devices\", disabled:true\r\n        });\r\n\r\n        (this.props.devices || []).sort((a, b) => {\r\n            if (a.start > b.start) {\r\n                return -1;\r\n            } else if (a.start === b.start) {\r\n                // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                return 0;\r\n            }\r\n            return 1;\r\n        }).forEach(bpData => {\r\n            bpData.type = 'device';\r\n            options.push(bpData);\r\n        });\r\n\r\n        return options;\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <EditorContext.Consumer>\r\n                {editorContext => (\r\n                    <div\r\n                        {...this.props}\r\n                    >\r\n                        <DropDown\r\n                            options={editorContext.siteData ? this.getOptions(editorContext) : [\"...\"]}\r\n                            onChange={(bpData) => {\r\n                                this.setState({lastBpData: bpData});\r\n                                editorContext.setPageSizeWidth(bpData.prefer || bpData.start);\r\n                            }}\r\n                            value={editorContext.pageData ? this.getCurrentValue(editorContext) : \"...\"}\r\n                            spanStyle={{\r\n                                width: 256,\r\n                                fontSize: 14,\r\n                                border: \"0px solid #cfcfcf\",\r\n                            }}\r\n                            renderer={(bpData) => {\r\n                                return (\r\n                                    <div className=\"PreviewHeaderBreakpointsRenderer\">\r\n                                        {\r\n                                            bpData.name &&\r\n                                            <div className=\"PreviewHeaderBreakpointsRendererIcon\">\r\n                                                {\r\n                                                    getBreakpointIcon(bpData)\r\n                                                }\r\n                                            </div>\r\n                                        }\r\n                                        {\r\n                                            bpData.name &&\r\n                                            <div className=\"PreviewHeaderBreakpointsRendererName\">\r\n                                                {\r\n                                                    bpData.type === 'device' ? bpData.name :\r\n                                                    getBreakpointName(bpData)\r\n                                                }\r\n                                            </div>\r\n                                        }\r\n                                        {\r\n                                            bpData.name &&\r\n                                            <div className=\"PreviewHeaderBreakpointsRendererSize\">\r\n                                                {\r\n                                                    bpData.start + \" px\"\r\n                                                }\r\n                                            </div>\r\n                                        }\r\n                                        {\r\n                                            !bpData.name &&\r\n                                            <div className=\"PreviewHeaderBreakpointsRendererTitle\">\r\n                                                {\r\n                                                    bpData.title\r\n                                                }\r\n                                            </div>\r\n                                        }\r\n                                    </div>\r\n                                )\r\n                            }}\r\n                            valueRenderer={(bpData) => {\r\n                                return (\r\n                                    <div className=\"PreviewHeaderBreakpointsRenderer\">\r\n                                        {\r\n                                            bpData.name &&\r\n                                            <div className=\"PreviewHeaderBreakpointsRendererIcon\">\r\n                                                {\r\n                                                    getBreakpointIcon(bpData)\r\n                                                }\r\n                                            </div>\r\n                                        }\r\n                                        {\r\n                                            bpData.name &&\r\n                                            <div className=\"PreviewHeaderBreakpointsRendererName\">\r\n                                                {\r\n                                                    bpData.type === 'device' ? bpData.name :\r\n                                                    getBreakpointName(bpData)\r\n                                                }\r\n                                            </div>\r\n                                        }\r\n                                        {\r\n                                            !bpData.name &&\r\n                                            <div className=\"PreviewHeaderBreakpointsRendererTitle\">\r\n                                                {\r\n                                                    bpData.title\r\n                                                }\r\n                                            </div>\r\n                                        }\r\n                                    </div>\r\n                                )\r\n                            }}\r\n                        />\r\n\r\n                        <div style={{\r\n                            backgroundColor: \"#cfcfcf\",\r\n                            height: \"auto\",\r\n                            width: 1,\r\n                            marginLeft: 10\r\n                        }}>\r\n\r\n                        </div>\r\n\r\n                        {\r\n                            editorContext.editor && editorContext.editor.rootLayoutRef.current &&\r\n                            <>\r\n                                <span\r\n                                    style={{\r\n                                        marginLeft: 10,\r\n                                        display:\"flex\",\r\n                                        alignItems: \"center\",\r\n                                        fontSize: 12\r\n                                    }}\r\n                                >\r\n                                    Width\r\n                                </span>\r\n                                <NumberInputEnterToChange\r\n                                    inputStyle={{\r\n                                        marginLeft: 10\r\n                                    }}\r\n                                    min={editorContext.editor.breakpointmanager.getMinWidth()}\r\n                                    max={9999}\r\n                                    value={editorContext.editor.rootLayoutRef.current.getSize(false).width}\r\n                                    onChange={(width) => {\r\n                                        editorContext.setPageSizeWidth(width);\r\n                                    }}\r\n                                />\r\n                            </>\r\n                        }\r\n                    </div>\r\n                )}\r\n            </EditorContext.Consumer>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './EditorBoundary.css';\r\nimport {EditorContext} from \"./EditorContext\";\r\nimport IconButton from \"../HelperComponents/IconButton\";\r\nimport EditorHeaderPageSelect from \"./PageSelect/EditorHeaderPageSelect\";\r\nimport EditorHeaderBreakpoints from \"./Breakpoints/EditorHeaderBreakpoints\";\r\nimport EditorHeaderZoom from \"./Zoom/EditorHeaderZoom\";\r\nimport PreviewHeaderBreakpoints from \"./Breakpoints/PreviewHeaderBreakpoints\";\r\nimport {getCommonDevices} from \"./Breakpoints/BreakpointHelper\";\r\nimport {Button} from \"@material-ui/core\";\r\n\r\nexport default class PreviewHeader extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"EditorHeaderRoot\" style={{\r\n                width: `${this.context.zoomScale*100}%`,\r\n            }}>\r\n                <div className=\"EditorHeaderRightShortcuts\">\r\n                </div>\r\n                <div className=\"EditorHeaderCenterShortcuts\">\r\n                    <EditorHeaderPageSelect\r\n                        className=\"EditorHeaderCenterDiv\"\r\n                        style={{\r\n                            width: 200\r\n                        }}\r\n                    />\r\n                    <PreviewHeaderBreakpoints\r\n                        className=\"EditorHeaderCenterDiv EditorHeaderLastCenterDiv EditorHeaderBreakpoints\"\r\n                        devices={getCommonDevices()}\r\n                    />\r\n                </div>\r\n                <div className=\"PreviewHeaderLeftShortcuts\">\r\n                    <Button className=\"PublishButton\" onClick={() => {\r\n                        this.context.sendPublishCommand();\r\n                    }}>\r\n                        Publish\r\n                    </Button>\r\n                    <Button className=\"PreviewButton\" onClick={() => {\r\n                        this.context.sendEditCommand();\r\n                    }}>\r\n                        Edit\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './EditorBoundary.css';\r\nimport IconButton from \"../HelperComponents/IconButton\";\r\nimport DropDown from \"../Menus/CommonComponents/DropDown\";\r\nimport EditorHeaderZoom from \"./Zoom/EditorHeaderZoom\";\r\nimport {EditorContext} from \"./EditorContext\";\r\nimport EditorHeaderPageSelect from \"./PageSelect/EditorHeaderPageSelect\";\r\nimport EditorHeaderBreakpoints from \"./Breakpoints/EditorHeaderBreakpoints\";\r\nimport {getScrollbarWidth} from \"../AwesomeGridLayoutUtils\";\r\nimport PageBase from \"../Components/Pages/PageBase\";\r\n\r\nexport default class PageView extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    render () {\r\n        if (this.context.production) {\r\n            return (\r\n                this.props.children\r\n            )\r\n        } else {\r\n            return (\r\n                <div\r\n                    className=\"EditorBoundaryPageHolder\"\r\n                    style={{\r\n                        // TODO add scale support\r\n                        padding: \"0 50px\"\r\n                    }}\r\n                    onScroll={this.props.onScrollBoundary}\r\n                    onContextMenu={(e) => {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }}\r\n                >\r\n                    <div\r\n                        className=\"EditorBoundaryPageHolderHover\"\r\n                        style={{\r\n                            bottom: getScrollbarWidth()\r\n                        }}\r\n                        onClick={() => {\r\n                            this.props.rootLayoutRef.current.onSelect(true);\r\n                        }}\r\n                    />\r\n                    {this.props.children}\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {EditorContext} from \"../../../Editor/EditorContext\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\n\r\nexport default class UploadButton extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.inputRef = React.createRef();\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <input\r\n                    style={{display: \"none\"}}\r\n                    type=\"file\" name=\"file\" onChange={this.props.onFileSelected} ref={this.inputRef}\r\n                    multiple={this.props.multiple}\r\n                    accept={this.props.accept}\r\n                />\r\n                <div>\r\n                    <ButtonBase\r\n                        className={this.props.className}\r\n                        style={this.props.style}\r\n                        onClick={(e) => {\r\n                            this.inputRef.current.click();\r\n                        }}\r\n                    >\r\n                        {this.props.children}\r\n                    </ButtonBase>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","let FileManagerHelper = {};\r\n\r\nFileManagerHelper.list = (editorContext, prefix, continuationToken, onSuccess, onError) => {\r\n    editorContext.postMessageToHolder(\r\n    {\r\n        type: \"Server\",\r\n        route: \"/file/list\",\r\n        input: {websiteId: editorContext.websiteId, prefix, continuationToken},\r\n        method: \"post\"\r\n    },\r\n    ({result}) => {\r\n        console.log(\"FileManagerHelper.list callback\", result);\r\n        if (result.success)\r\n            onSuccess(result.data, prefix);\r\n        else\r\n            onError(result.error);\r\n    });\r\n}\r\n\r\nFileManagerHelper.upload = (editorContext, objectPath, file, onSuccess, onError) => {\r\n    console.log(\"FileManagerHelper.upload 1\" , file.size / 1024 / 1024)\r\n    editorContext.postMessageToHolder(\r\n        {\r\n            type: \"Server\",\r\n            route: \"/file/upload\",\r\n            input: {websiteId: editorContext.websiteId, objectPath, objectSizeInMb: file.size / 1024 / 1024},\r\n            method: \"post\"\r\n        },\r\n        ({result}) => {\r\n            console.log(\"FileManagerHelper.list callback\", result);\r\n            if (result.success)\r\n                onSuccess(result.data);\r\n            else\r\n                onError(result.error);\r\n        });\r\n}\r\n\r\nFileManagerHelper.folder = (editorContext, folderPath, onSuccess, onError) => {\r\n    editorContext.postMessageToHolder(\r\n        {\r\n            type: \"Server\",\r\n            route: \"/file/folder\",\r\n            input: {websiteId: editorContext.websiteId, folderPath},\r\n            method: \"post\"\r\n        },\r\n        ({result}) => {\r\n            console.log(\"FileManagerHelper.list callback\", result);\r\n            if (result.success)\r\n                onSuccess(result.data);\r\n            else\r\n                onError(result.error);\r\n        });\r\n}\r\n\r\nFileManagerHelper.usage = (editorContext, onSuccess, onError) => {\r\n    editorContext.postMessageToHolder(\r\n        {\r\n            type: \"Server\",\r\n            route: \"/file/usage\",\r\n            input: {websiteId: editorContext.websiteId},\r\n            method: \"post\"\r\n        },\r\n        ({result}) => {\r\n            console.log(\"FileManagerHelper.list callback\", result);\r\n            if (result.success)\r\n                onSuccess(result.data);\r\n            else\r\n                onError(result.error);\r\n        });\r\n}\r\n\r\n// deleteObjects must have this structure:\r\n// [ /* required */\r\n//   {\r\n//      Key: 'STRING_VALUE', /* required */\r\n//   },\r\n//   /* more items */\r\n// ]\r\nFileManagerHelper.delete = (editorContext, deleteObjects, onSuccess, onError) => {\r\n    editorContext.postMessageToHolder(\r\n        {\r\n            type: \"Server\",\r\n            route: \"/file/delete\",\r\n            input: {websiteId: editorContext.websiteId, deleteObjects},\r\n            method: \"post\"\r\n        },\r\n        ({result}) => {\r\n            console.log(\"FileManagerHelper.list callback\", result);\r\n            if (result.success)\r\n                onSuccess(result.data);\r\n            else\r\n                onError(result.error);\r\n        });\r\n}\r\n\r\nFileManagerHelper.storage = (editorContext, onSuccess, onError) => {\r\n    editorContext.postMessageToHolder(\r\n        {\r\n            type: \"Server\",\r\n            route: \"/file/storage\",\r\n            input: {websiteId: editorContext.websiteId},\r\n            method: \"get\"\r\n        },\r\n        ({result}) => {\r\n            console.log(\"FileManagerHelper.list callback\", result);\r\n            if (result.success)\r\n                onSuccess(result.data);\r\n            else\r\n                onError(result.error);\r\n        });\r\n}\r\n\r\nexport default FileManagerHelper;\r\n","import React from \"react\";\r\nimport {EditorContext} from \"../../../Editor/EditorContext\";\r\nimport IconButton from \"../../../HelperComponents/IconButton\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport './NewFolder.css';\r\nimport Button from \"@material-ui/core/Button/Button\";\r\n\r\nexport default class NewFolder extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {name: \"\"};\r\n    }\r\n\r\n    rename = (e) => {\r\n        this.setState({name: e.target.value})\r\n    }\r\n\r\n    render () {\r\n        return <Modal\r\n            open={this.props.open}\r\n            onClose={this.props.onClose}\r\n            aria-labelledby=\"simple-modal-title2\"\r\n            aria-describedby=\"simple-modal-description2\"\r\n            className=\"FileManagerModal\"\r\n            disableBackdropClick\r\n            disableEnforceFocus\r\n        >\r\n            <div className=\"NewFolderRoot\">\r\n                {/*Header*/}\r\n                <div className=\"FileManagerHeader\">\r\n                    <div\r\n                        className=\"PageManagerHeaderContainer\"\r\n                    >\r\n                            <span className=\"PageManagerHeaderTitle\">\r\n                                New Folder\r\n                            </span>\r\n\r\n                        <IconButton\r\n                            onClick={this.props.onClose}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={12}\r\n                                height={12}\r\n                                src={require('../../../icons/close.svg')}\r\n                            />\r\n                        </IconButton>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"NewFolderContainer\">\r\n                    <span className=\"NewFolderTitle\">\r\n                        What's the name of new folder?\r\n                    </span>\r\n                    <input\r\n                        className=\"NumberInput PageManagerRenameInput PageInfoNameInput\"\r\n                        type=\"text\"\r\n                        onChange={this.rename}\r\n                        onKeyPress={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                if (this.state.name.length >= 3) {\r\n                                    this.props.onClose();\r\n                                    this.props.onDone(this.state.name)\r\n                                }\r\n                            }\r\n                        }}\r\n                    >\r\n                    </input>\r\n\r\n                    <div>\r\n                        <Button\r\n                            className=\"NewFolderCreate\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            disabled={this.state.name.length < 3}\r\n                            onClick={() => {\r\n                                this.props.onClose();\r\n                                this.props.onDone(this.state.name)\r\n                            }}\r\n                        >\r\n                            Create\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {EditorContext} from \"../../../Editor/EditorContext\";\r\nimport FileManagerHelper from \"../FileManagerHelper\";\r\nimport axios from \"axios\";\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport './FileUploader.css';\r\nimport IconButton from \"../../../HelperComponents/IconButton\";\r\n\r\nexport default class FileUploader extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            files: props.files.map(f => {return {\r\n                file: f,\r\n                status: \"pending\",\r\n                progress: 0,\r\n                prefix: props.prefix,\r\n            }}),\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.next();\r\n    }\r\n\r\n    addFiles = (newFIles, prefix) => {\r\n        let {files} = this.state;\r\n        files = [...files];\r\n        newFIles.forEach(f => {\r\n            files.push({\r\n                file: f,\r\n                status: \"pending\",\r\n                progress: 0,\r\n                prefix: prefix\r\n            });\r\n        })\r\n\r\n        this.setState({files}, () => {\r\n            if (!this.working)\r\n                this.next();\r\n        });\r\n    }\r\n\r\n    finishing = () => {\r\n        this.working = false;\r\n        this.props.onFinish();\r\n    }\r\n\r\n    next = () => {\r\n        this.working = true;\r\n        let {files} = this.state;\r\n        files = [...files];\r\n\r\n        if (files.length < 1) {\r\n            this.finishing();\r\n            return;\r\n        }\r\n\r\n        let currentUploading = files.shift();\r\n        if (currentUploading.status !== \"pending\")\r\n            return;\r\n\r\n        currentUploading.status = \"starting\";\r\n\r\n        this.setState({files, currentUploading}, () => {\r\n            this.uploadSign();\r\n        });\r\n    };\r\n\r\n    uploadSign = () => {\r\n        let {currentUploading} = this.state;\r\n\r\n        FileManagerHelper.upload(this.context,\r\n            `${currentUploading.prefix}/${currentUploading.file.name}`,\r\n            currentUploading.file,\r\n            (signUrl) => {\r\n                console.log(\"upload success\", signUrl);\r\n                this.upload(signUrl);\r\n            },\r\n            (errorMessage) => {\r\n                console.log(\"upload error\", errorMessage);\r\n        });\r\n    };\r\n\r\n    upload = (signUrl) => {\r\n        let {currentUploading} = this.state;\r\n\r\n        let formData = new FormData();\r\n\r\n        // Object.keys(signData.fields).forEach(key => {\r\n        //     formData.append(key, signData.fields[key]);\r\n        // });\r\n\r\n        formData.append(\"file\", currentUploading.file);\r\n\r\n        const cancelTokenSource = axios.CancelToken.source();\r\n        currentUploading.cancelTokenSource = cancelTokenSource;\r\n\r\n        axios.put(signUrl, currentUploading.file, {\r\n            headers: {\r\n                \"x-amz-acl\": \"public-read\",\r\n                \"Content-Type\": currentUploading.file.type\r\n            },\r\n            onUploadProgress: this.onUploadProgress,\r\n            cancelToken: cancelTokenSource.token\r\n        })\r\n        .then((response) => {\r\n            console.log(\"upload response\", response)\r\n            this.props.onSingleFileUploaded(currentUploading);\r\n            console.log(\"upload response2\")\r\n            this.next();\r\n        }).then(() => {\r\n            console.log(\"upload finish\");\r\n        })\r\n        .catch(() => {\r\n            console.log(\"upload Error ...\")\r\n        });\r\n    }\r\n\r\n    onUploadProgress = (e) => {\r\n        let {currentUploading} = this.state;\r\n        currentUploading.progress = Math.round((100 * e.loaded) / e.total);\r\n        console.log(\"upload progress\", currentUploading.progress)\r\n        this.setState({currentUploading});\r\n    }\r\n\r\n    cancelCurrent = () => {\r\n        let {currentUploading} = this.state;\r\n        currentUploading.cancelTokenSource.cancel();\r\n        currentUploading.status = \"canceled\";\r\n\r\n        this.next();\r\n    }\r\n\r\n    cancelPendings = (fileData) => {\r\n        let {files} = this.state;\r\n        files = [...files];\r\n\r\n        if (fileData.cancelTokenSource)\r\n            this.cancelCurrent();\r\n\r\n        let index = files.findIndex(f => {\r\n            return f.file === fileData.file;\r\n        });\r\n\r\n        files.splice(index, 1);\r\n\r\n        this.setState({files});\r\n    }\r\n\r\n    cancelAll = () => {\r\n        let {files} = this.state;\r\n        files = [...files];\r\n\r\n        files.forEach(f => {\r\n            this.cancelPendings(f);\r\n        });\r\n\r\n        this.cancelCurrent();\r\n    }\r\n\r\n    render () {\r\n        let {currentUploading, files} = this.state;\r\n        console.log(\"files\", files)\r\n        return (\r\n            <>\r\n                <div className=\"FileUploaderRoot\">\r\n                    {\r\n                        currentUploading &&\r\n                        <div className=\"FileUploaderCurrentBorder\">\r\n                            <span className=\"FileUploaderCurrentName\">{currentUploading.file.name}</span>\r\n                            <div className=\"FileUploaderCurrentRoot\">\r\n                                <LinearProgress className=\"FileUploaderCurrentProgress\"\r\n                                                key={currentUploading.file.name}\r\n                                    variant=\"determinate\" value={currentUploading.progress}/>\r\n                                <span  className=\"FileUploaderCurrentLabel\">{`${currentUploading.progress}%`}</span>\r\n                                {\r\n                                    currentUploading.cancelTokenSource &&\r\n                                    <IconButton\r\n                                        className=\"FileUploaderCurrentCancel\"\r\n                                        onClick={this.cancelCurrent}\r\n                                    >\r\n                                        <img\r\n                                            draggable={false}\r\n                                            width={8}\r\n                                            height={8}\r\n                                            src={require('../../../icons/close.svg')}\r\n                                        />\r\n                                    </IconButton>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    {\r\n                        files.slice(0, 3).map(fileData => {\r\n                            return (\r\n                                <div key={fileData.file.name} className=\"FileUploaderCurrentBorder FileUploaderPendingRoot\">\r\n                                    <span className=\"FileUploaderCurrentName\">{fileData.file.name}</span>\r\n                                    <IconButton\r\n                                        className=\"FileUploaderCurrentCancel\"\r\n                                        onClick={(e) => {this.cancelPendings(fileData)}}\r\n                                    >\r\n                                        <img\r\n                                            draggable={false}\r\n                                            width={8}\r\n                                            height={8}\r\n                                            src={require('../../../icons/close.svg')}\r\n                                        />\r\n                                    </IconButton>\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                    {\r\n                        files.slice(3, files.length).length > 0 &&\r\n                        <div className=\"FileUploaderCurrentBorder\">\r\n                            <span className=\"FileUploaderCurrentName\">\r\n                                {\r\n                                    `${files.slice(3, files.length).length} other files are pending ...`\r\n                                }\r\n                            </span>\r\n                            <div className=\"FileUploaderCurrentCancelAll\">\r\n                                <IconButton\r\n                                    className=\"FileUploaderCurrentCancel\"\r\n                                    onClick={this.cancelAll}\r\n                                >\r\n                                    Cancel All\r\n                                </IconButton>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './MultiColorProgressBar.css'\r\n\r\nexport default class MultiColorProgressBar extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        const parent = this.props;\r\n\r\n        let values = parent.readings && parent.readings.length && parent.readings.map(function(item, i) {\r\n            if(item.value > 0) {\r\n                return (\r\n                    <div className=\"value\" style={{'color': item.color, 'width': item.value + '%'}}  key={i}>\r\n                        {/*<span>{item.value}%</span>*/}\r\n                    </div>\r\n                )\r\n            }\r\n        }, this);\r\n\r\n        let calibrations = parent.readings && parent.readings.length && parent.readings.map(function(item, i) {\r\n            if(item.value > 0) {\r\n                return (\r\n                    <div className=\"graduation\" style={{'color': item.color, 'width': item.value + '%'}}  key={i}>\r\n                        <span>|</span>\r\n                    </div>\r\n                )\r\n            }\r\n        }, this);\r\n\r\n        let bars = parent.readings && parent.readings.length && parent.readings.map(function(item, i) {\r\n            if(item.value > 0) {\r\n                return (\r\n                    <div className=\"bar\" style={{'backgroundColor': item.color, 'width': item.value + '%'}}  key={i}>\r\n\r\n                    </div>\r\n                )\r\n            }\r\n        }, this);\r\n\r\n        let legends = parent.readings && parent.readings.length && parent.readings.map(function(item, i) {\r\n            if(item.value > 0) {\r\n                return (\r\n                    <div className=\"legend\" key={i}>\r\n                        <span className=\"dot\" style={{'color': item.color}}></span>\r\n                        <span className=\"label\">{item.name}</span>\r\n                    </div>\r\n                )\r\n            }\r\n        }, this);\r\n\r\n        return (\r\n            <div className=\"multicolor-bar\">\r\n                {/*<div className=\"values\">*/}\r\n                {/*    {values == ''?'':values}*/}\r\n                {/*</div>*/}\r\n                {/*<div className=\"scale\">*/}\r\n                {/*    {calibrations == ''?'':calibrations}*/}\r\n                {/*</div>*/}\r\n                <div className=\"bars\">\r\n                    {bars == ''?'':bars}\r\n                </div>\r\n                {/*<div className=\"legends\">*/}\r\n                {/*    {legends == ''?'':legends}*/}\r\n                {/*</div>*/}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nlet readings = [\r\n    {\r\n        name: 'Used Space',\r\n        value: 60,\r\n        color: '#eb4d4b'\r\n    },\r\n    {\r\n        name: 'Free Space',\r\n        value: 40,\r\n        color: '#22a6b3'\r\n    }\r\n];\r\n","import React from \"react\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport './FileManager.css';\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\nimport UploadButton from \"./Components/UploadButton\";\r\nimport Dropzone from 'react-dropzone'\r\nimport FileManagerHelper from \"./FileManagerHelper\";\r\nimport NewFolder from \"./Components/NewFolder\";\r\nimport {cloneObject} from \"../../AwesomeGridLayoutUtils\";\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport FileUploader from \"./Components/FileUploader\";\r\nimport MultiColorProgressBar from \"./Components/MultiColorProgressBar\";\r\n\r\nexport default class FileManager extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            selectedMenu: \"Website Files\",\r\n            route: this.getFirstRoute(),\r\n            selectedFile: \"\",\r\n            selectedFiles: []\r\n        };\r\n\r\n        this.uploaderRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        FileManagerHelper.storage(this.context, ({url}) => {\r\n            this.baseUrl = url;\r\n            this.loadRoute();\r\n        }, (errorMessage) => {\r\n            console.log(\"storage error\", errorMessage)\r\n        });\r\n    }\r\n\r\n    loadRoute = (continuationToken) => {\r\n        // TODO call publisher server\r\n        this.setState({list: undefined, selectedFile: undefined, selectedFiles: []});\r\n\r\n        this.loadingPrefix = this.getCurrentPrefix();\r\n        FileManagerHelper.list(this.context, this.loadingPrefix, continuationToken, (list, prefix) => {\r\n            if (this.loadingPrefix !== prefix)\r\n                return;\r\n\r\n            list.contents = list.contents.filter(item => {\r\n                return !item.Key.endsWith('/');\r\n            });\r\n            this.setState({list});\r\n        }, (errorMessage) => {\r\n            this.setState({errorMessage});\r\n        });\r\n\r\n        this.loadUserUsage();\r\n    }\r\n\r\n    getCurrentPrefix = () => {\r\n        let {route} = this.state;\r\n        route = cloneObject(route);\r\n        route.shift();\r\n        let prefix = route.join('/');\r\n\r\n        return prefix;\r\n    }\r\n\r\n    getFirstRoute = () => {\r\n        let {options} = this.props;\r\n\r\n        let route = [\"Site\"];\r\n        if (options.type) {\r\n            route.push(options.type);\r\n        }\r\n\r\n        return route;\r\n    }\r\n\r\n    createNewFolder = (name) => {\r\n        this.setState({list: undefined});\r\n        let folderPath = `${this.getCurrentPrefix()}/${name}`;\r\n        FileManagerHelper.folder(this.context, folderPath, () => {\r\n            this.loadRoute();\r\n        }, (errorMessage) => {\r\n            this.setState({errorMessage});\r\n        });\r\n    }\r\n\r\n    changeRoute = (route) => {\r\n        this.setState({route}, () => {\r\n            this.loadRoute();\r\n        });\r\n    }\r\n\r\n    uploadFile = (files) => {\r\n        if (!this.isFilesValid(files)) {\r\n            this.showError(\"Upload files with valid extention !\");\r\n            return;\r\n        }\r\n\r\n        if (this.uploaderRef.current)\r\n            this.uploaderRef.current.addFiles(files, this.getCurrentPrefix());\r\n        else\r\n            this.setState({\r\n                uploadingData: {files, prefix: this.getCurrentPrefix()}\r\n            })\r\n    }\r\n\r\n    getValidFileExt = () => {\r\n        let {type} = this.props.options;\r\n\r\n        type = type.toLowerCase();\r\n        switch (type) {\r\n            case \"images\":\r\n                return [\r\n                    \"jpg\", \"jpeg\", \"png\",\r\n                    \"gif\", \"jpe\", \"jfif\",\r\n                    \"bmp\", \"heic\", \"heif\",\r\n                    \"tiff\", \"tif\", \"png\",\r\n                    \"tiff\", \"tif\", \"png\",\r\n                    \"tiff\", \"tif\", \"webp\"\r\n                ]\r\n                break;\r\n            case \"voices\":\r\n                return [\r\n                    \"mp3\", \"wav\", \"flac\",\r\n                    \"m4a\", \"wma\", \"aac\",\r\n                    \"aif\", \"aiff\"\r\n                ]\r\n                break;\r\n            case \"videos\":\r\n                return [\r\n                    \"avi\", \"mpeg\", \"mpg\",\r\n                    \"mpe\", \"mp4\", \"mkv\",\r\n                    \"webm\", \"mov\", \"ogv\",\r\n                    \"vob\", \"m4v\", \"3gp\",\r\n                    \"divx\", \"xvid\", \"mxf\",\r\n                    \"wmv\", \"m1v\", \"flv\",\r\n                    \"m2ts\"\r\n                ]\r\n                break;\r\n            case \"documents\":\r\n                return [\r\n                    \"all\"\r\n                ]\r\n                break;\r\n        }\r\n\r\n        return [\r\n            \"all\"\r\n        ];\r\n    }\r\n\r\n    isFilesValid = (files) => {\r\n        let validExt = this.getValidFileExt();\r\n\r\n        if (validExt.includes(\"all\"))\r\n            return  true;\r\n\r\n        let valid = true;\r\n        files.forEach(file => {\r\n            let ext = file.name.split('.').pop();\r\n\r\n            if (!validExt.includes(ext.toLowerCase()))\r\n                valid = false;\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    showError = (message) => {\r\n        console.log(\"showError\", message);\r\n    }\r\n\r\n    getEmptyFolder = () => {\r\n        return (\r\n            <div className=\"FileManagerEmptyFolderRoot\">\r\n                <img\r\n                    className=\"FileManagerEmptyFolderImage\"\r\n                    draggable={false}\r\n                    width={20}\r\n                    height={20}\r\n                    src={require('../../icons/cloudupload.svg')}\r\n                />\r\n                <span className=\"FileManagerEmptyFolderTitle\">Start adding your files</span>\r\n                <span className=\"FileManagerEmptyFolderMessage\">Drag and drop files or upload from your computer</span>\r\n                <span className=\"FileManagerEmptyFolderMessage\">Or</span>\r\n                <UploadButton\r\n                    className=\"FileManagerEmptyFolderUploadButton\"\r\n                    onFileSelected={(e) => {\r\n                        this.uploadFile(Object.values(e.target.files).map(file => {\r\n                            return file;\r\n                        }))\r\n                    }}\r\n                    multiple\r\n                    accept={\r\n                        this.getValidFileExt().includes(\"all\") ? undefined :\r\n                        this.getValidFileExt().map(e => `.${e}`).join(',')\r\n                    }\r\n                >\r\n                    Upload New File\r\n                </UploadButton>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    openFolder = (folderName) => {\r\n        let {route} = this.state;\r\n        route = [...route];\r\n        route.push(folderName);\r\n        this.changeRoute(route);\r\n    }\r\n\r\n    onClickFile = (name, type) => {\r\n        if (!name) {\r\n            this.setState({selectedFile: \"\", selectedFiles: []});\r\n            return;\r\n        }\r\n\r\n        this.setState({selectedFile: name, selectedFiles: [name]});\r\n    }\r\n\r\n    onDoubleClickFile = (name, type) => {\r\n        if (type === \"folder\") {\r\n            this.openFolder(name);\r\n        }\r\n        else {\r\n\r\n        }\r\n    }\r\n\r\n    getFileIconPreview = (fileData) => {\r\n        return (\r\n            <img draggable={false}\r\n                 className=\"FileManagerImageIcon\"\r\n                 src={\r\n                     `${this.baseUrl}/${fileData.Key}`\r\n                 }\r\n                 style={{\r\n                     userDrag: \"none\",\r\n                     userSelect: \"none\"\r\n                 }}\r\n            />\r\n        )\r\n    }\r\n\r\n    deleteFiles = () => {\r\n        let {selectedFile, selectedFiles, list} = this.state;\r\n\r\n        let deleteObjects = [];\r\n        selectedFiles.forEach(filename => {\r\n            if (this.getFileType(filename) === \"file\")\r\n                deleteObjects.push({Key: `${this.getCurrentPrefix()}/${filename}`})\r\n        });\r\n\r\n        let currentPrifix = this.getCurrentPrefix();\r\n        FileManagerHelper.delete(this.context, deleteObjects, () => {\r\n            if (currentPrifix === this.getCurrentPrefix())\r\n                this.loadRoute();\r\n        }, (errorMessage) => {\r\n            this.setState({errorMessage});\r\n        });\r\n    }\r\n\r\n    getFileType = (selectedFile) => {\r\n        let {list} = this.state;\r\n\r\n        let isFile = list.contents.find(f => {\r\n            let filename = f.Key.split('/')[f.Key.split('/').length - 1];\r\n            return filename === selectedFile;\r\n        });\r\n\r\n        let isFolder = list.folders.find(f => {\r\n            let folderName = f.split('/')[0];\r\n            return folderName === selectedFile;\r\n        });\r\n\r\n        if (isFile)\r\n            return \"file\";\r\n\r\n        if (isFolder)\r\n            return \"folder\";\r\n\r\n        return \"unknown\";\r\n    }\r\n\r\n    selectedFilesContainFile = () => {\r\n        let {list, selectedFiles} = this.state;\r\n\r\n        if (!list)\r\n            return false;\r\n\r\n        let found = false;\r\n        list.contents.forEach(f => {\r\n            let filename = f.Key.split('/')[f.Key.split('/').length - 1];\r\n            if (selectedFiles.includes(filename))\r\n                found = true;\r\n        });\r\n\r\n        return found;\r\n    }\r\n\r\n    addFileManually = (fileData) => {\r\n        if (fileData.prefix !== this.getCurrentPrefix())\r\n            return;\r\n\r\n        let {list} = this.state;\r\n\r\n        list.contents.push({\r\n            Key: `${list.basePrefix}/${fileData.prefix}/${fileData.file.name}`\r\n        })\r\n\r\n        console.log(\"addFileManually 4\");\r\n        this.forceUpdate();\r\n        console.log(\"addFileManually 5\");\r\n    }\r\n\r\n    loadUserUsage = () => {\r\n        FileManagerHelper.usage(this.context, (usageData) => {\r\n            console.log(\"loadUserUsage\", usageData);\r\n            this.setState({usageData})\r\n        }, (errorMessage) => {\r\n            this.setState({errorMessage});\r\n        });\r\n    }\r\n\r\n    getUsageColor = () => {\r\n        let {usageData} = this.state;\r\n\r\n        let usagePercent = this.getUsagePercent();\r\n        if (usagePercent < 50)\r\n            return \"#53ff30\";\r\n        if (usagePercent < 80)\r\n            return \"#f8ff30\";\r\n        if (usagePercent < 90)\r\n            return \"#ff8a30\";\r\n        // if (usagePercent < 100)\r\n        return \"#ff3030\";\r\n    }\r\n\r\n    getUsagePercent = () => {\r\n        let {usageData} = this.state;\r\n        return usageData.usage / 500 / 1024 / 1024 * 100;;\r\n    }\r\n\r\n    render () {\r\n        let {options, onDone, onClose} = this.props;\r\n        let {list, usageData, selectedMenu, selectedFiles, route, uploadingData} = this.state;\r\n        return <Modal\r\n            open={this.props.open}\r\n            onClose={this.props.onClose}\r\n            aria-labelledby=\"simple-modal-title2\"\r\n            aria-describedby=\"simple-modal-description2\"\r\n            className=\"FileManagerModal\"\r\n            disableBackdropClick\r\n        >\r\n            <>\r\n            <div className=\"FileManagerRoot\">\r\n                {/*Header*/}\r\n                <div className=\"FileManagerHeader\">\r\n                    <div\r\n                        className=\"PageManagerHeaderContainer\"\r\n                    >\r\n                            <span className=\"PageManagerHeaderTitle\">\r\n                                File Manager\r\n                            </span>\r\n\r\n                        <IconButton\r\n                            onClick={this.props.onClose}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={12}\r\n                                height={12}\r\n                                src={require('../../icons/close.svg')}\r\n                            />\r\n                        </IconButton>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"FileManagerContainer\">\r\n                    <div className=\"FileManagerMenu\">\r\n                        <div className=\"FileManagerMenuContainer\">\r\n                        <span className=\"FileManagerMenuTitle\">\r\n                            Manage\r\n                        </span>\r\n\r\n                        <ButtonBase\r\n                            className={`FileManagerMenuOptionButton ${\r\n                                selectedMenu === \"Website Files\" ? \"FileManagerMenuOptionSelected\": \"\"\r\n                            }`}\r\n                            onClick={(e) => {this.setState({selectedMenu: \"Website Files\"})}}>\r\n                            <span className=\"FileManagerMenuOption\">\r\n                                Website Files\r\n                            </span>\r\n                        </ButtonBase>\r\n                        </div>\r\n\r\n                        <div className=\"FileManagerMenuUploadContainer\">\r\n                            <UploadButton\r\n                                className=\"FileManagerMenuUploadContainerButton\"\r\n                                onFileSelected={(e) => {\r\n                                    this.uploadFile(Object.values(e.target.files).map(file => {\r\n                                        return file;\r\n                                    }))\r\n                                }}\r\n                                multiple\r\n                                accept={\r\n                                    this.getValidFileExt().includes(\"all\") ? undefined :\r\n                                    this.getValidFileExt().map(e => `.${e}`).join(',')\r\n                                }\r\n                            >\r\n                                Upload New File\r\n                            </UploadButton>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"FileManagerContent\">\r\n                        {\r\n                            selectedMenu === \"Website Files\" &&\r\n                            <>\r\n                                <div className=\"FileManagerContentHeader\">\r\n                                    <div  className=\"FileManagerContentHeaderRoute\">\r\n                                        <ButtonBase\r\n                                            style={{\r\n                                                padding: 4,\r\n                                                borderRadius: 4\r\n                                            }}\r\n                                            onClick={(e) => {\r\n                                                this.changeRoute(this.getFirstRoute());\r\n                                            }}\r\n                                        >\r\n                                            {\r\n                                                this.state.route[0] + \" > \" + options.type || \"\"\r\n                                            }\r\n                                        </ButtonBase>\r\n                                        {\r\n                                            this.state.route.map((name, i)=> {\r\n                                                if (i === 0)\r\n                                                    return null;\r\n\r\n                                                if (i === 1 && options.type)\r\n                                                    return null;\r\n\r\n                                                return (\r\n                                                    <ButtonBase\r\n                                                        key={name}\r\n                                                        style={{\r\n                                                            padding: 4,\r\n                                                            borderRadius: 4,\r\n                                                        }}\r\n                                                        onClick={(e) => {\r\n                                                            let newRoute = this.getFirstRoute();\r\n                                                            let currentRoute = [...route];\r\n                                                            currentRoute.shift()\r\n                                                            if (options.type)\r\n                                                                currentRoute.shift();\r\n\r\n                                                            let next = currentRoute.shift();\r\n                                                            while (next !== name) {\r\n                                                                newRoute.push(next);\r\n                                                                next = currentRoute.shift();\r\n                                                            }\r\n                                                            newRoute.push(name);\r\n\r\n                                                            this.changeRoute(newRoute);\r\n                                                        }}\r\n                                                    >\r\n                                                        {\" > \" + name}\r\n                                                    </ButtonBase>\r\n                                                )\r\n                                            })\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <IconButton\r\n                                        buttonBaseStyle={{\r\n                                        }}\r\n                                        imageContainerStyle={{\r\n                                            padding: 0\r\n                                        }}\r\n                                        onClick={(e) => {\r\n                                            let newRoute = [...route];\r\n                                            if (!options.type && route.length === 1)\r\n                                                return;\r\n                                            if (options.type && route.length === 2)\r\n                                                return;\r\n\r\n                                            newRoute.pop();\r\n\r\n                                            this.changeRoute(newRoute);\r\n                                        }}\r\n                                    >\r\n                                        <img\r\n                                            draggable={false}\r\n                                            width={20}\r\n                                            height={20}\r\n                                            src={require('../../icons/folderback.svg')}\r\n                                        />\r\n                                    </IconButton>\r\n\r\n                                    <IconButton\r\n                                        buttonBaseStyle={{\r\n                                            marginLeft: 16\r\n                                        }}\r\n                                        imageContainerStyle={{\r\n                                            padding: 0\r\n                                        }}\r\n                                        onClick={(e) => {\r\n                                            this.setState({newFolder: true});\r\n                                        }}\r\n                                    >\r\n                                        <img\r\n                                            draggable={false}\r\n                                            width={20}\r\n                                            height={20}\r\n                                            src={require('../../icons/folder.svg')}\r\n                                        />\r\n                                    </IconButton>\r\n\r\n                                    <IconButton\r\n                                        buttonBaseStyle={{\r\n                                            marginLeft: 16\r\n                                        }}\r\n                                        imageContainerStyle={{\r\n                                            padding: 0\r\n                                        }}\r\n                                        onClick={(e) => {\r\n                                            this.deleteFiles();\r\n                                        }}\r\n                                        disabled={!this.selectedFilesContainFile()}\r\n                                    >\r\n                                        {\r\n                                            !this.selectedFilesContainFile()?\r\n                                                <img\r\n                                                    draggable={false}\r\n                                                    width={20}\r\n                                                    height={20}\r\n                                                    src={require('../../icons/bindisable.svg')}\r\n                                                />\r\n                                                :\r\n                                                <img\r\n                                                    draggable={false}\r\n                                                    width={20}\r\n                                                    height={20}\r\n                                                    src={require('../../icons/bin.svg')}\r\n                                                />\r\n                                         }\r\n                                    </IconButton>\r\n                                </div>\r\n\r\n                                <Dropzone\r\n                                    onDrop={acceptedFiles => this.uploadFile(acceptedFiles)}\r\n                                >\r\n                                    {({getRootProps, getInputProps}) => (\r\n                                        <div\r\n                                            className=\"FileManagerContentData\"\r\n                                            {...getRootProps({\r\n                                                onClick: event => {\r\n                                                    this.onClickFile();\r\n                                                    event.stopPropagation()\r\n                                                }\r\n                                            })}\r\n                                        >\r\n                                            <input {...getInputProps()} />\r\n                                            {\r\n                                                !list &&\r\n                                                <div className=\"FileManagerLoadingContainer\">\r\n                                                    <CircularProgress />\r\n                                                </div>\r\n                                            }\r\n                                            {\r\n                                                list && list.contents.length === 0 &&\r\n                                                list.folders.length === 0 &&\r\n                                                this.getEmptyFolder()\r\n                                            }\r\n                                            <div className=\"FileManagerFileContainer\">\r\n                                                {\r\n                                                    list &&\r\n                                                    list.folders.map(folderPath => {\r\n                                                        let folderName = folderPath.split('/')[0];\r\n                                                        return (\r\n                                                            <div key={folderPath} className=\"FileManagerFileRoot\">\r\n                                                                <div>\r\n                                                                    <div\r\n                                                                        className={`FileManagerFileData ${\r\n                                                                            selectedFiles.includes(folderPath) ?\r\n                                                                                \"FileManagerFileSelected\" : \"\"\r\n                                                                        }`}\r\n                                                                        onClick={\r\n                                                                            (e) => {\r\n                                                                                e.stopPropagation();\r\n                                                                                this.onClickFile(folderPath, \"folder\");\r\n                                                                            }\r\n                                                                        }\r\n                                                                        onDoubleClick={\r\n                                                                            (e) => {\r\n                                                                                e.stopPropagation();\r\n                                                                                this.onDoubleClickFile(folderPath, \"folder\");\r\n                                                                            }\r\n                                                                        }\r\n                                                                    >\r\n                                                                        <img draggable={false} width={56} height={56}\r\n                                                                             src={require('../../icons/file.svg')}\r\n                                                                             style={{\r\n                                                                                 userDrag: \"none\",\r\n                                                                                 userSelect: \"none\"\r\n                                                                             }}\r\n                                                                        />\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                                <span className=\"FileManagerFileName\">\r\n                                                                    {folderName}\r\n                                                                </span>\r\n                                                            </div>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                                {\r\n                                                    list &&\r\n                                                    list.contents.map(fileData => {\r\n                                                        let filename = fileData.Key.split('/')[fileData.Key.split('/').length - 1];\r\n\r\n                                                        let shortName = filename.split('.').slice(0, -1).join('.');\r\n\r\n                                                        return (\r\n                                                            <div key={filename} className=\"FileManagerFileRoot\">\r\n                                                                <div>\r\n                                                                    <div\r\n                                                                        className={`FileManagerFileData ${\r\n                                                                            selectedFiles.includes(filename) ?\r\n                                                                                \"FileManagerFileSelected\" : \"\"\r\n                                                                        }`}\r\n                                                                        onClick={\r\n                                                                            (e) => {\r\n                                                                                e.stopPropagation();\r\n                                                                                this.onClickFile(filename, \"file\");\r\n                                                                            }\r\n                                                                        }\r\n                                                                        onDoubleClick={\r\n                                                                            (e) => {\r\n                                                                                e.stopPropagation();\r\n                                                                                this.onDoubleClickFile(filename, \"file\");\r\n                                                                            }\r\n                                                                        }\r\n                                                                    >\r\n                                                                        {this.getFileIconPreview(fileData)}\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                                <span className=\"FileManagerFileName\">\r\n                                                                    {shortName}\r\n                                                                </span>\r\n                                                            </div>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                            </div>\r\n\r\n                                            {\r\n                                                uploadingData &&\r\n                                                <FileUploader\r\n                                                    ref={this.uploaderRef}\r\n                                                    prefix={uploadingData.prefix}\r\n                                                    files={uploadingData.files}\r\n                                                    onFinish={() => {\r\n                                                        this.setState({uploadingData: undefined})\r\n                                                    }}\r\n                                                    onSingleFileUploaded={this.addFileManually}\r\n                                                />\r\n                                            }\r\n                                        </div>\r\n                                    )}\r\n                                </Dropzone>\r\n\r\n                                <div className=\"FileManagerContentFooter\">\r\n                                        <div className=\"FileManagerContentUsageRoot\">\r\n                                            {\r\n                                                usageData &&\r\n                                                <>\r\n                                                    <div className=\"FileManagerContentUsageLabelRoot\">\r\n                                                    <span className=\"FileManagerContentUsageLabel\">\r\n                                                        Website Usage\r\n                                                    </span>\r\n                                                        <span>\r\n                                                        {\r\n                                                            `${(usageData.usage / 1024 / 1024).toFixed(2)} Mb / 500 Mb`\r\n                                                        }\r\n                                                    </span>\r\n                                                    </div>\r\n                                                    <MultiColorProgressBar\r\n                                                    readings={[\r\n                                                        {\r\n                                                            name: 'Used Space',\r\n                                                            value: this.getUsagePercent(),\r\n                                                            color: this.getUsageColor()\r\n                                                        },\r\n                                                        {\r\n                                                            name: 'Free Space',\r\n                                                            value: 100 - this.getUsagePercent(),\r\n                                                            color: '#f8f8f8'\r\n                                                        }\r\n                                                    ]}\r\n                                                    />\r\n                                                </>\r\n                                            }\r\n                                        </div>\r\n                                    {\r\n                                        onDone &&\r\n                                        <div className=\"FileManagerContentCallbackRoot\">\r\n                                            <ButtonBase\r\n                                                className={\r\n                                                    selectedFiles.length > 0 ?\r\n                                                    \"FileManagerMenuSelectButton\" :\r\n                                                    \"FileManagerMenuSelectButtonDisabled\"\r\n                                                }\r\n                                                onClick={(e) => {\r\n                                                    onClose();\r\n                                                    onDone(selectedFiles.map(filename => {\r\n                                                        return {\r\n                                                            url: `${this.baseUrl}/${list.basePrefix}/${this.getCurrentPrefix()}/${filename}`\r\n                                                        }\r\n                                                    }));\r\n                                                }}\r\n                                            >\r\n                                                Select\r\n                                            </ButtonBase>\r\n                                        </div>\r\n                                    }\r\n                                </div>\r\n                            </>\r\n                        }\r\n                        <div className=\"FileManagerUploadingRoot\">\r\n                            {/*TODO show upload progress of uploading files*/}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {\r\n                this.state.newFolder &&\r\n                <NewFolder\r\n                    open={true}\r\n                    onClose={(e) => {this.setState({newFolder: false})}}\r\n                    onDone={this.createNewFolder}\r\n                />\r\n            }\r\n            </>\r\n        </Modal>\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {EditorContext} from \"./EditorContext\";\r\nimport BreakPointManager from \"../BreakPointManager\";\r\nimport DragDropManager from \"../DragDropManager\";\r\nimport InputManager from \"../InputManager\";\r\nimport SelectManager from \"../SelectManager\";\r\nimport SnapManager from \"../SnapManager\";\r\nimport CopyManager from \"../CopyManager\";\r\nimport IdManager from \"../IdManager\";\r\nimport UndoRedo from \"../UndoRedo\";\r\nimport GridLineManager from \"../GridLineManager\";\r\nimport AnchorManager from \"../AnchorManager\";\r\nimport {initDynamicAnimations, initDynamicComponents} from \"../Dynamic/DynamicComponents\";\r\nimport AdjustmentGrid from \"../Adjustment/AdjustmentGrid\";\r\nimport AdjustmentSnap from \"../Adjustment/AdjustmentSnap\";\r\nimport AdjustmentGridLines from \"../Adjustment/AdjustmentGridLines\";\r\nimport AdjustmentGroupRect from \"../Adjustment/AdjustmentGroupRect\";\r\nimport MenuHolder from \"../Menus/MenuHolder\";\r\nimport PageBase from \"../Components/Pages/PageBase\";\r\nimport './EditorBoundary.css';\r\nimport IFrameCommunicator from \"../Test/IFrameCommunicator\";\r\nimport EditorController from \"../Test/EditorController\";\r\nimport Inspector from \"../Test/Inspector/Inspector\";\r\nimport AdjustmentResizeWrapper from \"../Adjustment/AdjustmentResizeWrapper\";\r\nimport AdjustmentHelpLinesWrapper from \"../Adjustment/AdjustmentHelpLinesWrapper\";\r\nimport AdjustmentHover from \"../Adjustment/AdjustmentHover\";\r\nimport {cloneObject} from \"../AwesomeGridLayoutUtils\";\r\nimport debounce from 'lodash.debounce';\r\nimport throttle from \"lodash.throttle\";\r\nimport Layout from \"../Test/Layout/Layout\";\r\nimport AddComponent from \"../Test/AddComponent/AddComponent\";\r\nimport PageManager from \"../Test/PageManager/PageManager\";\r\nimport {v4 as uuidv4} from \"uuid\";\r\nimport ThemeManager from \"../Test/Theme/ThemeManager\";\r\nimport defaultSiteData from \"../../data/defaultSiteData.json\";\r\nimport defaultAllComponentData from \"../../data/allComponentData.json\";\r\nimport EditorHeader from \"./EditorHeader\";\r\nimport PreviewHeader from \"./PreviewHeader\";\r\nimport PageView from \"./PageView\";\r\nimport classNames from \"classnames\";\r\nimport LinkGenerator from \"../Components/Text/Menus/components/LinkGenerator\";\r\nimport FileManager from \"../Components/FileManager/FileManager\";\r\nimport MenuManagerUI from \"../MenuManager/MenuManagerUI\";\r\nimport {getHomePage} from \"../MenuManager/MenuManager\";\r\n\r\nexport default class EditorBoundary extends React.Component{\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            preview: true\r\n        };\r\n\r\n        this.init(props);\r\n    }\r\n\r\n    // Declare all managers & refs\r\n    init = (props) => {\r\n        this.rootLayoutRef = React.createRef();\r\n        this.snapSvgRef = React.createRef();\r\n        this.gridContainerRef = React.createRef();\r\n        this.gridEditorRef = React.createRef();\r\n        this.groupSelectRef = React.createRef();\r\n        this.miniMenuHolderRef = React.createRef();\r\n        this.resizeRef = React.createRef();\r\n        this.helpLinesRef = React.createRef();\r\n        this.inspectorRef = React.createRef();\r\n        this.hoverRef = React.createRef();\r\n        this.layoutRef = React.createRef();\r\n        this.addComponentRef = React.createRef();\r\n        this.pageManagerRef = React.createRef();\r\n        this.themeManagerRef = React.createRef();\r\n        this.dragdrop = new DragDropManager();\r\n        this.inputManager = new InputManager();\r\n        this.select = new SelectManager(this.inputManager, this.groupSelectRef,\r\n            this.rootLayoutRef, this.miniMenuHolderRef, this.inspectorRef, this.resizeRef,\r\n            this.helpLinesRef, this.hoverRef);\r\n        this.snap = new SnapManager(5, this.snapSvgRef);\r\n        this.copyMan = new CopyManager(this.select, this.rootLayoutRef);\r\n        this.idMan = new IdManager('comp');\r\n        this.undoredo = new UndoRedo(100, document, this.idMan);\r\n        this.gridLine = new GridLineManager(this.gridContainerRef);\r\n        this.anchorMan = new AnchorManager();\r\n\r\n        initDynamicComponents();\r\n        initDynamicAnimations();\r\n\r\n        this.iFrameCommunicator = new IFrameCommunicator(undefined, \"WeblancerIFrameCommunicator\",\r\n            window.parent, this.onMessage);\r\n\r\n        // TODO test, clean them after test finished\r\n        window.addEventListener(\"keydown\",(e) =>{\r\n            e = e || window.event;\r\n            let key = e.which || e.keyCode; // keyCode detection\r\n            let ctrl = e.ctrlKey ? e.ctrlKey : (key === 17); // ctrl detection\r\n\r\n            if ( key === 80 && ctrl ) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + P\");\r\n                this.pinInspector();\r\n            }\r\n            if ( key === 76 && ctrl ) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + L\");\r\n                this.toggleThemeManager(true);\r\n            }\r\n            if ( key === 79 && ctrl ) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + O\");\r\n                this.toggleThemeManager(false);\r\n            }\r\n            if ( key === 69 && ctrl ) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + E\");\r\n                this.exportSiteData();\r\n            }\r\n        });\r\n\r\n\r\n    };\r\n\r\n    initContext = () => {\r\n        this.context.initContext({\r\n            editor: this,\r\n            rightMenus: {\r\n                addComponent: {\r\n                    state: false,\r\n                    toggle: this.toggleAddComponent\r\n                },\r\n                pageManager: {\r\n                    state: false,\r\n                    toggle: this.togglePageManager\r\n                },\r\n                themeManager: {\r\n                    state: false,\r\n                    toggle: this.toggleThemeManager\r\n                },\r\n                menuManager: {\r\n                    state: false,\r\n                    toggle: (force, open) => {\r\n                        if (open){\r\n                            this.context.showModal(\r\n                                <MenuManagerUI\r\n                                    open={true}\r\n                                    onClose={() => {\r\n                                        this.context.toggleRightMenu(\"menuManager\", false);\r\n                                    }}\r\n                                />\r\n                            );\r\n                            return true;\r\n                        }\r\n\r\n                        this.hideModal();\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        this.select.setContext(this.context);\r\n    };\r\n\r\n    componentDidMount(){\r\n        this.initContext();\r\n        this.loadSiteData();\r\n    }\r\n\r\n    loadSiteData = () => {\r\n        fetch(process.env.PUBLIC_URL + '/static/json/env.json').then((res) => res.json())\r\n        .then((data) => {\r\n            if (data.value === 'editor') {\r\n                this.postMessage({\r\n                    type: \"Holder\",\r\n                    func: \"onEditorMounted\",\r\n                    inputs: []\r\n                }, (data) => {\r\n                    console.log(\"componentDidMount initFromHolder\", data);\r\n                    this.initFromHolder(data.result);\r\n                });\r\n            } else {\r\n                fetch(process.env.PUBLIC_URL + '/static/json/siteData.json').then((res) => res.json())\r\n                    .then((siteData) => {\r\n                        this.context.setProduction(() => {\r\n                            this.onSiteDataUpdated(siteData);\r\n                        });\r\n                    }).catch(err => {\r\n                    console.log(\"loadSiteData error\", err);\r\n                })\r\n            }\r\n        }).catch(err => {\r\n            console.log(\"loadSiteData error\", err);\r\n        })\r\n    };\r\n\r\n    initFromHolder = (data) => {\r\n        this.onSetZoomScale(data.zoomScale);\r\n    };\r\n\r\n    onMessage = (data, res) => {\r\n        EditorController.onMessage(data, res, this);\r\n    };\r\n\r\n    postMessage = (data, callback) => {\r\n        console.log(\"EditorBoundry.postMessage\");\r\n        this.iFrameCommunicator.post(data, callback);\r\n    };\r\n\r\n    setPreview = (preview, callback) => {\r\n        callback && callback();\r\n        this.context.setPreview(preview);\r\n    }\r\n\r\n    testWebsite = () => {\r\n        let siteData = cloneObject(defaultSiteData);\r\n        let allComponentData = cloneObject(defaultAllComponentData);\r\n\r\n        this.onComponentDataUpdated(allComponentData);\r\n        this.onSiteDataUpdated(siteData);\r\n    };\r\n\r\n    onSiteDataUpdated = (siteData, websiteId, user) => {\r\n        if (!siteData) {\r\n            siteData = cloneObject(defaultSiteData);\r\n        }\r\n\r\n        if (websiteId)\r\n            this.context.setWebsiteId(websiteId);\r\n\r\n        user && this.context.setUser(user);\r\n\r\n        this.context.setSiteData(siteData, () => {\r\n            let pageData = getHomePage(siteData);\r\n            // let pageData = siteData.allPages[Object.keys(siteData.allPages)[0]];\r\n            this.context.setPageData(pageData.props.pageId, false, this.onHeightChange);\r\n        });\r\n\r\n        // TODO Test\r\n        let allComponentData = cloneObject(defaultAllComponentData);\r\n        this.onComponentDataUpdated(allComponentData);\r\n    };\r\n\r\n    setBreakpoints = (breakpoints) => {\r\n        this.breakpointmanager = new BreakPointManager(breakpoints, this,\r\n            undefined, this.onZoomLevelChange,\r\n            this.onHeightChange, this.onResize);\r\n    }\r\n\r\n    onComponentDataUpdated = (allComponentData) => {\r\n        this.setState({allComponentData});\r\n    };\r\n\r\n    onPageChange = (pageId, force) => {\r\n        if (!force && this.context.pageData.props.pageId === pageId) {\r\n            return;\r\n        }\r\n\r\n        console.log(\"onPageChange\");\r\n        this.rootLayoutRef.current.onSelect(true, () => {\r\n            this.idMan.clear();\r\n            this.snap.clearSnaps();\r\n\r\n            this.context.setPageData(undefined ,force, () => {\r\n                console.log(\"onPageChange2\");\r\n                this.context.setPageData(pageId);\r\n            });\r\n        });\r\n    };\r\n\r\n    togglePreview = (preview) => {\r\n        this.setState({preview});\r\n    };\r\n\r\n    setZoomLevel = (zoomLevel) => {\r\n        this.setState({zoomLevel: zoomLevel || 100});\r\n    };\r\n\r\n    componentWillUnmount(){\r\n        this.breakpointmanager.dispose();\r\n    }\r\n\r\n    onPageZoomChange = (zoomScale) => {\r\n        this.postMessage({\r\n            type: \"Holder\",\r\n            func: \"changePageZoom\",\r\n            inputs: [zoomScale]\r\n        }, (data) => {\r\n            this.onSetZoomScale(data.result)\r\n        });\r\n    };\r\n\r\n    onSetZoomScale = (zoomScale) => {\r\n        document.documentElement.style.setProperty('--zoom-scale', zoomScale);\r\n\r\n        this.context.setZoomScale(zoomScale, this.onZoomLevelChange);\r\n    };\r\n\r\n    // Just in editor\r\n    onBreakpointChange = (width, newBreakpointName, devicePixelRatio) => {\r\n        if (this.rootLayoutRef.current)\r\n            width = this.rootLayoutRef.current.getSize(false).width;\r\n\r\n        this.onPageResize(width, this.rootLayoutRef.current);\r\n    };\r\n\r\n    notifyBreakpointChange = (width, newBreakpointName, devicePixelRatio) => {\r\n        this.rootLayoutRef.current.props.aglComponent.updateTemplates();\r\n        this.rootLayoutRef.current.onBreakpointChange(width, newBreakpointName, devicePixelRatio);\r\n    };\r\n\r\n    onZoomLevelChange = (newDevicePixelRatio) => {\r\n        if (!this.rootLayoutRef.current)\r\n            return;\r\n        !this.isPreview() && this.rootLayoutRef.current.invalidateSize(true, true, true);\r\n        !this.isPreview() && this.select.onScrollItem();\r\n        this.rootLayoutRef.current.onWindowSizeChange();\r\n    };\r\n\r\n    isPreview = () => {\r\n        return this.context.preview;\r\n    }\r\n\r\n    onHeightChange = (e) => {\r\n        if (!this.rootLayoutRef.current)\r\n            return;\r\n        this.rootLayoutRef.current.invalidateSize(true, true, true);\r\n        !this.isPreview() && this.select.onScrollItem();\r\n        this.rootLayoutRef.current.onWindowSizeChange();\r\n        this.rootLayoutRef.current.updateLayout();\r\n\r\n        this.onResize(e);\r\n    };\r\n\r\n    toggleInspector = () => {\r\n        return this.inspectorRef.current.toggle();\r\n    };\r\n\r\n    pinInspector = () => {\r\n        this.context.setInspectorPinned(!this.context.inspectorPinned, () => {\r\n            this.select.onScrollItem();\r\n            this.rootLayoutRef.current.invalidateSize();\r\n        });\r\n\r\n        // this.editorData.innerWidth = window.innerWidth -\r\n        // this.context.inspectorPinned ? this.context.inspectorWidth : 0;\r\n\r\n        this.onScrollBoundary();\r\n        this.rootLayoutRef.current.updateLayout();\r\n    };\r\n\r\n    onPageResize = (width, pageAgl, force) => {\r\n        let result = this.breakpointmanager.checkBreakPointChange(width);\r\n\r\n        this.onResize(undefined, width);\r\n\r\n        console.log(\"onPageResize\", width)\r\n        this.context.setPageSizeWidth(width);\r\n\r\n        if (result.changed || force) {\r\n            this.notifyBreakpointChange(width, result.currentBreakpointName,\r\n                this.breakpointmanager.getDevicePixelRatio());\r\n        }\r\n    };\r\n\r\n    onResize = (e, width) => {\r\n        if (!this.rootLayoutRef.current)\r\n            return;\r\n\r\n        this.onResizeD(e, width);\r\n        this.onResizeT(e, width);\r\n    };\r\n\r\n    onResizeD = debounce((e, width) => {\r\n        if (!this.rootLayoutRef.current)\r\n            return;\r\n\r\n        if (!width)\r\n            width = this.rootLayoutRef.current.getSize(false, true).width;\r\n        document.documentElement.style.setProperty('--vw-ratio', width / window.innerWidth);\r\n    }, 100);\r\n\r\n    onResizeT = throttle((e, width) => {\r\n        if (!width)\r\n            width = this.rootLayoutRef.current.getSize(false, true).width;\r\n\r\n        document.documentElement.style.setProperty('--vw-ratio', width / window.innerWidth);\r\n    }, 100);\r\n\r\n    onPageResizeStart = () => {\r\n        if (this.isPreview()) return;\r\n        this.resizeRef.current.activate(false);\r\n        this.helpLinesRef.current.activate(false);\r\n        this.miniMenuHolderRef.current.activate(false);\r\n    };\r\n\r\n    onPageResizeStop = () => {\r\n        if (this.isPreview()) return;\r\n        this.resizeRef.current.activate(true);\r\n        this.helpLinesRef.current.activate(true);\r\n        this.miniMenuHolderRef.current.activate(true);\r\n    };\r\n\r\n    onScrollBoundary = (e) => {\r\n        !this.isPreview() && this.rootLayoutRef.current.invalidateSize(true, true, true);\r\n        !this.isPreview() &&this.select.onScrollItem();\r\n\r\n        this.rootLayoutRef.current.onWindowSizeChange();\r\n    };\r\n\r\n    updateLayout = () => {\r\n        if (!this.rootLayoutRef.current)\r\n            return;\r\n\r\n        let layout = [];\r\n\r\n        let getLayoutItem = (item, childData) => {\r\n            if (!item || !item.mounted)\r\n                return;\r\n\r\n            return {\r\n                id: childData.props.id,\r\n                childData: childData,\r\n                childrenData: Object.keys(item.getFromTempData(\"savedChildren\")).map(childId => {\r\n                    let childData = item.getFromTempData(\"savedChildren\")[childId];\r\n                    return getLayoutItem(\r\n                        item.allChildRefs[childId].current,\r\n                        childData\r\n                    );\r\n                }).filter(il => {\r\n                    return il;\r\n                })\r\n            };\r\n        };\r\n\r\n        let pageChildData = {\r\n            tagName: this.rootLayoutRef.current.props.tagName,\r\n            props: this.rootLayoutRef.current.getClearProps({...this.rootLayoutRef.current.props}),\r\n            zIndex: 0\r\n        };\r\n\r\n        layout.push(getLayoutItem(this.rootLayoutRef.current, pageChildData));\r\n\r\n        this.layoutRef.current.setLayout(layout);\r\n    };\r\n\r\n    openLayout = () => {\r\n        this.layoutRef.current.open();\r\n    };\r\n\r\n    closeLayout = () => {\r\n        this.layoutRef.current.close();\r\n    };\r\n\r\n    toggleAddComponent = (force, state) => {\r\n        if (state === true) {\r\n            this.addComponentRef.current.open();\r\n            return true;\r\n        }\r\n        return this.addComponentRef.current.toggle(force);\r\n    };\r\n\r\n    togglePageManager = (force, state) => {\r\n        if (state === true) {\r\n            this.pageManagerRef.current.open();\r\n            return true;\r\n        }\r\n        return this.pageManagerRef.current.toggle(force);\r\n    };\r\n\r\n    toggleThemeManager = (force, state) => {\r\n        if (state === true) {\r\n            this.themeManagerRef.current.open();\r\n            return true;\r\n        }\r\n        return this.themeManagerRef.current.toggle(force);\r\n    };\r\n\r\n    // pageData is a childData that is for PageBase component\r\n    getLivePageData = () => {\r\n        return {\r\n            tagName: \"PageBase\",\r\n            props: this.rootLayoutRef.current.getClearProps({...this.rootLayoutRef.current.props})\r\n        };\r\n    };\r\n\r\n    getLiveSiteData = () => {\r\n        let siteData = this.context.siteData || {allPages: {}};\r\n\r\n        siteData.allPages[uuidv4()] = this.getLivePageData();\r\n\r\n        return siteData;\r\n    };\r\n\r\n    exportSiteData = () => {\r\n        let siteData = this.getLiveSiteData();\r\n\r\n        const fileName = \"siteData\";\r\n        const json = JSON.stringify(siteData);\r\n        const blob = new Blob([json],{type:'application/json'});\r\n        const href = URL.createObjectURL(blob);\r\n        const link = document.createElement('a');\r\n        link.href = href;\r\n        link.download = fileName + \".json\";\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n    };\r\n\r\n    getSiteData = (callback) => {\r\n        callback && callback(this.context.siteData);\r\n        return this.context.siteData;\r\n    }\r\n\r\n    isProduction = () => {\r\n        return this.context.production;\r\n    }\r\n\r\n    showLinkGenerator = (linkData, onDone) => {\r\n        this.setState({linkGenerator: {linkData, onDone}});\r\n    }\r\n\r\n    showFileManager = (options, onDone) => {\r\n        this.setState({fileManager: {options, onDone}});\r\n    }\r\n\r\n    showModal = (modal, callback) => {\r\n        this.setState({modal}, callback);\r\n    }\r\n\r\n    hideModal = (callback) => {\r\n        this.setState({modal: undefined}, callback);\r\n    }\r\n\r\n    render() {\r\n        // TODO if this.context.siteData not loaded, show loading component\r\n        let borderClassess = classNames(\r\n            \"PageBaseWhiteBackground\",\r\n            this.context.production ? \"PageBaseWhiteBackgroundHeightProduction\" : \"PageBaseWhiteBackgroundHeightEditor\",\r\n        );\r\n        if (this.context.pageData) {\r\n            return (\r\n                <div className=\"EditorBoundaryRoot\" onContextMenu={(e) => {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                }}>\r\n                    {\r\n                        !this.isPreview() && !this.isProduction() &&\r\n                        <div className=\"EditorBoundaryHeader\">\r\n                            <EditorHeader\r\n                                onAddComponentClick={this.toggleAddComponent}\r\n                                onInspectorClick={this.toggleInspector}\r\n                                onThemeManagerClick={this.toggleThemeManager}\r\n                                onPageManagerClick={this.togglePageManager}\r\n                                onPageZoomChange={this.onPageZoomChange}\r\n                            />\r\n                        </div>\r\n                    }\r\n                    {\r\n                        this.isPreview() && !this.isProduction() &&\r\n                        <div className=\"EditorBoundaryHeader\">\r\n                            <PreviewHeader\r\n                                onAddComponentClick={this.toggleAddComponent}\r\n                                onInspectorClick={this.toggleInspector}\r\n                                onThemeManagerClick={this.toggleThemeManager}\r\n                                onPageManagerClick={this.togglePageManager}\r\n                                onPageZoomChange={this.onPageZoomChange}\r\n                            />\r\n                        </div>\r\n                    }\r\n                    <div className=\"EditorBoundaryContent\">\r\n                        {\r\n                            !this.isPreview() && !this.isProduction() &&\r\n                            <>\r\n                                <AdjustmentGrid\r\n                                    ref={this.gridEditorRef}\r\n                                />\r\n                                <AdjustmentSnap\r\n                                    ref={this.snapSvgRef}\r\n                                />\r\n                                <AdjustmentGridLines\r\n                                    ref={this.gridContainerRef}\r\n                                />\r\n                                <AdjustmentGroupRect\r\n                                    ref={this.groupSelectRef}\r\n                                />\r\n\r\n                                <PageManager\r\n                                    ref={this.pageManagerRef}\r\n                                    editor={this}\r\n                                    onPageChange={this.onPageChange}\r\n                                />\r\n                            </>\r\n                        }\r\n\r\n                        {\r\n                            this.context.pageData &&\r\n                            <PageView\r\n                                onScrollBoundary={this.onScrollBoundary}\r\n                                rootLayoutRef={this.rootLayoutRef}\r\n                            >\r\n                                <div className={borderClassess} style={{\r\n                                    marginTop: this.context.production? 0 : `${8*this.context.zoomScale}vh`\r\n                                }}>\r\n                                    <PageBase\r\n                                        key={this.context.pageData.props.pageId}\r\n                                        id=\"page\"\r\n                                        aglRef={this.rootLayoutRef}\r\n                                        viewRef={this.rootLayoutRef}\r\n                                        breakpointmanager={this.breakpointmanager}\r\n                                        undoredo={this.undoredo}\r\n                                        dragdrop={this.dragdrop}\r\n                                        select={this.select}\r\n                                        snap={this.snap}\r\n                                        input={this.inputManager}\r\n                                        idMan={this.idMan}\r\n                                        gridLine={this.gridLine}\r\n                                        gridEditorRef={this.gridEditorRef}\r\n                                        anchorMan={this.anchorMan}\r\n                                        copyMan={this.copyMan}\r\n                                        editorData={this.editorData}\r\n                                        onPageResize={this.onPageResize}\r\n                                        onPageResizeStart={this.onPageResizeStart}\r\n                                        onPageResizeStop={this.onPageResizeStop}\r\n                                        editor={!this.isPreview() && this}\r\n                                        devicePixelRatio={this.state.devicePixelRatio}\r\n                                        {...this.context.pageData.props}\r\n                                        pageSize={this.context.pageSize}\r\n                                    />\r\n                                </div>\r\n                            </PageView>\r\n                        }\r\n\r\n                        {\r\n                            !this.isPreview() && !this.isProduction() &&\r\n                            <>\r\n                                {\r\n                                    !this.context.pageData &&\r\n                                    <div>\r\n                                        {/*Loading...*/}\r\n                                    </div>\r\n                                }\r\n\r\n                                <AdjustmentHover\r\n                                    ref={this.hoverRef}\r\n                                />\r\n\r\n                                <AdjustmentHelpLinesWrapper\r\n                                    ref={this.helpLinesRef}\r\n                                />\r\n\r\n                                <AdjustmentResizeWrapper\r\n                                    ref={this.resizeRef}\r\n                                />\r\n\r\n                                {\r\n                                    this.context.pageData &&\r\n                                    <Layout\r\n                                        ref={this.layoutRef}\r\n                                        idMan={this.idMan}\r\n                                    />\r\n                                }\r\n\r\n                                {\r\n                                    this.context.siteData &&\r\n                                    this.context.pageData &&\r\n                                    <ThemeManager\r\n                                        ref={this.themeManagerRef}\r\n                                        editor={this}\r\n                                    />\r\n                                }\r\n\r\n                                {\r\n                                    this.state.linkGenerator &&\r\n                                    <LinkGenerator\r\n                                        open={true}\r\n                                        linkData={this.state.linkGenerator.linkData}\r\n                                        onClose={() => {this.setState({linkGenerator: undefined})}}\r\n                                        onDone={this.state.linkGenerator.onDone}\r\n                                    />\r\n                                }\r\n\r\n                                {\r\n                                    this.state.fileManager &&\r\n                                    <FileManager\r\n                                        open={true}\r\n                                        options={this.state.fileManager.options}\r\n                                        onClose={() => {this.setState({fileManager: undefined})}}\r\n                                        onDone={this.state.fileManager.onDone}\r\n                                    />\r\n                                }\r\n\r\n                                {\r\n                                    this.state.modal\r\n                                }\r\n\r\n                                <AddComponent\r\n                                    ref={this.addComponentRef}\r\n                                    allComponentData={this.state.allComponentData}\r\n                                    pageRef={this.rootLayoutRef}\r\n                                    editor={this}\r\n                                />\r\n\r\n                                <Inspector\r\n                                    ref={this.inspectorRef}\r\n                                    pinInspector={this.pinInspector}\r\n                                />\r\n                                <MenuHolder\r\n                                    ref={this.miniMenuHolderRef}\r\n                                />\r\n                            </>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport EditorBoundary from \"./AwesomeGridLayout/Editor/EditorBoundary\";\r\nimport EditorContextProvider from \"./AwesomeGridLayout/Editor/EditorContext\";\r\n\r\nReactDOM.render(\r\n    <EditorContextProvider>\r\n        <EditorBoundary />\r\n    </EditorContextProvider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/paint.b4611be4.svg\";"],"sourceRoot":""}