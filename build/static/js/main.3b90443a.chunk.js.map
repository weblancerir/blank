{"version":3,"sources":["AwesomeGridLayout/icons/paint.svg","AwesomeGridLayout/Adjustment/icons/plus.svg","AwesomeGridLayout/icons/align-left.svg","AwesomeGridLayout/icons/align-center.svg","AwesomeGridLayout/icons/align-right.svg","AwesomeGridLayout/icons/align-top.svg","AwesomeGridLayout/icons/align-middle.svg","AwesomeGridLayout/icons/align-bottom.svg","AwesomeGridLayout/icons/chain.svg","AwesomeGridLayout/icons/unlink.svg","AwesomeGridLayout/icons/more.svg","AwesomeGridLayout/icons/question.svg","AwesomeGridLayout/Adjustment/icons/minimize.svg","AwesomeGridLayout/Adjustment/icons/maximize.svg","serviceWorker.js","AwesomeGridLayout/AwesomeGridLayoutUtils.js","AwesomeGridLayout/BreakPointManager.js","AwesomeGridLayout/Editor/EditorContext.js","AwesomeGridLayout/DragDropManager.js","AwesomeGridLayout/GridChildContainerChildren.js","AwesomeGridLayout/Test/Inspector/InspectorBreadcrumbs.js","AwesomeGridLayout/HelperComponents/IconButton.js","AwesomeGridLayout/Test/Inspector/InspectorAligns.js","AwesomeGridLayout/AwesomwGridLayoutHelper.js","AwesomeGridLayout/Menus/CommonComponents/NumberInputWithUnit.js","AwesomeGridLayout/Test/Inspector/InspectorTitle.js","AwesomeGridLayout/Test/Inspector/InspectorSize.js","AwesomeGridLayout/Test/Inspector/DockSwitch.js","AwesomeGridLayout/Test/Inspector/InspectorPosition.js","AwesomeGridLayout/Menus/CommonComponents/DropDown.js","AwesomeGridLayout/Menus/CommonComponents/NumberInput.js","AwesomeGridLayout/Test/Inspector/InspectorScroll.js","AwesomeGridLayout/Test/Inspector/InspectorPadding.js","AwesomeGridLayout/Test/Inspector/InspectorOverflow.js","AwesomeGridLayout/Menus/CommonComponents/TextInput.js","AwesomeGridLayout/Test/Inspector/InspectorAnchor.js","AwesomeGridLayout/Test/Inspector/InspectorAdjustment.js","AwesomeGridLayout/Components/Helpers/AGLComponent.js","AwesomeGridLayout/Menus/MenuBase/MenuButton.js","AwesomeGridLayout/Menus/MenuBase/MenuBaseIndexTitle.js","AwesomeGridLayout/Components/Containers/Menus/Components/LightTooltip.js","AwesomeGridLayout/Menus/MenuBase/MenuBase.js","AwesomeGridLayout/Menus/CommonComponents/Slider.js","AwesomeGridLayout/Menus/CommonComponents/SliderInputControlled.js","AwesomeGridLayout/Menus/CommonComponents/Image.js","AwesomeGridLayout/Portal.js","AwesomeGridLayout/Test/Theme/HexColorPicker.js","AwesomeGridLayout/Test/Theme/ThemeColorPicker.js","AwesomeGridLayout/Menus/CommonComponents/ColorPicker.js","AwesomeGridLayout/Components/Containers/Menus/Components/Background.js","AwesomeGridLayout/Menus/CommonComponents/Divider.js","AwesomeGridLayout/Menus/CommonComponents/SliderInput.js","AwesomeGridLayout/Components/Containers/Menus/Components/Border.js","AwesomeGridLayout/Components/Containers/Menus/Components/Corners.js","AwesomeGridLayout/Menus/CommonComponents/CircularSlider.js","AwesomeGridLayout/Menus/CommonComponents/Angle.js","AwesomeGridLayout/Components/Containers/Menus/Components/Shadow.js","AwesomeGridLayout/Components/Containers/Menus/BorderDesign.js","AwesomeGridLayout/Menus/CommonComponents/GridViewer.js","AwesomeGridLayout/Components/Containers/Menus/Components/AnimationSelector.js","AwesomeGridLayout/Components/Containers/Menus/Components/AnimationOptions.js","AwesomeGridLayout/Components/Containers/Menus/AnimationDesign.js","AwesomeGridLayout/Components/Containers/ContainerBase.js","AwesomeGridLayout/Components/Containers/Menus/SectionDesign.js","AwesomeGridLayout/Components/Containers/Header.js","AwesomeGridLayout/Components/Containers/Footer.js","AwesomeGridLayout/Components/Containers/Section.js","AwesomeGridLayout/Test/Inspector/InspectorBackground.js","AwesomeGridLayout/Components/Pages/PageBase.js","AwesomeGridLayout/Components/Stack/VerticalSpacer.js","AwesomeGridLayout/Test/Animations/FadeInAnimation.js","AwesomeGridLayout/Test/Animations/BounceInAnimation.js","AwesomeGridLayout/Test/Animations/GlideInAnimation.js","AwesomeGridLayout/Test/Animations/FloatInAnimation.js","AwesomeGridLayout/Test/Animations/ExpandInAnimation.js","AwesomeGridLayout/Test/Animations/SpinInAnimation.js","AwesomeGridLayout/Test/Animations/FlyInAnimation.js","AwesomeGridLayout/Test/Animations/TurnInAnimation.js","AwesomeGridLayout/Test/Animations/ArcInAnimation.js","AwesomeGridLayout/Test/Animations/PuffInAnimation.js","AwesomeGridLayout/Test/Animations/FoldInAnimation.js","AwesomeGridLayout/Test/Animations/FlipInAnimation.js","AwesomeGridLayout/Test/Animations/RevealAnimation.js","AwesomeGridLayout/Components/Text/TextHelper.js","AwesomeGridLayout/Components/Text/Menus/InputDiv.js","AwesomeGridLayout/Components/Text/Menus/InputWrapper.js","AwesomeGridLayout/Components/Text/Menus/TextEditorButton.js","AwesomeGridLayout/Components/Text/Menus/components/FontSizeAutoComplete.js","AwesomeGridLayout/Components/Text/Menus/components/FontSizeSelector.js","AwesomeGridLayout/Components/Text/Menus/components/TextColorSelector.js","AwesomeGridLayout/Test/CSSManager.js","AwesomeGridLayout/Components/Text/Menus/TextEditor.js","AwesomeGridLayout/Components/Text/TextWrapper.js","AwesomeGridLayout/Components/Text/Text.js","AwesomeGridLayout/Dynamic/DynamicComponents.js","AwesomeGridLayout/Adjustment/AdjustmentPageControllers.js","AwesomeGridLayout/GridChildContainerFixedHolder.js","AwesomeGridLayout/Test/PaddingInterface.js","AwesomeGridLayout/Test/ParentSelectInterface.js","AwesomeGridLayout/GridChildContainer.js","AwesomeGridLayout/AGLAnchor.js","AwesomeGridLayout/Adjustment/ResizePanePage.js","AwesomeGridLayout/Adjustment/AdjustmentResizePage.js","AwesomeGridLayout/Test/EventTrigger.js","AwesomeGridLayout/Test/WindowCache.js","AwesomeGridLayout/AnimationHolder.js","AwesomeGridLayout/Test/VisibilitySensorWrapper.js","AwesomeGridLayout/Adjustment/AdjustmentHelpSize.js","AwesomeGridLayout/AwesomeGridLayout2.js","AwesomeGridLayout/Components/Helpers/AGLWrapper.js","AwesomeGridLayout/Components/Stack/StackSpacerContainer.js","AwesomeGridLayout/Adjustment/AdjustmentMove.js","AwesomeGridLayout/Components/Stack/StackSpacerResizer.js","AwesomeGridLayout/Components/Stack/StackSpacer.js","AwesomeGridLayout/Components/Stack/Stack.js","AwesomeGridLayout/Test/ContextMenu.js","AwesomeGridLayout/InputManager.js","AwesomeGridLayout/SelectManager.js","AwesomeGridLayout/SnapManager.js","AwesomeGridLayout/CopyManager.js","AwesomeGridLayout/IdManager.js","AwesomeGridLayout/UndoRedo.js","AwesomeGridLayout/GridLineManager.js","AwesomeGridLayout/AnchorManager.js","AwesomeGridLayout/Adjustment/AdjustmentGridRoot.js","AwesomeGridLayout/Adjustment/AdjustmentGridRow.js","AwesomeGridLayout/Adjustment/AdjustmentGrid.js","AwesomeGridLayout/Adjustment/AdjustmentSnapLines.js","AwesomeGridLayout/Adjustment/AdjustmentSnap.js","AwesomeGridLayout/Adjustment/GridLine.js","AwesomeGridLayout/Adjustment/AdjustmentGridLinesWrapper2.js","AwesomeGridLayout/Adjustment/AdjustmentGridLines.js","AwesomeGridLayout/Adjustment/ResizePane.js","AwesomeGridLayout/Adjustment/AdjustmentGroupRect.js","AwesomeGridLayout/Menus/MiniMenu/Components/RightClick.js","AwesomeGridLayout/Menus/MiniMenu/MiniMenuVerticalDivider.js","AwesomeGridLayout/Menus/MiniMenu/Components/Help.js","AwesomeGridLayout/Menus/MiniMenu/MiniMenu.js","AwesomeGridLayout/Menus/MenuHolder.js","AwesomeGridLayout/Test/IFrameCommunicator.js","AwesomeGridLayout/Test/EditorController.js","AwesomeGridLayout/Test/Inspector/Inspector.js","AwesomeGridLayout/Adjustment/AdjustmentStretch.js","AwesomeGridLayout/Adjustment/AdjustmentResize.js","AwesomeGridLayout/Adjustment/AdjustmentResizeWrapper.js","AwesomeGridLayout/Adjustment/AdjustmentHelpLines.js","AwesomeGridLayout/Adjustment/AdjustmentHelpLinesWrapper.js","AwesomeGridLayout/Adjustment/AdjustmentHover.js","AwesomeGridLayout/Test/Layout/Layout.js","AwesomeGridLayout/Test/AddComponent/ComponentGrid.js","AwesomeGridLayout/Test/AddComponent/AddComponent.js","AwesomeGridLayout/Test/PageManager/PageTypeTitle.js","AwesomeGridLayout/Test/PageManager/PageSetting/PageInfo.js","AwesomeGridLayout/Menus/CommonComponents/AglRadio.js","AwesomeGridLayout/Test/PageManager/PageSetting/Permissions.js","AwesomeGridLayout/Test/PageManager/PageSetting/SeoGoogle.js","AwesomeGridLayout/Test/PageManager/PageSetting/SocialShare.js","AwesomeGridLayout/Test/PageManager/PageSetting/PageSetting.js","AwesomeGridLayout/Test/PageManager/PageItem.js","AwesomeGridLayout/Test/PageManager/AddNewPageDialogItem.js","AwesomeGridLayout/Test/PageManager/AddNewPageDialog.js","AwesomeGridLayout/Test/PageManager/PageManager.js","AwesomeGridLayout/Test/Theme/ThemeTextItem.js","AwesomeGridLayout/Test/Theme/ThemeColorsItem.js","AwesomeGridLayout/Test/Theme/ThemeManager.js","AwesomeGridLayout/Editor/Zoom/EditorHeaderZoom.js","AwesomeGridLayout/Editor/PageSelect/EditorHeaderPageSelect.js","AwesomeGridLayout/Menus/CommonComponents/NumberInputEnterToChange.js","AwesomeGridLayout/Editor/Breakpoints/BreakpointHelper.js","AwesomeGridLayout/Editor/Breakpoints/EditorHeaderBreakpointsSettingItem.js","AwesomeGridLayout/Editor/Breakpoints/EditorHeaderBreakpointsSetting.js","AwesomeGridLayout/Editor/Breakpoints/EditorHeaderBreakpoints.js","AwesomeGridLayout/Editor/EditorHeader.js","AwesomeGridLayout/Editor/Breakpoints/PreviewHeaderBreakpoints.js","AwesomeGridLayout/Editor/PreviewHeader.js","AwesomeGridLayout/Editor/PageView.js","AwesomeGridLayout/Editor/EditorBoundary.js","index.js","AwesomeGridLayout/icons/close.svg"],"names":["module","exports","Boolean","window","location","hostname","match","initGriddata","griddataProp","breakpointdata","initialized","clone","cloneObject","props","griddata","getDefaultChildgriddata","bpData","exist","props2","prop","hasOwnProperty","k","sample","x","y","w","h","minW","undefined","maxW","minH","maxH","constraints","left","top","right","bottom","margin","all","units","scrollType","absolute","fix","autoHeight","autoWidth","overflowData","state","overflowY","resizable","draggable","hasOwnBreakPoints","isContainer","autoDock","sortedBreakPoints","getSortedBreakPoints","name","obj","Array","copy","i","len","length","Object","attr","shallowEqual","objA","objB","keysA","keys","keysB","throttleDebounce","fn","ms","deTimer","dontCall","_","args","arguments","apply","setTimeout","clearTimeout","scrollbarWidth","getScrollbarWidth","document","div","createElement","css","width","height","position","overflow","MsOverflowStyle","body","appendChild","offsetWidth","clientWidth","removeChild","assignData","newData","assign","JSToCSS","JS","cssString","objectKey","replace","g","toLowerCase","updateStyle","styleNode","style","styleName","innerHTML","styleSheet","cssText","createTextNode","appendStyle","styleId","setAttribute","type","getElementsByTagName","swapArrayElements","arr","indexA","indexB","temp","BreakPointManager","breakpoints","editor","onBreakpointChange","onZoomLevelChange","onHeightChange","onResize","fixBreakpointRules","forEach","end","updateBreakpoint","start","prevBp","bp","find","b","getUpperBreakPoint","push","newBpData","prevBpData","deleteBreakpoint","index","findIndex","splice","fromClone","windowInnerWidth","lastWidth","editorData","copyDesign","designDatas","sourceItem","cloneDesignDatas","getCopyDesign","pasteDesign","item","designData","design","justOneBp","currentBpName","breakpointmanager","current","bpName","getWindowWidth","getWindowHeight","rootLayoutRef","getSize","setWindowWidth","getBpData","getDevicePixelRatio","devicePixelRatio","onDevicePixelRatioChange","changed","onHeightResize","e","lastHeight","innerHeight","onWindowResize","newWidth","innerWidth","context","inspectorPinned","inspectorWidth","result","checkBreakPointChange","currentBreakpointName","lastBreakpointName","size","currentBpData","setData","dataSet","param","value","breakpointName","params","split","override","getFromData","firstParamResult","findFirstUpperBreakPointParam","slice","p","getHighestBpName","getCompositeFromData","results","checkBreakpointName","composite","merge","hasDataInBreakPoint","findFirstUpperBreakPointName","getMinWidth","minSize","filter","sort","a","getDefault","this","addEventListener","removeEventListener","prefer","breakPointData","getColorScheme","baseColor","chroma","luminance","EditorContext","React","createContext","colorKeys","EditorContextProvider","getThemeColorClass","color","paletteName","key","replaceAll","getThemeBackColorClass","getTheme","category","values","siteData","theme","items","t","getColor","calculateTheme","Colors","force","calculated","scheme","main","calculateColorCSS","doc","colorsCSS","console","log","id","backColor","cssId","getElementById","addCSS","setProduction","callback","setState","production","preview","sendEditCommand","postMessage","func","inputs","setPreview","sendPublishCommand","pageData","setPageData","idMan","clear","pageId","update","reload","initContext","getInnerWidth","setZoomScale","zoomScale","setSiteData","postSiteData","allPages","setBreakpoints","onSelect","onNewBpAdded","pageChildData","tagName","getClearProps","zIndex","changeGriddata","childData","mounted","getFromTempData","map","childId","allChildRefs","setInspectorPinned","setInspectorWidth","setDevicePixelRatio","setAllComponentData","allComponentData","toggleRightMenu","menuName","rightMenus","toggle","setPageSizeWidth","pageSize","setPageSize","setRightMenus","getInnerWith","addComponent","pageManager","themeManager","Provider","children","Component","DragDropManager","setDragging","draggingItem","getDragging","isDraggingItemFixed","portalNodeId","setDraggingStop","mouseOver","parent","getParentsId","includes","prepareRects","dropItem","newParent","fromUndoRedo","undoPower","toggleHelpLines","onChildLeave","drop","onChildDrop","newItem","itemId","firstRelativeX","dragData","firstPos","firstRelativeY","parentRect","lastRelativeX","lastRelativeY","newParentRect","parentId","newParentId","undoredo","add","getItem","setMouseOver","setPosition","dragdrop","gridLine","hasGridLine","removeMouseOver","positionData","toggleGridLines","setMouseOverForNonDragging","mouseOverNonDragging","getMouseOverForNonDragging","GridChildContainerChildren","saveState","allChildren","allChildId","allChildIndex","c","z","child","getSorted","getChildren","agl","getChildrenOverride","nextProps","nextState","nextContext","JSON","stringify","InspectorBreadcrumbs","className","reverse","onClick","IconButton","aria-label","marginLeft","borderRadius","boxSizing","buttonBaseStyle","disabled","ref","rootRef","display","justifyContent","alignItems","padding","imageContainerStyle","icon","InspectorAligns","getButtonsData","horizontal","img","src","require","vertical","data","alignItem","saveGridItemStyle","setGridItemStyle","select","onScrollItem","gridItemStyle","alignSelf","marginTop","marginBottom","justifySelf","marginRight","baseDocks","getBaseDocks","setDocks","NumberInputWithUnit","inputFilter","oldValue","okay","parseFloat","isNaN","Math","min","max","onChange","target","endsWith","getValue","onShowUnits","anchorEl","currentTarget","round","showUnits","unitIconButton","createRef","classes","classNames","textAlign","inputStyle","unit","unitButtonStyle","disableUnit","unitMenuStyle","open","onClose","MenuListProps","dense","onUnitChange","InspectorTitle","defaultOpen","title","process","InspectorSize","onItemPropsChange","owner","getUnit","getViewRatioStyle","setNewSize","parentValue","defaultValue","getPxValueFromCSSValue","runtimeValueToStyleValue","propName","onPropsChange","addListener","removeListener","runtimeStyle","runtimeGridItemStyle","getRuntimeGridItemStyle","widthForPercent","heightForPercent","Infinity","disabledProps","scrollWidthMinusPadding","widthUnits","scrollHeightMinusPadding","heightUnits","minWidth","maxWidth","minWidthUnits","minHeight","maxHeight","minHeightUnits","maxWidthUnits","maxHeightUnits","defaultProps","DockSwitch","withStyles","root","switchBase","transform","opacity","backgroundColor","thumb","boxShadow","track","checked","Switch","InspectorPosition","onDockActiveChange","side","oldDocks","updateHelpLines","helpLinesParent","dragging","onDockAutoChange","setTempData","parentProp","compositeGridItemStyle","onValueChange","getUnitFromStyleValue","updateResizePanes","docks","auto","fontSize","DropDown","option","valueRenderer","renderer","rootStyle","spanStyle","cursor","menuStyle","options","pointerEvents","menuItemStyle","NumberInput","test","toFixed","InspectorScroll","onChangeScrollEffect","offsetTop","setScrollBehaviour","viewRef","onChangeOffsetTop","behaviour","getValueFromCSSValue","InspectorPadding","compositePadding","setDataInBreakpoint","equalPadding","pxValue","getStyleValueFromPx","invalidateSize","requestAnimationFrame","onEqualPadding","InspectorOverflow","onChangeState","thisBpOverflowData","compositOverflowData","overflowX","newOverflowData","changeScrollDirection","onChangeAuto","ToggleButtonGroup","exclusive","ToggleButton","TextInput","InspectorAnchor","onEnableAnchor","enable","anchor","anchorMan","addAnchor","removeAnchor","onChangeName","newName","modifyAnchor","v","InspectorAdjustment","onRotationChange","degree","warn","rotate","oldDegree","setTransformStyle","updateLayout","AGLComponent","resolveDesignData","getData","componentData","getDefaultData","componentBpData","tempBpData","getAgl","aglRef","onDesignChange","designKey","updateDesign","getCompositeDesignData","getInspector","getInspectorOverride","MenuButton","menu","updateMenu","MenuBaseIndexTitle","disableRipple","onIndexClick","LightTooltip","tooltip","shadows","Tooltip","LightMenuTooltip","MenuBase","close","selectedIndexNo","getDefaultPos","defaultPosition","defaultIndexNo","handle","bounds","styles","menuTitle","indexData","PopperProps","placement","render","Slider","step","SliderInputControlled","handleStyle","Image","onError","hasError","errorsrc","Portal","canUseDOM","defaultNode","node","nodeId","ReactDOM","createPortal","HexColorPicker","onChangeComplete","hex","disableAlpha","ThemeColorPicker","onSelectColor","onAddColor","myColors","unshift","onAddColorClick","addColor","themeColorCategoryItems","parseColor","contextType","ColorPicker","getRgbA","r","rgba","handleClick","displayColorPicker","handleClose","handleChangeComplete","lastValue","alpha","getColorAndAlpha","handleAlphaChange","background","getBoundingClientRect","Background","Divider","SliderInput","Border","border","Corners","radius","changeSide","link","_side","onLinkClick","direction","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","CircularSlider","onMouseDown","rect","rootDivRef","onMouseMove","onMouseUp","clientX","clientY","vx","vy","angle","atan2","PI","Angle","loop","deg2rad","rad2deg","Shadow","shadow","getDegree","xOffset","yOffset","ratio","atan","getRatio","tan","calcDegree","xO","yO","abs","distance","blur","BorderDesign","getIndex","viewBox","fillRule","d","getOptions","fillColor","GridViewer","AnimationSelector","onSelectAnimation","playAnimation","allAnimationNames","animation","noneClasses","displayName","join","charAt","toUpperCase","AnimationOptions","DynamicAnimations","duration","delay","once","AnimationDesign","ContainerBase","getPrimaryOptions","compositeDesign","getStaticChildren","shadowColor","borderColor","topLeft","topRight","bottomRight","bottomLeft","aglComponent","SectionDesign","Header","isSection","setStyleParam","defaultGridItemStyle","gridArea","as","autoConstraintsOff","helplineOff","Footer","Section","isVerticalSection","designStyle","InspectorBackground","onChangeColor","PageBase","initDataFromPageData","allSectionsH","allSectionsV","grid","gridX","gridY","gridTemplateRows","gridTemplateColumns","initKeyboard","event","which","keyCode","ctrl","ctrlKey","preventDefault","selectedItem","getSelected","getHorizontalSection","moveUp","moveDown","getVerticalSection","moveLeft","moveRight","pageResize","containerHeight","deleteHorizontalSection","currentSection","areas","getGridArea","x1","parseInt","x2","firstRow","lastRow","verticalSection","x12","y12","x22","y22","setGridArea","horizontalSection","x13","y13","x23","y23","fill","setGrid","deleteVerticalSection","y1","y2","firstCol","lastCol","mainColIndex","getMainColIndex","addSectionQueue","dynamicComponents","isVertical","addQueue","checkingAddQueue","nextOne","shift","checkAddQueue","addVerticalSection","newNextOne","addHorizontalSection","onItemPreDelete","allow","onItemPreResizeStop","dir","delta","yLineRefs","getYlineRef","firstLineTop","getGridLineRect","targetTop","selectedX1","lineTop","checkIndex","nextSectionV","targetBottom","selectedX2","lineBottom","currentSectionIndex","currentSectionGridArea","Tag","section","resizeSides","addChild","insertIndex","areas2","currentIndex","sideSection","updateTemplates","isHideInBreakpoint","hasMiniMenuOverride","invalidateSizeOverride","self","updateParent","updateChildren","sourceId","tempSize","childRef","getSectionOfPoint","isPointInclude","fullWidth","isPage","page","VerticalSpacer","FadeInAnimation","animationStyles","StyleSheet","create","fadeIn","animationName","animationDuration","animationDelay","BounceInAnimation","bounceIn","GlideInAnimation","tx","sin","ty","cos","glideIn","FloatInAnimation","floatIn","ExpandInAnimation","power","expandIn","SpinInAnimation","spinNo","firstRotate","spinIn","FlyInAnimation","windowSize","flyIn","TurnInAnimation","viewSize","turnIn","animationTimingFunction","ArcInAnimation","arcIn","PuffInAnimation","puffIn","FoldInAnimation","transformOrigin","foldIn","FlipInAnimation","flipIn","RevealAnimation","clipPath","reveal","getTextStyle","textTheme","textStaticData","textDesignData","fontFamily","fontWeight","fontStyle","fontDecoration","lineHeight","letterSpacing","getFontDataByFamily","allFonts","fontData","getSelectionHtmlRemoveProperty","win","propertyName","selection","createRange","htmlText","getSelection","rangeCount","clonedSelection","getRangeAt","cloneContents","nodes","removeProperty","getRandomColor","floor","random","InputDiv","tag","TextTag","textareaRef","contentEditable","whiteSpace","dangerouslySetInnerHTML","__html","InputWrapper","updateHeight","scrollHeight","onInput","keydown","stopPropagation","range","line","parentLine","startContainer","found","newParantLine","parentNode","getParentLine","deleteContents","setEndAfter","text","innerText","getSelectionText","iframeNode","contentWindow","br","after","setStartBefore","html","setStartAfter","insertAdjacentHTML","trim","focus","String","fromCharCode","sel","insertNode","setStart","collapse","removeAllRanges","addRange","init","inited","textEditorRef","onLoad","prevProps","prevState","snapshot","onUpdate","resize","TextEditorButton","selected","useStyles","makeStyles","popper","borderRight","paddingRight","FontSizeAutoComplete","Autocomplete","FontSizeSelector","filterOptions","getAllowableFontSize","setForceValue","onFontSizeChange","reason","tempFontSize","setFontSize","getFontSizeValue","setFontSizeUi","ignoreState","toString","getOptionLabel","popupIcon","renderInput","InputProps","disableUnderline","inputProps","TextField","blurOnSelect","onKeyDown","TextColorSelector","buttonRef","TextEditor","getTextDir","onIframeTextClicked","refreshState","getComputedStyle","anchorNode","parentElement","getPropertyValue","fontSizeSelectorRef","bold","italic","decoration","underline","StaticFonts","isTextSelcted","anchorEI","modifiers","flip","enabled","preventOverflow","boundariesElement","onDoubleClick","onChangeData","updateInputWrapper","inputWrapperRef","execCommand","isRtlStyle","isRtl","querySelectorAll","removeAttribute","randomColor","classList","startsWith","remove","childs","childNode","TextWrapper","setEditableStyle","editableStyle","onEditorStateChange","editorState","updateStyleSheets","setEditMode","editMode","onEditModeChange","getTag","iframe","iframeWidth","iframeHeight","frame","editDisplayNoneStyle","nonEditDisplayNoneStyle","textValue","ClickAwayListener","onClickAway","head","rel","href","documentRef","resizeIFrameToFitContent","PureComponent","Text","textRef","onThemeChange","onDoubleClickOverride","onDeSelectListener","noStretch","DynamicComponents","AdjustmentPageControllers","addSection","getAnchor","needUpdate","updateTimeout","forceUpdate","containerClasses","hide","GridChildContainerFixedHolder","clientHeight","PaddingInterface","borderTop","borderLeft","borderBottom","ParentSelectInterface","GridChildContainer","aglStyle","modifyContainerStyle","modifyContainerStyleOverride","paddingTop","paddingLeft","paddingBottom","getContainerStyleId","modifyOverflowStyle","getOverflowStyleId","getOverflowStyle","webkitScrollbarStyle","webkitScrollbarStyleId","scrollStyleNode","updateAdjustments","controllerRef","fixedHolderRef","needOverflow","selectAsParent","show","overflowClasses","containerRef","overflowRef","onScroll","AGLAnchor","ResizePanePage","isLeftClick","mouseDown","pointerType","button","moving","onDrag","onDragStart","onDragStop","lastMouseX","lastMouseY","onResizeStart","onResizeStop","isCorner","draggingStart","onPointerDown","AdjustmentResizePage","sides","EventTrigger","defaultListener","listener","listeners","l","trigger","windowCache","boundingRects","clientsWidth","clientsHeight","scrollsTop","scrollsLeft","scrollsWidth","scrollsHeight","clearCache","clearCacheTimeuot","getCachedBoundingRect","getCachedClientWidth","getCachedClientHeight","getCachedScrollTop","scrollTop","getCachedScrollLeft","scrollLeft","getCachedScrollWidth","scrollWidth","getCachedScrollHeight","addToCache","AnimationHolder","transformRef","VisibilitySensorWrapper","partialVisibility","containment","getPageOverflowRef","active","disableVS","AdjustmentHelpSize","getText","resizeHelpData","AwesomeGridLayout2","callOverride","funcName","getOverrideProp","hasOverride","needRender","lastZIndex","getNextIndexData","savedChildren","savedChildrenArray","oldId","createChildByData","Children","createdChild","renderChild","childrenData","initLayout","getDefaultStyle","setStyle","defaultGrid","defaultStyle","lateMounted","addToSnap","onPageResize","onChildMounted","isEditor","getShortcutOptions","hasMiniMenu","debounce","getBoundarySize","snap","addSnap","p1","p2","parentsId","getGridLineSnaps","snaps","horizontals","verticals","xLineRef","getXlineRef","yLineRef","newId","fixed","getId","AGLProps","input","copyMan","gridEditorRef","getAllChildOverrideProps","component","fullForce","widthMinusPadding","heightMinusPadding","onWindowSizeChange","getRenderChildData","arrangeIndex","nextZIndex","nextChild","prevZIndex","prevChild","firstZIndex","changeIndex","allChildData","change","startIndex","lastIndex","testChildData","setChildZIndex","childZIndex","forceCalculate","childElement","newProps","keepChildren","Error","onChildAdd","newBreakpointName","delete","getChildData","createItem","clearItem","removeChildElement","clearMiniMenu","getAllOverrideProps","removeId","removeGridLine","removeSnap","updateHelpSizeLines","setInspector","onMouseOver","fromEnter","setItemHover","onMouseOut","hover","updateHover","onMouseEnter","outAllParent","forceRect","forceGridLines","gridType","isPrepared","onNewChildMounted","calcResult","coordinates","childRect","thisRect","calculateChildGridItem","relativeY","setProps","clearFromAllBp","newChild","removeIdAndChildrenId","nonePointerEventForChildren","parentDragging","onParentDragging","setRuntimeStyle","group","callGroup","resizing","moveWithMouse","firstBoundaryPos","setDraggingState","groupDragStart","boundarySize","isFixed","checkSnapOnDrag","updateGridLines","groupDrag","addGrid","groupDragStop","drawSnap","dropped","updateMiniMenu","relativeX","redoData","undoData","calculateGridItem","fakeStyle","snapDelta1","getSnapDelta","snapDelta2","snapDelta3","snapDelta","deltaX","snapV","deltaY","snapH","pointOfSnapH","pointOfSnapV","parentGridLines","checkSnap","dontCalculate","getDocks","fromState","dontAutoDock","cy1","cy2","cx1","cx2","calculateGridArea","coordinatesAbs","coordinateToRelative","oldGridItemStyle","centerX","centerY","parentCenterMinusX","parentCenterPlusX","cy2IsLastLine","centerDiffX","centerDiffY","getPxOrPcOrValue","cx2IsLastLine","coordinateToAbsolute","getTopLeft","pageResizeStart","resizeData","firstX","firstLeft","activateHover","onPageResizeStart","pageResizeCalculate","firstY","firstTop","firstBoundaryWidth","firstBoundaryHeight","firstBoundaryTop","firstBoundaryLeft","onResizeCalculate","updatePageAdjustments","onResizeData","backContainerRef","finalDelta","rad","cx","cy","cxy","sqrt","cxp","cyp","thetaH","thetaW","Dh","Dw","dxH","dyH","dxW","dyW","getResizeDelta","rotateDegree","checkSnapOnResize","setResizeHelpData","pageResizeStop","onPageResizeStop","setSize","firstWidth","firstHeight","gridCoordinates","dontAddToSnap","oldStyle","isPercent","isViewRatio","newValue","getParentProps","postFix","newRuntimeStyle","animationCss","getGridItemStyleId","newGridItemStyle","dontOverride","getStyleId","getDesignStyleId","setDesignStyle","newDesignStyle","designStyleNode","getTransformStyleId","newTransform","transformStyleNode","getTransformStyle","compositeTransform","rules","newStyle","excludeBp","getGridLineOfPoint","gridLine1","gridLine2","mouseMoved","lastClientX","lastClientY","startMillis","Date","getTime","isRightClick","canMove","isGroupSelected","currentMillis","groupSelected","onContextMenu","deselectParent","clicked","dontUpdateAdjustment","isSelectable","selectItem","removeGridLineByType","showGridLines","updateParentsRect","onScrollEnd","onRootScroll","forceScroll","scrollReset","targetScroll","maxTop","scrollTo","behavior","editGrid","editing","updateGridEditor","setAnchor","disable","stateChange","forceKey","showAnimation","onAnimationEnd","activateResize","getCompositeAnimationCss","compositeAnimation","getAnimationCSS","getContextMenu","childContainers","windowWidth","setItem","compositeStyle","holderClasses","TagAs","onWheel","childSize","showSideResize","layoutType","compactType","AGLWrapper","fillWithData","StackSpacerContainer","updateSpacers","spacers","spacer","AdjustmentMove","StackSpacerResizer","StackSpacer","setPointerEvents","updateSpacerData","newHeight","spacerData","stack","updateSize","order","Stack","sortedChildrenArray","lateMountedOverride","lateMountedComplete","setOrder","calculateGridItemChildOverride","calculateWrapper","calculateChildGridItemOverride","child1","centerDiff","childRelativeY","childHeight","childFound","childOrderSet","sorted","relativeYA","relativeYB","relativeY2","getSpacer","getSpacerData","spacerContainerRef","allSpacerData","allSpacerRef","onStackDragStart","onStackDragStop","onMouseOverSpacer","onMouseEnterSpacer","onMouseOutSpacer","setMouseOverOverride","setPointerEventOfSpacers","setMouseOverForNonDraggingOverride","spacerRef","setGridItemStyleChildOverride","container","flexDirection","onChildLeaveOverride","removing","stretchChildOverride","stretch","isStretch","isStretchChildOverride","setStyleParamOverride","isStack","onDragStartChildOverride","onDragChildOverride","onDragStopChildOverride","ContextMenu","getFakeAnchor","popperStyle","mouseEvent","autoFocusItem","hasDivider","menuItem","j","ContextMenuItem","subMenu","interactive","leaveDelay","shortcut","deepEqual","saveStyle","beStretch","allowStretch","disableStretch","pageAgl","oldBehaviour","oldOffsetTop","oldIsFixed","lastSectionId","itemRect","sectionParent","addFixedChildToRoot","oldParentRect","pageRect","hideInBreakPoint","showInBreakPoint","fromAll","getSectionId","uuidv4","createStack","itemsParent","getSectionParent","lastBottom","rightFromLeft","topA","topB","stackNode","_stack","stackId","itemIds","newItems","removeStackFromAGL","addToStack","parentWidth","stackAgl","childIds","removeChilds","addToUndo","saveValue","oldType","oldZIndex","breakpointData","createContextMenu","copySection","paste","duplicate","copyDesignItem","item1","item2","isSameFamily","allOldDesign","sourceItemTemp","overrideBps","pasteFromBreakpointDesign","fromName","toName","fromData","currentData","oldData","deleteSection","shortcutSection","sectionSection","sortBy","array","editorContext","chromaColor","SelectManager","alt","inputManager","groupSelectRef","pageAglRef","miniMenuHolderRef","inspectorRef","resizeRef","helpLinesRef","hoverRef","setContext","dontUpdateAdjustments","createGroup","clearGroup","addMiniMenu","addMenu","inspectorMenu","setMenu","updateGroupRect","mainItem","deleteGroup","firstRect","updateRect","throttle","helpLineParent","activate","fakeItemRect","test1","test2","test3","SnapManager","snapThreshold","snapSvgRef","ignoreId","additionalSnaps","topUp","topDown","leftUp","leftDown","concat","CopyManager","selectManager","pageRef","copyItem","getCopyItem","destinationItem","copyRect","IdManager","prefix","allId","preferName","fixName","baseId","postNo","UndoRedo","getQueueObject","undo","redo","undoQueue","pop","redoQueue","undoFunc","object","hasUndo","hasRedo","GridLineManager","gridContainerRef","positions","getIdCache","AnchorManager","allAnchors","goToAnchor","saveToHistory","AdjustmentGridRoot","AdjustmentGridRow","gridLineManager","rowLines","rowLineRect","nextRowLineRect","rowHeight","AdjustmentGrid","addRow","rowsHeight","addColumn","columnsWidth","changeColumnWidth","changeRowHeight","deleteRow","deleteColumn","AdjustmentSnapLines","stroke","AdjustmentSnap","GridLine","lineRef","AdjustmentGridLinesWrapper2","yNo","xNo","refId","AdjustmentGridLines","fixLineRef","idCache","updateGridLine","prepared","xNoA","yNoA","xNoB","yNoB","xNoT","yNoT","xLineRefA","yLineRefA","xLineRefB","yLineRefB","xLineRefT","yLineRefT","ResizePane","AdjustmentGroupRect","RightClick","MiniMenuVerticalDivider","Help","MiniMenu","primary","MenuHolder","miniMenuRef","contextMenu","miniMenuItem","IFrameCommunicator","origin","authKey","otherWindow","onMessage","processIncomingMessage","callbacks","responseFunc","responses","post","counter","EditorController","AllowFunctions","res","Inspector","opening","clearInterval","closeInterval","openInterval","setInterval","percent","speed","interval","closing","pinInspector","toggleState","getDefaultMenu","AdjustmentStretch","AdjustmentResize","transformStyleId","stretchStyle","AdjustmentResizeWrapper","AdjustmentHelpLines","calculate","visibility","strokeDasharray","AdjustmentHelpLinesWrapper","helpLineRef","AdjustmentHover","disablePortal","Layout","setLayout","layout","processLayout","treeData","getTreeItem","layoutItem","childLayout","expanded","parentItemId","setTree","updateItem","treeItem","childTreeItem","ComponentGrid","getItemStyle","widthRatio","setDraggingItem","persist","closingTimeOut","closeMenu","createItemAndDrag","presetProps","changeItemParent","setDraggingEnd","allItems","Fragment","onDragEnd","imageUrl","label","AddComponent","setComponentListItemDebounce","componentListItem","setComponentListItem","setComponentListItemLeave","componentListItemHover","componentSubListItem","subList","setComponentSubListItemDebounce","setComponentSubListItem","setComponentSubListItemLeave","componentSubListItemHover","listName","builtin","apps","groupName","componentSubListItems","PageTypeTitle","PageInfo","onRename","newPageName","rename","pageName","setAsHomePage","home","isHome","onBlur","onKeyPress","variant","AglRadio","Radio","Permissions","changePermission","pageSetting","permissions","onSetPassword","password","onChangeMemberType","memberType","onRoleChange","role","memberRoles","control","roleAnchor","allApps","member","setting","roles","SeoGoogle","onChangeSeoSetting","newEndUrl","seoGoogle","endUrl","endUrlError","pageTitle","baseUrl","pageDescription","newPageTitle","newPageDescription","rows","showInSearch","SocialShare","onChangeSocialShareSetting","socialShare","substring","lastIndexOf","description","newTitle","newDescription","PageSetting","onChangeTab","tabValue","Modal","aria-labelledby","aria-describedby","disableBackdropClick","indicatorColor","textColor","PageItem","pageMenuAnchorEl","onPageChange","setAsHome","renameInput","boxClasses","isDynamic","AddNewPageDialogItem","AddNewPageDialog","addNormalPage","onAddNormalPage","addDynamicPage","onAddDynamicPage","PageManager","onChangeSearch","searchValue","getFilteredPages","siteId","onPageClick","newPageDataUrl","fetch","then","json","openNormalPage","openDynamicPage","showAddPage","ThemeTextItem","onEditClick","font","ThemeColorsItem","toChange","ThemeManager","setCategory","EditorHeaderZoom","Consumer","zoomSetting","anchorOrigin","getContentAnchorEl","anchorPosition","PaperProps","marginThreshold","transitionDuration","onZoomChange","EditorHeaderPageSelect","pd","NumberInputEnterToChange","lazy","tempValue","onTempChange","getBreakpointIcon","getBreakpointName","EditorHeaderBreakpointsSettingItem","isHighestBp","done","tempEnd","onCancel","cancelEditMode","nextBpData","onEditMode","EditorHeaderBreakpointsSetting","clearEditMode","bpItemrRefs","bpItemRef","getBpItemRef","EditorHeaderBreakpoints","getTabValue","settingAnchor","EditorHeader","setRightMenuOpen","openMenu","changedState","onInspectorClickState","onInspectorClick","onPageZoomChange","PreviewHeaderBreakpoints","getCurrentValue","lastBpData","devices","PreviewHeader","PageView","onScrollBoundary","EditorBoundary","layoutRef","addComponentRef","pageManagerRef","themeManagerRef","InputManager","iFrameCommunicator","toggleThemeManager","exportSiteData","toggleAddComponent","togglePageManager","loadSiteData","initFromHolder","onSiteDataUpdated","catch","err","onSetZoomScale","testWebsite","defaultSiteData","defaultAllComponentData","onComponentDataUpdated","togglePreview","setZoomLevel","zoomLevel","documentElement","setProperty","notifyBreakpointChange","newDevicePixelRatio","isPreview","toggleInspector","onResizeD","onResizeT","getLayoutItem","il","openLayout","closeLayout","getLivePageData","getLiveSiteData","blob","Blob","URL","createObjectURL","download","fileName","click","getSiteData","isProduction","dispose","borderClassess","onAddComponentClick","onThemeManagerClick","onPageManagerClick","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.3b90443a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/paint.b4611be4.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus.4ffb5b5d.svg\";","module.exports = __webpack_public_path__ + \"static/media/align-left.0a5b083d.svg\";","module.exports = __webpack_public_path__ + \"static/media/align-center.c06baa72.svg\";","module.exports = __webpack_public_path__ + \"static/media/align-right.47dacf61.svg\";","module.exports = __webpack_public_path__ + \"static/media/align-top.a4e81be5.svg\";","module.exports = __webpack_public_path__ + \"static/media/align-middle.18bded08.svg\";","module.exports = __webpack_public_path__ + \"static/media/align-bottom.b15149df.svg\";","module.exports = __webpack_public_path__ + \"static/media/chain.91ca2215.svg\";","module.exports = __webpack_public_path__ + \"static/media/unlink.91af3919.svg\";","module.exports = __webpack_public_path__ + \"static/media/more.7e1c1c4d.svg\";","module.exports = __webpack_public_path__ + \"static/media/question.910508a9.svg\";","module.exports = __webpack_public_path__ + \"static/media/minimize.d1b14794.svg\";","module.exports = __webpack_public_path__ + \"static/media/maximize.c16a073e.svg\";","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport {Resizable} from \"re-resizable\";\r\nimport css from 'dom-css';\r\nimport {exist, getFromData, getSortedBreakPoints, setData} from \"./BreakPointManager\";\r\nimport debounce from 'lodash.debounce';\r\n// import {css, StyleSheet} from 'aphrodite'\r\n\r\nlet CalculateLayout = (griddatas, layoutType, parentSize, dir, compactType, scrollType, snap\r\n                       , breakpointdata, hasOwnBreakPoints, parentGriddata) => {\r\n    parentGriddata = parentGriddata || getDefaultChildgriddata(breakpointdata);\r\n\r\n    let dummy;\r\n    let childContainers = griddatas.map((griddata) => {\r\n        if (griddata.id === undefined)\r\n            console.error(\"direct child must have a id props\");\r\n\r\n        let result = {\r\n            griddata: griddata,\r\n        };\r\n\r\n        result.griddata.id = griddata.id;\r\n        result.isContainer = griddata.isContainer;\r\n        result.selected = griddata.selected;\r\n        result.resizable = griddata.resizable;\r\n        result.draggable = griddata.draggable;\r\n        result.dragging = griddata.dragging;\r\n\r\n        result.w = getPxFromPercent(\r\n            getFromData(result.griddata, \"w\", parentSize.x, hasOwnBreakPoints\r\n                ,breakpointdata), parentSize.x);\r\n\r\n        result.h = getPxFromPercent(\r\n            getFromData(result.griddata, \"h\", parentSize.x, hasOwnBreakPoints\r\n                ,breakpointdata), parentSize.y);\r\n\r\n        result.x = getPxFromPercent(\r\n            getFromData(result.griddata, \"x\", parentSize.x, hasOwnBreakPoints\r\n                ,breakpointdata), parentSize.x);\r\n\r\n        result.y = getPxFromPercent(\r\n            getFromData(result.griddata, \"y\", parentSize.x, hasOwnBreakPoints\r\n                ,breakpointdata), parentSize.y);\r\n\r\n        result.rotate = getFromData(result.griddata, \"rotate\", parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n\r\n        result.absolute = getFromData(result.griddata, \"absolute\", parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n\r\n        result.fix = getFromData(result.griddata, \"fix\", parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n\r\n        result.zIndex = getFromData(result.griddata, \"zIndex\", parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n\r\n        if (result.griddata.dragging) {\r\n            dummy = {};\r\n            dummy.griddata = cloneObject(result.griddata);\r\n            // dummy.griddata.dragging = false;\r\n            dummy.griddata.id = \"dummy\";\r\n            dummy.x = result.x;\r\n            dummy.y = result.y;\r\n            dummy.w = result.w;\r\n            dummy.h = result.h;\r\n            dummy.griddata.draggable = false;\r\n            dummy.griddata.resizable = false;\r\n            dummy.absolute = result.absolute;\r\n            dummy.fix = result.fix;\r\n            dummy.zIndex = result.zIndex;\r\n            dummy.dragging = result.dragging;\r\n\r\n            dummy.isDummy = true;\r\n        }\r\n\r\n        return result;\r\n    });\r\n\r\n    if (!childContainers)\r\n        childContainers = [];\r\n\r\n    if (dummy)\r\n        childContainers.push(dummy);\r\n\r\n    sortChilds(childContainers, parentSize, compactType, breakpointdata, hasOwnBreakPoints);\r\n\r\n    let layouts = [];\r\n    let layoutContainers = [];\r\n\r\n    let maxHeight = scatter(childContainers, layoutContainers, layouts, layoutType, parentSize\r\n        , compactType, scrollType, snap, breakpointdata, hasOwnBreakPoints, parentGriddata);\r\n\r\n    return {childContainers: childContainers, layouts: layouts, maxHeight: maxHeight};\r\n};\r\n\r\nlet getDummy = (w, h) => {\r\n    return (\r\n        <Resizable\r\n            enable={false}\r\n            size={{\r\n                width: w,\r\n                height: h,\r\n            }}\r\n        >\r\n            <div style={{\r\n                backgroundColor: \"rgba(201, 76, 76, 0.3)\",\r\n                width: \"100%\",\r\n                height: \"100%\"\r\n            }}>\r\n            </div>\r\n        </Resizable>\r\n    );\r\n};\r\n\r\nlet scatter = (childContainers, layoutContainers, layouts, layoutType, parentSize\r\n               , compactType, scrollType, snap, breakpointdata, hasOwnBreakPoints, parentGriddata) => {\r\n    let notCompareChilds = [];\r\n    let maxHeight = 0;\r\n    for (let i = 0; i < childContainers.length; i++) {\r\n        let childContainer = childContainers[i];\r\n\r\n        if (childContainer.griddata.dragging) {\r\n            notCompareChilds.push(childContainer);\r\n            continue;\r\n        }\r\n\r\n        if (childContainer.absolute || childContainer.fix) {\r\n            notCompareChilds.push(childContainer);\r\n            continue;\r\n        }\r\n\r\n        if (layoutType === \"free\") {\r\n            maxHeight = scatterFree(childContainer, childContainers, layoutContainers\r\n                , parentSize, compactType, scrollType, snap, maxHeight, breakpointdata\r\n                , hasOwnBreakPoints, parentGriddata);\r\n        }\r\n\r\n        layoutContainers.push(childContainer);\r\n    }\r\n\r\n    for (let i = 0; i < childContainers.length; i++) {\r\n        let childContainer = childContainers[i];\r\n\r\n        layouts.push(childContainer.griddata);\r\n    }\r\n\r\n    notCompareChilds.forEach(childContainer => {\r\n        if (childContainer.absolute)\r\n            fixAbsoluteChild(childContainer, parentSize, breakpointdata, hasOwnBreakPoints, parentGriddata);\r\n        if (childContainer.fix)\r\n            fixFixChild(childContainer, parentSize, breakpointdata, hasOwnBreakPoints, parentGriddata);\r\n\r\n        setChildPosition(childContainer, {x:childContainer.x, y:childContainer.y}\r\n             , parentSize, breakpointdata, hasOwnBreakPoints);\r\n\r\n        layoutContainers.push(childContainer);\r\n        layouts.push(childContainer.griddata);\r\n    });\r\n\r\n    return maxHeight;\r\n};\r\n\r\nlet fixFixChild = (childContainer, parentSize, breakpointdata, hasOwnBreakPoints, parentGriddata) => {\r\n    let maxHeight;\r\n    let maxWidth;\r\n\r\n    // fix constraints\r\n    let constraints =\r\n        getFromData(childContainer.griddata, \"constraints\", parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n\r\n    let left = getPxFromPercent(constraints.left, parentSize.x);\r\n    if (left)\r\n        left += parentSize.scrollLeft;\r\n    let top = getPxFromPercent(constraints.top, parentSize.y);\r\n    if (top)\r\n        top += parentSize.scrollTop;\r\n    let right = getPxFromPercent(constraints.right, parentSize.x);\r\n    if (right)\r\n        right += (parentSize.x - parentSize.clientWidth - parentSize.scrollLeft);\r\n    let bottom = getPxFromPercent(constraints.bottom, parentSize.y);\r\n    if (bottom)\r\n        bottom += (parentSize.y - parentSize.clientHeight - parentSize.scrollTop);\r\n\r\n    let minW =\r\n        getFromData(childContainer.griddata, \"minW\"\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    let minH =\r\n        getFromData(childContainer.griddata, \"minH\"\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    let maxW =\r\n        getFromData(childContainer.griddata, \"maxW\"\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    let maxH =\r\n        getFromData(childContainer.griddata, \"maxH\"\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n\r\n    if (right !== undefined && left !== undefined) {\r\n        // ignore w value and calculate from remain space\r\n        childContainer.w = parentSize.x - left - right;\r\n        childContainer.x = left + childContainer.w / 2;\r\n    }\r\n    if (bottom !== undefined && top !== undefined) {\r\n        // ignore h value and calculate from remain space\r\n        childContainer.h = parentSize.y - top - bottom;\r\n        childContainer.y = top + childContainer.h / 2;\r\n    }\r\n    if (right !== undefined && left === undefined) {\r\n        // use w to calculate x. w must have value in this situation\r\n        childContainer.x = parentSize.x - childContainer.w / 2 - right;\r\n    }\r\n    if (bottom !== undefined && top === undefined) {\r\n        // use h to calculate y. h must have value in this situation\r\n        childContainer.y = parentSize.y - childContainer.h / 2 - bottom;\r\n    }\r\n\r\n    if (right === undefined) {\r\n        if (left !== undefined)\r\n            childContainer.x = left + childContainer.w / 2;\r\n    }\r\n\r\n    if (bottom === undefined) {\r\n        if (top !== undefined)\r\n            childContainer.y = top + childContainer.h / 2;\r\n    }\r\n\r\n    if (minW) {\r\n        childContainer.w = Math.max(minW, childContainer.w);\r\n    }\r\n    if (maxW) {\r\n        childContainer.w = Math.min(maxW, childContainer.w);\r\n    }\r\n    if (minH) {\r\n        childContainer.h = Math.max(minH, childContainer.h);\r\n    }\r\n    if (maxH) {\r\n        childContainer.h= Math.min(maxH, childContainer.h);\r\n    }\r\n\r\n    maxWidth = childContainer.x + childContainer.w / 2 + right;\r\n    maxHeight = childContainer.y + childContainer.h / 2 + bottom;\r\n    return {maxHeight: maxHeight, maxWidth: maxWidth};\r\n};\r\n\r\nlet fixAbsoluteChild = (childContainer, parentSize, breakpointdata, hasOwnBreakPoints, parentGriddata) => {\r\n    let maxHeight;\r\n    let maxWidth;\r\n\r\n    // fix constraints\r\n    let constraints =\r\n        getFromData(childContainer.griddata, \"constraints\", parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n\r\n    let left = getPxFromPercent(constraints.left, parentSize.x);\r\n    let top = getPxFromPercent(constraints.top, parentSize.y);\r\n    let right = getPxFromPercent(constraints.right, parentSize.x);\r\n    let bottom = getPxFromPercent(constraints.bottom, parentSize.y);\r\n\r\n    let minW =\r\n        getFromData(childContainer.griddata, \"minW\"\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    let minH =\r\n        getFromData(childContainer.griddata, \"minH\"\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    let maxW =\r\n        getFromData(childContainer.griddata, \"maxW\"\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    let maxH =\r\n        getFromData(childContainer.griddata, \"maxH\"\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n\r\n    if (right !== undefined && left !== undefined) {\r\n        // ignore w value and calculate from remain space\r\n        childContainer.w = parentSize.x - left - right;\r\n        childContainer.x = left + childContainer.w / 2;\r\n    }\r\n    if (bottom !== undefined && top !== undefined) {\r\n        // ignore h value and calculate from remain space\r\n        childContainer.h = parentSize.y - top - bottom;\r\n        childContainer.y = top + childContainer.h / 2;\r\n    }\r\n    if (right !== undefined && left === undefined) {\r\n        // use w to calculate x. w must have value in this situation\r\n        childContainer.x = parentSize.x - childContainer.w / 2 - right;\r\n    }\r\n    if (bottom !== undefined && top === undefined) {\r\n        // use h to calculate y. h must have value in this situation\r\n        childContainer.y = parentSize.y - childContainer.h / 2 - bottom;\r\n    }\r\n\r\n    if (right === undefined) {\r\n        if (left !== undefined)\r\n            childContainer.x = left + childContainer.w / 2;\r\n    }\r\n\r\n    if (bottom === undefined) {\r\n        if (top !== undefined)\r\n            childContainer.y = top + childContainer.h / 2;\r\n    }\r\n\r\n    if (minW) {\r\n        childContainer.w = Math.max(minW, childContainer.w);\r\n    }\r\n    if (maxW) {\r\n        childContainer.w = Math.min(maxW, childContainer.w);\r\n    }\r\n    if (minH) {\r\n        childContainer.h = Math.max(minH, childContainer.h);\r\n    }\r\n    if (maxH) {\r\n        childContainer.h= Math.min(maxH, childContainer.h);\r\n    }\r\n\r\n    maxWidth = childContainer.x + childContainer.w / 2 + right;\r\n    maxHeight = childContainer.y + childContainer.h / 2 + bottom;\r\n    return {maxHeight: maxHeight, maxWidth: maxWidth};\r\n};\r\n\r\nlet scatterFree = (childContainer, childContainers, layoutContainers, parentSize, compactType, scrollType\r\n                   , snap, maxHeight, breakpointdata, hasOwnBreakPoints, parentGriddata) => {\r\n    let autoWidth =\r\n        getFromData(parentGriddata, \"autoWidth\", parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    if (!autoWidth) {\r\n        if (childContainer.x + childContainer.w > parentSize.x) {\r\n            childContainer.x = parentSize.x - childContainer.w;\r\n        }\r\n    }\r\n\r\n    if (compactType === \"horizontal\") {\r\n        childContainer.y = Math.min(bottom(layoutContainers), childContainer.y);\r\n        while (childContainer.x > 0 && !checkCollide(childContainer, layoutContainers)) {\r\n            childContainer.x -= snap.x;\r\n        }\r\n    }\r\n    if (compactType === \"vertical\")\r\n    {\r\n        childContainer.y = Math.min(bottom(layoutContainers), childContainer.y);\r\n        while (childContainer.y > 0 && !checkCollide(childContainer, layoutContainers)) {\r\n            childContainer.y -= snap.y;\r\n        }\r\n    }\r\n\r\n    childContainer.x = Math.max(0, childContainer.x);\r\n    childContainer.y = Math.max(0, childContainer.y);\r\n\r\n    let collide;\r\n    while (checkCollide(childContainer, layoutContainers)) {\r\n        collide = checkCollide(childContainer, layoutContainers);\r\n        if (compactType === \"horizontal\") {\r\n            resolveCompactionCollision(childContainers, childContainer, collide.x + collide.w, \"x\");\r\n        }\r\n        if (compactType === \"vertical\") {\r\n            resolveCompactionCollision(childContainers, childContainer, collide.y + collide.h, \"y\");\r\n        }\r\n        // Since we can't grow without bounds horizontally, if we've overflown, let's move it down and try again.\r\n        if ((compactType === \"horizontal\") &&\r\n            childContainer.x + childContainer.w > parentSize.x) {\r\n            childContainer.x = parentSize.x - childContainer.w;\r\n            childContainer.y++;\r\n        }\r\n    }\r\n\r\n    if (childContainer.y + childContainer.h > maxHeight)\r\n        maxHeight = childContainer.y + childContainer.h;\r\n\r\n    return maxHeight;\r\n};\r\n\r\nconst heightWidth = { x: \"w\", y: \"h\" };\r\nlet resolveCompactionCollision = (layout, item, moveToCoord, axis) => {\r\n    const sizeProp = heightWidth[axis];\r\n    item[axis] += 1;\r\n    const itemIndex = layout\r\n        .map(layoutItem => {\r\n            return layoutItem.griddata.id;\r\n        })\r\n        .indexOf(item.griddata.id);\r\n\r\n    // Go through each item we collide with.\r\n    for (let i = itemIndex + 1; i < layout.length; i++) {\r\n        const otherItem = layout[i];\r\n        // Ignore static items\r\n        if (otherItem.static || otherItem.griddata.dragging) continue;\r\n\r\n        // Optimization: we can break early if we know we're past this el\r\n        // We can do this b/c it's a sorted layout\r\n        if (otherItem.y > item.y + item.h) break;\r\n\r\n        if (collide(item, otherItem)) {\r\n            resolveCompactionCollision(\r\n                layout,\r\n                otherItem,\r\n                moveToCoord + item[sizeProp],\r\n                axis\r\n            );\r\n        }\r\n    }\r\n\r\n    item[axis] = moveToCoord;\r\n};\r\n\r\nlet bottom = (layoutContainers) => {\r\n    let max = 0,\r\n        bottomY;\r\n    for (let i = 0, len = layoutContainers.length; i < len; i++) {\r\n        bottomY = layoutContainers[i].y + layoutContainers[i].h;\r\n        if (bottomY > max) max = bottomY;\r\n    }\r\n    return max;\r\n};\r\n\r\nlet checkCollide = (childContainer, layoutContainers) => {\r\n    for (let i = 0; i < layoutContainers.length; i++) {\r\n        if (collide(childContainer, layoutContainers[i]))\r\n            return layoutContainers[i];\r\n    }\r\n    return false;\r\n};\r\n\r\nlet collide = (child1, child2) => {\r\n    if (child1.griddata.id === child2.griddata.id) return false; // same element\r\n    if (child1.x + child1.w <= child2.x) return false; // l1 is left of l2\r\n    if (child1.x >= child2.x + child2.w) return false; // l1 is right of l2\r\n    if (child1.y + child1.h <= child2.y) return false; // l1 is above l2\r\n    if (child1.y >= child2.y + child2.h) return false; // l1 is below l2\r\n    return true; // boxes overlap\r\n};\r\n\r\nlet sortChilds = (childContainers, parentSize, compactType, breakpointdata, hasOwnBreakPoints) => {\r\n    childContainers.forEach(childContainer => {\r\n            childContainer.x = getPxFromPercent(\r\n                getFromData(childContainer.griddata, \"x\", parentSize.x, hasOwnBreakPoints\r\n                    ,breakpointdata)\r\n                ,  parentSize.x);\r\n            childContainer.y = getPxFromPercent(\r\n                getFromData(childContainer.griddata, \"y\", parentSize.x, hasOwnBreakPoints\r\n                    ,breakpointdata)\r\n                ,  parentSize.y);\r\n    });\r\n\r\n    if (compactType === \"horizontal\") {\r\n        childContainers.sort((a, b) => {\r\n            if (a.x > b.x || (a.x === b.x && a.y > b.y)) {\r\n                return 1;\r\n            } else if (a.y === b.y && a.x === b.x) {\r\n                // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                return 0;\r\n            }\r\n            return -1;\r\n        });\r\n    } else {\r\n        childContainers.sort((a, b) => {\r\n            if (a.y > b.y || (a.y === b.y && a.x > b.x)) {\r\n                return 1;\r\n            } else if (a.y === b.y && a.x === b.x) {\r\n                // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                return 0;\r\n            }\r\n            return -1;\r\n        });\r\n    }\r\n};\r\n\r\nlet getPxFromPercent = (val, parentVal) => {\r\n    if (typeof(val) === \"string\") {\r\n        if (getUnit(val) === \"%\") {\r\n            let percent = parseFloat(val.replace(\"%\", \"\")) / 100;\r\n            return parentVal * percent;\r\n        }\r\n        return val;\r\n    } else {\r\n        return val;\r\n    }\r\n};\r\n\r\nlet getUnit = (val) => {\r\n    if (typeof(val) === \"string\") {\r\n        if (val.includes(\"%\"))\r\n            return \"%\";\r\n    }\r\n    return \"\";\r\n};\r\n\r\nlet hasDir = (dir, target) => {\r\n    return dir.toLowerCase().includes(target);\r\n};\r\n\r\nlet setChildSize = (childContainer, newSize, parentSize, breakpointdata, hasOwnBreakPoints\r\n                    , dir, delta) => {\r\n    setData(childContainer.griddata, \"w\", newSize.w, parentSize.x, hasOwnBreakPoints\r\n        ,breakpointdata);\r\n    if (getFromData(childContainer.griddata, \"units.w\", parentSize.x, hasOwnBreakPoints\r\n        ,breakpointdata)) {\r\n        setData(childContainer.griddata, \"w\",\r\n            (getFromData(childContainer.griddata, \"w\", parentSize.x\r\n                , hasOwnBreakPoints\r\n                ,breakpointdata) / parentSize.x * 100)\r\n            + getFromData(childContainer.griddata, \"units.w\", parentSize.x\r\n            , hasOwnBreakPoints\r\n            ,breakpointdata)\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    }\r\n\r\n    setData(childContainer.griddata, \"h\", newSize.h, parentSize.x, hasOwnBreakPoints\r\n        ,breakpointdata);\r\n    if (getFromData(childContainer.griddata, \"units.h\", parentSize.x, hasOwnBreakPoints\r\n        ,breakpointdata)) {\r\n        setData(childContainer.griddata, \"h\",\r\n            (getFromData(childContainer.griddata, \"h\", parentSize.x\r\n                , hasOwnBreakPoints\r\n                ,breakpointdata) / parentSize.y * 100)\r\n            + getFromData(childContainer.griddata, \"units.h\", parentSize.x\r\n            , hasOwnBreakPoints\r\n            ,breakpointdata)\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    }\r\n\r\n    if (delta) {\r\n        if (hasDir(dir, \"right\") || hasDir(dir, \"left\")) {\r\n            let x = getPxFromPercent(\r\n                getFromData(childContainer.griddata, \"x\", parentSize.x, hasOwnBreakPoints\r\n                    ,breakpointdata)\r\n                , parentSize.x);\r\n            if (hasDir(dir, \"right\"))\r\n                x = x + delta.width / 2;\r\n            else\r\n                x = x - delta.width / 2;\r\n            let y = getPxFromPercent(\r\n                getFromData(childContainer.griddata, \"y\", parentSize.x, hasOwnBreakPoints\r\n                    ,breakpointdata)\r\n                , parentSize.y);\r\n\r\n            setChildPosition(childContainer, {x: x, y: y}, parentSize, breakpointdata, hasOwnBreakPoints)\r\n        }\r\n        if (hasDir(dir, \"top\") || hasDir(dir, \"bottom\")) {\r\n            let x = getPxFromPercent(\r\n                getFromData(childContainer.griddata, \"x\", parentSize.x, hasOwnBreakPoints\r\n                    ,breakpointdata)\r\n                , parentSize.x);\r\n            let y = getPxFromPercent(\r\n                getFromData(childContainer.griddata, \"y\", parentSize.x, hasOwnBreakPoints\r\n                    ,breakpointdata)\r\n                , parentSize.y);\r\n            if (hasDir(dir, \"bottom\"))\r\n                y = y + delta.height / 2;\r\n            else\r\n                y = y - delta.height / 2;\r\n\r\n            setChildPosition(childContainer, {x: x, y: y}, parentSize, breakpointdata, hasOwnBreakPoints)\r\n        }\r\n    }\r\n};\r\n\r\nlet setChildPosition = (childContainer, newPosition, parentSize, breakpointdata, hasOwnBreakPoints) => {\r\n    setData(childContainer.griddata, \"x\", newPosition.x, parentSize.x\r\n        , hasOwnBreakPoints\r\n        ,breakpointdata);\r\n    if (getFromData(childContainer.griddata, \"units.x\", parentSize.x, hasOwnBreakPoints\r\n        ,breakpointdata)) {\r\n        setData(childContainer.griddata, \"x\",\r\n            (getFromData(childContainer.griddata, \"x\", parentSize.x\r\n                , hasOwnBreakPoints\r\n                ,breakpointdata) / parentSize.x * 100)\r\n            + getFromData(childContainer.griddata, \"units.x\", parentSize.x\r\n            , hasOwnBreakPoints\r\n            ,breakpointdata)\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    }\r\n\r\n    setData(childContainer.griddata, \"y\", newPosition.y, parentSize.x\r\n        , hasOwnBreakPoints\r\n        ,breakpointdata);\r\n    if (getFromData(childContainer.griddata, \"units.y\", parentSize.x, hasOwnBreakPoints\r\n        ,breakpointdata)) {\r\n        setData(childContainer.griddata, \"y\",\r\n            (getFromData(childContainer.griddata, \"y\", parentSize.x\r\n                , hasOwnBreakPoints\r\n                ,breakpointdata) / parentSize.y * 100)\r\n            + getFromData(childContainer.griddata, \"units.y\", parentSize.x\r\n            , hasOwnBreakPoints\r\n            ,breakpointdata)\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    }\r\n};\r\n\r\n/*let updateConstraints = (childContainer, newPosition, parentSize, breakpointdata, hasOwnBreakPoints\r\n                        , parentGridSystem) =>\r\n{\r\n    if (!parentGridSystem)\r\n        parentGridSystem = getDefaultGridSystem();\r\n};*/\r\n\r\n/*let getDefaultGridSystem = () => {\r\n    return {\r\n        xNumber: 1,\r\n        yNumber: 1,\r\n        widths: [100],\r\n        widthUnits: [\"%\"],\r\n        heights: [100],\r\n        heightUnits: [\"%\"]\r\n    }\r\n};*/\r\n\r\nlet fixGriddata = (griddata, breakpointdata) => {\r\n    if (!griddata)\r\n        return;\r\n\r\n    if (griddata.initialized) {\r\n        let sortedBreakPoints = getSortedBreakPoints(breakpointdata);\r\n        for(let i = 0; i < sortedBreakPoints.length; i++) {\r\n            let name = sortedBreakPoints[i].name;\r\n\r\n            if (!griddata[name])\r\n                continue;\r\n\r\n            if (!griddata[name].units)\r\n                griddata[name].units = {};\r\n\r\n            griddata[name].units.x = getUnit(griddata[name].x);\r\n            griddata[name].units.y = getUnit(griddata[name].y);\r\n            griddata[name].units.w = getUnit(griddata[name].w);\r\n            griddata[name].units.h = getUnit(griddata[name].h);\r\n        }\r\n    } else {\r\n        if (!griddata.units)\r\n            griddata.units = {};\r\n\r\n        griddata.units.x = getUnit(griddata.x);\r\n        griddata.units.y = getUnit(griddata.y);\r\n        griddata.units.w = getUnit(griddata.w);\r\n        griddata.units.h = getUnit(griddata.h);\r\n\r\n    }\r\n};\r\n\r\nlet initGriddata = (griddataProp, breakpointdata) => {\r\n    if (griddataProp && griddataProp.initialized)\r\n        return griddataProp;\r\n\r\n    if (!griddataProp)\r\n        griddataProp = {};\r\n\r\n    let clone = cloneObject(griddataProp);\r\n\r\n    for (let props in griddataProp) delete griddataProp[props];\r\n\r\n    let griddata = getDefaultChildgriddata(breakpointdata);\r\n    if (clone.bpData) {\r\n        for (let props in griddata.bpData) {\r\n            if (exist(props, breakpointdata)) {\r\n                    for(let props2 in clone.bpData) {\r\n                        griddata.bpData[props][props2] = cloneObject(clone.bpData[props2]);\r\n                    }\r\n            }\r\n        }\r\n    }\r\n    for (let prop in clone) {\r\n        if (clone.hasOwnProperty(prop) && prop !== \"bpData\") {\r\n            griddata[prop] = clone[prop];\r\n        }\r\n    }\r\n\r\n    for(let k in griddata) griddataProp[k]=griddata[k];\r\n\r\n    return griddataProp;\r\n};\r\n\r\nlet getDefaultChildgriddata = (breakpointdata) => {\r\n    let sample = {\r\n        x: \"50%\",\r\n        y: \"50%\",\r\n        w: \"100%\",\r\n        h: \"100%\",\r\n        minW: undefined,\r\n        maxW: undefined,\r\n        minH: undefined,\r\n        maxH: undefined,\r\n        constraints: {\r\n            left: undefined,\r\n            top: undefined,\r\n            right: undefined,\r\n            bottom: undefined,\r\n        },\r\n        margin: {\r\n            all: undefined,\r\n            left: undefined,\r\n            top: undefined,\r\n            right: undefined,\r\n            bottom: undefined\r\n        },\r\n        units: {\r\n            x: \"%\",\r\n            y: \"%\",\r\n            w: \"%\",\r\n            h: \"%\",\r\n        },\r\n        scrollType: \"vertical\",\r\n        absolute: true,\r\n        fix: false,\r\n        autoHeight: false,\r\n        autoWidth: false,\r\n        overflowData: {\r\n            state: 'hide',\r\n            overflowY: 'scroll'\r\n        },\r\n    };\r\n    let griddata = {\r\n        initialized: true,\r\n        resizable: true,\r\n        draggable: true,\r\n        hasOwnBreakPoints: false,\r\n        isContainer: false,\r\n        autoDock: true,\r\n        bpData: {}\r\n    };\r\n    let sortedBreakPoints = getSortedBreakPoints(breakpointdata);\r\n    griddata.bpData[sortedBreakPoints[0].name] = cloneObject(sample);\r\n    return griddata;\r\n};\r\n\r\nlet cloneObject = (obj) => {\r\n    if (obj instanceof Array) {\r\n        let copy = [];\r\n        for (let i = 0, len = obj.length; i < len; i++) {\r\n            copy[i] = cloneObject(obj[i]);\r\n        }\r\n        return copy;\r\n    }\r\n    if (obj instanceof Object) {\r\n        if (null == obj) return obj;\r\n        let copy = {};\r\n        for (let attr in obj) {\r\n            if (obj.hasOwnProperty(attr)) {\r\n                copy[attr] = cloneObject(obj[attr]);\r\n            }\r\n        }\r\n        return copy;\r\n    }\r\n\r\n    return obj;\r\n};\r\n\r\nlet shallowEqual = (objA, objB) => {\r\n    if (objA === objB) {\r\n        return true;\r\n    }\r\n\r\n    if (typeof objA !== 'object' || objA === null ||\r\n        typeof objB !== 'object' || objB === null) {\r\n        return false;\r\n    }\r\n\r\n    let keysA = Object.keys(objA);\r\n    let keysB = Object.keys(objB);\r\n\r\n    if (keysA.length !== keysB.length) {\r\n        return false;\r\n    }\r\n\r\n    // Test for A's keys different from B.\r\n    for (let i = 0; i < keysA.length; i++) {\r\n        if (!objB.hasOwnProperty(keysA[i]) || objA[keysA[i]] !== objB[keysA[i]]) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return true;\r\n};\r\n\r\nfunction throttleDebounce(fn, ms) {\r\n    let deTimer;\r\n    let dontCall;\r\n\r\n    return _ => {\r\n        let args = arguments;\r\n\r\n        if (!dontCall) {\r\n            dontCall = true;\r\n            fn.apply(this, args);\r\n            setTimeout(_ => {\r\n                dontCall = false;\r\n            }, ms);\r\n        }\r\n\r\n        clearTimeout(deTimer);\r\n        deTimer = setTimeout(_ => {\r\n            fn.apply(this, args);\r\n        }, ms);\r\n    };\r\n}\r\n\r\nfunction throttleDebounce2(fn, threshold) {\r\n    threshold = threshold || 250;\r\n    let last, deferTimer;\r\n\r\n    let db = debounce(fn);\r\n    return function() {\r\n        let now = +new Date, args = arguments;\r\n        if(!last || (last && now < last + threshold)) {\r\n            clearTimeout(deferTimer);\r\n            db.apply(this, args);\r\n            deferTimer = setTimeout(function() {\r\n                last = now;\r\n                fn.apply(this, args);\r\n            }, threshold);\r\n        } else {\r\n            last = now;\r\n            fn.apply(this, args);\r\n        }\r\n    }\r\n}\r\n\r\nlet getOverFlow = (griddata, parent, breakpointdata) => {\r\n    if (!griddata)\r\n        return {x:\"hidden\", y:\"hidden\"};\r\n    let parentSizeX;\r\n    if (parent)\r\n        parentSizeX = parent.getSize().x;\r\n\r\n    let scrollType;\r\n    if (parentSizeX) {\r\n        scrollType = getFromData(griddata, \"scrollType\", parentSizeX\r\n                , griddata? griddata.hasOwnBreakPoints: false, breakpointdata);\r\n    } else {\r\n        scrollType = getFromData(griddata, \"scrollType\", 0\r\n                , false, breakpointdata);\r\n    }\r\n    switch (scrollType) {\r\n        case \"hide\":\r\n            return {x:\"hidden\", y:\"hidden\"};\r\n        case \"show\":\r\n            return {x:\"visible\", y:\"visible\"};\r\n        case \"horizontal\":\r\n            return {x:\"overlay\", y:\"hidden\"};\r\n        case \"vertical\":\r\n            return {x:\"hidden\", y:\"overlay\"};\r\n        case \"both\":\r\n            return {x:\"overlay\", y:\"overlay\"};\r\n        default:\r\n            return {x:\"visible\", y:\"visible\"};\r\n    }\r\n};\r\n\r\nlet scrollbarWidth = false;\r\nlet getScrollbarWidth = () => {\r\n    if (scrollbarWidth !== false) return scrollbarWidth;\r\n    /* istanbul ignore else */\r\n    if (typeof document !== 'undefined') {\r\n        const div = document.createElement('div');\r\n        css(div, {\r\n            width: 100,\r\n            height: 100,\r\n            position: 'absolute',\r\n            top: -9999,\r\n            overflow: 'scroll',\r\n            MsOverflowStyle: 'scrollbar'\r\n        });\r\n        document.body.appendChild(div);\r\n        scrollbarWidth = (div.offsetWidth - div.clientWidth);\r\n        document.body.removeChild(div);\r\n    } else {\r\n        scrollbarWidth = 0;\r\n    }\r\n    return scrollbarWidth || 0;\r\n};\r\n\r\nexport let assignData = (griddata, newData) => {\r\n    if (!griddata)\r\n        griddata = {};\r\n    return Object.assign(griddata, newData || {})\r\n};\r\n\r\nexport function getOffsetLeft( elem )\r\n{\r\n    let offsetLeft = 0;\r\n    do {\r\n        let elemOffsetLeft = elem.offsetLeft;\r\n        if ( !isNaN( elemOffsetLeft ) )\r\n        {\r\n            offsetLeft += elemOffsetLeft;\r\n        }\r\n    } while( elem = elem.offsetParent );\r\n    return offsetLeft;\r\n}\r\n\r\nexport function getOffsetTop( elem )\r\n{\r\n    let offsetTop = 0;\r\n    do {\r\n        let elemOffsetTop = elem.offsetTop;\r\n        if ( !isNaN( elemOffsetTop ) )\r\n        {\r\n            offsetTop += elemOffsetTop;\r\n        }\r\n    } while( elem = elem.offsetParent );\r\n    return offsetTop;\r\n}\r\n\r\n\r\nexport function JSToCSS(JS){\r\n    let cssString = \"\";\r\n    for (let objectKey in JS) {\r\n        cssString += objectKey.replace(/([A-Z])/g, (g) => `-${g[0].toLowerCase()}`) + \": \" + JS[objectKey] + \"; \";\r\n    }\r\n    return cssString;\r\n};\r\n\r\nexport function updateStyle(styleNode, style, styleName){\r\n    let css = `\r\n            .${styleName} {${\r\n        JSToCSS(style)\r\n        }}\r\n            `;\r\n\r\n    styleNode.innerHTML = \"\";\r\n    if (styleNode.styleSheet) { // IE\r\n        styleNode.styleSheet.cssText = css;\r\n    } else {\r\n        styleNode.appendChild(document.createTextNode(css));\r\n    }\r\n};\r\n\r\nexport function appendStyle(style, styleId, styleName){\r\n    let css = `\r\n            .${styleName} {${\r\n        JSToCSS(style)\r\n        }}\r\n            `;\r\n    let styleNode = document.createElement('style');\r\n    styleNode.setAttribute(\"id\", styleId);\r\n    // styleNode.setAttribute(\"title\", styleId);\r\n\r\n    styleNode.type = 'text/css';\r\n\r\n    if (styleNode.styleSheet) { // IE\r\n        styleNode.styleSheet.cssText = css;\r\n    } else {\r\n        styleNode.appendChild(document.createTextNode(css));\r\n    }\r\n\r\n    document.getElementsByTagName('head')[0].appendChild(styleNode);\r\n};\r\n\r\nexport function addCSS(cssText, cssId, doc){\r\n    let styleNode = (doc || document).getElementById(cssId);\r\n\r\n    if (!styleNode) {\r\n        styleNode = (doc || document).createElement('style');\r\n        styleNode.setAttribute(\"id\", cssId);\r\n        styleNode.type = 'text/css';\r\n    } else {\r\n        styleNode.innerHTML = \"\";\r\n    }\r\n\r\n    if (styleNode.styleSheet) { // IE\r\n        styleNode.styleSheet.cssText = cssText;\r\n    } else {\r\n        styleNode.appendChild((doc || document).createTextNode(cssText));\r\n    }\r\n\r\n    (doc || document).getElementsByTagName('head')[0].appendChild(styleNode);\r\n};\r\n\r\n/*export function appendStyle(style, styleId, styleName){\r\n    return StyleSheet.create({\r\n        [styleId]: style\r\n    })[styleId];\r\n};\r\n\r\nexport function updateStyle(styleNode, style, styleName){\r\n    return StyleSheet.create({\r\n        [styleName]: style\r\n    });\r\n};*/\r\n\r\nexport function getScrollParent(node) {\r\n    if (node == null) {\r\n        return null;\r\n    }\r\n\r\n    if (node.scrollHeight > node.clientHeight) {\r\n        return node;\r\n    } else {\r\n        return getScrollParent(node.parentNode);\r\n    }\r\n}\r\n\r\nexport function swapArrayElements(arr, indexA, indexB) {\r\n    let temp = arr[indexA];\r\n    arr[indexA] = arr[indexB];\r\n    arr[indexB] = temp;\r\n}\r\n\r\nexport {CalculateLayout, cloneObject, getPxFromPercent, shallowEqual\r\n        ,throttleDebounce, setChildSize, fixGriddata, setChildPosition\r\n        ,getDefaultChildgriddata, initGriddata, getOverFlow, getScrollbarWidth, getDummy}\r\n","import {cloneObject, throttleDebounce} from \"./AwesomeGridLayoutUtils\";\r\nimport merge from \"lodash.merge\";\r\n\r\nexport default class BreakPointManager {\r\n    constructor(breakpoints, editor, onBreakpointChange, onZoomLevelChange, onHeightChange, onResize) {\r\n        if (!breakpoints)\r\n            breakpoints = BreakPointManager.getDefault();\r\n\r\n        this.fixBreakpointRules(breakpoints);\r\n\r\n        // TODO test\r\n\r\n        this.breakpoints = breakpoints;\r\n        this.editor = editor;\r\n        this.windowInnerWidth = window.innerWidth;\r\n        this.lastWidth = window.innerWidth;\r\n        this.onBreakpointChange = onBreakpointChange || (() => {});\r\n        this.onZoomLevelChange = onZoomLevelChange || (() => {});\r\n        this.onHeightChange = onHeightChange || (() => {});\r\n\r\n        window.addEventListener(\"resize\", onResize);\r\n        if (onBreakpointChange)\r\n            window.addEventListener(\"resize\", this.onWindowResize);\r\n        if (onZoomLevelChange)\r\n            window.addEventListener(\"resize\", this.onDevicePixelRatioChange);\r\n        if (onHeightChange)\r\n            window.addEventListener(\"resize\", this.onHeightResize);\r\n    }\r\n\r\n    fixBreakpointRules = (breakpoints) => {\r\n        breakpoints.forEach(bpData => {\r\n            if (!bpData.end)\r\n                bpData.end = 99999;\r\n        });\r\n    }\r\n\r\n    updateBreakpoint = (name, start, end) => {\r\n        let bp = this.breakpoints.find(b => b.name === name);\r\n        if (bp) {\r\n            bp.end = end;\r\n            let upperBP = this.getUpperBreakPoint(name);\r\n            if (upperBP) this.getUpperBreakPoint(name).start = end + 1;\r\n            return;\r\n        }\r\n\r\n        start++;\r\n        bp = {name, start, end};\r\n        let prevBp;\r\n\r\n        let sortedBreakPoints = this.getSortedBreakPoints();\r\n        for(let i = 0; i < sortedBreakPoints.length; i++) {\r\n            if (bp.start === sortedBreakPoints[i].start + 1) {\r\n                bp.start++;\r\n            }\r\n            if (bp.start >= sortedBreakPoints[i].start) {\r\n                bp.end = sortedBreakPoints[i].end;\r\n                sortedBreakPoints[i].end = bp.start - 1;\r\n                prevBp = sortedBreakPoints[i];\r\n                break;\r\n            }\r\n        }\r\n\r\n        this.breakpoints.push(bp);\r\n\r\n        return {newBpData: bp, prevBpData: prevBp};\r\n    };\r\n\r\n    deleteBreakpoint = (name) => {\r\n        let sortedBreakPoints = this.getSortedBreakPoints();\r\n        for(let i = 0; i < sortedBreakPoints.length; i++) {\r\n            if (name === sortedBreakPoints[i].name) {\r\n                let upper = sortedBreakPoints[i - 1];\r\n                upper.start = sortedBreakPoints[i].start;\r\n                break;\r\n            }\r\n        }\r\n\r\n        let index = this.breakpoints.findIndex(bp => {\r\n            return bp.name === name;\r\n        });\r\n\r\n        this.breakpoints.splice(index, 1);\r\n    };\r\n\r\n    fromClone = (clone) => {\r\n        this.breakpoints = clone.breakpoints;\r\n        this.windowInnerWidth = clone.windowInnerWidth;\r\n        this.lastWidth = clone.lastWidth;\r\n        this.editor = clone.editorData;\r\n\r\n        return this;\r\n    };\r\n\r\n    copyDesign = (designDatas, sourceItem) => {\r\n        this.cloneDesignDatas = {\r\n            designDatas: cloneObject(designDatas),\r\n            sourceItem\r\n        };\r\n    };\r\n\r\n    getCopyDesign = () => {\r\n        return this.cloneDesignDatas;\r\n    };\r\n\r\n    pasteDesign = (item) => {\r\n        if (!this.getCopyDesign())\r\n            return;\r\n\r\n        this.getCopyDesign().designDatas.forEach((designData, index) => {\r\n            let design = designData.design;\r\n            if (!designData.justOneBp) {\r\n                let bpName = designData.bpName;\r\n                if (!item.props.griddata.bpData[bpName])\r\n                    item.props.griddata.bpData[bpName] = {};\r\n                item.props.griddata.bpData[bpName].design = cloneObject(design);\r\n            } else {\r\n                let currentBpName = item.props.breakpointmanager.current();\r\n                if (!item.props.griddata.bpData[currentBpName])\r\n                    item.props.griddata.bpData[currentBpName] = {};\r\n                item.props.griddata.bpData[currentBpName].design = cloneObject(design);\r\n            }\r\n        });\r\n    };\r\n\r\n    getWindowWidth = () => {\r\n        return this.lastWidth\r\n    };\r\n\r\n    getWindowHeight = () => {\r\n        return this.editor.rootLayoutRef.current.getSize(false).height;\r\n        // return window.innerHeight * 0.8;\r\n    };\r\n\r\n    setWindowWidth = (width) => {\r\n        this.lastWidth = width;\r\n    };\r\n\r\n    getBpData = (bpName) => {\r\n        return this.breakpoints.find(bp => {\r\n            return bp.name === bpName;\r\n        });\r\n    };\r\n\r\n    dispose() {\r\n        window.removeEventListener(\"resize\", this.onWindowResize);\r\n    }\r\n\r\n    getDevicePixelRatio = () => {\r\n        return window.devicePixelRatio;\r\n    };\r\n\r\n    onDevicePixelRatioChange = () => {\r\n        let changed = this.devicePixelRatio !== window.devicePixelRatio;\r\n\r\n        this.devicePixelRatio = window.devicePixelRatio;\r\n\r\n        if (changed) {\r\n            this.onZoomLevelChange(this.getDevicePixelRatio());\r\n        }\r\n    };\r\n\r\n    onHeightResize = throttleDebounce((e) => {\r\n        if (this.lastHeight !== window.innerHeight) {\r\n            this.lastHeight = window.innerHeight;\r\n            this.onHeightChange(e);\r\n        }\r\n    }, 100);\r\n\r\n    onWindowResize = throttleDebounce(() => {\r\n        let newWidth = window.innerWidth -\r\n            this.editor.context.inspectorPinned ? this.editor.context.inspectorWidth : 0;\r\n\r\n        let result = this.checkBreakPointChange(newWidth);\r\n\r\n        this.setWindowWidth(newWidth);\r\n\r\n        if (result.changed) {\r\n            this.onBreakpointChange(newWidth, result.currentBreakpointName, this.getDevicePixelRatio());\r\n        }\r\n    }, 100);\r\n\r\n    checkBreakPointChange = (newWidth) => {\r\n        let lastBreakpointName = this.current(this.getWindowWidth());\r\n        let currentBreakpointName = this.current(newWidth);\r\n\r\n        return {\r\n            changed: (lastBreakpointName !== currentBreakpointName),\r\n            currentBreakpointName\r\n        }\r\n    };\r\n\r\n    current = (size) => {\r\n        if (!size)\r\n            size = this.getWindowWidth();\r\n        let sortedBreakPoints = this.getSortedBreakPoints();\r\n        for(let i = 0; i < sortedBreakPoints.length; i++) {\r\n            if (this.getSize(size) >= sortedBreakPoints[i].start)\r\n                return sortedBreakPoints[i].name;\r\n        }\r\n\r\n        return sortedBreakPoints[sortedBreakPoints.length - 1].name;\r\n    };\r\n\r\n    currentBpData = (size) => {\r\n        if (!size)\r\n            size = this.getWindowWidth();\r\n        let sortedBreakPoints = this.getSortedBreakPoints();\r\n        for(let i = 0; i < sortedBreakPoints.length; i++) {\r\n            if (this.getSize(size) >= sortedBreakPoints[i].start)\r\n                return sortedBreakPoints[i];\r\n        }\r\n\r\n        return sortedBreakPoints[sortedBreakPoints.length - 1];\r\n    };\r\n\r\n    getUpperBreakPoint = (bpName) => {\r\n        let sortedBreakPoints = this.getSortedBreakPoints();\r\n        for(let i = 0; i < sortedBreakPoints.length; i++) {\r\n            if (bpName === sortedBreakPoints[i].name)\r\n                return sortedBreakPoints[i - 1] && sortedBreakPoints[i - 1];\r\n        }\r\n    };\r\n\r\n    setData = (dataSet, param, value, breakpointName) => {\r\n        let params = param.split('.');\r\n        let name = breakpointName ||\r\n            this.current(this.getSize());\r\n        if (!dataSet.bpData[name]) {\r\n            dataSet.bpData[name] = {};\r\n        }\r\n        if (params.length === 1) {\r\n            if (value !== undefined)\r\n                dataSet.bpData[name][params[0]] = value;\r\n            else\r\n                delete dataSet.bpData[name][params[0]];\r\n        } else {\r\n            if (dataSet.bpData[name][params[0]] === undefined)\r\n                dataSet.bpData[name][params[0]] = {};\r\n            let override = dataSet.bpData[name][params[0]];\r\n            for(let i = 1; i < params.length; i++) {\r\n                if (i === params.length - 1) { // Last index\r\n                    if (value !== undefined)\r\n                        override[params[i]] = value;\r\n                    else\r\n                        delete override[params[i]];\r\n                }\r\n                else\r\n                {\r\n                    if (override[params[i]] === undefined)\r\n                        override[params[i]] = {};\r\n                    override = override[params[i]];\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    getFromData = (dataSet, param, breakpointName) => {\r\n        let params = param.split('.');\r\n        let firstParamResult;\r\n        let currentBreakpointName = breakpointName ||\r\n            this.current(this.getSize());\r\n\r\n        if (dataSet.bpData[currentBreakpointName] &&\r\n            dataSet.bpData[currentBreakpointName][params[0]] !== undefined)\r\n            firstParamResult =\r\n                dataSet.bpData[currentBreakpointName][params[0]];\r\n        else {\r\n            firstParamResult = this.findFirstUpperBreakPointParam(dataSet, params[0]\r\n                , this.getSize());\r\n        }\r\n\r\n        if (firstParamResult === undefined)\r\n            return;\r\n\r\n        if (params.length === 1)\r\n            return firstParamResult;\r\n\r\n        params.slice(1).forEach(p => {\r\n            if (firstParamResult)\r\n                firstParamResult = firstParamResult[p];\r\n        });\r\n\r\n        return firstParamResult;\r\n    };\r\n\r\n    getHighestBpName = () => {\r\n        let sortedBreakPoints = this.getSortedBreakPoints();\r\n        return sortedBreakPoints[0].name;\r\n    };\r\n\r\n    getCompositeFromData = (dataSet, param) => {\r\n        let params = param.split('.');\r\n        let results = [];\r\n\r\n        let sortedBreakPoints = this.getSortedBreakPoints(this.getWindowWidth());\r\n        for(let i = sortedBreakPoints.length - 1; i >= 0; i--) {\r\n            let checkBreakpointName = sortedBreakPoints[i].name;\r\n\r\n            let firstParamResult;\r\n            if (dataSet.bpData[checkBreakpointName] &&\r\n                dataSet.bpData[checkBreakpointName][params[0]] !== undefined)\r\n                firstParamResult = dataSet.bpData[checkBreakpointName][params[0]];\r\n\r\n            if (firstParamResult === undefined)\r\n                continue;\r\n\r\n            if (params.length === 1) {\r\n                results.push(firstParamResult);\r\n            } else {\r\n                params.slice(1).forEach(p => {\r\n                    if (firstParamResult)\r\n                        firstParamResult = firstParamResult[p];\r\n                });\r\n\r\n                results.push(firstParamResult);\r\n            }\r\n        }\r\n\r\n        if (!(results[0] instanceof Object))\r\n            return results[0];\r\n\r\n        let composite = {};\r\n        for (let i = results.length - 1; i >= 0; i--) {\r\n            composite = merge(composite, results[i]);\r\n        }\r\n\r\n        return composite;\r\n    };\r\n\r\n    hasDataInBreakPoint = (dataSet, param, breakpointName) => {\r\n        let params = param.split('.');\r\n        let firstParamResult;\r\n        let currentBreakpointName = breakpointName ||\r\n            this.current(this.getSize());\r\n\r\n        if (dataSet.bpData[currentBreakpointName] &&\r\n            dataSet.bpData[currentBreakpointName][params[0]] !== undefined)\r\n            firstParamResult =\r\n                dataSet.bpData[currentBreakpointName][params[0]];\r\n\r\n        if (firstParamResult === undefined)\r\n            return;\r\n\r\n        if (params.length === 1)\r\n            return firstParamResult;\r\n\r\n        params.slice(1).forEach(p => {\r\n            if (firstParamResult)\r\n                firstParamResult = firstParamResult[p];\r\n        });\r\n\r\n        return firstParamResult;\r\n    };\r\n\r\n    findFirstUpperBreakPointParam = (dataSet, param, size) => {\r\n        let sortedBreakPoints = this.getSortedBreakPoints();\r\n        for(let i = sortedBreakPoints.length - 1; i >= 0; i--) {\r\n            if (this.getSize(size) <= sortedBreakPoints[i].end) {\r\n                if (dataSet.bpData[sortedBreakPoints[i].name] &&\r\n                    dataSet.bpData[sortedBreakPoints[i].name][param] !== undefined)\r\n                    return dataSet.bpData[sortedBreakPoints[i].name][param];\r\n            }\r\n        }\r\n    };\r\n\r\n    findFirstUpperBreakPointName = (dataSet, param, size) => {\r\n        let sortedBreakPoints = this.getSortedBreakPoints();\r\n        for(let i = sortedBreakPoints.length - 1; i >= 0; i--) {\r\n            if (this.getSize(size) <= sortedBreakPoints[i].end) {\r\n                if (dataSet.bpData[sortedBreakPoints[i].name]/* && dataSet[sortedBreakPoints[i].name][param] !== undefined*/)\r\n                    return sortedBreakPoints[i].name;\r\n            }\r\n        }\r\n    };\r\n\r\n    getMinWidth = () => {\r\n        let sortedBreakPoints = this.getSortedBreakPoints();\r\n        return sortedBreakPoints[sortedBreakPoints.length - 1].start;\r\n    };\r\n\r\n    getSortedBreakPoints = (minSize) => {\r\n        let breakpoints = this.breakpoints;\r\n        if (minSize) {\r\n            breakpoints = this.breakpoints.filter(bp => {\r\n                return bp.end >= minSize;\r\n            });\r\n        }\r\n        // console.log(\"breakpoints.length\", breakpoints.length, minSize)\r\n        return breakpoints.sort((a,b) => {\r\n            if (a.start > b.start) {\r\n                return -1;\r\n            } else if (a.start === b.start) {\r\n                // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                return 0;\r\n            }\r\n            return 1;\r\n        });\r\n    };\r\n\r\n    exist = (name) => {\r\n        return this.breakpoints.find(b => {\r\n            return b.name === name;\r\n        });\r\n    };\r\n\r\n    static getDefault = () => {\r\n        return [\r\n            {\r\n                name: \"laptop\",\r\n                start: 1001,\r\n                end: 99999,\r\n                prefer: 1006\r\n            },\r\n            {\r\n                name: \"tablet\",\r\n                start: 751,\r\n                end: 1000,\r\n                prefer: 768\r\n            },\r\n            {\r\n                name: \"mobile\",\r\n                start: 320,\r\n                end: 750,\r\n                prefer: 360\r\n            },\r\n        ]\r\n    };\r\n\r\n    getSize = (size) => {\r\n        return size || this.getWindowWidth();\r\n    };\r\n};\r\n\r\nexport let setData = (dataSet, param, value, breakPointData, breakpointName) => {\r\n    let breakPointManager = new BreakPointManager().fromClone(breakPointData);\r\n    breakPointManager.setData(dataSet, param, value, breakpointName);\r\n};\r\n\r\nexport let getFromData = (dataSet, param, breakPointData, breakpointName) => {\r\n    let breakPointManager = new BreakPointManager().fromClone(breakPointData);\r\n    return breakPointManager.getFromData(dataSet, param, breakpointName);\r\n};\r\n\r\nexport let getCompositeFromData = (dataSet, param, breakPointData) => {\r\n    let breakPointManager = new BreakPointManager().fromClone(breakPointData);\r\n    return breakPointManager.getCompositeFromData(dataSet, param);\r\n};\r\n\r\nexport let getSortedBreakPoints = (breakPointData) => {\r\n    let breakPointManager = new BreakPointManager(breakPointData.breakpoints, breakPointData.windowInnerWidth);\r\n    return breakPointManager.getSortedBreakPoints();\r\n};\r\n\r\nexport let exist = (name, breakPointData) => {\r\n    let breakPointManager = new BreakPointManager(breakPointData.breakpoints, breakPointData.windowInnerWidth);\r\n    return breakPointManager.exist(name);\r\n};\r\n","import React from 'react';\r\nimport BreakPointManager from \"../BreakPointManager\";\r\nimport chroma from \"chroma-js\";\r\nimport {addCSS, JSToCSS} from \"../AwesomeGridLayoutUtils\";\r\n\r\nfunction getColorScheme (baseColor) {\r\n    return {\r\n        \"1\": chroma(baseColor).luminance(0.025).css(),\r\n        \"2\": chroma(baseColor).luminance(0.06).css(),\r\n        \"3\": chroma(baseColor).luminance(0.15).css(),\r\n        \"4\": chroma(baseColor).luminance(0.35).css(),\r\n        \"5\": chroma(baseColor).luminance(0.55).css(),\r\n    }\r\n}\r\n\r\nexport const EditorContext = React.createContext({});\r\n\r\nconst colorKeys = [\r\n    \"1\",\"2\",\"3\",\"4\",\"5\",\r\n];\r\n\r\nexport default class EditorContextProvider extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            update: this.update,\r\n            initContext: this.initContext,\r\n            zoomScale: 1,\r\n            editor: undefined,\r\n            setZoomScale: this.setZoomScale,\r\n            siteData: undefined,\r\n            setSiteData: this.setSiteData,\r\n            pageSize: 1006,\r\n            setPageSize: this.setPageSize,\r\n            setPageSizeWidth: this.setPageSizeWidth,\r\n            pageData: undefined,\r\n            setPageData: this.setPageData,\r\n            inspectorPinned: true,\r\n            setInspectorPinned: this.setInspectorPinned,\r\n            inspectorWidth: 260,\r\n            getInnerWith: this.getInnerWidth,\r\n            setInspectorWidth: this.setInspectorWidth,\r\n            devicePixelRatio: window.devicePixelRatio,\r\n            setDevicePixelRatio: this.setDevicePixelRatio,\r\n            allComponentData: undefined,\r\n            setAllComponentData: this.setAllComponentData,\r\n            rightMenus: {\r\n                addComponent: {\r\n                    state: false,\r\n                },\r\n                pageManager: {\r\n                    state: false,\r\n                },\r\n                themeManager: {\r\n                    state: false,\r\n                }\r\n            },\r\n            setRightMenus: this.setRightMenus,\r\n            toggleRightMenu: this.toggleRightMenu,\r\n            onNewBpAdded: this.onNewBpAdded,\r\n            setPreview: this.setPreview,\r\n            sendEditCommand: this.sendEditCommand,\r\n            sendPublishCommand: this.sendPublishCommand,\r\n            setProduction: this.setProduction,\r\n            preview: false,\r\n            production: false,\r\n            getTheme: this.getTheme,\r\n            getColor: this.getColor,\r\n            getThemeColorClass: this.getThemeColorClass,\r\n            getThemeBackColorClass: this.getThemeBackColorClass,\r\n            calculateTheme: this.calculateTheme,\r\n            calculateColorCSS: this.calculateColorCSS\r\n        };\r\n    }\r\n\r\n    getThemeColorClass = (color) => {\r\n        if (!color.paletteName || !color.key)\r\n            return '';\r\n\r\n        let name = color.paletteName.replaceAll(' ', '_');\r\n        return `Color_${name}_${color.key}`;\r\n    }\r\n\r\n    getThemeBackColorClass = (color) => {\r\n        if (!color.paletteName || !color.key)\r\n            return '';\r\n\r\n        let name = color.paletteName.replaceAll(' ', '_');\r\n        return `BackColor_${name}_${color.key}`;\r\n    }\r\n\r\n    getTheme = (category, name) => {\r\n        if (name)\r\n            return Object.values(this.state.siteData.theme[category].items).find(t => {\r\n                return t.name === name;\r\n            })\r\n\r\n        return Object.values(this.state.siteData.theme[category].items);\r\n    }\r\n\r\n    getColor = (paletteName, key) => {\r\n        let {siteData} = this.state;\r\n\r\n        let theme = siteData.theme;\r\n\r\n        this.calculateTheme(false);\r\n\r\n        return theme.Colors.items[paletteName][key];\r\n    };\r\n\r\n    calculateTheme = (force = true) => {\r\n        let {siteData} = this.state;\r\n\r\n        let theme = siteData.theme;\r\n\r\n        if (!theme.Colors.calculated) {\r\n            Object.values(theme.Colors.items).forEach(item => {\r\n                let scheme = getColorScheme(item.main);\r\n                colorKeys.forEach(key => {\r\n                    if (force || !item[key])\r\n                        item[key] = scheme[key];\r\n                })\r\n            });\r\n\r\n            theme.Colors.calculated = true;\r\n\r\n            this.calculateColorCSS();\r\n        }\r\n    };\r\n\r\n    calculateColorCSS = (doc) => {\r\n        let {siteData} = this.state;\r\n        let theme = siteData.theme;\r\n        let colorsCSS = [];\r\n        console.log(\"calculateColorCSS\", doc);\r\n        Object.values(theme.Colors.items).forEach(item => {\r\n            colorKeys.forEach(key => {\r\n                let id = this.getThemeColorClass({\r\n                    paletteName: item.name,\r\n                    key: key\r\n                });\r\n                let backColor = this.getThemeBackColorClass({\r\n                    paletteName: item.name,\r\n                    key: key\r\n                });\r\n\r\n                let cssText = `\r\n                    .${id} {\r\n                        color: ${item[key]}\r\n                    }\r\n                    \r\n                    .${backColor} {\r\n                        background-color: ${item[key]}\r\n                    }\r\n                    `;\r\n\r\n                colorsCSS.push({cssText, id});\r\n                addCSS(cssText, id, doc);\r\n            })\r\n        });\r\n    }\r\n\r\n    setProduction = (callback) => {\r\n        this.setState({production:true, preview:true}, callback);\r\n    }\r\n\r\n    sendEditCommand = (callback) => {\r\n        this.state.editor.postMessage({\r\n            type: \"Holder\",\r\n            func: \"onEditMode\",\r\n            inputs: []\r\n        });\r\n        this.setPreview(false, callback);\r\n    }\r\n\r\n    sendPublishCommand = () => {\r\n        this.sendEditCommand(() => {\r\n            this.state.editor.postMessage({\r\n                type: \"Holder\",\r\n                func: \"onPublishClick\",\r\n                inputs: []\r\n            });\r\n        });\r\n    }\r\n\r\n    setPreview = (preview, callback) => {\r\n        let pageData = this.state.pageData;\r\n        this.setPageData(undefined, false, () => {\r\n            this.state.editor.idMan.clear();\r\n            this.setState({preview}, () => {\r\n                this.setPageData(pageData.props.pageId, false, callback);\r\n            });\r\n        });\r\n    }\r\n\r\n    update = (callback) => {\r\n        this.setState({reload: true}, callback);\r\n    };\r\n\r\n    initContext = (state, callback) => {\r\n        this.setState(state, callback);\r\n    };\r\n\r\n    getInnerWidth = () => {\r\n        return window.innerWidth - this.state.inspectorPinned ? this.state.inspectorWidth : 0;\r\n    };\r\n\r\n    setZoomScale = (zoomScale, callback) => {\r\n        this.setState({zoomScale}, callback);\r\n    };\r\n\r\n    setSiteData = (siteData, callback) => {\r\n        this.setState({siteData}, () => {\r\n            this.postSiteData();\r\n            callback && callback();\r\n        });\r\n    };\r\n\r\n    postSiteData = () => {\r\n        this.calculateColorCSS();\r\n    }\r\n\r\n    setPageData = (pageId, force, callback) => {\r\n        if (this.state.pageData && !force && this.state.pageData.props.pageId === pageId) {\r\n            return;\r\n        }\r\n\r\n        if (!pageId) {\r\n            this.setState({pageData: undefined}, callback);\r\n            return;\r\n        }\r\n\r\n        if (!this.state.pageData) {\r\n            let pageData = this.state.siteData.allPages[pageId];\r\n\r\n            if (!pageData.breakpoints) {\r\n                pageData.breakpoints = BreakPointManager.getDefault();\r\n            }\r\n\r\n            this.state.editor.setBreakpoints(pageData.breakpoints);\r\n            this.setState({pageData}, callback);\r\n            return;\r\n        }\r\n\r\n        if (!this.state.preview) {\r\n            this.state.editor.rootLayoutRef.current.onSelect(true, () => {\r\n                this.state.editor.idMan.clear();\r\n\r\n                this.state.setPageData(undefined, false , () => {\r\n                    let pageData = this.state.siteData.allPages[pageId];\r\n\r\n                    if (!pageData.breakpoints) {\r\n                        pageData.breakpoints = BreakPointManager.getDefault();\r\n                    }\r\n\r\n                    this.state.editor.setBreakpoints(pageData.breakpoints);\r\n                    this.setState({pageData}, callback);\r\n                });\r\n            });\r\n        }\r\n        else\r\n        {\r\n            this.state.editor.idMan.clear();\r\n\r\n            console.log(\"setPageData\", 62)\r\n            this.state.setPageData(undefined, false , () => {\r\n                let pageData = this.state.siteData.allPages[pageId];\r\n\r\n                if (!pageData.breakpoints) {\r\n                    pageData.breakpoints = BreakPointManager.getDefault();\r\n                }\r\n\r\n                console.log(\"setPageData\", 72)\r\n                this.state.editor.setBreakpoints(pageData.breakpoints);\r\n                this.setState({pageData}, callback);\r\n            });\r\n        }\r\n    };\r\n\r\n    onNewBpAdded = (newBpData, prevBpData) => {\r\n        if (!prevBpData){\r\n            this.update();\r\n            return;\r\n        }\r\n\r\n        console.log(\"newBpData\", newBpData.name, prevBpData.name)\r\n\r\n        let changeGriddata = (item, childData) => {\r\n            if (!item || !item.mounted)\r\n                return;\r\n\r\n            let bpData = childData.props.griddata.bpData;\r\n            bpData[newBpData.name] = bpData[prevBpData.name];\r\n            delete bpData[prevBpData.name];\r\n\r\n            Object.keys(item.getFromTempData(\"savedChildren\")).map(childId => {\r\n                let childData = item.getFromTempData(\"savedChildren\")[childId];\r\n                changeGriddata(\r\n                    item.allChildRefs[childId].current,\r\n                    childData\r\n                );\r\n            })\r\n        };\r\n\r\n        let pageChildData = {\r\n            tagName: this.state.editor.rootLayoutRef.current.props.tagName,\r\n            props: this.state.editor.rootLayoutRef.current.getClearProps({...this.state.editor.rootLayoutRef.current.props}),\r\n            zIndex: 0\r\n        };\r\n\r\n        changeGriddata(this.state.editor.rootLayoutRef.current, pageChildData);\r\n\r\n        this.update();\r\n    }\r\n\r\n    setInspectorPinned = (inspectorPinned, callback) => {\r\n        this.setState({inspectorPinned}, callback);\r\n    };\r\n\r\n    setInspectorWidth = (inspectorWidth, callback) => {\r\n        this.setState({inspectorWidth}, callback);\r\n    };\r\n\r\n    setDevicePixelRatio = (devicePixelRatio, callback) => {\r\n        this.setState({devicePixelRatio}, callback);\r\n    };\r\n\r\n    setAllComponentData = (allComponentData, callback) => {\r\n        this.setState({allComponentData}, callback);\r\n    };\r\n\r\n    toggleRightMenu = (menuName, state) => {\r\n        let {rightMenus} = this.state;\r\n\r\n        if (state === rightMenus[menuName].state)\r\n            return;\r\n\r\n        for(let props in rightMenus) {\r\n            if (rightMenus[props].state) {\r\n                rightMenus[props].state = false;\r\n                rightMenus[props].toggle(true);\r\n            }\r\n        }\r\n\r\n        rightMenus[menuName].state = rightMenus[menuName].toggle(false, state);\r\n\r\n        this.setState({rightMenus: {...rightMenus}});\r\n    };\r\n\r\n    setPageSizeWidth = (width) => {\r\n        this.state.editor.rootLayoutRef.current.setPageSizeWidth(width);\r\n        this.state.editor.breakpointmanager.setWindowWidth(width);\r\n        this.setState({pageSize: width});\r\n    };\r\n\r\n    setPageSize = (pageSize) => {\r\n        this.setState({pageSize});\r\n    };\r\n\r\n    setRightMenus = (rightMenus, callback) => {\r\n        this.setState({rightMenus}, callback);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <EditorContext.Provider value={this.state}>\r\n                {this.props.children}\r\n            </EditorContext.Provider>\r\n        )\r\n    }\r\n}\r\n","import {cloneObject} from \"./AwesomeGridLayoutUtils\";\r\n\r\nexport default class DragDropManager {\r\n    setDragging = (item) => {\r\n        this.draggingItem = item;\r\n    };\r\n\r\n    getDragging = () => {\r\n        return this.draggingItem;\r\n    };\r\n\r\n    isDraggingItemFixed = () => {\r\n        if (!this.draggingItem)\r\n            return false;\r\n        return this.draggingItem.state.portalNodeId === \"page_fixed_holder\";\r\n    };\r\n\r\n    // return true if dropping on another parent\r\n    setDraggingStop = () => {\r\n        if (this.draggingItem && this.mouseOver &&\r\n            this.draggingItem.props.parent !== this.mouseOver &&\r\n            !this.mouseOver.getParentsId().includes(this.draggingItem.props.id) &&\r\n            !this.isDraggingItemFixed())\r\n        {\r\n            this.mouseOver.prepareRects();\r\n            this.dropItem(this.draggingItem, this.draggingItem.props.parent, this.mouseOver);\r\n\r\n            this.draggingItem = undefined;\r\n            return true;\r\n        }\r\n\r\n        this.draggingItem = undefined;\r\n        return false;\r\n    };\r\n\r\n    dropItem = (item, parent, newParent, callback, fromUndoRedo, undoPower) => {\r\n        item.toggleHelpLines();\r\n        parent.onChildLeave(item);\r\n\r\n        let drop = () => {\r\n            newParent.onChildDrop(item, undefined, undefined, (newItem) => {\r\n                if (callback)\r\n                    callback(newItem);\r\n\r\n                if (!fromUndoRedo) {\r\n                    let itemId = item.props.id;\r\n                    let firstRelativeX =\r\n                        (item.dragData? item.dragData.firstPos.left : newItem.getSize(false).left)\r\n                        - parent.getSize(false).left;\r\n                    let firstRelativeY =\r\n                        (item.dragData? item.dragData.firstPos.top : newItem.getSize(false).top)\r\n                        - parent.getSize(false).top;\r\n                    let parentRect = cloneObject(parent.getSize(false));\r\n                    let lastRelativeX = newItem.getSize(false).left - newParent.getSize(false).left;\r\n                    let lastRelativeY = newItem.getSize(false).top - newParent.getSize(false).top;\r\n                    let newParentRect = cloneObject(newParent.getSize(false));\r\n                    let width = newItem.getSize(false).width;\r\n                    let height = newItem.getSize(false).height;\r\n\r\n                    let parentId = parent.props.id;\r\n                    let newParentId = newParent.props.id;\r\n                    item.props.undoredo.add((idMan) => {\r\n                        idMan.getItem(itemId).onSelect(true);\r\n                        this.setMouseOver(idMan.getItem(newParentId));\r\n                        this.dropItem(idMan.getItem(itemId), idMan.getItem(parentId), idMan.getItem(newParentId),\r\n                            (newItem) => {\r\n                                setTimeout(() => {\r\n                                    idMan.getItem(itemId).setPosition(false, lastRelativeX, lastRelativeY, undefined, undefined,\r\n                                        width, height, newParentRect, true);\r\n                                }, 0);\r\n                            }, true);\r\n                    }, (idMan) => {\r\n                        idMan.getItem(itemId).onSelect(true);\r\n                        this.setMouseOver(idMan.getItem(parentId));\r\n                        this.dropItem(idMan.getItem(itemId), idMan.getItem(newParentId), idMan.getItem(parentId),\r\n                            (newItem) => {\r\n                                setTimeout(() => {\r\n                                    idMan.getItem(itemId).setPosition(false, firstRelativeX, firstRelativeY, undefined, undefined,\r\n                                        width, height, parentRect, true);\r\n                                }, 0);\r\n                            }, true);\r\n                    }, undoPower);\r\n                }\r\n            });\r\n        };\r\n        if (item.props.dragdrop.mouseOver === newParent &&\r\n            item.props.gridLine.hasGridLine(newParent.props.id)) {\r\n            drop();\r\n        } else {\r\n            item.props.dragdrop.setMouseOver(newParent, undefined, drop);\r\n        }\r\n    };\r\n\r\n    removeMouseOver = () => {\r\n        delete this.mouseOver;\r\n    };\r\n\r\n    setMouseOver = (item, positionData, callback) => {\r\n        if (this.isDraggingItemFixed())\r\n            return;\r\n\r\n        if (this.mouseOver) {\r\n            if (!this.mouseOver.getFromTempData(\"selected\")) {\r\n                if (this.mouseOver !== item)\r\n                    this.mouseOver.toggleGridLines(false);\r\n            }\r\n        }\r\n\r\n        this.mouseOver = item;\r\n\r\n        if(this.draggingItem)\r\n            this.draggingItem.toggleHelpLines();\r\n\r\n        item.toggleGridLines(true, () => {\r\n            if(this.draggingItem)\r\n                this.draggingItem.toggleHelpLines(item);\r\n            if (callback)\r\n                callback(this.draggingItem, this.mouseOver);\r\n        }, \"B\");\r\n    };\r\n\r\n    setMouseOverForNonDragging = (item) => {\r\n        this.mouseOverNonDragging = item;\r\n    };\r\n\r\n    getMouseOverForNonDragging = () => {\r\n        return this.mouseOverNonDragging;\r\n    };\r\n}\r\n","import React from \"react\";\r\nimport {shallowEqual} from \"./AwesomeGridLayoutUtils\";\r\nimport './GridChildDraggable.css';\r\n\r\nexport default class GridChildContainerChildren extends React.Component {\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        if (!shallowEqual(this.allChildId, Object.keys(nextProps.allChildren)) ||\r\n            !shallowEqual(JSON.stringify(this.allChildIndex),\r\n                JSON.stringify(Object.values(nextProps.allChildren).map(c => {\r\n                    return {\r\n                        z: c.zIndex,\r\n                        i: c.child.props.id\r\n                    }\r\n                })))\r\n        )\r\n            return true;\r\n        return false;\r\n    }\r\n\r\n    saveState = () => {\r\n        let {allChildren} = this.props;\r\n        this.allChildId = Object.keys(allChildren);\r\n        this.allChildIndex = Object.values(allChildren).map(c => {\r\n            return {\r\n                z: c.zIndex,\r\n                i: c.child.props.id\r\n            }\r\n        });\r\n    };\r\n\r\n    getSorted = (children) => {\r\n        return children.sort((a, b) => {\r\n            if (a.zIndex > b.zIndex)\r\n                return 1;\r\n            if (a.zIndex < b.zIndex)\r\n                return -1;\r\n\r\n            return 0;\r\n        })\r\n    };\r\n\r\n    getChildren = (allChildren, agl) => {\r\n        if (this.props.getChildrenOverride)\r\n            return this.props.getChildrenOverride(this.getSorted(Object.values(allChildren)), agl);\r\n\r\n        return this.getSorted(Object.values(allChildren)).map((child) => {\r\n            return child.child;\r\n        })\r\n    };\r\n\r\n    render () {\r\n        this.saveState();\r\n        let {allChildren, agl} = this.props;\r\n        return (\r\n            this.getChildren(allChildren, agl)\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\n\r\nexport default class InspectorBreadcrumbs extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    render () {\r\n        let {item} = this.props;\r\n        return (\r\n            <div\r\n                className=\"InspectorOptionRoot\"\r\n            >\r\n                <div\r\n                    className=\"InspectorBreadcrumbsParentsRoot\"\r\n                >\r\n                        {\r\n                            item.getParentsId().slice(0, 2).reverse().map(parentId => {\r\n                                let parent = item.props.idMan.getItem(parentId);\r\n                                return (\r\n                                    <ButtonBase\r\n                                        className={\"InspectorBreadcrumbsParentsButton\"}\r\n                                        onClick={(e) => {\r\n                                            parent.onSelect(true);\r\n                                        }}\r\n                                        key={parent.props.id}\r\n                                    >\r\n                                        {\r\n                                            parent.props.tagName + \" >\"\r\n                                        }\r\n                                    </ButtonBase>\r\n                                )\r\n                            })\r\n                        }\r\n                </div>\r\n\r\n                <span\r\n                    className=\"InspectorBreadcrumbsTagName\"\r\n                >\r\n                    {item.props.tagName}\r\n                </span>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\n\r\nexport default class IconButton extends React.Component {\r\n    render () {\r\n        return (\r\n            <ButtonBase\r\n                aria-label={this.props[\"aria-label\"] || \"aria-label\"}\r\n                onClick={this.props.onClick}\r\n                style={{...{\r\n                    marginLeft: 4,\r\n                    borderRadius: 4,\r\n                    boxSizing: \"border-box\"\r\n                }, ...this.props.buttonBaseStyle}}\r\n                className={this.props.className}\r\n                disabled={this.props.disabled}\r\n                ref={this.props.rootRef}\r\n            >\r\n                <div style={{...{\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                    padding: 6,\r\n                }, ...this.props.imageContainerStyle}}>\r\n                    {\r\n                        this.props.icon\r\n                    }\r\n                    {\r\n                        this.props.children\r\n                    }\r\n                </div>\r\n            </ButtonBase>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport {alignItem} from \"../../AwesomwGridLayoutHelper\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\n\r\nexport default class InspectorAligns extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    getButtonsData = () => {\r\n        return [\r\n            {\r\n                name: \"Align to left\",\r\n                horizontal: \"start\",\r\n                img: <img\r\n                    draggable={false}\r\n                    width={16}\r\n                    height={16}\r\n                    src={require('../../icons/align-left.svg')}\r\n                />\r\n            },\r\n            {\r\n                name: \"Align to center\",\r\n                horizontal: \"center\",\r\n                img: <img\r\n                    draggable={false}\r\n                    width={16}\r\n                    height={16}\r\n                    src={require('../../icons/align-center.svg')}\r\n                />\r\n            },\r\n            {\r\n                name: \"Align to right\",\r\n                horizontal: \"end\",\r\n                img: <img\r\n                    draggable={false}\r\n                    width={16}\r\n                    height={16}\r\n                    src={require('../../icons/align-right.svg')}\r\n                />\r\n            },\r\n            {\r\n                name: \"Align to top\",\r\n                vertical: \"start\",\r\n                img: <img\r\n                    draggable={false}\r\n                    width={16}\r\n                    height={16}\r\n                    src={require('../../icons/align-top.svg')}\r\n                />\r\n            },\r\n            {\r\n                name: \"Align to middle\",\r\n                vertical: \"center\",\r\n                img: <img\r\n                    draggable={false}\r\n                    width={16}\r\n                    height={16}\r\n                    src={require('../../icons/align-middle.svg')}\r\n                />\r\n            },\r\n            {\r\n                name: \"Align to bottom\",\r\n                vertical: \"end\",\r\n                img: <img\r\n                    draggable={false}\r\n                    width={16}\r\n                    height={16}\r\n                    src={require('../../icons/align-bottom.svg')}\r\n                />\r\n            },\r\n        ]\r\n    };\r\n\r\n    render () {\r\n        let {item} = this.props;\r\n        return (\r\n            <div className=\"InspectorOptionRoot\">\r\n                <span className=\"InspectorOptionTextTitle\">\r\n                    Alignment\r\n                </span>\r\n                <div\r\n                    className=\"InspectorAlignsRoot\"\r\n                >\r\n                    {\r\n                        this.getButtonsData().map((data, i) => {\r\n                            return (\r\n                                <IconButton\r\n                                    key={data.name}\r\n                                    buttonBaseStyle={{\r\n                                        marginLeft: 0,\r\n                                    }}\r\n                                    imageContainerStyle={{\r\n                                        padding: 6\r\n                                    }}\r\n                                    onClick={(e) => {\r\n                                        alignItem(item, data.vertical, data.horizontal)\r\n                                    }}\r\n                                    className=\"InspectorAlignsButtons\"\r\n                                >\r\n                                    {data.img}\r\n                                </IconButton>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './AwesomwGridLayoutHelper.css';\r\nimport {cloneObject} from \"./AwesomeGridLayoutUtils\";\r\nimport merge from 'lodash.merge';\r\nimport {v4 as uuidv4} from 'uuid';\r\nimport Stack from \"./Components/Stack/Stack\";\r\nimport DynamicComponents from \"./Dynamic/DynamicComponents\";\r\nimport {getCompositeFromData, getFromData, setData} from \"./BreakPointManager\";\r\nimport ContextMenu from \"./Test/ContextMenu\";\r\nimport chroma from \"chroma-js\";\r\n\r\nlet deepEqual = require('fast-deep-equal/es6');\r\n\r\nexport function stretch(item, fromUndoRedo) {\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        let saveGridItemStyle = cloneObject(item.getFromData(\"gridItemStyle\"));\r\n        let saveStyle = cloneObject(item.getFromData(\"style\"));\r\n        item.props.undoredo.add((idMan) => {\r\n            stretch(idMan.getItem(itemId), true);\r\n        }, (idMan) => {\r\n            idMan.getItem(itemId).setGridItemStyle(saveGridItemStyle);\r\n            idMan.getItem(itemId).setStyle(saveStyle);\r\n            idMan.getItem(itemId).props.select.onScrollItem();\r\n        });\r\n    }\r\n\r\n    if (item.hasOverride(\"stretch\")) {\r\n        item.callOverride(\"stretch\", item);\r\n        return;\r\n    }\r\n\r\n    if (!item.props.parent)\r\n        return;\r\n\r\n    let beStretch = false;\r\n    let gridItemStyle = item.getFromData(\"gridItemStyle\");\r\n\r\n    if (!isStretch(item))\r\n        beStretch = true;\r\n\r\n    item.setDocks(beStretch, beStretch, false, beStretch, item.getFromTempData(\"autoDock\"), undefined, true);\r\n\r\n    gridItemStyle.alignSelf = beStretch? \"start\": \"start\";\r\n    gridItemStyle.justifySelf = beStretch? \"stretch\": \"center\";\r\n    gridItemStyle.marginTop = \"0px\";\r\n    gridItemStyle.marginLeft = \"0px\";\r\n    gridItemStyle.marginRight = \"0px\";\r\n    gridItemStyle.marginBottom = \"0px\";\r\n    item.setStyleParam(\"width\", \"auto\");\r\n    item.setStyleParam(\"height\", \"100%\");\r\n    item.setStyleParam(\"minHeight\", \"unset\");\r\n\r\n    if (!beStretch) {\r\n        let parentRect = item.props.parent.getSize();\r\n        gridItemStyle.marginTop = `${(parentRect.height - 0.8 * parentRect.height) / 2}px`;\r\n\r\n        item.setStyleParam(\"width\", \"80%\");\r\n        item.setStyleParam(\"height\", \"auto\");\r\n        item.setStyleParam(\"minHeight\", `${0.8 * parentRect.height}px`);\r\n    }\r\n\r\n    item.setGridItemStyle(gridItemStyle);\r\n    item.props.select.onScrollItem();\r\n}\r\n\r\nexport function getFromTempData(item, prop) {\r\n    let dataToRead = item.props.griddata;\r\n    return dataToRead[prop];\r\n}\r\n\r\nexport function isStretch(item, log) {\r\n    if (item.hasOverride(\"isStretch\")) {\r\n        return item.callOverride(\"isStretch\", item, log);\r\n    }\r\n\r\n    if (!item.props.parent)\r\n        return false;\r\n\r\n    let gridItemStyle = item.getFromData(\"gridItemStyle\");\r\n\r\n    return !(gridItemStyle.alignSelf !== \"start\" || gridItemStyle.justifySelf !== \"stretch\" ||\r\n        gridItemStyle.marginTop !== \"0px\" || gridItemStyle.marginLeft !== \"0px\" ||\r\n        gridItemStyle.marginRight !== \"0px\" || gridItemStyle.marginBottom !== \"0px\");\r\n}\r\n\r\nexport function allowStretch(item) {\r\n    if (!item.props.parent)\r\n        return false;\r\n\r\n    if (item.props.as === \"section\" || item.props.as === \"header\" || item.props.as === \"footer\")\r\n        return false;\r\n\r\n    return !item.props.disableStretch;\r\n}\r\n\r\nexport function alignItem(item, vertical, horizontal, fromUndoRedo) {\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        let saveGridItemStyle = cloneObject(item.getFromData(\"gridItemStyle\"));\r\n        item.props.undoredo.add((idMan) => {\r\n            alignItem(idMan.getItem(itemId), vertical, horizontal, true);\r\n        }, (idMan) => {\r\n            idMan.getItem(itemId).setGridItemStyle(saveGridItemStyle);\r\n            idMan.getItem(itemId).props.select.onScrollItem();\r\n        });\r\n    }\r\n\r\n    if (!item.props.parent)\r\n        return;\r\n\r\n    let gridItemStyle = item.getFromData(\"gridItemStyle\");\r\n\r\n    if (vertical) {\r\n        gridItemStyle.alignSelf = vertical;\r\n        gridItemStyle.marginTop = \"0px\";\r\n        gridItemStyle.marginBottom = \"0px\";\r\n    }\r\n    if (horizontal) {\r\n        gridItemStyle.justifySelf = horizontal;\r\n        gridItemStyle.marginLeft = \"0px\";\r\n        gridItemStyle.marginRight = \"0px\";\r\n    }\r\n\r\n    let baseDocks = item.getBaseDocks();\r\n    item.setDocks(\r\n        baseDocks.top, baseDocks.left, baseDocks.bottom, baseDocks.right,\r\n        item.getFromTempData(\"autoDock\"), undefined, true\r\n    );\r\n\r\n    item.setGridItemStyle(gridItemStyle);\r\n    item.props.select.onScrollItem();\r\n}\r\n\r\nexport function setScrollBehaviour(item, behaviour, pageAgl, fromUndoRedo, {offsetTop} = {}) {\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        let pageId = pageAgl.props.id;\r\n        let oldBehaviour = item.getFromData(\"isFixed\")? \"fixed\": item.getFromData(\"scrollBehaviour\") || \"none\";\r\n        let oldOffsetTop = item.getFromData(\"scrollStickyOffsetTop\");\r\n        item.props.undoredo.add((idMan) => {\r\n            setScrollBehaviour(idMan.getItem(itemId), behaviour, idMan.getItem(pageId), true, {offsetTop});\r\n        }, (idMan) => {\r\n            setScrollBehaviour(idMan.getItem(itemId), oldBehaviour, idMan.getItem(pageId), true,\r\n                {offsetTop: oldOffsetTop});\r\n        });\r\n    }\r\n\r\n    if (!item.props.parent)\r\n        return;\r\n\r\n    let oldIsFixed = item.getFromTempData(\"isFixed\");\r\n\r\n    let lastSectionId = item.getFromTempData(\"lastSectionId\");\r\n    if (oldIsFixed && behaviour !== \"fixed\" && lastSectionId) {\r\n        item.props.parent.onChildLeave(item);\r\n        let itemRect = item.getSize(false);\r\n        let sectionParent = item.props.viewRef.current\r\n            .props.aglComponent.getSectionOfPoint(itemRect.left, itemRect.top);\r\n\r\n        sectionParent.onSelect(true, undefined, undefined, undefined, true);\r\n        sectionParent.prepareRects();\r\n        sectionParent.onChildDrop(item, undefined, false, (newItem) => {\r\n            newItem.setState({portalNodeId: undefined});\r\n            window.requestAnimationFrame(() => {\r\n                newItem.onSelect(true);\r\n            });\r\n        });\r\n    }\r\n\r\n    item.setTempData(\"isFixed\", behaviour === \"fixed\");\r\n    item.setDataInBreakpoint(\"scrollBehaviour\", behaviour);\r\n    item.setDataInBreakpoint(\"scrollStickyOffsetTop\", offsetTop);\r\n\r\n    switch (behaviour) {\r\n        case \"none\":\r\n            item.setStyleParam(\"position\", undefined);\r\n            item.setStyleParam(\"top\", undefined);\r\n            item.setStyleParam(\"pointerEvents\", undefined);\r\n            break;\r\n        case \"sticky\":\r\n            item.setStyleParam(\"position\", \"sticky\");\r\n            item.setStyleParam(\"top\", offsetTop || 0);\r\n            item.setStyleParam(\"pointerEvents\", undefined);\r\n            break;\r\n        case \"fixed\":\r\n            if (!oldIsFixed) {\r\n                addFixedChildToRoot(item, pageAgl);\r\n            }\r\n            break;\r\n    }\r\n}\r\n\r\nfunction addFixedChildToRoot(item, pageAgl) {\r\n    let oldParentRect = item.props.parent.getSize(false);\r\n    item.toggleHelpLines();\r\n    item.setTempData(\"lastSectionId\", item.props.parent.props.id);\r\n    item.props.parent.onChildLeave(item);\r\n    pageAgl.onSelect(true, undefined, undefined, undefined, true);\r\n    let pageRect = pageAgl.prepareRects();\r\n    let itemRect = item.getSize(false);\r\n\r\n    pageAgl.onChildDrop(item, undefined, true, (newItem) => {\r\n        window.requestAnimationFrame(() => {\r\n            newItem.onSelect(true);\r\n        });\r\n    });\r\n\r\n    let gridItemStyle = item.getFromData(\"gridItemStyle\");\r\n    gridItemStyle.gridArea = \"1/1/2/2\";\r\n\r\n    item.setGridItemStyle(gridItemStyle);\r\n\r\n    let style = item.getCompositeFromData(\"style\");\r\n\r\n    let newWidth = itemRect.width *  oldParentRect.width / pageRect.width;\r\n    item.setStyleParam(\"width\", getStyleValueFromPx(newWidth, oldParentRect.width,\r\n        getUnitFromStyleValue(style.width), item));\r\n    item.setStyleParam(\"height\", getStyleValueFromPx(itemRect.height, oldParentRect.height,\r\n        getUnitFromStyleValue(style.height), item));\r\n    item.setStyleParam(\"position\", undefined);\r\n    item.setStyleParam(\"top\", undefined);\r\n    item.setStyleParam(\"pointerEvents\", \"auto\");\r\n}\r\n\r\nexport function isFixed(item) {\r\n    return item.getFromTempData(\"isFixed\");\r\n}\r\n\r\nexport function hideInBreakPoint(item, fromUndoRedo) {\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            hideInBreakPoint(idMan.getItem(itemId), true);\r\n        }, (idMan) => {\r\n            showInBreakPoint(idMan.getItem(itemId), true);\r\n        });\r\n    }\r\n    item.setStyleParam(\"display\", \"none !important\");\r\n    item.props.viewRef.current.props.aglComponent.updateTemplates();\r\n    item.props.select.onScrollItem();\r\n    item.props.editor.updateLayout();\r\n}\r\n\r\nexport function isHideInBreakPoint(item, fromUndoRedo) {\r\n    return item.getCompositeFromData(\"style\").display === \"none !important\";\r\n}\r\n\r\nexport function showInBreakPoint(item, fromUndoRedo) {\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            showInBreakPoint(idMan.getItem(itemId), true);\r\n        }, (idMan) => {\r\n            hideInBreakPoint(idMan.getItem(itemId), true);\r\n        });\r\n    }\r\n    item.setStyleParam(\"display\", undefined);\r\n    let newStyle = item.getFromData(\"style\");\r\n    if (newStyle && Object.keys(newStyle).length === 0) {\r\n        item.setDataInBreakpoint(\"style\", undefined);\r\n    }\r\n    item.props.viewRef.current.props.aglComponent.updateTemplates();\r\n    item.props.editor.updateLayout();\r\n}\r\n\r\nexport function getFromComponentData(item, prop, breakpointName) {\r\n    return item.props.breakpointmanager\r\n        .getFromData(item.props.griddata, prop, breakpointName)\r\n};\r\n\r\nexport function hasBreakpointDesign(fromName, item) {\r\n    let fromData = item.props.griddata.bpData[fromName];\r\n    return !(fromData === undefined);\r\n}\r\n\r\nexport function pasteFromBreakpointDesign(item, fromName, toName, fromUndoRedo) {\r\n    let fromData = item.props.griddata.bpData[fromName].design;\r\n    if (fromData === undefined)\r\n        return;\r\n\r\n    if (!toName)\r\n        toName = item.props.breakpointmanager.current();\r\n\r\n    if (!item.props.griddata.bpData[toName])\r\n        item.props.griddata.bpData[toName] = {};\r\n\r\n    let currentData = item.props.griddata.bpData[toName].design;\r\n\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        let oldData = cloneObject(currentData);\r\n        item.props.undoredo.add((idMan) => {\r\n            pasteFromBreakpointDesign(idMan.getItem(itemId), fromName, toName, true);\r\n        }, (idMan) => {\r\n            idMan.getItem(itemId).props.griddata.bpData[toName].design = oldData;\r\n            idMan.getItem(itemId).onBreakpointChange(\r\n                idMan.getItem(itemId).props.breakpointmanager.getWindowWidth(),\r\n                idMan.getItem(itemId).props.breakpointmanager.current());\r\n        });\r\n    }\r\n\r\n    if (!currentData)\r\n        currentData = {};\r\n    merge(currentData, fromData);\r\n    item.props.griddata.bpData[toName].design = currentData;\r\n\r\n    item.onBreakpointChange(\r\n        item.props.breakpointmanager.getWindowWidth(),\r\n        item.props.breakpointmanager.current());\r\n}\r\n\r\nexport function deepAssign(fromData, currentData) {\r\n    Object.keys(fromData).map(key => {\r\n        let currentValue = currentData[key];\r\n        let fromValue = fromData[key];\r\n        if (currentValue === undefined) {\r\n            currentData[key] = cloneObject(fromValue);\r\n        } else {\r\n            if (fromValue instanceof Object) {\r\n                if (!currentValue)\r\n                    currentData[key] = {};\r\n                deepAssign(fromValue, currentValue)\r\n            } else {\r\n                currentData[key] = cloneObject(fromValue);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nexport function removeOverrides(item, fromName, fromUndoRedo) {\r\n    if (!fromName)\r\n        fromName = item.props.breakpointmanager.current();\r\n\r\n    if (fromName === \"laptop\")\r\n        return;\r\n\r\n    if (!item.props.griddata.bpData[fromName])\r\n        return;\r\n\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        let oldData = cloneObject(item.props.griddata.bpData[fromName] || {});\r\n        item.props.undoredo.add((idMan) => {\r\n            removeOverrides(idMan.getItem(itemId), fromName, true);\r\n        }, (idMan) => {\r\n            idMan.getItem(itemId).props.griddata.bpData[fromName] = oldData;\r\n            idMan.getItem(itemId).onBreakpointChange(\r\n                idMan.getItem(itemId).props.breakpointmanager.getWindowWidth(),\r\n                idMan.getItem(itemId).props.breakpointmanager.current());\r\n        });\r\n    }\r\n\r\n    item.props.griddata.bpData[fromName] = {};\r\n\r\n    item.onBreakpointChange(\r\n        item.props.breakpointmanager.getWindowWidth(),\r\n        item.props.breakpointmanager.current());\r\n}\r\n\r\nexport function applyOnAllBreakPoint(item, fromName, fromUndoRedo) {\r\n    if (!fromName)\r\n        fromName = item.props.breakpointmanager.current();\r\n\r\n    if (!item.props.griddata.bpData[fromName])\r\n        return;\r\n\r\n    let fromData = item.props.griddata.bpData[fromName];\r\n\r\n    let undoData = {};\r\n\r\n    let sortedBreakPoints = item.props.breakpointmanager.getSortedBreakPoints();\r\n    for(let i = 0; i < sortedBreakPoints.length; i++) {\r\n        let toName = sortedBreakPoints[i].name;\r\n        if (fromData !== toName) {\r\n            undoData[toName] = cloneObject(item.props.griddata.bpData[toName] || {});\r\n            item.props.griddata.bpData[toName] = cloneObject(fromData);\r\n        }\r\n    }\r\n\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            applyOnAllBreakPoint(idMan.getItem(itemId), fromName, true);\r\n        }, (idMan) => {\r\n            Object.keys(undoData).forEach(key => {\r\n                idMan.getItem(itemId).props.griddata.bpData[key] = undoData[key];\r\n            });\r\n\r\n            idMan.getItem(itemId).onBreakpointChange(\r\n                idMan.getItem(itemId).props.breakpointmanager.getWindowWidth(),\r\n                idMan.getItem(itemId).props.breakpointmanager.current());\r\n        });\r\n    }\r\n\r\n    item.onBreakpointChange(\r\n        item.props.breakpointmanager.getWindowWidth(),\r\n        item.props.breakpointmanager.current());\r\n}\r\n\r\nexport function copyDesign(item, fromAll) {\r\n    let currentBpName = item.props.breakpointmanager.current();\r\n\r\n    let designDatas = [];\r\n    if (!fromAll && item.props.griddata.bpData[currentBpName])\r\n        designDatas[0] = {\r\n            bpName: currentBpName,\r\n            design: item.props.griddata.bpData[currentBpName].design,\r\n            justOneBp: true\r\n        };\r\n    else if (fromAll) {\r\n        Object.keys(item.props.griddata.bpData).forEach((key, index) => {\r\n            designDatas[index] = {\r\n                bpName: key,\r\n                design: item.props.griddata.bpData[key].design\r\n            };\r\n        });\r\n    }\r\n\r\n    console.log(\"copyDesign\", designDatas);\r\n    if (designDatas.length > 0)\r\n        item.props.breakpointmanager.copyDesign(designDatas, item);\r\n}\r\n\r\nexport function pasteDesign(item, fromUndoRedo) {\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        let copyDesign = cloneObject(item.props.breakpointmanager.getCopyDesign().designDatas);\r\n        let allOldDesign = cloneObject(Object.keys(item.props.griddata.bpData).map(key => {\r\n            return {\r\n                bpName: key,\r\n                design: item.props.griddata.bpData[key].design\r\n            }\r\n        }));\r\n        item.props.undoredo.add((idMan) => {\r\n            let item = idMan.getItem(itemId);\r\n            console.log(111);\r\n            let temp = cloneObject(item.props.breakpointmanager.getCopyDesign().designDatas);\r\n            let sourceItemTemp = item.props.breakpointmanager.getCopyDesign().sourceItem;\r\n            console.log(222);\r\n            item.props.breakpointmanager.cloneDesignDatas = {\r\n                designDatas: copyDesign,\r\n                sourceItem: item\r\n            };\r\n            item.props.breakpointmanager.pasteDesign(item);\r\n            console.log(333);\r\n            item.props.breakpointmanager.cloneDesignDatas = {\r\n                designDatas: temp,\r\n                sourceItem: sourceItemTemp\r\n            };\r\n\r\n            item.onBreakpointChange(\r\n                item.props.breakpointmanager.getWindowWidth(),\r\n                item.props.breakpointmanager.current());\r\n\r\n            item.props.aglComponent.updateDesign &&\r\n                item.props.aglComponent.updateDesign(item.getCompositeFromData(\"design\"));\r\n\r\n            item.updateLayout();\r\n            console.log(444);\r\n        }, (idMan) => {\r\n            let item = idMan.getItem(itemId);\r\n            allOldDesign.forEach(designData => {\r\n                item.props.griddata.bpData[designData.bpName].design = cloneObject(designData.design);\r\n            });\r\n\r\n            item.onBreakpointChange(\r\n                item.props.breakpointmanager.getWindowWidth(),\r\n                item.props.breakpointmanager.current());\r\n        });\r\n    }\r\n\r\n    item.props.breakpointmanager.pasteDesign(item);\r\n\r\n    item.onBreakpointChange(\r\n        item.props.breakpointmanager.getWindowWidth(),\r\n        item.props.breakpointmanager.current());\r\n\r\n    item.props.aglComponent.updateDesign &&\r\n        item.props.aglComponent.updateDesign(item.getCompositeFromData(\"design\"));\r\n\r\n    item.updateLayout();\r\n}\r\n\r\nexport function isGroupSelected(item) {\r\n    return item.props.select.group;\r\n}\r\n\r\nexport function getSectionId(item) {\r\n    let parent = item.props.parent;\r\n    while (parent && !parent.props.isSection) {\r\n        parent = parent.props.parent;\r\n    }\r\n\r\n    if (parent)\r\n        return parent.props.id;\r\n\r\n    return uuidv4();\r\n}\r\n\r\nexport function getSectionParent(item) {\r\n    let parent = item.props.parent;\r\n    while (parent && !parent.props.isSection) {\r\n        parent = parent.props.parent;\r\n    }\r\n\r\n    if (parent)\r\n        return parent;\r\n}\r\n\r\nexport function createStack(items, fromUndoRedo) {\r\n    if (!items || items.length < 2)\r\n        return;\r\n\r\n    let itemsParent = getSectionParent(items[0]);\r\n\r\n    if (!itemsParent)\r\n        return;\r\n\r\n    let top = 99999999;\r\n    let left = 99999999;\r\n    let rightFromLeft = 0;\r\n    let allSpacerData = [];\r\n    let lastBottom;\r\n\r\n    items.sort((a,b) => {\r\n        if (a && b){\r\n            let topA = a.getSize(false).top;\r\n            let topB = b.getSize(false).top;\r\n            if (topA < topB) {\r\n                return -1;\r\n            } else if (topA === topB) {\r\n                // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                return 0;\r\n            }\r\n            return 1;\r\n        } else {\r\n            return 0;\r\n        }\r\n    });\r\n\r\n    items.forEach((item) => {\r\n        let rect = item.getSize(false);\r\n        top = Math.min(rect.top, top);\r\n        left = Math.min(rect.left, left);\r\n        rightFromLeft = Math.max(rect.left + rect.width, rightFromLeft);\r\n\r\n        if (lastBottom) {\r\n            allSpacerData.push({\r\n                height: Math.max(0, rect.top - lastBottom)\r\n            });\r\n        }\r\n\r\n        lastBottom = rect.top + rect.height;\r\n    });\r\n\r\n    let stack;\r\n    let stackNode =\r\n        <Stack\r\n            style={{\r\n                width: `${rightFromLeft - left}px`,\r\n            }}\r\n            lateMountedComplete={(_stack) => {\r\n                stack = _stack;\r\n            }}\r\n            allSpacerData={allSpacerData}\r\n            document={items[0].props.document}\r\n        />;\r\n\r\n    let parentRect = itemsParent.prepareRects();\r\n    itemsParent.addChild(stackNode, undefined, undefined, undefined, (agl) => {\r\n        if (!fromUndoRedo) {\r\n            let stackId = agl.props.id;\r\n            let itemIds = items.map(item => {\r\n                return item.props.id;\r\n            });\r\n            agl.props.undoredo.add((idMan) => {\r\n                let newItems = itemIds.map(id => {\r\n                    return idMan.getItem(id);\r\n                });\r\n                newItems.forEach(item => {\r\n                    item.onSelect(true);\r\n                });\r\n                createStack(newItems, true);\r\n            }, (idMan) => {\r\n                removeStackFromAGL(idMan.getItem(stackId), undefined, true);\r\n            });\r\n        }\r\n\r\n        agl.onSelect(true);\r\n        let {gridItemStyle} =\r\n            agl.calculateGridItem(left - parentRect.left, top - parentRect.top,\r\n                itemsParent, undefined, undefined, itemsParent.getSize(false));\r\n        agl.setGridItemStyle(gridItemStyle);\r\n        agl.prepareRects();\r\n        // agl.prepareRects(true);\r\n        setTimeout(() => {\r\n            items = items.filter(item => {\r\n                return item.props.id !== agl.props.id;\r\n            });\r\n\r\n            let addToStack = (items) => {\r\n                let item = items.shift();\r\n                if (!item)\r\n                    return;\r\n\r\n                item.props.parent.onChildLeave(item);\r\n                agl.onChildDrop(item, undefined, undefined, () => {\r\n                    addToStack(items);\r\n                });\r\n            };\r\n            addToStack(items);\r\n            setTimeout(() => {\r\n                stack.setOrder();\r\n                setTimeout(() => {\r\n                    let width = agl.getSize(false, true).width;\r\n                    let parentWidth = agl.props.parent.getSize(false).width;\r\n                    agl.setProps(\"width\", `${width / parentWidth * 100}%`);\r\n                    agl.onSelect(true);\r\n                }, 0);\r\n            }, 0);\r\n        }, 0);\r\n    });\r\n}\r\n\r\nexport function removeStack(stack, childIds, fromUndoRedo) {\r\n    removeStackFromAGL (stack.aglRef.current, childIds, fromUndoRedo);\r\n}\r\n\r\nexport function removeStackFromAGL(stackAgl, childIds, fromUndoRedo) {\r\n    stackAgl.removing = true;\r\n    if (!stackAgl || !stackAgl.props.isStack)\r\n        return;\r\n\r\n    if (!fromUndoRedo) {\r\n        let stackId = stackAgl.props.id;\r\n        stackAgl.props.undoredo.add((idMan) => {\r\n            removeStackFromAGL(idMan.getItem(stackId), childIds, true);\r\n        }, (idMan) => {\r\n            let newItems = childIds.map(id => {\r\n                return idMan.getItem(id);\r\n            });\r\n            createStack(newItems, true);\r\n        });\r\n    }\r\n\r\n    let newParent = stackAgl.props.parent;\r\n    stackAgl.clearItem();\r\n\r\n    let sorted = Object.values(stackAgl.allChildRefs).sort((a,b) => {\r\n        if (a && a.current && b && b.current){\r\n            let relativeYA = a.current.getFromData(\"relativeY\");\r\n            let relativeYB = b.current.getFromData(\"relativeY\");\r\n            if (relativeYA < relativeYB) {\r\n                return 1;\r\n            } else if (relativeYA === relativeYB) {\r\n                // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                return 0;\r\n            }\r\n            return -1;\r\n        } else {\r\n            return 0;\r\n        }\r\n    });\r\n\r\n    newParent.onSelect(true);\r\n    newParent.prepareRects();\r\n    // newParent.prepareRects(true);\r\n    let removeChilds = (sorted) => {\r\n        let item = sorted.shift();\r\n\r\n        if (!item) {\r\n            setTimeout(() => {\r\n                newParent.onChildLeave(stackAgl);\r\n            }, 0);\r\n            return;\r\n        }\r\n        setTimeout(() => {\r\n            if (item && item.current) {\r\n                item.current.props.parent.onChildLeave(item.current);\r\n                newParent.onChildDrop(item.current);\r\n            }\r\n            removeChilds(sorted, newParent);\r\n        }, 0);\r\n    };\r\n\r\n    removeChilds(sorted);\r\n    /*sorted.forEach(item => {\r\n        if (item && item.current) {\r\n            console.log(\"onChildDrop\", item.current.props.id);\r\n            item.current.props.parent.onChildLeave(item.current);\r\n            newParent.onChildDrop(item.current);\r\n        }\r\n    });*/\r\n}\r\n\r\nexport function createItem(parent, childData, fromUndoRedo, gridItemStyle, style, onChildMounted) {\r\n    childData.props = cloneObject(parent.getClearProps({...childData.props}, true));\r\n    childData.zIndex = parent.getNextIndexData(0).lastZIndex + 1;\r\n\r\n    if (gridItemStyle) {\r\n        parent.setDataInBreakpoint(\r\n            \"gridItemStyle\", gridItemStyle, childData.props.griddata,\r\n            parent.props.breakpointmanager.getHighestBpName());\r\n    }\r\n    if (style) {\r\n        parent.setDataInBreakpoint(\r\n            \"style\", style, childData.props.griddata,\r\n            parent.props.breakpointmanager.getHighestBpName());\r\n    }\r\n\r\n    let child = parent.createChildByData(\r\n        childData , DynamicComponents, undefined, (newItem) => {\r\n        newItem.onSelect(true);\r\n\r\n        onChildMounted && onChildMounted(newItem);\r\n\r\n        if (!fromUndoRedo) {\r\n            let itemId = newItem.props.id;\r\n            let parentId = parent.props.id;\r\n            let childData = cloneObject(parent.getChildData(itemId));\r\n            parent.props.undoredo.add((idMan) => {\r\n                createItem(idMan.getItem(parentId), childData, true, gridItemStyle, style);\r\n            }, (idMan) => {\r\n                idMan.getItem(itemId).delete(true);\r\n            });\r\n        }\r\n    });\r\n\r\n    parent.children[childData.props.id] = {\r\n        child: child,\r\n        zIndex: childData.zIndex\r\n    };\r\n\r\n    let savedChildren = parent.getFromTempData(\"savedChildren\");\r\n    savedChildren[childData.props.id] = childData;\r\n\r\n    parent.updateLayout();\r\n}\r\n\r\nexport function setDataInBreakpoint(prop, value, item, addToUndo, breakpointName, updateLayout){\r\n    if (addToUndo) {\r\n        let oldValue = item.getFromData(prop, undefined, breakpointName);\r\n        oldValue = cloneObject(oldValue);\r\n        let saveValue = cloneObject(value);\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            setDataInBreakpoint(prop, saveValue, idMan.getItem(itemId), false, breakpointName, updateLayout);\r\n        }, (idMan) => {\r\n            setDataInBreakpoint(prop, oldValue, idMan.getItem(itemId), false, breakpointName, updateLayout);\r\n        }, addToUndo);\r\n    }\r\n    item.setDataInBreakpoint(prop, value, undefined, breakpointName);\r\n\r\n    updateLayout && item.updateLayout();\r\n}\r\n\r\nexport function setTempData(prop, value, item, addToUndo){\r\n    if (addToUndo) {\r\n        let oldValue = item.getFromTempData(prop);\r\n        oldValue = cloneObject(oldValue);\r\n        let saveValue = cloneObject(value);\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            setTempData(prop, saveValue, idMan.getItem(itemId));\r\n        }, (idMan) => {\r\n            setTempData(prop, oldValue, idMan.getItem(itemId));\r\n        });\r\n    }\r\n    item.setTempData(prop, value);\r\n}\r\n\r\nexport function setStyle(newStyle, item, addToUndo, breakpointName, updateLayout){\r\n    if (addToUndo) {\r\n        let oldStyle = item.getFromData(\"style\", undefined, breakpointName);\r\n        oldStyle = cloneObject(oldStyle);\r\n        let saveStyle = cloneObject(newStyle);\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            setStyle(saveStyle, idMan.getItem(itemId));\r\n        }, (idMan) => {\r\n            setStyle(oldStyle, idMan.getItem(itemId));\r\n        });\r\n    }\r\n    item.setStyle(newStyle);\r\n    updateLayout && item.updateLayout();\r\n}\r\n\r\nexport function setStyleParam (param, value, item, addToUndo, breakpointName, dontAddToSnap) {\r\n    if (addToUndo) {\r\n        let oldStyle = item.getFromData(\"style\", undefined, breakpointName);\r\n        oldStyle = cloneObject(oldStyle);\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            setStyleParam(param, value, idMan.getItem(itemId), false, breakpointName, dontAddToSnap);\r\n        }, (idMan) => {\r\n            setStyle(oldStyle, idMan.getItem(itemId));\r\n        }, addToUndo);\r\n    }\r\n\r\n    let style = item.hasDataInBreakPoint(\"style\", undefined, breakpointName) || {};\r\n    style[param] = value;\r\n    if (value === undefined)\r\n        delete style[param];\r\n    item.setStyle(style, undefined, breakpointName, undefined, dontAddToSnap);\r\n}\r\n\r\nexport function setNewSize(prop, value, item, addToUndo, breakpointName, updateLayout){\r\n    if (addToUndo) {\r\n        let oldValue = item.getFromData(`style.${prop}`, undefined, breakpointName);\r\n        let saveStyle = cloneObject(item.getFromData(\"style)\"));\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            setStyle(saveStyle, idMan.getItem(itemId));\r\n        }, (idMan) => {\r\n            setNewSize(prop, oldValue, idMan.getItem(itemId));\r\n        });\r\n    }\r\n    item.setNewSize(prop, value);\r\n    updateLayout && item.updateLayout();\r\n}\r\n\r\nexport function setGridItemStyle(newGridItemStyle, item, addToUndo, breakpointName){\r\n    if (addToUndo) {\r\n        let oldGridItemStyle = item.getFromData(\"gridItemStyle\", undefined, breakpointName);\r\n        oldGridItemStyle = cloneObject(oldGridItemStyle);\r\n        let saveGridItemStyle = cloneObject(newGridItemStyle);\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            setGridItemStyle(saveGridItemStyle, idMan.getItem(itemId));\r\n        }, (idMan) => {\r\n            setGridItemStyle(oldGridItemStyle, idMan.getItem(itemId));\r\n        });\r\n    }\r\n    item.setGridItemStyle(newGridItemStyle);\r\n    item.invalidateSize(true, true, true);\r\n}\r\n\r\nexport function setGridArea(newGridArea, item, addToUndo){\r\n    if (addToUndo) {\r\n        let oldGridArea = item.getGridArea();\r\n        oldGridArea = cloneObject(oldGridArea);\r\n        let saveGridArea = cloneObject(newGridArea);\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            setGridArea(saveGridArea, idMan.getItem(itemId));\r\n        }, (idMan) => {\r\n            setGridArea(oldGridArea, idMan.getItem(itemId));\r\n        });\r\n    }\r\n    item.setGridArea(newGridArea);\r\n}\r\n\r\nexport function setGrid(newGrid, item, addToUndo, breakpointName){\r\n    if (addToUndo) {\r\n        let oldGrid = item.getFromData(\"grid\", undefined, breakpointName);\r\n        oldGrid = cloneObject(oldGrid);\r\n        let saveGrid = cloneObject(newGrid);\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            setGrid(saveGrid, idMan.getItem(itemId));\r\n        }, (idMan) => {\r\n            setGrid(oldGrid, idMan.getItem(itemId));\r\n        });\r\n    }\r\n    item.setGrid(newGrid);\r\n}\r\n\r\nexport function setAnchor(newAnchor, item, addToUndo){\r\n    if (addToUndo) {\r\n        let oldAnchor = item.getFromTempData(\"anchor\");\r\n        oldAnchor = cloneObject(oldAnchor);\r\n        let saveAnchor = cloneObject(newAnchor);\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            setAnchor(saveAnchor, idMan.getItem(itemId));\r\n        }, (idMan) => {\r\n            setAnchor(oldAnchor, idMan.getItem(itemId));\r\n        });\r\n    }\r\n    item.setAnchor(newAnchor);\r\n}\r\n\r\nexport function arrangeIndex(item, child, type, addToUndo){\r\n    if (addToUndo) {\r\n        let itemId = item.props.id;\r\n        let childId = child.props.id;\r\n        let oldType = type === \"forward\"? \"backward\":\r\n            type === \"backward\"? \"forward\": undefined;\r\n        let oldZIndex = item.getFromTempData(\"savedChildren\")[childId].zIndex;\r\n        item.props.undoredo.add((idMan) => {\r\n            arrangeIndex(idMan.getItem(itemId), idMan.getItem(childId), type);\r\n        }, (idMan) => {\r\n            if (oldType)\r\n                arrangeIndex(idMan.getItem(itemId), idMan.getItem(childId), oldType);\r\n            else\r\n                changeIndex(idMan.getItem(itemId), idMan.getItem(childId), oldZIndex);\r\n        });\r\n    }\r\n    item.arrangeIndex(child, type);\r\n}\r\n\r\nexport function changeIndex (item, child, index, addToUndo){\r\n    if (addToUndo) {\r\n        let itemId = item.props.id;\r\n        let childId = child.props.id;\r\n        let oldZIndex = item.getFromTempData(\"savedChildren\")[childId].zIndex;\r\n        item.props.undoredo.add((idMan) => {\r\n            changeIndex(idMan.getItem(itemId), idMan.getItem(childId), index);\r\n        }, (idMan) => {\r\n            changeIndex(idMan.getItem(itemId), idMan.getItem(childId), oldZIndex);\r\n        });\r\n    }\r\n    item.changeIndex(child, index);\r\n}\r\n\r\nexport function resolveDesignData (item, key, value){\r\n    let breakpointData = item.props.breakpointmanager;\r\n    if (!getFromData(item.props.griddata, \"design\", breakpointData, breakpointData.getHighestBpName()))\r\n        setData(item.props.griddata, \"design\", {}, breakpointData, breakpointData.getHighestBpName());\r\n\r\n    if (!key)\r\n        return;\r\n\r\n    let design = getFromData(item.props.griddata, \"design\", breakpointData, breakpointData.getHighestBpName());\r\n    if (!design[key])\r\n        design[key] = value || {};\r\n}\r\n\r\nexport function getCompositeDesignData (item) {\r\n    let breakpointData = item.props.breakpointmanager;\r\n    if (!getCompositeFromData(item.props.griddata, \"design\", breakpointData))\r\n        setData(item.props.griddata, \"design\", {}, breakpointData, breakpointData.getHighestBpName());\r\n\r\n    return getCompositeFromData(item.props.griddata, \"design\", breakpointData);\r\n}\r\n\r\nexport function rotate (item, degree, fromUndoRedo) {\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        let oldDegree = item.getFromData(\"rotateDegree\");\r\n        item.props.undoredo.add((idMan) => {\r\n            rotate(idMan.getItem(itemId), degree, true);\r\n        }, (idMan) => {\r\n            rotate(idMan.getItem(itemId), oldDegree || 0, true);\r\n        });\r\n    }\r\n\r\n    item.setDataInBreakpoint(\"transform.rotateDegree\", degree);\r\n    item.setTransformStyle(item.getFromData(\"transform\"));\r\n    item.updateLayout(item.props.select.onScrollItem);\r\n}\r\n\r\nexport function getViewRatioStyle (value) {\r\n    if (value.includes('vh'))\r\n        return`calc(${value} * var(--vh-ratio))`;\r\n    if (value.includes('vw'))\r\n        return`calc(${value} * var(--vw-ratio))`;\r\n\r\n    return value;\r\n}\r\n\r\nexport function getValueFromCSSValue (value) {\r\n    if (!value)\r\n        return \"\";\r\n\r\n    if (value.includes(\"%\")) {\r\n        return Math.round(parseFloat(value.replace(\"%\", \"\")) * 100) / 100;\r\n    }\r\n\r\n    if (value.includes(\"px\")) {\r\n        return Math.round(parseFloat(value.replace(\"px\", \"\")) * 100) / 100;\r\n    }\r\n\r\n    if (value.includes(\"vh\")) {\r\n        return Math.round(parseFloat(\r\n            value.replace(/[^0-9\\.]/g, '')\r\n        ) * 100) / 100;\r\n    }\r\n\r\n    if (value.includes(\"vw\")) {\r\n        return Math.round(parseFloat(\r\n            value.replace(/[^0-9\\.]/g, '')\r\n        ) * 100) / 100;\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\nexport function getPxValueFromCSSValue (value, parentValue, item) {\r\n    if (!value)\r\n        return;\r\n    if (!isNaN(value))\r\n        return value;\r\n\r\n    if (value.includes(\"%\")) {\r\n        let percent = Math.round(parseFloat(value.replace(\"%\", \"\")) * 100) / 100;\r\n        return percent * parentValue / 100;\r\n    }\r\n\r\n    if (value.includes(\"px\")) {\r\n        return Math.round(parseFloat(value.replace(\"px\", \"\")) * 100) / 100;\r\n    }\r\n\r\n    if (value.includes(\"vh\")) {\r\n        let percent = Math.round(parseFloat(\r\n            value.replace(/[^0-9\\.]/g, '')\r\n        ) * 100) / 100;\r\n\r\n        return percent * item.props.breakpointmanager.getWindowHeight() / 100;\r\n    }\r\n\r\n    if (value.includes(\"vw\")) {\r\n        let percent =  Math.round(parseFloat(\r\n            value.replace(/[^0-9\\.]/g, '')\r\n        ) * 100) / 100;\r\n\r\n        return percent * item.props.breakpointmanager.getWindowWidth() / 100;\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\nexport function getStyleValueFromPx (value, parentValue, unit, item) {\r\n    if (!unit)\r\n        unit = \"px\";\r\n\r\n    if (unit === \"px\") {\r\n        return `${value}${unit}`;\r\n    }\r\n    if (unit === \"%\") {\r\n        return `${value / parentValue * 100}${unit}`;\r\n    }\r\n    if (unit === \"vh\") {\r\n        value = `${value / item.props.breakpointmanager.getWindowHeight() * 100}vh`;\r\n        return `calc(${value} * var(--vh-ratio))`;\r\n    }\r\n    if (unit === \"vw\") {\r\n        value = `${value / item.props.breakpointmanager.getWindowWidth() * 100}vw`;\r\n        return `calc(${value} * var(--vw-ratio))`;\r\n    }\r\n\r\n    return unit;\r\n}\r\n\r\nexport function getUnitFromStyleValue (value) {\r\n    if (!value)\r\n        return \"none\";\r\n\r\n    if (value.includes(\"%\")) {\r\n        return \"%\";\r\n    }\r\n\r\n    if (value.includes(\"px\")) {\r\n        return \"px\";\r\n    }\r\n\r\n    if (value.includes(\"vw\")) {\r\n        return \"vw\";\r\n    }\r\n\r\n    if (value.includes(\"vh\")) {\r\n        return \"vh\";\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\nexport function createContextMenu(e, item, onClose) {\r\n    if (item.props.isPage)\r\n        return;\r\n\r\n    let menu = [];\r\n\r\n    item.getContextMenu() && menu.push(item.getContextMenu());\r\n\r\n    // Copy section\r\n    let copySection = [\r\n        {\r\n            name: \"Copy\",\r\n            onClick: (e) => {\r\n                item.props.copyMan.copy(item);\r\n            },\r\n            shortcut: \"Ctrl + C\"\r\n        },\r\n        {\r\n            name: \"Paste\",\r\n            onClick: (e) => {\r\n                item.props.copyMan.paste(item);\r\n            },\r\n            shortcut: \"Ctrl + V\"\r\n        },\r\n        {\r\n            name: \"Duplicate\",\r\n            onClick: (e) => {\r\n                item.props.copyMan.duplicate(item);\r\n            },\r\n            shortcut: \"Ctrl + D\"\r\n        },\r\n        {\r\n            name: \"Copy Element Design\",\r\n            subMenu: [\r\n                {\r\n                    name: \"From this breakpoint\",\r\n                    onClick: (e) => {\r\n                        copyDesign(item);\r\n                    }\r\n                },\r\n                {\r\n                    name: \"From all breakpoint\",\r\n                    onClick: (e) => {\r\n                        copyDesign(item, true);\r\n                    }\r\n                },\r\n            ]\r\n        },\r\n    ];\r\n    let copyDesignItem = item.props.breakpointmanager.getCopyDesign();\r\n    if (copyDesignItem && isSameFamily(copyDesignItem.sourceItem, item))\r\n        copySection.push({\r\n            name: \"Paste Design\",\r\n            onClick: (e) => {\r\n                pasteDesign(item);\r\n            }\r\n        });\r\n    let overrideBps = [];\r\n    let currentBpName = item.props.breakpointmanager.current();\r\n    Object.keys(item.props.griddata.bpData).forEach(bpName => {\r\n        if (bpName === currentBpName ||\r\n            item.props.breakpointmanager.getHighestBpName() === bpName)\r\n            return;\r\n\r\n        if (item.props.griddata.bpData[bpName] && item.props.griddata.bpData[bpName].design) {\r\n            if (!item.props.griddata.bpData[currentBpName] ||\r\n                !deepEqual(item.props.griddata.bpData[bpName].design,\r\n                    item.props.griddata.bpData[currentBpName].design)) {\r\n                overrideBps.push(bpName);\r\n            }\r\n        }\r\n    });\r\n    if (overrideBps.length > 0) {\r\n        copySection.push({\r\n            name: \"Paste From Breakpoint\",\r\n            subMenu: overrideBps.map(bpName => {\r\n                return {\r\n                    name: bpName,\r\n                    onClick: (e) => {\r\n                        pasteFromBreakpointDesign(item, bpName, currentBpName);\r\n                    }\r\n                };\r\n            })\r\n        });\r\n    }\r\n    menu.push(copySection);\r\n\r\n    let deleteSection = [];\r\n    if (!isHideInBreakpoint(item)) {\r\n        deleteSection.push(\r\n            {\r\n                name: \"Hide In Breakpoint\",\r\n                onClick: (e) => {\r\n                    hideInBreakPoint(item);\r\n                }\r\n            });\r\n    }\r\n    deleteSection.push({\r\n        name: \"Delete\",\r\n        onClick: (e) => {\r\n            item.delete();\r\n        },\r\n        shortcut: \"Delete\"\r\n    });\r\n\r\n    if (currentBpName !== item.props.breakpointmanager.getHighestBpName()) {\r\n        if (item.props.griddata.bpData[currentBpName] &&\r\n            Object.keys(item.props.griddata.bpData[currentBpName]).length > 0)\r\n        {\r\n            deleteSection.unshift({\r\n                name: \"Remove Breakpoint Overrides\",\r\n                onClick: (e) => {\r\n                    // TODO add these lines to a function with undo support\r\n                    delete item.props.griddata.bpData[currentBpName];\r\n                    item.onBreakpointChange(\r\n                        item.props.breakpointmanager.getWindowWidth(),\r\n                        item.props.breakpointmanager.current());\r\n                    item.props.select.onScrollItem();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    menu.push(deleteSection);\r\n\r\n    let shortcutSection = [];\r\n    if (!item.props.griddata.isSection) {\r\n        shortcutSection.push({\r\n            name: \"Arrange\",\r\n            subMenu: [\r\n                {\r\n                    name: \"Move Forward\",\r\n                    shortcut: \"Ctrl + Alt + \",\r\n                    onClick: (e) => {\r\n                        arrangeIndex(item.props.parent, item, \"forward\", true);\r\n                    }\r\n                },\r\n                {\r\n                    name: \"Move to Front\",\r\n                    shortcut: \"Ctrl + \",\r\n                    onClick: (e) => {\r\n                        arrangeIndex(item.props.parent, item, \"front\", true);\r\n                    }\r\n                },\r\n                {\r\n                    name: \"Move Backward\",\r\n                    shortcut: \"Ctrl + Alt + \",\r\n                    onClick: (e) => {\r\n                        arrangeIndex(item.props.parent, item, \"backward\", true);\r\n                    }\r\n                },\r\n                {\r\n                    name: \"Move to Back\",\r\n                    shortcut: \"Ctrl + \",\r\n                    onClick: (e) => {\r\n                        arrangeIndex(item.props.parent, item, \"back\", true);\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n    }\r\n    menu.push(shortcutSection);\r\n\r\n    let sectionSection = [];\r\n    if (item.props.isSection) {\r\n        if (item.props.isVerticalSection) {\r\n            sectionSection.push({\r\n                name: \"Move Left\",\r\n                onClick: (e) => {\r\n                    item.props.parent.props.aglComponent.moveLeft(item.props.id);\r\n                },\r\n            });\r\n            sectionSection.push({\r\n                name: \"Move Right\",\r\n                onClick: (e) => {\r\n                    item.props.parent.props.aglComponent.moveRight(item.props.id);\r\n                },\r\n            });\r\n        } else {\r\n            sectionSection.push({\r\n                name: \"Move Up\",\r\n                onClick: (e) => {\r\n                    item.props.parent.props.aglComponent.moveUp(item.props.id);\r\n                },\r\n            });\r\n            sectionSection.push({\r\n                name: \"Move Down\",\r\n                onClick: (e) => {\r\n                    item.props.parent.props.aglComponent.moveDown(item.props.id);\r\n                },\r\n            });\r\n        }\r\n    }\r\n    menu.unshift(sectionSection);\r\n\r\n    let masterSection = [\r\n    ];\r\n\r\n    return <ContextMenu\r\n        menu={menu}\r\n        onClose={onClose}\r\n        clientX={e.clientX}\r\n        clientY={e.clientY}\r\n    />\r\n}\r\n\r\nexport function isHideInBreakpoint(item) {\r\n    if (!item)\r\n        return false;\r\n\r\n    if (typeof item.getCompositeFromData(\"style\").display === 'string')\r\n        return item.getCompositeFromData(\"style\").display.includes(\"none\");\r\n\r\n    return false;\r\n}\r\n\r\nexport function isSameFamily(item1, item2) {\r\n    if (item1.props.tagName === item2.props.tagName)\r\n        return true;\r\n\r\n    if (item1.props.griddata.isSection && item2.props.griddata.isSection)\r\n        return true;\r\n}\r\n\r\nexport function isLeftClick (e) {\r\n    if (e.button === 0)\r\n        return true;\r\n\r\n    return false;\r\n}\r\n\r\nexport function isRightClick (e) {\r\n    if (e.button === 2)\r\n        return true;\r\n\r\n    return false;\r\n}\r\n\r\nexport function getResizeDelta (degree, dir, delta) {\r\n    let rad = degree * Math.PI / 180;\r\n    let cx = delta.x, cy = delta.y;\r\n    let cxy = Math.sqrt(cx * cx + cy * cy);\r\n    let cxp = cy !== 0 ? cy / Math.tan(rad) : 0;\r\n    let cyp = cx !== 0 ? -cx / Math.tan(rad) : 0;\r\n\r\n    let thetaH = Math.atan(Math.abs(cy) / Math.abs(cx));\r\n    let thetaW = Math.atan(Math.abs(cy) / Math.abs(cx));\r\n\r\n    if (cx * cy > 0)\r\n        thetaW = -thetaW;\r\n    if (cx * cy > 0)\r\n        thetaH = -thetaH;\r\n\r\n    let Dh = Math.abs(Math.sin(rad + thetaH) * cxy);\r\n    let Dw = Math.abs(Math.cos(rad + thetaW) * cxy);\r\n\r\n    if (cxp < cx)\r\n        Dh = -Dh;\r\n    if (cyp > cy)\r\n        Dw = -Dw;\r\n\r\n    if (degree > 180) {\r\n        Dh = -Dh;\r\n        Dw = -Dw;\r\n    }\r\n\r\n    let dxH = Dh * Math.sin(rad);\r\n    let dyH = Dh * Math.cos(rad);\r\n    let dxW = Dw * Math.cos(rad);\r\n    let dyW = Dw * Math.sin(rad);\r\n\r\n    let finalDelta = {\r\n        top: 0, left: 0, width: 0, height: 0\r\n    };\r\n\r\n    if (dir.includes('n')) {\r\n        finalDelta.height -= Dh;\r\n        finalDelta.top += ((Dh + dyH) / 2);\r\n        finalDelta.left -= (dxH / 2);\r\n    }\r\n\r\n    if (dir.includes('s')) {\r\n        finalDelta.height += Dh;\r\n        finalDelta.top -= ((Dh - dyH) / 2);\r\n        finalDelta.left -= (dxH / 2);\r\n    }\r\n\r\n    if (dir.includes('w')) {\r\n        finalDelta.width -= Dw;\r\n        finalDelta.top += (dyW / 2);\r\n        finalDelta.left += ((Dw + dxW) / 2);\r\n    }\r\n\r\n    if (dir.includes('e')) {\r\n        finalDelta.width += Dw;\r\n        finalDelta.top += (dyW / 2);\r\n        finalDelta.left -= ((Dw - dxW) / 2);\r\n    }\r\n\r\n    console.log(\"finalDelta\", finalDelta, Dw, dyW, dxW);\r\n    return finalDelta;\r\n}\r\n\r\nexport function sortBy (array, param) {\r\n    array = array.sort((a, b) => {\r\n        if (a[param] < b[param]) {\r\n            return -1;\r\n        } else if (a[param] === b[param]) {\r\n            return 0;\r\n        }\r\n        return 1;\r\n    });\r\n    return array;\r\n}\r\n\r\nexport function getColorScheme (baseColor) {\r\n    return {\r\n        \"1\": chroma(baseColor).luminance(0.025).css(),\r\n        \"2\": chroma(baseColor).luminance(0.06).css(),\r\n        \"3\": chroma(baseColor).luminance(0.15).css(),\r\n        \"4\": chroma(baseColor).luminance(0.35).css(),\r\n        \"5\": chroma(baseColor).luminance(0.55).css(),\r\n    }\r\n}\r\n\r\nexport function parseColor (color, alpha, editorContext) {\r\n    if (!color) {\r\n        color = '#000000';\r\n        alpha = alpha || 0;\r\n    }\r\n\r\n    if (color instanceof Object) {\r\n        let chromaColor = chroma(editorContext.getColor(color.paletteName, color.key));\r\n        if (alpha !== undefined || color.alpha !== undefined)\r\n            chromaColor = chromaColor.alpha(alpha || color.alpha);\r\n        else\r\n            chromaColor = chromaColor.alpha(1);\r\n\r\n        return chromaColor.css();\r\n    } else {\r\n        let chromaColor = chroma(color);\r\n        // chromaColor = chromaColor.alpha(alpha || 1);\r\n        if (alpha !== undefined)\r\n            chromaColor = chromaColor.alpha(alpha);\r\n        return chromaColor.css();\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport Menu from \"@material-ui/core/Menu/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem/MenuItem\";\r\nimport classNames from \"classnames\";\r\n\r\nexport default class NumberInputWithUnit extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            showUnits: false\r\n        };\r\n\r\n        this.unitIconButton = React.createRef();\r\n    }\r\n\r\n    inputFilter = (value, oldValue) => {\r\n        let okay = false;\r\n        try {\r\n            value = parseFloat(value);\r\n            if (!isNaN(value))\r\n                okay = true;\r\n        } catch {}\r\n        if (okay) {\r\n            value = Math.min(this.props.max, value);\r\n            value = Math.max(this.props.min, value);\r\n            return value;\r\n        } else if (value === \"\" || isNaN(value)) {\r\n            return \"0\";\r\n        }\r\n\r\n        return oldValue;\r\n    };\r\n\r\n    onChange = (e) => {\r\n        let value = e.target.value;\r\n        if (value.endsWith(\".\"))\r\n            value += \"0\";\r\n        value = this.inputFilter(value, this.getValue(this.props.value));\r\n        this.props.onChange(value);\r\n    };\r\n\r\n    onShowUnits = (e) => {\r\n        this.setState({anchorEl: e.currentTarget});\r\n    };\r\n\r\n    getValue = (value) => {\r\n        if (!value)\r\n            return \"\";\r\n\r\n        if (typeof value !== 'string')\r\n            return value;\r\n\r\n        if (value.includes(\"%\")) {\r\n            return Math.round(parseFloat(value.replace(\"%\", \"\")) * 10) / 10;\r\n        }\r\n\r\n        if (value.includes(\"px\")) {\r\n            return Math.round(parseFloat(value.replace(\"px\", \"\")) * 10) / 10;\r\n        }\r\n\r\n        if (value.includes(\"vh\")) {\r\n            return Math.round(parseFloat(\r\n                value.replace(/[^0-9\\.]/g, '')\r\n            ) * 10) / 10;\r\n        }\r\n\r\n        if (value.includes(\"vw\")) {\r\n            return Math.round(parseFloat(\r\n                value.replace(/[^0-9\\.]/g, '')\r\n            ) * 10) / 10;\r\n        }\r\n\r\n        return value;\r\n    };\r\n\r\n    render () {\r\n        let classes = classNames(\r\n            \"NumberInputWithUnit\",\r\n            this.props.className\r\n        );\r\n\r\n        return (\r\n            <div className={classes}>\r\n                <input\r\n                    style={{...{\r\n                        textAlign: \"left\",\r\n                        width: 64\r\n                    }, ...this.props.inputStyle}}\r\n                    className=\"NumberInput\"\r\n                    value={![\"%\", \"px\", \"vw\", \"vh\", \"\"].includes(this.props.unit) ? \"\" :\r\n                        (this.getValue(this.props.value) || 0)}\r\n                    onChange={this.onChange}\r\n                    type=\"text\"\r\n                    disabled={![\"%\", \"px\", \"vw\", \"vh\", \"\"].includes(this.props.unit) || this.props.disabled}\r\n                >\r\n                </input>\r\n\r\n                <IconButton\r\n                    ref={this.unitIconButton}\r\n                    className=\"InputUnitButton\"\r\n                    buttonBaseStyle={{\r\n                        marginLeft: 0,\r\n                    }}\r\n                    imageContainerStyle={{\r\n                        padding: 6\r\n                    }}\r\n                    onClick={!this.props.disabled ? this.onShowUnits : undefined}\r\n                    style={this.props.unitButtonStyle}\r\n                    disabled={this.props.disableUnit}\r\n                >\r\n                    <span style={{\r\n                        color: \"#0a108b\"\r\n                    }}>\r\n                        {this.props.unit || \"none\"}\r\n                    </span>\r\n                </IconButton>\r\n\r\n                <Menu\r\n                    style={{...{\r\n                            zIndex: 99999999999\r\n                        }, ...this.props.unitMenuStyle}}\r\n                    anchorEl={this.state.anchorEl}\r\n                    open={this.state.anchorEl !== undefined}\r\n                    onClose={(e) => {\r\n                        this.setState({anchorEl: undefined});\r\n                    }}\r\n                    MenuListProps={{\r\n                        style: {\r\n                            padding: 0\r\n                        }\r\n                    }}\r\n                >\r\n                    {\r\n                        this.props.units.map((unit, i) => {\r\n                            return (\r\n                                <MenuItem\r\n                                    dense\r\n                                    key={i}\r\n                                    onClick={(e) => {\r\n                                        if (this.props.onUnitChange)\r\n                                            this.props.onUnitChange(unit);\r\n\r\n                                        this.setState({anchorEl: undefined});\r\n                                    }}\r\n                                >\r\n                                    <span style={{\r\n                                        color: \"#0a108b\"\r\n                                    }}>\r\n                                        {unit}\r\n                                    </span>\r\n                                </MenuItem>\r\n                            )\r\n                        })\r\n                    }\r\n                </Menu>\r\n\r\n                {\r\n                    this.props.disabled &&\r\n                    <div\r\n                        className=\"NumberInputWithUnitDisabled\"\r\n                        style={{...{\r\n                                textAlign: \"left\",\r\n                                width: 64\r\n                            }, ...this.props.inputStyle}}\r\n                    >\r\n\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\n\r\nexport default class InspectorTitle extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            open: props.defaultOpen || false\r\n        }\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <ButtonBase className=\"InspectorOptionTitle\" onClick={(e) => {\r\n                if (this.props.onChange)\r\n                    this.props.onChange(!this.state.open);\r\n                this.setState({open: !this.state.open});\r\n            }}>\r\n                    <span>\r\n                        {this.props.title}\r\n                    </span>\r\n\r\n                    <div className=\"InspectorOptionTitleExpandIcon\">\r\n                        {\r\n                            this.state.open &&\r\n                            <img draggable={false} width={10} height={10}\r\n                                 src={process.env.PUBLIC_URL + '/static/icon/down-arrow.svg'} />\r\n                        }\r\n                        {\r\n                            !this.state.open &&\r\n                            <img draggable={false} width={10} height={10}\r\n                                 src={process.env.PUBLIC_URL + '/static/icon/right-arrow.svg'} />\r\n                        }\r\n                    </div>\r\n            </ButtonBase>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport {\r\n    getPxValueFromCSSValue,\r\n    getViewRatioStyle,\r\n    setNewSize\r\n} from \"../../AwesomwGridLayoutHelper\";\r\nimport NumberInputWithUnit from \"../../Menus/CommonComponents/NumberInputWithUnit\";\r\nimport InspectorTitle from \"./InspectorTitle\";\r\n\r\nexport default class InspectorSize extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            open: true\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    onChange = (prop, value) => {\r\n        let {item} = this.props;\r\n        let oldValue = item.getCompositeFromData(\"style\")[prop];\r\n        if ([\"%\", \"px\"].includes(this.getUnit(oldValue))) {\r\n            value = `${value}${this.getUnit(oldValue)}`;\r\n        } else if ([\"vh\", \"vw\"].includes(this.getUnit(oldValue))) {\r\n            value = `${value}${this.getUnit(oldValue)}`;\r\n            value = getViewRatioStyle(value);\r\n        }\r\n\r\n        setNewSize(prop, value, item, true);\r\n        item.props.select.onScrollItem();\r\n    };\r\n\r\n    onUnitChange = (prop, unit, parentValue, defaultValue) => {\r\n        let {item} = this.props;\r\n        let style = item.getCompositeFromData(\"style\");\r\n\r\n        if (isNaN(defaultValue))\r\n            defaultValue = 0;\r\n\r\n        let value;\r\n        if (unit === \"px\") {\r\n            value = `${item.getSize(false)[prop] ||\r\n            getPxValueFromCSSValue(style[prop], parentValue, item) || defaultValue || 0}px`;\r\n        } else if (unit === \"%\") {\r\n            value = `${(item.getSize(false)[prop] ||\r\n                getPxValueFromCSSValue(style[prop], parentValue, item) || defaultValue || 0) /\r\n            parentValue * 100}%`;\r\n        } else if (unit === \"vh\") {\r\n            value = `${(item.getSize(false)[prop] ||\r\n                getPxValueFromCSSValue(style[prop], parentValue, item) || defaultValue || 0) /\r\n            item.props.breakpointmanager.getWindowHeight() * 100}vh`;\r\n            value = getViewRatioStyle(value);\r\n        } else if (unit === \"vw\") {\r\n            value = `${(item.getSize(false)[prop] ||\r\n                getPxValueFromCSSValue(style[prop], parentValue, item) || defaultValue || 0) /\r\n            item.props.breakpointmanager.getWindowWidth() * 100}vw`;\r\n            value = getViewRatioStyle(value);\r\n        } else if (unit === \"none\") {\r\n            value = undefined;\r\n        } else {\r\n            value = unit;\r\n        }\r\n\r\n        setNewSize(prop, value, item, true);\r\n        item.props.select.onScrollItem();\r\n    };\r\n\r\n    getUnit = (value) => {\r\n        if (!value || value === \"unset\")\r\n            return \"none\";\r\n\r\n        if (value.includes(\"%\")) {\r\n            return \"%\";\r\n        }\r\n\r\n        if (value.includes(\"px\")) {\r\n            return \"px\";\r\n        }\r\n\r\n        if (value.includes(\"vw\")) {\r\n            return \"vw\";\r\n        }\r\n\r\n        if (value.includes(\"vh\")) {\r\n            return \"vh\";\r\n        }\r\n\r\n        return value;\r\n    };\r\n\r\n    runtimeValueToStyleValue = (propName, parentValue, value, style,) => {\r\n        let unit = this.getUnit(style[propName]);\r\n        let {item} = this.props;\r\n\r\n        if (unit === \"px\") {\r\n            value = `${value}px`;\r\n        } else if (unit === \"%\") {\r\n            value = `${value /\r\n            parentValue * 100}%`;\r\n        } else if (unit === \"vh\") {\r\n            value = `${value / item.props.breakpointmanager.getWindowHeight() * 100}vh`;\r\n            value = `calc(${value} * var(--vh-ratio))`;\r\n        } else if (unit === \"vw\") {\r\n            value = `${value / item.props.breakpointmanager.getWindowWidth() * 100}vw`;\r\n            value = `calc(${value} * var(--vw-ratio))`;\r\n        } else {\r\n            value = unit;\r\n        }\r\n\r\n        return value;\r\n    };\r\n\r\n    render() {\r\n        let {item} = this.props;\r\n        let style = item.getCompositeFromData(\"style\");\r\n        let runtimeStyle = item.state.runtimeStyle;\r\n        let runtimeGridItemStyle = item.getRuntimeGridItemStyle() || {\r\n            widthForPercent: item.props.breakpointmanager.getWindowWidth(),\r\n            heightForPercent: item.props.breakpointmanager.getWindowHeight(),\r\n        };\r\n        return (\r\n            <>\r\n                <InspectorTitle defaultOpen title=\"Size\" onChange={(open)=>{\r\n                    this.setState({open});\r\n                }}/>\r\n\r\n                {\r\n                    this.state.open &&\r\n                    <div className=\"InspectorOptionRoot\">\r\n                        <div className=\"InspectorSizeRow\">\r\n                            <div className=\"InspectorSizeItem\" style={{\r\n                                marginRight: 12\r\n                            }}>\r\n                        <span className=\"InspectorSizeItemTitle\">\r\n                            Width\r\n                        </span>\r\n                                <NumberInputWithUnit\r\n                                    className=\"AngleInput\"\r\n                                    min={0}\r\n                                    max={Infinity}\r\n                                    disabled={this.props.disabledProps.includes('width')}\r\n                                    value={runtimeStyle ?\r\n                                        this.runtimeValueToStyleValue(\"width\",\r\n                                            runtimeGridItemStyle.widthForPercent, runtimeStyle.width, style) :\r\n                                        style.width}\r\n                                    onChange={(value) => {\r\n                                        this.onChange(\"width\", value);\r\n                                    }}\r\n                                    onUnitChange={(unit) => {\r\n                                        let parentRect = item.props.parent.getSize(false);\r\n                                        this.onUnitChange(\"width\", unit, parentRect.scrollWidthMinusPadding);\r\n                                    }}\r\n                                    units={this.props.widthUnits}\r\n                                    unit={this.getUnit(style.width)}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"InspectorSizeItem\">\r\n                        <span className=\"InspectorSizeItemTitle\">\r\n                            Height\r\n                        </span>\r\n                                <NumberInputWithUnit\r\n                                    className=\"InspectorSizeItemInput\"\r\n                                    min={0}\r\n                                    max={Infinity}\r\n                                    disabled={this.props.disabledProps.includes('height')}\r\n                                    value={runtimeStyle ?\r\n                                        this.runtimeValueToStyleValue(\"height\",\r\n                                            runtimeGridItemStyle.heightForPercent, runtimeStyle.height, style) :\r\n                                        style.height}\r\n                                    onChange={(value) => {\r\n                                        this.onChange(\"height\", value);\r\n                                    }}\r\n                                    onUnitChange={(unit) => {\r\n                                        let parentRect = item.props.parent.getSize(false);\r\n                                        this.onUnitChange(\"height\", unit, parentRect.scrollHeightMinusPadding);\r\n                                    }}\r\n                                    units={this.props.heightUnits}\r\n                                    unit={this.getUnit(style.height)}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"InspectorSizeRow\">\r\n                            <div className=\"InspectorSizeItem\" style={{\r\n                                marginRight: 12\r\n                            }}>\r\n                        <span className=\"InspectorSizeItemTitle\">\r\n                            Min W\r\n                        </span>\r\n                                <NumberInputWithUnit\r\n                                    className=\"AngleInput\"\r\n                                    min={0}\r\n                                    max={Infinity}\r\n                                    disabled={this.props.disabledProps.includes('minWidth')}\r\n                                    value={runtimeStyle ?\r\n                                        this.runtimeValueToStyleValue(\"minWidth\",\r\n                                            runtimeGridItemStyle.widthForPercent, runtimeStyle.width, style) :\r\n                                        style.minWidth}\r\n                                    onChange={(value) => {\r\n                                        this.onChange(\"minWidth\", value);\r\n                                    }}\r\n                                    onUnitChange={(unit) => {\r\n                                        let defaultValue = 1;\r\n                                        let parentRect = item.props.parent.getSize(false);\r\n                                        let width = getPxValueFromCSSValue(style.width, parentRect.scrollWidthMinusPadding, item);\r\n                                        let maxWidth = getPxValueFromCSSValue(style.maxWidth, parentRect.scrollWidthMinusPadding, item);\r\n                                        if (isNaN(width) && !isNaN(maxWidth))\r\n                                            defaultValue = maxWidth;\r\n                                        else if (!isNaN(width) && isNaN(maxWidth))\r\n                                            defaultValue = width;\r\n                                        else if (!isNaN(width) && !isNaN(maxWidth))\r\n                                            defaultValue = Math.min(width, maxWidth);\r\n\r\n                                        this.onUnitChange(\"minWidth\", unit, parentRect.scrollWidthMinusPadding\r\n                                            , defaultValue);\r\n                                    }}\r\n                                    units={this.props.minWidthUnits}\r\n                                    unit={this.getUnit(style.minWidth)}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"InspectorSizeItem\">\r\n                        <span className=\"InspectorSizeItemTitle\">\r\n                            Min H\r\n                        </span>\r\n                                <NumberInputWithUnit\r\n                                    className=\"InspectorSizeItemInput\"\r\n                                    min={0}\r\n                                    max={Infinity}\r\n                                    disabled={this.props.disabledProps.includes('minHeight')}\r\n                                    value={runtimeStyle ?\r\n                                        this.runtimeValueToStyleValue(\"minHeight\",\r\n                                            runtimeGridItemStyle.heightForPercent, runtimeStyle.height, style) :\r\n                                        style.minHeight}\r\n                                    onChange={(value) => {\r\n                                        this.onChange(\"minHeight\", value);\r\n                                    }}\r\n                                    onUnitChange={(unit) => {\r\n                                        let defaultValue = 1;\r\n                                        let parentRect = item.props.parent.getSize(false);\r\n                                        let height = getPxValueFromCSSValue(style.height, parentRect.scrollHeightMinusPadding, item);\r\n                                        let maxHeight = getPxValueFromCSSValue(style.maxHeight, parentRect.scrollHeightMinusPadding, item);\r\n                                        if (isNaN(height) && !isNaN(maxHeight))\r\n                                            defaultValue = maxHeight;\r\n                                        else if (!isNaN(height) && isNaN(maxHeight))\r\n                                            defaultValue = height;\r\n                                        else if (!isNaN(height) && !isNaN(maxHeight))\r\n                                            defaultValue = Math.min(height, maxHeight);\r\n\r\n                                        this.onUnitChange(\"minHeight\", unit, parentRect.scrollHeightMinusPadding\r\n                                            , defaultValue);\r\n                                    }}\r\n                                    units={this.props.minHeightUnits}\r\n                                    unit={this.getUnit(style.minHeight)}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"InspectorSizeRow\" style={{\r\n                            marginBottom: 0\r\n                        }}>\r\n                            <div className=\"InspectorSizeItem\" style={{\r\n                                marginRight: 12\r\n                            }}>\r\n                        <span className=\"InspectorSizeItemTitle\">\r\n                            Max W\r\n                        </span>\r\n                                <NumberInputWithUnit\r\n                                    className=\"AngleInput\"\r\n                                    min={0}\r\n                                    max={Infinity}\r\n                                    disabled={this.props.disabledProps.includes('maxWidth')}\r\n                                    value={runtimeStyle ?\r\n                                        this.runtimeValueToStyleValue(\"maxWidth\",\r\n                                            runtimeGridItemStyle.widthForPercent, runtimeStyle.width, style) :\r\n                                        style.maxWidth}\r\n                                    onChange={(value) => {\r\n                                        this.onChange(\"maxWidth\", value);\r\n                                    }}\r\n                                    onUnitChange={(unit) => {\r\n                                        let defaultValue = 200;\r\n                                        let parentRect = item.props.parent.getSize(false);\r\n                                        let width = getPxValueFromCSSValue(style.width, parentRect.scrollWidthMinusPadding, item);\r\n                                        let minWidth = getPxValueFromCSSValue(style.minWidth, parentRect.scrollWidthMinusPadding, item);\r\n                                        if (isNaN(width) && !isNaN(minWidth))\r\n                                            defaultValue = minWidth;\r\n                                        else if (!isNaN(width) && isNaN(minWidth))\r\n                                            defaultValue = width;\r\n                                        else if (!isNaN(width) && !isNaN(minWidth))\r\n                                            defaultValue = Math.max(width, minWidth);\r\n\r\n                                        this.onUnitChange(\"maxWidth\", unit, parentRect.scrollWidthMinusPadding\r\n                                            , defaultValue);\r\n                                    }}\r\n                                    units={this.props.maxWidthUnits}\r\n                                    unit={this.getUnit(style.maxWidth)}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"InspectorSizeItem\">\r\n                        <span className=\"InspectorSizeItemTitle\">\r\n                            Max H\r\n                        </span>\r\n                                <NumberInputWithUnit\r\n                                    className=\"InspectorSizeItemInput\"\r\n                                    min={0}\r\n                                    max={Infinity}\r\n                                    disabled={this.props.disabledProps.includes('maxHeight')}\r\n                                    value={runtimeStyle ?\r\n                                        this.runtimeValueToStyleValue(\"maxHeight\",\r\n                                            runtimeGridItemStyle.heightForPercent, runtimeStyle.height, style) :\r\n                                        style.maxHeight}\r\n                                    onChange={(value) => {\r\n                                        this.onChange(\"maxHeight\", value);\r\n                                    }}\r\n                                    onUnitChange={(unit) => {\r\n                                        let defaultValue = 200;\r\n                                        let parentRect = item.props.parent.getSize(false);\r\n                                        let height = getPxValueFromCSSValue(style.height, parentRect.scrollHeightMinusPadding, item);\r\n                                        let minHeight = getPxValueFromCSSValue(style.minHeight, parentRect.scrollHeightMinusPadding, item);\r\n                                        if (isNaN(height) && !isNaN(minHeight))\r\n                                            defaultValue = minHeight;\r\n                                        else if (!isNaN(height) && isNaN(minHeight))\r\n                                            defaultValue = height;\r\n                                        else if (!isNaN(height) && !isNaN(minHeight))\r\n                                            defaultValue = Math.max(height, minHeight);\r\n\r\n                                        this.onUnitChange(\"maxHeight\", unit, parentRect.scrollHeightMinusPadding\r\n                                            , defaultValue);\r\n                                    }}\r\n                                    units={this.props.maxHeightUnits}\r\n                                    unit={this.getUnit(style.maxHeight)}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nInspectorSize.defaultProps = {\r\n    disabledProps: []\r\n};\r\n","import Switch from \"@material-ui/core/Switch/Switch\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nconst DockSwitch = withStyles((theme) => ({\r\n    root: {\r\n        width: 42,\r\n        height: 10,\r\n        padding: 4,\r\n        display: 'flex',\r\n    },\r\n    switchBase: {\r\n        padding: 0,\r\n        color: \"#d2d2d2\",\r\n        '&$checked': {\r\n            transform: 'translateX(28px) scale(1)',\r\n            color: \"#849dff\",\r\n            '& + $track': {\r\n                opacity: 1,\r\n                backgroundColor: \"#849dff\",\r\n            },\r\n        },\r\n    },\r\n    thumb: {\r\n        width: 10,\r\n        height: 10,\r\n        boxShadow: 'none',\r\n    },\r\n    track: {\r\n        borderRadius: 16 / 2,\r\n        opacity: 1,\r\n        backgroundColor: \"#a2a2a2\",\r\n    },\r\n    checked: {},\r\n}))(Switch);\r\n\r\nexport default DockSwitch;\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport {\r\n    getPxValueFromCSSValue,\r\n    getUnitFromStyleValue,\r\n    setGridItemStyle,\r\n    setTempData\r\n} from \"../../AwesomwGridLayoutHelper\";\r\nimport {cloneObject} from \"../../AwesomeGridLayoutUtils\";\r\nimport Switch from \"@material-ui/core/Switch/Switch\";\r\nimport DockSwitch from \"./DockSwitch\";\r\nimport NumberInputWithUnit from \"../../Menus/CommonComponents/NumberInputWithUnit\";\r\nimport InspectorTitle from \"./InspectorTitle\";\r\n\r\nexport default class InspectorPosition extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    onDockActiveChange = (side, value) => {\r\n        let {item} = this.props;\r\n        let oldDocks = cloneObject(item.getFromData(\"docks\") || {});\r\n\r\n        oldDocks[side] = value;\r\n        if (side === \"top\" && value) {\r\n            oldDocks.bottom = false;\r\n        }\r\n        if (side === \"bottom\" && value) {\r\n            oldDocks.top = false;\r\n        }\r\n\r\n        item.setDocks(oldDocks.top, oldDocks.left, oldDocks.bottom, oldDocks.right,\r\n            item.getFromTempData(\"autoDeck\"));\r\n\r\n        item.props.select.updateHelpLines(item, item.state.helpLinesParent,\r\n            item.getSize(false), item.state.dragging);\r\n    };\r\n\r\n    onDockAutoChange = () => {\r\n        let {item} = this.props;\r\n        setTempData(\"autoDock\", !item.getFromTempData(\"autoDock\"), item, true);\r\n    };\r\n\r\n    onUnitChange = (prop, parentProp, unit) => {\r\n        let {item} = this.props;\r\n        let gridItemStyle = cloneObject(item.getFromData(\"gridItemStyle\"));\r\n        let compositeGridItemStyle = item.getCompositeFromData(\"gridItemStyle\");\r\n        if (!gridItemStyle)\r\n            gridItemStyle = {};\r\n\r\n        let parentRect = item.props.parent.getSize(false);\r\n        let value = getPxValueFromCSSValue(compositeGridItemStyle[prop], parentRect.scrollWidthMinusPadding, item);\r\n\r\n        if (unit === \"px\") {\r\n            gridItemStyle[prop] = `${value}${unit}`;\r\n        } else if (unit === \"%\") {\r\n            // let runtimeGridItemStyle = item.getRuntimeGridItemStyle();\r\n            gridItemStyle[prop] = `${value / parentRect.scrollWidthMinusPadding * 100}${unit}`;\r\n        }\r\n\r\n        setGridItemStyle(gridItemStyle, item, true);\r\n\r\n        item.props.select.updateHelpLines(item, item.state.helpLinesParent,\r\n            item.getSize(false), item.state.dragging);\r\n    };\r\n\r\n    onValueChange = (prop, value) => {\r\n        let {item} = this.props;\r\n        let gridItemStyle = cloneObject(item.getFromData(\"gridItemStyle\"));\r\n        let compositeGridItemStyle = item.getCompositeFromData(\"gridItemStyle\");\r\n        if (!gridItemStyle)\r\n            gridItemStyle = {};\r\n        gridItemStyle[prop] = `${value}${getUnitFromStyleValue(compositeGridItemStyle[prop])}`;\r\n\r\n        setGridItemStyle(gridItemStyle, item, true);\r\n\r\n        item.props.select.updateHelpLines(item, item.state.helpLinesParent,\r\n            item.getSize(false), item.state.dragging);\r\n        item.props.select.updateResizePanes(item, item.getSize(false));\r\n    };\r\n\r\n    runtimeValueToStyleValue = (propName, parentValue, value, style) => {\r\n        if (!style)\r\n            return;\r\n\r\n        let unit = getUnitFromStyleValue(style[propName]);\r\n        let {item} = this.props;\r\n\r\n        if (unit === \"px\") {\r\n            value = `${value}px`;\r\n        } else if (unit === \"%\") {\r\n            value = `${value /\r\n            parentValue * 100}%`;\r\n        } else {\r\n            value = unit;\r\n        }\r\n\r\n        return value;\r\n    };\r\n\r\n    render () {\r\n        let {item} = this.props;\r\n        let docks = item.getCompositeFromData(\"docks\");\r\n        let auto = item.getFromTempData(\"autoDock\");\r\n        let gridItemStyle = item.getCompositeFromData(\"gridItemStyle\");\r\n        let runtimeStyle = item.state.runtimeStyle;\r\n        let runtimeGridItemStyle = item.getRuntimeGridItemStyle();\r\n        return (\r\n            <>\r\n                <InspectorTitle title=\"Position\" onChange={(open) => {\r\n                    this.setState({open});\r\n                }}/>\r\n\r\n                {\r\n                    this.state.open &&\r\n                    <div className=\"InspectorOptionRoot\">\r\n                        <div className=\"InspectorDockingRoot\">\r\n                            <span className=\"InspectorDockingRootTitle\">\r\n                                Docking\r\n                            </span>\r\n\r\n                            <div className=\"InspectorDockingDocks\">\r\n                                <div className=\"InspectorDockingLeft\">\r\n                                    <DockSwitch\r\n                                        className=\"InspectorDockSwitch\"\r\n                                        checked={docks.left || false}\r\n                                        onChange={(e) => {\r\n                                            let checked = e.target.checked;\r\n                                            this.onDockActiveChange('left', checked);\r\n                                        }}\r\n                                        disabled={auto}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"InspectorDockingRight\">\r\n                                    <DockSwitch\r\n                                        className=\"InspectorDockSwitch\"\r\n                                        checked={docks.right || false}\r\n                                        onChange={(e) => {\r\n                                            let checked = e.target.checked;\r\n                                            this.onDockActiveChange('right', checked);\r\n                                        }}\r\n                                        disabled={auto}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"InspectorDockingTop\">\r\n                                    <DockSwitch\r\n                                        className=\"InspectorDockSwitch90\"\r\n                                        checked={docks.top || false}\r\n                                        onChange={(e) => {\r\n                                            let checked = e.target.checked;\r\n                                            this.onDockActiveChange('top', checked);\r\n                                        }}\r\n                                        disabled={auto}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"InspectorDockingBottom\">\r\n                                    <DockSwitch\r\n                                        className=\"InspectorDockSwitch90\"\r\n                                        checked={docks.bottom || false}\r\n                                        onChange={(e) => {\r\n                                            let checked = e.target.checked;\r\n                                            this.onDockActiveChange('bottom', checked);\r\n                                        }}\r\n                                        disabled={auto}\r\n                                    />\r\n                                </div>\r\n                                {\r\n                                    auto &&\r\n                                    <div className=\"InspectorDockingDisable\"/>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"InspectorOverflowDir\">\r\n                        <span className=\"InspectorOverflowDirTitle\">\r\n                            Auto docking\r\n                        </span>\r\n                            <Switch\r\n                                className=\"InspectorOverflowDirSwitch\"\r\n                                checked={auto || false}\r\n                                onChange={(e) => {\r\n                                    this.onDockAutoChange();\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div className=\"InspectorOverflowMarginRoot\">\r\n                            <NumberInputWithUnit\r\n                                className=\"InspectorOverflowMargin\"\r\n                                min={0}\r\n                                max={Infinity}\r\n                                disabled={!docks.top || auto}\r\n                                value={docks.top && (runtimeStyle && runtimeGridItemStyle ?\r\n                                    runtimeGridItemStyle.marginTop : gridItemStyle.marginTop)}\r\n                                onChange={(value) => {\r\n                                    this.onValueChange(\"marginTop\", value);\r\n                                }}\r\n                                onUnitChange={(unit) => {\r\n                                    this.onUnitChange(\"marginTop\", \"height\", unit);\r\n                                }}\r\n                                units={[\"%\", \"px\"]}\r\n                                unit={\r\n                                    docks.top &&\r\n                                    getUnitFromStyleValue(\r\n                                        runtimeStyle && runtimeGridItemStyle ?\r\n                                            runtimeGridItemStyle.marginTop : gridItemStyle.marginTop)\r\n                                }\r\n                                inputStyle={{\r\n                                    width: \"100%\",\r\n                                    fontSize: 12\r\n                                }}\r\n                                unitButtonStyle={{\r\n                                    fontSize: 11\r\n                                }}\r\n                            />\r\n                            <NumberInputWithUnit\r\n                                className=\"InspectorOverflowMargin\"\r\n                                min={0}\r\n                                max={Infinity}\r\n                                disabled={!docks.left || auto}\r\n                                value={docks.left && (runtimeStyle && runtimeGridItemStyle ?\r\n                                    runtimeGridItemStyle.marginLeft : gridItemStyle.marginLeft)}\r\n                                onChange={(value) => {\r\n                                    this.onValueChange(\"marginLeft\", value);\r\n                                }}\r\n                                onUnitChange={(unit) => {\r\n                                    this.onUnitChange(\"marginLeft\", \"height\", unit);\r\n                                }}\r\n                                units={[\"%\", \"px\"]}\r\n                                unit={docks.left &&\r\n                                getUnitFromStyleValue(\r\n                                    runtimeStyle && runtimeGridItemStyle ?\r\n                                        runtimeGridItemStyle.marginLeft : gridItemStyle.marginLeft)}\r\n                                inputStyle={{\r\n                                    width: \"100%\",\r\n                                    fontSize: 12\r\n                                }}\r\n                                unitButtonStyle={{\r\n                                    fontSize: 11\r\n                                }}\r\n                            />\r\n                            <NumberInputWithUnit\r\n                                className=\"InspectorOverflowMargin\"\r\n                                min={0}\r\n                                max={Infinity}\r\n                                disabled={!docks.bottom || auto}\r\n                                value={docks.bottom && (runtimeStyle && runtimeGridItemStyle ?\r\n                                    runtimeGridItemStyle.marginBottom : gridItemStyle.marginBottom)}\r\n                                onChange={(value) => {\r\n                                    this.onValueChange(\"marginBottom\", value);\r\n                                }}\r\n                                onUnitChange={(unit) => {\r\n                                    this.onUnitChange(\"marginBottom\", \"height\", unit);\r\n                                }}\r\n                                units={[\"%\", \"px\"]}\r\n                                unit={docks.bottom &&\r\n                                getUnitFromStyleValue(\r\n                                    runtimeStyle && runtimeGridItemStyle ?\r\n                                        runtimeGridItemStyle.marginBottom : gridItemStyle.marginBottom)}\r\n                                inputStyle={{\r\n                                    width: \"100%\",\r\n                                    fontSize: 12\r\n                                }}\r\n                                unitButtonStyle={{\r\n                                    fontSize: 11\r\n                                }}\r\n                            />\r\n                            <NumberInputWithUnit\r\n                                className=\"InspectorOverflowMargin\"\r\n                                min={0}\r\n                                max={Infinity}\r\n                                disabled={!docks.right || auto}\r\n                                value={docks.right && (runtimeStyle && runtimeGridItemStyle ?\r\n                                    runtimeGridItemStyle.marginRight : gridItemStyle.marginRight)}\r\n                                onChange={(value) => {\r\n                                    this.onValueChange(\"marginRight\", value);\r\n                                }}\r\n                                onUnitChange={(unit) => {\r\n                                    this.onUnitChange(\"marginRight\", \"height\", unit);\r\n                                }}\r\n                                units={[\"%\", \"px\"]}\r\n                                unit={docks.right &&\r\n                                getUnitFromStyleValue(\r\n                                    runtimeStyle && runtimeGridItemStyle ?\r\n                                        runtimeGridItemStyle.marginRight : gridItemStyle.marginRight)}\r\n                                inputStyle={{\r\n                                    width: \"100%\",\r\n                                    fontSize: 12\r\n                                }}\r\n                                unitButtonStyle={{\r\n                                    fontSize: 11\r\n                                }}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\nimport Menu from \"@material-ui/core/Menu/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem/MenuItem\";\r\n\r\nexport default class DropDown extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            showUnits: false\r\n        };\r\n\r\n        this.unitIconButton = React.createRef();\r\n    }\r\n\r\n    onClick = (e) => {\r\n        this.setState({anchorEl: e.currentTarget});\r\n    };\r\n\r\n    onChange = (option) => {\r\n        this.props.onChange(option);\r\n    };\r\n\r\n    getValue = () => {\r\n        if (this.props.valueRenderer) {\r\n            return this.props.valueRenderer(this.props.value) ||\r\n                (this.props.renderer && this.props.renderer(this.props.value)) ||\r\n                this.props.value || \"\";\r\n        } else {\r\n            return this.props.value || \"\";\r\n        }\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"DropDownRoot\" style={this.props.rootStyle}>\r\n                <span\r\n                    className=\"DropDownSpan\"\r\n                    style={{...this.props.spanStyle, ...{\r\n                        cursor: \"pointer\"\r\n                    }}}\r\n                    onClick={this.onClick}\r\n                >\r\n                    {this.getValue()}\r\n                </span>\r\n\r\n                <Menu\r\n                    style={{...{\r\n                            zIndex: 99999999999\r\n                        }, ...this.props.menuStyle}}\r\n                    anchorEl={this.state.anchorEl}\r\n                    open={this.state.anchorEl !== undefined}\r\n                    onClose={(e) => {\r\n                        this.setState({anchorEl: undefined});\r\n                    }}\r\n                    MenuListProps={{\r\n                        style: {\r\n                            padding: 0,\r\n                            width: this.props.spanStyle? this.props.spanStyle.width: \"auto\"\r\n                        }\r\n                    }}\r\n                >\r\n                    {\r\n                        this.props.options.map((option, i) => {\r\n                            return (\r\n                                <MenuItem\r\n                                    dense\r\n                                    key={i}\r\n                                    onClick={(e) => {\r\n                                        if (this.props.onChange)\r\n                                            this.props.onChange(option);\r\n\r\n                                        this.setState({anchorEl: undefined});\r\n                                    }}\r\n                                    style={{...(option.disabled && {\r\n                                        pointerEvents: \"none\"\r\n                                    }), ...this.props.menuItemStyle}}\r\n                                >\r\n                                    <span style={{\r\n                                        width: \"100%\"\r\n                                    }}>\r\n                                        {this.props.renderer ? this.props.renderer(option) : option}\r\n                                    </span>\r\n                                </MenuItem>\r\n                            )\r\n                        })\r\n                    }\r\n                </Menu>\r\n\r\n                <div\r\n                    className=\"DropDOwnArrow\"\r\n                >\r\n                    <img width={10} height={10} src={process.env.PUBLIC_URL + \"/static/icon/down-arrow.svg\"}/>\r\n                </div>\r\n\r\n                {\r\n                    this.props.disabled &&\r\n                    <div\r\n                        className=\"DropDOwnDisabled\"\r\n                        style={this.props.spanStyle}\r\n                    />\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\n\r\nexport default class NumberInput extends React.Component {\r\n    inputFilter = (value, oldValue) => {\r\n        if (/^\\d+$/.test(value)) {\r\n            value = parseFloat(value).toFixed(0);\r\n            value = Math.min(this.props.max, value);\r\n            value = Math.max(this.props.min, value);\r\n            return value;\r\n        } else if (value === \"\") {\r\n            return \"0\";\r\n        }\r\n\r\n        return oldValue;\r\n    };\r\n\r\n    onChange = (e) => {\r\n        let value = this.inputFilter(e.target.value, this.props.value);\r\n        this.props.onChange(value);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <input\r\n                className=\"NumberInput\"\r\n                value={this.props.value || 0}\r\n                onChange={this.onChange}\r\n                type=\"text\"\r\n                style={this.props.inputStyle}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport {getValueFromCSSValue, setScrollBehaviour} from \"../../AwesomwGridLayoutHelper\";\r\nimport NumberInput from \"../../Menus/CommonComponents/NumberInput\";\r\nimport InspectorTitle from \"./InspectorTitle\";\r\n\r\nexport default class InspectorScroll extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    onChangeScrollEffect = (option) => {\r\n        let {item} = this.props;\r\n        let offsetTop = item.getFromData(\"scrollStickyOffsetTop\");\r\n        setScrollBehaviour(item, option, item.props.viewRef.current, false, {offsetTop});\r\n    };\r\n\r\n    onChangeOffsetTop = (offsetTop) => {\r\n        offsetTop = `${offsetTop}px`;\r\n        let {item} = this.props;\r\n        let behaviour = item.getFromData(\"scrollBehaviour\");\r\n        setScrollBehaviour(item, behaviour, item.props.viewRef.current, false, {offsetTop});\r\n        item.props.select.onScrollItem();\r\n    };\r\n\r\n    render () {\r\n        let {item} = this.props;\r\n        let behaviour = item.getFromData(\"scrollBehaviour\");\r\n        let offsetTop = item.getFromData(\"scrollStickyOffsetTop\");\r\n        return (\r\n            <>\r\n                <InspectorTitle title=\"Scroll\" onChange={(open) => {\r\n                    this.setState({open});\r\n                }}/>\r\n\r\n                {\r\n                    this.state.open &&\r\n                    <div className=\"InspectorOptionRoot\">\r\n                        <div className=\"InspectorScrollEffect\"\r\n                             style={{\r\n                                 marginBottom: behaviour === 'sticky' ? 12 : 0\r\n                             }}\r\n                        >\r\n                            <div className=\"InspectorScrollTitle\">\r\n                                Scroll effect\r\n                            </div>\r\n\r\n                            <DropDown\r\n                                options={this.props.options || ['none', 'fixed', 'sticky']}\r\n                                onChange={this.onChangeScrollEffect}\r\n                                value={behaviour || 'none'}\r\n                                spanStyle={{\r\n                                    width: 96,\r\n                                    fontSize: 12\r\n                                }}\r\n                            />\r\n                        </div>\r\n\r\n                        {\r\n                            behaviour === 'sticky' &&\r\n                            <div className=\"InspectorScrollEffect\">\r\n                                <div className=\"InspectorScrollTitle\">\r\n                                    Offset top\r\n                                </div>\r\n\r\n                                <NumberInput\r\n                                    className=\"AngleInput\"\r\n                                    min={0}\r\n                                    max={Infinity}\r\n                                    value={getValueFromCSSValue(offsetTop)}\r\n                                    onChange={this.onChangeOffsetTop}\r\n                                    inputStyle={{\r\n                                        width: 96,\r\n                                        fontSize: 12,\r\n                                        textAlign: \"left\"\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport {\r\n    getPxValueFromCSSValue, getStyleValueFromPx,\r\n    getUnitFromStyleValue,\r\n    setDataInBreakpoint,\r\n    setTempData\r\n} from \"../../AwesomwGridLayoutHelper\";\r\nimport {cloneObject} from \"../../AwesomeGridLayoutUtils\";\r\nimport Switch from \"@material-ui/core/Switch/Switch\";\r\nimport NumberInputWithUnit from \"../../Menus/CommonComponents/NumberInputWithUnit\";\r\nimport InspectorTitle from \"./InspectorTitle\";\r\n\r\nexport default class InspectorPadding extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    onUnitChange = (prop, parentProp, unit) => {\r\n        let {item} = this.props;\r\n        let padding = cloneObject(item.getFromData(\"padding\")) || {};\r\n        let compositePadding = item.getCompositeFromData(\"padding\") || {};\r\n\r\n        let parentRect = item.props.parent.getSize(false);\r\n        let value = getPxValueFromCSSValue(compositePadding[prop], parentRect.width, item);\r\n\r\n        if (unit === \"px\") {\r\n            padding[prop] = `${value}${unit}`;\r\n        } else if (unit === \"%\") {\r\n            padding[prop] = `${value / item.props.parent.getSize(false).width * 100}${unit}`;\r\n        }\r\n        else if (unit === \"vh\") {\r\n            padding[prop] = `${value / item.props.breakpointmanager.getWindowHeight() * 100}${unit}`;\r\n        }\r\n        else if (unit === \"vw\") {\r\n            padding[prop] = `${value / item.props.breakpointmanager.getWindowWidth() * 100}${unit}`;\r\n        }\r\n\r\n        setDataInBreakpoint(\"padding\", padding, item, true, undefined, true);\r\n    };\r\n\r\n    onValueChange = (prop, value) => {\r\n        let {item} = this.props;\r\n        let equalPadding = item.getFromTempData(\"equalPadding\");\r\n        let padding = cloneObject(item.getFromData(\"padding\")) || {};\r\n        let compositePadding = item.getCompositeFromData(\"padding\") || {};\r\n        padding[prop] = `${value}${getUnitFromStyleValue(compositePadding[prop] || \"px\")}`;\r\n        if (equalPadding) {\r\n            let parentRect = item.props.parent? item.props.parent.getSize(false):\r\n                {\r\n                    scrollWidthMinusPadding: item.props.breakpointmanager.getWindowWidth()\r\n                };\r\n            let pxValue = getPxValueFromCSSValue(padding[prop], parentRect.scrollWidthMinusPadding, item);\r\n            padding = {\r\n                top: `${getStyleValueFromPx(pxValue, parentRect.scrollWidthMinusPadding, getUnitFromStyleValue(compositePadding.top || \"px\"), item)}`,\r\n                left: `${getStyleValueFromPx(pxValue, parentRect.scrollWidthMinusPadding, getUnitFromStyleValue(compositePadding.left || \"px\"), item)}`,\r\n                bottom: `${getStyleValueFromPx(pxValue, parentRect.scrollWidthMinusPadding, getUnitFromStyleValue(compositePadding.bottom || \"px\"), item)}`,\r\n                right: `${getStyleValueFromPx(pxValue, parentRect.scrollWidthMinusPadding, getUnitFromStyleValue(compositePadding.right || \"px\"), item)}`,\r\n            };\r\n        }\r\n\r\n        setDataInBreakpoint(\"padding\", padding, item, true, undefined, true);\r\n\r\n        item.invalidateSize(true, true, true, undefined, true);\r\n\r\n        window.requestAnimationFrame(() => {\r\n            item.props.select.onScrollItem();\r\n        })\r\n    };\r\n\r\n    onEqualPadding = (equalPadding) => {\r\n        let {item} = this.props;\r\n\r\n        setTempData(\"equalPadding\", equalPadding, item, true);\r\n        if (equalPadding) {\r\n            let compositePadding = item.getCompositeFromData(\"padding\") || {};\r\n\r\n            let parentRect = item.props.parent? item.props.parent.getSize(false):\r\n                {\r\n                    scrollWidthMinusPadding: item.props.breakpointmanager.getWindowWidth()\r\n                };\r\n            let max = Math.max(\r\n                getPxValueFromCSSValue(compositePadding.top, parentRect.scrollWidthMinusPadding, item) || 0,\r\n                getPxValueFromCSSValue(compositePadding.left, parentRect.scrollWidthMinusPadding, item) || 0,\r\n                getPxValueFromCSSValue(compositePadding.bottom, parentRect.scrollWidthMinusPadding, item) || 0,\r\n                getPxValueFromCSSValue(compositePadding.right, parentRect.scrollWidthMinusPadding, item) || 0,\r\n            );\r\n\r\n            let padding = {\r\n                top: `${getStyleValueFromPx(max, parentRect.scrollWidthMinusPadding, getUnitFromStyleValue(compositePadding.top || \"px\"), item)}`,\r\n                left: `${getStyleValueFromPx(max, parentRect.scrollWidthMinusPadding, getUnitFromStyleValue(compositePadding.left || \"px\"), item)}`,\r\n                bottom: `${getStyleValueFromPx(max, parentRect.scrollWidthMinusPadding, getUnitFromStyleValue(compositePadding.bottom || \"px\"), item)}`,\r\n                right: `${getStyleValueFromPx(max, parentRect.scrollWidthMinusPadding, getUnitFromStyleValue(compositePadding.right || \"px\"), item)}`,\r\n            };\r\n\r\n            setDataInBreakpoint(\"padding\", padding, item, true, undefined, true);\r\n\r\n            item.invalidateSize(true, true, true, undefined, true);\r\n        }\r\n    };\r\n\r\n    render () {\r\n        let {item} = this.props;\r\n        let padding = item.getCompositeFromData(\"padding\") || {};\r\n        let equalPadding = item.getFromTempData(\"equalPadding\") || false;\r\n        return (\r\n            <>\r\n                <InspectorTitle title=\"Padding\" onChange={(open) => {\r\n                    this.setState({open});\r\n                }}/>\r\n\r\n                {\r\n                    this.state.open &&\r\n                    <div className=\"InspectorOptionRoot\">\r\n                        <div className=\"InspectorOverflowMarginRoot\">\r\n                            <NumberInputWithUnit\r\n                                className=\"InspectorOverflowMargin\"\r\n                                min={0}\r\n                                max={Infinity}\r\n                                value={padding.top || \"0px\"}\r\n                                onChange={(value) => {\r\n                                    this.onValueChange(\"top\", value);\r\n                                }}\r\n                                onUnitChange={(unit) => {\r\n                                    this.onUnitChange(\"top\", \"height\", unit);\r\n                                }}\r\n                                units={[\"%\", \"px\", \"vh\", \"vw\"]}\r\n                                unit={\r\n                                    getUnitFromStyleValue(padding.top || \"px\")\r\n                                }\r\n                                inputStyle={{\r\n                                    width: \"100%\",\r\n                                    fontSize: 12\r\n                                }}\r\n                                unitButtonStyle={{\r\n                                    fontSize: 11\r\n                                }}\r\n                            />\r\n                            <NumberInputWithUnit\r\n                                className=\"InspectorOverflowMargin\"\r\n                                min={0}\r\n                                max={Infinity}\r\n                                value={padding.left || \"0px\"}\r\n                                onChange={(value) => {\r\n                                    this.onValueChange(\"left\", value);\r\n                                }}\r\n                                onUnitChange={(unit) => {\r\n                                    this.onUnitChange(\"left\", \"height\", unit);\r\n                                }}\r\n                                units={[\"%\", \"px\", \"vh\", \"vw\"]}\r\n                                unit={\r\n                                    getUnitFromStyleValue(padding.left || \"px\")\r\n                                }\r\n                                inputStyle={{\r\n                                    width: \"100%\",\r\n                                    fontSize: 12\r\n                                }}\r\n                                unitButtonStyle={{\r\n                                    fontSize: 11\r\n                                }}\r\n                            />\r\n                            <NumberInputWithUnit\r\n                                className=\"InspectorOverflowMargin\"\r\n                                min={0}\r\n                                max={Infinity}\r\n                                value={padding.bottom || \"0px\"}\r\n                                onChange={(value) => {\r\n                                    this.onValueChange(\"bottom\", value);\r\n                                }}\r\n                                onUnitChange={(unit) => {\r\n                                    this.onUnitChange(\"bottom\", \"height\", unit);\r\n                                }}\r\n                                units={[\"%\", \"px\", \"vh\", \"vw\"]}\r\n                                unit={\r\n                                    getUnitFromStyleValue(padding.bottom || \"px\")\r\n                                }\r\n                                inputStyle={{\r\n                                    width: \"100%\",\r\n                                    fontSize: 12\r\n                                }}\r\n                                unitButtonStyle={{\r\n                                    fontSize: 11\r\n                                }}\r\n                            />\r\n                            <NumberInputWithUnit\r\n                                className=\"InspectorOverflowMargin\"\r\n                                min={0}\r\n                                max={Infinity}\r\n                                value={padding.right || \"0px\"}\r\n                                onChange={(value) => {\r\n                                    this.onValueChange(\"right\", value);\r\n                                }}\r\n                                onUnitChange={(unit) => {\r\n                                    this.onUnitChange(\"right\", \"height\", unit);\r\n                                }}\r\n                                units={[\"%\", \"px\", \"vh\", \"vw\"]}\r\n                                unit={\r\n                                    getUnitFromStyleValue(padding.right || \"px\")\r\n                                }\r\n                                inputStyle={{\r\n                                    width: \"100%\",\r\n                                    fontSize: 12\r\n                                }}\r\n                                unitButtonStyle={{\r\n                                    fontSize: 11\r\n                                }}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"InspectorAdjustRotate\">\r\n                                <span className=\"InspectorOverflowDirTitle\">\r\n                                    Equal padding\r\n                                </span>\r\n                            <Switch\r\n                                className=\"InspectorOverflowDirSwitch\"\r\n                                checked={equalPadding}\r\n                                onChange={(e) => {\r\n                                    let checked = e.target.checked;\r\n                                    this.onEqualPadding(checked);\r\n                                }}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport ToggleButton from '@material-ui/lab/ToggleButton';\r\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\r\nimport {setDataInBreakpoint} from \"../../AwesomwGridLayoutHelper\";\r\nimport {cloneObject} from \"../../AwesomeGridLayoutUtils\";\r\nimport Switch from \"@material-ui/core/Switch/Switch\";\r\nimport InspectorTitle from \"./InspectorTitle\";\r\n\r\nexport default class InspectorOverflow extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    onChangeState = (e, value) => {\r\n        let {item} = this.props;\r\n        let thisBpOverflowData = item.getFromData(\"overflowData\");\r\n        let compositOverflowData = item.getCompositeFromData(\"overflowData\");\r\n        if (value === 'scroll' &&\r\n            (!compositOverflowData ||\r\n            ((!compositOverflowData.overflowY || compositOverflowData.overflowY === \"hidden\")&&\r\n            (!compositOverflowData.overflowX || compositOverflowData.overflowX === \"hidden\"))))\r\n        {\r\n            let newOverflowData = cloneObject(thisBpOverflowData || {});\r\n            newOverflowData.state = 'scroll';\r\n            newOverflowData.overflowY = 'scroll';\r\n            console.log(\"onChangeState\", JSON.stringify(newOverflowData));\r\n            setDataInBreakpoint(\"overflowData\", newOverflowData, item, true, undefined, true);\r\n            return;\r\n        }\r\n\r\n        setDataInBreakpoint(\"overflowData.state\", value, item, true, undefined, true);\r\n    };\r\n\r\n    changeScrollDirection = (propName, checked) => {\r\n        let {item} = this.props;\r\n        setDataInBreakpoint(`overflowData.${propName}`, checked? 'scroll': undefined\r\n            , item, true, undefined, true);\r\n    };\r\n\r\n    onChangeAuto = (e, value) => {\r\n        let {item} = this.props;\r\n        setDataInBreakpoint(\"overflowData.auto\", value, item, true, undefined, true);\r\n    };\r\n\r\n    render () {\r\n        let {item} = this.props;\r\n        let overflowData = item.getCompositeFromData(\"overflowData\");\r\n        return (\r\n            <>\r\n                <InspectorTitle title=\"Overflow content\" onChange={(open) => {\r\n                    this.setState({open});\r\n                }}/>\r\n\r\n                {\r\n                    this.state.open &&\r\n                    <div className=\"InspectorOptionRoot\">\r\n                        <div className=\"InspectorAnchorNameTitle\">\r\n                            Overflow\r\n                        </div>\r\n                        <ToggleButtonGroup\r\n                            className=\"InspectorOverflowType\"\r\n                            size='small'\r\n                            value={overflowData.state}\r\n                            exclusive\r\n                            onChange={this.onChangeState}\r\n                        >\r\n                            <ToggleButton value=\"show\" className=\"InspectorOverflowTypeButton\" size='small'\r\n                                        style={{\r\n                                            padding: 3\r\n                                        }}\r\n                            >\r\n                                Show\r\n                            </ToggleButton>\r\n                            <ToggleButton value=\"hide\" className=\"InspectorOverflowTypeButton\" size='small'\r\n                                          style={{\r\n                                              padding: 3\r\n                                          }}\r\n                            >\r\n                                Hide\r\n                            </ToggleButton>\r\n                            <ToggleButton value=\"scroll\" className=\"InspectorOverflowTypeButton\" size='small'\r\n                                          style={{\r\n                                              padding: 3\r\n                                          }}\r\n                            >\r\n                                Scroll\r\n                            </ToggleButton>\r\n                        </ToggleButtonGroup>\r\n\r\n                        {\r\n                            overflowData.state === 'scroll' &&\r\n                            <>\r\n                                <div className=\"InspectorOverflowDir\">\r\n                                <span className=\"InspectorOverflowDirTitle\">\r\n                                    Scroll vertically\r\n                                </span>\r\n                                    <Switch\r\n                                        className=\"InspectorOverflowDirSwitch\"\r\n                                        checked={overflowData.overflowY === \"scroll\" || overflowData.overflowY === \"auto\"}\r\n                                        onChange={(e) => {\r\n                                            let checked = e.target.checked;\r\n                                            this.changeScrollDirection('overflowY', checked);\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"InspectorOverflowDir\">\r\n                                <span className=\"InspectorOverflowDirTitle\">\r\n                                    Scroll horizontally\r\n                                </span>\r\n                                    <Switch\r\n                                        className=\"InspectorOverflowDirSwitch\"\r\n                                        checked={overflowData.overflowX === \"scroll\" || overflowData.overflowX === \"auto\"}\r\n                                        onChange={(e) => {\r\n                                            let checked = e.target.checked;\r\n                                            this.changeScrollDirection('overflowX', checked);\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"InspectorOverflowAuto\">\r\n                                <span className=\"InspectorOverflowDirTitle\">\r\n                                    Scrollbar visibility\r\n                                </span>\r\n                                </div>\r\n                                <ToggleButtonGroup\r\n                                    className=\"InspectorOverflowAutoToggles\"\r\n                                    size='small'\r\n                                    value={overflowData.auto || \"always\"}\r\n                                    exclusive\r\n                                    onChange={this.onChangeAuto}\r\n                                >\r\n                                    <ToggleButton value=\"hide\" className=\"InspectorOverflowTypeButton\" size='small'\r\n                                                  style={{\r\n                                                      padding: 3\r\n                                                  }}\r\n                                    >\r\n                                        Hide\r\n                                    </ToggleButton>\r\n                                    <ToggleButton value=\"auto\" className=\"InspectorOverflowTypeButton\" size='small'\r\n                                                  style={{\r\n                                                      padding: 3\r\n                                                  }}\r\n                                    >\r\n                                        Auto\r\n                                    </ToggleButton>\r\n                                    <ToggleButton value=\"always\" className=\"InspectorOverflowTypeButton\" size='small'\r\n                                                  style={{\r\n                                                      padding: 3\r\n                                                  }}\r\n                                    >\r\n                                        Show\r\n                                    </ToggleButton>\r\n                                </ToggleButtonGroup>\r\n                            </>\r\n                        }\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\n\r\nexport default class TextInput extends React.Component {\r\n    onChange = (e) => {\r\n        let value = e.target.value;\r\n        if (this.props.onChange)\r\n            this.props.onChange(value);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <input\r\n                {...this.props}\r\n                className=\"NumberInput\"\r\n                value={this.props.value || \"\"}\r\n                onChange={this.onChange}\r\n                type=\"text\"\r\n                style={this.props.inputStyle}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport Switch from \"@material-ui/core/Switch/Switch\";\r\nimport TextInput from \"../../Menus/CommonComponents/TextInput\";\r\nimport InspectorTitle from \"./InspectorTitle\";\r\n\r\nexport default class InspectorAnchor extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            open: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    onEnableAnchor = (enable) => {\r\n        let {item} = this.props;\r\n        let anchor = item.getFromTempData(\"anchor\");\r\n        if (enable) {\r\n            item.props.anchorMan.addAnchor(item.props.id.replace(\"comp_\", ''), item);\r\n        }\r\n        else {\r\n            item.props.anchorMan.removeAnchor(anchor.id, item);\r\n        }\r\n    };\r\n\r\n    onChangeName = (newName) => {\r\n        let {item} = this.props;\r\n        let anchor = item.getFromTempData(\"anchor\");\r\n        item.props.anchorMan.modifyAnchor(anchor.id, newName, item);\r\n    };\r\n\r\n    render() {\r\n        let {item} = this.props;\r\n        let anchor = item.getFromTempData(\"anchor\");\r\n        return (\r\n            <>\r\n                <InspectorTitle title=\"Anchor\" onChange={(open) => {\r\n                    this.setState({open});\r\n                }}/>\r\n\r\n                {\r\n                    this.state.open &&\r\n                    <div className=\"InspectorOptionRoot\">\r\n\r\n                        <div className=\"InspectorOverflowDir\">\r\n                        <span className=\"InspectorOverflowDirTitle\">\r\n                            Enable Anchor\r\n                        </span>\r\n                            <Switch\r\n                                className=\"InspectorOverflowDirSwitch\"\r\n                                checked={anchor !== undefined}\r\n                                onChange={(e) => {\r\n                                    this.onEnableAnchor(e.target.checked);\r\n                                }}\r\n                            />\r\n                        </div>\r\n\r\n                        {\r\n                            anchor &&\r\n                            <div className=\"InspectorAnchorName\">\r\n                                <div className=\"InspectorAnchorNameTitle\">\r\n                                    Anchor name\r\n                                </div>\r\n                                <TextInput\r\n                                    value={anchor.name}\r\n                                    onChange={(v) => this.onChangeName(v)}\r\n                                    inputStyle={{\r\n                                        width: \"auto\",\r\n                                        textAlign: \"left\"\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport {rotate} from \"../../AwesomwGridLayoutHelper\";\r\nimport InspectorTitle from \"./InspectorTitle\";\r\nimport NumberInputWithUnit from \"../../Menus/CommonComponents/NumberInputWithUnit\";\r\n\r\nexport default class InspectorAdjustment extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            open: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    onRotationChange = (degree) => {\r\n        console.warn(\"onRotationChange\", degree)\r\n        let {item} = this.props;\r\n\r\n        rotate(item, degree);\r\n    };\r\n\r\n    render() {\r\n        let {item} = this.props;\r\n        let rotate = item.getFromData(\"transform.rotateDegree\");\r\n        return (\r\n            <>\r\n                <InspectorTitle title=\"Adjust\" onChange={(open) => {\r\n                    this.setState({open});\r\n                }}/>\r\n\r\n                {\r\n                    this.state.open &&\r\n                    <div className=\"InspectorOptionRoot\">\r\n                        <div className=\"InspectorAdjustRotate\">\r\n                            <span className=\"InspectorOverflowDirTitle\">\r\n                                Rotate\r\n                            </span>\r\n                            <NumberInputWithUnit\r\n                                min={0}\r\n                                max={360}\r\n                                value={rotate || 0}\r\n                                onChange={(value) => {\r\n                                    this.onRotationChange(value);\r\n                                }}\r\n                                units={[\"\"]}\r\n                                unit={\"\"}\r\n                                inputStyle={{\r\n                                    width: 64,\r\n                                    fontSize: 12\r\n                                }}\r\n                                unitButtonStyle={{\r\n                                    fontSize: 11\r\n                                }}\r\n                                disableUnit\r\n                            />\r\n                        </div>\r\n\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {assignData, cloneObject} from \"../../AwesomeGridLayoutUtils\";\r\nimport {getCompositeDesignData, setDataInBreakpoint} from \"../../AwesomwGridLayoutHelper\";\r\nimport InspectorBreadcrumbs from \"../../Test/Inspector/InspectorBreadcrumbs\";\r\nimport InspectorAligns from \"../../Test/Inspector/InspectorAligns\";\r\nimport InspectorSize from \"../../Test/Inspector/InspectorSize\";\r\nimport InspectorPosition from \"../../Test/Inspector/InspectorPosition\";\r\nimport InspectorScroll from \"../../Test/Inspector/InspectorScroll\";\r\nimport InspectorPadding from \"../../Test/Inspector/InspectorPadding\";\r\nimport InspectorOverflow from \"../../Test/Inspector/InspectorOverflow\";\r\nimport InspectorAnchor from \"../../Test/Inspector/InspectorAnchor\";\r\nimport InspectorAdjustment from \"../../Test/Inspector/InspectorAdjustment\";\r\n\r\nexport default class AGLComponent extends React.Component{\r\n    constructor (props) {\r\n        super(props);\r\n    }\r\n\r\n    resolveDesignData = () => {\r\n        // Must Override\r\n    };\r\n\r\n    getData = () => {\r\n        let componentData = this.getDefaultData && this.getDefaultData();\r\n        let componentBpData = componentData.bpData;\r\n        componentData = assignData(componentData, cloneObject(this.props.data));\r\n        if (componentBpData) {\r\n            let tempBpData = componentData.bpData;\r\n            componentData.bpData = assignData(componentBpData, tempBpData);\r\n        }\r\n\r\n        return componentData;\r\n    };\r\n\r\n    getAgl = () => {\r\n        return this.props.aglRef.current;\r\n    };\r\n\r\n    onDesignChange = (designKey, value) => {\r\n        console.log(\"onDesignChange\", designKey, value)\r\n        setDataInBreakpoint(designKey, value, this.getAgl(), true, undefined, true);\r\n        this.updateDesign(getCompositeDesignData(this.getAgl()));\r\n    };\r\n\r\n    getInspector = () => {\r\n        if (this.getInspectorOverride)\r\n            return this.getInspectorOverride();\r\n        return (\r\n            <>\r\n                <InspectorBreadcrumbs\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAligns\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorSize\r\n                    item={this.getAgl()}\r\n                    widthUnits={[\"auto\", \"%\", \"px\", \"vh\", \"vw\"]}\r\n                    heightUnits={[\"auto\", \"%\", \"px\", \"vh\", \"vw\"]}\r\n                    minWidthUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    minHeightUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    maxWidthUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    maxHeightUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                />\r\n                <InspectorOverflow\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorPosition\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorScroll\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorPadding\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAdjustment\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAnchor\r\n                    item={this.getAgl()}\r\n                />\r\n            </>\r\n        )\r\n    };\r\n}\r\n","import React from \"react\";\r\nimport './MenuBase.css';\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\n\r\nexport default class MenuButton extends React.Component {\r\n    componentDidMount(){\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.mounted = false;\r\n    }\r\n\r\n    onClick = (e) => {\r\n        let {menu} = this.props;\r\n        this.props.select.updateMenu((typeof menu === \"function\") ? menu(e) : menu);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <IconButton\r\n                onClick={this.onClick}\r\n            >\r\n                {\r\n                    this.props.icon\r\n                }\r\n                {\r\n                    this.props.children\r\n                }\r\n            </IconButton>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './MenuBase.css';\r\nimport '../../HelperStyle.css';\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\n\r\nexport default class MenuBaseIndexTitle extends React.Component {\r\n    render () {\r\n        return (\r\n            <div\r\n                className=\"MenuBaseIndexTitle\"\r\n            >\r\n                <ButtonBase\r\n                    disableRipple={!this.props.onIndexClick}\r\n                    onClick={(e) => {\r\n                        this.props.onIndexClick &&\r\n                        this.props.onIndexClick(e, this.props.title, this.props.index)\r\n                    }}\r\n                >\r\n                    <span>\r\n                        {this.props.title}\r\n                    </span>\r\n                </ButtonBase>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nconst LightTooltip = withStyles(theme => ({\r\n    tooltip: {\r\n        backgroundColor: \"#fff\",\r\n        color: '#000000',\r\n        boxShadow: theme.shadows[1],\r\n        fontSize: 14,\r\n    },\r\n}))(Tooltip);\r\n\r\nexport default LightTooltip\r\n\r\nexport const LightMenuTooltip = withStyles(theme => ({\r\n    tooltip: {\r\n        backgroundColor: \"#fff\",\r\n        color: '#000000',\r\n        boxShadow: '0px 5px 5px -3px rgba(0,0,0,0.2), 0px 8px 10px 1px rgba(0,0,0,0.14), 0px 3px 14px 2px rgba(0,0,0,0.12)',\r\n        fontSize: 14,\r\n        padding: 0\r\n    },\r\n}))(Tooltip);\r\n","import React from \"react\";\r\nimport './MenuBase.css';\r\nimport Draggable from 'react-draggable';\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport '../../HelperStyle.css';\r\nimport MenuBaseIndexTitle from \"./MenuBaseIndexTitle\";\r\nimport LightTooltip from \"../../Components/Containers/Menus/Components/LightTooltip\";\r\n\r\nexport default class MenuBase extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedIndexNo: props.defaultIndexNo\r\n        }\r\n    }\r\n\r\n    close = () => {\r\n        this.props.select.updateMenu();\r\n    };\r\n\r\n    onIndexClick = (e, key, selectedIndexNo) => {\r\n        this.setState({selectedIndexNo})\r\n    };\r\n\r\n    getDefaultPos = (defaultPosition) => {\r\n        return {\r\n            y: Math.min(defaultPosition.y, window.innerHeight - 398),\r\n            x: Math.min(defaultPosition.x, window.innerWidth - 300),\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <Draggable\r\n                handle=\".MenuBaseHeaderTitle\"\r\n                bounds=\"parent\"\r\n                defaultPosition={this.getDefaultPos(this.props.defaultPosition)}\r\n            >\r\n                <div\r\n                    className=\"MenuBaseRoot\"\r\n                    style={this.props.styles.root}\r\n                >\r\n                    {/*Header*/}\r\n                    <div\r\n                        className=\"MenuBaseHeaderContainer\"\r\n                    >\r\n                        <span className=\"MenuBaseHeaderTitle\">\r\n                            {this.props.menuTitle || \"Menu Title\"}\r\n                        </span>\r\n\r\n                        <IconButton\r\n                            onClick={this.close}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={16}\r\n                                height={16}\r\n                                src={require('../../icons/close.svg')}\r\n                            />\r\n                        </IconButton>\r\n                    </div>\r\n\r\n                    {/*Body*/}\r\n                    <div\r\n                        className=\"MenuBaseBodyContainer\"\r\n                    >\r\n                        <div className=\"MenuBaseBodyIndex\">\r\n                            {\r\n                                this.props.index.map((indexData, i) => {\r\n                                    return (\r\n                                        <LightTooltip\r\n                                            key={i}\r\n                                            title={indexData.key}\r\n                                            PopperProps={{\r\n                                                style: {\r\n                                                    zIndex: 999999999999999\r\n                                                }\r\n                                            }}\r\n                                            placement=\"right\"\r\n                                        >\r\n                                            <div\r\n                                                key={i}\r\n                                                style={{\r\n                                                    backgroundColor: this.state.selectedIndexNo === i &&\r\n                                                        'rgba(115, 115, 115, 0.36)'\r\n                                                }}\r\n                                            >\r\n                                                <IconButton\r\n                                                    key={indexData.key}\r\n                                                    onClick={(e) => {\r\n                                                        this.onIndexClick(e, indexData.key, i);\r\n                                                    }}\r\n                                                    buttonBaseStyle={{\r\n                                                        marginLeft: 0\r\n                                                    }}\r\n                                                >\r\n                                                    {indexData.icon}\r\n                                                </IconButton>\r\n                                            </div>\r\n                                        </LightTooltip>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </div>\r\n                        <div className=\"MenuBaseBodyOptions\">\r\n                            {\r\n                                this.state.selectedIndexNo !== undefined &&\r\n                                <MenuBaseIndexTitle\r\n                                    index={this.state.selectedIndexNo}\r\n                                    key={this.props.options[this.state.selectedIndexNo].key}\r\n                                    title={this.props.options[this.state.selectedIndexNo].key}\r\n                                />\r\n                            }\r\n                            {\r\n                                this.state.selectedIndexNo !== undefined &&\r\n                                this.props.options[this.state.selectedIndexNo].render\r\n                            }\r\n                            {\r\n                                this.state.selectedIndexNo === undefined &&\r\n                                this.props.options.map((option, i) => {\r\n                                    return (\r\n                                        <MenuBaseIndexTitle\r\n                                            index={i}\r\n                                            key={option.key}\r\n                                            title={option.key}\r\n                                            onIndexClick={this.onIndexClick}\r\n                                        />\r\n                                    )\r\n                                })\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Draggable>\r\n        )\r\n    }\r\n}\r\n\r\nMenuBase.defaultProps = {\r\n    styles: {}\r\n};\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\nimport RCSlider from 'rc-slider';\r\n\r\nexport default class Slider extends React.Component {\r\n    render () {\r\n        return (\r\n            <RCSlider\r\n                {...this.props}\r\n                min={this.props.min}\r\n                max={this.props.max}\r\n                step={this.props.step}\r\n                value={this.props.value}\r\n                onChange={this.props.onChange}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\nimport Slider from \"./Slider\";\r\nimport NumberInput from \"./NumberInput\";\r\n\r\nexport default class SliderInputControlled extends React.Component {\r\n    onChange = (value) => {\r\n        this.props.onDesignChange &&\r\n        this.props.onDesignChange(this.props.designKey, value);\r\n\r\n        this.props.onChange &&\r\n        this.props.onChange(value);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <Slider\r\n                    className=\"BorderWidthSlider\"\r\n                    style={{ marginRight: 24 }}\r\n                    min={this.props.min}\r\n                    max={this.props.max}\r\n                    value={this.props.value}\r\n                    onChange={this.onChange}\r\n                    handleStyle={{\r\n                        marginLeft: 7\r\n                    }}\r\n                />\r\n\r\n                <NumberInput\r\n                    className=\"BorderWidthInput\"\r\n                    min={this.props.min}\r\n                    max={this.props.max}\r\n                    value={this.props.value}\r\n                    onChange={this.onChange}\r\n                />\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\n\r\nexport default class Image extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            src: props.src,\r\n            hasError: false,\r\n        };\r\n    }\r\n\r\n    onError = (e) => {\r\n        if (!this.state.hasError) {\r\n            let {errorsrc} = this.props;\r\n            this.setState({\r\n                src: errorsrc,\r\n                hasError: true,\r\n            });\r\n        }\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <img\r\n                {...this.props}\r\n                // onError={this.onError}\r\n                src={this.state.src/* || this.props.errorsrc*/}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ReactDOM from 'react-dom';\r\n\r\nclass Portal extends React.Component {\r\n    componentWillUnmount() {\r\n        if (this.defaultNode) {\r\n            document.body.removeChild(this.defaultNode);\r\n        }\r\n        this.defaultNode = null;\r\n    }\r\n\r\n    canUseDOM = !!(\r\n        typeof window !== 'undefined' &&\r\n        window.document &&\r\n        window.document.createElement\r\n    );\r\n\r\n    render() {\r\n        if (!this.canUseDOM) {\r\n            return null;\r\n        }\r\n        let node = this.props.node;\r\n        if (this.props.disabled) {\r\n            return this.props.children;\r\n        }\r\n        if (this.props.nodeId) {\r\n            node = document && document.getElementById(this.props.nodeId);\r\n        }\r\n        if (!node && !this.defaultNode) {\r\n            this.defaultNode = document.createElement('div');\r\n            document.body.appendChild(this.defaultNode);\r\n        }\r\n        return ReactDOM.createPortal(\r\n            this.props.children,\r\n            node || this.defaultNode\r\n        );\r\n    }\r\n}\r\n\r\nPortal.propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    node: PropTypes.any\r\n};\r\n\r\nexport default Portal;\r\n","import React from \"react\";\r\nimport './ThemeManager.css';\r\nimport './ThemeColorPicker.css';\r\n// import {SketchPicker} from \"react-color\";\r\nimport SketchPicker from \"react-color/lib/components/sketch/Sketch\";\r\nimport Portal from \"../../Portal\";\r\n\r\nexport default class HexColorPicker extends React.Component {\r\n    onChangeComplete = (color) => {\r\n        this.props.onChangeComplete(color.hex);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <Portal node={document.body}>\r\n                <div style={ {\r\n                    position: 'fixed',\r\n                    top: '0px',\r\n                    right: '0px',\r\n                    bottom: '0px',\r\n                    left: '0px',\r\n                    zIndex: 999999999999\r\n                }} onClick={ this.props.onClose }/>\r\n                <div style={{\r\n                    position: 'absolute',\r\n                    left: \"50%\",\r\n                    top: \"50%\",\r\n                    transform: \"translate(-50%, -50%)\",\r\n                    zIndex: 999999999999\r\n                }}>\r\n                    <SketchPicker\r\n                        color={this.props.color}\r\n                        onChangeComplete={ this.onChangeComplete }\r\n                        disableAlpha={this.props.disableAlpha}\r\n                        width={this.props.width || 224}\r\n                    />\r\n                </div>\r\n            </Portal>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './ThemeManager.css';\r\nimport './ThemeColorPicker.css';\r\nimport Image from \"../../Menus/CommonComponents/Image\";\r\nimport Draggable from \"react-draggable\";\r\nimport Portal from \"../../Portal\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport chroma from \"chroma-js\";\r\nimport HexColorPicker from \"./HexColorPicker\";\r\nimport {parseColor} from \"../../AwesomwGridLayoutHelper\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nconst colorKeys = [\r\n    \"1\",\"2\",\"3\",\"4\",\"5\",\r\n];\r\n\r\nexport default class ThemeColorPicker extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            color: props.color\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n    getDefaultPos = (defaultPosition) => {\r\n        return {\r\n            y: Math.min(defaultPosition.y, window.innerHeight - 398),\r\n            x: Math.min(defaultPosition.x, window.innerWidth - 300),\r\n        }\r\n    };\r\n\r\n    onSelectColor = (color) => {\r\n        this.setState({color});\r\n        this.props.onChangeComplete && this.props.onChangeComplete(color);\r\n    };\r\n\r\n    onAddColor = (color) => {\r\n        let siteData = this.context.siteData;\r\n        if (!siteData.myColors.find(c => c === color))\r\n            siteData.myColors.unshift(color);\r\n\r\n        siteData.myColors = siteData.myColors.slice(0, 17);\r\n\r\n        this.onSelectColor(color);\r\n        this.context.update();\r\n    };\r\n\r\n    onAddColorClick = () => {\r\n        this.setState({addColor: true});\r\n    };\r\n\r\n    render() {\r\n        let {editor} = this.context;\r\n        let siteData = this.context.siteData;\r\n        let themeColorCategoryItems = siteData.theme.Colors.items;\r\n        return (\r\n            <Portal node={document.body}>\r\n                <div style={{\r\n                    position: 'fixed',\r\n                    top: '0px',\r\n                    right: '0px',\r\n                    bottom: '0px',\r\n                    left: '0px',\r\n                    zIndex: 999999999999999\r\n                }}>\r\n                    <div style={{\r\n                        position: 'absolute',\r\n                        top: '0px',\r\n                        right: '0px',\r\n                        bottom: '0px',\r\n                        left: '0px',\r\n                    }} onClick={ (e) => this.props.onClose && this.props.onClose() }/>\r\n\r\n                    <Draggable\r\n                        handle=\".ThemeColorPickerHeaderTitle\"\r\n                        bounds=\"parent\"\r\n                        defaultPosition={this.getDefaultPos(this.props.defaultPosition)}\r\n                    >\r\n                        <div className=\"ThemeColorPickerRoot\"\r\n                             style={{\r\n                                 zIndex: 99999999999999999,\r\n                             }}>\r\n                            <div className=\"ThemeColorPickerHeaderRoot\">\r\n                                <div className=\"ThemeColorPickerHeaderTitle\">\r\n                                    Color Picker\r\n                                </div>\r\n\r\n                                <IconButton\r\n                                    onClick={(e) => this.props.onClose && this.props.onClose()}\r\n                                    className=\"ThemeColorPickerHeaderClose\"\r\n                                >\r\n                                    <img\r\n                                        draggable={false}\r\n                                        width={16}\r\n                                        height={16}\r\n                                        src={require('../../icons/close.svg')}\r\n                                    />\r\n                                </IconButton>\r\n                            </div>\r\n\r\n                            <div className=\"ThemeColorPickerSiteColorTitle\">\r\n                                Site Colors\r\n                                <div className=\"ThemeColorPickerSiteColorEdit\">\r\n                                    Edit\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"ThemeColorPickerSiteColorGrid\">\r\n                                {\r\n                                    colorKeys.map(key => {\r\n                                        return (\r\n                                            Object.values(themeColorCategoryItems).map(item => {\r\n                                               return (\r\n                                                   <div\r\n                                                       key={item.name + key}\r\n                                                       className={`ThemeColorPickerSiteColorItem ${\r\n                                                           parseColor(this.state.color, undefined, this.context) ===\r\n                                                           this.context.getColor(item.name, key) ?\r\n                                                               \"ThemeColorPickerSiteColorItemSelected\": ''\r\n                                                           }`}\r\n                                                       style={{\r\n                                                           backgroundColor:\r\n                                                               this.context.getColor(item.name, key)\r\n                                                       }}\r\n                                                       onClick={(e) => {\r\n                                                           this.onSelectColor(\r\n                                                               {\r\n                                                                   paletteName: item.name,\r\n                                                                   key: key\r\n                                                               }\r\n                                                           )\r\n                                                       }}\r\n                                                   >\r\n\r\n                                                   </div>\r\n                                               )\r\n                                            })\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"ThemeColorPickerSiteColorTitle\">\r\n                                My Colors\r\n                            </div>\r\n\r\n                            <div className=\"ThemeColorPickerMyColorGrid\">\r\n                                <div className=\"ThemeColorPickerMyColorItemAdd\" onClick={this.onAddColorClick}>\r\n                                    <Image\r\n                                        width={10}\r\n                                        height={10}\r\n                                        src={process.env.PUBLIC_URL + '/static/icon/add.svg'}\r\n                                    />\r\n                                </div>\r\n\r\n                                {\r\n                                    Object.values(siteData.myColors).map(color => {\r\n                                        return (\r\n                                            <div className={`ThemeColorPickerMyColorItem ${\r\n                                                    this.state.color === color ?\r\n                                                        \"ThemeColorPickerMyColorItemSelected\": ''\r\n                                                    }`}\r\n                                                 key={color}\r\n                                                 style={{\r\n                                                backgroundColor: color\r\n                                            }}\r\n                                                 onClick={(e) => {\r\n                                                     this.onSelectColor(\r\n                                                         color\r\n                                                     )\r\n                                                 }}\r\n                                            />\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n\r\n\r\n\r\n                            <div className=\"ThemeColorPickerSiteColorTitle\">\r\n                                <div className=\"ThemeColorPickerSiteColorHexTitle\">\r\n                                    <div className=\"ThemeColorPickerSiteColorHexAddColor\" onClick={this.onAddColorClick}>\r\n                                        Add Color\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"ThemeColorPickerSiteColorHex\">\r\n                                    {chroma(parseColor(this.state.color, 1, this.context)).hex()}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Draggable>\r\n\r\n                    {/*{\r\n                        this.state.addColor &&\r\n                        <>\r\n                            <div style={ {\r\n                                position: 'fixed',\r\n                                top: '0px',\r\n                                right: '0px',\r\n                                bottom: '0px',\r\n                                left: '0px',\r\n                                backgroundColor: 'rgba(0, 0, 0, 0.2)'\r\n                            }} onClick={ () => this.setState({addColor: undefined}) }/>\r\n                            <div style={{\r\n                                position: 'absolute',\r\n                                left: \"50%\",\r\n                                top: \"50%\",\r\n                                transform: \"translate(-50%, -50%)\",\r\n                                zIndex: '2',\r\n                            }}>\r\n                                <SketchPicker\r\n                                    color={this.state.color}\r\n                                    onChangeComplete={ this.onAddColor }\r\n                                    disableAlpha={this.props.disableAlpha}\r\n                                    width={224}\r\n                                />\r\n                            </div>\r\n                        </>\r\n                    }*/}\r\n                    {\r\n                        this.state.addColor &&\r\n                        <HexColorPicker\r\n                            onClose={() => this.setState({addColor: undefined})}\r\n                            color={this.state.color}\r\n                            onChangeComplete={ this.onAddColor }\r\n                            disableAlpha={this.props.disableAlpha}\r\n                            width={224}\r\n                        />\r\n                    }\r\n                </div>\r\n            </Portal>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\nimport SliderInputControlled from \"./SliderInputControlled\";\r\nimport ThemeColorPicker from \"../../Test/Theme/ThemeColorPicker\";\r\nimport chroma from \"chroma-js\";\r\nimport {parseColor} from \"../../AwesomwGridLayoutHelper\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class ColorPicker extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor (props) {\r\n        super(props);\r\n\r\n        this.state = {};\r\n\r\n        this.lastValue = props.color || 'rgba(0,0,0,0)';\r\n    }\r\n\r\n    getRgbA = (value) => {\r\n        if (!value)\r\n            return;\r\n\r\n        if (value instanceof Object) {\r\n            value = this.context.getColor(value.paletteName, value.key);\r\n        }\r\n\r\n        let color = chroma(value);\r\n        return {\r\n            r: color.rgba()[0],\r\n            g: color.rgba()[1],\r\n            b: color.rgba()[2],\r\n            a: color.rgba()[3]\r\n        }\r\n    };\r\n\r\n    handleClick = (e) => {\r\n        if (this.state.displayColorPicker)\r\n            this.setState({ displayColorPicker: false });\r\n        else\r\n            this.setState({ displayColorPicker: e.target })\r\n    };\r\n\r\n    handleClose = () => {\r\n        this.setState({ displayColorPicker: false })\r\n    };\r\n\r\n    handleChangeComplete = (color) => {\r\n        if (color instanceof Object) {\r\n            console.log(\"handlehangeComplete1 this.lastValue\", this.lastValue, parseColor(this.lastValue, this.lastValue.alpha, this.context));\r\n            color.alpha = chroma(parseColor(this.lastValue, this.lastValue.alpha, this.context)).alpha();\r\n            console.log(\"handlehangeComplete1 alpha\", color.alpha);\r\n            this.lastValue = color;\r\n            // color.alpha = chroma(parseColor(color, undefined, this.context)).alpha();\r\n            this.props.onDesignChange(this.props.designKey, color);\r\n            return;\r\n        }\r\n\r\n        console.log(\"handleChangeComplete\", this.getColorAndAlpha().alpha)\r\n        let alpha = this.getColorAndAlpha().alpha || 100;\r\n\r\n        let value = this.lastValue = chroma(color).alpha(alpha / 100).css();\r\n\r\n        this.props.onDesignChange(this.props.designKey, value);\r\n    };\r\n\r\n    getColorAndAlpha = () => {\r\n        let result = {\r\n            color: chroma(parseColor(this.props.color, 1, this.context)).alpha(0).hex(),\r\n            alpha: chroma(parseColor(this.props.color, this.props.color && this.props.color.alpha, this.context)).alpha() * 100\r\n        };\r\n\r\n        return result;\r\n    };\r\n\r\n    handleAlphaChange = (alpha) => {\r\n        if (this.lastValue instanceof Object) {\r\n            this.lastValue.alpha = alpha / 100;\r\n        } else {\r\n            this.lastValue = chroma(this.lastValue).alpha(alpha / 100).css();\r\n        }\r\n        this.props.onDesignChange(this.props.designKey, this.lastValue);\r\n    };\r\n\r\n    render () {\r\n        let {color, alpha} = this.getColorAndAlpha();\r\n        return (\r\n                <div className=\"CommonMenuRoot ColorPickerRoot\">\r\n                    <ButtonBase\r\n                        style={{\r\n                            background: `url(${process.env.PUBLIC_URL}'/static/icon/transparency.png')`,\r\n                        }}\r\n                        className=\"ColorPickerRGB\"\r\n                        onClick={ this.handleClick }\r\n                    >\r\n                        <div\r\n                            style={{\r\n                                background: parseColor(this.props.color, alpha/100, this.context),\r\n                            }}\r\n                        />\r\n                    </ButtonBase>\r\n\r\n                    <div\r\n                        className=\"ColorPickerAlpha\"\r\n                    >\r\n                        <SliderInputControlled\r\n                            min={0}\r\n                            max={100}\r\n                            value={alpha || 0}\r\n                            onChange={this.handleAlphaChange}\r\n                        />\r\n                    </div>\r\n                    {\r\n                        this.state.displayColorPicker &&\r\n                            <ThemeColorPicker\r\n                                color={color}\r\n                                onClose={this.handleClose}\r\n                                onChangeComplete={ this.handleChangeComplete }\r\n                                disableAlpha\r\n                                editor={this.props.editor}\r\n                                defaultPosition={\r\n                                    this.state.displayColorPicker.getBoundingClientRect()\r\n                                }\r\n                            />\r\n                    }\r\n                </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../../Menus/Menu.css';\r\nimport ColorPicker from \"../../../../Menus/CommonComponents/ColorPicker\";\r\n\r\nexport default class Background extends React.Component {\r\n    render () {\r\n        return (\r\n            <div className=\"MenuOptionSection\">\r\n                <p className=\"MenuOptionSectionTitle\">Background</p>\r\n\r\n                <ColorPicker\r\n                    color={this.props.color}\r\n                    designKey={this.props.designKey}\r\n                    onDesignChange={this.props.onDesignChange}\r\n                    editor={this.props.editor}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\n\r\nexport default class Divider extends React.Component {\r\n    render () {\r\n        return (\r\n            <div className=\"Divider\" style={this.props.style}>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\nimport Slider from \"./Slider\";\r\nimport NumberInput from \"./NumberInput\";\r\n\r\nexport default class SliderInput extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    onChange = (value) => {\r\n        this.props.onDesignChange &&\r\n        this.props.onDesignChange(this.props.designKey, value);\r\n\r\n        this.props.onChange &&\r\n        this.props.onChange(value);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <Slider\r\n                    className=\"BorderWidthSlider\"\r\n                    style={{ marginRight: 24 }}\r\n                    step={this.props.step}\r\n                    min={this.props.min}\r\n                    max={this.props.max}\r\n                    value={this.props.value || 0}\r\n                    onChange={this.onChange}\r\n                    handleStyle={{\r\n                        marginLeft: 7\r\n                    }}\r\n                />\r\n\r\n                <NumberInput\r\n                    className=\"BorderWidthInput\"\r\n                    min={this.props.min}\r\n                    max={this.props.max}\r\n                    value={this.props.value || 0}\r\n                    onChange={this.onChange}\r\n                />\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../../Menus/Menu.css';\r\nimport ColorPicker from \"../../../../Menus/CommonComponents/ColorPicker\";\r\nimport 'rc-slider/assets/index.css';\r\nimport '../style.css';\r\nimport Divider from \"../../../../Menus/CommonComponents/Divider\";\r\nimport SliderInput from \"../../../../Menus/CommonComponents/SliderInput\";\r\n\r\nexport default class Border extends React.Component {\r\n    render () {\r\n        return (\r\n            <>\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Opacity & Color</p>\r\n\r\n                    <ColorPicker\r\n                        color={this.props.border.color}\r\n                        designKey={`${this.props.designKey}.color`}\r\n                        onDesignChange={this.props.onDesignChange}\r\n                        editor={this.props.editor}\r\n                    />\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Width (px)</p>\r\n\r\n                    <div\r\n                        className=\"BorderWidth\"\r\n                    >\r\n                        <SliderInput\r\n                            className=\"BorderWidthSlider\"\r\n                            min={0}\r\n                            max={15}\r\n                            value={this.props.border.width}\r\n                            designKey={`${this.props.designKey}.width`}\r\n                            onDesignChange={this.props.onDesignChange}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../../Menus/Menu.css';\r\nimport NumberInput from \"../../../../Menus/CommonComponents/NumberInput\";\r\nimport IconButton from \"../../../../HelperComponents/IconButton\";\r\nimport {cloneObject} from \"../../../../AwesomeGridLayoutUtils\";\r\n\r\nexport default class Corners extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            radius: cloneObject(props.radius),\r\n            link: true\r\n        }\r\n    }\r\n\r\n    onChange = (value, side) => {\r\n        let radius = this.state.radius;\r\n        let changeSide = [side];\r\n        if (this.state.link)\r\n            changeSide = [\"topLeft\", \"topRight\", \"bottomLeft\", \"bottomRight\"];\r\n        changeSide.forEach(_side => {\r\n            radius[_side] = value;\r\n            this.props.onDesignChange(`${this.props.designKey}.${_side}`, value);\r\n        });\r\n        this.setState({radius});\r\n    };\r\n\r\n    onLinkClick = () => {\r\n        this.setState({link: !this.state.link});\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"MenuOptionSection\">\r\n                <p className=\"MenuOptionSectionTitle\">Radius (px)</p>\r\n\r\n                <div className=\"CornersRow\">\r\n                    <div className=\"CornersRowInput\">\r\n                        <NumberInput\r\n                            min={0}\r\n                            max={999}\r\n                            value={this.state.radius[\"topLeft\"]}\r\n                            onChange={(v) => this.onChange(v, \"topLeft\")}\r\n                        />\r\n                    </div>\r\n                    <div className=\"CornersRowInput\" style={{direction: \"rtl\"}}>\r\n                        <NumberInput\r\n                            min={0}\r\n                            max={999}\r\n                            value={this.state.radius[\"topRight\"]}\r\n                            onChange={(v) => this.onChange(v, \"topRight\")}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <div style={{position: \"relative\"}}>\r\n                    <div className=\"CornersRow\">\r\n                        <div className=\"CornersRowShowTopLeft\"\r\n                             style={{\r\n                                 borderTopLeftRadius: this.state.radius[\"topLeft\"]\r\n                             }}\r\n                        />\r\n                        <div className=\"CornersRowShowTopRight\"\r\n                             style={{\r\n                                 borderTopRightRadius: this.state.radius[\"topRight\"]\r\n                             }}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"CornersRow\">\r\n                        <div className=\"CornersRowShowBottomLeft\"\r\n                             style={{\r\n                                 borderBottomLeftRadius: this.state.radius[\"bottomLeft\"]\r\n                             }}\r\n                        />\r\n                        <div className=\"CornersRowShowBottomRight\"\r\n                             style={{\r\n                                 borderBottomRightRadius: this.state.radius[\"bottomRight\"]\r\n                             }}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"CornersLink\">\r\n                        <IconButton\r\n                            buttonBaseStyle={{\r\n                                marginLeft: 0\r\n                            }}\r\n                            onClick={this.onLinkClick}\r\n                        >\r\n                            {\r\n                                this.state.link &&\r\n                                <img draggable={false} width={24} height={24}\r\n                                     src={require('../../../../icons/chain.svg')} />\r\n                            }\r\n                            {\r\n                                !this.state.link &&\r\n                                <img draggable={false} width={24} height={24}\r\n                                     src={require('../../../../icons/unlink.svg')} />\r\n                            }\r\n                        </IconButton>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"CornersRow\">\r\n                    <div className=\"CornersRowInput\">\r\n                        <NumberInput\r\n                            min={0}\r\n                            max={999}\r\n                            value={this.state.radius[\"bottomLeft\"]}\r\n                            onChange={(v) => this.onChange(v, \"bottomLeft\")}\r\n                        />\r\n                    </div>\r\n                    <div className=\"CornersRowInput\" style={{direction: \"rtl\"}}>\r\n                        <NumberInput\r\n                            min={0}\r\n                            max={999}\r\n                            value={this.state.radius[\"bottomRight\"]}\r\n                            onChange={(v) => this.onChange(v, \"bottomRight\")}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\n\r\nexport default class CircularSlider extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.rootDivRef = React.createRef();\r\n    }\r\n\r\n    onMouseDown = (e) => {\r\n        this.rect = this.rootDivRef.current.getBoundingClientRect();\r\n        window.addEventListener(\"pointermove\", this.onMouseMove);\r\n        window.addEventListener(\"pointerup\", this.onMouseUp);\r\n\r\n        let x = e.clientX;\r\n        let y = e.clientY;\r\n\r\n        let vx = x - (this.rect.left + this.rect.width / 2);\r\n        let vy = y - (this.rect.top + this.rect.height / 2);\r\n\r\n        let angle = - Math.atan2(vx, vy) * 180 / Math.PI;\r\n        if (angle < 0) {\r\n            angle = angle + 360;\r\n        }\r\n        this.props.onChange(angle);\r\n    };\r\n\r\n    onMouseMove = (e) => {\r\n        let x = e.clientX;\r\n        let y = e.clientY;\r\n\r\n        let vx = x - (this.rect.left + this.rect.width / 2);\r\n        let vy = y - (this.rect.top + this.rect.height / 2);\r\n\r\n        let angle = - Math.atan2(vx, vy) * 180 / Math.PI;\r\n        if (angle < 0) {\r\n            angle = angle + 360;\r\n        }\r\n        this.props.onChange(angle);\r\n    };\r\n\r\n    onMouseUp = (e) => {\r\n        window.removeEventListener(\"pointermove\", this.onMouseMove);\r\n        window.removeEventListener(\"pointerup\", this.onMouseUp);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <div\r\n                className={`CircularSliderRoot ${this.props.className}`}\r\n                style={{\r\n                    transform: `rotate(${this.props.value}deg)`\r\n                }}\r\n                onMouseDown={this.onMouseDown}\r\n                ref={this.rootDivRef}\r\n            >\r\n                <div\r\n                    className=\"CircularSliderBg\"\r\n                    style={{\r\n                        width: this.props.width || 90,\r\n                        height: this.props.width || 90\r\n                    }}\r\n                >\r\n                    <div\r\n                        className=\"CircularSliderLine\"\r\n                    />\r\n                    <div\r\n                        className=\"CircularSliderCenter\"\r\n                    />\r\n                    <div\r\n                        className=\"CircularSliderKnob\"\r\n                    />\r\n                </div>\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\nimport CircularSlider from \"./CircularSlider\";\r\nimport NumberInput from \"./NumberInput\";\r\n\r\nexport default class Angle extends React.Component {\r\n    onChange = (value) => {\r\n        if (this.props.loop && value === 360)\r\n            value = 0;\r\n\r\n        this.props.onChange(value.toFixed(0));\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"AngleRoot\">\r\n                <CircularSlider\r\n                    {...this.props}\r\n                    className=\"AngleSlider\"\r\n                    value={this.props.angle}\r\n                    onChange={this.onChange}\r\n                    min={0}\r\n                    max={360}\r\n                />\r\n\r\n                <NumberInput\r\n                    className=\"AngleInput\"\r\n                    min={0}\r\n                    max={360}\r\n                    value={this.props.angle}\r\n                    onChange={this.onChange}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../../Menus/Menu.css';\r\nimport '../style.css';\r\nimport Angle from \"../../../../Menus/CommonComponents/Angle\";\r\nimport Divider from \"../../../../Menus/CommonComponents/Divider\";\r\nimport SliderInput from \"../../../../Menus/CommonComponents/SliderInput\";\r\nimport ColorPicker from \"../../../../Menus/CommonComponents/ColorPicker\";\r\n\r\nconst deg2rad = Math.PI/180;\r\nconst rad2deg = 180/Math.PI;\r\nexport default class Shadow extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    onChange = (key, value) => {\r\n        let shadow = this.props.shadow;\r\n        shadow[key] = value;\r\n        this.setState({shadow});\r\n        this.props.onDesignChange(`${this.props.designKey}.${key}`, value);\r\n    };\r\n\r\n    getDegree = (xOffset, yOffset) => {\r\n        if (xOffset === undefined) xOffset = -1;\r\n        if (yOffset === undefined) yOffset = 1;\r\n        let ratio = (xOffset) / (yOffset);\r\n        let degree;\r\n        if (xOffset < 0 && yOffset > 0)\r\n            degree = - Math.atan( ratio ) * rad2deg;\r\n        if (xOffset < 0 && yOffset < 0)\r\n            degree = - Math.atan( ratio ) * rad2deg + 180;\r\n        if (xOffset > 0 && yOffset < 0)\r\n            degree = - Math.atan( ratio ) * rad2deg + 180;\r\n        if (xOffset > 0 && yOffset > 0)\r\n            degree = - Math.atan( ratio ) * rad2deg + 360;\r\n\r\n        return Math.round(degree);\r\n    };\r\n\r\n    getRatio = (degree) => {\r\n        return Math.tan( degree * deg2rad );\r\n    };\r\n\r\n    calcDegree = (degree) => {\r\n        let ratio = this.getRatio(degree);\r\n        let xO, yO;\r\n        if (ratio === 0) {\r\n            xO = 0;\r\n            yO = 1;\r\n        } else if (ratio === Infinity) {\r\n            xO = 1;\r\n            yO = 0;\r\n        } else {\r\n            xO = ratio;\r\n            yO = 1;\r\n            if (Math.abs(ratio) > 1) {\r\n                xO /= Math.abs(ratio);\r\n                yO /= Math.abs(ratio);\r\n            }\r\n        }\r\n        this.onChange(\"xOffset\", (degree <= 90 && degree >= 0) || (degree <= 360 && degree > 270)\r\n            ? -xO : xO);\r\n        this.onChange(\"yOffset\", (degree <= 90 && degree >= 0) || (degree <= 360 && degree > 270)\r\n            ? yO : -yO);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Angle</p>\r\n\r\n                    <div className=\"ShadowRoot\">\r\n                        <Angle\r\n                            className=\"ShadowAngle\"\r\n                            angle={this.getDegree(this.props.shadow.xOffset , this.props.shadow.yOffset)}\r\n                            onChange={this.calcDegree}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Distance (px)</p>\r\n\r\n                    <div\r\n                        className=\"BorderWidth\"\r\n                    >\r\n                        <SliderInput\r\n                            className=\"BorderWidthSlider\"\r\n                            min={0}\r\n                            max={50}\r\n                            value={this.props.shadow.distance}\r\n                            designKey={`${this.props.designKey}.distance`}\r\n                            onDesignChange={this.props.onDesignChange}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Size (px)</p>\r\n\r\n                    <div\r\n                        className=\"BorderWidth\"\r\n                    >\r\n                        <SliderInput\r\n                            className=\"BorderWidthSlider\"\r\n                            min={0}\r\n                            max={50}\r\n                            value={this.props.shadow.size}\r\n                            designKey={`${this.props.designKey}.size`}\r\n                            onDesignChange={this.props.onDesignChange}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Blur (px)</p>\r\n\r\n                    <div\r\n                        className=\"BorderWidth\"\r\n                    >\r\n                        <SliderInput\r\n                            className=\"BorderWidthSlider\"\r\n                            min={0}\r\n                            max={50}\r\n                            value={this.props.shadow.blur}\r\n                            designKey={`${this.props.designKey}.blur`}\r\n                            onDesignChange={this.props.onDesignChange}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Opacity & Color</p>\r\n\r\n                    <ColorPicker\r\n                        color={this.props.shadow.color}\r\n                        designKey={`${this.props.designKey}.color`}\r\n                        onDesignChange={this.props.onDesignChange}\r\n                        editor={this.props.editor}\r\n                    />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport Background from \"./Components/Background\";\r\nimport Border from \"./Components/Border\";\r\nimport Corners from \"./Components/Corners\";\r\nimport Shadow from \"./Components/Shadow\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class BorderDesign extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    getIndex = () => {\r\n        return [\r\n            {\r\n                key: \"Fill Color & Opacity\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/water.svg'} />\r\n            },\r\n            {\r\n                key: \"Border\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/border.svg'} />\r\n            },\r\n            {\r\n                key: \"Corner\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/corner.svg'} />\r\n            },\r\n            {\r\n                key: \"Shadow\",\r\n                icon: <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" className=\"symbol symbol-shadowDesign\">\r\n                    <path fillRule=\"evenodd\"\r\n                          d=\"M11.5 14.5h-8v-2h8c.55 0 1-.45 1-1v-9h2v9c0 1.65-1.35 3-3 3zm-3-4h-7c-1.1 0-2-.9-2-2v-7c0-1.1.9-2 2-2h7c1.1 0 2 .9 2 2v7c0 1.1-.9 2-2 2z\"/>\r\n                </svg>\r\n            }\r\n        ]\r\n    };\r\n\r\n    getOptions = () => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        return [\r\n            {\r\n                key: \"Fill Color & Opacity\",\r\n                render: <Background\r\n                    color={design.fillColor}\r\n                    designKey={\"design.fillColor\"}\r\n                    onDesignChange={this.props.onDesignChange}\r\n                    editor={this.props.item.props.editor}\r\n                />\r\n            },\r\n            {\r\n                key: \"Border\",\r\n                render: <Border\r\n                    border={design.border}\r\n                    designKey={\"design.border\"}\r\n                    onDesignChange={this.props.onDesignChange}\r\n                    editor={this.props.item.props.editor}\r\n                />\r\n            },\r\n            {\r\n                key: \"Corner\",\r\n                render: <Corners\r\n                    radius={design.border.radius}\r\n                    designKey={\"design.border.radius\"}\r\n                    onDesignChange={this.props.onDesignChange}\r\n                />\r\n            },\r\n            {\r\n                key: \"Shadow\",\r\n                render: <Shadow\r\n                    shadow={design.border.shadow}\r\n                    designKey={\"design.border.shadow\"}\r\n                    onDesignChange={this.props.onDesignChange}\r\n                    editor={this.props.item.props.editor}\r\n                />\r\n            }\r\n        ]\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle=\"Box Design\"\r\n                {...this.props}\r\n                index={this.getIndex()}\r\n                options={this.getOptions()}\r\n                item={this.props.item}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\nimport classNames from \"classnames\";\r\n\r\nexport default class GridViewer extends React.Component {\r\n    render () {\r\n        let classes = classNames(\r\n            \"GridViewerRoot\",\r\n            this.props.className\r\n        );\r\n        return (\r\n            <div className={classes}>\r\n                {this.props.children}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../../Menus/Menu.css';\r\nimport GridViewer from \"../../../../Menus/CommonComponents/GridViewer\";\r\nimport classNames from \"classnames\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\n\r\nexport default class AnimationSelector extends React.Component {\r\n    onSelectAnimation = (name) => {\r\n        this.props.onDesignChange(this.props.designKey, name);\r\n        window.requestAnimationFrame(() => {\r\n            this.props.item.playAnimation();\r\n        });\r\n    };\r\n\r\n    render () {\r\n        let {allAnimationNames, animation} = this.props;\r\n        let noneClasses = classNames(\r\n            \"MenuOptionAnimationItem\",\r\n            (!animation || !animation.name) && \"MenuOptionAnimationItemSelected\"\r\n        );\r\n        return (\r\n            <div className=\"MenuOptionSection\">\r\n\r\n                <GridViewer>\r\n                    <ButtonBase\r\n                        className={noneClasses}\r\n                        key='none'\r\n                        onClick={(e) => this.onSelectAnimation()}\r\n                    >\r\n                        <img\r\n                            className=\"MenuOptionAnimationItemImage\"\r\n                            draggable={false} width={48} height={48}\r\n                            // src={process.env.PUBLIC_URL + `/static/icons/animation/${name}.svg`} />\r\n                            src={process.env.PUBLIC_URL + `/static/icon/animation-black.svg`}\r\n                        />\r\n                        <span>\r\n                            none\r\n                        </span>\r\n                    </ButtonBase>\r\n                    {\r\n                        allAnimationNames.map(name => {\r\n                            let classes = classNames(\r\n                                \"MenuOptionAnimationItem\",\r\n                                animation && name === animation.name && \"MenuOptionAnimationItemSelected\"\r\n                            );\r\n                            let displayName = name.split(/(?=[A-Z])/).join(' ');\r\n                            displayName = displayName.charAt(0).toUpperCase() + displayName.slice(1);\r\n                            return (\r\n                                <ButtonBase\r\n                                    className={classes}\r\n                                    key={name}\r\n                                    onClick={(e) => this.onSelectAnimation(name)}\r\n                                >\r\n                                    <img\r\n                                        className=\"MenuOptionAnimationItemImage\"\r\n                                        draggable={false} width={48} height={48}\r\n                                        // src={process.env.PUBLIC_URL + `/static/icons/animation/${name}.svg`} />\r\n                                        src={process.env.PUBLIC_URL + `/static/icon/animation-black.svg`}\r\n                                    />\r\n                                    <span className=\"MenuOptionAnimationItemTitle\">\r\n                                        {displayName}\r\n                                    </span>\r\n                                </ButtonBase>\r\n                            )\r\n                        })\r\n                    }\r\n                </GridViewer>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../../Menus/Menu.css';\r\nimport SliderInput from \"../../../../Menus/CommonComponents/SliderInput\";\r\nimport Switch from \"@material-ui/core/Switch/Switch\";\r\nimport {DynamicAnimations} from \"../../../../Dynamic/DynamicComponents\";\r\nimport Divider from \"../../../../Menus/CommonComponents/Divider\";\r\nimport IconButton from \"../../../../HelperComponents/IconButton\";\r\n\r\nexport default class AnimationOptions extends React.Component {\r\n\r\n    render () {\r\n        let {animation, onDesignChange, designKey, item} = this.props;\r\n        if (!animation || !animation.name) {\r\n            return <div className=\"MenuOptionSectionTitle\" style={{\r\n                textAlign: \"center\"\r\n            }}>\r\n                Select an Animation to See Options\r\n            </div>\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <div className=\"MenuOptionSection MenuOptionGrid2\">\r\n                    <span className=\"MenuOptionSectionTitleNoMargin\">Play animation</span>\r\n\r\n                    <IconButton onClick={(e) => {\r\n                                    item.playAnimation();\r\n                                }}\r\n                                imageContainerStyle={{\r\n                                    padding: 0\r\n                                }}\r\n                                buttonBaseStyle={{\r\n                                    borderRadius: 999\r\n                                }}\r\n                    >\r\n                        <img draggable={false} width={24} height={24}\r\n                                   src={process.env.PUBLIC_URL + '/static/icon/play-button.svg'}\r\n                        />\r\n                    </IconButton>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                {\r\n                    animation.name &&\r\n                        DynamicAnimations[animation.name].getOptions(this.props)\r\n                }\r\n\r\n                {\r\n                    animation.name && DynamicAnimations[animation.name].getOptions(this.props) &&\r\n                    <Divider/>\r\n                }\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Duration</p>\r\n\r\n                    <div\r\n                        className=\"BorderWidth\"\r\n                    >\r\n                        <SliderInput\r\n                            className=\"BorderWidthSlider\"\r\n                            min={0}\r\n                            max={5}\r\n                            step={0.1}\r\n                            value={animation.options? animation.options.duration !== undefined?\r\n                                animation.options.duration: 1 : 1}\r\n                            designKey={`${designKey}.duration`}\r\n                            onDesignChange={onDesignChange}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Delay</p>\r\n\r\n                    <div\r\n                        className=\"BorderWidth\"\r\n                    >\r\n                        <SliderInput\r\n                            className=\"BorderWidthSlider\"\r\n                            min={0}\r\n                            max={10}\r\n                            step={0.1}\r\n                            value={animation.options? animation.options.delay !== undefined?\r\n                                animation.options.delay: 0 : 0}\r\n                            designKey={`${designKey}.delay`}\r\n                            onDesignChange={onDesignChange}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionAnimationOnceRoot\">\r\n                    <p className=\"MenuOptionSectionTitle\">Only animate first time</p>\r\n                    <Switch\r\n                        className=\"InspectorOverflowDirSwitch\"\r\n                        checked={animation.options && animation.options.once ? animation.options.once : false}\r\n                        onChange={(e) => {\r\n                            onDesignChange(`${designKey}.once`, e.target.checked);\r\n                        }}\r\n                    />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\nimport AnimationSelector from \"./Components/AnimationSelector\";\r\nimport AnimationOptions from \"./Components/AnimationOptions\";\r\n\r\nexport default class AnimationDesign extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    getIndex = () => {\r\n        return [\r\n            {\r\n                key: \"Animation Type\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/animation-black.svg'} />\r\n            },\r\n            {\r\n                key: \"Animation Options\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/time.svg'} />\r\n            }\r\n        ]\r\n    };\r\n\r\n    getOptions = () => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        return [\r\n            {\r\n                key: \"Animation Type\",\r\n                render: <AnimationSelector\r\n                    animation={design.animation}\r\n                    designKey={\"design.animation.name\"}\r\n                    onDesignChange={this.props.onDesignChange}\r\n                    allAnimationNames={[\r\n                        'fadeIn',\r\n                        'bounceIn',\r\n                        'glideIn',\r\n                        'floatIn',\r\n                        'expandIn',\r\n                        'spinIn',\r\n                        'flyIn',\r\n                        'turnIn',\r\n                        'arcIn',\r\n                        'puffIn',\r\n                        'foldIn',\r\n                        'flipIn',\r\n                        'reveal',\r\n                    ]}\r\n                    item={this.props.item}\r\n                />\r\n            },\r\n            {\r\n                key: \"Animation Options\",\r\n                render: <AnimationOptions\r\n                    animation={design.animation}\r\n                    designKey={\"design.animation.options\"}\r\n                    onDesignChange={this.props.onDesignChange}\r\n                    item={this.props.item}\r\n                />\r\n            }\r\n        ]\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle=\"Box Design\"\r\n                {...this.props}\r\n                index={this.getIndex()}\r\n                options={this.getOptions()}\r\n                item={this.props.item}\r\n                defaultIndexNo={0}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport MenuButton from \"../../Menus/MenuBase/MenuButton\";\r\nimport BorderDesign from \"./Menus/BorderDesign\";\r\nimport '../../HelperStyle.css';\r\nimport './ContainerBase.css';\r\nimport {getCompositeDesignData, parseColor, resolveDesignData} from \"../../AwesomwGridLayoutHelper\";\r\nimport AnimationDesign from \"./Menus/AnimationDesign\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class ContainerBase extends AGLComponent{\r\n    static contextType = EditorContext;\r\n\r\n    resolveDesignData = () => {\r\n        resolveDesignData(this, \"border\", {shadow: {\r\n                xOffset: -1,\r\n                yOffset: 1,\r\n                distance: 1,\r\n                size: 0,\r\n                blur: 4\r\n        }, radius: {}});\r\n    };\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            isContainer: true,\r\n            bpData: {\r\n                overflowData: {\r\n                    state: \"show\"\r\n                }\r\n            }\r\n        };\r\n    };\r\n\r\n    getPrimaryOptions = () => {\r\n        this.resolveDesignData();\r\n        return [\r\n            <MenuButton\r\n                key={0}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/paint.svg')} /> }\r\n                select={this.props.select}\r\n                menu={(e) =>\r\n                    <BorderDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={2}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/animation.svg'} /> }\r\n                select={this.props.select}\r\n                menu={(e) =>\r\n                    <AnimationDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                    />\r\n                }\r\n            />\r\n        ]\r\n    };\r\n\r\n    updateDesign = (compositeDesign) => {\r\n    };\r\n\r\n    getStaticChildren = () => {\r\n        this.resolveDesignData();\r\n\r\n        let border = getCompositeDesignData(this).border;\r\n        let fillColor = getCompositeDesignData(this).fillColor;\r\n        if (fillColor)\r\n            fillColor = parseColor(fillColor, fillColor.alpha, this.context);\r\n\r\n        border.radius = border.radius || {};\r\n        border.shadow = border.shadow || {};\r\n\r\n        let shadowColor = border.shadow.color;\r\n        if (shadowColor)\r\n            shadowColor = parseColor(shadowColor, shadowColor.alpha, this.context);\r\n        let borderColor = border.color;\r\n        if (borderColor)\r\n            borderColor = parseColor(borderColor, borderColor.alpha, this.context);\r\n\r\n        return <div\r\n            className=\"ContainerBaseBorderRoot\"\r\n            style={{\r\n                border:\r\n                    `${border.width || 0}px solid ${borderColor || 'rgba(186,218,85,0.63)'}`,\r\n                backgroundColor: fillColor,\r\n                borderRadius:\r\n                    `${border.radius.topLeft || 0}px ${border.radius.topRight || 0}px ${border.radius.bottomRight || 0}px ${border.radius.bottomLeft || 0}px`,\r\n                boxShadow: `${(border.shadow.xOffset) * (border.shadow.distance)}px ${(border.shadow.yOffset) * (border.shadow.distance)}px ${border.shadow.blur}px ${border.shadow.size}px ${shadowColor || 'rgba(186,218,85,0.63)'}`\r\n            }}\r\n        >\r\n\r\n        </div>\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <AGLWrapper\r\n                tagName=\"ContainerBase\"\r\n                aglComponent={this}\r\n                {...this.props}\r\n                data={this.getData()}\r\n                getPrimaryOptions={this.getPrimaryOptions}\r\n                getInspector={this.getInspector}\r\n                getStaticChildren={this.getStaticChildren}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nContainerBase.defaultProps = {\r\n    tagName: \"ContainerBase\"\r\n};\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport Background from \"./Components/Background\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class SectionDesign extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    getIndex = () => {\r\n        return [\r\n            {\r\n                key: \"Fill Color & Opacity\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/water.svg'} />\r\n            }\r\n        ]\r\n    };\r\n\r\n    getOptions = () => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        return [\r\n            {\r\n                key: \"Fill Color & Opacity\",\r\n                render: <Background\r\n                    color={design.fillColor}\r\n                    designKey={\"design.fillColor\"}\r\n                    onDesignChange={this.props.onDesignChange}\r\n                    editor={this.props.item.props.editor}\r\n                />\r\n            }\r\n        ]\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle={this.props.menuTitle || \"Box Design\"}\r\n                {...this.props}\r\n                index={this.getIndex()}\r\n                options={this.getOptions()}\r\n                item={this.props.item}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport InspectorBreadcrumbs from \"../../Test/Inspector/InspectorBreadcrumbs\";\r\nimport InspectorAligns from \"../../Test/Inspector/InspectorAligns\";\r\nimport InspectorSize from \"../../Test/Inspector/InspectorSize\";\r\nimport InspectorOverflow from \"../../Test/Inspector/InspectorOverflow\";\r\nimport InspectorScroll from \"../../Test/Inspector/InspectorScroll\";\r\nimport InspectorPadding from \"../../Test/Inspector/InspectorPadding\";\r\nimport InspectorAnchor from \"../../Test/Inspector/InspectorAnchor\";\r\nimport MenuButton from \"../../Menus/MenuBase/MenuButton\";\r\nimport SectionDesign from \"./Menus/SectionDesign\";\r\nimport {parseColor, setStyleParam} from \"../../AwesomwGridLayoutHelper\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class Header extends AGLComponent{\r\n    static contextType = EditorContext;\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            draggable: false,\r\n            isContainer: true,\r\n            bpData: {\r\n                overflowData: {\r\n                    state: \"show\"\r\n                }\r\n            },\r\n            isSection: true\r\n        };\r\n    };\r\n\r\n    resolveDesignData = () => {\r\n    };\r\n\r\n    getPrimaryOptions = () => {\r\n        this.resolveDesignData();\r\n        return [\r\n            <MenuButton\r\n                key={0}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/paint.svg')} /> }\r\n                select={this.props.select}\r\n                menu={(e) =>\r\n                    <SectionDesign\r\n                        menuTitle={\"Header Design\"}\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                    />\r\n                }\r\n            />\r\n        ]\r\n    };\r\n\r\n    updateDesign = (compositeDesign) => {\r\n        let fillColor;\r\n\r\n        console.log(\"updateDesign\", compositeDesign.fillColor)\r\n        if (compositeDesign.fillColor)\r\n            fillColor = parseColor(compositeDesign.fillColor, compositeDesign.fillColor.alpha, this.context);\r\n\r\n        setStyleParam(\"backgroundColor\", fillColor || \"unset\",\r\n            this.getAgl(), 2, undefined, true);\r\n    };\r\n\r\n    getInspectorOverride = () => {\r\n        return (\r\n            <>\r\n                <InspectorBreadcrumbs\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAligns\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorSize\r\n                    item={this.getAgl()}\r\n                    widthUnits={[\"auto\", \"%\", \"px\", \"vh\", \"vw\"]}\r\n                    heightUnits={[\"auto\", \"%\", \"px\", \"vh\", \"vw\"]}\r\n                    minWidthUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    minHeightUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    maxWidthUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    maxHeightUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    disabledProps={[\r\n                        'width', 'minWidth', 'maxWidth'\r\n                    ]}\r\n                />\r\n                <InspectorOverflow\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorScroll\r\n                    item={this.getAgl()}\r\n                    options={['none', 'sticky']}\r\n                />\r\n                <InspectorPadding\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAnchor\r\n                    item={this.getAgl()}\r\n                />\r\n            </>\r\n        )\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <AGLWrapper tagName=\"Header\"\r\n                        defaultGridItemStyle={{\r\n                            alignSelf: \"stretch\",\r\n                            justifySelf: \"stretch\",\r\n                            position: \"relative\",\r\n                            gridArea: \"1/1/2/2\",\r\n                        }}\r\n                        aglComponent={this}\r\n                        {...this.props}\r\n                        style={{\r\n                            // backgroundColor: \"#bcbcbc\",\r\n                            width: \"100%\",\r\n                            height: \"auto\",\r\n                            minHeight: \"150px\",\r\n                            zIndex: \"50\"\r\n                        }}\r\n                        as=\"header\"\r\n                        autoConstraintsOff\r\n                        helplineOff\r\n                        isSection\r\n                        data={this.getData()}\r\n                        getInspector={this.getInspector}\r\n                        getPrimaryOptions={this.getPrimaryOptions}\r\n            >\r\n            </AGLWrapper>\r\n        )\r\n    }\r\n}\r\n\r\nHeader.defaultProps = {\r\n    tagName: \"Header\"\r\n};\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport InspectorBreadcrumbs from \"../../Test/Inspector/InspectorBreadcrumbs\";\r\nimport InspectorAligns from \"../../Test/Inspector/InspectorAligns\";\r\nimport InspectorSize from \"../../Test/Inspector/InspectorSize\";\r\nimport InspectorOverflow from \"../../Test/Inspector/InspectorOverflow\";\r\nimport InspectorScroll from \"../../Test/Inspector/InspectorScroll\";\r\nimport InspectorPadding from \"../../Test/Inspector/InspectorPadding\";\r\nimport InspectorAnchor from \"../../Test/Inspector/InspectorAnchor\";\r\nimport MenuButton from \"../../Menus/MenuBase/MenuButton\";\r\nimport SectionDesign from \"./Menus/SectionDesign\";\r\nimport {parseColor, setStyleParam} from \"../../AwesomwGridLayoutHelper\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class Footer extends AGLComponent{\r\n    static contextType = EditorContext;\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            draggable: false,\r\n            isContainer: true,\r\n            bpData: {\r\n                overflowData: {\r\n                    state: \"show\"\r\n                }\r\n            },\r\n            isSection: true\r\n        };\r\n    };\r\n\r\n    resolveDesignData = () => {\r\n    };\r\n\r\n    getPrimaryOptions = () => {\r\n        this.resolveDesignData();\r\n        return [\r\n            <MenuButton\r\n                key={0}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/paint.svg')} /> }\r\n                select={this.props.select}\r\n                menu={(e) =>\r\n                    <SectionDesign\r\n                        menuTitle={\"Footer Design\"}\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                    />\r\n                }\r\n            />\r\n        ]\r\n    };\r\n\r\n    updateDesign = (compositeDesign) => {\r\n        let fillColor;\r\n\r\n        if (compositeDesign.fillColor)\r\n            fillColor = parseColor(compositeDesign.fillColor, compositeDesign.fillColor.alpha, this.context);\r\n\r\n        setStyleParam(\"backgroundColor\", fillColor || \"unset\",\r\n            this.getAgl(), 2, undefined, true);\r\n    };\r\n\r\n    getInspectorOverride = () => {\r\n        return (\r\n            <>\r\n                <InspectorBreadcrumbs\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAligns\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorSize\r\n                    item={this.getAgl()}\r\n                    widthUnits={[\"auto\", \"%\", \"px\", \"vh\", \"vw\"]}\r\n                    heightUnits={[\"auto\", \"%\", \"px\", \"vh\", \"vw\"]}\r\n                    minWidthUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    minHeightUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    maxWidthUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    maxHeightUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    disabledProps={[\r\n                        'width', 'minWidth', 'maxWidth'\r\n                    ]}\r\n                />\r\n                <InspectorOverflow\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorScroll\r\n                    item={this.getAgl()}\r\n                    options={['none', 'sticky']}\r\n                />\r\n                <InspectorPadding\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAnchor\r\n                    item={this.getAgl()}\r\n                />\r\n            </>\r\n        )\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <AGLWrapper tagName=\"Footer\"\r\n                        defaultGridItemStyle={{\r\n                            alignSelf: \"stretch\",\r\n                            justifySelf: \"stretch\",\r\n                            position: \"relative\",\r\n                            gridArea: \"3/1/4/2\",\r\n                        }}\r\n                        aglComponent={this}\r\n                        {...this.props}\r\n                        style={{\r\n                            width: \"100%\",\r\n                            height: \"auto\",\r\n                            minHeight: \"100px\",\r\n                            zIndex: \"51\"\r\n                        }}\r\n                        as=\"footer\"\r\n                        autoConstraintsOff\r\n                        helplineOff\r\n                        isSection\r\n                        data={this.getData()}\r\n                        getInspector={this.getInspector}\r\n                        getPrimaryOptions={this.getPrimaryOptions}\r\n            >\r\n            </AGLWrapper>\r\n        )\r\n    }\r\n}\r\n\r\nFooter.defaultProps = {\r\n    tagName: \"Footer\"\r\n};\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport InspectorBreadcrumbs from \"../../Test/Inspector/InspectorBreadcrumbs\";\r\nimport InspectorAligns from \"../../Test/Inspector/InspectorAligns\";\r\nimport InspectorSize from \"../../Test/Inspector/InspectorSize\";\r\nimport InspectorOverflow from \"../../Test/Inspector/InspectorOverflow\";\r\nimport InspectorScroll from \"../../Test/Inspector/InspectorScroll\";\r\nimport InspectorPadding from \"../../Test/Inspector/InspectorPadding\";\r\nimport InspectorAnchor from \"../../Test/Inspector/InspectorAnchor\";\r\nimport MenuButton from \"../../Menus/MenuBase/MenuButton\";\r\nimport {parseColor, setStyleParam} from \"../../AwesomwGridLayoutHelper\";\r\nimport SectionDesign from \"./Menus/SectionDesign\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class Section extends AGLComponent{\r\n    static contextType = EditorContext;\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            draggable: false,\r\n            isContainer: true,\r\n            bpData: {\r\n                overflowData: {\r\n                    state: \"show\"\r\n                }\r\n            },\r\n            isSection: true\r\n        };\r\n    };\r\n\r\n    resolveDesignData = () => {\r\n    };\r\n\r\n    getPrimaryOptions = () => {\r\n        this.resolveDesignData();\r\n        return [\r\n            <MenuButton\r\n                key={0}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/paint.svg')} /> }\r\n                select={this.props.select}\r\n                menu={(e) =>\r\n                    <SectionDesign\r\n                        menuTitle={\"Section Design\"}\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                    />\r\n                }\r\n            />\r\n        ]\r\n    };\r\n\r\n    updateDesign = (compositeDesign) => {\r\n        let fillColor;\r\n\r\n        if (compositeDesign.fillColor)\r\n            fillColor = parseColor(compositeDesign.fillColor, compositeDesign.fillColor.alpha, this.context);\r\n\r\n        setStyleParam(\"backgroundColor\", fillColor || \"unset\",\r\n            this.getAgl(), 2, undefined, true);\r\n    };\r\n\r\n    getInspectorOverride = () => {\r\n        return (\r\n            <>\r\n                <InspectorBreadcrumbs\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAligns\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorSize\r\n                    item={this.getAgl()}\r\n                    widthUnits={[\"auto\", \"%\", \"px\", \"vh\", \"vw\"]}\r\n                    heightUnits={[\"auto\", \"%\", \"px\", \"vh\", \"vw\"]}\r\n                    minWidthUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    minHeightUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    maxWidthUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    maxHeightUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    disabledProps={!this.props.isVerticalSection ? [\r\n                        'width', 'minWidth', 'maxWidth'\r\n                    ] : [\r\n                        'height', 'minHeight', 'maxHeight'\r\n                    ]}\r\n                />\r\n                <InspectorOverflow\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorScroll\r\n                    item={this.getAgl()}\r\n                    options={['none', 'sticky']}\r\n                />\r\n                <InspectorPadding\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAnchor\r\n                    item={this.getAgl()}\r\n                />\r\n            </>\r\n        )\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <AGLWrapper tagName=\"Section\"\r\n                        defaultGridItemStyle={{\r\n                            alignSelf: \"stretch\",\r\n                            justifySelf: \"stretch\",\r\n                            position: \"relative\",\r\n                            gridArea: \"2/1/3/2\",\r\n                        }}\r\n                        aglComponent={this}\r\n                        {...this.props}\r\n                        style={{...{\r\n                            width: \"100%\",\r\n                            height: \"auto\",\r\n                            minHeight: \"500px\",\r\n                        }, ...this.props.style}}\r\n                        designStyle={{...{\r\n                                // backgroundColor: \"#b3faf5\",\r\n                        }, ...this.props.designStyle}}\r\n                        data={this.getData()}\r\n                        autoConstraintsOff\r\n                        helplineOff\r\n                        isSection\r\n                        as={\"section\"}\r\n                        getInspector={this.getInspector}\r\n                        getPrimaryOptions={this.getPrimaryOptions}\r\n            >\r\n            </AGLWrapper>\r\n        )\r\n    }\r\n}\r\n\r\nSection.defaultProps = {\r\n    tagName: \"Section\"\r\n};\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport {setStyleParam} from \"../../AwesomwGridLayoutHelper\";\r\nimport ColorPicker from \"../../Menus/CommonComponents/ColorPicker\";\r\nimport InspectorTitle from \"./InspectorTitle\";\r\nimport Background from \"../../Components/Containers/Menus/Components/Background\";\r\n\r\nexport default class InspectorBackground extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { open: true};\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    onChangeColor = (key, value) => {\r\n        let {item} = this.props;\r\n        setStyleParam(\"backgroundColor\", value,\r\n            item, true, undefined, true);\r\n    };\r\n\r\n    render() {\r\n        let {item} = this.props;\r\n        let style = item.getFromData(\"style\") || {};\r\n        return (\r\n            <>\r\n                <InspectorTitle defaultOpen title=\"Background\" onChange={(open) => {\r\n                    this.setState({open});\r\n                }}/>\r\n\r\n                {\r\n                    this.state.open &&\r\n                    <div className=\"InspectorOptionRoot\">\r\n                        <span className=\"InspectorBackgroundColorTitle\">\r\n                            Color\r\n                        </span>\r\n                        <ColorPicker\r\n                            color={style.backgroundColor || 'rgba(0, 0, 0, 0)'}\r\n                            designKey={\"design.fillColor\"}\r\n                            // onDesignChange={this.onChangeColor}\r\n                            onDesignChange={this.props.onDesignChange}\r\n                            editor={this.props.item.props.editor}\r\n                        />\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport Section from \"../Containers/Section\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport {initGriddata, swapArrayElements} from \"../../AwesomeGridLayoutUtils\";\r\nimport InspectorBreadcrumbs from \"../../Test/Inspector/InspectorBreadcrumbs\";\r\nimport InspectorPadding from \"../../Test/Inspector/InspectorPadding\";\r\nimport InspectorBackground from \"../../Test/Inspector/InspectorBackground\";\r\nimport './PageBase.css';\r\nimport {isHideInBreakpoint, parseColor, setStyleParam} from \"../../AwesomwGridLayoutHelper\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nconst mainColTemplate = \"minmax(0px,1fr)\";\r\n\r\nexport default class PageBase extends AGLComponent {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        };\r\n\r\n        this.gridTemplateRows = \"auto\";\r\n        this.gridTemplateColumns = mainColTemplate;\r\n        this.gridX = 0;\r\n        this.gridY = 1;\r\n\r\n        this.allSectionsH = [];\r\n        this.allSectionsV = [null];\r\n\r\n        this.root = React.createRef();\r\n\r\n        this.initKeyboard();\r\n\r\n        this.initDataFromPageData(props);\r\n    }\r\n\r\n    initDataFromPageData = (props) => {\r\n        if (!props.griddata.initialized)\r\n            initGriddata(props.griddata, this.props.breakpointmanager);\r\n\r\n        if (!props.griddata.allSectionsH)\r\n            props.griddata.allSectionsH = [];\r\n        if (!props.griddata.allSectionsV)\r\n            props.griddata.allSectionsV = [null];\r\n\r\n        this.allSectionsH = props.griddata.allSectionsH;\r\n        this.allSectionsV = props.griddata.allSectionsV;\r\n        let grid = this.props.breakpointmanager.getFromData(props.griddata, \"grid\");\r\n        if (grid) {\r\n            this.gridX = grid.x;\r\n            this.gridY = grid.y;\r\n            this.gridTemplateRows = grid.gridTemplateRows;\r\n            this.gridTemplateColumns = grid.gridTemplateColumns;\r\n        }\r\n    };\r\n\r\n    initKeyboard = () => {\r\n        window.addEventListener(\"keydown\", (e) => {\r\n            e = e || window.event;\r\n            let key = e.which || e.keyCode; // keyCode detection\r\n            let ctrl = e.ctrlKey ? e.ctrlKey : (key === 17); // ctrl detection\r\n\r\n            if (key === 38 && ctrl) {\r\n                e.preventDefault();\r\n                let selectedItem = this.props.select.getSelected();\r\n                if (this.getHorizontalSection(selectedItem.props.id))\r\n                    this.moveUp(selectedItem.props.id);\r\n\r\n                this.props.select.onScrollItem(e, this);\r\n            }\r\n\r\n            if (key === 40 && ctrl) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + Down\");\r\n                let selectedItem = this.props.select.getSelected();\r\n                if (this.getHorizontalSection(selectedItem.props.id))\r\n                    this.moveDown(selectedItem.props.id);\r\n\r\n                this.props.select.onScrollItem(e, this);\r\n            }\r\n\r\n            if (key === 37 && ctrl) {\r\n                e.preventDefault();\r\n                let selectedItem = this.props.select.getSelected();\r\n                if (this.getVerticalSection(selectedItem.props.id))\r\n                    this.moveLeft(selectedItem.props.id);\r\n\r\n                this.props.select.onScrollItem(e, this);\r\n            }\r\n\r\n            if (key === 39 && ctrl) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + Right\");\r\n                let selectedItem = this.props.select.getSelected();\r\n                if (this.getVerticalSection(selectedItem.props.id))\r\n                    this.moveRight(selectedItem.props.id);\r\n\r\n                this.props.select.onScrollItem(e, this);\r\n            }\r\n        });\r\n    };\r\n\r\n    componentDidMount() {\r\n        // TODO remove tests\r\n        // this.addSectionQueue(0, \"Header\", DynamicComponents, undefined, false);\r\n        // this.addSectionQueue(1, \"Section\", DynamicComponents, undefined, false);\r\n        // this.addSectionQueue(2, \"Footer\", DynamicComponents, undefined, false);\r\n    }\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            isContainer: true,\r\n            draggable: false,\r\n            resizable: true,\r\n            pageResize: true,\r\n            bpData: {\r\n                overflowData: {\r\n                    state: \"scroll\",\r\n                    overflowY: \"scroll\",\r\n                    auto: true\r\n                },\r\n                grid: {\r\n                    x: this.gridX,\r\n                    y: this.gridY,\r\n                    gridTemplateRows: this.gridTemplateRows,\r\n                    gridTemplateColumns: this.gridTemplateColumns\r\n                },\r\n                containerHeight: \"max-content\",\r\n            }\r\n        };\r\n    };\r\n\r\n    getHorizontalSection = (id) => {\r\n        return this.props.idMan.getItem(this.allSectionsH.find(h => {\r\n            return h === id;\r\n        }));\r\n    };\r\n\r\n    deleteHorizontalSection = (id) => {\r\n        let index = this.allSectionsH.findIndex(h => {\r\n            return h === id;\r\n        });\r\n        if (index < 0)\r\n            return false;\r\n\r\n        if (this.allSectionsH.length === 1)\r\n            return false;\r\n\r\n        this.gridX--;\r\n\r\n        let currentSection = this.allSectionsH[index];\r\n        currentSection = this.props.idMan.getItem(currentSection);\r\n        let gridArea = currentSection.getGridArea();\r\n        let areas = gridArea.split('/');\r\n        let x1 = parseInt(areas[0]);\r\n        let y1 = parseInt(areas[1]);\r\n        let x2 = parseInt(areas[2]);\r\n        let y2 = parseInt(areas[3]);\r\n\r\n        let firstRow = x1;\r\n        let lastRow = x2;\r\n\r\n        this.allSectionsV.forEach(verticalSection => {\r\n            if (verticalSection === null)\r\n                return;\r\n\r\n            verticalSection = this.props.idMan.getItem(verticalSection);\r\n\r\n            let gridArea = verticalSection.getGridArea();\r\n            let areas = gridArea.split('/');\r\n            let x12 = parseInt(areas[0]);\r\n            let y12 = parseInt(areas[1]);\r\n            let x22 = parseInt(areas[2]);\r\n            let y22 = parseInt(areas[3]);\r\n\r\n            if (firstRow >= x12 && lastRow <= x22) {\r\n                x22--;\r\n            } else if (lastRow <= x12) {\r\n                x22--;\r\n                x12--;\r\n            }\r\n\r\n            gridArea = `${x12}/${y12}/${x22}/${y22}`;\r\n            verticalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n        });\r\n        this.allSectionsH.forEach(horizontalSection => {\r\n            horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n            let gridArea = horizontalSection.getGridArea();\r\n            let areas = gridArea.split('/');\r\n            let x13 = parseInt(areas[0]);\r\n            let y13 = parseInt(areas[1]);\r\n            let x23 = parseInt(areas[2]);\r\n            let y23 = parseInt(areas[3]);\r\n\r\n            if (lastRow <= x13) {\r\n                x13--;\r\n                x23--;\r\n            }\r\n\r\n            gridArea = `${x13}/${y13}/${x23}/${y23}`;\r\n            horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n        });\r\n\r\n        index >= 0 && this.allSectionsH.splice(index, 1);\r\n\r\n        this.gridTemplateRows = new Array(this.allSectionsH.length).fill(0).map(a => {\r\n            return \"auto\";\r\n        }).join(' ');\r\n\r\n        this.root.current.setGrid({\r\n            x: this.gridX,\r\n            y: this.gridY,\r\n            gridTemplateRows: this.gridTemplateRows,\r\n            gridTemplateColumns: this.gridTemplateColumns\r\n        }, undefined, this.props.breakpointmanager.getHighestBpName());\r\n\r\n        this.getAgl().invalidateSize();\r\n        this.props.select.onScrollItem();\r\n        return true;\r\n    };\r\n\r\n    getVerticalSection = (id) => {\r\n        return this.props.idMan.getItem(this.allSectionsV.find(h => {\r\n            if (h === null)\r\n                return false;\r\n\r\n            return h === id;\r\n        })) || null;\r\n    };\r\n\r\n    deleteVerticalSection = (id) => {\r\n        let index = this.allSectionsV.findIndex(h => {\r\n            if (h === null)\r\n                return false;\r\n            return h === id;\r\n        });\r\n        if (index < 0)\r\n            return false;\r\n\r\n        this.gridY--;\r\n\r\n        let currentSection = this.allSectionsV[index];\r\n        currentSection = this.props.idMan.getItem(currentSection);\r\n        let gridArea = currentSection.getGridArea();\r\n        let areas = gridArea.split('/');\r\n        let x1 = parseInt(areas[0]);\r\n        let y1 = parseInt(areas[1]);\r\n        let x2 = parseInt(areas[2]);\r\n        let y2 = parseInt(areas[3]);\r\n\r\n        let firstRow = x1;\r\n        let lastRow = x2;\r\n        let firstCol = y1;\r\n        let lastCol = y2;\r\n\r\n        this.allSectionsV.forEach(verticalSection => {\r\n            if (verticalSection === null)\r\n                return;\r\n\r\n            verticalSection = this.props.idMan.getItem(verticalSection);\r\n\r\n            let gridArea = verticalSection.getGridArea();\r\n            let areas = gridArea.split('/');\r\n            let x12 = parseInt(areas[0]);\r\n            let y12 = parseInt(areas[1]);\r\n            let x22 = parseInt(areas[2]);\r\n            let y22 = parseInt(areas[3]);\r\n\r\n            if (y12 >= firstCol) {\r\n                y12--;\r\n                y22--;\r\n            }\r\n\r\n            gridArea = `${x12}/${y12}/${x22}/${y22}`;\r\n            verticalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n        });\r\n        this.allSectionsH.forEach(horizontalSection => {\r\n            horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n            let gridArea = horizontalSection.getGridArea();\r\n            let areas = gridArea.split('/');\r\n            let x13 = parseInt(areas[0]);\r\n            let y13 = parseInt(areas[1]);\r\n            let x23 = parseInt(areas[2]);\r\n            let y23 = parseInt(areas[3]);\r\n\r\n            if (y13 >= lastCol) {\r\n                // fully right\r\n                y13--;\r\n                y23--;\r\n            } else if (y23 >= lastRow) {\r\n                // partially right\r\n                y23--;\r\n            }\r\n\r\n            gridArea = `${x13}/${y13}/${x23}/${y23}`;\r\n            horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n        });\r\n\r\n        this.allSectionsV.splice(index, 1);\r\n\r\n        let mainColIndex = this.getMainColIndex();\r\n        this.gridTemplateColumns = new Array(this.allSectionsV.length).fill(0).map((a, i) => {\r\n            if (i === mainColIndex)\r\n                return mainColTemplate;\r\n            return \"auto\";\r\n        }).join(' ');\r\n\r\n        this.root.current.setGrid({\r\n            x: this.gridX,\r\n            y: this.gridY,\r\n            gridTemplateRows: this.gridTemplateRows,\r\n            gridTemplateColumns: this.gridTemplateColumns\r\n        }, undefined, this.props.breakpointmanager.getHighestBpName());\r\n\r\n        this.getAgl().invalidateSize();\r\n        this.props.select.onScrollItem();\r\n        return true;\r\n    };\r\n\r\n    addSectionQueue = (index, tagName, dynamicComponents, as, isVertical, callback) => {\r\n        if (!this.addQueue)\r\n            this.addQueue = [];\r\n\r\n        this.addQueue.push({\r\n            index, tagName, dynamicComponents, as, isVertical, callback\r\n        });\r\n\r\n        if (!this.checkingAddQueue) {\r\n            let nextOne = this.addQueue.shift();\r\n            this.checkAddQueue(nextOne);\r\n        }\r\n    };\r\n\r\n    checkAddQueue = (nextOne) => {\r\n        this.checkingAddQueue = true;\r\n        if (!nextOne.isVertical) {\r\n            this.addHorizontalSection(nextOne.index, nextOne.tagName, nextOne.dynamicComponents,\r\n                nextOne.as, (agl) => {\r\n                    if (nextOne.callback)\r\n                        nextOne.callback(agl);\r\n                    let newNextOne = this.addQueue.shift();\r\n                    if (newNextOne)\r\n                        this.checkAddQueue(newNextOne);\r\n                    else\r\n                        this.checkingAddQueue = false;\r\n                });\r\n        } else {\r\n            this.addVerticalSection(nextOne.index, nextOne.tagName, nextOne.dynamicComponents,\r\n                nextOne.as, (agl) => {\r\n                    if (nextOne.callback)\r\n                        nextOne.callback(agl);\r\n                    let newNextOne = this.addQueue.shift();\r\n                    if (newNextOne)\r\n                        this.checkAddQueue(newNextOne);\r\n                    else\r\n                        this.checkingAddQueue = false;\r\n                });\r\n        }\r\n    };\r\n\r\n    onItemPreDelete = (item) => {\r\n        let allow = this.deleteHorizontalSection(item.props.id);\r\n        if (!allow)\r\n            allow = this.deleteVerticalSection(item.props.id);\r\n\r\n        return allow;\r\n    };\r\n\r\n    // Just for vertical items\r\n    onItemPreResizeStop = (item, e, dir, delta, runtimeStyle) => {\r\n        console.log(\"small from top0\", this.allSectionsH, this.allSectionsV)\r\n        if (dir === 'e' || dir === 'w')\r\n            return;\r\n\r\n        let gridArea = item.getGridArea();\r\n        let areas = gridArea.split('/');\r\n        let x1 = parseInt(areas[0]);\r\n        let y1 = parseInt(areas[1]);\r\n        let x2 = parseInt(areas[2]);\r\n        let y2 = parseInt(areas[3]);\r\n\r\n        this.root.current.prepareRects(false, true);\r\n        let yLineRefs = this.props.gridLine.getYlineRef(this.root.current.props.id);\r\n        let firstLineTop =\r\n            this.root.current.getGridLineRect(yLineRefs[0], 0, 'y', this.root.current).top;\r\n\r\n        console.log(\"small from top1\", this.allSectionsH, this.allSectionsV)\r\n        if (dir === 'n') {\r\n            if (delta.y > 0) { // small from top\r\n                let targetTop = runtimeStyle.top - firstLineTop;\r\n                let selectedX1 = 1;\r\n                for (let i = yLineRefs.length - 1; i >= 0; i--) {\r\n                    let lineTop =\r\n                        this.root.current.getGridLineRect(yLineRefs[i], i, 'y', this.root.current).top - firstLineTop;\r\n                    if (i === yLineRefs.length - 1) // last line\r\n                        lineTop++;\r\n\r\n                    if (targetTop >= lineTop) {\r\n                        selectedX1 = i + 1;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                console.log(\"small from top\", this.allSectionsH, this.allSectionsV)\r\n\r\n                this.allSectionsH.forEach(horizontalSection => {\r\n                    horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n                    let gridArea = horizontalSection.getGridArea();\r\n                    let areas = gridArea.split('/');\r\n                    let x12 = parseInt(areas[0]);\r\n                    let y12 = parseInt(areas[1]);\r\n                    let x22 = parseInt(areas[2]);\r\n                    let y22 = parseInt(areas[3]);\r\n\r\n                    if (x12 >= x1 && x12 < selectedX1) {\r\n                        if (y12 === y2) { // shift left\r\n                            y12--;\r\n                            let checkIndex = this.allSectionsV.findIndex(h => {\r\n                                if (h === null)\r\n                                    return false;\r\n                                return h === item.props.id;\r\n                            }) - 1;\r\n                            while (checkIndex >= 0) {\r\n                                let nextSectionV = this.allSectionsV[checkIndex];\r\n                                nextSectionV = this.props.idMan.getItem(nextSectionV);\r\n                                if (nextSectionV) {\r\n                                    let gridArea = nextSectionV.getGridArea();\r\n                                    let areas = gridArea.split('/');\r\n                                    let x13 = parseInt(areas[0]);\r\n                                    let y13 = parseInt(areas[1]);\r\n                                    let x23 = parseInt(areas[2]);\r\n                                    let y23 = parseInt(areas[3]);\r\n\r\n                                    if (x22 <= x13) {\r\n                                        y12--;\r\n                                        checkIndex--;\r\n                                    } else {\r\n                                        checkIndex = -1;\r\n                                    }\r\n                                }\r\n                            }\r\n                        } else if (y22 === y1) { // shift right\r\n                            y22++;\r\n                            let checkIndex = this.allSectionsV.findIndex(h => {\r\n                                if (h === null)\r\n                                    return false;\r\n                                return h === item.props.id;\r\n                            }) + 1;\r\n                            while (checkIndex < this.allSectionsV.length) {\r\n                                let nextSectionV = this.allSectionsV[checkIndex];\r\n                                nextSectionV = this.props.idMan.getItem(nextSectionV);\r\n                                if (nextSectionV) {\r\n                                    let gridArea = nextSectionV.getGridArea();\r\n                                    let areas = gridArea.split('/');\r\n                                    let x13 = parseInt(areas[0]);\r\n                                    let y13 = parseInt(areas[1]);\r\n                                    let x23 = parseInt(areas[2]);\r\n                                    let y23 = parseInt(areas[3]);\r\n\r\n                                    if (x22 <= x13) {\r\n                                        y22++;\r\n                                        checkIndex++;\r\n                                    } else {\r\n                                        checkIndex = this.allSectionsV.length;\r\n                                    }\r\n                                } else {\r\n                                    checkIndex = this.allSectionsV.length;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    gridArea = `${x12}/${y12}/${x22}/${y22}`;\r\n                    horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n                });\r\n\r\n                x1 = Math.min(selectedX1, x2 - 1);\r\n            }\r\n            else { // big from top\r\n                let targetTop = runtimeStyle.top - firstLineTop;\r\n                let selectedX1 = 1;\r\n                for (let i = yLineRefs.length - 1; i >= 0; i--) {\r\n                    let lineTop =\r\n                        this.root.current.getGridLineRect(yLineRefs[i], i, 'y', this.root.current).top - firstLineTop;\r\n                    if (i === yLineRefs.length - 1) // last line\r\n                        lineTop++;\r\n\r\n                    if (targetTop >= lineTop) {\r\n                        selectedX1 = i + 1;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                this.allSectionsH.forEach(horizontalSection => {\r\n                    horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n                    let gridArea = horizontalSection.getGridArea();\r\n                    let areas = gridArea.split('/');\r\n                    let x12 = parseInt(areas[0]);\r\n                    let y12 = parseInt(areas[1]);\r\n                    let x22 = parseInt(areas[2]);\r\n                    let y22 = parseInt(areas[3]);\r\n\r\n                    if (x22 <= x1 && x12 >= selectedX1) {\r\n                        if (y12 <= y1 && y22 >= y2) { // walk through\r\n                            let mainColIndex = this.getMainColIndex();\r\n                            let currentIndex = this.allSectionsV.findIndex(h => {\r\n                                if (h === null)\r\n                                    return false;\r\n                                return h === item.props.id;\r\n                            });\r\n                            if (mainColIndex > currentIndex) { // move right\r\n                                y12 = y2;\r\n                            } else { // move left\r\n                                y22 = y1;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    gridArea = `${x12}/${y12}/${x22}/${y22}`;\r\n                    horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n                });\r\n\r\n                x1 = Math.min(selectedX1, x2 - 1);\r\n            }\r\n        }\r\n        else { // dir === 's'\r\n            if (delta.y > 0) { // big from bottom\r\n                let targetBottom = runtimeStyle.height + (runtimeStyle.top - firstLineTop);\r\n                let selectedX2 = yLineRefs.length;\r\n                for (let i = 1; i < yLineRefs.length; i++) {\r\n                    let lineBottom =\r\n                        this.root.current.getGridLineRect(yLineRefs[i], i, 'y', this.root.current).top - firstLineTop;\r\n                    if (i === yLineRefs.length - 1) // last line\r\n                        lineBottom++;\r\n\r\n                    if (targetBottom <= lineBottom) {\r\n                        selectedX2 = i + 1;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                this.allSectionsH.forEach(horizontalSection => {\r\n                    horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n                    let gridArea = horizontalSection.getGridArea();\r\n                    let areas = gridArea.split('/');\r\n                    let x12 = parseInt(areas[0]);\r\n                    let y12 = parseInt(areas[1]);\r\n                    let x22 = parseInt(areas[2]);\r\n                    let y22 = parseInt(areas[3]);\r\n\r\n                    if (x12 >= x2 && x12 < selectedX2) {\r\n                        if (y12 <= y1 && y22 >= y2) { // walk through\r\n                            let mainColIndex = this.getMainColIndex();\r\n                            let currentIndex = this.allSectionsV.findIndex(h => {\r\n                                if (h === null)\r\n                                    return false;\r\n                                return h === item.props.id;\r\n                            });\r\n                            if (mainColIndex > currentIndex) { // move right\r\n                                y12 = y2;\r\n                            } else { // move left\r\n                                y22 = y1;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    gridArea = `${x12}/${y12}/${x22}/${y22}`;\r\n                    horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n                });\r\n\r\n                x2 = Math.max(selectedX2, x1 + 1);\r\n            }\r\n            else { // small from bottom\r\n                let targetBottom = runtimeStyle.height + (runtimeStyle.top - firstLineTop);\r\n                let selectedX2 = yLineRefs.length;\r\n                for (let i = 1; i < yLineRefs.length; i++) {\r\n                    let lineBottom =\r\n                        this.root.current.getGridLineRect(yLineRefs[i], i, 'y', this.root.current).top - firstLineTop;\r\n                    if (i === yLineRefs.length - 1) // last line\r\n                        lineBottom++;\r\n\r\n                    if (targetBottom <= lineBottom) {\r\n                        selectedX2 = i + 1;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                this.allSectionsH.forEach(horizontalSection => {\r\n                    horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n                    let gridArea = horizontalSection.getGridArea();\r\n                    let areas = gridArea.split('/');\r\n                    let x12 = parseInt(areas[0]);\r\n                    let y12 = parseInt(areas[1]);\r\n                    let x22 = parseInt(areas[2]);\r\n                    let y22 = parseInt(areas[3]);\r\n\r\n                    if (x12 < x2 && x12 >= selectedX2) {\r\n                        if (y12 === y2) { // shift left\r\n                            y12--;\r\n                            let checkIndex = this.allSectionsV.findIndex(h => {\r\n                                if (h === null)\r\n                                    return false;\r\n                                return h === item.props.id;\r\n                            }) - 1;\r\n                            while (checkIndex >= 0) {\r\n                                let nextSectionV = this.allSectionsV[checkIndex];\r\n                                nextSectionV = this.props.idMan.getItem(nextSectionV);\r\n                                if (nextSectionV) {\r\n                                    let gridArea = nextSectionV.getGridArea();\r\n                                    let areas = gridArea.split('/');\r\n                                    let x13 = parseInt(areas[0]);\r\n                                    let y13 = parseInt(areas[1]);\r\n                                    let x23 = parseInt(areas[2]);\r\n                                    let y23 = parseInt(areas[3]);\r\n\r\n                                    if (x12 >= x23) {\r\n                                        y12--;\r\n                                        checkIndex--;\r\n                                    } else {\r\n                                        checkIndex = -1;\r\n                                    }\r\n                                } else {\r\n                                    checkIndex = -1;\r\n                                }\r\n                            }\r\n                        } else if (y22 === y1) { // shift right\r\n                            y22++;\r\n                            let checkIndex = this.allSectionsV.findIndex(h => {\r\n                                if (h === null)\r\n                                    return false;\r\n                                return h === item.props.id;\r\n                            }) + 1;\r\n                            while (checkIndex < this.allSectionsV.length) {\r\n                                let nextSectionV = this.allSectionsV[checkIndex];\r\n                                nextSectionV = this.props.idMan.getItem(nextSectionV);\r\n                                if (nextSectionV) {\r\n                                    let gridArea = nextSectionV.getGridArea();\r\n                                    let areas = gridArea.split('/');\r\n                                    let x13 = parseInt(areas[0]);\r\n                                    let y13 = parseInt(areas[1]);\r\n                                    let x23 = parseInt(areas[2]);\r\n                                    let y23 = parseInt(areas[3]);\r\n\r\n                                    if (x12 >= x23) {\r\n                                        y22++;\r\n                                        checkIndex++;\r\n                                    } else {\r\n                                        checkIndex = this.allSectionsV.length;\r\n                                    }\r\n                                } else {\r\n                                    checkIndex = this.allSectionsV.length;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    gridArea = `${x12}/${y12}/${x22}/${y22}`;\r\n                    horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n                });\r\n\r\n                x2 = Math.max(selectedX2, x1 + 1);\r\n            }\r\n        }\r\n\r\n        item.setGridArea(\r\n            `${x1}/${y1}/${x2}/${y2}`\r\n            , this.props.breakpointmanager.getHighestBpName());\r\n    };\r\n\r\n    addHorizontalSection = (index, tagName, dynamicComponents, as, callback) => {\r\n        this.gridX++;\r\n        this.gridTemplateRows = new Array(this.allSectionsH.length + 1).fill(0).map(a => {\r\n            return \"auto\";\r\n        }).join(' ');\r\n\r\n        let currentSectionIndex = index !== 0 ? index - 1 : 0;\r\n\r\n        let currentSection = this.allSectionsH[currentSectionIndex];\r\n        currentSection = this.props.idMan.getItem(currentSection);\r\n\r\n        let currentSectionGridArea = currentSection && currentSection.getGridArea();\r\n        let gridArea = currentSectionGridArea ? `${index + 1}/${\r\n                currentSectionGridArea.split('/')[1]\r\n                }/${index + 2}/${\r\n                currentSectionGridArea.split('/')[3]\r\n                }` :\r\n            \"1/1/2/2\"\r\n        ;\r\n\r\n        if (!tagName)\r\n            tagName = \"Section\";\r\n\r\n        let Tag = dynamicComponents[tagName];\r\n\r\n        let section = <Tag\r\n            as={as}\r\n            isSection\r\n            data={{\r\n                bpData: {\r\n                    gridItemStyle: {\r\n                        gridArea: gridArea,\r\n                        marginTop: \"0px\",\r\n                        marginLeft: \"0px\",\r\n                        marginBottom: \"0px\",\r\n                        marginRight: \"0px\",\r\n                    }\r\n                },\r\n                isSection: true,\r\n            }}\r\n            resizeSides={['s', 'n']}\r\n            onItemPreDelete={this.onItemPreDelete}\r\n        />;\r\n\r\n        this.allSectionsV.forEach(verticalSection => {\r\n            if (verticalSection === null)\r\n                return;\r\n\r\n            verticalSection = this.props.idMan.getItem(verticalSection);\r\n\r\n            let gridArea = verticalSection.getGridArea();\r\n            let areas = gridArea.split('/');\r\n            let x1 = parseInt(areas[0]);\r\n            let y1 = parseInt(areas[1]);\r\n            let x2 = parseInt(areas[2]);\r\n            let y2 = parseInt(areas[3]);\r\n\r\n            let firstRow = index + 1;\r\n\r\n            if (x2 >= firstRow)\r\n                x2++;\r\n            if (x1 >= firstRow)\r\n                x1++;\r\n\r\n            gridArea = `${x1}/${y1}/${x2}/${y2}`;\r\n            verticalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n        });\r\n        this.allSectionsH.forEach(horizontalSection => {\r\n            horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n            let gridArea = horizontalSection.getGridArea();\r\n            let areas = gridArea.split('/');\r\n            let x1 = parseInt(areas[0]);\r\n            let y1 = parseInt(areas[1]);\r\n            let x2 = parseInt(areas[2]);\r\n            let y2 = parseInt(areas[3]);\r\n\r\n            let firstCol = index + 1;\r\n\r\n            if (x1 >= firstCol)\r\n                x1++;\r\n            if (x2 > firstCol)\r\n                x2++;\r\n\r\n            gridArea = `${x1}/${y1}/${x2}/${y2}`;\r\n            horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n        });\r\n\r\n        this.root.current.setGrid({\r\n            x: this.gridX,\r\n            y: this.gridY,\r\n            gridTemplateRows: this.gridTemplateRows,\r\n            gridTemplateColumns: this.gridTemplateColumns\r\n        }, undefined, this.props.breakpointmanager.getHighestBpName());\r\n        this.root.current.addChild(section, undefined, undefined, undefined, (agl) => {\r\n            this.allSectionsH.splice(index, 0, agl.props.id);\r\n            if (callback)\r\n                callback(agl);\r\n        }, undefined, true);\r\n    };\r\n\r\n    getMainColIndex = (insertIndex) => {\r\n        let index = this.allSectionsV.findIndex(v => {\r\n            return v === null;\r\n        });\r\n\r\n        if (insertIndex !== undefined && index >= insertIndex)\r\n            return index + 1;\r\n\r\n        return index;\r\n    };\r\n\r\n    addVerticalSection = (index, tagName, dynamicComponents, as, callback) => {\r\n        this.gridY++;\r\n\r\n        let currentSectionIndex = index !== 0 ? index - 1 : 0;\r\n\r\n        let currentSection = this.allSectionsV[currentSectionIndex] || null;\r\n        if (currentSection === null)\r\n            currentSection = this.allSectionsV[currentSectionIndex + 1];\r\n\r\n        currentSection = this.props.idMan.getItem(currentSection);\r\n\r\n        let currentSectionGridArea = currentSection && currentSection.getGridArea();\r\n        let gridArea = currentSectionGridArea ? `${\r\n                currentSectionGridArea.split('/')[0]\r\n                }/${index + 1}/${\r\n                currentSectionGridArea.split('/')[2]\r\n                }/${index + 2}` :\r\n            `${1}/${index + 1}/${this.gridX + 1}/${index + 2}`\r\n        ;\r\n\r\n        if (!tagName)\r\n            tagName = \"Section\";\r\n\r\n        let Tag = dynamicComponents[tagName];\r\n\r\n        let section = <Tag\r\n            as={as}\r\n            isSection\r\n            isVerticalSection\r\n            data={{\r\n                bpData: {\r\n                    gridItemStyle: {\r\n                        gridArea: gridArea,\r\n                        marginTop: \"0px\",\r\n                        marginLeft: \"0px\",\r\n                        marginBottom: \"0px\",\r\n                        marginRight: \"0px\",\r\n                    }\r\n                },\r\n                isSection: true,\r\n                isVerticalSection: true,\r\n            }}\r\n            style={{\r\n                width: \"200px\",\r\n                height: \"auto\",\r\n                minHeight: \"auto\",\r\n            }}\r\n            resizeSides={['e', 'w', 'n', 's']}\r\n            onItemPreDelete={this.onItemPreDelete}\r\n            onItemPreResizeStop={this.onItemPreResizeStop}\r\n        />;\r\n\r\n        console.log(\"this.allSectionsH\", this.allSectionsH)\r\n        this.allSectionsH.forEach(horizontalSection => {\r\n            horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n            let gridArea = horizontalSection.getGridArea();\r\n            let areas = gridArea.split('/');\r\n            let x1 = parseInt(areas[0]);\r\n            let y1 = parseInt(areas[1]);\r\n            let x2 = parseInt(areas[2]);\r\n            let y2 = parseInt(areas[3]);\r\n\r\n            let firstCol = index + 1;\r\n\r\n            if (y1 >= firstCol)\r\n                y1++;\r\n            if (y2 > firstCol)\r\n                y2++;\r\n\r\n            gridArea = `${x1}/${y1}/${x2}/${y2}`;\r\n            horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n        });\r\n        this.allSectionsV.forEach(verticalSection => {\r\n            if (verticalSection === null)\r\n                return;\r\n            verticalSection = this.props.idMan.getItem(verticalSection);\r\n\r\n            let gridArea = verticalSection.getGridArea();\r\n            let areas = gridArea.split('/');\r\n            let x1 = parseInt(areas[0]);\r\n            let y1 = parseInt(areas[1]);\r\n            let x2 = parseInt(areas[2]);\r\n            let y2 = parseInt(areas[3]);\r\n\r\n            let firstCol = index + 1;\r\n\r\n            if (y1 >= firstCol)\r\n                y1++;\r\n            if (y2 > firstCol)\r\n                y2++;\r\n\r\n            gridArea = `${x1}/${y1}/${x2}/${y2}`;\r\n            verticalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n        });\r\n\r\n        let mainColIndex = this.getMainColIndex(index);\r\n        this.gridTemplateColumns = new Array(this.allSectionsV.length + 1).fill(0).map((a, i) => {\r\n            if (i === mainColIndex)\r\n                return mainColTemplate;\r\n            return \"auto\";\r\n        }).join(' ');\r\n\r\n        this.root.current.setGrid({\r\n            x: this.gridX,\r\n            y: this.gridY,\r\n            gridTemplateRows: this.gridTemplateRows,\r\n            gridTemplateColumns: this.gridTemplateColumns\r\n        }, undefined, this.props.breakpointmanager.getHighestBpName());\r\n        this.root.current.addChild(section, undefined, undefined, undefined, (agl) => {\r\n            this.allSectionsV.splice(index, 0, agl.props.id);\r\n            this.props.select.onScrollItem();\r\n            if (callback)\r\n                callback(agl);\r\n        }, undefined, true);\r\n    };\r\n\r\n    moveUp = (id) => {\r\n        let horizontalSection = this.getHorizontalSection(id);\r\n        if (!horizontalSection)\r\n            return;\r\n\r\n        let gridArea = horizontalSection.getGridArea();\r\n        let areas = gridArea.split('/');\r\n        let x1 = parseInt(areas[0]);\r\n        let y1 = parseInt(areas[1]);\r\n        let x2 = parseInt(areas[2]);\r\n        let y2 = parseInt(areas[3]);\r\n        let gridArea2, areas2, x12, y12, x22, y22;\r\n\r\n        let currentIndex = x1 - 1;\r\n        let sideSection = this.allSectionsH[currentIndex - 1];\r\n        sideSection = this.props.idMan.getItem(sideSection);\r\n        if (sideSection) {\r\n            gridArea2 = sideSection.getGridArea();\r\n            areas2 = gridArea2.split('/');\r\n            x12 = parseInt(areas2[0]);\r\n            y12 = parseInt(areas2[1]);\r\n            x22 = parseInt(areas2[2]);\r\n            y22 = parseInt(areas2[3]);\r\n\r\n            sideSection.setGridArea(\r\n                `${x12 + 1}/${y1}/${x22 + 1}/${y2}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n\r\n            horizontalSection.setGridArea(\r\n                `${x1 - 1}/${y12}/${x2 - 1}/${y22}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n\r\n            swapArrayElements(this.allSectionsH, currentIndex, currentIndex - 1);\r\n        }\r\n\r\n        this.getAgl().invalidateSize();\r\n        this.props.select.onScrollItem();\r\n    };\r\n\r\n    moveDown = (id) => {\r\n        let horizontalSection = this.getHorizontalSection(id);\r\n        if (!horizontalSection)\r\n            return;\r\n\r\n        let gridArea = horizontalSection.getGridArea();\r\n        let areas = gridArea.split('/');\r\n        let x1 = parseInt(areas[0]);\r\n        let y1 = parseInt(areas[1]);\r\n        let x2 = parseInt(areas[2]);\r\n        let y2 = parseInt(areas[3]);\r\n        let gridArea2, areas2, x12, y12, x22, y22;\r\n\r\n        let currentIndex = x1 - 1;\r\n        let sideSection = this.allSectionsH[currentIndex + 1];\r\n        sideSection = this.props.idMan.getItem(sideSection);\r\n        if (sideSection) {\r\n            gridArea2 = sideSection.getGridArea();\r\n            areas2 = gridArea2.split('/');\r\n            x12 = parseInt(areas2[0]);\r\n            y12 = parseInt(areas2[1]);\r\n            x22 = parseInt(areas2[2]);\r\n            y22 = parseInt(areas2[3]);\r\n\r\n            sideSection.setGridArea(\r\n                `${x12 - 1}/${y1}/${x22 - 1}/${y2}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n\r\n            horizontalSection.setGridArea(\r\n                `${x1 + 1}/${y12}/${x2 + 1}/${y22}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n\r\n            swapArrayElements(this.allSectionsH, currentIndex, currentIndex + 1);\r\n        }\r\n\r\n        this.getAgl().invalidateSize();\r\n        this.props.select.onScrollItem();\r\n    };\r\n\r\n    moveRight = (id) => {\r\n        let verticalSection = this.getVerticalSection(id);\r\n        if (!verticalSection)\r\n            return;\r\n\r\n        let gridArea = verticalSection.getGridArea();\r\n        let areas = gridArea.split('/');\r\n        let x1 = parseInt(areas[0]);\r\n        let y1 = parseInt(areas[1]);\r\n        let x2 = parseInt(areas[2]);\r\n        let y2 = parseInt(areas[3]);\r\n        let gridArea2, areas2, x12, y12, x22, y22;\r\n\r\n        let currentIndex = y1 - 1;\r\n        let sideSection = this.allSectionsV[currentIndex + 1];\r\n        if (sideSection !== null){\r\n            sideSection = this.props.idMan.getItem(sideSection);\r\n        }\r\n        // sideSection = this.props.idMan.getItem(sideSection) || null;\r\n        if (sideSection) {\r\n            gridArea2 = sideSection.getGridArea();\r\n            areas2 = gridArea2.split('/');\r\n            x12 = parseInt(areas2[0]);\r\n            y12 = parseInt(areas2[1]);\r\n            x22 = parseInt(areas2[2]);\r\n            y22 = parseInt(areas2[3]);\r\n\r\n            sideSection.setGridArea(\r\n                `${x1}/${y12 - 1}/${x2}/${y22 - 1}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n\r\n            verticalSection.setGridArea(\r\n                `${x12}/${y1 + 1}/${x22}/${y2 + 1}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n\r\n            swapArrayElements(this.allSectionsV, currentIndex, currentIndex + 1);\r\n\r\n            this.getAgl().invalidateSize();\r\n            this.props.select.onScrollItem();\r\n            return;\r\n        }\r\n\r\n        // if side section was main horizontal sections\r\n        if (sideSection === null) {\r\n            verticalSection.setGridArea(\r\n                `${x1}/${y1 + 1}/${x2}/${y2 + 1}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n\r\n            this.allSectionsH.forEach(horizontalSection => {\r\n                horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n                let gridArea = horizontalSection.getGridArea();\r\n                let areas = gridArea.split('/');\r\n                let x13 = parseInt(areas[0]);\r\n                let y13 = parseInt(areas[1]);\r\n                let x23 = parseInt(areas[2]);\r\n                let y23 = parseInt(areas[3]);\r\n\r\n                let firstRow = x1;\r\n                let lastRow = x2;\r\n\r\n                console.log(\"moveRight firstRow:\", firstRow, \"lastRow:\", lastRow, \"x13:\", x13, \"x23:\", x23);\r\n                if (x13 >= firstRow && x23 <= lastRow) {\r\n                    console.log(\"moveRight yes\");\r\n                    y13--;\r\n                    y23--;\r\n\r\n                    if (y23 > y1 + 1)\r\n                        y23 = y1 + 1;\r\n                }\r\n\r\n                gridArea = `${x13}/${y13}/${x23}/${y23}`;\r\n                horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n            });\r\n\r\n            swapArrayElements(this.allSectionsV, currentIndex, currentIndex + 1);\r\n        }\r\n\r\n        let mainColIndex = this.getMainColIndex();\r\n        this.gridTemplateColumns = new Array(this.allSectionsV.length).fill(0).map((a, i) => {\r\n            if (i === mainColIndex)\r\n                return mainColTemplate;\r\n            return \"auto\";\r\n        }).join(' ');\r\n        this.root.current.setGrid({\r\n            x: this.gridX,\r\n            y: this.gridY,\r\n            gridTemplateRows: this.gridTemplateRows,\r\n            gridTemplateColumns: this.gridTemplateColumns\r\n        }, undefined, this.props.breakpointmanager.getHighestBpName());\r\n\r\n        this.getAgl().invalidateSize();\r\n        this.props.select.onScrollItem();\r\n    };\r\n\r\n    moveLeft = (id) => {\r\n        let verticalSection = this.getVerticalSection(id);\r\n        if (!verticalSection)\r\n            return;\r\n\r\n        let gridArea = verticalSection.getGridArea();\r\n        let areas = gridArea.split('/');\r\n        let x1 = parseInt(areas[0]);\r\n        let y1 = parseInt(areas[1]);\r\n        let x2 = parseInt(areas[2]);\r\n        let y2 = parseInt(areas[3]);\r\n        let gridArea2, areas2, x12, y12, x22, y22;\r\n\r\n        let currentIndex = y1 - 1;\r\n        let sideSection = this.allSectionsV[currentIndex - 1];\r\n        if (sideSection !== null){\r\n            sideSection = this.props.idMan.getItem(sideSection);\r\n        }\r\n        // sideSection = this.props.idMan.getItem(sideSection) || null;\r\n        if (sideSection) {\r\n            gridArea2 = sideSection.getGridArea();\r\n            areas2 = gridArea2.split('/');\r\n            x12 = parseInt(areas2[0]);\r\n            y12 = parseInt(areas2[1]);\r\n            x22 = parseInt(areas2[2]);\r\n            y22 = parseInt(areas2[3]);\r\n\r\n            sideSection.setGridArea(\r\n                `${x1}/${y12 + 1}/${x2}/${y22 + 1}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n\r\n            verticalSection.setGridArea(\r\n                `${x12}/${y1 - 1}/${x22}/${y2 - 1}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n\r\n            swapArrayElements(this.allSectionsV, currentIndex, currentIndex - 1);\r\n\r\n            this.getAgl().invalidateSize();\r\n            this.props.select.onScrollItem();\r\n            return;\r\n        }\r\n\r\n        // if side section was main horizontal sections\r\n        if (sideSection === null) {\r\n            verticalSection.setGridArea(\r\n                `${x1}/${y1 - 1}/${x2}/${y2 - 1}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n            this.allSectionsH.forEach(horizontalSection => {\r\n                horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n                let gridArea = horizontalSection.getGridArea();\r\n                let areas = gridArea.split('/');\r\n                let x13 = parseInt(areas[0]);\r\n                let y13 = parseInt(areas[1]);\r\n                let x23 = parseInt(areas[2]);\r\n                let y23 = parseInt(areas[3]);\r\n\r\n                let firstRow = x1;\r\n                let lastRow = x2;\r\n\r\n                if (x13 >= firstRow && x23 <= lastRow) {\r\n                    y13++;\r\n                    y23++;\r\n\r\n                    if (y13 < y2 - 1)\r\n                        y13 = y2 - 1;\r\n                }\r\n\r\n                gridArea = `${x13}/${y13}/${x23}/${y23}`;\r\n                horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n            });\r\n\r\n            swapArrayElements(this.allSectionsV, currentIndex, currentIndex - 1);\r\n        }\r\n\r\n        let mainColIndex = this.getMainColIndex();\r\n        this.gridTemplateColumns = new Array(this.allSectionsV.length).fill(0).map((a, i) => {\r\n            if (i === mainColIndex)\r\n                return mainColTemplate;\r\n            return \"auto\";\r\n        }).join(' ');\r\n        this.root.current.setGrid({\r\n            x: this.gridX,\r\n            y: this.gridY,\r\n            gridTemplateRows: this.gridTemplateRows,\r\n            gridTemplateColumns: this.gridTemplateColumns\r\n        }, undefined, this.props.breakpointmanager.getHighestBpName());\r\n\r\n        this.getAgl().invalidateSize();\r\n        this.props.select.onScrollItem();\r\n    };\r\n\r\n    updateTemplates = () => {\r\n        let mainColIndex = this.getMainColIndex();\r\n        this.gridTemplateColumns = new Array(this.allSectionsV.length).fill(0).map((a, i) => {\r\n            if (i === mainColIndex)\r\n                return mainColTemplate;\r\n            if (isHideInBreakpoint(this.props.idMan.getItem(this.allSectionsV[i])))\r\n                return \"0px\";\r\n            return \"auto\";\r\n        }).join(' ');\r\n        this.gridTemplateRows = new Array(this.allSectionsH.length).fill(0).map((a, i) => {\r\n            if (isHideInBreakpoint(this.props.idMan.getItem(this.allSectionsH[i])))\r\n                return \"0px\";\r\n            return \"auto\";\r\n        }).join(' ');\r\n        this.root.current.setGrid({\r\n            x: this.gridX,\r\n            y: this.gridY,\r\n            gridTemplateRows: this.gridTemplateRows,\r\n            gridTemplateColumns: this.gridTemplateColumns\r\n        }, undefined, this.props.breakpointmanager.getHighestBpName());\r\n    };\r\n\r\n    hasMiniMenuOverride = () => {\r\n        return false;\r\n    };\r\n\r\n    invalidateSizeOverride = (agl, self, updateParent, updateChildren, sourceId) => {\r\n        if (self)\r\n            delete this.tempSize;\r\n\r\n        Object.values(agl.allChildRefs).forEach(childRef => {\r\n            if (childRef && childRef.current && sourceId !== childRef.current.props.id) {\r\n                childRef.current.invalidateSize(true, false, true);\r\n            }\r\n        });\r\n    };\r\n\r\n    getInspectorOverride = () => {\r\n        return (\r\n            <>\r\n                <InspectorBreadcrumbs\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorBackground\r\n                    item={this.getAgl()}\r\n                    onDesignChange={this.onDesignChange}\r\n                />\r\n                <InspectorPadding\r\n                    item={this.getAgl()}\r\n                />\r\n            </>\r\n        )\r\n    };\r\n\r\n    getSectionOfPoint = (left, top, width, height) => {\r\n        let childRef = Object.values(this.getAgl().allChildRefs).find(childRef => {\r\n            if (childRef && childRef.current) {\r\n                if (childRef.current.isPointInclude(left, top))\r\n                    return true;\r\n            }\r\n        });\r\n\r\n        if (!childRef)\r\n            childRef = Object.values(this.getAgl().allChildRefs).find(childRef => {\r\n                if (childRef && childRef.current) {\r\n                    if (childRef.current.isPointInclude(left + width, top + height))\r\n                        return true;\r\n                }\r\n            });\r\n\r\n        if (!childRef)\r\n            childRef = Object.values(this.getAgl().allChildRefs).find(childRef => {\r\n                return (childRef && childRef.current);\r\n            });\r\n\r\n        return childRef.current;\r\n    };\r\n\r\n    updateDesign = (compositeDesign) => {\r\n        let fillColor;\r\n\r\n        console.log(\"updateDesign\", compositeDesign.fillColor)\r\n        if (compositeDesign.fillColor)\r\n            fillColor = parseColor(compositeDesign.fillColor, compositeDesign.fillColor.alpha, this.context);\r\n\r\n        setStyleParam(\"backgroundColor\", fillColor || \"unset\",\r\n            this.getAgl(), 2, undefined, true);\r\n    };\r\n    // White Background\r\n    getStaticChildren = () => {\r\n\r\n        return <div\r\n            className=\"PageBaseWhiteBackground\"\r\n            style={{\r\n\r\n            }}\r\n        />\r\n    };\r\n\r\n    render() {\r\n        // let fullWidth = (this.getAgl() && this.getAgl().getSize(false)) || (1002);\r\n        let fullWidth = this.props.pageSize;\r\n        return (\r\n            <AGLWrapper tagName=\"PageBase\"\r\n                        aglRef={!this.props.aglRef ? this.root : this.root = this.props.aglRef}\r\n                        aglComponent={this}\r\n                        {...this.props}\r\n                        className=\"Page1Root\"\r\n                        style={{\r\n                            width: this.context.production ? \"100%\" : `${fullWidth}px`,\r\n                            height: \"100%\",\r\n                            boxShadow: \"0 2px 12px 6px rgba(134,138,165,.41)\",\r\n                            display: \"inline-block\",\r\n                        }}\r\n                        data={this.getData()}\r\n                        isPage\r\n                        resizeSides={[]}\r\n                        page={this}\r\n                        hasMiniMenuOverride={this.hasMiniMenuOverride}\r\n                        getInspector={this.getInspector}\r\n                        invalidateSizeOverride={this.invalidateSizeOverride}\r\n            >\r\n            </AGLWrapper>\r\n        )\r\n    }\r\n}\r\n\r\nPageBase.defaultProps = {\r\n    tagName: \"PageBase\",\r\n};\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\n\r\nexport default class VerticalSpacer extends AGLComponent{\r\n    render() {\r\n        return (\r\n            <AGLWrapper\r\n                tagName=\"VerticalSpacer\"\r\n                {...this.props}\r\n                data={this.getData()}\r\n                style={{\r\n                    width: \"100%\",\r\n                    height: \"20px\"\r\n                }}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport React from \"react\";\r\n\r\nlet FadeInAnimation = {};\r\n\r\nFadeInAnimation.getOptions = (props) => {\r\n    return null;\r\n};\r\n\r\nFadeInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {duration, delay} = options;\r\n    let animationStyles = StyleSheet.create({\r\n        fadeIn: {\r\n            animationName: {\r\n                \"0%\": {\r\n                    opacity: 0\r\n                },\r\n                \"100%\": {\r\n                    opacity: 1\r\n                }\r\n            },\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.fadeIn);\r\n};\r\n\r\nFadeInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default FadeInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\n\r\nlet BounceInAnimation = {};\r\n\r\nBounceInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Direction</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'From center',\r\n                    'From top left',\r\n                    'From top right',\r\n                    'From bottom left',\r\n                    'From bottom right'\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.direction`, v);\r\n                }}\r\n                value={options.direction || 'From top left'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nBounceInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {direction, duration, delay} = options;\r\n    direction = direction || 'From top left';\r\n\r\n    let animationName = {};\r\n    animationName['0%'] = {\r\n        opacity: 0,\r\n        transform: `scale3d(0, 0, 0) translate3d(${\r\n                direction.includes('center')? '0': direction.includes('left')? '-100%': direction.includes('right')?\r\n                    '100%': '0'\r\n            }, ${\r\n                direction.includes('center')? '0': direction.includes('top')? '-100%': direction.includes('bottom')?\r\n                    '100%': '0'\r\n            }, 0)`\r\n    };\r\n    animationName['20%'] = {\r\n        opacity: 0.33,\r\n        transform: `scale3d(1.1, 1.1, 1.1) translate3d(${\r\n            direction.includes('center')? '0': direction.includes('left')? '7%': direction.includes('right')?\r\n                '-7%': '0'\r\n            }, ${\r\n            direction.includes('center')? '0': direction.includes('top')? '7%': direction.includes('bottom')?\r\n                '-7%': '0'\r\n            }, 0)`\r\n    };\r\n    animationName['40%'] = {\r\n        opacity: 0.66,\r\n        transform: `scale3d(0.9, 0.9, 0.9) translate3d(${\r\n            direction.includes('center')? '0': direction.includes('left')? '-5%': direction.includes('right')?\r\n                '5%': '0'\r\n            }, ${\r\n            direction.includes('center')? '0': direction.includes('top')? '-5%': direction.includes('bottom')?\r\n                '5%': '0'\r\n            }, 0)`\r\n    };\r\n    animationName['60%'] = {\r\n        opacity: 1,\r\n        transform: `scale3d(1.03, 1.03, 1.03) translate3d(${\r\n            direction.includes('center')? '0': direction.includes('left')? '3%': direction.includes('right')?\r\n                '-3%': '0'\r\n            }, ${\r\n            direction.includes('center')? '0': direction.includes('top')? '3%': direction.includes('bottom')?\r\n                '-3%': '0'\r\n            }, 0)`\r\n    };\r\n    animationName['80%'] = {\r\n        opacity: 1,\r\n        transform: `scale3d(0.97, 0.97, 0.97) translate3d(${\r\n            direction.includes('center')? '0': direction.includes('left')? '-1%': direction.includes('right')?\r\n                '1%': '0'\r\n            }, ${\r\n            direction.includes('center')? '0': direction.includes('top')? '-1%': direction.includes('bottom')?\r\n                '1%': '0'\r\n            }, 0)`\r\n    };\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        transform: `scale3d(1, 1, 1)`\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        bounceIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.bounceIn);\r\n};\r\n\r\nBounceInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default BounceInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport React from \"react\";\r\nimport SliderInput from \"../../Menus/CommonComponents/SliderInput\";\r\nimport Angle from \"../../Menus/CommonComponents/Angle\";\r\nimport Divider from \"../../Menus/CommonComponents/Divider\";\r\n\r\nlet GlideInAnimation = {};\r\n\r\nGlideInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <>\r\n            <div className=\"MenuOptionSection\">\r\n                <p className=\"MenuOptionSectionTitle\">Angle</p>\r\n\r\n                <Angle\r\n                    className=\"ShadowAngle\"\r\n                    angle={options.angle || 90}\r\n                    onChange={(d) => {\r\n                        onDesignChange(`${designKey}.angle`, d);\r\n                    }}\r\n                />\r\n            </div>\r\n\r\n            <Divider/>\r\n\r\n            <div className=\"MenuOptionSection\">\r\n                <p className=\"MenuOptionSectionTitle\">Distance</p>\r\n\r\n                <div\r\n                    className=\"BorderWidth\"\r\n                >\r\n                    <SliderInput\r\n                        className=\"BorderWidthSlider\"\r\n                        min={0}\r\n                        max={300}\r\n                        value={options.distance || 100}\r\n                        designKey={`${designKey}.distance`}\r\n                        onDesignChange={onDesignChange}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n};\r\n\r\nGlideInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {distance, angle, duration, delay} = options;\r\n    distance = distance || 100;\r\n    angle = angle || 90;\r\n\r\n    let animationName = {};\r\n    let tx = - distance * Math.sin(angle * Math.PI / 180);\r\n    let ty = distance * Math.cos(angle * Math.PI / 180);\r\n    animationName['0%'] = {\r\n        opacity: 1,\r\n        transform: `translate3d(${tx}px, ${ty}px, 0)`\r\n    };\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        transform: `translate3d(0,0,0)`\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        glideIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.glideIn);\r\n};\r\n\r\nGlideInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default GlideInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\n\r\nlet FloatInAnimation = {};\r\n\r\nFloatInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Direction</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'From top',\r\n                    'From left',\r\n                    'From bottom',\r\n                    'From right',\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.direction`, v);\r\n                }}\r\n                value={options.direction || 'From left'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nFloatInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {direction, duration, delay} = options;\r\n    direction = direction || 'From left';\r\n\r\n    let animationName = {};\r\n    animationName['0%'] = {\r\n        opacity: 0,\r\n        transform: `translate3d(${\r\n                direction.includes('left')? '-20%': direction.includes('right')? '20%': 0\r\n            }, ${\r\n                direction.includes('top')? '-20%': direction.includes('bottom')? '20%': 0\r\n            }, 0)`\r\n    };\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        transform: `translate3d(0,0,0)`\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        floatIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.floatIn);\r\n};\r\n\r\nFloatInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default FloatInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\n\r\nlet ExpandInAnimation = {};\r\n\r\nExpandInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Power</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'Soft',\r\n                    'Medium',\r\n                    'Hard'\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.power`, v);\r\n                }}\r\n                value={options.power || 'Hard'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nExpandInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {power, duration, delay} = options;\r\n    power = power || 'Hard';\r\n\r\n    let animationName = {};\r\n    animationName[\"0%\"] = {\r\n        opacity: 0,\r\n        transform: `scale3d(${\r\n                power === \"Hard\"? '0.2': power === \"Medium\"? '0.5': '0.8'\r\n            }, ${\r\n                power === \"Hard\"? '0.2': power === \"Medium\"? '0.5': '0.8'\r\n            }, 0)`\r\n    };\r\n    animationName[\"100%\"] = {\r\n        opacity: 1,\r\n        transform: 'scale3d(1,1,1)'\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        expandIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.expandIn);\r\n};\r\n\r\nExpandInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default ExpandInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\nimport Divider from \"../../Menus/CommonComponents/Divider\";\r\nimport SliderInput from \"../../Menus/CommonComponents/SliderInput\";\r\n\r\nlet SpinInAnimation = {};\r\n\r\nSpinInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <>\r\n            <div className=\"MenuOptionAnimationRoot\">\r\n                <p className=\"MenuOptionSectionTitle\">Power</p>\r\n\r\n                <DropDown\r\n                    options={[\r\n                        'Soft',\r\n                        'Medium',\r\n                        'Hard'\r\n                    ]}\r\n                    onChange={(v) => {\r\n                        onDesignChange(`${designKey}.power`, v);\r\n                    }}\r\n                    value={options.power || 'Hard'}\r\n                    spanStyle={{\r\n                        width: \"100%\",\r\n                        fontSize: 14,\r\n                    }}\r\n                />\r\n            </div>\r\n\r\n            <Divider/>\r\n\r\n            <div className=\"MenuOptionAnimationRoot\">\r\n                <p className=\"MenuOptionSectionTitle\">Direction</p>\r\n\r\n                <DropDown\r\n                    options={[\r\n                        'Clockwise',\r\n                        'Counter clockwise',\r\n                    ]}\r\n                    onChange={(v) => {\r\n                        onDesignChange(`${designKey}.direction`, v);\r\n                    }}\r\n                    value={options.direction || 'Clockwise'}\r\n                    spanStyle={{\r\n                        width: \"100%\",\r\n                        fontSize: 14,\r\n                    }}\r\n                />\r\n            </div>\r\n\r\n            <Divider/>\r\n\r\n            <div className=\"MenuOptionAnimationRoot\">\r\n                <p className=\"MenuOptionSectionTitle\">Spin number</p>\r\n\r\n                <div\r\n                    className=\"BorderWidth\"\r\n                >\r\n                    <SliderInput\r\n                        className=\"BorderWidthSlider\"\r\n                        min={0}\r\n                        max={15}\r\n                        step={0.1}\r\n                        value={options.spinNo || 2}\r\n                        designKey={`${designKey}.spinNo`}\r\n                        onDesignChange={onDesignChange}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n};\r\n\r\nSpinInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {power, direction, spinNo, duration, delay} = options;\r\n    power = power || 'Hard';\r\n    direction = direction || 'Clockwise';\r\n    spinNo = spinNo || 2;\r\n\r\n    let animationName = {};\r\n    let firstRotate = 360 * spinNo * (direction === 'Clockwise'? -1: 1);\r\n    animationName[\"0%\"] = {\r\n        opacity: 0,\r\n        transform: `rotate(${firstRotate}deg) scale3d(${\r\n                power === \"Hard\"? '0.3': power === \"Medium\"? '0.6': '1'\r\n            }, ${\r\n                power === \"Hard\"? '0.3': power === \"Medium\"? '0.6': '1'\r\n            }, 1)`\r\n    };\r\n    animationName[\"100%\"] = {\r\n        opacity: 1,\r\n        transform: 'rotate(0deg) scale3d(1,1,1)'\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        spinIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.spinIn);\r\n};\r\n\r\nSpinInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default SpinInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\n\r\nlet FlyInAnimation = {};\r\n\r\nFlyInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Direction</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'From top',\r\n                    'From left',\r\n                    'From bottom',\r\n                    'From right',\r\n                    'From top left',\r\n                    'From top right',\r\n                    'From bottom left',\r\n                    'From bottom right',\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.direction`, v);\r\n                }}\r\n                value={options.direction || 'From top left'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nFlyInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let size = item.getSize(true);\r\n    let windowSize = {\r\n        width: item.props.breakpointmanager.getWindowWidth(),\r\n        height: item.props.breakpointmanager.getWindowHeight(),\r\n    };\r\n    let {direction, duration, delay} = options;\r\n    direction = direction || 'From top left';\r\n\r\n    let animationName = {};\r\n    animationName['0%'] = {\r\n        opacity: 0,\r\n        transform: `translate3d(${\r\n                direction.includes('left')? `${-size.left}px`: direction.includes('right')? `${\r\n                    windowSize.width - size.left - size.width\r\n                }px`: 0\r\n            }, ${\r\n                direction.includes('top')? `${-size.top}px`: direction.includes('bottom')? `${\r\n                    windowSize.height - size.top - size.height\r\n                }px`: 0\r\n            }, 0)`\r\n    };\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        transform: `translate3d(0,0,0)`\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        flyIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.flyIn);\r\n};\r\n\r\nFlyInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default FlyInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\n\r\nlet TurnInAnimation = {};\r\n\r\nTurnInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Direction</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'From left',\r\n                    'From right',\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.direction`, v);\r\n                }}\r\n                value={options.direction || 'From left'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nTurnInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let size = item.getSize(true);\r\n    let viewSize = item.props.viewRef.current.getSize(false);\r\n    let windowSize = {\r\n        width: item.props.breakpointmanager.getWindowWidth(),\r\n        height: item.props.breakpointmanager.getWindowHeight(),\r\n    };\r\n    let {direction, duration, delay} = options;\r\n    direction = direction || 'From left';\r\n\r\n    let animationName = {};\r\n    animationName['0%'] = {\r\n        opacity: 0,\r\n        transform: `translate3d(${\r\n            direction.includes('left')? `${\r\n                -(size.left - viewSize.left)\r\n                }px`: `${\r\n            windowSize.width - (size.left - viewSize.left) - size.width\r\n                }px`\r\n            }, -200%, 0) rotate(${\r\n            direction.includes('left')? '-45': '45'\r\n            }deg) `\r\n    };\r\n    animationName['30%'] = {\r\n        opacity: 0.3,\r\n        transform: `translate3d(${\r\n            direction.includes('left')? `${\r\n            -(size.left - viewSize.left) * 0.7\r\n                }px`: `${\r\n            (windowSize.width - (size.left - viewSize.left) - size.width) * 0.7\r\n                }px`\r\n            }, -${200*0.85}%, 0) rotate(${\r\n            direction.includes('left')? -45 * 0.7: 45 * 0.7\r\n            }deg) `\r\n    };\r\n    animationName['60%'] = {\r\n        opacity: 0.6,\r\n        transform: `translate3d(${\r\n            direction.includes('left')? `${\r\n            -(size.left - viewSize.left) * 0.4\r\n                }px`: `${\r\n            (windowSize.width - (size.left - viewSize.left) - size.width) * 0.4\r\n                }px`\r\n            }, -${200*0.55}%, 0) rotate(${\r\n            direction.includes('left')? -45 * 0.4: 45 * 0.4\r\n            }deg) `\r\n    };\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        transform: `translate3d(0,0,0) rotate(0deg) `\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        turnIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            animationTimingFunction: 'linear',\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.turnIn);\r\n};\r\n\r\nTurnInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default TurnInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport React from \"react\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\n\r\nlet ArcInAnimation = {};\r\n\r\nArcInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Direction</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'From left',\r\n                    'From right',\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.direction`, v);\r\n                }}\r\n                value={options.direction || 'From right'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nArcInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {direction, duration, delay} = options;\r\n    direction = direction || 'From right';\r\n\r\n    let animationName = {};\r\n    animationName['0%'] = {\r\n        opacity: 0,\r\n        transform: `perspective(400px) scale(0) rotateY(${\r\n            direction.includes('left') ? '-' : ''\r\n            }180deg) translateZ(600px)`\r\n    };\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        transform: `perspective(400px) scale(1) rotateY(0deg) translateZ(0px)`\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        arcIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            animationTimingFunction: 'linear',\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.arcIn);\r\n};\r\n\r\nArcInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default ArcInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\n\r\nlet PuffInAnimation = {};\r\n\r\nPuffInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Power</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'Soft',\r\n                    'Medium',\r\n                    'Hard'\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.power`, v);\r\n                }}\r\n                value={options.power || 'Hard'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nPuffInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {power, duration, delay} = options;\r\n    power = power || 'Hard';\r\n\r\n    let animationName = {};\r\n    animationName['0%'] = {\r\n        opacity: 0,\r\n        transform: `perspective(400px) translateZ(${\r\n            power === \"Hard\"? 400: power === \"Medium\"? 200: 100\r\n            }px)`\r\n    };\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        transform: `perspective(400px) translateZ(0)`\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        puffIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.puffIn);\r\n};\r\n\r\nPuffInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default PuffInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\n\r\nlet FoldInAnimation = {};\r\n\r\nFoldInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Direction</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'From top',\r\n                    'From left',\r\n                    'From bottom',\r\n                    'From right',\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.direction`, v);\r\n                }}\r\n                value={options.direction || 'From left'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nFoldInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {direction, duration, delay} = options;\r\n    direction = direction || 'From left';\r\n\r\n    let animationName = {};\r\n    animationName['0%'] = {\r\n        opacity: 0,\r\n        transform: `perspective(400px) rotateY(${\r\n                direction.includes('left')? 90: direction.includes('right')? -90: 0\r\n            }deg) rotateX(${\r\n                direction.includes('top')? -90: direction.includes('bottom')? 90: 0\r\n            }deg)`,\r\n        transformOrigin: `${\r\n            direction.includes('left')? 'left': direction.includes('right')? 'right': 'center'\r\n            } ${\r\n            direction.includes('top')? 'top': direction.includes('bottom')? 'bottom': 'center'\r\n            } 0`,\r\n    };\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        transform: `perspective(400px) rotateY(0deg) rotateX(0deg)`,\r\n        transformOrigin: `${\r\n            direction.includes('left')? 'left': direction.includes('right')? 'right': 'center'\r\n            } ${\r\n            direction.includes('top')? 'top': direction.includes('bottom')? 'bottom': 'center'\r\n            } 0`,\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        foldIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.foldIn);\r\n};\r\n\r\nFoldInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default FoldInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\n\r\nlet FlipInAnimation = {};\r\n\r\nFlipInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Direction</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'From top',\r\n                    'From left',\r\n                    'From bottom',\r\n                    'From right',\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.direction`, v);\r\n                }}\r\n                value={options.direction || 'From top'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nFlipInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {direction, duration, delay} = options;\r\n    direction = direction || 'From top';\r\n\r\n    let animationName = {};\r\n    animationName['0%'] = {\r\n        opacity: 0,\r\n        transform: `perspective(400px) rotateY(${\r\n                direction.includes('left')? -90: direction.includes('right')? 90: 0\r\n            }deg) rotateX(${\r\n                direction.includes('top')? 90: direction.includes('bottom')? -90: 0\r\n            }deg)`,\r\n    };\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        transform: `perspective(400px) rotateY(0deg) rotateX(0deg)`,\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        flipIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.flipIn);\r\n};\r\n\r\nFlipInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default FlipInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\n\r\nlet RevealAnimation = {};\r\n\r\nRevealAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Direction</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'From center',\r\n                    'From top',\r\n                    'From left',\r\n                    'From bottom',\r\n                    'From right',\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.direction`, v);\r\n                }}\r\n                value={options.direction || 'From center'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nRevealAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {direction, duration, delay} = options;\r\n    direction = direction || 'From center';\r\n\r\n    let animationName = {};\r\n    switch (direction) {\r\n        case 'From center':\r\n            animationName['0%'] = {\r\n                opacity: 1,\r\n                clipPath: `polygon(50% 50%, 50% 50%, 50% 50%, 50% 50%)`,\r\n            };\r\n            break;\r\n        case 'From left':\r\n            animationName['0%'] = {\r\n                opacity: 1,\r\n                clipPath: `polygon(0 0, 0 0, 0 100%, 0 100%)`,\r\n            };\r\n            break;\r\n        case 'From right':\r\n            animationName['0%'] = {\r\n                opacity: 1,\r\n                clipPath: `polygon(100% 0, 100% 0, 100% 100%, 100% 100%)`,\r\n            };\r\n            break;\r\n        case 'From top':\r\n            animationName['0%'] = {\r\n                opacity: 1,\r\n                clipPath: `polygon(0 0, 0 100%, 0 100%, 0 0)`,\r\n            };\r\n            break;\r\n        case 'From bottom':\r\n            animationName['0%'] = {\r\n                opacity: 1,\r\n                clipPath: `polygon(0 100%, 100% 100%, 100% 100%, 0 100%)`,\r\n            };\r\n            break;\r\n    }\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        clipPath: `polygon(0 0, 100% 0, 100% 100%, 0 100%)`,\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        reveal: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.reveal);\r\n};\r\n\r\nRevealAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default RevealAnimation;\r\n","export function getTextStyle (textTheme, textStaticData, textDesignData) {\r\n    return {\r\n        fontFamily: textDesignData.fontFamily || \"Arial\",\r\n        textAlign: `${textDesignData.textAlign || 'left'}`,\r\n        fontSize: `${textDesignData.fontSize || textTheme.fontSize || 22}px`,\r\n        fontWeight: `${textDesignData.fontWeight || textTheme.fontWeight || 'normal'}`,\r\n        fontStyle: `${textDesignData.fontStyle || textTheme.fontStyle || 'normal'}`,\r\n        fontDecoration: textDesignData.fontDecoration || textTheme.fontDecoration,\r\n        color: textDesignData.color || textTheme.color || '#181818',\r\n        backgroundColor: textDesignData.backgroundColor || textTheme.backgroundColor,\r\n        lineHeight: textDesignData.lineHeight || textTheme.lineHeight || 'normal',\r\n        letterSpacing: textDesignData.letterSpacing || textTheme.letterSpacing || 'normal'\r\n    }\r\n}\r\n\r\nexport function getFontDataByFamily (allFonts, fontFamily) {\r\n    let fontData = Object.values(allFonts).find(fontData => {\r\n        return fontFamily === fontData.fontFamily;\r\n    })\r\n\r\n    if (fontData)\r\n        return fontData;\r\n\r\n    return Object.values(allFonts).find(fontData => {\r\n        return \"Arial\" === fontData.name;\r\n    })\r\n}\r\n\r\nexport function getFontDataByName (allFonts, name) {\r\n    let fontData = Object.values(allFonts).find(fontData => {\r\n        return name === fontData.fontFamily;\r\n    })\r\n\r\n    if (fontData)\r\n        return fontData;\r\n\r\n    return Object.values(allFonts).find(fontData => {\r\n        return \"Arial\" === fontData.name;\r\n    })\r\n}\r\n\r\nexport function getInheritTextStyle () {\r\n    return {\r\n        fontFamily: \"inherit\",\r\n        textAlign: \"inherit\",\r\n        fontSize: \"inherit\",\r\n        fontWeight: \"inherit\",\r\n        fontStyle: \"inherit\",\r\n        fontDecoration: \"inherit\",\r\n        color: \"inherit\",\r\n        backgroundColor: \"inherit\",\r\n        lineHeight: \"inherit\",\r\n        letterSpacing: \"inherit\",\r\n    }\r\n}\r\n\r\nexport function applyProperty (doc, win, propertyName, value, tagName = 'span') {\r\n    let html = getSelectionHtmlRemoveProperty(doc, win, propertyName);\r\n    if (html && !html.includes('<')) {\r\n        let sel = doc.getSelection();\r\n        let range = sel.getRangeAt(0);\r\n        range.deleteContents();\r\n        var span = doc.createElement(tagName);\r\n        span.setAttribute(\"style\", `${propertyName}: ${value}; display: inline`);\r\n        span.innerText = html;\r\n        range.insertNode(span);\r\n        sel.addRange(range);\r\n    }\r\n    else if (html) {\r\n        doc.execCommand(\r\n            'insertHTML', false, `<${tagName} style=\"${propertyName}: ${value}\">${html}</${tagName}>`);\r\n    }\r\n}\r\n\r\nexport function getSelectionHtmlRemoveProperty (doc, win, propertyName, tagName = 'span') {\r\n    let range;\r\n    if (doc.selection && doc.selection.createRange) {\r\n        range = doc.selection.createRange();\r\n        return range.htmlText;\r\n    }\r\n    else if (win.getSelection) {\r\n        let selection = win.getSelection();\r\n        if (selection.rangeCount > 0) {\r\n            range = selection.getRangeAt(0);\r\n            let clonedSelection = range.cloneContents();\r\n            let div = doc.createElement(tagName);\r\n            div.appendChild(clonedSelection);\r\n            let nodes = div.getElementsByTagName(\"*\");\r\n            for (let node of nodes) {\r\n                if (node.style && node.style.removeProperty)\r\n                    node.style.removeProperty(propertyName);\r\n            }\r\n            return div.innerHTML;\r\n        }\r\n        else {\r\n            return '';\r\n        }\r\n    }\r\n    else {\r\n        return '';\r\n    }\r\n}\r\n\r\nexport function getSelectionText (doc, win, tagName = 'span') {\r\n    let range;\r\n    if (doc.selection && doc.selection.createRange) {\r\n        range = doc.selection.createRange();\r\n        return range.htmlText;\r\n    }\r\n    else if (win.getSelection) {\r\n        let selection = win.getSelection();\r\n        if (selection.rangeCount > 0) {\r\n            range = selection.getRangeAt(0);\r\n            let clonedSelection = range.cloneContents();\r\n            let div = doc.createElement(tagName);\r\n            div.appendChild(clonedSelection);\r\n            return div.innerText;\r\n        }\r\n        else {\r\n            return '';\r\n        }\r\n    }\r\n    else {\r\n        return '';\r\n    }\r\n}\r\n\r\nfunction nextNode(node) {\r\n    if (node.hasChildNodes()) {\r\n        return node.firstChild;\r\n    } else {\r\n        while (node && !node.nextSibling) {\r\n            node = node.parentNode;\r\n        }\r\n        if (!node) {\r\n            return null;\r\n        }\r\n        return node.nextSibling;\r\n    }\r\n}\r\n\r\nexport function getRangeSelectedNodes(range) {\r\n    var node = range.startContainer;\r\n    var endNode = range.endContainer;\r\n\r\n    // Special case for a range that is contained within a single node\r\n    if (node == endNode) {\r\n        return [node];\r\n    }\r\n\r\n    // Iterate nodes until we hit the end container\r\n    var rangeNodes = [];\r\n    while (node && node != endNode) {\r\n        rangeNodes.push( node = nextNode(node) );\r\n    }\r\n\r\n    // Add partially selected nodes at the start of the range\r\n    node = range.startContainer;\r\n    while (node && node != range.commonAncestorContainer) {\r\n        rangeNodes.unshift(node);\r\n        node = node.parentNode;\r\n    }\r\n\r\n    return rangeNodes;\r\n}\r\n\r\nexport function getParentLine(range) {\r\n    var node = range.startContainer;\r\n    let found = false;\r\n    let parentLine;\r\n    while (!found) {\r\n        let newParantLine = (parentLine || node).parentNode;\r\n        if (!newParantLine) {\r\n            parentLine = undefined;\r\n            break;\r\n        }\r\n\r\n        if (newParantLine.id === \"editableDiv\") {\r\n            found = true;\r\n            break;\r\n        } else {\r\n            parentLine = newParantLine;\r\n        }\r\n    }\r\n\r\n    return parentLine;\r\n}\r\n\r\nexport function getRandomColor() {\r\n    var letters = '0123456789ABCDEF';\r\n    var color = '#';\r\n    for (var i = 0; i < 6; i++) {\r\n        color += letters[Math.floor(Math.random() * 16)];\r\n    }\r\n    return color;\r\n}\r\n\r\nexport function getLineSelected(selection) {\r\n    let range = selection.getRangeAt(0);\r\n    let nodes = getRangeSelectedNodes(range);\r\n\r\n    let lineNodes = [];\r\n\r\n    nodes.forEach(node => {\r\n        let found = false;\r\n        let parentLine = node;\r\n        while (!found) {\r\n            let newParantLine = parentLine.parentNode;\r\n            if (!newParantLine) {\r\n                parentLine = undefined;\r\n                break;\r\n            }\r\n\r\n            if (newParantLine.id === \"editableDiv\") {\r\n                found = true;\r\n                break;\r\n            } else {\r\n                parentLine = newParantLine;\r\n            }\r\n        }\r\n\r\n        if (parentLine && !lineNodes.includes(parentLine))\r\n            lineNodes.push(parentLine);\r\n    })\r\n\r\n    return lineNodes;\r\n}\r\n","import React from \"react\";\r\nimport {getInheritTextStyle} from \"../TextHelper\";\r\n\r\nexport default class InputDiv extends React.Component {\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        return false;\r\n    }\r\n\r\n    render () {\r\n        let {tag, textStaticData} = this.props;\r\n        let TextTag = tag;\r\n        return (\r\n            <TextTag\r\n                id={\"editableDiv\"}\r\n                key={'textEditor'}\r\n                ref={this.props.textareaRef}\r\n                contentEditable={true}\r\n                style={{...{\r\n                    width: \"100%\",\r\n                    boxSizing: \"border-box\",\r\n                    margin: 0,\r\n                    height: \"auto\",\r\n                    overflow: \"hidden\",\r\n                    display: \"inline-block\",\r\n                    whiteSpace: 'pre-wrap'\r\n                }, ...getInheritTextStyle()}}\r\n                dangerouslySetInnerHTML={{ __html: this.props.value }}\r\n            >\r\n            </TextTag>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport InputDiv from \"./InputDiv\";\r\nimport {\r\n    getInheritTextStyle,\r\n    getParentLine,\r\n    getSelectionHtmlRemoveProperty,\r\n    getSelectionText,\r\n    getTextStyle\r\n} from \"../TextHelper\";\r\nimport {JSToCSS} from \"../../../AwesomeGridLayoutUtils\";\r\n\r\nexport default class InputWrapper extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {};\r\n\r\n        this.textareaRef = React.createRef();\r\n        this.textEditorRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.onLoad && this.props.onLoad();\r\n        this.updateHeight();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        this.props.onUpdate && this.props.onUpdate();\r\n    }\r\n\r\n    updateHeight = () => {\r\n        this.setState({\r\n            // width: this.textareaRef.current.scrollWidth,\r\n            height: this.textareaRef.current.scrollHeight,\r\n        })\r\n    }\r\n\r\n    onChange = (e, callback) => {\r\n        this.updateHeight();\r\n        this.props.onChange && this.props.onChange(e, callback);\r\n    }\r\n\r\n    onInput = (e) => {\r\n        if (e)\r\n            e.target.value = this.textareaRef.current.innerHTML;\r\n        else\r\n            e = {target: {value: this.textareaRef.current.innerHTML}}\r\n\r\n        this.onChange(e);\r\n    }\r\n\r\n    keydown = (e) => {\r\n        e = e || window.event;\r\n        let key = e.which || e.keyCode; // keyCode detection\r\n        if (key === 13) { // Enter or Return\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n\r\n            let sel = this.props.doc.getSelection();\r\n            let range = sel.getRangeAt(0);\r\n            let line = getParentLine(range);\r\n            if (!line)\r\n                return;\r\n\r\n            range.deleteContents();\r\n\r\n            range.setEndAfter(line);\r\n\r\n            let text = getSelectionText(this.props.doc, this.props.iframeNode.contentWindow);\r\n\r\n            if (!text) {\r\n                let br = this.props.doc.createElement(\"br\");\r\n                range.startContainer.after(br);\r\n                range.setStartBefore(br);\r\n            }\r\n\r\n            let html = getSelectionHtmlRemoveProperty(this.props.doc, this.props.iframeNode.contentWindow);\r\n\r\n            console.log(\"html\", html, text)\r\n\r\n            range.deleteContents();\r\n\r\n            range.setStartAfter(line);\r\n\r\n            line.insertAdjacentHTML('afterend', html)\r\n            this.onInput();\r\n        } else {\r\n            // this.props.doc.execCommand('selectAll');\r\n                // let text = getSelectionText(this.props.doc, this.props.iframeNode.contentWindow);\r\n\r\n            console.log(\"text\", this.textareaRef.current.innerText)\r\n            if (!this.textareaRef.current.innerText.trim()) {\r\n                this.textareaRef.current.innerHTML = '';\r\n\r\n                console.log(\"this.props.tag\", this.props.tag)\r\n                let div = this.props.doc.createElement(this.props.tag);\r\n                div.setAttribute(\"title\", \"line\");\r\n                div.setAttribute(\"style\", JSToCSS({...getInheritTextStyle(), ...{margin: \"0px\"}}))\r\n                div.focus();\r\n                div.innerText = String.fromCharCode(key);\r\n\r\n                let sel = this.props.doc.getSelection();\r\n                let range = sel.getRangeAt(0);\r\n\r\n                range.insertNode(div);\r\n                range.setStart(div, 1);\r\n                range.collapse(true)\r\n\r\n                sel.removeAllRanges()\r\n                sel.addRange(range)\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n            }\r\n        }\r\n    }\r\n\r\n    init = (doc) => {\r\n        if (!this.inited) {\r\n            this.inited = true;\r\n            doc.getElementById(\"textEditor\").addEventListener(\"input\", this.onInput);\r\n            // doc.getElementById(\"textEditor\").addEventListener(\"keydown\", this.keydown);\r\n        }\r\n    }\r\n\r\n    render () {\r\n        let {textTheme, textStaticData, textDesignData} = this.props;\r\n        let TextTag = this.props.tag;\r\n        return (\r\n            <div\r\n                dir={textStaticData.dir || \"ltr\"}\r\n                ref={this.textEditorRef}\r\n                id={'textEditor'}\r\n                style={{...{\r\n                    width: this.props.width,\r\n                    boxSizing: \"border-box\",\r\n                    margin: 0,\r\n                    height: this.state.height || this.props.height,\r\n                    resize: \"none\",\r\n                    overflow: \"hidden\"\r\n                }, ...getTextStyle(textTheme, textStaticData, textDesignData)}}\r\n            >\r\n                <InputDiv\r\n                    textareaRef={this.textareaRef}\r\n                    value={this.props.value}\r\n                    tag={this.props.tag}\r\n                    textTheme={this.props.textTheme}\r\n                    textStaticData={this.props.textStaticData}\r\n                    textDesignData={this.props.textDesignData}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './TextEditor.css';\r\nimport IconButton from \"../../../HelperComponents/IconButton\";\r\n\r\nexport default class TextEditorButton extends React.Component {\r\n    render () {\r\n        return (\r\n            <IconButton\r\n                buttonBaseStyle={{\r\n                    marginLeft: 4,\r\n                    backgroundColor: this.props.selected ? \"#dce9ff\" : \"unset\"\r\n                }}\r\n                imageContainerStyle={{\r\n                    padding: 6\r\n                }}\r\n                onClick={this.props.onClick}\r\n                rootRef={this.props.rootRef}\r\n            >\r\n                {this.props.children}\r\n            </IconButton>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst useStyles = makeStyles({\r\n    popper: {\r\n        zIndex: 999999999999999999\r\n    },\r\n    root: {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        borderRight: \"1px solid #c6c6c6\",\r\n        paddingRight: 12\r\n    }\r\n});\r\n\r\nexport default function FontSizeAutoComplete(props) {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Autocomplete\r\n            classes={{\r\n                popper: classes.popper,\r\n                root: classes.root\r\n            }}\r\n            {...props}\r\n        />\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FontSizeAutoComplete from \"./FontSizeAutoComplete\";\r\n\r\nexport default class FontSizeSelector extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {};\r\n    }\r\n    filterOptions = (options) => {\r\n        return [\"6\",\"8\",\"10\",\"12\",\"14\",\"16\",\"18\",\"20\",\"22\",\"24\",\"28\",\"32\",\"48\",\"72\"];\r\n    }\r\n\r\n    getAllowableFontSize = () => {\r\n        return (new Array(100)).fill(\"0\").map((v, i) => {\r\n            return `${i + 1}`;\r\n        });\r\n    }\r\n\r\n    setForceValue = (value) => {\r\n        this.onFontSizeChange(undefined, value, \"input\");\r\n    }\r\n\r\n    onFontSizeChange = (e, value, reason) => {\r\n        console.log(\"onFontSizeChange value reason\", value, reason);\r\n        if (reason === \"input\") {\r\n            console.log(\"onFontSizeChange input\", value);\r\n            this.setState({tempFontSize: value});\r\n        } else if (reason === \"select-option\") {\r\n            console.log(\"onFontSizeChange select-option\", value);\r\n            this.setFontSize(value);\r\n        } else if (reason === \"enter\") {\r\n            console.log(\"onFontSizeChange enter\", value, this.getAllowableFontSize());\r\n            if (this.getAllowableFontSize().includes(value))\r\n                this.setFontSize(value);\r\n            else\r\n                this.setState({tempFontSize: this.getFontSizeValue(value !== \"\" && true)});\r\n        }\r\n    }\r\n\r\n    setFontSize = (value) => {\r\n        this.setState({tempFontSize: value});\r\n        this.props.onChange(value);\r\n    }\r\n\r\n    setFontSizeUi = (value) => {\r\n        this.setState({tempFontSize: value});\r\n    }\r\n\r\n    getFontSizeValue = (ignoreState = false) => {\r\n        let {textTheme, textStaticData, textDesignData} = this.props;\r\n\r\n        if (!ignoreState && this.state.tempFontSize !== undefined)\r\n            return this.state.tempFontSize;\r\n\r\n        return (!ignoreState && this.state.tempFontSize) ||\r\n            (textDesignData.fontSize && textDesignData.fontSize.toString()) ||\r\n            (textTheme.fontSize &&\r\n                textTheme.fontSize.toString()) ||\r\n            \"22\"\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <FontSizeAutoComplete\r\n                size={\"small\"}\r\n                options={this.getAllowableFontSize()}\r\n                value={this.getFontSizeValue()}\r\n                getOptionLabel={(option) => option}\r\n                filterOptions={this.filterOptions}\r\n                style={this.props.style || { width: 64 }}\r\n                popupIcon={\r\n                    <img width={10} height={10} src={process.env.PUBLIC_URL + \"/static/icon/down-arrow.svg\"}/>\r\n                }\r\n                renderInput={(params) => {\r\n                    params.InputProps.disableUnderline = true;\r\n                    params.inputProps.style = {padding: 0, fontSize: 14};\r\n                    return (\r\n                        <TextField {...params} onChange={(e) => {\r\n                            this.onFontSizeChange(e, e.target.value, 'input');\r\n                        }}/>\r\n                    )\r\n                }}\r\n                blurOnSelect\r\n                onChange={this.onFontSizeChange}\r\n                onKeyDown={(e) => {\r\n                    if((e.keyCode || e.which) === 13){\r\n                        this.onFontSizeChange(e, e.target.value, 'enter');\r\n                    }\r\n                }}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport TextEditorButton from \"../TextEditorButton\";\r\nimport {EditorContext} from \"../../../../Editor/EditorContext\";\r\nimport ThemeColorPicker from \"../../../../Test/Theme/ThemeColorPicker\";\r\n\r\nexport default class TextColorSelector extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {};\r\n\r\n        this.buttonRef = React.createRef();\r\n    }\r\n\r\n    handleChangeComplete = (color) => {\r\n        this.props.onChange(color);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <TextEditorButton\r\n                    rootRef={this.buttonRef}\r\n                    onClick={(e) => {\r\n                        this.setState({open: true})\r\n                    }}\r\n                >\r\n                    {this.props.children}\r\n                </TextEditorButton>\r\n\r\n                {\r\n                    this.state.open &&\r\n                    <ThemeColorPicker\r\n                        onClose={(e) => {\r\n                            this.setState({open: false})\r\n                        }}\r\n                        onChangeComplete={ this.handleChangeComplete }\r\n                        disableAlpha\r\n                        editor={this.context.editor}\r\n                        defaultPosition={\r\n                            this.buttonRef.current.getBoundingClientRect()\r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import {JSToCSS} from \"../AwesomeGridLayoutUtils\";\r\n\r\nlet CSSManager = {\r\n    pendingUpdates: {},\r\n    animationFrameRequested: false\r\n};\r\n\r\nCSSManager.updateStyle = (style, styleName) => {\r\n    CSSManager.pendingUpdates[styleName] = {\r\n        style, styleName\r\n    };\r\n\r\n    if (!CSSManager.animationFrameRequested) {\r\n        window.requestAnimationFrame(CSSManager.updateAll);\r\n        CSSManager.animationFrameRequested = true;\r\n    }\r\n};\r\n\r\nCSSManager.updateAll = () => {\r\n    if (!CSSManager.styleNode)\r\n        CSSManager.styleNode = document.getElementById('all-responsive-style');\r\n    if (!CSSManager.styleNode) {\r\n        CSSManager.styleNode = document.createElement('style');\r\n        CSSManager.styleNode.setAttribute(\"id\", 'all-responsive-style');\r\n        document.head.appendChild(CSSManager.styleNode);\r\n        CSSManager.styleNode.sheet.insertRule('.foo{color:red;}', 0);\r\n    }\r\n\r\n    let cssRules = CSSManager.styleNode.sheet.cssRules;\r\n    let allRules = [];\r\n\r\n    console.log(\"updateAll\", cssRules.length);\r\n    for (let i = 0; i < cssRules.length; i++) {\r\n        let rule = cssRules[i];\r\n        if (CSSManager.pendingUpdates[rule.selectorText]) {\r\n            let styleData = CSSManager.pendingUpdates[rule.selectorText];\r\n\r\n            allRules.push({cssText: `.${styleData.styleName} {${JSToCSS(styleData.style)}}`});\r\n\r\n            delete CSSManager.pendingUpdates[rule.selectorText];\r\n        } else {\r\n            allRules.push({cssText: rule.cssText});\r\n        }\r\n    }\r\n    console.log(\"updateAll allRules.length\", allRules.length);\r\n\r\n    Object.values(CSSManager.pendingUpdates).forEach(styleData => {\r\n        allRules.push({\r\n            cssText: `.${styleData.styleName} {${JSToCSS(styleData.style)}}`\r\n        });\r\n    });\r\n\r\n    CSSManager.pendingUpdates = {};\r\n\r\n    console.log(\"allRules\", allRules);\r\n\r\n    let css = allRules.map(rule => {\r\n        return rule.cssText;\r\n    }).join(' ');\r\n\r\n    console.log(\"css\", css);\r\n\r\n    CSSManager.styleNode.innerHTML = \"\";\r\n    if (CSSManager.styleNode.styleSheet) { // IE\r\n        CSSManager.styleNode.styleSheet.cssText = css;\r\n    } else {\r\n        CSSManager.styleNode.appendChild(document.createTextNode(css));\r\n    }\r\n\r\n    CSSManager.animationFrameRequested = false;\r\n};\r\n\r\nexport default CSSManager;\r\n","import React from \"react\";\r\nimport Popper from \"@material-ui/core/Popper/Popper\";\r\nimport './TextEditor.css';\r\nimport TextEditorButton from \"./TextEditorButton\";\r\nimport {EditorContext} from \"../../../Editor/EditorContext\";\r\nimport DropDown from \"../../../Menus/CommonComponents/DropDown\";\r\nimport {getRandomColor, getFontDataByFamily} from \"../TextHelper\";\r\nimport FontSizeSelector from \"./components/FontSizeSelector\";\r\nimport TextColorSelector from \"./components/TextColorSelector\";\r\nimport CSSManager from \"../../../Test/CSSManager\";\r\nimport StaticFonts from '../Fonts/StaticFonts.json';\r\n\r\nexport default class TextEditor extends React.Component {\r\n    static contextType = EditorContext;\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {};\r\n\r\n        this.fontSizeSelectorRef = React.createRef();\r\n    }\r\n\r\n    // Depricated: These function does not support undo redo\r\n    // applyProperty = (propertyName, value, tagName = 'span') => {\r\n    //     applyProperty(this.props.doc, this.props.iframeNode.contentWindow, propertyName, value, tagName);\r\n    //     this.props.inputWrapperRef.current.onInput();\r\n    // }\r\n\r\n    getTextDir = () => {\r\n        let {textStaticData} = this.props;\r\n\r\n        if (!textStaticData.dir)\r\n            return \"ltr\";\r\n\r\n        return textStaticData.dir;\r\n    }\r\n\r\n    onIframeTextClicked = (e) => {\r\n        this.refreshState();\r\n    }\r\n\r\n    refreshState = () => {\r\n        window.requestAnimationFrame(() => {\r\n            const selection = this.props.doc.getSelection();\r\n\r\n            // set size\r\n            const size = window.getComputedStyle(selection.anchorNode.parentElement, null).getPropertyValue('font-size');\r\n            this.fontSizeSelectorRef.current.setForceValue(size);\r\n\r\n            // set bold\r\n            const fontWeight = window.getComputedStyle(selection.anchorNode.parentElement, null).getPropertyValue('font-weight');\r\n            let bold = (fontWeight === \"700\");\r\n\r\n            // set italic\r\n            const fontStyle = window.getComputedStyle(selection.anchorNode.parentElement, null).getPropertyValue('font-style');\r\n            let italic = (fontStyle === \"italic\");\r\n\r\n            // set underline\r\n            const decoration = window.getComputedStyle(selection.anchorNode.parentElement, null).getPropertyValue('text-decoration');\r\n            console.log(\"decoration\", decoration)\r\n            let underline = (decoration.includes(\"underline\"));\r\n\r\n            // set font name\r\n            let fontFamily =\r\n                window.getComputedStyle(selection.anchorNode.parentElement, null).getPropertyValue('font-family');\r\n\r\n            let fontData = getFontDataByFamily(StaticFonts, fontFamily);\r\n\r\n            this.setState({bold, italic, underline, fontData});\r\n        });\r\n    }\r\n\r\n    isTextSelcted = () => {\r\n            let sel = this.props.doc.getSelection();\r\n            return !(sel.toString().length < 1);\r\n    }\r\n\r\n    render () {\r\n        let {textTheme, textStaticData, textDesignData, anchorEI} = this.props;\r\n        return (\r\n            <Popper\r\n                open={true}\r\n                anchorEl={anchorEI}\r\n                placement=\"top-start\"\r\n                style={{\r\n                    zIndex: 9999999999999999,\r\n                    ...this.props.style\r\n                }}\r\n                modifiers={{\r\n                    flip: {\r\n                        enabled: true,\r\n                    },\r\n                    preventOverflow: {\r\n                        enabled: true,\r\n                        boundariesElement: 'scrollParent',\r\n                    },\r\n                }}\r\n            >\r\n                <div\r\n                    className=\"TextEditorRoot\"\r\n                    onMouseDown={(e) => {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                    }}\r\n                    onClick={(e) => {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                    }}\r\n                    onDoubleClick={(e) => {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                    }}\r\n                >\r\n                    <div className=\"TextEditorContainer\">\r\n                        <div className=\"TextEditorContainerRow\">\r\n                            <DropDown\r\n                                rootStyle={{\r\n                                    borderRight: \"1px solid #c6c6c6\",\r\n                                    marginRight: 12,\r\n                                    marginLeft: 4\r\n                                }}\r\n                                menuItemStyle={{\r\n                                    padding: 0\r\n                                }}\r\n                                options={this.context.getTheme(\"Text\")}\r\n                                onChange={(v) => {\r\n                                    textDesignData.textTheme = v.name;\r\n                                    this.props.onChangeData(textStaticData, textDesignData);\r\n                                    window.requestAnimationFrame(() => {\r\n                                        this.props.updateInputWrapper();\r\n                                        this.props.inputWrapperRef.current.onInput();\r\n                                    })\r\n                                }}\r\n                                value={textTheme}\r\n                                spanStyle={{\r\n                                    width: 180,\r\n                                    fontSize: 14,\r\n                                    border: \"0px solid #cfcfcf\",\r\n                                }}\r\n                                renderer={(textTheme) => {\r\n                                    return (\r\n                                        <div className=\"TextEditorThemeRendererRoot\">\r\n                                        <span className=\"TextEditorThemeRendererColor\" style={{\r\n                                            backgroundColor: textTheme.color\r\n                                        }}>\r\n                                        </span>\r\n                                            <span className=\"TextEditorThemeRendererName\">\r\n                                            {textTheme.name}\r\n                                        </span>\r\n                                            <span className=\"TextEditorThemeRendererSize\">\r\n                                            {textTheme.fontSize}px\r\n                                        </span>\r\n                                        </div>\r\n                                    )\r\n                                }}\r\n                                valueRenderer={(textTheme) => {\r\n                                    return (\r\n                                        <span>\r\n                                        {textTheme.name}\r\n                                    </span>\r\n                                    )\r\n                                }}\r\n                            />\r\n                            <DropDown\r\n                                rootStyle={{\r\n                                    borderRight: \"1px solid #c6c6c6\",\r\n                                    marginRight: 12,\r\n                                    marginLeft: 4\r\n                                }}\r\n                                menuItemStyle={{\r\n                                    padding: 0\r\n                                }}\r\n                                options={Object.values(StaticFonts)}\r\n                                onChange={(fontData) => {\r\n                                    if (!this.isTextSelcted()) {\r\n                                        textDesignData.fontFamily = fontData.fontFamily;\r\n                                        this.props.onChangeData(textStaticData, textDesignData);\r\n                                        window.requestAnimationFrame(() => {\r\n                                            this.props.updateInputWrapper();\r\n                                            this.props.inputWrapperRef.current.onInput();\r\n                                        })\r\n                                    } else {\r\n                                        this.props.doc.execCommand('fontName', false, fontData.fontFamily);\r\n                                        this.refreshState();\r\n                                    }\r\n                                }}\r\n                                value={this.state.fontData? this.state.fontData:\r\n                                    getFontDataByFamily(StaticFonts, textDesignData.fontFamily)}\r\n                                spanStyle={{\r\n                                    width: 180,\r\n                                    fontSize: 14,\r\n                                    border: \"0px solid #cfcfcf\",\r\n                                }}\r\n                                renderer={(fontData) => {\r\n                                    let isRtlStyle = fontData.isRtl ? {justifyContent: \"flex-end\"}: {}\r\n                                    return (\r\n                                        <div className=\"TextEditorThemeRendererRoot\" style={isRtlStyle} >\r\n                                            <span style={{\r\n                                                fontFamily: fontData.fontFamily\r\n                                            }}>\r\n                                                {fontData.display}\r\n                                            </span>\r\n                                        </div>\r\n                                    )\r\n                                }}\r\n                                valueRenderer={(fontData) => {\r\n                                    return (\r\n                                        <span style={{\r\n                                            fontFamily: fontData.fontFamily\r\n                                        }}>\r\n                                            {fontData.display}\r\n                                        </span>\r\n                                    )\r\n                                }}\r\n                            />\r\n                            <FontSizeSelector\r\n                                ref={this.fontSizeSelectorRef}\r\n                                style={{ width: 64 }}\r\n                                textTheme={textTheme}\r\n                                textStaticData={textStaticData}\r\n                                textDesignData={textDesignData}\r\n                                onChange={(value) => {\r\n                                    console.log(\"this.isTextSelcted()\", this.isTextSelcted())\r\n                                    if (this.isTextSelcted()) {\r\n                                        this.props.doc.execCommand('fontSize', false, 1);\r\n\r\n                                        let nodes = this.props.doc.querySelectorAll(`[size=\"1\"]`);\r\n\r\n                                        nodes.forEach(node => {\r\n                                            node.removeAttribute(\"size\");\r\n                                            node.style.fontSize = `${value}px`;\r\n                                        })\r\n\r\n                                        this.props.inputWrapperRef.current.onInput();\r\n                                    } else {\r\n                                        textDesignData.fontSize = value;\r\n                                        this.props.onChangeData(textStaticData, textDesignData);\r\n                                        window.requestAnimationFrame(() => {\r\n                                            this.props.inputWrapperRef.current.onInput();\r\n                                        })\r\n                                    }\r\n                                }}\r\n                            />\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    this.props.doc.execCommand('bold');\r\n                                    this.refreshState();\r\n                                }}\r\n                                selected={this.state.bold}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/bold.svg'} />\r\n                            </TextEditorButton>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    this.props.doc.execCommand('italic');\r\n                                    this.refreshState();\r\n                                }}\r\n                                selected={this.state.italic}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/italic.svg'} />\r\n                            </TextEditorButton>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    this.props.doc.execCommand('underline');\r\n                                    this.refreshState();\r\n                                }}\r\n                                selected={this.state.underline}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/underline.svg'} />\r\n                            </TextEditorButton>\r\n                            <TextColorSelector\r\n                                onChange={(color) => {\r\n                                    let randomColor = getRandomColor();\r\n                                    this.props.doc.execCommand('foreColor', false, randomColor);\r\n\r\n                                    let nodes = this.props.doc.querySelectorAll(`[color=\"${randomColor}\"]`);\r\n\r\n                                    if (color instanceof Object) {\r\n                                        nodes.forEach(node => {\r\n                                            node.removeAttribute(\"color\");\r\n                                            [...node.classList].forEach(className => {\r\n                                                if (className.startsWith('Color_'))\r\n                                                    node.classList.remove(className);\r\n                                            });\r\n                                            node.classList.add(this.context.getThemeColorClass(color));\r\n                                            let childs = node.getElementsByTagName(\"*\");\r\n                                            for (let childNode of childs) {\r\n                                                [...childNode.classList].forEach(className => {\r\n                                                    if (className.startsWith('Color_'))\r\n                                                        childNode.classList.remove(className);\r\n                                                });\r\n                                            }\r\n                                        })\r\n                                    } else {\r\n                                        nodes.forEach(node => {\r\n                                            node.setAttribute(\"color\", color);\r\n                                            [...node.classList].forEach(className => {\r\n                                                if (className.startsWith('Color_'))\r\n                                                    node.classList.remove(className);\r\n                                            });\r\n                                            let childs = node.getElementsByTagName(\"*\");\r\n                                            for (let childNode of childs) {\r\n                                                [...childNode.classList].forEach(className => {\r\n                                                    if (className.startsWith('Color_'))\r\n                                                        childNode.classList.remove(className);\r\n                                                });\r\n                                            }\r\n                                        })\r\n                                    }\r\n\r\n                                    this.props.inputWrapperRef.current.onInput();\r\n                                }}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/color.svg'} />\r\n                            </TextColorSelector>\r\n                            <TextColorSelector\r\n                                onChange={(color) => {\r\n                                    let randomColor = getRandomColor();\r\n                                    this.props.doc.execCommand('fontSize', false, 1);\r\n                                    this.props.doc.execCommand('backColor', false, randomColor);\r\n\r\n                                    let nodes = this.props.doc.querySelectorAll(`[size=\"1\"]`);\r\n\r\n                                    if (color instanceof Object) {\r\n                                        nodes.forEach(node => {\r\n                                            node.removeAttribute(\"size\");\r\n                                            [...node.classList].forEach(className => {\r\n                                                if (className.startsWith('BackColor_'))\r\n                                                    node.classList.remove(className);\r\n                                            });\r\n                                            node.classList.add(this.context.getThemeBackColorClass(color));\r\n                                            if (node.style && node.style.removeProperty)\r\n                                                node.style.removeProperty(\"background-color\");\r\n                                            let childs = node.getElementsByTagName(\"*\");\r\n                                            for (let childNode of childs) {\r\n                                                [...childNode.classList].forEach(className => {\r\n                                                    if (className.startsWith('BackColor_'))\r\n                                                        childNode.classList.remove(className);\r\n                                                });\r\n                                            }\r\n                                        })\r\n                                    } else {\r\n                                        nodes.forEach(node => {\r\n                                            node.removeAttribute(\"size\");\r\n                                            if (node.style)\r\n                                                node.style.backgroundColor = color;\r\n                                            [...node.classList].forEach(className => {\r\n                                                if (className.startsWith('BackColor_'))\r\n                                                    node.classList.remove(className);\r\n                                            });\r\n                                            let childs = node.getElementsByTagName(\"*\");\r\n                                            for (let childNode of childs) {\r\n                                                [...childNode.classList].forEach(className => {\r\n                                                    if (className.startsWith('BackColor_'))\r\n                                                        childNode.classList.remove(className);\r\n                                                });\r\n                                            }\r\n                                        })\r\n                                    }\r\n\r\n                                    this.props.inputWrapperRef.current.onInput();\r\n                                }}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/fill.svg'} />\r\n                            </TextColorSelector>\r\n                        </div>\r\n                        <div className=\"TextEditorContainerRow\">\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    // this.props.doc.execCommand('justifyLeft');\r\n                                    textDesignData.textAlign = undefined;\r\n                                    this.props.onChangeData(textStaticData, textDesignData);\r\n                                }}\r\n                                selected={textDesignData.textAlign === undefined}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/align-left.svg'} />\r\n                            </TextEditorButton>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    // this.props.doc.execCommand('justifyCenter');\r\n                                    textDesignData.textAlign = \"center\";\r\n                                    this.props.onChangeData(textStaticData, textDesignData);\r\n                                }}\r\n                                selected={textDesignData.textAlign === \"center\"}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/align-center.svg'} />\r\n                            </TextEditorButton>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    // this.props.doc.execCommand('justifyRight');\r\n                                    textDesignData.textAlign = \"right\";\r\n                                    this.props.onChangeData(textStaticData, textDesignData);\r\n                                }}\r\n                                selected={textDesignData.textAlign === \"right\"}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/align-right.svg'} />\r\n                            </TextEditorButton>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    // this.props.doc.execCommand('justifyFull');\r\n                                    textDesignData.textAlign = \"justify\";\r\n                                    this.props.onChangeData(textStaticData, textDesignData);\r\n                                }}\r\n                                selected={textDesignData.textAlign === \"justify\"}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/justify.svg'} />\r\n                            </TextEditorButton>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    this.props.doc.execCommand('insertUnorderedList');\r\n                                }}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/list-dot.svg'} />\r\n                            </TextEditorButton>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    this.props.doc.execCommand('insertOrderedList');\r\n                                }}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/list-number.svg'} />\r\n                            </TextEditorButton>\r\n                            {/*<TextEditorButton\r\n                                onClick={(e) => {\r\n                                    this.props.doc.execCommand('indent');\r\n                                }}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/indent-plus.svg'} />\r\n                            </TextEditorButton>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    this.props.doc.execCommand('outdent');\r\n                                }}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/indent-remove.svg'} />\r\n                            </TextEditorButton>*/}\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    // let sel = this.props.doc.getSelection();\r\n                                    // console.log(\"Selected Lines\", getLineSelected(sel))\r\n                                    if (this.getTextDir() === \"ltr\")\r\n                                        textStaticData.dir = \"rtl\";\r\n                                    else\r\n                                        textStaticData.dir = \"ltr\";\r\n\r\n                                    this.props.onChangeData(textStaticData, textDesignData);\r\n                                }}\r\n                            >\r\n                                {\r\n                                    <img draggable={false} width={16} height={16}\r\n                                         src={process.env.PUBLIC_URL + `/static/icon/texteditor/text-direction-${this.getTextDir()}.svg`} />\r\n                                }\r\n                            </TextEditorButton>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Popper>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport Frame from 'iframe-react';\r\nimport InputWrapper from \"./Menus/InputWrapper\";\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport TextEditor from \"./Menus/TextEditor\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport {getTextStyle} from \"./TextHelper\";\r\n\r\nexport default class TextWrapper extends React.PureComponent {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            editMode: false,\r\n            editableStyle: {\r\n\r\n            },\r\n            iframeNode: undefined\r\n        };\r\n\r\n        this.iframe = React.createRef();\r\n        this.inputWrapperRef = React.createRef();\r\n        this.textEditorRef = React.createRef();\r\n    }\r\n\r\n    setEditableStyle = (editableStyle) => {\r\n        this.setState({editableStyle});\r\n    }\r\n\r\n    onEditorStateChange = (editorState) => {\r\n        this.setState({\r\n            editorState,\r\n        });\r\n    };\r\n\r\n    resizeIFrameToFitContent( document ) {\r\n        let textarea = document.getElementById(\"textEditor\");\r\n        let rect = textarea.getBoundingClientRect();\r\n        this.setState({\r\n            iframeWidth: rect.width,\r\n            iframeHeight: rect.height,\r\n        })\r\n\r\n        this.inputWrapperRef.current && this.inputWrapperRef.current.init(document);\r\n\r\n        this.setState({iframeNode: this.iframe.current.frame})\r\n\r\n        this.updateStyleSheets();\r\n    }\r\n\r\n    updateStyleSheets = () => {\r\n        if (this.doc)\r\n            this.context.calculateColorCSS(this.doc);\r\n    }\r\n\r\n    setEditMode = (editMode) => {\r\n        if (!editMode)\r\n            this.setState({iframeNode: undefined});\r\n        this.setState({editMode});\r\n        this.props.onEditModeChange && this.props.onEditModeChange(editMode);\r\n    }\r\n\r\n    getTag = () => {\r\n        let {textDesignData} = this.props;\r\n        let textTheme = this.context.getTheme(\"Text\", textDesignData.textTheme) || {};\r\n        return textDesignData.tagName || textTheme.tagName || \"h6\";\r\n    }\r\n\r\n    updateInputWrapper = () => {\r\n        this.inputWrapperRef.current.updateHeight();\r\n    }\r\n\r\n    onIframeTextClicked = (e) => {\r\n        if (this.textEditorRef && this.textEditorRef.current)\r\n            this.textEditorRef.current.onIframeTextClicked(e);\r\n    }\r\n\r\n    render () {\r\n        let {textTheme, textStaticData, textDesignData} = this.props;\r\n\r\n        let TextTag = this.getTag();\r\n\r\n        let editDisplayNoneStyle = this.state.editMode? {}: {display: \"none\"};\r\n        let nonEditDisplayNoneStyle = !this.state.editMode? {}: {display: \"none\"};\r\n        return (\r\n            <>\r\n                <TextTag\r\n                    className=\"TextRoot\"\r\n                    style={{\r\n                        ...getTextStyle(textTheme, textStaticData, textDesignData),\r\n                        ...nonEditDisplayNoneStyle\r\n                    }}\r\n                    dir={textStaticData.dir || \"ltr\"}\r\n                    dangerouslySetInnerHTML={{ __html: textStaticData.textValue }}\r\n                >\r\n                </TextTag>\r\n                <ClickAwayListener onClickAway={(e) => this.setEditMode(false)}>\r\n                    <>\r\n                        {\r\n                            this.state.iframeNode && this.state.editMode &&\r\n                            <TextEditor\r\n                                ref={this.textEditorRef}\r\n                                onChangeData={this.props.onChangeData}\r\n                                inputWrapperRef={this.inputWrapperRef}\r\n                                onChange={this.props.onChange}\r\n                                textStaticData={textStaticData}\r\n                                textTheme={textTheme}\r\n                                textDesignData={textDesignData}\r\n                                anchorEI={this.state.iframeNode}\r\n                                iframeNode={this.state.iframeNode}\r\n                                updateInputWrapper={this.updateInputWrapper}\r\n                                doc={this.doc}\r\n                            />\r\n                        }\r\n                        <Frame\r\n                            id={\"Hello\"}\r\n                            key={'textEditorFrame'}\r\n                            ref={this.iframe}\r\n                            title=\"iFrame example\"\r\n                            style={{\r\n                                width: this.state.iframeWidth || \"unset\",\r\n                                height: this.state.iframeHeight || \"unset\",\r\n                                border: 0,\r\n                                display: \"block\",\r\n                                ...editDisplayNoneStyle\r\n                            }}\r\n                            head={<>\r\n                                <link id=\"wix_richtext_font_url_googleFonts\" type=\"text/css\" rel=\"stylesheet\"\r\n                                      href=\"https://weblancerstaticdata.s3.ir-thr-at1.arvanstorage.com/StaticFonts.css\"/>\r\n                                <style type=\"text/css\">\r\n                                    {`\r\n                            body{\r\n                                width: fit-content;\r\n                                height: fit-content;\r\n                                box-sizing: border-box;\r\n                                margin: 0px;\r\n                                display: flex;\r\n                                overflow: hidden;\r\n                            }\r\n                            body>div{\r\n                                width: fit-content;\r\n                                height: fit-content;\r\n                                box-sizing: border-box;\r\n                                margin: 0px;\r\n                                display: flex;\r\n                                overflow: hidden;\r\n                            }\r\n                            \r\n\r\n                        `}\r\n                                </style>\r\n                            </>}\r\n                            documentRef={(doc) => {\r\n                                this.doc = doc;\r\n                                console.log(\"Listen !!!!!!!\")\r\n                                this.doc.addEventListener(\"click\", (e) => {\r\n                                    this.onIframeTextClicked(e);\r\n                                })\r\n                            }}\r\n                        >\r\n                            <InputWrapper\r\n                                onLoad={() => {\r\n                                    this.resizeIFrameToFitContent(this.doc);\r\n                                }}\r\n                                onUpdate={() => {\r\n                                    this.resizeIFrameToFitContent(this.doc);\r\n                                }}\r\n                                onChange={this.props.onChange}\r\n                                value={textStaticData.textValue}\r\n                                width={this.props.width}\r\n                                ref={this.inputWrapperRef}\r\n                                tag={this.getTag()}\r\n                                textTheme={textTheme}\r\n                                textStaticData={textStaticData}\r\n                                textDesignData={textDesignData}\r\n                                iframeNode={this.state.iframeNode}\r\n                                doc={this.doc}\r\n                            >\r\n                            </InputWrapper>\r\n                        </Frame>\r\n                    </>\r\n                </ClickAwayListener>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport '../../HelperStyle.css';\r\nimport './Text.css';\r\nimport {\r\n    getCompositeDesignData,\r\n    getFromTempData,\r\n    setDataInBreakpoint,\r\n    setTempData\r\n} from \"../../AwesomwGridLayoutHelper\";\r\nimport TextWrapper from \"./TextWrapper\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n// import \"./Fonts/StaticFonts.css\";\r\n\r\nexport default class Text extends AGLComponent{\r\n    static contextType = EditorContext;\r\n\r\n    constructor (props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            editMode: false\r\n        }\r\n\r\n        this.textRef = React.createRef();\r\n    }\r\n\r\n    resolveDesignData = () => {\r\n        // resolveDesignData(this, \"border\", {});\r\n    };\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            bpData: {\r\n                overflowData: {\r\n                    state: \"show\"\r\n                }\r\n            },\r\n        };\r\n    };\r\n\r\n    getPrimaryOptions = () => {\r\n        this.resolveDesignData();\r\n        return [\r\n\r\n        ]\r\n    };\r\n\r\n    updateDesign = (compositeDesign) => {\r\n\r\n    };\r\n\r\n    onChange = (e, callback) => {\r\n        if (e) {\r\n            let textStaticData = getFromTempData(this, \"textStaticData\");\r\n            textStaticData.textValue = e.target.value;\r\n        }\r\n\r\n        this.props.select.onScrollItem();\r\n    }\r\n\r\n    onEditModeChange = (editMode) => {\r\n        this.setState({editMode});\r\n        this.props.select.onScrollItem();\r\n    }\r\n\r\n    onChangeData = (textStaticData, textDesignData) => {\r\n        setTempData(\"textStaticData\", textStaticData, this.getAgl(), true);\r\n        setDataInBreakpoint(\"design.textDesignData\", textDesignData, this.getAgl(), true, undefined, true);\r\n        this.props.select.onScrollItem();\r\n    }\r\n\r\n    getStaticChildren = () => {\r\n        this.resolveDesignData();\r\n\r\n        let textStaticData = getFromTempData(this, \"textStaticData\");\r\n        let textDesignData = getCompositeDesignData(this).textDesignData;\r\n        let textTheme = this.context.getTheme(\"Text\", textDesignData.textTheme);\r\n\r\n        let rect = {};\r\n        if (this.getAgl()){\r\n            rect = this.getAgl().getSize(false);\r\n        }\r\n\r\n        return (\r\n            <TextWrapper\r\n                ref={this.textRef}\r\n                width={rect.width}\r\n                height={rect.height}\r\n                onChange={this.onChange}\r\n                onChangeData={this.onChangeData}\r\n                onEditModeChange={this.onEditModeChange}\r\n                textStaticData={textStaticData}\r\n                textDesignData={textDesignData}\r\n                textTheme={textTheme}\r\n                onThemeChange={this.onThemeChange}\r\n            >\r\n            </TextWrapper>\r\n        )\r\n    };\r\n\r\n    onDoubleClickOverride = (agl, e) => {\r\n        if (!this.props.editor)\r\n            return;\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        this.textRef.current.setEditMode(true);\r\n    }\r\n\r\n    onDeSelectListener = (agl) => {\r\n        if (!this.props.editor)\r\n            return;\r\n\r\n        this.textRef.current.setEditMode(false);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <AGLWrapper\r\n                tagName=\"Text\"\r\n                aglComponent={this}\r\n                {...this.props}\r\n                data={this.getData()}\r\n                resizeSides={!this.state.editMode ? ['e', 'w'] : []}\r\n                style={{\r\n                    height: \"auto\",\r\n                    minHeight: \"auto\",\r\n                    // pointerEvents: \"none\"\r\n                }}\r\n                getPrimaryOptions={this.getPrimaryOptions}\r\n                getInspector={this.getInspector}\r\n                getStaticChildren={this.getStaticChildren}\r\n                noStretch\r\n                onDoubleClickOverride={this.onDoubleClickOverride}\r\n                onDeSelectListener={this.onDeSelectListener}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nText.defaultProps = {\r\n    tagName: \"Text\"\r\n};\r\n","import ContainerBase from \"../Components/Containers/ContainerBase\";\r\nimport Header from \"../Components/Containers/Header\";\r\nimport Footer from \"../Components/Containers/Footer\";\r\nimport PageBase from \"../Components/Pages/PageBase\";\r\nimport Section from \"../Components/Containers/Section\";\r\nimport Stack from \"../Components/Stack/Stack\";\r\nimport VerticalSpacer from \"../Components/Stack/VerticalSpacer\";\r\nimport FadeInAnimation from \"../Test/Animations/FadeInAnimation\";\r\nimport BounceInAnimation from \"../Test/Animations/BounceInAnimation\";\r\nimport GlideInAnimation from \"../Test/Animations/GlideInAnimation\";\r\nimport FloatInAnimation from \"../Test/Animations/FloatInAnimation\";\r\nimport ExpandInAnimation from \"../Test/Animations/ExpandInAnimation\";\r\nimport SpinInAnimation from \"../Test/Animations/SpinInAnimation\";\r\nimport FlyInAnimation from \"../Test/Animations/FlyInAnimation\";\r\nimport TurnInAnimation from \"../Test/Animations/TurnInAnimation\";\r\nimport ArcInAnimation from \"../Test/Animations/ArcInAnimation\";\r\nimport PuffInAnimation from \"../Test/Animations/PuffInAnimation\";\r\nimport FoldInAnimation from \"../Test/Animations/FoldInAnimation\";\r\nimport FlipInAnimation from \"../Test/Animations/FlipInAnimation\";\r\nimport RevealAnimation from \"../Test/Animations/RevealAnimation\";\r\nimport Text from \"../Components/Text/Text\";\r\n\r\nlet DynamicComponents = {};\r\n\r\nexport let initDynamicComponents = () => {\r\n    DynamicComponents[\"ContainerBase\"] = ContainerBase;\r\n    DynamicComponents[\"PageBase\"] = PageBase;\r\n    DynamicComponents[\"Header\"] = Header;\r\n    DynamicComponents[\"Footer\"] = Footer;\r\n    DynamicComponents[\"Section\"] = Section;\r\n    DynamicComponents[\"Stack\"] = Stack;\r\n    DynamicComponents[\"VerticalSpacer\"] = VerticalSpacer;\r\n    DynamicComponents[\"Text\"] = Text;\r\n};\r\n\r\nexport default DynamicComponents;\r\n\r\nexport let DynamicAnimations = {};\r\n\r\nexport let initDynamicAnimations = () => {\r\n    DynamicAnimations[\"fadeIn\"] = FadeInAnimation;\r\n    DynamicAnimations[\"bounceIn\"] = BounceInAnimation;\r\n    DynamicAnimations[\"glideIn\"] = GlideInAnimation;\r\n    DynamicAnimations[\"floatIn\"] = FloatInAnimation;\r\n    DynamicAnimations[\"expandIn\"] = ExpandInAnimation;\r\n    DynamicAnimations[\"spinIn\"] = SpinInAnimation;\r\n    DynamicAnimations[\"flyIn\"] = FlyInAnimation;\r\n    DynamicAnimations[\"turnIn\"] = TurnInAnimation;\r\n    DynamicAnimations[\"arcIn\"] = ArcInAnimation;\r\n    DynamicAnimations[\"puffIn\"] = PuffInAnimation;\r\n    DynamicAnimations[\"foldIn\"] = FoldInAnimation;\r\n    DynamicAnimations[\"flipIn\"] = FlipInAnimation;\r\n    DynamicAnimations[\"reveal\"] = RevealAnimation;\r\n};\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport classNames from \"classnames\";\r\nimport DynamicComponents from \"../Dynamic/DynamicComponents\";\r\nimport Popper from \"@material-ui/core/Popper/Popper\";\r\nimport '../HelperStyle.css';\r\n\r\nexport default class AdjustmentPageControllers extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            anchorEl: undefined\r\n        };\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.mounted = false;\r\n    }\r\n\r\n    addSection = (index, isVertical) => {\r\n        let {page} = this.props;\r\n        page.addSectionQueue(index, \"Section\", DynamicComponents, undefined, isVertical);\r\n    };\r\n\r\n    getAnchor = (index) => {\r\n        return  document.getElementById(`page_add_horizontal_${index}`)\r\n    };\r\n\r\n    needUpdate = () => {\r\n        clearTimeout(this.updateTimeout);\r\n        this.updateTimeout = setTimeout(() => {\r\n            if (!this.mounted) {\r\n                clearTimeout(this.updateTimeout);\r\n                return;\r\n            }\r\n            this.forceUpdate();\r\n        }, 500);\r\n    };\r\n\r\n    render () {\r\n        let {grid} = this.props;\r\n        return (\r\n                [\r\n                    new Array(grid.y + 1).fill(0).map((a, index) => {\r\n                        let style = {\r\n                            gridArea: `1/${index}/2/${index + 1}`\r\n                        };\r\n                        index === 0 && (style.justifySelf = \"start\");\r\n                        index === 0 && (style.gridArea = \"1/1/2/2\");\r\n\r\n                        let containerClasses = classNames(\r\n                            \"AdjustmentPageControllersAddSection\",\r\n                            index === 0 && \"AdjustmentPageControllersAddSectionFirst\"\r\n                        );\r\n                        return <div\r\n                            className=\"AdjustmentPageControllersAddSectionContainer\"\r\n                            style={style}\r\n                            key={index}\r\n                        >\r\n                            <div\r\n                                className={containerClasses}\r\n                                onClick={(e) => {\r\n                                    this.addSection(index, true);\r\n                                }}\r\n                            >\r\n                                <img draggable={false} width={8} height={8} src={require('./icons/plus.svg')} />\r\n                            </div>\r\n                        </div>\r\n                    }),\r\n                    new Array(grid.x + 1).fill(0).map((a, index) => {\r\n                        let style = {\r\n                            gridArea: `${index}/1/${index + 1}/2`,\r\n                            pointerEvents: \"auto\"\r\n                        };\r\n                        index === 0 && (style.alignSelf = \"start\");\r\n                        index === 0 && (style.gridArea = \"1/1/2/2\");\r\n\r\n                        let containerClasses = classNames(\r\n                            \"AdjustmentPageControllersAddHorizontalSection\",\r\n                            index === 0 && \"AdjustmentPageControllersAddHorizontalSectionFirst\"\r\n                        );\r\n                        return <div\r\n                            className=\"AdjustmentPageControllersAddHorizontalSectionContainer\"\r\n                            style={style}\r\n                            key={index}\r\n                            id={`page_add_horizontal_${index}`}\r\n                            onClick={(e) => {\r\n                                this.setState({anchorEl: e.currentTarget})\r\n                            }}\r\n                        >\r\n                            {!this.getAnchor(index) && this.needUpdate()}\r\n                            <Popper open={Boolean(document.getElementById(`page_add_horizontal_${index}`))}\r\n                                    anchorEl={\r\n                                        () => {\r\n                                            return this.getAnchor(index);\r\n                                        }\r\n                                    }\r\n                                    modifiers={{\r\n                                        preventOverflow: {\r\n                                            enabled: false,\r\n                                            boundariesElement: 'scrollParent',\r\n                                        },\r\n                                        hide: {\r\n                                            enabled: false,\r\n                                        },\r\n                                    }}\r\n                            >\r\n                                <div\r\n                                    className={containerClasses}\r\n                                    onClick={(e) => {\r\n                                        this.addSection(index, false);\r\n                                    }}\r\n                                >\r\n                                    <img draggable={false} className=\"IconImage\" width={8} height={8} src={require('./icons/plus.svg')} />\r\n                                </div>\r\n                            </Popper>\r\n                        </div>\r\n                    })\r\n                ]\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './GridChildDraggable.css';\r\n\r\nexport default class GridChildContainerFixedHolder extends React.Component {\r\n    render () {\r\n        let {size, id} = this.props;\r\n        return (\r\n            <div\r\n                className=\"fixed-holder\"\r\n                style={{\r\n                    top: size? size.top: 0,\r\n                    left: size? size.left: 0,\r\n                    width: size? size.width: 0,\r\n                    height: size? size.clientHeight || size.height: 0,\r\n                }}\r\n                id={`${id}_fixed_holder`}\r\n            >\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default class PaddingInterface extends React.Component {\r\n    render() {\r\n        return (\r\n            <div\r\n                style={{\r\n                    position: \"absolute\",\r\n                    top: 0,\r\n                    left: 0,\r\n                    width: \"100%\",\r\n                    height: \"100%\",\r\n                    boxSizing: \"border-box\",\r\n                    borderTop: this.props.padding.top ? `${this.props.padding.top} solid rgba(2, 242, 255, 0.3` : \"unset\",\r\n                    borderLeft: this.props.padding.left ? `${this.props.padding.left} solid rgba(2, 242, 255, 0.3)` : \"unset\",\r\n                    borderBottom: this.props.padding.bottom ? `${this.props.padding.bottom} solid rgba(2, 242, 255, 0.3)` : \"unset\",\r\n                    borderRight: this.props.padding.right ? `${this.props.padding.right} solid rgba(2, 242, 255, 0.3)` : \"unset\"\r\n                }}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default class ParentSelectInterface extends React.Component {\r\n    render() {\r\n        return (\r\n            <div\r\n                style={{\r\n                    position: \"absolute\",\r\n                    top: 0,\r\n                    left: 0,\r\n                    width: \"100%\",\r\n                    height: \"100%\",\r\n                    boxSizing: \"border-box\",\r\n                    border: '1px solid rgb(2 50 255 / 40%)'\r\n                }}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {appendStyle, cloneObject, shallowEqual, updateStyle} from \"./AwesomeGridLayoutUtils\";\r\nimport './GridChildDraggable.css';\r\nimport GridChildContainerChildren from \"./GridChildContainerChildren\";\r\nimport classNames from \"classnames\";\r\nimport AdjustmentPageControllers from \"./Adjustment/AdjustmentPageControllers\";\r\nimport GridChildContainerFixedHolder from \"./GridChildContainerFixedHolder\";\r\nimport PaddingInterface from \"./Test/PaddingInterface\";\r\nimport ParentSelectInterface from \"./Test/ParentSelectInterface\";\r\n\r\nexport default class GridChildContainer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.controllerRef = React.createRef();\r\n        this.fixedHolderRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.modifyOverflowStyle(this.props.overflowData, this.props.aglStyle);\r\n        this.modifyContainerStyle(this.props.grid, this.props.aglStyle, this.props.padding);\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        if (!shallowEqual(this.allChildId, Object.keys(nextProps.allChildren)) ||\r\n            !shallowEqual(this.grid, nextProps.grid) ||\r\n            !shallowEqual(this.size, nextProps.size) ||\r\n            this.props.selectAsParent !== nextProps.selectAsParent ||\r\n            this.props.selected !== nextProps.selected ||\r\n            !shallowEqual(this.padding, nextProps.padding) ||\r\n            !shallowEqual(JSON.stringify(this.allChildIndex),\r\n                JSON.stringify(Object.values(nextProps.allChildren).map(c => {\r\n                    return {\r\n                        z: c.zIndex,\r\n                        i: c.child.props.id\r\n                    }\r\n                })))\r\n        ) {\r\n            if (!shallowEqual(this.overflowData, nextProps.overflowData))\r\n                this.modifyOverflowStyle(nextProps.overflowData, nextProps.aglStyle);\r\n\r\n            if (!shallowEqual(this.grid, nextProps.grid) || !shallowEqual(this.padding, nextProps.padding))\r\n                this.modifyContainerStyle(nextProps.grid, nextProps.aglStyle, nextProps.padding);\r\n\r\n            if (!shallowEqual(this.aglStyle, nextProps.aglStyle)) {\r\n                this.modifyOverflowStyle(nextProps.overflowData, nextProps.aglStyle);\r\n                this.modifyContainerStyle(nextProps.grid, nextProps.aglStyle, nextProps.padding);\r\n            }\r\n\r\n            return true;\r\n        }\r\n\r\n        if (!shallowEqual(this.overflowData, nextProps.overflowData)) {\r\n            this.modifyOverflowStyle(nextProps.overflowData, nextProps.aglStyle);\r\n            return true;\r\n        }\r\n        if (!shallowEqual(this.aglStyle, nextProps.aglStyle)) {\r\n            this.modifyOverflowStyle(nextProps.overflowData, nextProps.aglStyle);\r\n            this.modifyContainerStyle(nextProps.grid, nextProps.aglStyle, nextProps.padding);\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    saveState = () => {\r\n        let {allChildren, grid, overflowData, aglStyle, size, padding} = this.props;\r\n        this.allChildId = Object.keys(allChildren);\r\n        this.allChildIndex = Object.values(allChildren).map(c => {\r\n            return {\r\n                z: c.zIndex,\r\n                i: c.child.props.id\r\n            }\r\n        });\r\n        this.grid = cloneObject(grid);\r\n        this.overflowData = cloneObject(overflowData);\r\n        this.aglStyle = cloneObject(aglStyle);\r\n        this.size = cloneObject(size);\r\n        this.padding = cloneObject(padding);\r\n    };\r\n\r\n    modifyContainerStyle = (grid, aglStyle, padding) => {\r\n        if (!grid)\r\n            grid = this.props.grid;\r\n\r\n        let {modifyContainerStyleOverride, agl} = this.props;\r\n\r\n        if (modifyContainerStyleOverride){\r\n            modifyContainerStyleOverride(this, agl, grid, aglStyle);\r\n            return;\r\n        }\r\n\r\n        let style = {\r\n            width: (aglStyle && aglStyle.width === \"auto\") ? \"auto\": \"100%\",\r\n            height: (aglStyle && aglStyle.height === \"auto\") ? \"auto\":\r\n                agl.getFromData(\"containerHeight\") || \"100%\",\r\n            display: \"grid\",\r\n            position: \"relative\",\r\n            boxSizing: \"border-box\",\r\n            gridTemplateRows: grid.gridTemplateRows,\r\n            gridTemplateColumns: grid.gridTemplateColumns,\r\n        };\r\n\r\n        if (padding) {\r\n            if (padding.top) style.paddingTop = padding.top;\r\n            if (padding.left) style.paddingLeft = padding.left;\r\n            if (padding.bottom) style.paddingBottom = padding.bottom;\r\n            if (padding.right) style.paddingRight = padding.right;\r\n\r\n            /*style.backgroundImage = \"\";\r\n            Object.keys(padding).forEach(key => {\r\n                if (key === \"top\")\r\n                    style.backgroundImage += `linear-gradient(to bottom, #00f3ffa8 ${padding.top}, transparent 10px),`\r\n                if (key === \"bottom\")\r\n                    style.backgroundImage += `linear-gradient(to top, #00f3ffa8 ${padding.bottom}, transparent 10px),`\r\n                if (key === \"left\")\r\n                    style.backgroundImage += `linear-gradient(to right, #00f3ffa8 ${padding.left}, transparent 10px),`\r\n                if (key === \"right\")\r\n                    style.backgroundImage += `linear-gradient(to left, #00f3ffa8 ${padding.right}, transparent 10px),`\r\n            });\r\n\r\n            if (style.backgroundImage)\r\n                style.backgroundImage = style.backgroundImage.slice(0, -1);*/\r\n        }\r\n\r\n        let styleNode = document.getElementById(this.getContainerStyleId());\r\n\r\n        if (!styleNode) {\r\n            appendStyle(style, this.getContainerStyleId(), this.getContainerStyleId());\r\n        } else {\r\n            updateStyle(styleNode, style, this.getContainerStyleId());\r\n        }\r\n    };\r\n\r\n    modifyOverflowStyle = (overflowData, aglStyle) => {\r\n        let styleNode = document.getElementById(this.getOverflowStyleId());\r\n\r\n        if (!styleNode) {\r\n            appendStyle(this.getOverflowStyle(overflowData, aglStyle), this.getOverflowStyleId()\r\n                , this.getOverflowStyleId());\r\n        } else {\r\n            updateStyle(styleNode, this.getOverflowStyle(overflowData, aglStyle), this.getOverflowStyleId());\r\n        }\r\n\r\n        let webkitScrollbarStyle = {};\r\n        let webkitScrollbarStyleId = this.getOverflowStyleId() + '::-webkit-scrollbar';\r\n        if (overflowData.auto === 'hide') webkitScrollbarStyle.display = \"none\";\r\n\r\n        let scrollStyleNode = document.getElementById(webkitScrollbarStyleId);\r\n\r\n        if (!scrollStyleNode) {\r\n            appendStyle(webkitScrollbarStyle, webkitScrollbarStyleId, webkitScrollbarStyleId);\r\n        } else {\r\n            updateStyle(scrollStyleNode, webkitScrollbarStyle, webkitScrollbarStyleId);\r\n        }\r\n    };\r\n\r\n    getOverflowStyle = (overflowData, aglStyle) => {\r\n        let style = {\r\n            display: \"grid\",\r\n            gridTemplateRows: \"1fr\",\r\n            gridTemplateColumns: \"1fr\",\r\n            position: \"absolute\",\r\n            top: 0,\r\n            bottom: 0,\r\n            left: 0,\r\n            right: 0,\r\n        };\r\n\r\n        if (aglStyle && aglStyle.width === \"auto\") {\r\n            style.position = \"relative\";\r\n            delete style.left;\r\n            delete style.right;\r\n            delete style.top;\r\n            delete style.bottom;\r\n        }\r\n\r\n        if (aglStyle && aglStyle.height === \"auto\") {\r\n            style.position = \"relative\";\r\n            delete style.left;\r\n            delete style.right;\r\n            delete style.top;\r\n            delete style.bottom;\r\n        }\r\n\r\n\r\n        if (!overflowData)\r\n            overflowData = this.props.overflowData;\r\n\r\n        if (!overflowData)\r\n            return style;\r\n\r\n        if (overflowData.state === 'show') {\r\n            return style;\r\n        }\r\n\r\n        if (overflowData.state === 'hide') {\r\n            style.overflowX = \"hidden\";\r\n            style.overflowY = \"hidden\";\r\n            return style;\r\n        }\r\n\r\n        if (overflowData.state === 'scroll') {\r\n            style.overflowX = overflowData.overflowX? overflowData.auto === 'auto'? \"auto\" : \"scroll\" : \"hidden\" ;\r\n            style.overflowY = overflowData.overflowY? overflowData.auto === 'auto'? \"auto\" : \"scroll\" : \"hidden\" ;\r\n        }\r\n\r\n        if (overflowData.auto === 'hide') {\r\n            // TODO hide scrollbar with webkit\r\n            style.scrollbarWidth = 'none';\r\n            style.overflow = '-moz-scrollbars-none';\r\n            style['-ms-overflow-style'] = 'none';\r\n        }\r\n\r\n        return style;\r\n    };\r\n\r\n    getOverflowStyleId = () => {\r\n        return `style_overflow_${this.props.id}`\r\n    };\r\n\r\n    getContainerStyleId = () => {\r\n        return `style_container_${this.props.id}`\r\n    };\r\n\r\n    updateAdjustments = () => {\r\n        this.controllerRef.current && this.controllerRef.current.forceUpdate();\r\n        this.fixedHolderRef.current && this.fixedHolderRef.current.forceUpdate();\r\n    };\r\n\r\n    needOverflow = () => {\r\n        let overflowData = this.props.overflowData;\r\n\r\n        if (overflowData.state !== 'scroll')\r\n            return false;\r\n\r\n        if (overflowData.overflowX === 'scroll')\r\n                return true;\r\n        if (overflowData.overflowY === 'scroll')\r\n                return true;\r\n\r\n        return false;\r\n    };\r\n\r\n    render () {\r\n        if (!this.props.show)\r\n            return null;\r\n        this.saveState();\r\n        let {allChildren, id, grid, isPage, page, size, getChildrenOverride, agl, editor} = this.props;\r\n\r\n        let overflowClasses = classNames(\r\n            this.getOverflowStyleId()\r\n        );\r\n        let containerClasses = classNames(\r\n            this.getContainerStyleId()\r\n        );\r\n\r\n        if (!isPage) {\r\n            if (this.needOverflow()) {\r\n                return (\r\n                    <div\r\n                        id={`${id}_overflow`}\r\n                        className={overflowClasses}\r\n                        ref={this.props.overflowRef}\r\n                        onScroll={this.props.onScroll}\r\n                    >\r\n                        <div\r\n                            id={`${id}_container`}\r\n                            className={containerClasses}\r\n                            ref={this.props.containerRef}\r\n                        >\r\n                            {\r\n                                this.props.padding && (this.props.selectAsParent || this.props.selected) &&\r\n                                <PaddingInterface padding={this.props.padding} />\r\n                            }\r\n                            {\r\n                                this.props.selectAsParent &&\r\n                                <ParentSelectInterface />\r\n                            }\r\n                            <GridChildContainerChildren\r\n                                allChildren={allChildren}\r\n                                getChildrenOverride={getChildrenOverride}\r\n                                agl={agl}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                )\r\n            } else {\r\n                return (\r\n                    <div\r\n                        id={`${id}_container`}\r\n                        className={containerClasses}\r\n                        ref={this.props.containerRef}\r\n                    >\r\n                        {\r\n                            this.props.padding && (this.props.selectAsParent || this.props.selected) &&\r\n                            <PaddingInterface padding={this.props.padding} />\r\n                        }\r\n                        {\r\n                            this.props.selectAsParent &&\r\n                            <ParentSelectInterface />\r\n                        }\r\n                        <GridChildContainerChildren\r\n                            allChildren={allChildren}\r\n                            getChildrenOverride={getChildrenOverride}\r\n                            agl={agl}\r\n                        />\r\n                    </div>\r\n                )\r\n            }\r\n        } else {\r\n            return (\r\n                    <div\r\n                        id={`${id}_container`}\r\n                        className={containerClasses}\r\n                        ref={this.props.containerRef}\r\n                    >\r\n                        {\r\n                            this.props.padding && (this.props.selectAsParent || this.props.selected) &&\r\n                            <PaddingInterface padding={this.props.padding} />\r\n                        }\r\n                        {\r\n                            this.props.selectAsParent &&\r\n                            <ParentSelectInterface />\r\n                        }\r\n                        <GridChildContainerChildren\r\n                            allChildren={allChildren}\r\n                            getChildrenOverride={getChildrenOverride}\r\n                            agl={agl}\r\n                        />\r\n\r\n                        {\r\n                            editor &&\r\n                            <AdjustmentPageControllers\r\n                                grid={grid}\r\n                                page={page}\r\n                                editor={editor}\r\n                                ref={this.controllerRef}\r\n                            />\r\n                        }\r\n\r\n                        <GridChildContainerFixedHolder\r\n                            ref={this.fixedHolderRef}\r\n                            size={size}\r\n                            id={id}\r\n                        />\r\n                    </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './AwesomeGridLayout.css';\r\n\r\nexport default class AGLAnchor extends React.Component {\r\n    render () {\r\n        let {anchor} = this.props;\r\n\r\n        if (!anchor)\r\n            return null;\r\n\r\n        return (\r\n            <div\r\n                className=\"AGLAnchor\"\r\n                id={anchor.id}\r\n            >\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css';\r\nimport classNames from 'classnames';\r\n\r\nexport default class ResizePanePage extends React.Component {\r\n    onMouseDown = (e) => {\r\n        if (this.isLeftClick(e)) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            this.mouseDown = true;\r\n            window.addEventListener(\"pointermove\", this.onMouseMove);\r\n            window.addEventListener(\"pointerup\", this.onMouseUp);\r\n        }\r\n    };\r\n\r\n    isLeftClick = (e) => {\r\n        if (e.pointerType === \"mouse\" && e.button === 0)\r\n            return true;\r\n\r\n        return false;\r\n    };\r\n\r\n\r\n    onMouseMove = (e) => {\r\n        if (!this.mouseDown)\r\n            return;\r\n        e.stopPropagation();\r\n\r\n        if (!this.moving) {\r\n            this.moving = true;\r\n            this.onDragStart(e);\r\n        } else {\r\n            this.onDrag(e);\r\n        }\r\n    };\r\n\r\n    onMouseUp = (e) => {\r\n        if (!this.mouseDown)\r\n            return;\r\n\r\n        this.mouseDown = false;\r\n\r\n        if (this.moving) {\r\n            e.stopPropagation();\r\n            this.onDragStop(e);\r\n        }\r\n\r\n        this.moving = false;\r\n\r\n        window.removeEventListener(\"pointermove\", this.onMouseMove);\r\n        window.removeEventListener(\"pointerup\", this.onMouseUp);\r\n    };\r\n\r\n    onDragStart = (e) => {\r\n        this.dragData = {\r\n            lastMouseX: e.clientX,\r\n            lastMouseY: e.clientY\r\n        };\r\n        this.delta = {\r\n            x: 0,\r\n            y: 0,\r\n        };\r\n        this.props.onResizeStart(e, this.props.side, this.delta);\r\n    };\r\n\r\n    onDrag = (e) => {\r\n        this.delta.x += (e.clientX - this.dragData.lastMouseX);\r\n        this.delta.y += (e.clientY - this.dragData.lastMouseY);\r\n        this.props.onResize(e, this.props.side, this.delta);\r\n        this.dragData.lastMouseX = e.clientX;\r\n        this.dragData.lastMouseY = e.clientY;\r\n    };\r\n\r\n    onDragStop = (e) => {\r\n        this.delta.x += (e.clientX - this.dragData.lastMouseX);\r\n        this.delta.y += (e.clientY - this.dragData.lastMouseY);\r\n        this.props.onResizeStop(e, this.props.side, this.delta);\r\n    };\r\n\r\n    isCorner = () => {\r\n        return this.props.side.length === 2;\r\n    };\r\n    render () {\r\n        let classes = classNames(\r\n            `Adjustment-${this.props.side}-pane-page`,\r\n            \"Adjustment-Pane\"\r\n        );\r\n        let style = {};\r\n        if (this.props.draggingStart)\r\n            style.pointerEvents = \"none\";\r\n\r\n        return (\r\n            <div\r\n                id={this.props.id}\r\n                onPointerDown={this.onMouseDown}\r\n                className={classes}\r\n                style={style}\r\n            >\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport ResizePanePage from \"./ResizePanePage\";\r\n\r\nexport default class AdjustmentResizePage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render () {\r\n        let {top, left, width, height} = this.props;\r\n        if (top === undefined || left === undefined || width === undefined || height === undefined)\r\n            return null;\r\n\r\n        return (\r\n                <div\r\n                    id=\"AdjustmentResizePage\"\r\n                    style={{\r\n                        width: width,\r\n                        height: \"80vh\",\r\n                        // left: left? left: 0,\r\n                        // top: top? top : 0,\r\n                        // bottom: top? window.innerHeight - top - height: 0,\r\n                        // right: left? window.innerWidth - left - width: 0,\r\n                    }}\r\n                    // className=\"AdjustmentResizeRootPage\"\r\n                    className=\"AdjustmentResizeRoot\"\r\n                >\r\n                    {\r\n                        this.props.sides.map((side, index) => {\r\n                            return <ResizePanePage\r\n                                key={index}\r\n                                side={side}\r\n                                onResizeStart={this.props.onResizeStart}\r\n                                onResize={this.props.onResize}\r\n                                onResizeStop={this.props.onResizeStop}\r\n                                draggingStart={this.props.draggingStart}\r\n                            />\r\n                        })\r\n                    }\r\n                </div>\r\n        )\r\n    }\r\n}\r\n","import {throttleDebounce} from \"../AwesomeGridLayoutUtils\";\r\n\r\nexport default class EventTrigger {\r\n    constructor(owner, defaultListener) {\r\n        this.owner = owner;\r\n        this.listeners = [];\r\n        if (defaultListener)\r\n            this.listeners.push(defaultListener);\r\n    }\r\n\r\n    addListener = (listener) => {\r\n        if (!this.listeners.find(l => { return l === listener; })) {\r\n            this.listeners.push(listener);\r\n        }\r\n    };\r\n\r\n    trigger = throttleDebounce((data) => {\r\n        this.listeners.forEach(l => {\r\n            l(this.owner, data);\r\n        });\r\n    }, 50);\r\n\r\n    removeListener = (listener) => {\r\n        let index = this.listeners.findIndex(l => { return l === listener; })\r\n        if (index >= 0)\r\n            this.listeners.splice(index, 1);\r\n    };\r\n}\r\n","let windowCache = {\r\n    boundingRects: {},\r\n    clientsWidth: {},\r\n    clientsHeight: {},\r\n    scrollsTop: {},\r\n    scrollsLeft: {},\r\n    scrollsWidth: {},\r\n    scrollsHeight: {}\r\n};\r\n\r\nlet clearCache = () => {\r\n    windowCache.boundingRects = {};\r\n    windowCache.clientsWidth = {};\r\n    windowCache.clientsHeight = {};\r\n    windowCache.scrollsTop = {};\r\n    windowCache.scrollsLeft = {};\r\n    windowCache.scrollsWidth = {};\r\n    windowCache.scrollsHeight = {};\r\n    delete windowCache.clearCacheTimeuot;\r\n};\r\n\r\nexport let getCachedBoundingRect = (id, node) => {\r\n    if (!windowCache.clearCacheTimeuot) {\r\n        windowCache.clearCacheTimeuot = true;\r\n        window.requestAnimationFrame(clearCache);\r\n    }\r\n\r\n    if (!windowCache.boundingRects[id])\r\n        windowCache.boundingRects[id] = node.getBoundingClientRect();\r\n\r\n    return windowCache.boundingRects[id];\r\n};\r\n\r\nexport let getCachedClientWidth = (id, node) => {\r\n    if (!windowCache.clearCacheTimeuot) {\r\n        windowCache.clearCacheTimeuot = true;\r\n        window.requestAnimationFrame(clearCache);\r\n    }\r\n\r\n    if (!windowCache.clientsWidth[id])\r\n        windowCache.clientsWidth[id] = node.clientWidth;\r\n\r\n    return windowCache.clientsWidth[id];\r\n};\r\n\r\nexport let getCachedClientHeight = (id, node) => {\r\n    if (!windowCache.clearCacheTimeuot) {\r\n        windowCache.clearCacheTimeuot = true;\r\n        window.requestAnimationFrame(clearCache);\r\n    }\r\n\r\n    if (!windowCache.clientsHeight[id])\r\n        windowCache.clientsHeight[id] = node.clientHeight;\r\n\r\n    return windowCache.clientsHeight[id];\r\n};\r\n\r\nexport let getCachedScrollTop = (id, node) => {\r\n    if (!windowCache.clearCacheTimeuot) {\r\n        windowCache.clearCacheTimeuot = true;\r\n        window.requestAnimationFrame(clearCache);\r\n    }\r\n\r\n    if (!windowCache.scrollsTop[id])\r\n        windowCache.scrollsTop[id] = node.scrollTop;\r\n\r\n    return windowCache.scrollsTop[id];\r\n};\r\n\r\nexport let getCachedScrollLeft = (id, node) => {\r\n    if (!windowCache.clearCacheTimeuot) {\r\n        windowCache.clearCacheTimeuot = true;\r\n        window.requestAnimationFrame(clearCache);\r\n    }\r\n\r\n    if (!windowCache.scrollsLeft[id])\r\n        windowCache.scrollsLeft[id] = node.scrollLeft;\r\n\r\n    return windowCache.scrollsLeft[id];\r\n};\r\n\r\nexport let getCachedScrollWidth = (id, node) => {\r\n    if (!windowCache.clearCacheTimeuot) {\r\n        windowCache.clearCacheTimeuot = true;\r\n        window.requestAnimationFrame(clearCache);\r\n    }\r\n\r\n    if (!windowCache.scrollsWidth[id])\r\n        windowCache.scrollsWidth[id] = node.scrollWidth;\r\n\r\n    return windowCache.scrollsWidth[id];\r\n};\r\n\r\nexport let getCachedScrollHeight = (id, node) => {\r\n    if (!windowCache.clearCacheTimeuot) {\r\n        windowCache.clearCacheTimeuot = true;\r\n        window.requestAnimationFrame(clearCache);\r\n    }\r\n\r\n    if (!windowCache.scrollsHeight[id])\r\n        windowCache.scrollsHeight[id] = node.scrollHeight;\r\n\r\n    return windowCache.scrollsHeight[id];\r\n};\r\n\r\nexport let addToCache = (id, rect, propName) => {\r\n    windowCache[propName][id] = rect;\r\n};\r\n","import React from \"react\";\r\nexport default class AnimationHolder extends React.Component {\r\n    render () {\r\n        if (!this.props.disabled)\r\n            return this.props.children;\r\n        else\r\n            return (\r\n                <div\r\n                    className={this.props.className}\r\n                    id={this.props.id}\r\n                    ref={this.props.transformRef}\r\n                >\r\n                    {this.props.children}\r\n                </div>\r\n            )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport VisibilitySensor from \"react-visibility-sensor\";\r\nexport default class VisibilitySensorWrapper extends React.Component {\r\n    render () {\r\n        if (!this.props.animation)\r\n            return this.props.children;\r\n        else\r\n            return (\r\n                <VisibilitySensor\r\n                    partialVisibility onChange={(v) => {\r\n                        if (this.props.animation.name &&\r\n                            (this.props.animation.options && this.props.animation.options.once)\r\n                            && v) {\r\n                            !this.props.editor && this.props.playAnimation(true);\r\n                            return;\r\n                        }\r\n\r\n                        if (this.props.animation.name && v)\r\n                            !this.props.editor && this.props.playAnimation();\r\n                    }}\r\n                    containment={this.props.select.getPageOverflowRef()}\r\n                    active={this.props.animation.name && !this.props.disableVS}\r\n                >\r\n                    {this.props.children}\r\n                </VisibilitySensor>\r\n            )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\n\r\nexport default class AdjustmentHelpSize extends React.Component {\r\n    getText = () => {\r\n        let {width, height} = this.props.resizeHelpData;\r\n\r\n        return `${width? \"W: \" + width.toFixed(0).toString() + \"  \": \"\"}\r\n        ${height? \"H: \" + height.toFixed(0).toString() + \"\": \"\"}`;\r\n    };\r\n    render () {\r\n        let {x, y} = this.props.resizeHelpData;\r\n        return (\r\n            <div\r\n                id=\"AdjustmentHelpSize\"\r\n                className=\"AdjustmentHelpSizeRoot\"\r\n            >\r\n                <p\r\n                    style={{\r\n                        position: \"absolute\",\r\n                        top: y,\r\n                        left: x,\r\n                        margin: 0,\r\n                        transform: \"translateX(20px) translateY(20px)\",\r\n                        fontSize: \"0.65em\",\r\n                        color: \"#ffffff\",\r\n                        backgroundColor: \"#4b4b4b\",\r\n                        padding: 4,\r\n                        borderRadius: 4,\r\n                        width: \"fit-content\"\r\n                    }}\r\n                >\r\n                    {this.getText()}\r\n                </p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport debounce from 'lodash.debounce';\r\nimport {appendStyle, cloneObject, initGriddata, updateStyle} from \"./AwesomeGridLayoutUtils\";\r\nimport './AwesomeGridLayout.css';\r\nimport GridChildContainer from \"./GridChildContainer\";\r\nimport DynamicComponents, {DynamicAnimations} from \"./Dynamic/DynamicComponents\";\r\nimport classNames from \"classnames\";\r\nimport Portal from \"./Portal\";\r\nimport {\r\n    createItem,\r\n    getCompositeDesignData, getPxValueFromCSSValue, getResizeDelta, getViewRatioStyle,\r\n    isFixed,\r\n    isGroupSelected, isRightClick,\r\n} from \"./AwesomwGridLayoutHelper\";\r\nimport AGLAnchor from \"./AGLAnchor\";\r\nimport AdjustmentResizePage from \"./Adjustment/AdjustmentResizePage\";\r\nimport EventTrigger from \"./Test/EventTrigger\";\r\nimport {\r\n    addToCache,\r\n    getCachedBoundingRect,\r\n    getCachedClientHeight, getCachedScrollLeft,\r\n    getCachedScrollTop,\r\n    getCachedClientWidth, getCachedScrollHeight, getCachedScrollWidth\r\n} from \"./Test/WindowCache\";\r\nimport ChildHolder from \"./AnimationHolder\";\r\nimport VisibilitySensorWrapper from \"./Test/VisibilitySensorWrapper\";\r\nimport AdjustmentHelpSize from \"./Adjustment/AdjustmentHelpSize\";\r\n\r\nexport default class AwesomeGridLayout2 extends React.Component{\r\n    constructor (props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            childContainers: [],\r\n            grid: {x: 1, y: 1, gridTemplateRows: \"1fr\", gridTemplateColumns: \"1fr\"},\r\n            portalNodeId: props.portalNodeId,\r\n            windowWidth: props.breakpointmanager.getWindowWidth()\r\n        };\r\n\r\n        this.rootDivRef = React.createRef();\r\n        this.overflowRef = !props.isPage? React.createRef(): this.rootDivRef;\r\n        this.containerRef = React.createRef();\r\n        this.backContainerRef = React.createRef();\r\n        this.transformRef = React.createRef();\r\n        this.allChildRefs = {};\r\n\r\n        this.children = {};\r\n\r\n        initGriddata(props.griddata, this.props.breakpointmanager);\r\n\r\n        this.props.idMan.setItem(this.props.id, this);\r\n\r\n        this.onPropsChange = new EventTrigger(this);\r\n\r\n        props.id === \"comp_ContainerBase_1_1_1_1_1_1\" && console.log(\"AwesomeGridLayout2 constructor\", props.griddata)\r\n\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n        this.init();\r\n    }\r\n\r\n    componentDidUpdate (prevProps, prevState, snapshot) {\r\n        if (this.needRender) {\r\n            delete this.needRender;\r\n            this.updateLayout(() => {\r\n                this.isEditor() ? this.onSelect(this.getFromTempData(\"selected\"), this.lateMounted) : this.lateMounted();\r\n            });\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n        this.isEditor() && this.props.editor.updateLayout();\r\n    }\r\n\r\n    callOverride = (funcName, ...args) => {\r\n        let override = this.getOverrideProp(funcName);\r\n        if (override) {\r\n            return override(this, ...args);\r\n        }\r\n\r\n        return false;\r\n    };\r\n\r\n    hasOverride = (funcName) => {\r\n        return this.getOverrideProp(funcName);\r\n    };\r\n\r\n    init = () => {\r\n        this.needRender = true;\r\n\r\n        this.children = {};\r\n\r\n        let lastZIndex = this.getNextIndexData(0).lastZIndex;\r\n        let savedChildren = this.props.griddata.savedChildren;\r\n        if (!savedChildren) {\r\n            this.props.griddata.savedChildren = {};\r\n            savedChildren = this.props.griddata.savedChildren;\r\n\r\n            React.Children.map(this.props.children, (child, i)=> {\r\n                if (child) {\r\n                    let props = {...child.props};\r\n                    let createdChild = this.createChildByData({\r\n                        tagName: child.type.name ? child.type.name : child.type,\r\n                        props: props\r\n                    }, DynamicComponents);\r\n                    this.children[props.id] = {\r\n                        // child: this.getChildClone(child),\r\n                        child: createdChild,\r\n                        zIndex: lastZIndex + 1\r\n                    };\r\n\r\n                    savedChildren[props.id] = {\r\n                        tagName: child.type.name ? child.type.name : child.type,\r\n                        props: this.getClearProps(props),\r\n                        zIndex: this.children[props.id].zIndex\r\n                    };\r\n\r\n                    lastZIndex++;\r\n                }\r\n            });\r\n\r\n            if (this.renderChild) {\r\n                let childs = this.renderChild();\r\n                if (childs instanceof Array) {\r\n                    childs.forEach(c => {\r\n                        if (c) {\r\n                            let props = {...c.props};\r\n                            let createdChild = this.createChildByData({\r\n                                tagName: c.type.name? c.type.name: c.type,\r\n                                props: props\r\n                            }, DynamicComponents);\r\n                            this.children[props.id] = {\r\n                                child: createdChild,\r\n                                zIndex: lastZIndex + 1\r\n                            };\r\n\r\n                            savedChildren[props.id] = {\r\n                                tagName: c.type.name? c.type.name: c.type,\r\n                                props: this.getClearProps(props),\r\n                                zIndex: this.children[props.id].zIndex\r\n                            };\r\n\r\n                            lastZIndex++;\r\n                        }\r\n                    });\r\n                } else {\r\n                    if (childs) {\r\n                        let props = {...childs.props};\r\n                        let createdChild = this.createChildByData({\r\n                            tagName: childs.type.name ? childs.type.name : childs.type,\r\n                            props: props\r\n                        }, DynamicComponents);\r\n                        this.children[props.id] = {\r\n                            child: createdChild,\r\n                            zIndex: lastZIndex + 1\r\n                        };\r\n\r\n                        savedChildren[props.id] = {\r\n                            tagName: childs.type.name ? childs.type.name : childs.type,\r\n                            props: this.getClearProps(props),\r\n                            zIndex: this.children[props.id].zIndex\r\n                        };\r\n\r\n                        lastZIndex++;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (this.props.childrenData) {\r\n                let childs = this.props.childrenData();\r\n                childs.forEach(c => {\r\n                    if (c) {\r\n                        let props = {...c.props};\r\n                        let createdChild = this.createChildByData({\r\n                            tagName: c.tagName,\r\n                            props: props\r\n                        }, DynamicComponents);\r\n                        this.children[props.id] = {\r\n                            child: createdChild,\r\n                            zIndex: lastZIndex + 1\r\n                        };\r\n\r\n                        savedChildren[props.id] = {\r\n                            tagName: c.tagName,\r\n                            props: this.getClearProps(props),\r\n                            zIndex: this.children[props.id].zIndex\r\n                        };\r\n\r\n                        lastZIndex++;\r\n                    }\r\n                });\r\n            }\r\n        } else {\r\n            let savedChildrenArray = Object.values(savedChildren);\r\n            savedChildrenArray.sort((a, b) => {\r\n                if (a.zIndex > b.zIndex) {\r\n                    return 1;\r\n                } else if (a.zIndex === b.zIndex) {\r\n                    // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                    return 0;\r\n                }\r\n                return -1;\r\n            });\r\n            savedChildrenArray.forEach(childData => {\r\n                let oldId = childData.props.id;\r\n                let child = this.createChildByData(childData, DynamicComponents);\r\n                this.children[childData.props.id] = {\r\n                    child: child,\r\n                    zIndex: childData.zIndex\r\n                };\r\n\r\n                if (oldId !== childData.props.id) {\r\n                    delete savedChildren[oldId];\r\n                    savedChildren[childData.props.id] = childData;\r\n                }\r\n            })\r\n        }\r\n\r\n        this.initLayout();\r\n    };\r\n\r\n    initLayout = () => {\r\n        if (this.callOverride(\"initLayout\"))\r\n            return;\r\n\r\n        let style = this.getCompositeFromData(\"style\") || this.getDefaultStyle();\r\n\r\n        this.setTransformStyle(this.getCompositeFromData(\"transform\"), undefined,\r\n            this.props.breakpointmanager.getHighestBpName());\r\n        this.setGridItemStyle(this.getCompositeFromData(\"gridItemStyle\") ||\r\n            this.props.defaultGridItemStyle,\r\n            this.props.breakpointmanager.getHighestBpName());\r\n\r\n        if (this.props.isPage)\r\n            style.width = this.props.style.width;\r\n\r\n        this.setStyle(style, undefined,\r\n            this.props.breakpointmanager.getHighestBpName());\r\n        this.setGrid(this.getCompositeFromData(\"grid\") || this.props.defaultGrid, undefined,\r\n            this.props.breakpointmanager.getHighestBpName());\r\n    };\r\n\r\n    getDefaultStyle = () => {\r\n        let style = { ...this.props.defaultStyle, ...this.props.style};\r\n\r\n        if ((this.props.defaultGridItemStyle).justifySelf === \"stretch\" &&\r\n            (this.getFromTempData(\"resizable\") &&\r\n                (!this.props.resizeSides || (!this.props.resizeSides.includes(\"w\") &&\r\n                    !this.props.resizeSides.includes(\"e\"))))) {\r\n            style.width = \"auto\";\r\n        }\r\n\r\n        return style;\r\n    };\r\n\r\n    lateMounted = () => {\r\n        if (this.hasOverride(\"lateMounted\")) {\r\n            return this.callOverride(\"lateMounted\");\r\n        }\r\n\r\n        let size = this.getSize(false, true, true);\r\n        this.addToSnap();\r\n\r\n        let baseDocks = this.getBaseDocks();\r\n        this.setDocks(baseDocks.top, baseDocks.left, baseDocks.bottom, baseDocks.right,\r\n            this.getFromTempData(\"autoDock\"),\r\n            this.props.breakpointmanager.getHighestBpName(), true);\r\n\r\n        console.log(\"AwesomeGridLayout2 lateMounted\", this.props.id)\r\n        if (this.props.onPageResize) {\r\n            console.log(\"AwesomeGridLayout2 lateMounted.onPageResize\", this.props.id)\r\n            this.props.onPageResize(size.width, this, true);\r\n        }\r\n\r\n        this.props.onChildMounted && this.props.onChildMounted(this);\r\n        this.isEditor() && this.props.editor.updateLayout();\r\n    };\r\n\r\n    getPrimaryOptions = () => {\r\n        return this.props.getPrimaryOptions && this.props.getPrimaryOptions();\r\n    };\r\n\r\n    getShortcutOptions = () => {\r\n        return this.props.getShortcutOptions && this.props.getShortcutOptions();\r\n    };\r\n\r\n    hasMiniMenu = () => {\r\n        if (this.hasOverride(\"hasMiniMenu\")) {\r\n            return this.callOverride(\"hasMiniMenu\");\r\n        }\r\n\r\n        return true;\r\n    };\r\n\r\n    addToSnap = debounce(() => {\r\n        if (this.callOverride(\"addToSnap\"))\r\n            return;\r\n\r\n        // let rect = this.getSize(false);\r\n        let rect = this.getBoundarySize() || this.getSize(false);\r\n        if (rect) {\r\n            this.props.snap.addSnap(this.props.id,\r\n                [\r\n                    {\r\n                        id: this.props.id,\r\n                        value: rect.top,\r\n                        p1: rect.left,\r\n                        p2: rect.left + rect.width\r\n                    },\r\n                    !this.props.isPage && {\r\n                        id: this.props.id,\r\n                        value: rect.top + rect.height / 2,\r\n                        p1: rect.left,\r\n                        p2: rect.left + rect.width\r\n                    },\r\n                    {\r\n                        id: this.props.id,\r\n                        value: rect.top + rect.height,\r\n                        p1: rect.left,\r\n                        p2: rect.left + rect.width\r\n                    }\r\n                ],\r\n                [\r\n                    {\r\n                        id: this.props.id,\r\n                        value: rect.left,\r\n                        p1: rect.top,\r\n                        p2: rect.top + rect.height\r\n                    },\r\n                    !this.props.isPage && {\r\n                        id: this.props.id,\r\n                        value: rect.left + rect.width / 2,\r\n                        p1: rect.top,\r\n                        p2: rect.top + rect.height\r\n                    },\r\n                    {\r\n                        id: this.props.id,\r\n                        value: rect.left + rect.width,\r\n                        p1: rect.top,\r\n                        p2: rect.top + rect.height\r\n                    }\r\n                ],\r\n                this.getParentsId()\r\n            );\r\n        }\r\n\r\n        Object.values(this.allChildRefs).forEach(childRef => {\r\n            if (childRef && childRef.current){\r\n                childRef.current.addToSnap();\r\n            }\r\n        });\r\n    }, 500);\r\n\r\n    getParentsId = () => {\r\n        let parentsId = [];\r\n        let parent = this.props.parent;\r\n\r\n        while (parent) {\r\n            parentsId.push(parent.props.id);\r\n            parent = parent.props.parent;\r\n        }\r\n\r\n        return parentsId;\r\n    };\r\n\r\n    getGridLineSnaps = () => {\r\n        let snaps = {\r\n            horizontals: [],\r\n            verticals: [],\r\n            id: this.props.id\r\n        };\r\n        this.prepareRects();\r\n        let xLineRef = this.props.gridLine.getXlineRef(this.props.id);\r\n        for(let i = 0; i < xLineRef.length; i++) {\r\n            // let current = xLineRef[i].current;\r\n            let rect = this.getGridLineRect(xLineRef[i], i, 'x', this);\r\n            if (!rect)\r\n                continue;\r\n\r\n            // let rect = current.getBoundingClientRect();\r\n            // let rect = current.rect;\r\n            snaps.verticals.push({\r\n                id: this.props.id,\r\n                value: rect.left + ((i === xLineRef.length - 1)? 1: 0),\r\n                p1: rect.top,\r\n                p2: rect.top + rect.height\r\n            });\r\n        }\r\n        let yLineRef = this.props.gridLine.getYlineRef(this.props.id);\r\n        for(let i = 0; i < yLineRef.length; i++) {\r\n            // let current = yLineRef[i].current;\r\n            let rect = this.getGridLineRect(yLineRef[i], i, 'y', this);\r\n            if (!rect)\r\n                continue;\r\n\r\n            // let rect = current.getBoundingClientRect();\r\n            // let rect = current.rect;\r\n            snaps.horizontals.push({\r\n                id: this.props.id,\r\n                value: rect.top + ((i === yLineRef.length - 1)? 1: 0),\r\n                p1: rect.left,\r\n                p2: rect.left + rect.width\r\n            });\r\n        }\r\n\r\n        return [snaps];\r\n    };\r\n\r\n    createChildByData = (childData, dynamicComponents, newId, onChildMounted, fixed) => {\r\n        if (this.callOverride(\"addToSnap\", childData, dynamicComponents, newId, onChildMounted, fixed))\r\n            return;\r\n\r\n        let tagName = childData.tagName;\r\n        let props = childData.props;\r\n\r\n        let griddata = initGriddata(props.griddata, this.props.breakpointmanager);\r\n\r\n        if (newId)\r\n            props.id = newId;\r\n        if (!props.id)\r\n            props.id = this.props.idMan.getId(tagName);\r\n        else\r\n            props.id = this.props.idMan.getId(tagName, props.id);\r\n\r\n        griddata.id = props.id;\r\n        if (!props.griddata || newId)\r\n            props.griddata = griddata;\r\n\r\n        this.allChildRefs[props.id] = React.createRef();\r\n\r\n        if (this.getFromTempData(\"isFixed\", props.griddata))\r\n            fixed = true;\r\n\r\n        let AGLProps = {};\r\n        if (tagName[0] == tagName[0].toUpperCase()) {\r\n            console.log(\"createChildByData portalNodeId\",props.portalNodeId, (fixed && `${this.props.id}_fixed_holder`))\r\n            AGLProps = {\r\n                aglRef: this.allChildRefs[props.id],\r\n                viewRef: this.props.viewRef,\r\n                breakpointmanager: this.props.breakpointmanager,\r\n                undoredo: this.props.undoredo,\r\n                dragdrop: this.props.dragdrop,\r\n                select: this.props.select,\r\n                snap: this.props.snap,\r\n                idMan: this.props.idMan,\r\n                input: this.props.input,\r\n                copyMan: this.props.copyMan,\r\n                window: this.props.window,\r\n                document: this.props.document,\r\n                editorData: this.props.editorData,\r\n                anchorMan: this.props.anchorMan,\r\n                gridLine: this.props.gridLine,\r\n                gridEditorRef: this.props.gridEditorRef,\r\n                parent: this,\r\n                editor: this.props.editor,\r\n                onChildMounted: onChildMounted,\r\n                portalNodeId: (fixed && `${this.props.id}_fixed_holder`),\r\n                ...this.getAllChildOverrideProps()\r\n            };\r\n        }\r\n\r\n        let component = tagName[0] === tagName[0].toUpperCase()? dynamicComponents[tagName]: tagName;\r\n\r\n        if (tagName[0] !== tagName[0].toUpperCase())\r\n            delete props.griddata;\r\n\r\n        return React.createElement(\r\n            component,\r\n            {\r\n                ...props,\r\n                key: props.id,\r\n                ...AGLProps,\r\n            }\r\n        );\r\n    };\r\n\r\n    getSize = (updateState = true, force, fullForce) => {\r\n        if (!this.rootDivRef.current)\r\n            return;\r\n\r\n        if (this.tempSize && !force)\r\n            return cloneObject(this.tempSize);\r\n\r\n        let rect = fullForce ? this.rootDivRef.current.getBoundingClientRect() :\r\n            getCachedBoundingRect(this.props.id, this.rootDivRef.current);\r\n\r\n        let clientWidth = rect.width;\r\n        let clientHeight = rect.height;\r\n        let scrollTop = 0;\r\n        let scrollLeft = 0;\r\n        let scrollWidth = rect.width;\r\n        let scrollHeight = rect.height;\r\n        if (this.overflowRef.current) {\r\n            clientWidth = fullForce ? this.overflowRef.current.clientWidth :\r\n                getCachedClientWidth(this.props.id, this.overflowRef.current);\r\n            clientHeight = fullForce ? this.overflowRef.current.clientHeight :\r\n                getCachedClientHeight(this.props.id, this.overflowRef.current);\r\n            scrollTop = fullForce ? this.overflowRef.current.scrollTop :\r\n                getCachedScrollTop(this.props.id, this.overflowRef.current);\r\n            scrollLeft = fullForce ? this.overflowRef.current.scrollLeft :\r\n                getCachedScrollLeft(this.props.id, this.overflowRef.current);\r\n            scrollWidth = fullForce ? this.overflowRef.current.scrollWidth :\r\n                getCachedScrollWidth(this.props.id, this.overflowRef.current);\r\n            scrollHeight = fullForce ? this.overflowRef.current.scrollHeight :\r\n                getCachedScrollHeight(this.props.id, this.overflowRef.current);\r\n        }\r\n\r\n        let padding = cloneObject(this.getCompositeFromData(\"padding\")) || {};\r\n        ['top', 'left', 'bottom', 'right'].forEach(key => {\r\n            padding[key] = getPxValueFromCSSValue(padding[key], 0, this) || 0;\r\n        });\r\n        let temp = {\r\n            x: rect.width,\r\n            y: rect.height,\r\n            clientWidth: clientWidth,\r\n            clientHeight: clientHeight,\r\n            scrollTop: scrollTop,\r\n            scrollLeft: scrollLeft,\r\n            scrollWidth: scrollWidth,\r\n            scrollHeight: scrollHeight,\r\n            top: rect.top,\r\n            left: rect.left,\r\n            bottom: rect.bottom,\r\n            right: rect.right,\r\n            width: rect.width,\r\n            height: rect.height,\r\n            widthMinusPadding: rect.width - (padding.left||0)- (padding.right||0),\r\n            heightMinusPadding: rect.height - (padding.top||0)- (padding.bottom||0),\r\n            scrollWidthMinusPadding: scrollWidth - (padding.left||0)- (padding.right||0),\r\n            scrollHeightMinusPadding: scrollHeight - (padding.top||0)- (padding.bottom||0)\r\n        };\r\n\r\n        this.tempSize = temp;\r\n\r\n        if (fullForce) {\r\n            addToCache(this.props.id, this.tempSize, \"boundingRects\");\r\n            addToCache(this.props.id, clientWidth, \"clientsWidth\");\r\n            addToCache(this.props.id, clientHeight, \"clientsHeight\");\r\n            addToCache(this.props.id, scrollTop, \"scrollsTop\");\r\n            addToCache(this.props.id, scrollLeft, \"scrollsLeft\");\r\n            addToCache(this.props.id, scrollWidth, \"scrollsWidth\");\r\n            addToCache(this.props.id, scrollHeight, \"scrollsHeight\");\r\n        }\r\n\r\n        return temp;\r\n    };\r\n\r\n    getBoundarySize = (force) => {\r\n        if (this.transformRef.current) {\r\n            if (!force)\r\n                return getCachedBoundingRect(`${this.props.id}_transform`, this.transformRef.current);\r\n            else\r\n                return this.transformRef.current.getBoundingClientRect();\r\n        }\r\n    };\r\n\r\n    invalidateSize = (self = true, updateParent = true, updateChildren = true, sourceId,\r\n                      addToSnap = false) => {\r\n        if (this.callOverride(\"invalidateSize\", self, updateParent, updateChildren, sourceId))\r\n            return;\r\n\r\n        if (addToSnap)\r\n            this.addToSnap();\r\n\r\n        if (!sourceId)\r\n            sourceId = this.props.id;\r\n\r\n        if (self)\r\n            delete this.tempSize;\r\n\r\n        if (updateChildren) {\r\n            Object.values(this.allChildRefs).forEach(childRef => {\r\n                if (childRef && childRef.current && sourceId !== childRef.current.props.id) {\r\n                    childRef.current.invalidateSize(true, false, true, sourceId, addToSnap);\r\n                }\r\n            });\r\n        }\r\n\r\n        if (updateParent) {\r\n            this.getParentsId().forEach(id => {\r\n                let parent = this.props.idMan.getItem(id);\r\n                if (parent && parent.mounted && sourceId !== parent.props.id) {\r\n                    parent.invalidateSize(true, false, false, sourceId, addToSnap);\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    onWindowSizeChange = () => {\r\n        this.addToSnap();\r\n        this.prepareRects();\r\n        Object.values(this.allChildRefs).forEach(childRef => {\r\n            if (childRef && childRef.current) {\r\n                childRef.current.onWindowSizeChange();\r\n            }\r\n        });\r\n    };\r\n\r\n    getRenderChildData = (id) => {\r\n        return this.children[id];\r\n    };\r\n\r\n    arrangeIndex = (child, type) => {\r\n        let childData = this.getFromTempData(\"savedChildren\")[child.props.id];\r\n        let currentIndex = childData.zIndex;\r\n\r\n        if (!currentIndex)\r\n            currentIndex = 0;\r\n\r\n        let indexData = this.getNextIndexData(currentIndex);\r\n        switch (type) {\r\n            case \"forward\":\r\n                childData.zIndex = indexData.nextZIndex;\r\n                if (indexData.nextChild) {\r\n                    indexData.nextChild.zIndex = currentIndex;\r\n                    this.getRenderChildData(indexData.nextChild.props.id).zIndex = currentIndex;\r\n                }\r\n                break;\r\n            case \"backward\":\r\n                childData.zIndex = indexData.prevZIndex;\r\n                if (indexData.prevChild) {\r\n                    indexData.prevChild.zIndex = currentIndex;\r\n                    this.getRenderChildData(indexData.prevChild.props.id).zIndex = currentIndex;\r\n                }\r\n                break;\r\n            case \"front\":\r\n                childData.zIndex = indexData.lastZIndex + 1;\r\n                break;\r\n            case \"back\":\r\n                childData.zIndex = indexData.firstZIndex - 1;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.getRenderChildData(childData.props.id).zIndex = childData.zIndex;\r\n\r\n        this.updateLayout();\r\n    };\r\n\r\n    changeIndex = (child, index) => {\r\n        let allChildData = this.getFromTempData(\"savedChildren\");\r\n        let childData = allChildData[child.props.id];\r\n        let currentIndex = childData.zIndex;\r\n\r\n        if (currentIndex === index)\r\n            return;\r\n\r\n        if (!currentIndex)\r\n            currentIndex = 0;\r\n\r\n        let findIndex = (zIndex) => {\r\n            return allChildData.findIndex(a => {\r\n                return a.zIndex === zIndex;\r\n            });\r\n        };\r\n\r\n        let change = currentIndex < index ? -1 : 1;\r\n\r\n        if (findIndex(index)) // if false, means index is free to set\r\n        {\r\n            let startIndex = currentIndex < index ? findIndex(currentIndex) || 0 : findIndex(index);\r\n            let lastIndex = currentIndex < index ? findIndex(index) : findIndex(currentIndex) || 0 ;\r\n\r\n            for (let i = startIndex; i < lastIndex + 1; i++) {\r\n                let testChildData = allChildData[i];\r\n                testChildData.zIndex += change;\r\n                this.getRenderChildData(testChildData.props.id).zIndex = testChildData.zIndex;\r\n            }\r\n        }\r\n\r\n        childData.zIndex = index;\r\n        this.getRenderChildData(childData.props.id).zIndex = childData.zIndex;\r\n\r\n        this.updateLayout();\r\n    };\r\n\r\n    setChildZIndex = (childId, zIndex) => {\r\n        let allChildData = this.getFromTempData(\"savedChildren\");\r\n        let childData = allChildData[childId];\r\n        childData.zIndex = zIndex;\r\n        this.getRenderChildData(childData.props.id).zIndex = childData.zIndex;\r\n    };\r\n\r\n    getNextIndexData = (currentIndex) => {\r\n        let children = Object.values(this.getFromTempData(\"savedChildren\") || {});\r\n        children.sort((a, b) => {\r\n            if (a.zIndex > b.zIndex) {\r\n                return 1;\r\n            } else if (a.zIndex === b.zIndex) {\r\n                // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                return 0;\r\n            }\r\n            return -1;\r\n        });\r\n        let result = {};\r\n        for (let i = 0; i < children.length; i++){\r\n            let child = children[i];\r\n\r\n            let childZIndex = child.zIndex;\r\n\r\n            if (i === 0) {\r\n                result.firstZIndex = childZIndex;\r\n            }\r\n\r\n            if (i === children.length - 1) {\r\n                result.lastZIndex = childZIndex;\r\n            }\r\n\r\n            if (result.nextChild === undefined && childZIndex > currentIndex){\r\n                result.nextChild = child;\r\n                result.nextZIndex = childZIndex;\r\n                continue;\r\n            }\r\n\r\n            if (childZIndex < currentIndex){\r\n                result.prevChild = child;\r\n                result.prevZIndex = childZIndex;\r\n                // continue;\r\n            }\r\n        }\r\n\r\n        if (!result.nextChild)\r\n            result.nextZIndex = result.lastZIndex + 1;\r\n        if (!result.prevChild)\r\n            result.prevZIndex = result.firstZIndex - 1;\r\n\r\n        if (result.lastZIndex === undefined)\r\n            result.lastZIndex = 0;\r\n\r\n        return result;\r\n    };\r\n\r\n    updateLayout = (callback) => {\r\n        if (this.callOverride(\"updateLayout\", callback))\r\n            return;\r\n\r\n        this.setState({reload: true}, callback);\r\n    };\r\n\r\n    isPointInclude = (x, y, forceCalculate) => {\r\n        let rect = this.getSize(false, forceCalculate);\r\n        return x >= rect.left && x <= rect.left + rect.width &&\r\n            y >= rect.top && y <= rect.top + rect.height;\r\n    };\r\n\r\n    addChild = (childElement, newId, newProps, callback, onChildMounted, fixed, keepChildren) => {\r\n        if (this.callOverride(\"addChild\", childElement, newId, newProps, callback, onChildMounted, fixed))\r\n            return;\r\n\r\n        if (!childElement.props.tagName && !childElement.type) {\r\n            throw new Error(\"childElement must pass tagName prop to AGL or be primitive type\");\r\n        }\r\n\r\n        let lastZIndex = this.getNextIndexData(0).lastZIndex;\r\n        let props = newId? newProps: {...childElement.props};\r\n        let createdChild = this.createChildByData({\r\n            tagName: childElement.props.tagName? childElement.props.tagName:\r\n                childElement.type.name? childElement.type.name: childElement.type,\r\n            props: this.getClearProps(props, keepChildren)\r\n        }, DynamicComponents, newId, onChildMounted, fixed);\r\n        this.children[props.id] = {\r\n            child: createdChild,\r\n            zIndex: lastZIndex + 1\r\n        };\r\n\r\n        this.props.griddata.savedChildren[props.id] = {\r\n            tagName: childElement.props.tagName? childElement.props.tagName:\r\n                childElement.type.name? childElement.type.name: childElement.type,\r\n            props: this.getClearProps(props),\r\n            zIndex: this.children[props.id].zIndex\r\n        };\r\n\r\n        this.updateLayout(callback);\r\n        this.props.onChildAdd && this.props.onChildAdd();\r\n    };\r\n\r\n    onBreakpointChange = (width, newBreakpointName, devicePixelRatio) => {\r\n        if (this.callOverride(\"onBreakpointChange\", width, newBreakpointName, devicePixelRatio))\r\n            return;\r\n\r\n        let style = this.getCompositeFromData(\"style\");\r\n        let gridItemStyle = this.getCompositeFromData(\"gridItemStyle\");\r\n        let transform = this.getCompositeFromData(\"transform\");\r\n        this.setStyle(style, undefined, undefined, true);\r\n        this.setGridItemStyle(gridItemStyle, undefined, true);\r\n        this.setTransformStyle(transform, undefined, undefined, true);\r\n\r\n        Object.values(this.allChildRefs).forEach(childRef => {\r\n            if (childRef && childRef.current) {\r\n                childRef.current.onBreakpointChange(width, newBreakpointName, devicePixelRatio);\r\n            }\r\n        });\r\n\r\n        this.updateLayout();\r\n    };\r\n\r\n    delete = (fromUndoRedo) => {\r\n        if (this.callOverride(\"delete\"))\r\n            return;\r\n\r\n        if (!this.props.parent)\r\n            return;\r\n\r\n        if (this.props.onItemPreDelete) {\r\n            let allow = this.props.onItemPreDelete(this);\r\n            if (!allow)\r\n                return;\r\n        }\r\n\r\n        if (!fromUndoRedo) {\r\n            let itemId = this.props.id;\r\n            let parentId = this.props.parent.props.id;\r\n            let childData = cloneObject(this.props.parent.getChildData(itemId));\r\n            this.props.undoredo.add((idMan) => {\r\n                idMan.getItem(itemId).delete(true);\r\n            }, (idMan) => {\r\n                createItem(idMan.getItem(parentId), childData, true);\r\n            });\r\n        }\r\n\r\n        this.clearItem();\r\n\r\n        this.props.parent.removeChildElement(this);\r\n\r\n        this.props.select.clearMiniMenu();\r\n    };\r\n\r\n    getChildData = (childId) => {\r\n        return this.props.griddata.savedChildren[childId];\r\n    };\r\n\r\n    getOverrideProp = (funcName) => {\r\n        let key = Object.keys(this.props).find(key => {\r\n            return key === `${funcName}Override`;\r\n        });\r\n\r\n        return this.props[key];\r\n    };\r\n\r\n    getAllOverrideProps = (props) => {\r\n        let result = {};\r\n        Object.keys(props || this.props).forEach(key => {\r\n            if (key.endsWith(\"Override\")) {\r\n                result[key] = this.props[key];\r\n            }\r\n        });\r\n\r\n        return result;\r\n    };\r\n\r\n    getAllChildOverrideProps = (props) => {\r\n        let result = {};\r\n        Object.keys(props || this.props).forEach(key => {\r\n            if (key.endsWith(\"ChildOverride\")) {\r\n                result[key.replace(\"ChildOverride\", \"Override\")] = this.props[key];\r\n            }\r\n        });\r\n\r\n        return result;\r\n    };\r\n\r\n    clearItem = () => {\r\n        this.props.idMan.removeId(this.props.id);\r\n        this.props.gridLine.removeGridLine(this.props.id);\r\n        this.props.snap.removeSnap(this.props.id);\r\n        this.state.selected && this.props.select.updateResizePanes();\r\n        this.state.selected && this.props.select.updateHelpSizeLines();\r\n        this.state.selected && this.props.select.setInspector();\r\n        if (this.state.selected)\r\n            this.props.select.selectedItem = false;\r\n        Object.values(this.allChildRefs).forEach(childRef => {\r\n            if (childRef && childRef.current) {\r\n                childRef.current.clearItem();\r\n            }\r\n        });\r\n    };\r\n\r\n    getClearProps = (props, keepChildren) => {\r\n        delete props.breakpointmanager;\r\n        delete props.undoredo;\r\n        delete props.dragdrop;\r\n        delete props.select;\r\n        delete props.editor;\r\n        delete props.snap;\r\n        delete props.idMan;\r\n        delete props.input;\r\n        delete props.copyMan;\r\n        delete props.anchorMan;\r\n        delete props.aglRef;\r\n        delete props.parent;\r\n        delete props.window;\r\n        delete props.document;\r\n        delete props.viewRef;\r\n        delete props.aglComponent;\r\n        if (!keepChildren)\r\n            delete props.children;\r\n        delete props.allChildRefs;\r\n        delete props.gridLine;\r\n        delete props.page;\r\n        delete props.gridEditorRef;\r\n        delete props.onChildMounted;\r\n\r\n        Object.keys(this.getAllOverrideProps(props)).forEach(key => {\r\n            delete props[key];\r\n        });\r\n\r\n        Object.keys(props).forEach(key => {\r\n            if (typeof props[key] === \"function\")\r\n                delete props[key];\r\n        });\r\n\r\n        return props;\r\n    };\r\n\r\n    removeChildElement = (childElement, callback) => {\r\n        if (this.hasOverride(\"removeChildElement\"))\r\n            return this.callOverride(\"removeChildElement\", childElement);\r\n\r\n        delete this.children[childElement.props.id];\r\n        delete this.allChildRefs[childElement.props.id];\r\n        delete this.props.griddata.savedChildren[childElement.props.id];\r\n\r\n        setTimeout(() => {\r\n            if (!this.mounted)\r\n                return;\r\n            this.updateLayout(callback);\r\n        }, 0);\r\n    };\r\n\r\n    // Can be remove carefully\r\n    hide = () => {\r\n        this.setState({hide: true});\r\n    };\r\n\r\n    // Can be remove carefully\r\n    show = () => {\r\n        this.setState({hide: false});\r\n    };\r\n\r\n    onMouseOver = (e, fromEnter) => {\r\n        if (!this.props.dragdrop.getDragging()) {\r\n            e.stopPropagation();\r\n\r\n            // if (this.getFromTempData(\"selected\"))\r\n            //     return;\r\n\r\n            this.setItemHover(true);\r\n\r\n            this.setMouseOverForNonDragging(this);\r\n\r\n            if (this.props.parent && this.props.parent.onMouseOut) {\r\n                setTimeout(() => {\r\n                    if (!this.mounted)\r\n                        return;\r\n                    this.props.parent.onMouseOut(e, true);\r\n                }, 10);\r\n            }\r\n        } else {\r\n            if (this.props.isPage)\r\n                return;\r\n\r\n            if (this.props.dragdrop.getDragging().props.id === this.props.id)\r\n                return;\r\n\r\n            e.stopPropagation();\r\n\r\n            let rect = getCachedBoundingRect(this.props.id, this.rootDivRef.current);\r\n            if (e.clientX < rect.x - 1 || e.clientX > (rect.x + rect.width) ||\r\n                e.clientY < rect.y - 1 || e.clientY > (rect.y + rect.height))\r\n                return;\r\n\r\n            this.setItemHover(true);\r\n\r\n            if (this.props.parent && this.props.parent.onMouseOut) {\r\n                setTimeout(() => {\r\n                    if (!this.mounted)\r\n                        return;\r\n                    this.props.parent.onMouseOut(e, true);\r\n                }, 10);\r\n            }\r\n\r\n            this.setMouseOver(this, {\r\n                x: e.clientX,\r\n                y: e.clientY\r\n            }, (draggingItem, mouseOver) => {\r\n                // on new parent state changed\r\n                draggingItem.toggleHelpLines(this);\r\n            });\r\n        }\r\n    };\r\n\r\n    setMouseOverForNonDragging = () => {\r\n        if (this.hasOverride(\"setMouseOverForNonDragging\"))\r\n            return this.callOverride(\"setMouseOverForNonDragging\");\r\n\r\n        this.props.dragdrop.setMouseOverForNonDragging(this);\r\n    };\r\n\r\n    setItemHover = (hover) => {\r\n        if (!this.isEditor()) return;\r\n\r\n        if (hover)\r\n            this.props.select.updateHover(this, this.getSize(false));\r\n        else\r\n            this.props.select.updateHover(this, undefined, true);\r\n    };\r\n\r\n    onMouseEnter = (e) => {\r\n        this.onMouseOver(e, true);\r\n    };\r\n\r\n    onMouseOut = (e, outAllParent) => {\r\n        if (outAllParent && this.props.parent && this.props.parent.onMouseOut)\r\n            this.props.parent.onMouseOut(e);\r\n\r\n        this.setItemHover(false);\r\n    };\r\n\r\n    prepareRects = (forceRect, forceGridLines, callback, gridType) => {\r\n        if (this.hasOverride(\"prepareRects\"))\r\n            return this.callOverride(\"prepareRects\", forceRect, forceGridLines);\r\n\r\n        let rect = this.getSize(false, forceRect);\r\n\r\n        if (forceGridLines || !this.props.gridLine.isPrepared(this.props.id)) {\r\n            this.isEditor() && this.props.gridLine.prepareRects(this.props.id);\r\n        }\r\n\r\n        return rect;\r\n    };\r\n\r\n    onChildDrop = (child, newId, fixed, onNewChildMounted) => {\r\n        if (this.callOverride(\"onChildDrop\", child, newId, fixed, onNewChildMounted))\r\n            return;\r\n\r\n        let childRect = child.getSize(false);\r\n        let thisRect = this.getSize(false, true);\r\n\r\n        let calcResult, gridItemStyle, coordinates, newProps;\r\n\r\n        if (!newId) {\r\n            let relativeY = childRect.top - thisRect.top;\r\n            // if (fixed) {\r\n            //     // relativeY = childRect.top - this.props.breakpointmanager.getWindowHeight() / 8;\r\n            //     relativeY = childRect.top - thisRect.top;\r\n            // }\r\n            this.prepareRects();\r\n            calcResult = this.calculateChildGridItem(child,\r\n                childRect.left - thisRect.left, relativeY, this,\r\n                childRect.width,\r\n                childRect.height,\r\n                thisRect\r\n            );\r\n        }\r\n        else\r\n        {\r\n            this.prepareRects();\r\n            calcResult = this.calculateChildGridItem(child,\r\n                thisRect.width / 2 - childRect.width / 2,\r\n                thisRect.height / 2 - childRect.height / 2,\r\n                this,\r\n                childRect.width,\r\n                childRect.height,\r\n                thisRect\r\n            );\r\n        }\r\n\r\n        gridItemStyle = calcResult.gridItemStyle;\r\n        coordinates = calcResult.coordinates;\r\n        if (!newId) {\r\n            if (gridItemStyle.alignSelf !== \"stretch\") {\r\n                if (child.getFromData(\"style\").width !== \"auto\")\r\n                    child.setProps(\"width\", childRect.width, coordinates, undefined,\r\n                        this.props.breakpointmanager.getHighestBpName());\r\n            } else {\r\n                child.setProps(\"width\", \"auto\", undefined,\r\n                    this.props.breakpointmanager.getHighestBpName());\r\n            }\r\n            if (child.getFromData(\"style\").height === \"auto\")\r\n                if (child.getFromData(\"style\").minHeight !== \"auto\")\r\n                    child.setProps(\"minHeight\", childRect.height, coordinates, undefined,\r\n                        this.props.breakpointmanager.getHighestBpName());\r\n            else {\r\n                if (child.getFromData(\"style\").height !== \"auto\")\r\n                    child.setProps(\"height\", childRect.height, coordinates, undefined,\r\n                        this.props.breakpointmanager.getHighestBpName());\r\n                if (child.getFromData(\"style\").minHeight !== \"auto\")\r\n                    child.setProps(\"minHeight\", childRect.height, coordinates, undefined,\r\n                        this.props.breakpointmanager.getHighestBpName());\r\n            }\r\n        } else {\r\n            newProps = {...child.props};\r\n            newProps.griddata = cloneObject(newProps.griddata);\r\n            this.setDataInBreakpoint(\"gridItemStyle\", gridItemStyle, newProps.griddata, undefined,\r\n                this.props.breakpointmanager.getHighestBpName());\r\n            this.setTempData(\"selected\", true, newProps.griddata);\r\n            if (gridItemStyle.alignSelf !== \"stretch\") {\r\n                this.setProps(\"width\", childRect.width, coordinates, newProps.griddata, undefined,\r\n                    this.props.breakpointmanager.getHighestBpName());\r\n            } else {\r\n                this.setProps(\"width\", \"auto\", undefined, newProps.griddata, undefined,\r\n                    this.props.breakpointmanager.getHighestBpName());\r\n            }\r\n            if (child.getFromData(\"style\").height === \"auto\")\r\n                this.setProps(\"minHeight\", childRect.height, coordinates, newProps.griddata, undefined,\r\n                    this.props.breakpointmanager.getHighestBpName());\r\n            else {\r\n                this.setProps(\"height\", childRect.height, coordinates, newProps.griddata, undefined,\r\n                    this.props.breakpointmanager.getHighestBpName());\r\n                this.setProps(\"minHeight\", childRect.height, coordinates, newProps.griddata, undefined,\r\n                    this.props.breakpointmanager.getHighestBpName());\r\n            }\r\n        }\r\n\r\n        child.clearFromAllBp(\"style\", undefined, this.props.breakpointmanager.getHighestBpName());\r\n        child.clearFromAllBp(\"gridItemStyle\", undefined, this.props.breakpointmanager.getHighestBpName());\r\n\r\n        this.addChild(child, newId, newProps, () => {\r\n            let newChild = this.allChildRefs[newId? newProps.id: child.props.id].current;\r\n            newChild.setGridItemStyle(gridItemStyle,\r\n                this.props.breakpointmanager.getHighestBpName());\r\n            if (!newId) {\r\n                newChild.state.selected && newChild.toggleHelpLines(this);\r\n            }\r\n\r\n        }, (agl) => {\r\n            window.requestAnimationFrame(() => {\r\n                this.invalidateSize(true, true, true);\r\n                window.requestAnimationFrame(() => {\r\n                    this.props.select.onScrollItem();\r\n                });\r\n            });\r\n            if (onNewChildMounted)\r\n                onNewChildMounted(agl);\r\n        }, fixed, undefined);\r\n    };\r\n\r\n    onChildLeave = (child, callback) => {\r\n        if (this.hasOverride(\"onChildLeave\"))\r\n            return this.callOverride(\"onChildLeave\", child);\r\n\r\n        this.removeChildElement(child, callback);\r\n        child.removeIdAndChildrenId();\r\n    };\r\n\r\n    removeIdAndChildrenId = () => {\r\n        this.props.idMan.removeId(this.props.id);\r\n        Object.values(this.allChildRefs).forEach(childRef => {\r\n            if (childRef && childRef.current) {\r\n                childRef.current.removeIdAndChildrenId();\r\n            }\r\n        });\r\n    };\r\n\r\n    nonePointerEventForChildren = (parentDragging) => {\r\n        Object.values(this.allChildRefs).forEach(childRef => {\r\n            if (childRef && childRef.current) {\r\n                childRef.current.onParentDragging(parentDragging);\r\n            }\r\n        });\r\n    };\r\n\r\n    onParentDragging = (parentDragging) => {\r\n        this.nonePointerEventForChildren(parentDragging);\r\n        if (!parentDragging) {\r\n            this.setRuntimeStyle();\r\n            return;\r\n        }\r\n        let runtimeStyle = {...this.state.runtimeStyle};\r\n        runtimeStyle.pointerEvents = \"none\";\r\n        this.setRuntimeStyle(runtimeStyle);\r\n    };\r\n\r\n    onDragStart = (e, group, callGroup) => {\r\n        if (this.callOverride(\"onDragStart\", e, group, callGroup))\r\n            return;\r\n\r\n        if (this.getFromTempData(\"dontMove\") || this.resizing || !this.props.parent.children[this.props.id])\r\n            return;\r\n\r\n        if (this.props.parent)\r\n            this.props.parent.prepareRects();\r\n\r\n        if (!group)\r\n            this.props.dragdrop.setDragging(this);\r\n\r\n        this.nonePointerEventForChildren(true);\r\n\r\n        let thisRect = this.getSize(false);\r\n\r\n        let runtimeStyle = {...this.state.runtimeStyle};\r\n        runtimeStyle.position = \"fixed\";\r\n        runtimeStyle.gridArea = \"auto/auto/auto/auto\";\r\n        runtimeStyle.marginBottom = \"auto\";\r\n        runtimeStyle.marginTop = \"auto\";\r\n        runtimeStyle.marginLeft = \"auto\";\r\n        runtimeStyle.marginRight = \"auto\";\r\n        runtimeStyle.width = thisRect.width;\r\n        runtimeStyle.height = thisRect.height;\r\n        runtimeStyle.minWidth = \"auto\";\r\n        runtimeStyle.minHeight = \"auto\";\r\n        runtimeStyle.opacity = 0.7;\r\n        runtimeStyle.zIndex = 999999;\r\n        runtimeStyle.pointerEvents = \"none\";\r\n\r\n        if (!this.moveWithMouse) {\r\n            runtimeStyle.top = thisRect.top;\r\n            runtimeStyle.left = thisRect.left;\r\n        } else {\r\n            runtimeStyle.top = e.clientY - thisRect.height / 2;\r\n            runtimeStyle.left = e.clientX - thisRect.width / 2;\r\n        }\r\n\r\n        this.dragData = {\r\n            firstPos: {\r\n                top: runtimeStyle.top,\r\n                left: runtimeStyle.left\r\n            },\r\n            firstBoundaryPos: this.getBoundarySize() && {\r\n                top: this.moveWithMouse? e.clientX - thisRect.width / 2 : this.getBoundarySize().top,\r\n                left: this.moveWithMouse? e.clientY - thisRect.height / 2 : this.getBoundarySize().left\r\n            },\r\n            x: runtimeStyle.left,\r\n            y: runtimeStyle.top,\r\n            lastMouseX: e.clientX,\r\n            lastMouseY: e.clientY,\r\n        };\r\n\r\n        this.setRuntimeStyle(runtimeStyle);\r\n        this.draggingStart = true;\r\n        this.setDraggingState(true, true, undefined, runtimeStyle);\r\n\r\n        this.props.select.updateMenu();\r\n        this.props.select.clearMiniMenu();\r\n\r\n        if (this.props.dragdrop.getMouseOverForNonDragging()) {\r\n            this.props.dragdrop.getMouseOverForNonDragging().onMouseOver(e);\r\n        }\r\n\r\n        if (group && callGroup)\r\n            this.state.groupDragStart(e, this);\r\n    };\r\n\r\n    setMouseOver = (item, positionData, callback) => {\r\n        if (this.hasOverride(\"setMouseOver\"))\r\n            return this.callOverride(\"setMouseOver\", item, positionData, callback);\r\n\r\n        return this.props.dragdrop.setMouseOver(item, positionData, callback);\r\n    };\r\n\r\n    onDrag = (e, group, callGroup) => {\r\n        if (this.callOverride(\"onDrag\", e, group, callGroup))\r\n            return;\r\n\r\n        if (!this.props.parent.children[this.props.id]) {\r\n            return;\r\n        }\r\n        if (this.resizing || !this.state.draggingStart) {\r\n            if (this.props.dragdrop.getDragging()) {\r\n                this.props.dragdrop.setDragging();\r\n            }\r\n            return;\r\n        }\r\n\r\n        this.dragData.x += (e.clientX - this.dragData.lastMouseX);\r\n        this.dragData.y += (e.clientY - this.dragData.lastMouseY);\r\n        this.dragData.lastMouseX = e.clientX;\r\n        this.dragData.lastMouseY = e.clientY;\r\n\r\n        let runtimeStyle = {...this.state.runtimeStyle};\r\n        runtimeStyle.top = this.dragData.y;\r\n        runtimeStyle.left = this.dragData.x;\r\n\r\n        // For snaps\r\n        let boundarySize = this.getBoundarySize();\r\n        if (boundarySize)\r\n            boundarySize = {\r\n                top: this.dragData.firstBoundaryPos.top + (this.dragData.y - this.dragData.firstPos.top),\r\n                left: this.dragData.firstBoundaryPos.left + (this.dragData.x - this.dragData.firstPos.left),\r\n                width: boundarySize.width,\r\n                height: boundarySize.height\r\n            };\r\n        else\r\n            boundarySize = runtimeStyle;\r\n\r\n        if (!isFixed(this) && !group)\r\n            this.checkSnapOnDrag(runtimeStyle, boundarySize);\r\n        this.setRuntimeStyle(runtimeStyle);\r\n\r\n        this.props.select.updateResizePanes(this, runtimeStyle);\r\n\r\n        if (!group)\r\n            this.updateGridLines(\r\n                runtimeStyle.top,\r\n                runtimeStyle.left,\r\n                window.innerHeight - runtimeStyle.top - runtimeStyle.height,\r\n                window.innerWidth - runtimeStyle.left - runtimeStyle.width,\r\n                \"A\"\r\n            );\r\n\r\n        if (!group)\r\n            this.props.select.updateHelpLines(this, this.state.helpLinesParent,\r\n                cloneObject(runtimeStyle), this.state.dragging);\r\n\r\n        if (group && callGroup)\r\n            this.state.groupDrag(e, this);\r\n    };\r\n\r\n    updateGridLines = (top, left, bottom, right, gridType) => {\r\n        if (!this.isEditor()) return;\r\n\r\n        if (!this.getFromTempData(\"isContainer\"))\r\n            return;\r\n\r\n        let grid = this.getFromData(\"grid\");\r\n        this.props.gridLine.addGrid(\r\n            this.props.id,\r\n            grid.x,\r\n            grid.y,\r\n            gridType,\r\n            grid.gridTemplateRows,\r\n            grid.gridTemplateColumns,\r\n            {\r\n                top,\r\n                left,\r\n                bottom,\r\n                right,\r\n            }\r\n        )\r\n    };\r\n\r\n    onDragStop = (e, group, callGroup) => {\r\n        if (this.hasOverride(\"onDragStop\"))\r\n            return this.callOverride(\"onDragStop\", e, group, callGroup);\r\n\r\n        if (this.resizing || !this.state.draggingStart || !this.props.parent.children[this.props.id])\r\n            return;\r\n\r\n        if (group && callGroup)\r\n            this.state.groupDragStop(e, this);\r\n\r\n        if (group)\r\n            // this.props.parent.prepareRects(true);\r\n            this.props.parent.prepareRects();\r\n\r\n        let {top, left, width, height} = this.state.runtimeStyle;\r\n\r\n        this.props.snap.drawSnap();\r\n        this.getSize(true, true);\r\n        if (group || !this.props.dragdrop.setDraggingStop()){\r\n            let parentRect = this.props.parent.getSize(false);\r\n            this.setPosition(\r\n                group,\r\n                left - parentRect.left,\r\n                top - parentRect.top,\r\n                this.dragData.firstPos.left - parentRect.left,\r\n                this.dragData.firstPos.top - parentRect.top, width, height, parentRect);\r\n            return;\r\n        } else if (!group) {\r\n            this.dropped = true;\r\n        }\r\n\r\n        // this.setState({dragging: false, draggingStart: false});\r\n\r\n        if (!group)\r\n            this.updateGridLines(\r\n                top, left,\r\n                window.innerHeight - top - height,\r\n                window.innerWidth - left - width,\r\n                \"A\"\r\n            );\r\n\r\n        this.props.select.updateMiniMenu();\r\n    };\r\n\r\n    setPosition = (group, relativeX, relativeY, firstRelativeX, firstRelativeY,\r\n                   width, height, parentRect, fromUndoRedo) => {\r\n        if (!fromUndoRedo) {\r\n            let itemId = this.props.id;\r\n            let parentId = this.props.parent.props.id;\r\n            let redoData = [group, relativeX, relativeY, firstRelativeX, firstRelativeY,\r\n                width, height, parentRect];\r\n            let undoData = [group, firstRelativeX, firstRelativeY, undefined, undefined,\r\n                width, height, parentRect];\r\n            this.props.undoredo.add((idMan) => {\r\n                idMan.getItem(itemId).onSelect(true);\r\n                idMan.getItem(itemId).props.dragdrop.setMouseOver(idMan.getItem(parentId));\r\n                idMan.getItem(itemId).setPosition(...redoData, true);\r\n            }, (idMan) => {\r\n                idMan.getItem(itemId).onSelect(true);\r\n                idMan.getItem(itemId).props.dragdrop.setMouseOver(idMan.getItem(parentId));\r\n                idMan.getItem(itemId).setPosition(...undoData, true);\r\n            });\r\n        }\r\n\r\n        if (this.hasOverride(\"setPosition\"))\r\n            return this.callOverride(\"setPosition\",\r\n                group, relativeX, relativeY, firstRelativeX, firstRelativeY,\r\n                width, height, parentRect, fromUndoRedo);\r\n\r\n        let {gridItemStyle, coordinates} = this.calculateGridItem(relativeX, relativeY, this.props.parent,\r\n            width, height, parentRect);\r\n\r\n        // TODO uncomment if bug found\r\n        // if (gridItemStyle.justifySelf !== \"stretch\"){\r\n        //     this.setProps(\"width\", width, coordinates, undefined, undefined, true);\r\n        // } else {\r\n        //     this.setProps(\"width\", \"auto\", undefined, undefined, undefined, true);\r\n        // }\r\n        // if (this.getCompositeFromData(\"style\").height === \"auto\")\r\n        //     this.setProps(\"minHeight\", height, coordinates, undefined, undefined, true);\r\n        // else {\r\n        //     this.setProps(\"height\", height, coordinates, undefined, undefined, true);\r\n        //     this.setProps(\"minHeight\", height, coordinates, undefined, undefined, true);\r\n        // }\r\n\r\n        this.setGridItemStyle(gridItemStyle);\r\n\r\n        this.nonePointerEventForChildren(false);\r\n        this.setRuntimeStyle();\r\n        // this.setState({dragging: false, draggingStart: false}, () => {\r\n        //     this.addToSnap();\r\n        // });\r\n        let top = relativeY + parentRect.top;\r\n        let left = relativeX + parentRect.left;\r\n        this.setDraggingState(false, false, () => {\r\n            this.addToSnap();\r\n        }, {top, left, width, height});\r\n\r\n        if (!group)\r\n            this.props.select.updateHelpLines(this, this.state.helpLinesParent,\r\n                {top, left, width, height}, this.state.dragging);\r\n\r\n        this.dropped = false;\r\n\r\n        // this.props.select.updateSize();\r\n        // this.props.select.updateResizePanes(this, {top, left, width, height});\r\n        // this.props.select.updateMiniMenu();\r\n\r\n        setTimeout(() => {\r\n            if (!this.mounted)\r\n                return;\r\n\r\n            // for fixing helpline\r\n            this.props.select.onScrollItem();\r\n        }, 100);\r\n\r\n        this.invalidateSize(false, true, true);\r\n    };\r\n\r\n    setDraggingState = (dragging, draggingStart, callback, rect) => {\r\n        let fakeStyle = cloneObject({\r\n            ...this.getCompositeFromData(\"style\"),\r\n            ...this.getCompositeFromData(\"gridItemStyle\"),\r\n        });\r\n        this.setState({dragging, draggingStart, fakeStyle}, callback);\r\n    };\r\n\r\n    checkSnapOnDrag = (runtimeStyle, boundarySize) => {\r\n        if (this.callOverride(\"checkSnapOnDrag\", runtimeStyle, boundarySize))\r\n            return;\r\n\r\n        let snapDelta1 = this.getSnapDelta(\r\n            boundarySize.top, boundarySize.left);\r\n        let snapDelta2 = this.getSnapDelta(\r\n            boundarySize.top + boundarySize.height/2, boundarySize.left + boundarySize.width/2);\r\n        let snapDelta3 = this.getSnapDelta(\r\n            boundarySize.top + boundarySize.height, boundarySize.left + boundarySize.width);\r\n\r\n        let snapDelta = {\r\n            deltaX: snapDelta2.snapV? snapDelta2.deltaX:\r\n                snapDelta1.snapV? snapDelta1.deltaX:\r\n                    snapDelta3.snapV? snapDelta3.deltaX: 0,\r\n            deltaY: snapDelta2.snapH? snapDelta2.deltaY:\r\n                snapDelta1.snapH? snapDelta1.deltaY:\r\n                    snapDelta3.snapH? snapDelta3.deltaY: 0,\r\n            snapH: (snapDelta2.snapH || snapDelta1.snapH) || snapDelta3.snapH,\r\n            snapV: (snapDelta2.snapV || snapDelta1.snapV) || snapDelta3.snapV\r\n        };\r\n\r\n        runtimeStyle.left += snapDelta.deltaX;\r\n        runtimeStyle.top += snapDelta.deltaY;\r\n        if (boundarySize !== runtimeStyle) {\r\n            boundarySize.left += snapDelta.deltaX;\r\n            boundarySize.top += snapDelta.deltaY;\r\n        }\r\n\r\n        let pointOfSnapH = {\r\n            p1: boundarySize.left,\r\n            p2: boundarySize.left + boundarySize.width\r\n        };\r\n        let pointOfSnapV = {\r\n            p1: boundarySize.top,\r\n            p2: boundarySize.top + boundarySize.height\r\n        };\r\n\r\n        this.props.snap.drawSnap(snapDelta.snapH, snapDelta.snapV, pointOfSnapH, pointOfSnapV);\r\n    };\r\n\r\n    getSnapDelta = (top, left) => {\r\n        let parentGridLines = [];\r\n        if (this.props.parent) {\r\n            if (this.resizing) {\r\n                parentGridLines = this.props.parent.getGridLineSnaps();\r\n            } else {\r\n                // dragging\r\n                if (this.props.dragdrop.mouseOver &&\r\n                    this.props.gridLine.hasGridLine(this.props.dragdrop.mouseOver.props.id))\r\n                    parentGridLines = this.props.dragdrop.mouseOver &&\r\n                        this.props.dragdrop.mouseOver.getGridLineSnaps();\r\n            }\r\n        }\r\n\r\n        let {snapH, snapV} =\r\n            this.props.snap.checkSnap(top, left, this.props.id, parentGridLines);\r\n\r\n        let deltaX = 0;\r\n        let deltaY = 0;\r\n        if (snapH) {\r\n            deltaY = snapH.value - top;\r\n        }\r\n        if (snapV) {\r\n            deltaX = snapV.value - left;\r\n        }\r\n\r\n        return {\r\n            deltaX, deltaY, snapH, snapV\r\n        }\r\n    };\r\n\r\n    setDocks = (top, left, bottom, right, auto, breakpointName, dontCalculate) => {\r\n        this.setDataInBreakpoint(\"docks\", {top, left, bottom, right}, undefined, breakpointName);\r\n        this.setTempData(\"autoDock\", auto);\r\n\r\n        if (!this.props.parent || dontCalculate)\r\n            return;\r\n\r\n        this.props.parent.prepareRects();\r\n        let thisRect = this.getSize(false);\r\n        let parentRect = this.props.parent.getSize(false);\r\n        let {gridItemStyle} =\r\n            this.calculateGridItem(\r\n                thisRect.left - parentRect.left,\r\n                thisRect.top - parentRect.top,\r\n                this.props.parent,\r\n                thisRect.width,\r\n                thisRect.height,\r\n                parentRect\r\n            );\r\n\r\n        this.setGridItemStyle(gridItemStyle, breakpointName);\r\n\r\n        if (gridItemStyle.justifySelf !== \"stretch\" && this.getCompositeFromData(\"style\").width === \"auto\")\r\n        {\r\n            this.setStyleParam(\"width\", `${this.getSize(false).width}px`, undefined, undefined, true);\r\n        }\r\n        else if (gridItemStyle.justifySelf === \"stretch\")\r\n        {\r\n            this.setStyleParam(\"width\", \"auto\", undefined, undefined, true);\r\n        }\r\n    };\r\n\r\n    getDocks = () => {\r\n        return this.getFromData(\"docks\");\r\n    };\r\n\r\n    getBaseDocks = () => {\r\n        let gridItemStyle = this.getCompositeFromData(\"gridItemStyle\");\r\n        return {\r\n            top: gridItemStyle.alignSelf === \"start\" || gridItemStyle.alignSelf === \"stretch\",\r\n            bottom: gridItemStyle.alignSelf === \"end\" || gridItemStyle.alignSelf === \"stretch\",\r\n            left: gridItemStyle.justifySelf === \"start\" || gridItemStyle.justifySelf === \"stretch\",\r\n            right: gridItemStyle.justifySelf === \"end\" || gridItemStyle.justifySelf === \"stretch\",\r\n        }\r\n    };\r\n\r\n    getRuntimeGridItemStyle = () => {\r\n        return this.props.select.getRuntimeGridItemStyle();\r\n    };\r\n\r\n    calculateGridItem = (relativeX, relativeY, parent, width, height, parentRect, fromState, dontAutoDock) => {\r\n        if (this.hasOverride(\"calculateGridItem\"))\r\n            return this.callOverride(\r\n                \"calculateGridItem\", relativeX, relativeY, parent, width, height, parentRect, fromState, dontAutoDock);\r\n\r\n        if (!width) {\r\n            let rect = this.getSize(false, true);\r\n            width = rect.width;\r\n            height = rect.height;\r\n        }\r\n\r\n        if (!parentRect)\r\n            parentRect = parent.getSize(false, true);\r\n\r\n        let gridArea, coordinates;\r\n        if (isFixed(this)) {\r\n            gridArea = {x1: 1, x2: 2, y1: 1, y2: 2};\r\n            coordinates = {\r\n                cy1: parentRect.top,\r\n                cy2: parentRect.top + parentRect.height,\r\n                cx1: parentRect.left,\r\n                cx2: parentRect.left + parentRect.width\r\n            }\r\n        } else {\r\n            let result = this.calculateGridArea(\r\n                parentRect.left + relativeX,\r\n                parentRect.top + relativeY,\r\n                width,\r\n                height,\r\n                parent,\r\n                parentRect\r\n            );\r\n            gridArea = result.gridArea;\r\n            coordinates = result.coordinates;\r\n        }\r\n\r\n        let coordinatesAbs = cloneObject(coordinates);\r\n\r\n        this.coordinateToRelative(coordinates, parentRect);\r\n\r\n        let oldGridItemStyle = this.getCompositeFromData(\"gridItemStyle\");\r\n        let gridItemStyle = cloneObject(oldGridItemStyle);\r\n        gridItemStyle.gridArea = `${gridArea.y1}/${gridArea.x1}/${gridArea.y2}/${gridArea.x2}`;\r\n\r\n        let centerX = (relativeX  - coordinates.cx1) + width / 2;\r\n        let centerY = (relativeY  - coordinates.cy1) + height / 2;\r\n\r\n        let parentCenterMinusX = (coordinates.cx2 - coordinates.cx1) / 2 * (1 - 0.1);\r\n        let parentCenterPlusX = (coordinates.cx2 - coordinates.cx1) / 2 * (1 + 0.1);\r\n\r\n        let yLineRef = this.props.gridLine.getYlineRef(parent.props.id);\r\n        let cy2IsLastLine = gridArea.y2 === yLineRef.length || isFixed(this);\r\n        let xLineRef = this.props.gridLine.getXlineRef(parent.props.id);\r\n        let cx2IsLastLine = gridArea.x2 === xLineRef.length || isFixed(this);\r\n\r\n        let widthForPercent = coordinates.cx2 - coordinates.cx1/* + (cx2IsLastLine?1:0)*/;\r\n        let heightForPercent = coordinates.cy2 - coordinates.cy1/* + (cy2IsLastLine?1:0)*/;\r\n\r\n        let autoDock = this.getFromTempData(\"autoDock\");\r\n        let docks = this.getDocks() || {top: true};\r\n\r\n        if (autoDock && !dontAutoDock) {\r\n            if (centerX < parentCenterPlusX && centerX > parentCenterMinusX) {\r\n                // Center X\r\n                delete docks.left;\r\n                delete docks.right;\r\n            } else if (centerX > parentCenterPlusX) {\r\n                delete docks.left;\r\n                docks.right = true;\r\n            } else {\r\n                docks.left = true;\r\n                delete docks.right;\r\n            }\r\n\r\n            if (cy2IsLastLine && (relativeY + height >= coordinates.cy2) && relativeY >= 0) {\r\n                delete docks.top;\r\n                docks.bottom = true;\r\n            } else {\r\n                docks.top = true;\r\n                delete docks.bottom;\r\n            }\r\n        }\r\n\r\n        gridItemStyle.alignSelf = \"center\";\r\n        gridItemStyle.justifySelf = \"center\";\r\n\r\n        let centerDiffX = (centerX - (coordinates.cx2 - coordinates.cx1) / 2);\r\n        let centerDiffY = (centerY - (coordinates.cy2 - coordinates.cy1) / 2);\r\n        if (centerDiffX >= 0) {\r\n            gridItemStyle.marginRight = `${(-centerDiffX * 2 / widthForPercent * 100).toString()}%`;\r\n            gridItemStyle.marginLeft = \"0%\";\r\n        } else {\r\n            gridItemStyle.marginRight = \"0%\";\r\n            gridItemStyle.marginLeft = `${(centerDiffX * 2 / widthForPercent * 100).toString()}%`;\r\n        }\r\n        gridItemStyle.marginTop =\r\n            this.getPxOrPcOrValue(\r\n                `${(centerDiffY * 2).toString()}`,\r\n                widthForPercent,\r\n                \"px\");\r\n        gridItemStyle.marginBottom = \"0px\";\r\n\r\n        if (docks.top) {\r\n            gridItemStyle.alignSelf = \"start\";\r\n            gridItemStyle.marginTop =\r\n                this.getPxOrPcOrValue(\r\n                `${(relativeY - coordinates.cy1).toString()}`,\r\n                    widthForPercent,\r\n                    this.getUnit(oldGridItemStyle.marginTop) || \"px\");\r\n        } else if (docks.bottom) {\r\n            gridItemStyle.marginTop = \"0px\";\r\n        }\r\n        if (docks.left) {\r\n            gridItemStyle.justifySelf = \"start\";\r\n            gridItemStyle.marginLeft =\r\n                this.getPxOrPcOrValue(\r\n                    `${(relativeX - coordinates.cx1).toString()}`,\r\n                    widthForPercent,\r\n                    this.getUnit(oldGridItemStyle.marginLeft) || \"%\");\r\n        } else if (docks.right) {\r\n            gridItemStyle.marginLeft = \"0%\";\r\n        }\r\n        if (docks.bottom) {\r\n            gridItemStyle.alignSelf = docks.top ? \"stretch\": \"end\";\r\n            gridItemStyle.marginBottom =\r\n                this.getPxOrPcOrValue(\r\n                    `${(coordinates.cy2 - relativeY - height).toString()}`,\r\n                    widthForPercent,\r\n                    this.getUnit(oldGridItemStyle.marginBottom) || \"px\");\r\n        } else if (docks.top) {\r\n            gridItemStyle.marginBottom = \"0px\";\r\n        }\r\n        if (docks.right) {\r\n            gridItemStyle.justifySelf = docks.left? \"stretch\": \"end\";\r\n            gridItemStyle.marginRight =\r\n                this.getPxOrPcOrValue(\r\n                    `${(coordinates.cx2 - (relativeX + width)).toString()}`,\r\n                    widthForPercent,\r\n                    this.getUnit(oldGridItemStyle.marginRight) || \"%\");\r\n        } else if (docks.left) {\r\n            gridItemStyle.marginRight = \"0%\";\r\n        }\r\n\r\n        gridItemStyle.widthForPercent = widthForPercent;\r\n        gridItemStyle.heightForPercent = heightForPercent;\r\n\r\n        /*if (gridItemStyle.justifySelf !== \"stretch\") {\r\n            if (centerX < parentCenterPlusX && centerX > parentCenterMinusX) {\r\n                // this is center\r\n                let centerDiff = (centerX - (coordinates.cx2 - coordinates.cx1) / 2);\r\n                gridItemStyle.justifySelf = \"center\";\r\n                gridItemStyle.marginRight = `0${this.getUnit(gridItemStyle.marginRight)}`;\r\n                gridItemStyle.marginLeft =\r\n                    `${(centerDiff * 2).toFixed(0).toString()}${this.getUnit(gridItemStyle.marginLeft)}`;\r\n            } else if (centerX > parentCenterPlusX) {\r\n                gridItemStyle.justifySelf = \"end\";\r\n                gridItemStyle.marginRight =\r\n                    `${(coordinates.cx2 - (relativeX + width)).toFixed(0).toString()}${this.getUnit(gridItemStyle.marginRight)}`;\r\n                gridItemStyle.marginLeft = `0${this.getUnit(gridItemStyle.marginLeft)}`;\r\n            } else {\r\n                gridItemStyle.justifySelf = \"start\";\r\n                gridItemStyle.marginRight = `0${this.getUnit(gridItemStyle.marginRight)}`;\r\n                gridItemStyle.marginLeft =\r\n                    `${(relativeX - coordinates.cx1).toFixed(0).toString()}${this.getUnit(gridItemStyle.marginLeft)}`;\r\n            }\r\n\r\n            if (cy2IsLastLine && (relativeY + height >= coordinates.cy2)) {\r\n                gridItemStyle.alignSelf = \"end\";\r\n                gridItemStyle.marginBottom =\r\n                    `${(coordinates.cy2 - relativeY - height).toFixed(0).toString()}${this.getUnit(gridItemStyle.marginBottom)}`;\r\n                gridItemStyle.marginTop =`0${this.getUnit(gridItemStyle.marginBottom)}`;\r\n            } else {\r\n                gridItemStyle.alignSelf = \"start\";\r\n                gridItemStyle.marginBottom = `0${this.getUnit(gridItemStyle.marginBottom)}`;\r\n                gridItemStyle.marginTop =\r\n                    `${(relativeY - coordinates.cy1).toFixed(0).toString()}${this.getUnit(gridItemStyle.marginTop)}`;\r\n            }\r\n        } else {\r\n            gridItemStyle.marginRight =\r\n                `${(coordinates.cx2 - (relativeX + width)).toFixed(0).toString()}${this.getUnit(gridItemStyle.marginRight)}`;\r\n            gridItemStyle.marginLeft =\r\n                `${(relativeX - coordinates.cx1).toFixed(0).toString()}${this.getUnit(gridItemStyle.marginLeft)}`;\r\n\r\n            gridItemStyle.marginBottom =\r\n                `${(coordinates.cy2 - relativeY - height).toFixed(0).toString()}${this.getUnit(gridItemStyle.marginBottom)}`;\r\n            gridItemStyle.marginTop =\r\n            `${(relativeY - coordinates.cy1).toFixed(0).toString()}${this.getUnit(gridItemStyle.marginTop)}`;\r\n        }*/\r\n\r\n        return {gridItemStyle, gridArea, coordinates, coordinatesAbs};\r\n    };\r\n\r\n    getPxOrPcOrValue = (value, parentValue, unit) => {\r\n        if (unit === \"px\") {\r\n            return `${value}px`;\r\n        } else if (unit === \"%\") {\r\n            return `${parseFloat(value) / parentValue * 100}%`;\r\n        } else {\r\n            return value\r\n        }\r\n    };\r\n\r\n    calculateChildGridItem = (child, relativeX, relativeY, parent, width, height, parentRect, fromState, dontAutoDock) => {\r\n        if (this.hasOverride(\"calculateChildGridItem\"))\r\n            return this.callOverride(\r\n                \"calculateChildGridItem\",child, relativeX, relativeY, parent, width, height, parentRect, fromState, dontAutoDock);\r\n\r\n        if (!width) {\r\n            let rect = child.getSize(false, true);\r\n            width = rect.width;\r\n            height = rect.height;\r\n        }\r\n\r\n        if (!parentRect)\r\n            parentRect = parent.getSize(false, true);\r\n\r\n        if (isFixed(child)) {\r\n            if (relativeY < 0) relativeY = 0;\r\n            if (relativeY > parentRect.scrollHeightMinusPadding - height)\r\n                relativeY = parentRect.scrollHeightMinusPadding - height;\r\n            if (relativeX < 0) relativeX = 0;\r\n            if (relativeX > parentRect.scrollWidthMinusPadding - width)\r\n                relativeX = parentRect.scrollWidthMinusPadding - width;\r\n        }\r\n\r\n        let gridArea, coordinates;\r\n        if (isFixed(child)) {\r\n            gridArea = {x1: 1, x2: 2, y1: 1, y2: 2};\r\n            coordinates = {\r\n                cy1: parentRect.top,\r\n                cy2: parentRect.top + parentRect.height,\r\n                cx1: parentRect.left,\r\n                cx2: parentRect.left + parentRect.width\r\n            }\r\n        } else {\r\n            let result = this.calculateGridArea(\r\n                parentRect.left + relativeX,\r\n                parentRect.top + relativeY,\r\n                width,\r\n                height,\r\n                parent,\r\n                parentRect\r\n            );\r\n            gridArea = result.gridArea;\r\n            coordinates = result.coordinates;\r\n        }\r\n\r\n        let coordinatesAbs = cloneObject(coordinates);\r\n\r\n        child.coordinateToRelative(coordinates, parentRect);\r\n\r\n        let oldGridItemStyle = child.getCompositeFromData(\"gridItemStyle\");\r\n        let gridItemStyle = cloneObject(oldGridItemStyle);\r\n        gridItemStyle.gridArea = `${gridArea.y1}/${gridArea.x1}/${gridArea.y2}/${gridArea.x2}`;\r\n\r\n        let centerX = (relativeX  - coordinates.cx1) + width / 2;\r\n        let centerY = (relativeY  - coordinates.cy1) + height / 2;\r\n\r\n        let parentCenterMinusX = (coordinates.cx2 - coordinates.cx1) / 2 * (1 - 0.1);\r\n        let parentCenterPlusX = (coordinates.cx2 - coordinates.cx1) / 2 * (1 + 0.1);\r\n\r\n        let yLineRef = this.props.gridLine.getYlineRef(parent.props.id);\r\n        let cy2IsLastLine = gridArea.y2 === yLineRef.length || isFixed(child);\r\n        let xLineRef = this.props.gridLine.getXlineRef(parent.props.id);\r\n        let cx2IsLastLine = gridArea.x2 === xLineRef.length || isFixed(child);\r\n\r\n        let widthForPercent = coordinates.cx2 - coordinates.cx1 + (cx2IsLastLine?1:0);\r\n        let heightForPercent = coordinates.cy2 - coordinates.cy1 + (cy2IsLastLine?1:0);\r\n\r\n        let autoDock = child.getFromTempData(\"autoDock\");\r\n        let docks = child.getDocks() || {top: true};\r\n\r\n        if (autoDock && !dontAutoDock) {\r\n            if (centerX < parentCenterPlusX && centerX > parentCenterMinusX) {\r\n                // Center X\r\n                delete docks.left;\r\n                delete docks.right;\r\n            } else if (centerX > parentCenterPlusX) {\r\n                delete docks.left;\r\n                docks.right = true;\r\n            } else {\r\n                docks.left = true;\r\n                delete docks.right;\r\n            }\r\n\r\n            if (cy2IsLastLine && (relativeY + height >= coordinates.cy2) && relativeY >= 0) {\r\n                delete docks.top;\r\n                docks.bottom = true;\r\n            } else {\r\n                docks.top = true;\r\n                delete docks.bottom;\r\n            }\r\n        }\r\n\r\n        gridItemStyle.alignSelf = \"center\";\r\n        gridItemStyle.justifySelf = \"center\";\r\n\r\n        let centerDiffX = (centerX - (coordinates.cx2 - coordinates.cx1) / 2);\r\n        let centerDiffY = (centerY - (coordinates.cy2 - coordinates.cy1) / 2);\r\n        if (centerDiffX >= 0) {\r\n            gridItemStyle.marginRight = `${(-centerDiffX * 2 / widthForPercent * 100).toString()}%`;\r\n            gridItemStyle.marginLeft = \"0%\";\r\n        } else {\r\n            gridItemStyle.marginRight = \"0%\";\r\n            gridItemStyle.marginLeft = `${(centerDiffX * 2 / widthForPercent * 100).toString()}%`;\r\n        }\r\n        gridItemStyle.marginTop =\r\n            this.getPxOrPcOrValue(\r\n                `${(centerDiffY * 2).toString()}`,\r\n                widthForPercent,\r\n                \"px\");\r\n        gridItemStyle.marginBottom = \"0px\";\r\n\r\n        if (docks.top) {\r\n            gridItemStyle.alignSelf = \"start\";\r\n            gridItemStyle.marginTop =\r\n                this.getPxOrPcOrValue(\r\n                    `${(relativeY - coordinates.cy1).toString()}`,\r\n                    widthForPercent,\r\n                    this.getUnit(oldGridItemStyle.marginTop) || \"px\");\r\n        } else if (docks.bottom) {\r\n            gridItemStyle.marginTop = \"0px\";\r\n        }\r\n        if (docks.left) {\r\n            gridItemStyle.justifySelf = \"start\";\r\n            gridItemStyle.marginLeft =\r\n                this.getPxOrPcOrValue(\r\n                    `${(relativeX - coordinates.cx1).toString()}`,\r\n                    widthForPercent,\r\n                    this.getUnit(oldGridItemStyle.marginLeft) || \"%\");\r\n        } else if (docks.right) {\r\n            gridItemStyle.marginLeft = \"0%\";\r\n        }\r\n        if (docks.bottom) {\r\n            gridItemStyle.alignSelf = docks.top ? \"stretch\": \"end\";\r\n            gridItemStyle.marginBottom =\r\n                this.getPxOrPcOrValue(\r\n                    `${(coordinates.cy2 - relativeY - height).toString()}`,\r\n                    widthForPercent,\r\n                    this.getUnit(oldGridItemStyle.marginBottom) || \"px\");\r\n        } else if (docks.top) {\r\n            gridItemStyle.marginBottom = \"0px\";\r\n        }\r\n        if (docks.right) {\r\n            gridItemStyle.justifySelf = docks.left? \"stretch\": \"end\";\r\n            gridItemStyle.marginRight =\r\n                this.getPxOrPcOrValue(\r\n                    `${(coordinates.cx2 - (relativeX + width)).toString()}`,\r\n                    widthForPercent,\r\n                    this.getUnit(oldGridItemStyle.marginRight) || \"%\");\r\n        } else if (docks.left) {\r\n            gridItemStyle.marginRight = \"0%\";\r\n        }\r\n\r\n        gridItemStyle.widthForPercent = widthForPercent;\r\n        gridItemStyle.heightForPercent = heightForPercent;\r\n\r\n        /*\r\n        let parentCenterMinusX = (coordinates.cx2 - coordinates.cx1) / 2 * (1 - 0.1);\r\n        let parentCenterPlusX = (coordinates.cx2 - coordinates.cx1) / 2 * (1 + 0.1);\r\n\r\n        let yLineRef = child.props.gridLine.getYlineRef(parent.props.id);\r\n        let cy2IsLastLine = gridArea.y2 === yLineRef.length || isFixed(child);\r\n\r\n        if (gridItemStyle.justifySelf !== \"stretch\") {\r\n            if (centerX < parentCenterPlusX && centerX > parentCenterMinusX) {\r\n                // child is center\r\n                let centerDiff = (centerX - (coordinates.cx2 - coordinates.cx1) / 2);\r\n                gridItemStyle.justifySelf = \"center\";\r\n                gridItemStyle.marginRight = `0${child.getUnit(gridItemStyle.marginRight)}`;\r\n                gridItemStyle.marginLeft =\r\n                    `${(centerDiff * 2).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginLeft)}`;\r\n            } else if (centerX > parentCenterPlusX) {\r\n                gridItemStyle.justifySelf = \"end\";\r\n                gridItemStyle.marginRight =\r\n                    `${(coordinates.cx2 - (relativeX + width)).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginRight)}`;\r\n                gridItemStyle.marginLeft = `0${child.getUnit(gridItemStyle.marginLeft)}`;\r\n            } else {\r\n                gridItemStyle.justifySelf = \"start\";\r\n                gridItemStyle.marginRight = `0${child.getUnit(gridItemStyle.marginRight)}`;\r\n                gridItemStyle.marginLeft =\r\n                    `${(relativeX - coordinates.cx1).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginLeft)}`;\r\n            }\r\n\r\n            if (cy2IsLastLine && (relativeY + height >= coordinates.cy2)) {\r\n                gridItemStyle.alignSelf = \"end\";\r\n                gridItemStyle.marginBottom =\r\n                    `${(coordinates.cy2 - relativeY - height).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginBottom)}`;\r\n                gridItemStyle.marginTop =`0${child.getUnit(gridItemStyle.marginBottom)}`;\r\n            } else {\r\n                gridItemStyle.alignSelf = \"start\";\r\n                gridItemStyle.marginBottom = `0${child.getUnit(gridItemStyle.marginBottom)}`;\r\n                gridItemStyle.marginTop =\r\n                    `${(relativeY - coordinates.cy1).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginTop)}`;\r\n            }\r\n        } else {\r\n            gridItemStyle.marginRight =\r\n                `${(coordinates.cx2 - (relativeX + width)).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginRight)}`;\r\n            gridItemStyle.marginLeft =\r\n                `${(relativeX - coordinates.cx1).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginLeft)}`;\r\n\r\n            gridItemStyle.marginBottom =\r\n                `${(coordinates.cy2 - relativeY - height).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginBottom)}`;\r\n            gridItemStyle.marginTop =\r\n                `${(relativeY - coordinates.cy1).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginTop)}`;\r\n        }*/\r\n\r\n        return {gridItemStyle, gridArea, coordinates, coordinatesAbs};\r\n    };\r\n\r\n    coordinateToRelative = (coordinates, parentRect) => {\r\n        coordinates.cx1 -= parentRect.left;\r\n        coordinates.cx2 -= parentRect.left;\r\n        coordinates.cy1 -= parentRect.top;\r\n        coordinates.cy2 -= parentRect.top;\r\n    };\r\n\r\n    coordinateToAbsolute = (coordinates, parentRect) => {\r\n        coordinates.cx1 += parentRect.left;\r\n        coordinates.cx2 += parentRect.left;\r\n        coordinates.cy1 += parentRect.top;\r\n        coordinates.cy2 += parentRect.top;\r\n    };\r\n\r\n    getUnit = (value) => {\r\n        if (!value)\r\n            return;\r\n\r\n        if (value.includes(\"%\")) {\r\n            return \"%\";\r\n        } else {\r\n            return \"px\";\r\n        }\r\n    };\r\n\r\n    getTopLeft = (force) => {\r\n        let size = this.getSize(false, force);\r\n        return {\r\n            top: size.top,\r\n            left: size.left\r\n        }\r\n    };\r\n\r\n    pageResizeStart = (e, dir, delta) => {\r\n        if (this.resizing)\r\n            return;\r\n\r\n        this.resizing = true;\r\n\r\n        let runtimeStyle = {...this.state.runtimeStyle};\r\n        runtimeStyle.width = this.getSize().x;\r\n        runtimeStyle.height = this.getSize().y;\r\n\r\n        this.resizeData = {\r\n            firstX: runtimeStyle.width,\r\n            firstLeft: this.getSize().left,\r\n            top: this.getSize().top,\r\n            left: this.getSize().left\r\n        };\r\n\r\n        this.setRuntimeStyle(runtimeStyle);\r\n\r\n        this.setDraggingState(true, false, undefined, runtimeStyle);\r\n\r\n        this.isEditor() && this.props.select.activateHover(false);\r\n\r\n        if (this.props.onPageResizeStart)\r\n            this.props.onPageResizeStart();\r\n\r\n        window.requestAnimationFrame(this.pageResizeCalculate);\r\n    };\r\n\r\n    onResizeStart = (e, dir, delta, group) => {\r\n        if (this.callOverride(\"onResizeStart\", e, dir, delta, group))\r\n            return;\r\n\r\n        if (this.resizing)\r\n            return;\r\n\r\n        if (this.props.parent)\r\n            this.props.parent.prepareRects();\r\n\r\n        this.resizing = true;\r\n\r\n        let thisRect = this.getSize(false);\r\n\r\n        let runtimeStyle = {...this.state.runtimeStyle};\r\n        runtimeStyle.position = \"fixed\";\r\n        runtimeStyle.gridArea = \"auto/auto/auto/auto\";\r\n        runtimeStyle.marginBottom = \"auto\";\r\n        runtimeStyle.marginTop = \"auto\";\r\n        runtimeStyle.marginLeft = \"auto\";\r\n        runtimeStyle.marginRight = \"auto\";\r\n        runtimeStyle.width = thisRect.width;\r\n        runtimeStyle.height = thisRect.height;\r\n        runtimeStyle.minWidth = \"auto\";\r\n        runtimeStyle.minHeight = \"auto\";\r\n        runtimeStyle.maxWidth = \"unset\";\r\n        runtimeStyle.maxHeight = \"unset\";\r\n        runtimeStyle.opacity = 0.7;\r\n        runtimeStyle.zIndex = 999999;\r\n        runtimeStyle.pointerEvents = \"none\";\r\n\r\n        runtimeStyle.top = thisRect.top;\r\n        runtimeStyle.left = thisRect.left;\r\n\r\n        this.resizeData = {\r\n            firstX: runtimeStyle.width,\r\n            firstY: runtimeStyle.height,\r\n            firstTop: runtimeStyle.top,\r\n            firstLeft: runtimeStyle.left,\r\n            lastWidth: runtimeStyle.width,\r\n            lastHeight: runtimeStyle.height,\r\n            firstBoundaryWidth: this.getBoundarySize() && this.getBoundarySize().width,\r\n            firstBoundaryHeight: this.getBoundarySize() && this.getBoundarySize().height,\r\n            firstBoundaryTop: this.getBoundarySize() && this.getBoundarySize().top,\r\n            firstBoundaryLeft: this.getBoundarySize() && this.getBoundarySize().left\r\n        };\r\n\r\n        this.setDraggingState(true, false, undefined, runtimeStyle);\r\n\r\n        this.props.select.clearMiniMenu();\r\n        this.props.select.activateHover(false);\r\n\r\n        this.setRuntimeStyle(runtimeStyle);\r\n\r\n        window.requestAnimationFrame(this.onResizeCalculate);\r\n    };\r\n\r\n    pageResize = (e, dir, delta) => {\r\n        let runtimeStyle = {...this.state.runtimeStyle};\r\n\r\n        let deltaX = delta.x;\r\n        let minWidth = this.props.breakpointmanager.getMinWidth();\r\n        if (dir.includes('e')) {\r\n            if (this.resizeData.firstX <= (-deltaX* 2 + minWidth))\r\n                deltaX = -(this.resizeData.firstX - minWidth) / 2;\r\n\r\n            runtimeStyle.width = this.resizeData.firstX + deltaX * 2;\r\n            this.resizeData.left = this.resizeData.firstLeft - deltaX;\r\n            if (this.resizeData.firstLeft - deltaX < 50)\r\n                this.resizeData.left = 50;\r\n        }\r\n        if (dir.includes('w')) {\r\n            if (this.resizeData.firstX <= (deltaX * 2 + minWidth))\r\n                deltaX = (this.resizeData.firstX - minWidth) / 2;\r\n            runtimeStyle.width = this.resizeData.firstX - deltaX * 2;\r\n            this.resizeData.left = this.resizeData.firstLeft + deltaX;\r\n            if (this.resizeData.firstLeft + deltaX < 50)\r\n                this.resizeData.left = 50;\r\n        }\r\n\r\n        this.updateGridLines(\r\n            this.resizeData.top,\r\n            this.resizeData.left,\r\n            window.innerHeight - this.resizeData.top - runtimeStyle.height,\r\n            window.innerWidth - this.resizeData.left - runtimeStyle.width,\r\n            \"A\"\r\n        );\r\n\r\n        this.updatePageAdjustments();\r\n\r\n        this.resizeData.onResizeData = {\r\n            runtimeStyle: runtimeStyle,\r\n        };\r\n    };\r\n\r\n    updatePageAdjustments = () => {\r\n        this.backContainerRef.current.updateAdjustments();\r\n    };\r\n\r\n    pageResizeCalculate = () => {\r\n        if (this.callOverride(\"pageResizeCalculate\"))\r\n            return;\r\n\r\n        if (!this.resizing)\r\n            return;\r\n\r\n        if (!this.resizeData.onResizeData) {\r\n            window.requestAnimationFrame(this.pageResizeCalculate);\r\n            return;\r\n        }\r\n\r\n        let {runtimeStyle} = this.resizeData.onResizeData;\r\n\r\n        this.setRuntimeStyle(runtimeStyle);\r\n\r\n        if (this.props.onPageResize) {\r\n            this.props.onPageResize(runtimeStyle.width, this);\r\n        }\r\n\r\n        window.requestAnimationFrame(this.pageResizeCalculate);\r\n    };\r\n\r\n    onResize = (e, dir, delta, group) => {\r\n        if (this.callOverride(\"onResize\", e, dir, delta, group))\r\n            return;\r\n\r\n        let runtimeStyle = {...this.state.runtimeStyle};\r\n\r\n        let degree = (this.getCompositeFromData(\"transform\") || {}).rotateDegree || 0;\r\n\r\n        let finalDelta = getResizeDelta(degree, dir, delta);\r\n        runtimeStyle.left = this.resizeData.firstLeft + finalDelta.left;\r\n        runtimeStyle.top = this.resizeData.firstTop + finalDelta.top;\r\n        runtimeStyle.width = this.resizeData.firstX + finalDelta.width;\r\n        runtimeStyle.height = this.resizeData.firstY + finalDelta.height;\r\n\r\n        // For snaps\r\n        let boundarySize = this.getBoundarySize();\r\n\r\n        if (!group && !boundarySize)\r\n            this.checkSnapOnResize(runtimeStyle, dir, this.resizeData);\r\n        // this.checkSnapOnResize(rect, dir, this.resizeData);\r\n\r\n        let rect = {\r\n            top: runtimeStyle.top,\r\n            left: runtimeStyle.left,\r\n            width: runtimeStyle.width,\r\n            height: runtimeStyle.height\r\n        };\r\n\r\n        this.props.select.updateResizePanes(this, rect);\r\n\r\n        if (!group)\r\n            this.setResizeHelpData({\r\n                x: e.clientX,\r\n                y: e.clientY,\r\n                width: (dir.includes('w') || dir.includes('e')) && rect.width,\r\n                height: (dir.includes('n') || dir.includes('s')) && rect.height,\r\n            });\r\n\r\n        if (!group)\r\n            this.updateGridLines(\r\n                rect.top,\r\n                rect.left,\r\n                window.innerHeight - rect.top - rect.height,\r\n                window.innerWidth - rect.left - rect.width,\r\n                \"A\"\r\n            );\r\n\r\n        this.props.select.updateHelpLines(this, this.state.helpLinesParent,\r\n            rect, this.state.dragging);\r\n\r\n        this.resizeData.onResizeData = {\r\n            runtimeStyle: runtimeStyle,\r\n        };\r\n    };\r\n\r\n    onResizeCalculate = () => {\r\n        if (this.callOverride(\"onResizeCalculate\"))\r\n            return;\r\n\r\n        if (!this.resizing)\r\n            return;\r\n\r\n        if (!this.resizeData.onResizeData) {\r\n            window.requestAnimationFrame(this.onResizeCalculate);\r\n            return;\r\n        }\r\n\r\n        let {runtimeStyle} = this.resizeData.onResizeData;\r\n\r\n        this.setRuntimeStyle(runtimeStyle);\r\n\r\n        window.requestAnimationFrame(this.onResizeCalculate);\r\n    };\r\n\r\n    setResizeHelpData = (resizeHelpData) => {\r\n        this.setState({resizeHelpData})\r\n    };\r\n\r\n    pageResizeStop = (e, dir, delta) => {\r\n        let {width, height} = this.state.runtimeStyle;\r\n        this.isEditor() && this.props.select.activateHover(true);\r\n        this.setPageSize(this.resizeData.top, this.resizeData.left, width, height);\r\n    };\r\n\r\n    setPageSize = (top, left, width, height) => {\r\n        this.setProps(\"width\", width, undefined, undefined,\r\n            this.props.breakpointmanager.getHighestBpName());\r\n\r\n        this.setRuntimeStyle();\r\n        this.invalidateSize();\r\n\r\n        this.setDraggingState(false, false, () => {\r\n            this.addToSnap();\r\n        }, {top, left, width, height});\r\n        this.resizing = false;\r\n\r\n        this.updateGridLines(\r\n            top, left,\r\n            window.innerHeight - top - height,\r\n            window.innerWidth - left - width,\r\n            \"A\"\r\n        );\r\n\r\n        this.isEditor() && this.props.select.onScrollItem(this);\r\n\r\n        this.prepareRects();\r\n\r\n        if (this.props.onPageResizeStop)\r\n            this.props.onPageResizeStop(width, this);\r\n\r\n        this.resizeData = undefined;\r\n    };\r\n\r\n    setPageSizeWidth = (width) => {\r\n        this.setProps(\"width\", width, undefined, undefined,\r\n            this.props.breakpointmanager.getHighestBpName());\r\n\r\n        this.invalidateSize();\r\n\r\n        this.addToSnap();\r\n\r\n        let rect = this.getSize(false);\r\n        let minWidth = this.props.breakpointmanager.getMinWidth();\r\n\r\n        if (width < minWidth)\r\n            width = minWidth;\r\n\r\n        let deltaX = width - rect.width;\r\n        let firstLeft = rect.left;\r\n        let left = firstLeft + deltaX;\r\n        if (left < 50)\r\n            left = 50;\r\n\r\n        let top = rect.top;\r\n\r\n        this.updateGridLines(\r\n            top, left,\r\n            window.innerHeight - top - rect.height,\r\n            window.innerWidth - left - width,\r\n            \"A\"\r\n        );\r\n\r\n        this.isEditor() && this.props.select.onScrollItem(this);\r\n\r\n        this.prepareRects();\r\n    };\r\n\r\n    onResizeStop = (e, dir, delta, group) => {\r\n        if (this.hasOverride(\"onResizeStop\"))\r\n            return this.callOverride(\"onResizeStop\", e, dir, delta, group);\r\n        this.resizing = false;\r\n\r\n        if (this.props.onItemPreResizeStop) {\r\n            this.props.onItemPreResizeStop(this, e, dir, delta, this.state.runtimeStyle);\r\n        }\r\n        this.getSize(true, true);\r\n\r\n        if (group)\r\n            this.props.parent.prepareRects();\r\n        // this.props.parent.prepareRects(true);\r\n\r\n        let parentRect = this.props.parent.getSize(false);\r\n\r\n        let {top, left, width, height} = this.state.runtimeStyle;\r\n        // width = this.resizeData.lastWidth;\r\n        // height = this.resizeData.lastHeight;\r\n        this.setSize(\r\n            dir, delta, group,\r\n            left - parentRect.left,\r\n            top - parentRect.top, width, height,\r\n            this.resizeData.firstLeft - parentRect.left,\r\n            this.resizeData.firstTop - parentRect.top,\r\n            this.resizeData.firstX,\r\n            this.resizeData.firstY, parentRect\r\n        );\r\n        this.props.select.updateMiniMenu();\r\n        this.props.select.activateHover(true);\r\n    };\r\n\r\n    setSize = (dir, delta, group, relativeX, relativeY, width, height, firstRelativeX,\r\n               firstRelativeY, firstWidth, firstHeight, parentRect, fromUndoRedo) =>\r\n    {\r\n        if (!fromUndoRedo) {\r\n            let itemId = this.props.id;\r\n            let redoData = [dir, delta, group, relativeX, relativeY, width, height, firstRelativeX,\r\n                firstRelativeY, firstWidth, firstHeight, parentRect];\r\n            let undoData = [dir, delta, group, firstRelativeX,\r\n                firstRelativeY, firstWidth, firstHeight, undefined,\r\n                undefined, undefined, undefined, parentRect];\r\n            this.props.undoredo.add((idMan) => {\r\n                idMan.getItem(itemId).onSelect(true);\r\n                idMan.getItem(itemId).props.dragdrop.setMouseOver(idMan.getItem(itemId).props.parent);\r\n                idMan.getItem(itemId).setSize(...redoData, true);\r\n            }, (idMan) => {\r\n                idMan.getItem(itemId).onSelect(true);\r\n                idMan.getItem(itemId).props.dragdrop.setMouseOver(idMan.getItem(itemId).props.parent);\r\n                idMan.getItem(itemId).setSize(...undoData, true);\r\n            });\r\n        }\r\n\r\n        if (this.hasOverride(\"setSize\"))\r\n            return this.callOverride(\"setSize\",\r\n                dir, delta, group, relativeX, relativeY, height, width, firstRelativeX,\r\n                firstRelativeY, firstWidth, firstHeight, parentRect, fromUndoRedo);\r\n\r\n        let gridItemStyle, coordinates;\r\n        let calcResult = this.calculateGridItem(relativeX, relativeY, this.props.parent, width, height);\r\n\r\n        gridItemStyle = this.props.autoConstraintsOff?  this.getCompositeFromData(\"gridItemStyle\"):\r\n            calcResult.gridItemStyle;\r\n        coordinates = calcResult.coordinates;\r\n\r\n        if (dir.includes('e') || dir.includes('w')) {\r\n            if (gridItemStyle.justifySelf !== \"stretch\" && this.getCompositeFromData(\"style\").width !== \"auto\")\r\n                this.setProps(\"width\", width, coordinates, undefined, undefined, true);\r\n            else\r\n                this.setProps(\"width\", \"auto\", undefined, undefined, undefined, true);\r\n\r\n            if (this.getCompositeFromData(\"style\").minWidth) {\r\n                this.setProps(\"minWidth\", width, coordinates, undefined, undefined, true);\r\n            }\r\n            if (this.getCompositeFromData(\"style\").maxWidth) {\r\n                this.setProps(\"maxWidth\", width, coordinates, undefined, undefined, true);\r\n            }\r\n        }\r\n\r\n        if (dir.includes('s') || dir.includes('n')) {\r\n            if (this.getCompositeFromData(\"style\").height !== \"auto\") {\r\n                this.setProps(\"height\", height, coordinates, undefined, undefined, true);\r\n            }\r\n            if (!this.getFromTempData(\"isVerticalSection\")) {\r\n                if (this.getCompositeFromData(\"style\").minHeight) {\r\n                    this.setProps(\"minHeight\", height, coordinates, undefined, undefined, true);\r\n                }\r\n                if (this.getCompositeFromData(\"style\").maxHeight) {\r\n                    this.setProps(\"maxHeight\", height, coordinates, undefined, undefined, true);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (!this.getFromTempData(\"isSection\"))\r\n            this.setGridItemStyle(gridItemStyle);\r\n        this.setRuntimeStyle();\r\n        this.setResizeHelpData();\r\n\r\n        let top = relativeY + parentRect.top;\r\n        let left = relativeX + parentRect.left;\r\n        this.setDraggingState(false, false, () => {\r\n            this.addToSnap();\r\n        }, {top, left, width, height});\r\n        this.props.snap.drawSnap();\r\n\r\n        if (!group)\r\n            this.updateGridLines(\r\n                this.getSize(false).top, this.getSize(false).left,\r\n                window.innerHeight - this.getSize(false).top - height,\r\n                window.innerWidth - this.getSize(false).left - width,\r\n                \"A\"\r\n            );\r\n\r\n        if (!group)\r\n            this.props.select.updateHelpLines(this, this.state.helpLinesParent,\r\n                this.getSize(false), this.state.dragging);\r\n\r\n        setTimeout(() => {\r\n            if (!this.mounted)\r\n                return;\r\n\r\n            // for fixing helpline\r\n            this.props.select.onScrollItem();\r\n        }, 100);\r\n\r\n        this.resizeData = undefined;\r\n\r\n        this.invalidateSize(false, true, true);\r\n    };\r\n\r\n    checkSnapOnResize = (runtimeStyle, dir, resizeData) => {\r\n        if (this.callOverride(\"checkSnapOnResize\", runtimeStyle, dir, resizeData))\r\n            return;\r\n\r\n        let snapDelta1, snapDelta2;\r\n        if (dir.includes(\"n\")) {\r\n            snapDelta1 = this.getSnapDelta(\r\n                runtimeStyle.top, runtimeStyle.left);\r\n        } else if (dir.includes(\"s\")) {\r\n            snapDelta1 = this.getSnapDelta(\r\n                runtimeStyle.top + runtimeStyle.height, runtimeStyle.left);\r\n        }\r\n        if (dir.includes(\"w\")) {\r\n            snapDelta2 = this.getSnapDelta(\r\n                runtimeStyle.top, runtimeStyle.left);\r\n        } else if (dir.includes(\"e\")) {\r\n            snapDelta2 = this.getSnapDelta(\r\n                runtimeStyle.top, runtimeStyle.left + runtimeStyle.width);\r\n        }\r\n\r\n        let snapDelta = {\r\n            deltaX: snapDelta2? snapDelta2.deltaX: 0,\r\n            deltaY: snapDelta1? snapDelta1.deltaY: 0,\r\n            snapH: snapDelta1 && snapDelta1.snapH,\r\n            snapV: snapDelta2 && snapDelta2.snapV\r\n        };\r\n\r\n        if (dir.includes(\"n\")) {\r\n            runtimeStyle.height -= snapDelta.deltaY;\r\n            runtimeStyle.top += snapDelta.deltaY;\r\n        } else if (dir.includes(\"s\")) {\r\n            runtimeStyle.height += snapDelta.deltaY;\r\n        }\r\n        if (dir.includes(\"w\")) {\r\n            runtimeStyle.width -= snapDelta.deltaX;\r\n            runtimeStyle.left += snapDelta.deltaX;\r\n        } else if (dir.includes(\"e\")) {\r\n            runtimeStyle.width += snapDelta.deltaX;\r\n        }\r\n\r\n        let pointOfSnapH = {\r\n            p1: runtimeStyle.left,\r\n            p2: runtimeStyle.left + runtimeStyle.width\r\n        };\r\n        let pointOfSnapV = {\r\n            p1: runtimeStyle.top,\r\n            p2: runtimeStyle.top + runtimeStyle.height\r\n        };\r\n\r\n        this.props.snap.drawSnap(snapDelta.snapH, snapDelta.snapV, pointOfSnapH, pointOfSnapV);\r\n    };\r\n\r\n    setProps = (prop, value, gridCoordinates, data, breakpointName, dontAddToSnap) => {\r\n        if (this.hasOverride(\"setProps\"))\r\n            return this.callOverride(\"setProps\", prop, value, gridCoordinates, data, breakpointName);\r\n\r\n        if (prop === \"width\" || prop === \"height\" ||\r\n            prop === \"minWidth\" || prop === \"minHeight\" ||\r\n            prop === \"maxWidth\" || prop === \"maxHeight\")\r\n        {\r\n            this.setNewSize(prop, value, gridCoordinates, data, breakpointName, dontAddToSnap);\r\n        } else {\r\n            this.setDataInBreakpoint(prop, value, data, breakpointName);\r\n        }\r\n    };\r\n\r\n    setDataInBreakpoint = (prop, value, data, breakpointName) => {\r\n        this.props.breakpointmanager.setData(data || this.props.griddata, prop, value, breakpointName);\r\n        this.onPropsChange.trigger();\r\n    };\r\n\r\n    setTempData = (prop, value, data) => {\r\n        let dataToWrite = data || this.props.griddata;\r\n        dataToWrite[prop] = value;\r\n        this.onPropsChange.trigger();\r\n    };\r\n\r\n    getFromTempData = (prop, data) => {\r\n        let dataToRead = data || this.props.griddata;\r\n        return dataToRead[prop];\r\n    };\r\n\r\n    hasDataInBreakPoint = (prop, data, breakpointName) => {\r\n        return this.props.breakpointmanager\r\n            .hasDataInBreakPoint(data || this.props.griddata, prop, breakpointName);\r\n    };\r\n\r\n    getFromData = (prop, data, breakpointName) => {\r\n        return this.props.breakpointmanager\r\n            .getFromData(data || this.props.griddata, prop, breakpointName)\r\n    };\r\n\r\n    getCompositeFromData = (prop, data) => {\r\n        return this.props.breakpointmanager\r\n            .getCompositeFromData(data || this.props.griddata, prop, undefined)\r\n    };\r\n\r\n    setNewSize = (prop, value, gridCoordinates, data, breakpointName, dontAddToSnap) => {\r\n        if (this.hasOverride(\"setNewSize\"))\r\n            return this.callOverride(\"setNewSize\", prop, value, gridCoordinates, data, breakpointName);\r\n\r\n        let oldStyle = this.getCompositeFromData(\"style\", data, breakpointName);\r\n        let oldValue = oldStyle && oldStyle[prop];\r\n\r\n        if (value === undefined) {\r\n            this.setStyleParam(prop, value, data, breakpointName, dontAddToSnap);\r\n            return;\r\n        }\r\n\r\n        if (!oldValue || (!this.isPercent(oldValue) && !this.isViewRatio(oldValue)) ||\r\n            value === \"auto\" || isNaN(value)) {\r\n            if (!isNaN(value)) {\r\n                value+=\"px\";\r\n            }\r\n            this.setStyleParam(prop, value, data, breakpointName, dontAddToSnap);\r\n            return;\r\n        }\r\n\r\n        if (isNaN(value) && value.includes('px'))\r\n            value = parseFloat(value.replace('px', ''));\r\n\r\n        if (this.isPercent(oldValue)) {\r\n            let parentRect = {\r\n                width: gridCoordinates? (gridCoordinates.cx2 - gridCoordinates.cx1): window.innerWidth,\r\n                height: gridCoordinates?(gridCoordinates.cy2 - gridCoordinates.cy1): window.innerHeight\r\n            };\r\n            let newValue = (value / parentRect[this.getParentProps(prop)] * 100).toString() + \"%\";\r\n            this.setStyleParam(prop, newValue, data, breakpointName, dontAddToSnap);\r\n        } else if (this.isViewRatio(oldValue)) {\r\n            let parentValue;\r\n            let postFix;\r\n            if (oldValue.includes('vh')) {\r\n                parentValue = this.props.breakpointmanager.getWindowHeight();\r\n                postFix = 'vh'\r\n            }\r\n            if (oldValue.includes('vw')) {\r\n                parentValue = this.props.breakpointmanager.getWindowWidth();\r\n                postFix = 'vw'\r\n            }\r\n            let newValue = (value / parentValue * 100).toString() + postFix;\r\n            newValue = getViewRatioStyle(newValue);\r\n            this.setStyleParam(prop, newValue, data, breakpointName, dontAddToSnap);\r\n        }\r\n    };\r\n\r\n    getParentProps = (prop) => {\r\n        if (prop === \"width\" ||\r\n            prop === \"minWidth\" ||\r\n            prop === \"maxWidth\")\r\n        {\r\n            return \"width\";\r\n        }\r\n\r\n        return \"height\";\r\n    };\r\n\r\n    isPercent = (value) => {\r\n        if (isNaN(value)) {\r\n            if (value.includes(\"%\"))\r\n                return true;\r\n        }\r\n\r\n        return false;\r\n    };\r\n\r\n    isViewRatio = (value) => {\r\n        if (isNaN(value)) {\r\n            if (value.includes(\"vh\") || value.includes(\"vw\"))\r\n                return true;\r\n        }\r\n\r\n        return false;\r\n    };\r\n\r\n    setRuntimeStyle = (newRuntimeStyle, animationCss) => {\r\n        if (this.callOverride(\"setRuntimeStyle\", newRuntimeStyle))\r\n            return;\r\n\r\n        let runtimeStyle = newRuntimeStyle && {...newRuntimeStyle};\r\n        this.setState({runtimeStyle, animationCss});\r\n        this.onPropsChange.trigger();\r\n    };\r\n\r\n    getGridItemStyleId = () => {\r\n        return `style_grid_item_${this.props.id}`;\r\n    };\r\n\r\n    setGridItemStyle = (newGridItemStyle, breakpointName, dontOverride) => {\r\n        if (this.callOverride(\"setGridItemStyle\", newGridItemStyle, breakpointName, dontOverride))\r\n            return;\r\n\r\n        let gridItemStyle = {...newGridItemStyle};\r\n\r\n        if (!dontOverride)\r\n            this.setDataInBreakpoint(\"gridItemStyle\", gridItemStyle, undefined, breakpointName);\r\n\r\n        let styleNode = document.getElementById(this.getGridItemStyleId());\r\n\r\n        if (!styleNode) {\r\n            appendStyle(this.getCompositeFromData(\"gridItemStyle\"),\r\n                this.getGridItemStyleId(), this.getGridItemStyleId(), this);\r\n        } else {\r\n            updateStyle(styleNode, this.getCompositeFromData(\"gridItemStyle\"), this.getGridItemStyleId());\r\n        }\r\n\r\n        this.onPropsChange.trigger();\r\n    };\r\n\r\n    setGridArea = (gridArea, breakpointName) => {\r\n        if (this.callOverride(\"setGridArea\", gridArea))\r\n            return;\r\n\r\n        let gridItemStyle = this.getFromData(\"gridItemStyle\");\r\n        gridItemStyle.gridArea = gridArea;\r\n\r\n        this.setGridItemStyle(gridItemStyle, breakpointName);\r\n    };\r\n\r\n    getGridArea = () => {\r\n        if (this.callOverride(\"getGridArea\"))\r\n            return;\r\n\r\n        let gridItemStyle = this.getCompositeFromData(\"gridItemStyle\");\r\n        return gridItemStyle.gridArea;\r\n    };\r\n\r\n    setStyleParam = (param, value, data, breakpointName, dontAddToSnap) => {\r\n        if (this.hasOverride(\"setStyleParam\"))\r\n            return this.callOverride(\"setStyleParam\", param, value, data, breakpointName);\r\n\r\n        let style = this.hasDataInBreakPoint(\"style\", data, breakpointName) || {};\r\n        style[param] = value;\r\n        if (value === undefined)\r\n            delete style[param];\r\n        this.setStyle(style, data, breakpointName, undefined, dontAddToSnap);\r\n    };\r\n\r\n    getStyleId = () => {\r\n        return `style_${this.props.id}`;\r\n    };\r\n\r\n    getDesignStyleId = () => {\r\n        return `style_design_${this.props.id}`;\r\n    };\r\n\r\n    setDesignStyle = (newDesignStyle, data, breakpointName, dontOverride) => {\r\n        if (this.callOverride(\"setDesignStyle\", newDesignStyle, data, breakpointName, dontOverride))\r\n            return;\r\n\r\n        let designStyle = {...newDesignStyle};\r\n        if (!dontOverride)\r\n            this.setDataInBreakpoint(\"designStyle\", designStyle, data, breakpointName);\r\n\r\n        if (!data) {\r\n            let designStyleNode = document.getElementById(this.getDesignStyleId());\r\n\r\n            if (!designStyleNode) {\r\n                appendStyle(this.getCompositeFromData(\"designStyle\"),\r\n                    this.getDesignStyleId(), this.getDesignStyleId(), this);\r\n            } else {\r\n                updateStyle(designStyleNode, this.getCompositeFromData(\"designStyle\"), this.getDesignStyleId());\r\n            }\r\n\r\n            this.invalidateSize();\r\n            this.addToSnap();\r\n        }\r\n\r\n        this.onPropsChange.trigger();\r\n    };\r\n\r\n    getTransformStyleId = () => {\r\n        return `style-transform-${this.props.id}`;\r\n    };\r\n\r\n    setTransformStyle = (newTransform, data, breakpointName, dontOverride) => {\r\n        if (this.callOverride(\"setTransformStyle\", newTransform, data, breakpointName, dontOverride))\r\n            return;\r\n\r\n        let transform = {...newTransform};\r\n        if (!dontOverride)\r\n            this.setDataInBreakpoint(\"transform\", transform, data, breakpointName);\r\n\r\n        if (!data) {\r\n            let transformStyleNode = document.getElementById(this.getTransformStyleId());\r\n\r\n            if (!transformStyleNode) {\r\n                appendStyle(this.getTransformStyle(),\r\n                    this.getTransformStyleId(), this.getTransformStyleId(), this);\r\n            } else {\r\n                updateStyle(transformStyleNode, this.getTransformStyle(), this.getTransformStyleId());\r\n            }\r\n        }\r\n\r\n        this.onPropsChange.trigger();\r\n    };\r\n\r\n    getTransformStyle = (compositeTransform) => {\r\n        if (!compositeTransform)\r\n            compositeTransform = this.getCompositeFromData(\"transform\") || {};\r\n\r\n        let rules = [];\r\n\r\n        // TODO add more rules\r\n        compositeTransform.rotateDegree && rules.push(`rotate(${compositeTransform.rotateDegree}deg)`);\r\n\r\n        return {transform: rules.join(' ')};\r\n    };\r\n\r\n    setStyle = (newStyle, data, breakpointName, dontOverride, dontAddToSnap) => {\r\n        if (this.callOverride(\"setStyle\", newStyle, data, breakpointName, dontOverride))\r\n            return;\r\n\r\n        let style = {...newStyle};\r\n\r\n        if (!dontOverride)\r\n            this.setDataInBreakpoint(\"style\", style, data, breakpointName);\r\n\r\n        if (!data) {\r\n            let styleNode = document.getElementById(this.getStyleId());\r\n\r\n            if (!styleNode) {\r\n                appendStyle(\r\n                    this.getCompositeFromData(\"style\"),\r\n                    this.getStyleId(), this.getStyleId(), this);\r\n            } else {\r\n                updateStyle(styleNode,\r\n                    this.getCompositeFromData(\"style\"),\r\n                    this.getStyleId());\r\n            }\r\n\r\n            if (!dontAddToSnap) {\r\n                this.invalidateSize();\r\n                this.addToSnap();\r\n            }\r\n        }\r\n\r\n        this.onPropsChange.trigger();\r\n    };\r\n\r\n    clearFromAllBp = (props, data, excludeBp) => {\r\n        let sortedBp = this.props.breakpointmanager.getSortedBreakPoints();\r\n        sortedBp.forEach( bp => {\r\n            if (excludeBp !== bp.name || !excludeBp.includes(bp.name))\r\n                this.setDataInBreakpoint(props, undefined, data, bp.name);\r\n        });\r\n    };\r\n\r\n    setGrid = (grid, callback, breakpointName) => {\r\n        if (this.callOverride(\"setGrid\", grid, callback, breakpointName))\r\n            return;\r\n\r\n        this.setDataInBreakpoint(\"grid\", grid, undefined, breakpointName);\r\n        this.setState({grid: grid}, () => {\r\n            if (this.props.gridLine.hasGridLine(this.props.id)) {\r\n                let size = this.getSize(false);\r\n                this.updateGridLines(\r\n                    size.top,\r\n                    size.left,\r\n                    size.top + size.clientHeight,\r\n                    size.left + size.clientWidth,\r\n                    this.props.gridLine.hasGridLine(this.props.id)\r\n                );\r\n            }\r\n\r\n            if (callback)\r\n                callback();\r\n        });\r\n    };\r\n\r\n    getGridLineRect = (ref, index, dir, item) => {\r\n        if (ref.current) {\r\n            return ref.current.rect;\r\n        }\r\n\r\n        let parentRect = item.props.parent && item.props.parent.getSize(false) || {\r\n            width: item.props.breakpointmanager.getWindowWidth()\r\n        };\r\n        let padding = cloneObject(item.getCompositeFromData(\"padding\")) || {};\r\n        ['top', 'left', 'bottom', 'right'].forEach(key => {\r\n            padding[key] = getPxValueFromCSSValue(padding[key], parentRect.width, item) || 0;\r\n        });\r\n\r\n        let thisRect = item.getSize(false);\r\n        if (dir === 'x') {\r\n            if (index === 0) {\r\n                return {\r\n                    left: thisRect.left - thisRect.scrollLeft + padding.left ,\r\n                    top: thisRect.top - thisRect.scrollTop + padding.top,\r\n                    height: thisRect.scrollHeight - padding.top - padding.bottom,\r\n                    width: 1\r\n                }\r\n            } else {\r\n                return {\r\n                    left: thisRect.left - thisRect.scrollLeft + thisRect.scrollWidth - padding.right - 1,\r\n                    top: thisRect.top - thisRect.scrollTop + padding.top,\r\n                    height: thisRect.scrollHeight - padding.top - padding.bottom,\r\n                    width: 1\r\n                }\r\n            }\r\n        } else {\r\n            if (index === 0) {\r\n                return {\r\n                    top: thisRect.top - thisRect.scrollTop + padding.top ,\r\n                    left: thisRect.left - thisRect.scrollLeft + padding.left,\r\n                    height: 1,\r\n                    width: thisRect.scrollWidth - padding.left - padding.right,\r\n                }\r\n            } else {\r\n                return {\r\n                    top: thisRect.top - thisRect.scrollTop + thisRect.scrollHeight - padding.bottom - 1,\r\n                    left: thisRect.left - thisRect.scrollLeft + padding.left,\r\n                    height: 1,\r\n                    width: thisRect.scrollWidth - padding.left - padding.right,\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    getGridLineOfPoint = (left, top, parent, after = false, parentRect) => {\r\n        if (!parentRect)\r\n            parentRect = parent.getSize(false);\r\n        let x;\r\n        let cx;\r\n        let xLineRef = this.props.gridLine.getXlineRef(parent.props.id);\r\n        for(let i = 0; i < xLineRef.length; i++) {\r\n            let rect = this.getGridLineRect(xLineRef[i], i, 'x', parent);\r\n            if (left < rect.left || (after && left <= rect.left)) {\r\n                x = i;\r\n                if (!after) {\r\n                    if (xLineRef[i - 1]) {\r\n                        // rect = xLineRef[i - 1].current.getBoundingClientRect();\r\n                        // rect = xLineRef[i - 1].current.rect;\r\n                        rect = this.getGridLineRect(xLineRef[i - 1], i - 1, 'x', parent);\r\n                        cx = rect.left;\r\n                    } else {\r\n                        // cx = parentRect.left - parentRect.scrollLeft;\r\n                        cx = rect.left;\r\n                    }\r\n                } else {\r\n                    cx = rect.left;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n        if (x === undefined) {\r\n            x = xLineRef.length;\r\n            // let rect = xLineRef[xLineRef.length - 1].current.getBoundingClientRect();\r\n            // let rect = xLineRef[xLineRef.length - 1].current.rect;\r\n            let rect = this.getGridLineRect(xLineRef[xLineRef.length - 1], xLineRef.length - 1, 'x', parent);\r\n            cx = rect.left;\r\n        }\r\n\r\n        let y;\r\n        let cy;\r\n        let yLineRef = this.props.gridLine.getYlineRef(parent.props.id);\r\n        for(let i = 0; i < yLineRef.length; i++) {\r\n            // let rect = yLineRef[i].current.getBoundingClientRect();\r\n            // let rect = yLineRef[i].current.rect;\r\n            let rect = this.getGridLineRect(yLineRef[i], i, 'y', parent);\r\n            if (top < rect.top || (after && top <= rect.top)) {\r\n                y = i;\r\n                if (!after) {\r\n                    if (yLineRef[i - 1]) {\r\n                        // rect = yLineRef[i - 1].current.getBoundingClientRect();\r\n                        // rect = yLineRef[i - 1].current.rect;\r\n                        rect = this.getGridLineRect(yLineRef[i - 1], i - 1, 'y', parent);\r\n                        cy = rect.top;\r\n                    } else {\r\n                        // cy = parentRect.top - parentRect.scrollTop;\r\n                        cy = rect.top;\r\n                    }\r\n                } else {\r\n                    cy = rect.top;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n        if (y === undefined) {\r\n            y = yLineRef.length;\r\n            // let rect = yLineRef[yLineRef.length - 1].current.getBoundingClientRect();\r\n            // let rect = yLineRef[yLineRef.length - 1].current.rect;\r\n            let rect = this.getGridLineRect(yLineRef[yLineRef.length - 1], yLineRef.length - 1, 'y', parent);\r\n            cy = rect.top;\r\n        }\r\n\r\n        if (after) {\r\n            x++;\r\n            y++;\r\n        }\r\n\r\n        x = Math.max(1, x);\r\n        x = Math.min(xLineRef.length, x);\r\n        y = Math.max(1, y);\r\n        y = Math.min(yLineRef.length, y);\r\n\r\n        if (x === xLineRef.length)\r\n            cx++;\r\n        if (y === yLineRef.length)\r\n            cy++;\r\n\r\n        return {x, y, cx, cy};\r\n    };\r\n\r\n    calculateGridArea = (left, top, width, height, parent, parentRect) => {\r\n        if (!this.props.gridLine.hasGridLine(parent.props.id)) {\r\n            return {\r\n                gridArea: {x1: 1, y1: 1, x2: 2, y2: 2},\r\n                coordinates: {cx1: 0, cy1: 0, cx2: 0, cy2: 0}\r\n            }\r\n        }\r\n        let gridLine1 = this.getGridLineOfPoint(left, top, parent, false, parentRect);\r\n        let gridLine2 = this.getGridLineOfPoint(left + width, top + height, parent, true, parentRect);\r\n        return {\r\n            gridArea: {x1: gridLine1.x, y1: gridLine1.y, x2: gridLine2.x, y2: gridLine2.y},\r\n            coordinates: {cx1: gridLine1.cx, cy1: gridLine1.cy, cx2: gridLine2.cx, cy2: gridLine2.cy}\r\n        };\r\n    };\r\n\r\n    onMouseDown = (e, moveWithMouse) => {\r\n        if (!this.isEditor())\r\n            return;\r\n\r\n        if (this.isLeftClick(e)) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            this.mouseDown = true;\r\n            this.moveWithMouse = moveWithMouse;\r\n            this.mouseMoved = {\r\n                deltaX: 0,\r\n                deltaY: 0,\r\n                lastClientX: e.clientX,\r\n                lastClientY: e.clientY,\r\n                startMillis: (new Date()).getTime()\r\n            };\r\n            window.addEventListener(\"mousemove\", this.onMouseMove);\r\n            window.addEventListener(\"mouseup\", this.onMouseUp);\r\n        } else if (isRightClick(e)) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            this.mouseDown = true;\r\n            window.addEventListener(\"mouseup\", this.onMouseUp);\r\n        }\r\n    };\r\n\r\n    isLeftClick = (e) => {\r\n        if (e.button === 0)\r\n            return true;\r\n\r\n        return false;\r\n    };\r\n\r\n    onMouseMove = (e) => {\r\n        if (!this.mouseDown)\r\n            return;\r\n\r\n        this.mouseMoved.deltaX += (e.clientX - this.mouseMoved.lastClientX);\r\n        this.mouseMoved.deltaY += (e.clientY - this.mouseMoved.lastClientY);\r\n        this.mouseMoved.lastClientX = e.clientX;\r\n        this.mouseMoved.lastClientY = e.clientY;\r\n\r\n        if (!this.moving) {\r\n            let currentMillis = new Date().getTime();\r\n            if (Math.abs(this.mouseMoved.deltaX) > 10 ||\r\n                Math.abs(this.mouseMoved.deltaY) > 10 ||\r\n                currentMillis - this.mouseMoved.startMillis > 500)\r\n            {\r\n                if (!this.state.groupSelected && this.getFromTempData(\"draggable\") && !this.state.selected) {\r\n                    this.onSelect(true);\r\n                }\r\n                this.moving = true;\r\n                this.canMove() && this.onDragStart(e, isGroupSelected(this), true);\r\n            }\r\n        } else {\r\n            this.canMove() && this.onDrag(e, isGroupSelected(this), true);\r\n        }\r\n    };\r\n\r\n    canMove = () => {\r\n        return (this.state.selected || this.state.groupSelected) && this.getFromTempData(\"draggable\");\r\n    };\r\n\r\n    onMouseUp = (e) => {\r\n        if (!this.mouseDown)\r\n            return;\r\n\r\n        delete this.moveWithMouse;\r\n\r\n        if (isRightClick(e)) {\r\n            this.onContextMenu(e);\r\n            this.mouseDown = false;\r\n            window.removeEventListener(\"mouseup\", this.onMouseUp);\r\n            return;\r\n        }\r\n\r\n        let currentMillis = new Date().getTime();\r\n        if (!this.moving && currentMillis - this.mouseMoved.startMillis < 500) {\r\n            if (!this.dropped) {\r\n                e.stopPropagation();\r\n                this.onSelect(true, undefined, undefined, true);\r\n            } else {\r\n                this.dropped = false;\r\n            }\r\n        }\r\n\r\n        if (this.moving && this.canMove()) {\r\n            window.requestAnimationFrame(() => {\r\n                this.onDragStop(e, isGroupSelected(this), true);\r\n            });\r\n        }\r\n\r\n        this.moving = false;\r\n        this.mouseDown = false;\r\n\r\n        window.removeEventListener(\"mousemove\", this.onMouseMove);\r\n        window.removeEventListener(\"mouseup\", this.onMouseUp);\r\n    };\r\n\r\n    onSelect = (selected, callback, deselectParent, clicked, dontUpdateAdjustment) => {\r\n        if (!this.isEditor()) return;\r\n\r\n        if (this.callOverride(\"onSelect\", selected, callback, deselectParent))\r\n            return;\r\n\r\n        if (!this.mounted)\r\n            return;\r\n        if (!this.props.isSelectable)\r\n            return;\r\n\r\n        if (selected) {\r\n            this.props.select.selectItem(this, clicked, dontUpdateAdjustment);\r\n            this.props.gridLine.removeGridLineByType(\"A\");\r\n            this.toggleGridLines(selected, undefined, \"A\");\r\n        } else {\r\n            this.props.onDeSelectListener && this.props.onDeSelectListener(this);\r\n            this.props.select.updateHelpSizeLines();\r\n        }\r\n\r\n        if (this.props.parent) {\r\n            if (selected || deselectParent)\r\n                this.props.parent.toggleGridLines(selected, () => {\r\n                    this.toggleHelpLines(selected && this.props.parent);\r\n                }, \"B\");\r\n        } else {\r\n            selected && this.props.gridLine.removeGridLineByType(\"B\");\r\n            this.props.select.updateHelpSizeLines();\r\n        }\r\n\r\n        this.setTempData(\"selected\", selected);\r\n\r\n        if (!this.mounted)\r\n            return;\r\n\r\n        this.setState({selected, groupSelected: false}, () => {\r\n            selected && this.setItemHover(true);\r\n\r\n            this.props.editor.updateLayout();\r\n\r\n            if (callback)\r\n                callback();\r\n        });\r\n    };\r\n\r\n    toggleGridLines = (showGridLines, callback, gridType) => {\r\n        if (this.callOverride(\"toggleGridLines\", showGridLines, callback, gridType))\r\n            return;\r\n\r\n        if (!this.mounted)\r\n            return;\r\n\r\n        if (!showGridLines) {\r\n            this.props.gridLine.removeGridLine(this.props.id);\r\n            this.updateLayout();\r\n            return;\r\n        }\r\n\r\n        if (!this.getFromTempData(\"isContainer\"))\r\n            return;\r\n\r\n        if (this.props.gridLine.hasGridLine(this.props.id, gridType)) {\r\n            if (callback)\r\n                callback();\r\n\r\n            this.updateLayout();\r\n\r\n            return;\r\n        }\r\n\r\n        let grid = this.getCompositeFromData(\"grid\");\r\n        this.props.gridLine.addGrid(\r\n            this.props.id,\r\n            grid.x,\r\n            grid.y,\r\n            gridType,\r\n            grid.gridTemplateRows,\r\n            grid.gridTemplateColumns,\r\n            {\r\n                top: 0,\r\n                left: 0,\r\n                bottom: 0,\r\n                right: 0,\r\n            },\r\n            () => {\r\n                if (callback)\r\n                    callback();\r\n\r\n                this.updateLayout();\r\n            }\r\n        );\r\n    };\r\n\r\n    toggleHelpLines = (helpLinesParent, callback) => {\r\n        if (this.callOverride(\"toggleHelpLines\", helpLinesParent, callback))\r\n            return;\r\n\r\n        if (this.mounted) {\r\n            this.setState({\r\n                helpLinesParent: helpLinesParent !== this && helpLinesParent\r\n            }, () => {\r\n                helpLinesParent &&\r\n                this.props.select.updateHelpLines(this, this.state.helpLinesParent,\r\n                    this.getSize(false), this.state.dragging);\r\n\r\n                if (callback)\r\n                    callback();\r\n            });\r\n        }\r\n    };\r\n\r\n    onScroll = (e) => {\r\n        console.log(\"onScroll\", this.props.id);\r\n        if (this.callOverride(\"onScroll\", e))\r\n            return;\r\n\r\n        this.isEditor() && this.invalidateSize(true, false, true);\r\n        this.isEditor() && this.props.select.updateParentsRect();\r\n        this.isEditor() && this.props.select.onScrollItem();\r\n        this.onScrollEnd(e);\r\n    };\r\n\r\n    onRootScroll = (e) => {\r\n        if (this.getFromTempData(\"isFixed\")) {\r\n            this.props.parent.forceScroll(e);\r\n        }\r\n    };\r\n\r\n    forceScroll = (e) => {\r\n        console.log(\"forceScroll\", this.props.id, this.rootDivRef.current.scrollTop, e.deltaY);\r\n\r\n        clearTimeout(this.scrollReset);\r\n\r\n        if (!this.targetScroll) this.targetScroll = {\r\n            top: this.rootDivRef.current.scrollTop\r\n        };\r\n\r\n        if (this.targetScroll.top < 0 && e.deltaY > 0)\r\n            this.targetScroll.top = 0;\r\n\r\n        let maxTop = this.rootDivRef.current.scrollHeight - this.getSize(false).height;\r\n        if (this.targetScroll.top > maxTop && e.deltaY < 0) {\r\n            this.targetScroll.top = maxTop;\r\n        }\r\n\r\n        this.targetScroll.top += e.deltaY;\r\n\r\n        this.rootDivRef.current.scrollTo({\r\n            top: this.targetScroll.top,\r\n            behavior: 'smooth'\r\n        });\r\n\r\n        this.scrollReset = setTimeout(() => {\r\n            this.targetScroll = {\r\n                top: this.rootDivRef.current.scrollTop\r\n            };\r\n        }, 500);\r\n    }\r\n\r\n    onScrollEnd = debounce((e) => {\r\n        if (this.callOverride(\"onScrollEnd\", e))\r\n            return;\r\n\r\n        this.isEditor() && this.invalidateSize();\r\n        this.isEditor() && this.addToSnap();\r\n    }, 500);\r\n\r\n    editGrid = () => {\r\n        this.props.gridEditorRef.current.editing(this);\r\n    };\r\n\r\n    updateGridEditor = () => {\r\n        this.props.gridEditorRef.current.update(this);\r\n    };\r\n\r\n    setAnchor = (anchor) => {\r\n        if (this.callOverride(\"setAnchor\", anchor))\r\n            return;\r\n\r\n        this.setTempData(\"anchor\", anchor);\r\n        this.updateLayout();\r\n    };\r\n\r\n    isEditor = () => {\r\n        return this.props.editor;\r\n    }\r\n\r\n    playAnimation = (disable) => {\r\n        let compositeDesign = getCompositeDesignData(this);\r\n        if (!compositeDesign.animation || !compositeDesign.animation.name)\r\n            return;\r\n\r\n        if (this.getFromData(\"dontAnimate\"))\r\n            return;\r\n\r\n        // Component going to show animation, so add end listener for more action\r\n        let onAnimationEnd = DynamicAnimations[compositeDesign.animation.name].onAnimationEnd;\r\n\r\n        let stateChange = {\r\n            forceKey: \"animationReplay\",\r\n            showAnimation: true,\r\n            onAnimationEnd\r\n        };\r\n\r\n        if (disable) {\r\n            stateChange.disableVS = true;\r\n            this.setTempData(\"dontAnimate\", true);\r\n        }\r\n\r\n        this.isEditor() && this.props.select.activateHover(false);\r\n        this.isEditor() && this.props.select.activateResize(false);\r\n\r\n        this.setState(stateChange);\r\n    };\r\n\r\n    onAnimationEnd = () => {\r\n        this.setState({forceKey: undefined, showAnimation: undefined});\r\n        this.isEditor() && this.props.select.activateHover(true);\r\n        this.isEditor() && this.props.select.activateResize(true);\r\n    };\r\n\r\n    getCompositeAnimationCss = (compositeAnimation = {}) => {\r\n        if (!(compositeAnimation.name && this.state.forceKey && this.state.showAnimation))\r\n            return;\r\n\r\n        return DynamicAnimations[compositeAnimation.name]\r\n            .getAnimationCSS(this, compositeAnimation.options);\r\n    };\r\n\r\n    onContextMenu = (e) => {\r\n        if (!this.isEditor()) return;\r\n\r\n        e.preventDefault();\r\n        this.onSelect(true);\r\n        this.props.select.onContextMenu(e, this);\r\n    };\r\n\r\n    getContextMenu = () => {\r\n        if (this.hasOverride(\"getContextMenu\"))\r\n            return this.callOverride(\"getContextMenu\");\r\n    };\r\n\r\n    onDoubleClick = (e) => {\r\n        if (this.callOverride(\"onDoubleClick\", e))\r\n            return;\r\n    }\r\n\r\n    render () {\r\n        let {className, animationCss, as, editor, select, id, getStaticChildren,\r\n            isPage, page, getChildrenOverride, modifyContainerStyleOverride} = this.props;\r\n        let {selected, runtimeStyle, portalNodeId, disableVS, showAnimation, forceKey, grid,\r\n            draggingStart, showGridLines, resizeHelpData} = this.state;\r\n        let isContainer = this.props.griddata.isContainer;\r\n        let children = this.children;\r\n        let resizeData = this.resizeData;\r\n        let size = runtimeStyle || this.getSize(false);\r\n        let compositeDesign = getCompositeDesignData(this);\r\n        let compositeTransform = this.getCompositeFromData(\"transform\") || {};\r\n        let compositeStyle = this.getCompositeFromData(\"style\");\r\n        let overflowData = this.getCompositeFromData(\"overflowData\");\r\n        let anchor = this.getFromTempData(\"anchor\");\r\n        let selectAsParent = this.props.gridLine.hasGridLine(this.props.id, \"B\") !== undefined;\r\n\r\n        let classes = classNames(\r\n            \"AwesomeGridLayoutRoot\",\r\n            \"AwesomeGridLayoutGrid\",\r\n            className,\r\n            this.getDesignStyleId(),\r\n            this.getGridItemStyleId(),\r\n            this.getStyleId(),\r\n            this.getCompositeAnimationCss(compositeDesign.animation),\r\n            isPage && \"PageScrollBar\"\r\n        );\r\n\r\n        let holderClasses = classNames(\r\n            \"AwesomeGridLayoutHolder\",\r\n            this.getTransformStyleId(),\r\n        );\r\n\r\n        let TagAs = as || \"div\";\r\n\r\n        return (\r\n            <Portal nodeId={portalNodeId} disabled={!portalNodeId}>\r\n                <VisibilitySensorWrapper\r\n                    animation={compositeDesign.animation}\r\n                    editor={editor}\r\n                    playAnimation={this.playAnimation}\r\n                    select={select}\r\n                    disableVS={disableVS}\r\n                >\r\n                        <TagAs\r\n                            onMouseDown={!showAnimation ? this.onMouseDown : undefined}\r\n                            onMouseOver={this.onMouseOver}\r\n                            onMouseEnter={this.onMouseEnter}\r\n                            onMouseOut={this.onMouseOut}\r\n                            onScroll={this.onRootScroll}\r\n                            onWheel={this.onRootScroll}\r\n                            onDoubleClick={this.onDoubleClick}\r\n                            id={id}\r\n                            className={classes}\r\n                            style={{\r\n                                ...runtimeStyle,\r\n                                ...(this.canMove() && {cursor: \"move\"}),\r\n                                // ...(!this.isEditor() && this.getFromTempData(\"isFixed\") && {pointerEvents: \"none\"}),\r\n                                ...(isPage && {overflowY: \"auto\", overflowX: \"hidden\"}),\r\n                                ...(overflowData.state === 'hide' && {\r\n                                    overflowY: 'hidden',\r\n                                    overflowX: 'hidden',\r\n                                }),\r\n                                ...(showAnimation && {\r\n                                    opacity: 0\r\n                                })\r\n                            }}\r\n                            ref={this.rootDivRef}\r\n                            key={id}\r\n                            onAnimationEnd={this.onAnimationEnd}\r\n                        >\r\n                            {\r\n                                this.getFromTempData(\"pageResize\") &&\r\n                                !showAnimation &&\r\n                                <AdjustmentResizePage\r\n                                    id={id}\r\n                                    key={`${id}_resize`}\r\n                                    sides={['e','w']}\r\n                                    onResizeStart={this.pageResizeStart}\r\n                                    onResize={this.pageResize}\r\n                                    onResizeStop={this.pageResizeStop}\r\n                                    data={runtimeStyle || size}\r\n                                    top={(resizeData && resizeData.top) || (size && size.top)}\r\n                                    left={(resizeData && resizeData.left) || (size && size.left)}\r\n                                    width={(runtimeStyle && runtimeStyle.width) || (size && size.width)}\r\n                                    height={(runtimeStyle && runtimeStyle.height) || (size && size.height)}\r\n                                    draggingStart={draggingStart}\r\n                                    itemId={id}\r\n                                />\r\n                            }\r\n\r\n                            {\r\n                                selected && resizeHelpData &&\r\n                                !this.getFromTempData(\"pageResize\") &&\r\n                                !showAnimation &&\r\n                                !isGroupSelected(this) &&\r\n                                <AdjustmentHelpSize\r\n                                    resizeHelpData={resizeHelpData}\r\n                                />\r\n                            }\r\n\r\n                            <ChildHolder\r\n                                className={holderClasses}\r\n                                key={forceKey || `${id}_container`}\r\n                                id={`${id}_child_holder`}\r\n                                disabled={Object.keys(compositeTransform).length > 0}\r\n                                transformRef={this.transformRef}\r\n                            >\r\n                                {\r\n                                    getStaticChildren && getStaticChildren()\r\n                                }\r\n\r\n                                <GridChildContainer\r\n                                    id={id}\r\n                                    key={`${id}_container`}\r\n                                    allChildren={children}\r\n                                    grid={grid}\r\n                                    overflowData={overflowData}\r\n                                    showGridLines={showGridLines}\r\n                                    aglStyle={compositeStyle}\r\n                                    overflowRef={this.overflowRef}\r\n                                    containerRef={this.containerRef}\r\n                                    show={isContainer}\r\n                                    onScroll={this.onScroll}\r\n                                    isPage={isPage}\r\n                                    editor={editor}\r\n                                    page={page}\r\n                                    ref={this.backContainerRef}\r\n                                    size={runtimeStyle || size}\r\n                                    getChildrenOverride={getChildrenOverride}\r\n                                    agl={this}\r\n                                    padding={this.getCompositeFromData(\"padding\")}\r\n                                    modifyContainerStyleOverride={modifyContainerStyleOverride}\r\n                                    selectAsParent={selectAsParent}\r\n                                    selected={selected}\r\n                                />\r\n                            </ChildHolder>\r\n\r\n                            <AGLAnchor\r\n                                anchor={anchor}\r\n                            />\r\n\r\n                            {\r\n                                this.state.dragging && this.props.parent &&\r\n                                <Portal nodeId={this.state.portalNodeId ||\r\n                                    `${this.props.parent.props.id}_container`}\r\n                                >\r\n                                    <div\r\n                                        className={this.state.fakeStyle}\r\n                                        style={{\r\n                                            opacity: 0,\r\n                                            pointerEvents: \"none\",\r\n                                            ...this.state.fakeStyle\r\n                                        }}\r\n                                    />\r\n                                </Portal>\r\n                            }\r\n\r\n                        </TagAs>\r\n                </VisibilitySensorWrapper>\r\n            </Portal>\r\n        )\r\n    }\r\n}\r\n\r\nAwesomeGridLayout2.defaultProps = {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    childSize: {w: \"100%\", h: \"100%\"},\r\n    showSideResize: false,\r\n    isSelectable: true,\r\n    layoutType: \"free\", // free, grid\r\n    snap: {x: 1, y: 1},\r\n    dir: \"rtl\", // rtl, ltr,\r\n    compactType: \"vertical\", // none, vertical, horizontal\r\n    defaultGrid: {\r\n        x: 1,\r\n        y: 1,\r\n        gridTemplateRows: \"1fr\",\r\n        gridTemplateColumns: \"1fr\"\r\n    },\r\n    defaultStyle: {\r\n        width: \"50%\",\r\n        height: \"50%\",\r\n    },\r\n    defaultGridItemStyle: {\r\n        alignSelf: \"center\",\r\n        justifySelf: \"center\",\r\n        position: \"relative\",\r\n        marginLeft: 0,\r\n        marginRight: 0,\r\n        marginTop: 0,\r\n        marginBottom: 0,\r\n        gridArea: \"1/1/2/2\",\r\n    }\r\n};\r\n","import AwesomeGridLayout2 from \"../../AwesomeGridLayout2\";\r\nimport React from \"react\";\r\nimport {assignData, initGriddata} from \"../../AwesomeGridLayoutUtils\";\r\n\r\nexport default class AGLWrapper extends React.Component{\r\n    render() {\r\n        let griddata = this.props.aglRef.current && this.props.aglRef.current.props.griddata;\r\n        if (!griddata) griddata = this.props.griddata;\r\n        if (griddata && griddata.initialized) {\r\n            if (!griddata.fillWithData) {\r\n                griddata.fillWithData = true;\r\n                let bpData = this.props.data.bpData;\r\n                Object.keys(this.props.data).forEach(key => {\r\n                    if (key !== \"bpData\") {\r\n                        griddata[key] = this.props.data[key];\r\n                    }\r\n                });\r\n                assignData(griddata.bpData[\"laptop\"], bpData);\r\n            }\r\n        } else {\r\n            griddata = assignData(this.props.griddata, this.props.data);\r\n            initGriddata(griddata, this.props.breakpointmanager);\r\n        }\r\n\r\n        return (\r\n            <AwesomeGridLayout2\r\n                className={this.props.className}\r\n                {...this.props}\r\n                ref={this.props.aglRef}\r\n                griddata={griddata}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport Portal from \"../../Portal\";\r\n\r\nexport default class StackSpacerContainer extends React.PureComponent{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            spacers: []\r\n        };\r\n    }\r\n\r\n    updateSpacers = (spacers) => {\r\n        setTimeout(() => {\r\n            this.setState({spacers});\r\n        }, 0);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            this.state.spacers.map((spacer, index) => {\r\n                return <Portal nodeId={`${this.props.aglRef.current.props.id}_container`}\r\n                               key={index}\r\n                               document={this.props.document}\r\n                >\r\n                    {spacer}\r\n                </Portal>\r\n            })\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\n\r\nexport default class AdjustmentMove extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.rootDivRef = React.createRef();\r\n    }\r\n\r\n    onMouseDown = (e) => {\r\n        let rect = this.rootDivRef.current.getBoundingClientRect();\r\n        if (this.isLeftClick(e) && e.clientX >= rect.left && e.clientX <= rect.left + rect.width &&\r\n            e.clientY >= rect.top && e.clientY <= rect.top + rect.height) {\r\n            e.stopPropagation();\r\n            this.mouseDown = true;\r\n            window.addEventListener(\"pointermove\", this.onMouseMove);\r\n            window.addEventListener(\"pointerup\", this.onMouseUp);\r\n        }\r\n    };\r\n\r\n    isLeftClick = (e) => {\r\n        if (e.pointerType === \"mouse\" && e.button === 0)\r\n            return true;\r\n\r\n        return false;\r\n    };\r\n\r\n    onMouseMove = (e) => {\r\n        if (!this.mouseDown)\r\n            return;\r\n        e.stopPropagation();\r\n\r\n        if (!this.moving) {\r\n            this.moving = true;\r\n            this.onDragStart(e);\r\n        } else {\r\n            this.onDrag(e);\r\n        }\r\n    };\r\n\r\n    onMouseUp = (e) => {\r\n        if (!this.mouseDown)\r\n            return;\r\n\r\n        this.mouseDown = false;\r\n\r\n        if (this.moving) {\r\n            e.stopPropagation();\r\n            this.onDragStop(e);\r\n        } else {\r\n            if (this.props.onClick)\r\n                this.props.onClick(e);\r\n        }\r\n\r\n        this.moving = false;\r\n\r\n        window.removeEventListener(\"pointermove\", this.onMouseMove);\r\n        window.removeEventListener(\"pointerup\", this.onMouseUp);\r\n    };\r\n\r\n    onDragStart = (e) => {\r\n        this.props.onDragStart(e);\r\n    };\r\n\r\n    onDrag = (e) => {\r\n        this.props.onDrag(e);\r\n    };\r\n\r\n    onDragStop = (e) => {\r\n        if (this.props.onDragStop)\r\n            this.props.onDragStop(e);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <div\r\n                id=\"AdjustmentMove\"\r\n                className=\"AdjustmentMoveRoot\"\r\n                ref={this.rootDivRef}\r\n                onPointerDown={this.onMouseDown}\r\n                style={{\r\n                    cursor: this.props.cursor || \"move\"\r\n                }}\r\n            >\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport \"./StackSpacer.css\";\r\nimport AdjustmentMove from \"../../Adjustment/AdjustmentMove\";\r\n\r\nexport default class StackSpacerResizer extends React.PureComponent{\r\n    render() {\r\n        return (\r\n            <div\r\n                className=\"StackSpacerResizerRoot\"\r\n            >\r\n                <AdjustmentMove\r\n                    onDragStart={this.props.onDragStart}\r\n                    onDrag={this.props.onDrag}\r\n                    onDragStop={this.props.onDragStop}\r\n                    cursor={this.props.cursor}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport \"./StackSpacer.css\";\r\nimport AdjustmentMove from \"../../Adjustment/AdjustmentMove\";\r\nimport StackSpacerResizer from \"./StackSpacerResizer\";\r\n\r\nexport default class StackSpacer extends React.PureComponent{\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            pointerEvents: \"auto\"\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.mounted = false;\r\n    }\r\n\r\n    setPointerEvents = (pointerEvents) => {\r\n        this.mounted && this.setState({pointerEvents});\r\n    };\r\n\r\n    updateSpacerData = (newHeight) => {\r\n        this.props.spacerData.height = newHeight;\r\n        this.props.stack.props.select.updateSize();\r\n        this.forceUpdate();\r\n    };\r\n\r\n    onClick = (e) => {\r\n        this.props.aglRef.current.onSelect(true);\r\n    };\r\n\r\n    onDragStart = (e) => {\r\n        if (this.props.onDragStart)\r\n            this.props.onDragStart(e);\r\n\r\n        this.dragData = {\r\n            lastMouseX: e.clientX,\r\n            lastMouseY: e.clientY,\r\n            firstHeight: this.props.spacerData.height\r\n        };\r\n    };\r\n\r\n    onDrag = (e) => {\r\n        e.preventDefault();\r\n        let deltaY = (e.clientY - this.dragData.lastMouseY);\r\n        let newHeight = this.dragData.firstHeight + deltaY;\r\n\r\n        newHeight = Math.max(0, newHeight);\r\n        this.updateSpacerData(newHeight);\r\n    };\r\n\r\n    onDragStop = (e) => {\r\n        if (this.props.onDragStop)\r\n            this.props.onDragStop(e);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div\r\n                className=\"StackSpacerRoot\"\r\n                style={{\r\n                    height: `${this.props.spacerData.height}px`,\r\n                    order: this.props.order,\r\n                    pointerEvents: this.state.pointerEvents\r\n                }}\r\n                onClick={this.onClick}\r\n                onMouseOver={this.props.onMouseOver}\r\n                onMouseEnter={this.props.onMouseEnter}\r\n                onMouseOut={this.props.onMouseOut}\r\n            >\r\n\r\n                <StackSpacerResizer\r\n                    onDragStart={this.onDragStart}\r\n                    onDrag={this.onDrag}\r\n                    onDragStop={this.onDragStop}\r\n                    cursor={\"ns-resize\"}\r\n                />\r\n\r\n                {\r\n                    this.props.aglRef.current.getSize(false).width > 150 &&\r\n                    <p\r\n                        className=\"StackSpacerText\"\r\n                    >\r\n                        Spacer\r\n                    </p>\r\n                }\r\n\r\n                <p\r\n                    className=\"StackSpacerSizeText\"\r\n                >\r\n                    {`${this.props.spacerData.height.toFixed(0)}px`}\r\n                </p>\r\n\r\n                <AdjustmentMove\r\n                    onDragStart={this.onDragStart}\r\n                    onDrag={this.onDrag}\r\n                    onDragStop={this.onDragStop}\r\n                    onClick={this.onClick}\r\n                    cursor={\"ns-resize\"}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport {isFixed, isStretch} from \"../../AwesomwGridLayoutHelper\";\r\nimport {appendStyle, cloneObject, updateStyle} from \"../../AwesomeGridLayoutUtils\";\r\nimport StackSpacerContainer from \"./StackSpacerContainer\";\r\nimport StackSpacer from \"./StackSpacer\";\r\n\r\nexport default class Stack extends AGLComponent{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            spacers: []\r\n        };\r\n        this.aglRef = React.createRef();\r\n        this.spacerContainerRef = React.createRef();\r\n\r\n        if (props.allSpacerData)\r\n            this.allSpacerData = props.allSpacerData;\r\n    }\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            isContainer: true,\r\n        };\r\n    };\r\n\r\n    getChildrenOverride = (sortedChildrenArray, agl) => { // [{child: child, zIndex: zIndex}], agl\r\n        return sortedChildrenArray.map((child, index) => {\r\n            return child.child;\r\n        });\r\n    };\r\n\r\n    lateMountedOverride = (agl) => {\r\n        agl.invalidateSize();\r\n        agl.addToSnap();\r\n        agl.onSelect(agl.getFromTempData(\"selected\"));\r\n\r\n        if (agl.props.onPageResize) {\r\n            let rect = agl.getSize(false, true);\r\n            agl.props.onPageResize(rect.width, agl, true);\r\n        }\r\n\r\n        agl.props.onChildMounted && agl.props.onChildMounted(agl);\r\n        if (this.props.lateMountedComplete)\r\n            this.props.lateMountedComplete(this);\r\n\r\n        this.setOrder();\r\n    };\r\n\r\n    calculateGridItemChildOverride = (child, relativeX, relativeY, parent, width, height, parentRect, fromState) =>\r\n    {\r\n        return this.calculateWrapper(child, relativeX, relativeY, parent, width, height, parentRect, fromState);\r\n    };\r\n\r\n    calculateChildGridItemOverride =\r\n        (child1, child, relativeX, relativeY, parent, width, height, parentRect, fromState) =>\r\n    {\r\n        return this.calculateWrapper(child, relativeX, relativeY, parent, width, height, parentRect, fromState);\r\n    };\r\n\r\n    calculateWrapper = (child, relativeX, relativeY, parent, width, height, parentRect, fromState) => {\r\n        if (!width) {\r\n            let rect = child.getSize(false, true);\r\n            width = rect.width;\r\n            height = rect.height;\r\n        }\r\n\r\n        if (!parentRect)\r\n            parentRect = parent.getSize(false, true);\r\n\r\n        let {gridArea, coordinates} = child.calculateGridArea(\r\n            parentRect.left + relativeX,\r\n            parentRect.top + relativeY,\r\n            width,\r\n            height,\r\n            parent,\r\n            parentRect\r\n        );\r\n\r\n        if (isFixed(child)) {\r\n            gridArea = {x1: 1, x2: 2, y1: 1, y2: 2};\r\n            coordinates = {\r\n                cy1: parentRect.top,\r\n                cy2: parentRect.top + parentRect.clientHeight,\r\n                cx1: parentRect.left,\r\n                cx2: parentRect.left + parentRect.clientWidth\r\n            }\r\n        }\r\n\r\n        let coordinatesAbs = cloneObject(coordinates);\r\n\r\n        child.coordinateToRelative(coordinates, parentRect);\r\n\r\n        let gridItemStyle = {...(child.state.gridItemStyle || child.props.defaultGridItemStyle)};\r\n        delete gridItemStyle.marginLeft;\r\n        delete gridItemStyle.marginRight;\r\n\r\n        gridItemStyle.gridArea = `${gridArea.y1}/${gridArea.x1}/${gridArea.y2}/${gridArea.x2}`;\r\n\r\n        let centerX = (relativeX  - coordinates.cx1) + width / 2;\r\n\r\n        let parentCenterMinusX = (coordinates.cx2 - coordinates.cx1) / 2 * (1 - 0.1);\r\n        let parentCenterPlusX = (coordinates.cx2 - coordinates.cx1) / 2 * (1 + 0.1);\r\n\r\n        let yLineRef = child.props.gridLine.getYlineRef(parent.props.id);\r\n        let cy2IsLastLine = gridArea.y2 === yLineRef.length || isFixed(child);\r\n\r\n        if (gridItemStyle.justifySelf !== \"stretch\") {\r\n            if (centerX < parentCenterPlusX && centerX > parentCenterMinusX) {\r\n                // child is center\r\n                let centerDiff = (centerX - (coordinates.cx2 - coordinates.cx1) / 2);\r\n                gridItemStyle.alignSelf = \"center\";\r\n                gridItemStyle.marginRight = `0${child.getUnit(gridItemStyle.marginRight)}`;\r\n                gridItemStyle.marginLeft =\r\n                    `${(centerDiff * 2).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginLeft)}`;\r\n            } else if (centerX > parentCenterPlusX) {\r\n                gridItemStyle.alignSelf = \"flex-end\";\r\n                gridItemStyle.marginRight =\r\n                    `${(coordinates.cx2 - (relativeX + width)).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginRight)}`;\r\n                gridItemStyle.marginLeft = `0${child.getUnit(gridItemStyle.marginLeft)}`;\r\n            } else {\r\n                gridItemStyle.alignSelf = \"flex-start\";\r\n                gridItemStyle.marginRight = `0${child.getUnit(gridItemStyle.marginRight)}`;\r\n                gridItemStyle.marginLeft =\r\n                    `${(relativeX - coordinates.cx1).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginLeft)}`;\r\n            }\r\n\r\n            // if (cy2IsLastLine && (relativeY + height >= coordinates.cy2)) {\r\n            // gridItemStyle.alignSelf = \"end\";\r\n            // gridItemStyle.marginBottom =\r\n            //     `${(coordinates.cy2 - relativeY - height).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginBottom)}`;\r\n            // gridItemStyle.marginTop =`0${child.getUnit(gridItemStyle.marginBottom)}`;\r\n            // } else {\r\n            // gridItemStyle.alignSelf = \"start\";\r\n            // gridItemStyle.marginBottom = `0${child.getUnit(gridItemStyle.marginBottom)}`;\r\n            // gridItemStyle.marginTop =\r\n            //     `${(relativeY - coordinates.cy1).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginTop)}`;\r\n            // }\r\n        } else {\r\n            gridItemStyle.marginRight =\r\n                `${(coordinates.cx2 - (relativeX + width)).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginRight)}`;\r\n            gridItemStyle.marginLeft =\r\n                `${(relativeX - coordinates.cx1).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginLeft)}`;\r\n\r\n            // gridItemStyle.marginBottom =\r\n            //     `${(coordinates.cy2 - relativeY - height).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginBottom)}`;\r\n            // gridItemStyle.marginTop =\r\n            //     `${(relativeY - coordinates.cy1).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginTop)}`;\r\n        }\r\n\r\n        delete gridItemStyle.justifySelf;\r\n        delete gridItemStyle.marginTop;\r\n        delete gridItemStyle.marginBottom;\r\n        delete gridItemStyle.gridArea;\r\n\r\n        child.setDataInBreakpoint(\"relativeY\", relativeY);\r\n\r\n        this.setOrder(child.props.id, child, relativeY, height, fromState);\r\n\r\n        child.setStyleParam(\"height\", \"auto\");\r\n\r\n        return {gridItemStyle, gridArea, coordinates, coordinatesAbs};\r\n    };\r\n\r\n    setOrder = (childId, child, childRelativeY, childHeight, fromState) => {\r\n        let childFound = false;\r\n        let childOrderSet = false;\r\n        let sorted = Object.values(this.aglRef.current.allChildRefs).sort((a,b) => {\r\n            if (a && a.current && b && b.current){\r\n                if (a.current.props.id === childId || b.current.props.id === childId)\r\n                    childFound = true;\r\n\r\n                let relativeYA = a.current.getFromData(\"relativeY\");\r\n                let relativeYB = b.current.getFromData(\"relativeY\");\r\n                if (relativeYA < relativeYB) {\r\n                    return -1;\r\n                } else if (relativeYA === relativeYB) {\r\n                    // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                    if (childId === a.current.props.id)\r\n                        return -1;\r\n                    else if (childId === b.current.props.id)\r\n                        return 1;\r\n                    else\r\n                        return 0;\r\n                }\r\n                return 1;\r\n            } else {\r\n                return 0;\r\n            }\r\n        });\r\n\r\n        let order = 1;\r\n        let relativeY = 0;\r\n        let spacers = [];\r\n        let length = sorted.filter(childRef => {\r\n            return (childRef && childRef.current);\r\n        }).length;\r\n\r\n        sorted.forEach((childRef, index) => {\r\n            if (childRef && childRef.current) {\r\n                if (childRelativeY && !childFound) {\r\n                    let relativeY2 = childRef.current.getFromData(\"relativeY\");\r\n                    if (!childOrderSet && relativeY2 > childRelativeY) {\r\n                        childOrderSet = true;\r\n                        child.setStyleParam(\"order\", order);\r\n                        child.setDataInBreakpoint(\"order\", order);\r\n                        order++;\r\n                    }\r\n                }\r\n                childRef.current.setStyleParam(\"order\", order);\r\n                childRef.current.setDataInBreakpoint(\"order\", order);\r\n                childRef.current.setDataInBreakpoint(\"relativeY\", relativeY);\r\n                let size = childRef.current.getSize(false);\r\n                relativeY += size.height;\r\n\r\n                if (childId === childRef.current.props.id) {\r\n                    childOrderSet = true;\r\n                }\r\n                order++;\r\n\r\n                if (length > index + 1) {\r\n                    spacers[index] = this.getSpacer(index, order);\r\n                    relativeY+= this.getSpacerData(index).height;\r\n                    order++;\r\n                }\r\n            }\r\n        });\r\n\r\n        if (child && !childOrderSet) {\r\n            childOrderSet = true;\r\n            child.setStyleParam(\"order\", order);\r\n            child.setDataInBreakpoint(\"order\", order);\r\n            order++;\r\n        }\r\n\r\n        this.spacerContainerRef.current.updateSpacers(spacers);\r\n        setTimeout(() => {\r\n            this.props.select.updateSize();\r\n        }, 0);\r\n    };\r\n\r\n    getSpacer = (index, order) => {\r\n        if (!this.allSpacerData) {\r\n            this.allSpacerData = [];\r\n        }\r\n        if (!this.allSpacerRef) {\r\n            this.allSpacerRef = [];\r\n        }\r\n\r\n        if (!this.allSpacerData[index]) {\r\n            this.allSpacerData[index] = {\r\n                height: 20\r\n            };\r\n        }\r\n\r\n        if (!this.allSpacerRef[index]) {\r\n            this.allSpacerRef[index] = React.createRef();\r\n        }\r\n\r\n        return <StackSpacer\r\n            key={index}\r\n            order={order}\r\n            spacerData={this.allSpacerData[index]}\r\n            ref={this.allSpacerRef[index]}\r\n            aglRef={this.aglRef}\r\n            onDragStart={this.onStackDragStart}\r\n            onDragStop={this.onStackDragStop}\r\n            stack={this}\r\n            onMouseOver={this.onMouseOverSpacer}\r\n            onMouseEnter={this.onMouseEnterSpacer}\r\n            onMouseOut={this.onMouseOutSpacer}\r\n        />;\r\n    };\r\n\r\n    onStackDragStart = (e) => {\r\n        this.aglRef.current.setTempData(\"dontMove\", true);\r\n    };\r\n\r\n    onStackDragStop = (e) => {\r\n        this.aglRef.current.setTempData(\"dontMove\", false);\r\n    };\r\n\r\n    getSpacerData = (index) => {\r\n        if (!this.allSpacerData) {\r\n            this.allSpacerData = [];\r\n        }\r\n        if (!this.allSpacerRef) {\r\n            this.allSpacerRef = [];\r\n        }\r\n\r\n        if (!this.allSpacerData[index]) {\r\n            this.allSpacerData[index] = {\r\n                height: 20\r\n            };\r\n        }\r\n\r\n        return this.allSpacerData[index];\r\n    };\r\n\r\n    setMouseOverOverride = (agl, item, positionData, callback) => {\r\n        this.setPointerEventOfSpacers(\"none\");\r\n        return this.props.dragdrop.setMouseOver(item, positionData, callback);\r\n    };\r\n\r\n    setMouseOverForNonDraggingOverride = (agl) => {\r\n        this.setPointerEventOfSpacers(\"auto\");\r\n        agl.props.dragdrop.setMouseOverForNonDragging(agl);\r\n    };\r\n\r\n    setPointerEventOfSpacers = (pointerEvents) => {\r\n        if (!this.allSpacerRef)\r\n            this.allSpacerRef = [];\r\n\r\n        this.allSpacerRef.forEach((spacerRef) => {\r\n            if (spacerRef && spacerRef.current)\r\n                spacerRef.current.setPointerEvents(pointerEvents);\r\n        })\r\n    };\r\n\r\n    setGridItemStyleChildOverride = (child, newGridItemStyle) => {\r\n        let gridItemStyle = {...newGridItemStyle};\r\n        delete gridItemStyle.gridArea;\r\n        child.setDataInBreakpoint(\"gridItemStyle\", gridItemStyle);\r\n        let styleNode = document.getElementById(child.getGridItemStyleId());\r\n\r\n        if (!styleNode) {\r\n            appendStyle(gridItemStyle, child.getGridItemStyleId(), child.getGridItemStyleId(), this.getAgl());\r\n        } else {\r\n            updateStyle(styleNode, gridItemStyle, child.getGridItemStyleId());\r\n        }\r\n    };\r\n\r\n    modifyContainerStyleOverride = (container, agl, grid, aglStyle) => {\r\n        let style;\r\n\r\n        style = {\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            position: \"relative\"\r\n        };\r\n\r\n        let styleNode = document.getElementById(container.getContainerStyleId());\r\n\r\n        if (!styleNode) {\r\n            appendStyle(style, container.getContainerStyleId(), container.getContainerStyleId(), this.getAgl());\r\n        } else {\r\n            updateStyle(styleNode, style, container.getContainerStyleId());\r\n        }\r\n    };\r\n\r\n    onChildLeaveOverride = (agl, child) => {\r\n        agl.removeChildElement(child);\r\n        child.removeIdAndChildrenId();\r\n\r\n        this.setOrder();\r\n\r\n        if (!agl.removing && Object.values(agl.allChildRefs).length === 1) {\r\n            agl.removing = true;\r\n            setTimeout(() => {\r\n                Object.values(agl.allChildRefs)[0] &&\r\n                this.props.dragdrop.dropItem(\r\n                    Object.values(agl.allChildRefs)[0].current,\r\n                    Object.values(agl.allChildRefs)[0].current.props.parent,\r\n                    this.props.parent, undefined, false, 2);\r\n            }, 0);\r\n        }\r\n    };\r\n\r\n    stretchChildOverride = (child, item) => {\r\n        if (!item.props.parent)\r\n            return;\r\n\r\n        let stretch = false;\r\n        let gridItemStyle = item.getFromData(\"gridItemStyle\");\r\n\r\n\r\n        if (!isStretch(item, true)) {\r\n            stretch = true;\r\n        }\r\n\r\n        gridItemStyle.alignSelf = stretch? \"stretch\": \"center\";\r\n        gridItemStyle.marginLeft = \"0px\";\r\n        gridItemStyle.marginRight = \"0px\";\r\n        item.setStyleParam(\"width\", \"100%\");\r\n\r\n        if (!stretch) {\r\n            item.setStyleParam(\"width\", \"80%\");\r\n        }\r\n\r\n        item.setGridItemStyle(gridItemStyle);\r\n        item.props.select.onScrollItem();\r\n    };\r\n\r\n    isStretchChildOverride = (child, item, log) => {\r\n        if (!item.props.parent)\r\n            return false;\r\n\r\n        let gridItemStyle = item.getFromData(\"gridItemStyle\");\r\n\r\n        return !(gridItemStyle.alignSelf !== \"stretch\" ||\r\n            gridItemStyle.marginLeft !== \"0px\" ||\r\n            gridItemStyle.marginRight !== \"0px\");\r\n    };\r\n\r\n    setStyleParamOverride = (agl, param, value, data) => {\r\n        if (param === \"height\" || param === \"minHeight\")\r\n            return;\r\n\r\n        let style = !data? agl.getFromData(\"style\"): agl.getFromData(\"style\", data);\r\n        style[param] = value;\r\n        if (value === undefined)\r\n            delete style[param];\r\n        agl.setStyle(style, data);\r\n    };\r\n\r\n    onMouseOverSpacer = (e) => {\r\n        this.aglRef.current.onMouseOver(e);\r\n    };\r\n\r\n    onMouseEnterSpacer = (e) => {\r\n        this.aglRef.current.onMouseEnter(e);\r\n    };\r\n\r\n    onMouseOutSpacer = (e) => {\r\n        this.aglRef.current.onMouseOut(e);\r\n    };\r\n\r\n    onChildAdd = () => {\r\n        this.getAgl().removing = false;\r\n    };\r\n\r\n    render() {\r\n        return [\r\n            <AGLWrapper tagName=\"Stack\"\r\n                        key=\"Stack\"\r\n                        aglRef={!this.props.aglRef? this.aglRef: this.aglRef = this.props.aglRef}\r\n                        {...this.props}\r\n                        data={this.getData()}\r\n                        style={{...{\r\n                            height: \"auto\"\r\n                        }, ...this.props.style}}\r\n                        getChildrenOverride={this.getChildrenOverride}\r\n                        isStack={true}\r\n                        resizeSides={['e','w']}\r\n                        onDragStartChildOverride={this.onDragStartChildOverride}\r\n                        onDragChildOverride={this.onDragChildOverride}\r\n                        onDragStopChildOverride={this.onDragStopChildOverride}\r\n                        setGridItemStyleChildOverride={this.setGridItemStyleChildOverride}\r\n                        calculateGridItemChildOverride={this.calculateGridItemChildOverride}\r\n                        calculateChildGridItemOverride={this.calculateChildGridItemOverride}\r\n                        modifyContainerStyleOverride={this.modifyContainerStyleOverride}\r\n                        setMouseOverOverride={this.setMouseOverOverride}\r\n                        setMouseOverForNonDraggingOverride={this.setMouseOverForNonDraggingOverride}\r\n                        stretchChildOverride={this.stretchChildOverride}\r\n                        isStretchChildOverride={this.isStretchChildOverride}\r\n                        lateMountedOverride={this.lateMountedOverride}\r\n                        setStyleParamOverride={this.setStyleParamOverride}\r\n                        onChildLeaveOverride={this.onChildLeaveOverride}\r\n                        onChildAdd={this.onChildAdd}\r\n\r\n            >\r\n            </AGLWrapper>,\r\n            <StackSpacerContainer ref={this.spacerContainerRef} key=\"spacers\"\r\n                                  aglRef={this.aglRef}\r\n                                  document={this.props.document}\r\n            />\r\n        ]\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport Divider from \"../Menus/CommonComponents/Divider\";\r\nimport MenuItem from \"@material-ui/core/MenuItem/MenuItem\";\r\nimport {LightMenuTooltip} from \"../Components/Containers/Menus/Components/LightTooltip\";\r\nimport {isLeftClick} from \"../AwesomwGridLayoutHelper\";\r\nimport Popper from \"@material-ui/core/Popper/Popper\";\r\nimport Paper from \"@material-ui/core/Paper/Paper\";\r\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener/ClickAwayListener\";\r\nimport MenuList from \"@material-ui/core/MenuList/MenuList\";\r\n\r\nexport default class ContextMenu extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n\r\n    getFakeAnchor = (clientX, clientY) => {\r\n        return {\r\n            clientWidth: 0,\r\n            clientHeight: 0,\r\n            getBoundingClientRect: () => {\r\n                return {\r\n                    top: clientY,\r\n                    left: clientX,\r\n                    width: 0,\r\n                    height: 0,\r\n                    bottom: clientY,\r\n                    right: clientX\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    render () {\r\n        let {menu, clientX, clientY, popperStyle, onClose} = this.props;\r\n        return (\r\n            <>\r\n                <Popper\r\n                    style={{...{\r\n                            zIndex: 99999999999999\r\n                        }, ...popperStyle}}\r\n                    // anchorReference=\"anchorPosition\"\r\n                    // anchorPosition={\r\n                    //     clientY !== null && clientX !== null\r\n                    //         ? { top: clientY, left: clientX }\r\n                    //         : undefined\r\n                    // }\r\n                    anchorEl={this.getFakeAnchor(clientX, clientY)}\r\n                    open={true}\r\n                    onContextMenu={(e) => {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }}\r\n                    placement=\"bottom-start\"\r\n                >\r\n                    <Paper style={{\r\n                        boxShadow: '0px 5px 5px -3px rgba(0,0,0,0.2), 0px 8px 10px 1px rgba(0,0,0,0.14), 0px 3px 14px 2px rgba(0,0,0,0.12)',\r\n                    }}>\r\n                        <ClickAwayListener onClickAway={onClose} mouseEvent='onMouseDown'>\r\n                            <MenuList autoFocusItem={true} style={{padding: 0}}\r\n                                      onPointerDown={(e) => {\r\n                                          e.preventDefault();\r\n                                          e.stopPropagation();\r\n                                      }}\r\n                            >\r\n                                {\r\n                                    menu.map((section, i) => {\r\n                                        let hasDivider = (i !== menu.length - 1);\r\n                                        return (\r\n                                            [\r\n                                                section.map((menuItem, j) => {\r\n                                                    return (\r\n                                                        <ContextMenuItem\r\n                                                            key={`${i}${j}`}\r\n                                                            onClose={onClose}\r\n                                                            menuItem={menuItem}\r\n                                                        />\r\n                                                    )\r\n                                                }),\r\n                                                hasDivider && <Divider style={{\r\n                                                    width: \"100%\",\r\n                                                    margin: 0,\r\n                                                    display: \"block\"\r\n                                                }}/>\r\n                                            ]\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </MenuList>\r\n                        </ClickAwayListener>\r\n                    </Paper>\r\n                </Popper>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport class ContextMenuItem extends React.Component {\r\n    render () {\r\n        let {menuItem, onClose} = this.props;\r\n\r\n        if (!menuItem.subMenu)\r\n            return (\r\n                <MenuItem\r\n                    dense\r\n                    onClick={(e) => {\r\n                        if (menuItem.onClick) {\r\n                            menuItem.onClick(e);\r\n                            onClose && onClose(e);\r\n                        }\r\n                    }}\r\n                    onPointerDown={(e) => {\r\n                        if (!isLeftClick(e)) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                        }\r\n                    }}\r\n                >\r\n                    <span style={{\r\n                        display: \"grid\",\r\n                        gridTemplateColumns: \"1fr auto\",\r\n                        alignItems: \"center\",\r\n                        width: \"100%\"\r\n                    }}>\r\n                        {menuItem.name}\r\n                        <span style={{\r\n                            fontSize: 10,\r\n                            marginLeft: 24,\r\n                            color: \"#9a9a9a\"\r\n                        }}>\r\n                            {\r\n                                menuItem.shortcut\r\n                            }\r\n                        </span>\r\n                    </span>\r\n                </MenuItem>\r\n            );\r\n        else\r\n            return (\r\n                <LightMenuTooltip\r\n                    title={\r\n                        menuItem.subMenu.map((menuItem, j) => {\r\n                            return (\r\n                                <ContextMenuItem\r\n                                    key={`${j}`}\r\n                                    onClose={onClose}\r\n                                    menuItem={menuItem}\r\n                                />\r\n                            )\r\n                        })\r\n                    }\r\n                    interactive\r\n                    placement=\"right\"\r\n                    leaveDelay={200}\r\n                    PopperProps={{\r\n                        style: {\r\n                            zIndex: 99999999999999,\r\n                        },\r\n                        modifiers:{\r\n                            flip: {\r\n                                enabled: true,\r\n                            },\r\n                            preventOverflow: {\r\n                                enabled: true,\r\n                                boundariesElement: 'viewport',\r\n                            },\r\n                        }}\r\n                    }\r\n                >\r\n                    <MenuItem\r\n                        dense\r\n                        onPointerDown={(e) => {\r\n                            e.preventDefault();\r\n                            e.stopPropagation()\r\n                        }}\r\n                    >\r\n                        <span style={{\r\n                            display: \"grid\",\r\n                            gridTemplateColumns: \"1fr auto\",\r\n                            alignItems: \"center\",\r\n                            width: \"100%\"\r\n                        }}>\r\n                            {menuItem.name}\r\n                            <img draggable={false} width={8} height={8}\r\n                                 src={process.env.PUBLIC_URL + '/static/icon/right-arrow.svg'}\r\n                                style={{\r\n                                    marginLeft: 24,\r\n                                    color: \"#9a9a9a\"\r\n                                }}\r\n                            />\r\n                    </span>\r\n                    </MenuItem>\r\n                </LightMenuTooltip>\r\n            )\r\n    }\r\n}\r\n\r\n/*\r\n* Structure of input menu object\r\n* [\r\n*   [ // each section has one array\r\n    *   {\r\n    *       name: \"delete\",\r\n    *       onClick: function,\r\n    *       icon: <img ... />\r\n    *       shortcut: \"Ctrl + D\"\r\n    *       subMenu: {other Menu}\r\n    *   }\r\n*   ]\r\n* ]\r\n* */\r\n","import React from \"react\";\r\nimport './AwesomwGridLayoutHelper.css';\r\nimport {isLeftClick} from \"./AwesomwGridLayoutHelper\";\r\n\r\nexport default class SelectManager {\r\n    constructor() {\r\n        window.addEventListener(\"keydown\",(e) =>{\r\n            e = e || window.event;\r\n            let key = e.which || e.keyCode; // keyCode detection\r\n            this.ctrl = e.ctrlKey ? e.ctrlKey : (key === 17); // ctrl detection\r\n        });\r\n        window.addEventListener(\"keyup\",(e) =>{\r\n            e = e || window.event;\r\n            let key = e.which || e.keyCode; // keyCode detection\r\n            if (key === 17) {\r\n                this.ctrl = false;\r\n            }\r\n        });\r\n\r\n        this.ctrl = false;\r\n        this.shift = false;\r\n        this.alt = false;\r\n\r\n        this.mouseDown = 0;\r\n        window.addEventListener(\"mousedown\",(e) =>{\r\n            if (isLeftClick(e))\r\n                this.mouseDown = 1;\r\n        });\r\n        window.addEventListener(\"mouseup\",(e) =>{\r\n            if (isLeftClick(e) && this.mouseDown > 0)\r\n                this.mouseDown = 0;\r\n        });\r\n    }\r\n}\r\n","import {throttleDebounce} from \"./AwesomeGridLayoutUtils\";\r\nimport {\r\n    createStack,\r\n    getSectionId,\r\n} from \"./AwesomwGridLayoutHelper\";\r\nimport ContainerBase from \"./Components/Containers/ContainerBase\";\r\nimport React from \"react\";\r\nimport './AwesomwGridLayoutHelper.css';\r\nimport throttle from \"lodash.throttle\";\r\nimport Text from \"./Components/Text/Text\";\r\n\r\nexport default class SelectManager {\r\n    constructor(inputManager, groupSelectRef, pageAglRef, miniMenuHolderRef,\r\n                inspectorRef, resizeRef, helpLinesRef, hoverRef) {\r\n        this.inputManager = inputManager;\r\n        this.groupSelectRef = groupSelectRef;\r\n        this.pageAglRef = pageAglRef;\r\n        this.miniMenuHolderRef = miniMenuHolderRef;\r\n        this.inspectorRef = inspectorRef;\r\n        this.resizeRef = resizeRef;\r\n        this.helpLinesRef = helpLinesRef;\r\n        this.hoverRef = hoverRef;\r\n        window.addEventListener(\"keydown\",(e) =>{\r\n            e = e || window.event;\r\n            let key = e.which || e.keyCode; // keyCode detection\r\n            let ctrl = e.ctrlKey ? e.ctrlKey : (key === 17); // ctrl detection\r\n\r\n            if ( key === 71 && ctrl ) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + G\");\r\n                this.editGrid();\r\n            }\r\n            if ( key === 49 && ctrl ) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + 1\");\r\n                this.test1();\r\n            }\r\n            if ( key === 50 && ctrl ) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + 2\");\r\n                this.test2();\r\n            }\r\n            if ( key === 51 && ctrl ) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + 3\");\r\n                this.test3();\r\n            }\r\n        });\r\n    }\r\n\r\n    setContext = (editorContext) => {\r\n        this.context = editorContext;\r\n    }\r\n\r\n    getPageOverflowRef = () => {\r\n        if (this.pageAglRef.current)\r\n            return this.pageAglRef.current.overflowRef.current;\r\n    };\r\n\r\n    editGrid = (item) => {\r\n        if (!this.getSelected()) {\r\n            this.selectedItem = item;\r\n        } else if (!item){\r\n            item = this.getSelected();\r\n        }\r\n\r\n        if (!item)\r\n            return;\r\n\r\n        item.editGrid();\r\n    };\r\n\r\n    selectItem = (item, clicked, dontUpdateAdjustments) => {\r\n        if (!this.getSelected()) {\r\n            this.selectedItem = item;\r\n        }\r\n\r\n        if (this.inputManager.ctrl && clicked && getSectionId(this.selectedItem) === getSectionId(item)) {\r\n            this.createGroup(item);\r\n            return;\r\n        } else if (this.inputManager.ctrl){\r\n            // TODO can notify to user that can't select multiple item from different section\r\n            this.clearGroup();\r\n        } else {\r\n            this.clearGroup();\r\n        }\r\n\r\n        if (this.selectedItem.props.id !== item.props.id){\r\n            this.selectedItem.onSelect(false, undefined, true);\r\n        }\r\n\r\n        if (!dontUpdateAdjustments) {\r\n            if (this.selectedItem.props.id !== item.props.id){\r\n                this.updateMenu();\r\n            }\r\n\r\n            this.updateMiniMenu(item);\r\n            this.setInspector(\r\n                item.props.getInspector()\r\n            );\r\n            this.updateResizePanes(item, item.getSize(false));\r\n        }\r\n\r\n        this.selectedItem = item;\r\n    };\r\n\r\n    clearMiniMenu = () => {\r\n        this.miniMenuHolderRef.current.clearMiniMenu();\r\n    };\r\n\r\n    onContextMenu = (e, item) => {\r\n        this.miniMenuHolderRef.current.onContextMenu(e, item);\r\n    };\r\n\r\n    updateMiniMenu = (item) => {\r\n        if(!item)\r\n            item = this.getSelected();\r\n\r\n        if (item && item.hasMiniMenu())\r\n            this.miniMenuHolderRef.current.addMiniMenu(item);\r\n        else\r\n            this.clearMiniMenu();\r\n    };\r\n\r\n    updateMenu = (menu) => {\r\n        this.miniMenuHolderRef.current.addMenu(menu);\r\n    };\r\n\r\n    setInspector = (inspectorMenu) => {\r\n        this.inspectorRef.current.setMenu(inspectorMenu);\r\n    };\r\n\r\n    clearGroup = () => {\r\n        if (!this.group)\r\n            return;\r\n\r\n        this.group.forEach(item => {\r\n            item.setState({groupSelected: false,\r\n                groupDragStart: undefined,\r\n                groupDrag: undefined,\r\n                groupDragStop: undefined,\r\n            });\r\n            item.onSelect(false, undefined, true);\r\n        });\r\n\r\n        this.group = undefined;\r\n\r\n        this.updateGroupRect();\r\n    };\r\n\r\n    createGroup = (item) => {\r\n        let selectedItem = this.selectedItem;\r\n        this.selectedItem = undefined;\r\n\r\n        if (!this.group) {\r\n            this.group = [];\r\n            selectedItem && this.group.push(selectedItem);\r\n        }\r\n\r\n        item && this.group.push(item);\r\n\r\n        this.updateResizePanes();\r\n\r\n        this.group.forEach(item => {\r\n            item.setState({groupSelected: true,\r\n                groupDragStart: this.groupDragStart,\r\n                groupDrag: this.groupDrag,\r\n                groupDragStop: this.groupDragStop,\r\n            });\r\n        });\r\n\r\n        this.updateGroupRect();\r\n        this.clearMiniMenu();\r\n        this.updateMenu();\r\n    };\r\n\r\n    groupDragStart = (e, mainItem) => {\r\n        this.group.forEach(item => {\r\n            if (mainItem !== item)\r\n                item.onDragStart(e, true);\r\n        });\r\n    };\r\n\r\n    groupDrag = (e, mainItem) => {\r\n        this.group.forEach(item => {\r\n            if (mainItem !== item)\r\n                item.onDrag(e, true);\r\n        });\r\n\r\n        this.updateGroupRect();\r\n    };\r\n\r\n    groupDragStop = (e, mainItem) => {\r\n        this.group.forEach(item => {\r\n            if (mainItem !== item)\r\n                item.onDragStop(e, true);\r\n        });\r\n\r\n        this.updateGroupRect();\r\n    };\r\n\r\n    deleteGroup = () => {\r\n        if (!this.group) {\r\n            return;\r\n        }\r\n\r\n        this.group.forEach(item => {\r\n            item.delete();\r\n        });\r\n\r\n        this.clearGroup();\r\n    };\r\n\r\n    updateGroupRect = () => {\r\n        if (!this.group) {\r\n            this.groupSelectRef.current && this.groupSelectRef.current.updateRect();\r\n            return;\r\n        }\r\n\r\n        let firstRect = this.group[0].getSize(false, true);\r\n        let top = firstRect.top;\r\n        let left = firstRect.left;\r\n        let bottom = window.innerHeight - firstRect.top - firstRect.height;\r\n        let right =  window.innerWidth - firstRect.left - firstRect.width;\r\n\r\n        this.group.slice(1, this.group.length).forEach(item => {\r\n            let rect = item.getSize(false, true);\r\n            top = Math.min(top, rect.top);\r\n            left = Math.min(left, rect.left);\r\n            bottom = Math.min(bottom, window.innerHeight - rect.top - rect.height);\r\n            right = Math.min(right, window.innerWidth - rect.left - rect.width);\r\n        });\r\n\r\n        this.groupSelectRef.current.updateRect({\r\n            top, left, bottom, right\r\n        }, this.group);\r\n    };\r\n\r\n    getSelected = () => {\r\n        return this.selectedItem;\r\n    };\r\n\r\n    updateParentsRect = throttleDebounce(() => {\r\n        if (!this.getSelected() || !this.getSelected().mounted)\r\n            return;\r\n\r\n        let item = this.getSelected();\r\n\r\n        if (item.props.parent)\r\n            item.props.parent.prepareRects(true, true);\r\n        if (item.state.helpLinesParent && item.state.helpLinesParent !== item.props.parent)\r\n            item.state.helpLinesParent.prepareRects(true, true);\r\n    }, 40);\r\n\r\n    isEditor = () => {\r\n        return !this.context.preview;\r\n    }\r\n\r\n    // change grid line positions and resize panes\r\n    onScrollItem = throttleDebounce(() => {\r\n        if (!this.isEditor())\r\n            return;\r\n\r\n        this.updateGroupRect();\r\n\r\n        if (!this.getSelected() || !this.getSelected().mounted)\r\n            return;\r\n\r\n        let item = this.getSelected();\r\n\r\n        if (item.props.parent)\r\n            item.props.parent.prepareRects();\r\n        if (item.state.helpLinesParent && item.state.helpLinesParent !== item.props.parent)\r\n            item.state.helpLinesParent.prepareRects();\r\n\r\n        let size = item.getSize(false, true);\r\n        item.updateGridLines(\r\n            size.top, size.left,\r\n            window.innerHeight - size.top - size.height,\r\n            window.innerWidth - size.left - size.width,\r\n            \"A\"\r\n        );\r\n        item.updateGridEditor();\r\n        this.updateMiniMenu();\r\n        this.updateResizePanes(item, size);\r\n\r\n        this.updateHelpSizeLines(item, item.state.helpLinesParent, size, item.state.dragging,\r\n            item.getBoundarySize(true));\r\n        this.updateHover(item, size);\r\n    }, 50);\r\n\r\n    // updateSize\r\n    updateSize = throttleDebounce(() => {\r\n        if (!this.getSelected() || !this.getSelected().mounted)\r\n            return;\r\n\r\n        let item = this.getSelected();\r\n\r\n        let size = item.getSize(true, true);\r\n\r\n        this.updateResizePanes(item, size);\r\n    }, 100);\r\n\r\n    updateResizePanes = (item, data) => {\r\n        this.resizeRef.current.update(item, data, item && item.getTransformStyleId());\r\n    };\r\n\r\n    updateHelpLines = throttle((item, helpLineParent, itemRect, dragging) => {\r\n        this.updateHelpSizeLines(item, helpLineParent, itemRect, dragging,\r\n            item.getBoundarySize());\r\n    }, 50);\r\n\r\n    getRuntimeGridItemStyle = () => {\r\n        if (this.helpLinesRef.current)\r\n            return this.helpLinesRef.current.getRuntimeGridItemStyle();\r\n    };\r\n\r\n    updateHover = (item, size, clear) => {\r\n        this.hoverRef.current.update(item, size, clear);\r\n    };\r\n\r\n    activateHover = (active) => {\r\n        this.hoverRef.current.activate(active);\r\n    };\r\n\r\n    activateResize = (active) => {\r\n        this.resizeRef.current.activate(active);\r\n    };\r\n\r\n    updateHelpSizeLines = (item, helpLineParent, itemRect, dragging, fakeItemRect) => {\r\n        if (this.helpLinesRef.current)\r\n            this.helpLinesRef.current.update(item, helpLineParent, itemRect, dragging, fakeItemRect);\r\n    };\r\n\r\n    test1 = () => {\r\n        createStack(this.group);\r\n    };\r\n\r\n    test2 = () => {\r\n        let item = this.getSelected();\r\n        if (!item)\r\n            return;\r\n\r\n        let child =\r\n            <Text\r\n                style={{\r\n                    width: \"50%\",\r\n                    height: \"auto\"\r\n                }}\r\n                data={{\r\n                    textStaticData: {\r\n                        textValue: \"Normal Text\"\r\n                    },\r\n                    bpData: {\r\n                        design: {\r\n                            textDesignData: {\r\n                                textTheme: \"Heading 6\"\r\n                            }\r\n                        }\r\n                    }\r\n                }}\r\n            />;\r\n\r\n        item.addChild(child, undefined, undefined, undefined, (agl) => {\r\n        }, undefined, true);\r\n    };\r\n\r\n    test3 = () => {\r\n        let item = this.getSelected();\r\n        if (!item)\r\n            return;\r\n\r\n        item.playAnimation();\r\n    };\r\n}\r\n","export default class SnapManager {\r\n    constructor (snapThreshold, snapSvgRef) {\r\n        this.snaps = {};\r\n        this.snapThreshold = snapThreshold || 10;\r\n        this.snapSvgRef = snapSvgRef;\r\n    }\r\n\r\n    addSnap = (id, horizontals = [], verticals = [], parentsId) => {\r\n        this.snaps[id] = {\r\n            horizontals, verticals, id, parentsId\r\n        };\r\n    };\r\n\r\n    removeSnap = (id) => {\r\n        delete this.snaps[id];\r\n    };\r\n\r\n    checkSnap = (top, left, ignoreId, additionalSnaps = []) => {\r\n        let snapH, snapV;\r\n        let topUp = top + this.snapThreshold;\r\n        let topDown = top - this.snapThreshold;\r\n        let leftUp = left + this.snapThreshold;\r\n        let leftDown = left - this.snapThreshold;\r\n\r\n        let snaps = Object.values(this.snaps);\r\n        snaps = snaps.concat(additionalSnaps);\r\n\r\n        for (let i = 0; i < snaps.length; i++) {\r\n            let snap = snaps[i];\r\n            if (!snap)\r\n                continue;\r\n\r\n            if (snap.id === ignoreId)\r\n                continue;\r\n            if (snap.parentsId && snap.parentsId.includes(ignoreId))\r\n                continue;\r\n\r\n            if (!snapH){\r\n                for (let h = 0; h < snap.horizontals.length; h++) {\r\n                    let horizontal = snap.horizontals[h];\r\n                    if (!horizontal)\r\n                        continue;\r\n                    if (horizontal.value <= topUp && horizontal.value >= topDown) {\r\n                        snapH = horizontal;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!snapV) {\r\n                for (let v = 0; v < snap.verticals.length; v++) {\r\n                    let vertical = snap.verticals[v];\r\n                    if (!vertical)\r\n                        continue;\r\n                    if (vertical.value <= leftUp && vertical.value >= leftDown) {\r\n                        snapV = vertical;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (snapH && snapV)\r\n                break;\r\n        }\r\n\r\n        return {snapH, snapV};\r\n    }\r\n\r\n    drawSnap = (snapH, snapV, pointOfSnapH, pointOfSnapV) => {\r\n        this.snapSvgRef.current.update(snapH, snapV, pointOfSnapH, pointOfSnapV)\r\n    }\r\n}\r\n","import {createItem} from \"./AwesomwGridLayoutHelper\";\r\nimport {cloneObject} from \"./AwesomeGridLayoutUtils\";\r\nimport throttle from \"lodash.throttle\";\r\n\r\nexport default class CopyManager {\r\n    constructor(selectManager, pageRef, dragdrop) {\r\n        this.selectManager = selectManager;\r\n        this.pageRef = pageRef;\r\n        this.dragdrop = dragdrop;\r\n\r\n        window.addEventListener(\"keydown\",(e) =>{\r\n            e = e || window.event;\r\n            let key = e.which || e.keyCode; // keyCode detection\r\n            let ctrl = e.ctrlKey ? e.ctrlKey : (key === 17); // ctrl detection\r\n\r\n            if ( key === 86 && ctrl ) {\r\n                console.log(\"ctrl + V\");\r\n                this.paste();\r\n            } else if ( key === 67 && ctrl ) {\r\n                console.log(\"ctrl + C\");\r\n                this.copy();\r\n            } else if ( key === 68 && ctrl ) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + D\");\r\n                this.duplicate();\r\n            } else if ( key === 46 ) {\r\n                console.log(\"delete\");\r\n                this.delete();\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    copy = (item) => {\r\n        if (!item)\r\n            item = this.selectManager.getSelected();\r\n        if (!item)\r\n            return;\r\n\r\n        this.copyItem = item;\r\n    };\r\n\r\n    getCopyItem = () => {\r\n        return this.copyItem;\r\n    };\r\n\r\n    paste = throttle((selectedItem) => {\r\n        if (!this.copyItem)\r\n            return;\r\n        let destinationItem;\r\n        if (!selectedItem)\r\n            selectedItem = this.selectManager.getSelected() || this.pageRef.current;\r\n\r\n        while (!destinationItem)  {\r\n            if (selectedItem.getFromTempData(\"isContainer\")) {\r\n                destinationItem = selectedItem;\r\n            } else {\r\n                selectedItem = selectedItem.props.parent;\r\n            }\r\n        }\r\n\r\n        let style = cloneObject(this.getCopyItem().getFromData(\"style\"));\r\n        let gridItemStyle = cloneObject(this.getCopyItem().getFromData(\"gridItemStyle\"));\r\n        let copyRect = this.getCopyItem().getSize(false);\r\n        let parentRect = destinationItem.getSize(false);\r\n        if (destinationItem === this.getCopyItem().props.parent) {\r\n            if (gridItemStyle.marginLeft)\r\n                gridItemStyle.marginLeft =\r\n                    (parseFloat(gridItemStyle.marginLeft.replace(\"px\", \"\").replace(\"%\", \"\")) + 20).toString()\r\n                    + \"px\";\r\n            if (gridItemStyle.marginLeft)\r\n                gridItemStyle.marginTop =\r\n                    (parseFloat(gridItemStyle.marginTop.replace(\"px\", \"\").replace(\"%\", \"\")) + 20).toString()\r\n                    + \"px\";\r\n            if (gridItemStyle.marginRight)\r\n                gridItemStyle.marginRight =\r\n                    (parseFloat(gridItemStyle.marginRight.replace(\"px\", \"\").replace(\"%\", \"\")) - 20).toString()\r\n                    + \"px\";\r\n            if (gridItemStyle.marginBottom)\r\n                gridItemStyle.marginBottom =\r\n                    (parseFloat(gridItemStyle.marginBottom.replace(\"px\", \"\").replace(\"%\", \"\")) - 20).toString()\r\n                    + \"px\";\r\n\r\n            if (!gridItemStyle.marginLeft && !gridItemStyle.marginRight)\r\n                gridItemStyle.marginLeft = \"20px\";\r\n            if (!gridItemStyle.marginTop && !gridItemStyle.marginBottom)\r\n                gridItemStyle.marginTop = \"20px\";\r\n        } else {\r\n            delete gridItemStyle.marginLeft;\r\n            delete gridItemStyle.marginTop;\r\n            delete gridItemStyle.marginRight;\r\n            delete gridItemStyle.marginBottom;\r\n\r\n            gridItemStyle.justifySelf = \"center\";\r\n            gridItemStyle.alignSelf = \"center\";\r\n\r\n            if (style.width.toString().includes(\"%\")) {\r\n                style.width = (copyRect.width / parentRect.width * 100).toString() + \"%\";\r\n            }\r\n            if (style.height.toString().includes(\"%\")) {\r\n                style.height = (copyRect.height / parentRect.height * 100).toString() + \"%\";\r\n            }\r\n        }\r\n\r\n        createItem(destinationItem, {\r\n            props: this.getCopyItem().props,\r\n            tagName: this.getCopyItem().props.tagName\r\n        }, undefined, gridItemStyle, style);\r\n    }, 200);\r\n\r\n    duplicate = (item) => {\r\n        if (!item)\r\n            item = this.selectManager.getSelected();\r\n        if (!item)\r\n            return;\r\n\r\n        this.copy(item);\r\n        this.paste(item.props.parent);\r\n        this.copyItem = false;\r\n    };\r\n\r\n    delete = (item) => {\r\n        if (!item)\r\n            item = this.selectManager.getSelected();\r\n        if (!item && !this.selectManager.group)\r\n            return;\r\n\r\n        this.selectManager.deleteGroup();\r\n\r\n        if (!item)\r\n            return;\r\n\r\n        item.delete();\r\n    };\r\n}\r\n","export default class IdManager {\r\n    constructor(prefix) {\r\n        this.prefix = prefix + '_';\r\n        this.allId = {};\r\n    }\r\n\r\n    clear = () => {\r\n        this.allId = {};\r\n    };\r\n\r\n    getId = (preferName, fixName) => {\r\n        let result;\r\n        let baseId = !fixName? this.prefix + preferName: fixName;\r\n        let id = baseId;\r\n        let postNo = 1;\r\n        while (!result) {\r\n            if (this.allId[id]) {\r\n                id = baseId + \"_\" + postNo;\r\n                postNo++;\r\n            } else {\r\n                result = id;\r\n            }\r\n        }\r\n\r\n        this.allId[id] = true;\r\n\r\n        return result;\r\n    };\r\n\r\n    setItem = (id, item) => {\r\n        this.allId[id] = item;\r\n    };\r\n\r\n    // return agl reference\r\n    getItem = (id) => {\r\n        return this.allId[id];\r\n    };\r\n\r\n    removeId = (id) => {\r\n        delete this.allId[id];\r\n    };\r\n}\r\n","import throttle from 'lodash.throttle';\r\n\r\nexport default class UndoRedo {\r\n    constructor(max, document, idMan) {\r\n        this.undoQueue = [];\r\n        this.redoQueue = [];\r\n        this.max = max || 20;\r\n        this.idMan = idMan;\r\n\r\n        document.addEventListener('keydown', (event) => {\r\n            if (event.ctrlKey && event.key === 'z') {\r\n                this.undo();\r\n            }\r\n        });\r\n\r\n        document.addEventListener('keydown', (event) => {\r\n            if (event.ctrlKey && event.key === 'Z') {\r\n                this.redo();\r\n            }\r\n        });\r\n    }\r\n\r\n    getQueueObject = (func, undo, power) => {\r\n        return {\r\n            redo: func,\r\n            undo: undo,\r\n            power: (typeof power === 'number') ? power : undefined\r\n        }\r\n    };\r\n\r\n    add = (func, undo, power) => {\r\n        this.undoQueue.unshift(this.getQueueObject(func, undo, power));\r\n        if (this.undoQueue.length > this.max)\r\n            this.undoQueue.pop();\r\n        this.redoQueue = [];\r\n    };\r\n\r\n    undo = throttle(() => {\r\n        this.undoFunc();\r\n    }, 200);\r\n\r\n    undoFunc = () => {\r\n        if (this.undoQueue.length === 0)\r\n            return;\r\n\r\n        let object = this.undoQueue.shift();\r\n        let power = object.power || 1;\r\n\r\n        power--;\r\n        object.undo(this.idMan);\r\n        this.redoQueue.unshift(object);\r\n\r\n        while (power > 0) {\r\n            power--;\r\n            this.undoFunc();\r\n        }\r\n    };\r\n\r\n    hasUndo = () => {\r\n        return this.undoQueue.length > 0;\r\n    };\r\n\r\n    redo = throttle(() => {\r\n        if (this.redoQueue.length === 0)\r\n            return;\r\n\r\n        let object = this.redoQueue.shift();\r\n        object.redo(this.idMan);\r\n        this.undoQueue.unshift(object);\r\n    }, 100);\r\n\r\n    hasRedo = () => {\r\n        return this.redoQueue.length > 0;\r\n    };\r\n};\r\n","export default class GridLineManager {\r\n    constructor(gridContainerRef) {\r\n        this.gridContainerRef = gridContainerRef;\r\n    }\r\n\r\n    addGrid = (id, x, y, gridType, gridTemplateRows, gridTemplateColumns, positions, callback) => {\r\n        this.gridContainerRef.current.addGrid(id, x, y, gridType, gridTemplateRows, gridTemplateColumns, positions, callback);\r\n    };\r\n\r\n    getIdCache = (gridType) => {\r\n        return this.gridContainerRef.current.getIdCache(gridType);\r\n    };\r\n\r\n    getXlineRef = (id) => {\r\n        return this.gridContainerRef.current.getXlineRef(id);\r\n    };\r\n\r\n    getYlineRef = (id) => {\r\n        return this.gridContainerRef.current.getYlineRef(id);\r\n    };\r\n\r\n    removeGridLine = (id) => {\r\n        this.gridContainerRef.current.removeGridLine(id);\r\n    };\r\n\r\n    removeGridLineByType = (type) => {\r\n        this.gridContainerRef.current.removeGridLineByType(type);\r\n    };\r\n\r\n    prepareRects = (id) => {\r\n        this.gridContainerRef.current.prepareRects(id);\r\n    };\r\n\r\n    hasGridLine = (id, gridType) => {\r\n        if (this.gridContainerRef.current)\r\n            return this.gridContainerRef.current.hasGridLine(id, gridType);\r\n    };\r\n\r\n    isPrepared = (id) => {\r\n        if (this.gridContainerRef.current)\r\n            return this.gridContainerRef.current.isPrepared(id);\r\n    };\r\n}\r\n","import {v4 as uuidv4} from 'uuid';\r\nimport { goToAnchor } from 'react-scrollable-anchor'\r\n\r\nexport default class AnchorManager {\r\n    constructor(siteData) {\r\n        // TODO init all anchors\r\n        this.allAnchors = {};\r\n    }\r\n\r\n    addAnchor = (name, item) => {\r\n        let pageId = item.props.viewRef.current.props.pageId;\r\n        let id = uuidv4();\r\n        this.allAnchors[id] = {pageId, name, id};\r\n        item.setAnchor(this.allAnchors[id]);\r\n    };\r\n\r\n    modifyAnchor = (id, newName, item) => {\r\n        let anchor = this.allAnchors[id];\r\n        if (!anchor) {\r\n            this.addAnchor(newName, item);\r\n            return;\r\n        }\r\n\r\n        anchor.name = newName;\r\n\r\n        item.setAnchor(anchor);\r\n    };\r\n\r\n    removeAnchor = (id, item) => {\r\n        delete this.allAnchors[id];\r\n        item.setAnchor();\r\n    };\r\n\r\n    goToAnchor = (id, saveToHistory) => {\r\n        goToAnchor(id, saveToHistory);\r\n    };\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\n\r\nexport default class AdjustmentGridRoot extends React.PureComponent {\r\n    render () {\r\n        let {top, left, bottom, right} = this.props;\r\n        return (\r\n            <div\r\n                id=\"AdjustmentGridRoot\"\r\n                className=\"AdjustmentGridRoot\"\r\n                style={{top, left, bottom, right}}\r\n            >\r\n                {\r\n                    this.props.children\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport classNames from \"classnames\";\r\n\r\nexport default class AdjustmentGridRow extends React.Component {\r\n    // TODO BUG: first and last grid line is not provided, fix the bug\r\n    render () {\r\n        let {gridLineManager, itemId, grid} = this.props;\r\n        let rowLines = gridLineManager.getYlineRef(itemId);\r\n        return (\r\n            <div\r\n                className=\"AdjustmentGridRowEditor\"\r\n            >\r\n                {\r\n                    new Array(grid.x).fill(0).map((x, index) => {\r\n                        let rowLine = rowLines[index];\r\n                        let rowLineRect = rowLine.current.rect;\r\n                        let nextRowLineRect = rowLines[index + 1].current.rect;\r\n                        let rowHeight = grid.gridTemplateRows.split(' ')[index];\r\n                        let classes = classNames(\r\n                            \"AdjustmentGridRowEditorItem\",\r\n                            index === 0 && \"AdjustmentGridRowEditorItemTop\",\r\n                            index === grid.x - 1 && \"AdjustmentGridRowEditorItemBottom\",\r\n                        );\r\n                        return(\r\n                                <div\r\n                                    key={`row_${index}`}\r\n                                    className={classes}\r\n                                    style={{\r\n                                        height: nextRowLineRect.top - rowLineRect.top,\r\n                                    }}\r\n                                >\r\n                                    <p style={{\r\n                                        margin: 0,\r\n                                        fontWeight: \"bold\"\r\n                                    }}>\r\n                                        {rowHeight}\r\n                                    </p>\r\n                                </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport AdjustmentGridRoot from \"./AdjustmentGridRoot\";\r\nimport AdjustmentGridRow from \"./AdjustmentGridRow\";\r\n\r\nexport default class AdjustmentGrid extends React.PureComponent {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            item: undefined,\r\n            grid: undefined,\r\n            gridLineManager: undefined\r\n        };\r\n    }\r\n\r\n    editing = (item) => {\r\n        let grid = item.getFromData(\"grid\");\r\n        let gridLineManager = item.props.gridLine;\r\n        this.setState({item, grid, gridLineManager});\r\n    };\r\n\r\n    update = (item) => {\r\n        if (item === item)\r\n            this.forceUpdate();\r\n    };\r\n\r\n    addRow = (index) => {\r\n        if (!this.state.item)\r\n            return;\r\n\r\n        if (grid.x === 100)\r\n            return;\r\n\r\n        let {grid, item} = this.state;\r\n\r\n        grid.x++;\r\n        let rowsHeight = grid.gridTemplateRows.split(' ');\r\n\r\n        rowsHeight.splice(index, 0, \"minmax(100px,max-content)\");\r\n        grid.gridTemplateRows = rowsHeight.join(' ');\r\n\r\n        item.setGrid(grid);\r\n        this.setState({grid});\r\n    };\r\n\r\n    addColumn = (index) => {\r\n        if (!this.state.item)\r\n            return;\r\n\r\n        let {grid, item} = this.state;\r\n\r\n        if (grid.y === 100)\r\n            return;\r\n\r\n        grid.y++;\r\n        let columnsWidth = grid.gridTemplateColumns.split(' ');\r\n\r\n        columnsWidth.splice(index, 0, \"1fr\");\r\n        grid.gridTemplateColumns = columnsWidth.join(' ');\r\n\r\n        item.setGrid(grid);\r\n        this.setState({grid});\r\n    };\r\n\r\n    changeColumnWidth = (index, newValue) => {\r\n        if (!this.state.item)\r\n            return;\r\n\r\n        let {grid, item} = this.state;\r\n\r\n        let columnsWidth = grid.gridTemplateColumns.split(' ');\r\n\r\n        columnsWidth.splice(index, 1, newValue);\r\n        grid.gridTemplateColumns = columnsWidth.join(' ');\r\n\r\n        item.setGrid(grid);\r\n        this.setState({grid});\r\n    };\r\n\r\n    changeRowHeight = (index, newValue) => {\r\n        if (!this.state.item)\r\n            return;\r\n\r\n        let {grid, item} = this.state;\r\n\r\n        let rowsHeight = grid.gridTemplateRows.split(' ');\r\n\r\n        rowsHeight.splice(index, 1, newValue);\r\n        grid.gridTemplateRows = rowsHeight.join(' ');\r\n\r\n        item.setGrid(grid);\r\n        this.setState({grid});\r\n    };\r\n\r\n    deleteRow = (index) => {\r\n        if (!this.state.item)\r\n            return;\r\n\r\n        let {grid, item} = this.state;\r\n\r\n        if (grid.x === 1)\r\n            return;\r\n\r\n        grid.x--;\r\n        let rowsHeight = grid.gridTemplateRows.split(' ');\r\n\r\n        rowsHeight.splice(index, 1);\r\n        grid.gridTemplateRows = rowsHeight.join(' ');\r\n\r\n        item.setGrid(grid);\r\n        this.setState({grid});\r\n    };\r\n\r\n    deleteColumn = (index) => {\r\n        if (!this.state.item)\r\n            return;\r\n\r\n        let {grid, item} = this.state;\r\n\r\n        if (grid.y === 1)\r\n            return;\r\n\r\n        grid.y--;\r\n        let columnsWidth = grid.gridTemplateColumns.split(' ');\r\n\r\n        columnsWidth.splice(index, 1);\r\n        grid.gridTemplateColumns = columnsWidth.join(' ');\r\n\r\n        item.setGrid(grid);\r\n        this.setState({grid});\r\n    };\r\n\r\n    render () {\r\n        let {gridLineManager, item, grid} = this.state;\r\n        if (!item)\r\n            return null;\r\n\r\n        let positions = gridLineManager.getIdCache(\"A\").positions;\r\n        return (\r\n            <AdjustmentGridRoot\r\n                top={positions.top}\r\n                left={positions.left}\r\n                bottom={positions.bottom}\r\n                right={positions.right}\r\n            >\r\n                <AdjustmentGridRow\r\n                    gridLineManager={gridLineManager}\r\n                    itemId={item.props.id}\r\n                    grid={grid}\r\n                />\r\n            </AdjustmentGridRoot>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\n\r\nexport default class AdjustmentSnapLines extends React.Component {\r\n    render () {\r\n        let {snapH, snapV, pointOfSnapH, pointOfSnapV} = this.props;\r\n        if (!snapH && !snapV)\r\n            return null;\r\n\r\n        if (snapH) {\r\n            return (\r\n                <line\r\n                    x1={Math.min(snapH.p1, snapH.p2, pointOfSnapH.p1, pointOfSnapH.p2)}\r\n                    x2={Math.max(snapH.p1, snapH.p2, pointOfSnapH.p1, pointOfSnapH.p2)}\r\n                    y1={snapH.value}\r\n                    y2={snapH.value}\r\n                    style={{\r\n                        stroke: \"#ff00a4\"\r\n                    }}\r\n                />\r\n            )\r\n        } else {\r\n            return (\r\n                <line\r\n                    x1={snapV.value}\r\n                    x2={snapV.value}\r\n                    y1={Math.min(snapV.p1, snapV.p2, pointOfSnapV.p1, pointOfSnapV.p2)}\r\n                    y2={Math.max(snapV.p1, snapV.p2, pointOfSnapV.p1, pointOfSnapV.p2)}\r\n                    style={{\r\n                        stroke: \"#ff00a4\"\r\n                    }}\r\n                />\r\n            )\r\n        }\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport AdjustmentSnapLines from \"./AdjustmentSnapLines\";\r\n\r\nexport default class AdjustmentSnap extends React.PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    update = (snapH, snapV, pointOfSnapH, pointOfSnapV) => {\r\n        this.setState({\r\n            snapH, snapV, pointOfSnapH, pointOfSnapV\r\n        });\r\n    };\r\n\r\n    render () {\r\n        let {snapH, snapV, pointOfSnapH, pointOfSnapV} = this.state;\r\n        return (\r\n            <div\r\n                id=\"AdjustmentHelpLines\"\r\n                className=\"AdjustmentSnapLinesRoot\"\r\n            >\r\n                <svg className=\"AdjustmentHelpLinesSVG\">\r\n                    <AdjustmentSnapLines\r\n                        snapH={snapH}\r\n                        pointOfSnapH={pointOfSnapH}\r\n                    />\r\n                    <AdjustmentSnapLines\r\n                        snapV={snapV}\r\n                        pointOfSnapV={pointOfSnapV}\r\n                    />\r\n                </svg>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\n\r\nexport default class GridLine extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    render () {\r\n        let {id, lineRef, style} = this.props;\r\n        return (\r\n            <div\r\n                className={this.props.className}\r\n                id={id}\r\n                ref={lineRef}\r\n                style={style}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport {throttleDebounce} from \"../AwesomeGridLayoutUtils\";\r\nimport Portal from \"@material-ui/core/Portal/Portal\";\r\nimport GridLine from \"./GridLine\";\r\n\r\nexport default class AdjustmentGridLinesWrapper2 extends React.PureComponent {\r\n    needUpdate = throttleDebounce(() => {\r\n        this.forceUpdate();\r\n    }, 100);\r\n\r\n    render () {\r\n        let {yNo, xNo, yLineRef, xLineRef, refId} = this.props;\r\n\r\n        if (yNo >= 0 && xNo >= 0 && !document.getElementById(`${refId}_container`))\r\n            this.needUpdate();\r\n\r\n        return (\r\n            <>\r\n                {\r\n                    new Array(yNo + 1).fill(0).map((y, index) => {\r\n                        if (index === 0 || index === yNo)\r\n                            return null;\r\n                        return <Portal\r\n                            key={index}\r\n                            container={document.getElementById(`${refId}_container`)}\r\n                        >\r\n                            <GridLine\r\n                                className=\"AdjustmentGridLinesY\"\r\n                                id={`y_${index}_${refId}`}\r\n                                lineRef={yLineRef[index]}\r\n                                style={{\r\n                                    top: index === yNo ? \"unset\" : 0,\r\n                                    bottom: index === yNo ? 0 : \"unset\",\r\n                                    gridArea: `${index + 1}/1/${index + 1}/${xNo + 1}`,\r\n                                }}\r\n                            />\r\n                        </Portal>\r\n                    })\r\n                }\r\n                {\r\n                    new Array(xNo + 1).fill(0).map((x, index) => {\r\n                        if (index === 0 || index === xNo)\r\n                            return null;\r\n                        return <Portal\r\n                            key={index}\r\n                            container={document.getElementById(`${refId}_container`)}\r\n                        >\r\n                            <GridLine\r\n                                className=\"AdjustmentGridLinesX\"\r\n                                id={`x_${index}_${refId}`}\r\n                                lineRef={xLineRef[index]}\r\n                                style={{\r\n                                    left: index === xNo? \"unset\": 0,\r\n                                    right: index === xNo? 0: \"unset\",\r\n                                    gridArea: `1/${index + 1}/${yNo + 1}/${index + 1}`,\r\n                                }}\r\n                            />\r\n                        </Portal>\r\n                    })\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport {getCachedBoundingRect} from \"../Test/WindowCache\";\r\nimport AdjustmentGridLinesWrapper2 from \"./AdjustmentGridLinesWrapper2\";\r\n\r\nexport default class AdjustmentGridLines extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            xNoA: -1,\r\n            yNoA: -1,\r\n            xNoB: -1,\r\n            yNoB: -1,\r\n            xNoT: -1,\r\n            yNoT: -1,\r\n        };\r\n\r\n        this.xLineRefA = new Array(100);\r\n        this.yLineRefA = new Array(100);\r\n        this.xLineRefB = new Array(100);\r\n        this.yLineRefB = new Array(100);\r\n        this.xLineRefT = new Array(100);\r\n        this.yLineRefT = new Array(100);\r\n\r\n        this.idCache = {};\r\n    }\r\n\r\n    fixLineRef = (x, y, gridType) => {\r\n        for (let i = 0; i <= x; i++) {\r\n            if (!this[`xLineRef${gridType}`][i])\r\n                this[`xLineRef${gridType}`][i] = React.createRef();\r\n        }\r\n        for (let i = 0; i <= y; i++) {\r\n            if (!this[`yLineRef${gridType}`][i])\r\n                this[`yLineRef${gridType}`][i] = React.createRef();\r\n        }\r\n    };\r\n\r\n    addGrid = (id, y, x, gridType, gridTemplateRows, gridTemplateColumns, positions, callback) => {\r\n        this.fixLineRef(x, y, gridType);\r\n        if (this.idCache[\"A\"] && this.idCache[\"A\"].id === id && gridType === \"A\") {\r\n            this.updateGridLine(id, \"A\", {\r\n                gridTemplateRows, gridTemplateColumns, positions, x, y\r\n            }, callback)\r\n        }\r\n        else if (this.idCache[\"B\"] && this.idCache[\"B\"].id === id && gridType === \"B\") {\r\n            this.updateGridLine(id, \"B\", {\r\n                gridTemplateRows, gridTemplateColumns, positions, x, y\r\n            }, callback)\r\n        }\r\n        else if (this.idCache[\"T\"] && this.idCache[\"T\"].id === id && gridType === \"T\") {\r\n            this.updateGridLine(id, \"T\", {\r\n                gridTemplateRows, gridTemplateColumns, positions, x, y\r\n            }, callback)\r\n        }\r\n        else {\r\n            this.idCache[gridType] = {id, gridTemplateRows, gridTemplateColumns, positions, x, y};\r\n\r\n            this.setState({\r\n                [`xNo${gridType}`]: x,\r\n                [`yNo${gridType}`]: y\r\n            }, () => {\r\n                // this.prepareRects(id);\r\n                if (callback)\r\n                    callback();\r\n            })\r\n        }\r\n    };\r\n\r\n    updateGridLine = (id, gridType, {gridTemplateRows, gridTemplateColumns, positions, x, y} = {}, callback) => {\r\n        if (!gridType) {\r\n            if (this.idCache[\"A\"] && this.idCache[\"A\"].id === id)\r\n                gridType = \"A\";\r\n            else if (this.idCache[\"B\"] && this.idCache[\"B\"].id === id)\r\n                gridType = \"B\";\r\n            else if (this.idCache[\"T\"] && this.idCache[\"T\"].id === id)\r\n                gridType = \"T\";\r\n            else return;\r\n        }\r\n\r\n        gridTemplateRows && (this.idCache[gridType].gridTemplateRows = gridTemplateRows);\r\n        gridTemplateColumns && (this.idCache[gridType].gridTemplateColumns = gridTemplateColumns);\r\n        positions && (this.idCache[gridType].positions = positions);\r\n        x && (this.idCache[gridType].x = x);\r\n        y && (this.idCache[gridType].y = y);\r\n\r\n        if (!x && !y) {\r\n            this.setState({reload: true}, callback);\r\n            return;\r\n        }\r\n\r\n        if (x || y)\r\n            this.setState({\r\n                [`xNo${gridType}`]: x,\r\n                [`yNo${gridType}`]: y\r\n            }, callback);\r\n    };\r\n\r\n    getIdCache = (gridType) => {\r\n        return this.idCache[gridType];\r\n    };\r\n\r\n    getXlineRef = (id, gridType) => {\r\n        if (!gridType) {\r\n            if (this.idCache[\"A\"] && this.idCache[\"A\"].id === id)\r\n                gridType = \"A\";\r\n            else if (this.idCache[\"B\"] && this.idCache[\"B\"].id === id)\r\n                gridType = \"B\";\r\n            else if (this.idCache[\"T\"] && this.idCache[\"T\"].id === id)\r\n                gridType = \"T\";\r\n            else return;\r\n        }\r\n\r\n        return this[`xLineRef${gridType}`].slice(0, this.idCache[gridType].x + 1);\r\n    };\r\n\r\n    getYlineRef = (id, gridType) => {\r\n        if (!gridType) {\r\n            if (this.idCache[\"A\"] && this.idCache[\"A\"].id === id)\r\n                gridType = \"A\";\r\n            else if (this.idCache[\"B\"] && this.idCache[\"B\"].id === id)\r\n                gridType = \"B\";\r\n            else if (this.idCache[\"T\"] && this.idCache[\"T\"].id === id)\r\n                gridType = \"T\";\r\n            else return;\r\n        }\r\n\r\n        return this[`yLineRef${gridType}`].slice(0, this.idCache[gridType].y + 1);\r\n    };\r\n\r\n    removeGridLine = (id, gridType) => {\r\n        if (!gridType) {\r\n            if (this.idCache[\"A\"] && this.idCache[\"A\"].id === id)\r\n                gridType = \"A\";\r\n            else if (this.idCache[\"B\"] && this.idCache[\"B\"].id === id)\r\n                gridType = \"B\";\r\n            else if (this.idCache[\"T\"] && this.idCache[\"T\"].id === id)\r\n                gridType = \"T\";\r\n            else return;\r\n        }\r\n\r\n        delete this.idCache[gridType];\r\n\r\n        this.setState({\r\n            [`xNo${gridType}`]: -1,\r\n            [`yNo${gridType}`]: -1\r\n        })\r\n    };\r\n\r\n    hasGridLine = (id, gridType) => {\r\n        if (!gridType) {\r\n            if (this.idCache[\"A\"] && this.idCache[\"A\"].id === id)\r\n                return \"A\";\r\n\r\n            if (this.idCache[\"B\"] && this.idCache[\"B\"].id === id)\r\n                return \"B\";\r\n\r\n            if (this.idCache[\"T\"] && this.idCache[\"T\"].id === id)\r\n                return \"T\";\r\n        } else {\r\n            if (this.idCache[gridType] && this.idCache[gridType].id === id)\r\n                return gridType;\r\n        }\r\n    };\r\n\r\n    isPrepared = (id) => {\r\n        if (this.idCache[\"A\"] && this.idCache[\"A\"].prepared)\r\n            return true;\r\n        else if (this.idCache[\"B\"] && this.idCache[\"B\"].prepared)\r\n            return true;\r\n        else if (this.idCache[\"T\"] && this.idCache[\"T\"].prepared)\r\n            return true;\r\n    };\r\n\r\n    prepareRects = (id) => {\r\n        let xLineRef = this.getXlineRef(id);\r\n        if (xLineRef)\r\n            for(let i = 0; i < xLineRef.length; i++) {\r\n                let current = xLineRef[i].current;\r\n                if (!current)\r\n                    continue;\r\n\r\n                current.rect = getCachedBoundingRect(`xLineRef_${i}_${id}`, current);\r\n            }\r\n        let yLineRef = this.getYlineRef(id);\r\n        if (yLineRef)\r\n            for(let i = 0; i < yLineRef.length; i++) {\r\n                let current = yLineRef[i].current;\r\n                if (!current)\r\n                    continue;\r\n\r\n                current.rect = getCachedBoundingRect(`yLineRef_${i}_${id}`, current);\r\n            }\r\n\r\n        if (this.idCache[\"A\"] && this.idCache[\"A\"].id === id)\r\n            this.idCache[\"A\"].prepared = true;\r\n        else if (this.idCache[\"B\"] && this.idCache[\"B\"].id === id)\r\n            this.idCache[\"B\"].prepared = true;\r\n        else if (this.idCache[\"T\"] && this.idCache[\"T\"].id === id)\r\n            this.idCache[\"T\"].prepared = true;\r\n    };\r\n\r\n    removeGridLineByType = (gridType) => {\r\n        delete this.idCache[gridType];\r\n\r\n        this.setState({\r\n            [`xNo${gridType}`]: -1,\r\n            [`yNo${gridType}`]: -1\r\n        })\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <div\r\n                id=\"AdjustmentGridLinesRoot\"\r\n                className=\"AdjustmentGridLinesRoot\"\r\n            >\r\n                <AdjustmentGridLinesWrapper2\r\n                    id={\"GridLinesContainer_A\"}\r\n                    refId={this.idCache[\"A\"] && this.idCache[\"A\"].id}\r\n                    xNo={this.state.xNoA}\r\n                    yNo={this.state.yNoA}\r\n                    xLineRef={this.xLineRefA}\r\n                    yLineRef={this.yLineRefA}\r\n                    gridTemplateRows={this.idCache[\"A\"] && this.idCache[\"A\"].gridTemplateRows}\r\n                    gridTemplateColumns={this.idCache[\"A\"] && this.idCache[\"A\"].gridTemplateColumns}\r\n                    top={this.idCache[\"A\"] && this.idCache[\"A\"].positions.top}\r\n                    bottom={this.idCache[\"A\"] && this.idCache[\"A\"].positions.bottom}\r\n                    left={this.idCache[\"A\"] && this.idCache[\"A\"].positions.left}\r\n                    right={this.idCache[\"A\"] && this.idCache[\"A\"].positions.right}\r\n                />\r\n\r\n                <AdjustmentGridLinesWrapper2\r\n                    id={\"GridLinesContainer_B\"}\r\n                    refId={this.idCache[\"B\"] && this.idCache[\"B\"].id}\r\n                    xNo={this.state.xNoB}\r\n                    yNo={this.state.yNoB}\r\n                    xLineRef={this.xLineRefB}\r\n                    yLineRef={this.yLineRefB}\r\n                    gridTemplateRows={this.idCache[\"B\"] && this.idCache[\"B\"].gridTemplateRows}\r\n                    gridTemplateColumns={this.idCache[\"B\"] && this.idCache[\"B\"].gridTemplateColumns}\r\n                    top={this.idCache[\"B\"] && this.idCache[\"B\"].positions.top}\r\n                    bottom={this.idCache[\"B\"] && this.idCache[\"B\"].positions.bottom}\r\n                    left={this.idCache[\"B\"] && this.idCache[\"B\"].positions.left}\r\n                    right={this.idCache[\"B\"] && this.idCache[\"B\"].positions.right}\r\n                />\r\n\r\n                <AdjustmentGridLinesWrapper2\r\n                    id={\"GridLinesContainer_T\"}\r\n                    refId={this.idCache[\"T\"] && this.idCache[\"T\"].id}\r\n                    xNo={this.state.xNoT}\r\n                    yNo={this.state.yNoT}\r\n                    xLineRef={this.xLineRefT}\r\n                    yLineRef={this.yLineRefT}\r\n                    gridTemplateRows={this.idCache[\"T\"] && this.idCache[\"T\"].gridTemplateRows}\r\n                    gridTemplateColumns={this.idCache[\"T\"] && this.idCache[\"T\"].gridTemplateColumns}\r\n                    top={this.idCache[\"T\"] && this.idCache[\"T\"].positions.top}\r\n                    bottom={this.idCache[\"T\"] && this.idCache[\"T\"].positions.bottom}\r\n                    left={this.idCache[\"T\"] && this.idCache[\"T\"].positions.left}\r\n                    right={this.idCache[\"T\"] && this.idCache[\"T\"].positions.right}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css';\r\nimport classNames from 'classnames';\r\n\r\nexport default class ResizePane extends React.Component {\r\n    onMouseDown = (e) => {\r\n        if (this.isLeftClick(e)) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            this.mouseDown = true;\r\n            window.addEventListener(\"pointermove\", this.onMouseMove);\r\n            window.addEventListener(\"pointerup\", this.onMouseUp);\r\n        }\r\n    };\r\n\r\n    isLeftClick = (e) => {\r\n        if (e.pointerType === \"mouse\" && e.button === 0)\r\n            return true;\r\n\r\n        return false;\r\n    };\r\n\r\n\r\n    onMouseMove = (e) => {\r\n        if (!this.mouseDown)\r\n            return;\r\n        e.stopPropagation();\r\n\r\n        if (!this.moving) {\r\n            this.moving = true;\r\n            this.onDragStart(e);\r\n        } else {\r\n            this.onDrag(e);\r\n        }\r\n    };\r\n\r\n    onMouseUp = (e) => {\r\n        if (!this.mouseDown)\r\n            return;\r\n\r\n        this.mouseDown = false;\r\n\r\n        if (this.moving) {\r\n            e.stopPropagation();\r\n            this.onDragStop(e);\r\n        }\r\n\r\n        this.moving = false;\r\n\r\n        window.removeEventListener(\"pointermove\", this.onMouseMove);\r\n        window.removeEventListener(\"pointerup\", this.onMouseUp);\r\n    };\r\n\r\n    onDragStart = (e) => {\r\n        this.dragData = {\r\n            lastMouseX: e.clientX,\r\n            lastMouseY: e.clientY\r\n        };\r\n        this.delta = {\r\n            x: 0,\r\n            y: 0,\r\n        };\r\n        this.props.onResizeStart(e, this.props.side, this.delta);\r\n    };\r\n\r\n    onDrag = (e) => {\r\n        this.delta.x += (e.clientX - this.dragData.lastMouseX);\r\n        this.delta.y += (e.clientY - this.dragData.lastMouseY);\r\n        this.props.onResize(e, this.props.side, this.delta);\r\n        this.dragData.lastMouseX = e.clientX;\r\n        this.dragData.lastMouseY = e.clientY;\r\n    };\r\n\r\n    onDragStop = (e) => {\r\n        this.delta.x += (e.clientX - this.dragData.lastMouseX);\r\n        this.delta.y += (e.clientY - this.dragData.lastMouseY);\r\n        this.props.onResizeStop(e, this.props.side, this.delta);\r\n    };\r\n\r\n    isCorner = () => {\r\n        return this.props.side.length === 2;\r\n    };\r\n    render () {\r\n        let classes = classNames(\r\n            `Adjustment-${this.props.side}-pane`,\r\n            this.props.enabled && `Adjustment-${this.props.side}-pane-circle`,\r\n            `Adjustment-${this.props.side}-pane-line`,\r\n            {\"Adjustment-CornerCircle\": this.props.enabled && this.isCorner()},\r\n            \"Adjustment-Pane\",\r\n            !this.props.enabled && \"ResizePanePointerNone\"\r\n        );\r\n        let style = {};\r\n        if (this.props.draggingStart)\r\n            style.pointerEvents = \"none\";\r\n\r\n        return (\r\n            <div\r\n                id={this.props.id}\r\n                onPointerDown={this.props.enabled ? this.onMouseDown : undefined}\r\n                className={classes}\r\n                style={{...style, ...this.props.style}}\r\n            >\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport ResizePane from \"./ResizePane\";\r\nimport {cloneObject} from \"../AwesomeGridLayoutUtils\";\r\n\r\nexport default class AdjustmentGroupRect extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            rect: undefined,\r\n            group: undefined,\r\n            draggingStart: false\r\n        }\r\n    }\r\n\r\n    updateRect = (rect, group) => {\r\n        this.setState({rect, group});\r\n    };\r\n\r\n    onResizeStart = (e, dir, delta) => {\r\n        if (this.resizing)\r\n            return;\r\n        this.resizing = true;\r\n\r\n        this.setState({draggingStart: true});\r\n        this.state.group.forEach(item => {\r\n            item.onResizeStart(e, dir, delta, true);\r\n        });\r\n\r\n        let {rect} = this.state;\r\n        this.resizeData = {\r\n            firstX: window.innerWidth - rect.left - rect.right,\r\n            firstY: window.innerHeight - rect.top - rect.bottom,\r\n            firstTop: rect.top,\r\n            firstLeft: rect.left,\r\n        };\r\n    };\r\n\r\n    onResize = (e, dir, delta) => {\r\n        this.state.group.forEach(item => {\r\n            item.onResize(e, dir, delta, true);\r\n        });\r\n\r\n        let rect = cloneObject(this.state.rect);\r\n        delete rect.height;\r\n        delete rect.width;\r\n\r\n        let deltaY = delta.y;\r\n        let deltaX = delta.x;\r\n        if (dir.includes('n')) {\r\n            if (this.resizeData.firstY <= deltaY)\r\n                deltaY = this.resizeData.firstY;\r\n            rect.height = this.resizeData.firstY - deltaY;\r\n            rect.top = this.resizeData.firstTop + deltaY;\r\n        }\r\n        if (dir.includes('s')) {\r\n            if (this.resizeData.firstY <= -deltaY)\r\n                deltaY = -this.resizeData.firstY;\r\n            rect.height = this.resizeData.firstY + deltaY;\r\n        }\r\n        if (dir.includes('e')) {\r\n            if (this.resizeData.firstX <= -deltaX)\r\n                deltaX = -this.resizeData.firstX;\r\n            rect.width = this.resizeData.firstX + deltaX;\r\n        }\r\n        if (dir.includes('w')) {\r\n            if (this.resizeData.firstX <= deltaX)\r\n                deltaX = this.resizeData.firstX;\r\n            rect.width = this.resizeData.firstX - deltaX;\r\n            rect.left = this.resizeData.firstLeft + deltaX;\r\n        }\r\n\r\n        if (rect.height)\r\n            rect.bottom = window.innerWidth - rect.top - rect.height;\r\n        if (rect.width)\r\n        rect.right = window.innerWidth - rect.left - rect.width;\r\n\r\n        this.setState({rect});\r\n    };\r\n\r\n    onResizeStop = (e, dir, delta) => {\r\n        this.state.group.forEach(item => {\r\n            item.onResizeStop(e, dir, delta, true);\r\n        });\r\n\r\n        this.resizing = false;\r\n\r\n        this.setState({draggingStart: false});\r\n    };\r\n\r\n    onDragStart = (e) => {\r\n        this.state.group.forEach(item => {\r\n            item.onDragStart(e, true);\r\n        });\r\n        this.setState({draggingStart: false});\r\n\r\n        let {rect} = this.state;\r\n\r\n        this.dragData = {\r\n            x: rect.left,\r\n            y: rect.top,\r\n            lastMouseX: e.clientX,\r\n            lastMouseY: e.clientY,\r\n        };\r\n    };\r\n\r\n    onDrag = (e) => {\r\n        this.state.group.forEach(item => {\r\n            item.onDrag(e, true);\r\n        });\r\n        this.setState({draggingStart: false});\r\n\r\n        let deltaX = (e.clientX - this.dragData.lastMouseX);\r\n        let deltaY = (e.clientY - this.dragData.lastMouseY);\r\n        this.dragData.x += deltaX;\r\n        this.dragData.y += deltaY;\r\n        this.dragData.lastMouseX = e.clientX;\r\n        this.dragData.lastMouseY = e.clientY;\r\n\r\n        let rect = cloneObject(this.state.rect);\r\n\r\n        rect.top = this.dragData.y;\r\n        rect.left = this.dragData.x;\r\n        rect.right -= deltaX;\r\n        rect.bottom -= deltaY;\r\n\r\n        this.setState({rect});\r\n    };\r\n\r\n    onDragStop = (e) => {\r\n        this.state.group.forEach(item => {\r\n            item.onDragStop(e, true);\r\n        });\r\n        this.setState({draggingStart: false});\r\n    };\r\n\r\n    render () {\r\n        let {rect} = this.state;\r\n        if (!rect)\r\n            return null;\r\n\r\n        return (\r\n            <div\r\n                id=\"AdjustmentGroupRect\"\r\n                style={rect}\r\n                className=\"AdjustmentResizeRoot\"\r\n            >\r\n                {\r\n                    ['n','s','e','w','ne','nw','se','sw'].map((side, index) => {\r\n                        return <ResizePane\r\n                            key={index}\r\n                            side={side}\r\n                            onResizeStart={this.onResizeStart}\r\n                            onResize={this.onResize}\r\n                            onResizeStop={this.onResizeStop}\r\n                            draggingStart={this.state.draggingStart}\r\n                        />\r\n                    })\r\n                }\r\n\r\n                {/*<AdjustmentMove*/}\r\n                    {/*key={`${this.props.id}_move`}*/}\r\n                    {/*onDragStart={this.onDragStart}*/}\r\n                    {/*onDrag={this.onDrag}*/}\r\n                    {/*onDragStop={this.onDragStop}*/}\r\n                {/*/>*/}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport IconButton from \"../../../HelperComponents/IconButton\";\r\n\r\nexport default class RightClick extends React.Component {\r\n    onClick = (e) => {\r\n        this.props.onClick && this.props.onClick(e);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <IconButton\r\n                onClick={this.onClick}\r\n            >\r\n                <img\r\n                    draggable={false}\r\n                    width={16}\r\n                    height={16}\r\n                    src={require('../../../icons/more.svg')}\r\n                />\r\n            </IconButton>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './MiniMenu.css';\r\n\r\nexport default class MiniMenuVerticalDivider extends React.Component {\r\n    render () {\r\n        return (\r\n            <div className=\"MiniMenuVerticalDivider\"/>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport IconButton from \"../../../HelperComponents/IconButton\";\r\nimport '../../../HelperStyle.css';\r\n\r\nexport default class Help extends React.Component {\r\n    onClick = (e) => {\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <IconButton\r\n                onClick={this.onClick}\r\n            >\r\n                <img\r\n                    draggable={false}\r\n                    width={16}\r\n                    height={16}\r\n                    src={require('../../../icons/question.svg')}\r\n                />\r\n            </IconButton>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './MiniMenu.css';\r\nimport RightClick from \"./Components/RightClick\";\r\nimport MiniMenuVerticalDivider from \"./MiniMenuVerticalDivider\";\r\nimport Popper from \"@material-ui/core/Popper/Popper\";\r\nimport Help from \"./Components/Help\";\r\nimport {isHideInBreakpoint} from \"../../AwesomwGridLayoutHelper\";\r\n\r\nconst miniMenuId = \"wl_mini_menu\";\r\nexport default class MiniMenu extends React.PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            clear: true\r\n        };\r\n    }\r\n\r\n    clear = () => {\r\n        this.setState({clear: true});\r\n    };\r\n\r\n    update = (itemId, shortcut, primary, item) => {\r\n        this.setState({\r\n            itemId\r\n            , shortcut, primary, clear: false,\r\n            item\r\n        })\r\n    };\r\n\r\n    getAnchor = () => {\r\n        return document.getElementById(`${this.state.itemId}_child_holder`) ||\r\n            document.getElementById(this.state.itemId);\r\n    };\r\n\r\n    render () {\r\n        if (this.state.clear)\r\n            return null;\r\n        if (!this.state.itemId || !this.getAnchor() ||\r\n            isHideInBreakpoint(this.state.item))\r\n            return null;\r\n        return (\r\n            <Popper\r\n                key={\"miniMenu\"}\r\n                open={true}\r\n                anchorEl={this.getAnchor()}\r\n                placement=\"bottom-start\"\r\n                style={{\r\n                    zIndex: 9999999\r\n                }}\r\n                modifiers={{\r\n                    flip: {\r\n                        enabled: true,\r\n                    },\r\n                    preventOverflow: {\r\n                        enabled: true,\r\n                        boundariesElement: 'scrollParent',\r\n                    },\r\n                }}\r\n            >\r\n                <div className=\"MiniMenuRoot\"\r\n                     id={miniMenuId}\r\n                     style={{\r\n                        opacity:  !this.state.clear? 1: 0\r\n                     }}\r\n                >\r\n                    <div className=\"MiniMenuContainer\"\r\n                    >\r\n                        {\r\n                            !this.state.clear &&\r\n                            this.state.shortcut.map(option => {\r\n                                return option;\r\n                            })\r\n                        }\r\n\r\n                        {\r\n                            !this.state.clear &&\r\n                            this.state.shortcut.length > 0 && <MiniMenuVerticalDivider/>\r\n                        }\r\n\r\n                        {\r\n                            !this.state.clear &&\r\n                            this.state.primary.map(option => {\r\n                                return option;\r\n                            })\r\n                        }\r\n\r\n                        {\r\n                            !this.state.clear &&\r\n                            this.state.primary.length > 0 && <MiniMenuVerticalDivider/>\r\n                        }\r\n\r\n                        <Help/>\r\n                        <RightClick/>\r\n                    </div>\r\n                </div>\r\n            </Popper>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Menu.css';\r\nimport MiniMenu from \"./MiniMenu/MiniMenu\";\r\nimport {createContextMenu} from \"../AwesomwGridLayoutHelper\";\r\n\r\nconst miniMenuHolderId = \"wl_menu_holder\";\r\nexport default class MenuHolder extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            active: true\r\n        };\r\n\r\n        this.miniMenuRef = React.createRef();\r\n    }\r\n\r\n    clearMiniMenu = () => {\r\n        this.state.active && this.miniMenuRef.current.clear();\r\n    };\r\n\r\n    addMiniMenu = (item) => {\r\n        if (item && this.state.active)\r\n            this.miniMenuRef.current.update(\r\n                item.props.id,\r\n                item.getShortcutOptions() || [],\r\n                item.getPrimaryOptions() || [],\r\n                item\r\n        );\r\n    };\r\n\r\n    addMenu = (menu) => {\r\n        this.setState({\r\n            menu: undefined,\r\n        });\r\n        if (menu) {\r\n            setTimeout(() => {\r\n                this.setState({\r\n                    menu,\r\n                });\r\n            }, 0);\r\n        }\r\n    };\r\n\r\n    onContextMenu = (e, item) => {\r\n        this.setState({\r\n            contextMenu: createContextMenu(e, item, () => {\r\n                this.setState({contextMenu: undefined})\r\n            })\r\n        });\r\n    };\r\n\r\n    activate = (active) => {\r\n        this.setState({active});\r\n    };\r\n\r\n    render () {\r\n        if (!this.state.active)\r\n            return null;\r\n\r\n        return (\r\n            <div\r\n                id={miniMenuHolderId}\r\n                key={miniMenuHolderId}\r\n                className=\"MenuHolderRoot\"\r\n            >\r\n                <MiniMenu\r\n                    itemId={this.state.miniMenuItem && this.state.miniMenuItem.props.id}\r\n                    key={\"miniMenu\"}\r\n                    ref={this.miniMenuRef}\r\n                />\r\n                {\r\n                    !this.state.contextMenu &&\r\n                    this.state.menu\r\n                }\r\n                {\r\n                    this.state.contextMenu\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","export default class IFrameCommunicator {\r\n    constructor(origin, authKey, otherWindow, onMessage) {\r\n        this.onMessage = onMessage;\r\n        this.origin = origin;\r\n        this.otherWindow = otherWindow;\r\n        this.counter = 0;\r\n        this.authKey = authKey;\r\n        this.callbacks = {};\r\n        this.responses = {};\r\n\r\n        window.addEventListener(\"message\", (event) => {\r\n            console.log(\"message\", event);\r\n            if (this.origin && event.origin !== this.origin) {\r\n                return;\r\n            }\r\n\r\n            this.processIncomingMessage(event);\r\n        });\r\n    }\r\n\r\n    processIncomingMessage = (event) => {\r\n        let data = event.data;\r\n\r\n        if (!data || data.authKey !== this.authKey)\r\n            return;\r\n\r\n        if (data && data.r) {\r\n            let r = data.r;\r\n            this.callbacks[r](data);\r\n            delete this.callbacks[r];\r\n        }\r\n        else\r\n        {\r\n            let responseFunc = () => {};\r\n            if (data && data.c) {\r\n                let c = data.c;\r\n                responseFunc = this.responses[c] = (result) => {\r\n                    let newData = {r: c, result};\r\n                    this.post(newData);\r\n                }\r\n            }\r\n\r\n            this.onMessage(event.data, responseFunc);\r\n        }\r\n    };\r\n\r\n    post = (data, callback) => {\r\n        if (callback) {\r\n            this.counter++;\r\n            data.c = this.counter;\r\n            this.callbacks[data.c] = callback;\r\n        }\r\n\r\n        data.authKey = this.authKey;\r\n\r\n        let otherWindow = typeof(this.otherWindow) === 'function' ? this.otherWindow() : this.otherWindow;\r\n\r\n        otherWindow.postMessage(data, this.origin || \"*\");\r\n    };\r\n}\r\n","let EditorController = {};\r\nlet AllowFunctions = {};\r\n\r\nEditorController.onMessage = (data, res, editor) => {\r\n    if (data.type === 'Controller' && AllowFunctions[data.func]) {\r\n        res(AllowFunctions[data.func](...data.inputs, editor));\r\n        return;\r\n    }\r\n\r\n    if (data.type === 'Editor' && editor[data.func]) {\r\n        editor[data.func](...data.inputs, res);\r\n        return;\r\n    }\r\n};\r\n//\r\n// // TODO GET functions\r\n// AllowFunctions.getItemGridData = (itemId, editor) => {\r\n//     return editor.idMan.getItem(itemId).props.griddata;\r\n// };\r\n// AllowFunctions.getLayout = (editor) => {\r\n//     let layout = {\r\n//         id: editor.rootLayoutRef.current.props.id,\r\n//         griddata: editor.rootLayoutRef.current.props.griddata,\r\n//         children: []\r\n//     };\r\n//     let fillData = (item, parent) => {\r\n//         parent[item.props.id] = {\r\n//             id: item.props.id,\r\n//             griddata: item.props.griddata,\r\n//             children: []\r\n//         };\r\n//\r\n//         Object.values(item.allChildRefs).forEach(child => {\r\n//             if (child && child.current)\r\n//                 fillData(child.current, parent[item.props.id].children);\r\n//         });\r\n//     };\r\n//\r\n//     fillData(editor.rootLayoutRef.current, layout.children);\r\n//\r\n//     return layout;\r\n// };\r\n// AllowFunctions.getSiteData = (editor) => {\r\n//     return editor.state.siteData;\r\n// };\r\n// AllowFunctions.getBreakpointsData = (itemId, editor) => {\r\n//     let item = editor.idMan.getItem(itemId);\r\n//     return {\r\n//         breakpoints: item.props.breakpointmanager.breakpoints,\r\n//         currentWidth: item.props.breakpointmanager.lastWidth\r\n//     }\r\n// };\r\n//\r\n// // TODO POST functions\r\n// AllowFunctions.changePage = (pageId, editor) => {\r\n//     editor.onPageChange(pageId);\r\n//     return true;\r\n// };\r\n// AllowFunctions.addItem = (parentId, childData, gridItemStyle, style, editor) => {\r\n//     createItem(editor.idMan.getItem(parentId), childData, false, gridItemStyle, style);\r\n//     return true;\r\n// };\r\n//\r\n// AllowFunctions.undoRedoMethod = (method, inputs, editor) => {\r\n//     editor.undoredo[method](inputs);\r\n//     return true;\r\n// };\r\n// AllowFunctions.togglePreview = (preview, editor) => {\r\n//     editor.togglePreview(preview);\r\n//     return true;\r\n// };\r\n// AllowFunctions.setZoomLevel = (zoomLevel, editor) => {\r\n//     editor.setZoomLevel(zoomLevel);\r\n//     return true;\r\n// };\r\n//\r\n// // TODO Edit functions\r\n// AllowFunctions.setDataInBackground = (itemId, prop, value, editor) => {\r\n//     let item = editor.idMan.getItem(itemId);\r\n//     setDataInBreakpoint(prop, value, item, true);\r\n//     return item.props.griddata;\r\n// };\r\n\r\nexport default EditorController;\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class Inspector extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            percent: props.open? 100: 0,\r\n            inspectorMenu: undefined\r\n        };\r\n\r\n        this.opening = false;\r\n        this.closing = false;\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    open = () => {\r\n        this.opening = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.setState({ open: true});\r\n        this.openInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.openInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent += (this.props.speed * this.props.interval / 1000);\r\n            if (percent >= 100) {\r\n                this.opening = false;\r\n                clearInterval(this.openInterval);\r\n            }\r\n            percent = Math.min(100, percent);\r\n            this.setState({percent});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    close = (force) => {\r\n        this.closing = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.setState({ open: false});\r\n        if (force) {\r\n            this.setState({percent: 0});\r\n            return;\r\n        }\r\n        this.closeInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.closeInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent -= (this.props.speed * this.props.interval / 1000);\r\n            if (percent <= 0) {\r\n                this.closing = false;\r\n                clearInterval(this.closeInterval);\r\n            }\r\n            percent = Math.max(0, percent);\r\n            this.setState({percent});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    toggle = (force) => {\r\n        if (this.context.inspectorPinned) {\r\n            this.props.pinInspector();\r\n            this.close(force);\r\n            return;\r\n        }\r\n\r\n        let toggleState = !this.state.open;\r\n        this.state.open ? this.close(force) : this.open();\r\n\r\n        return toggleState;\r\n    };\r\n\r\n    setMenu = (inspectorMenu) => {\r\n        this.setState({inspectorMenu});\r\n    };\r\n\r\n    getDefaultMenu = () => {\r\n        return <div\r\n            className=\"InspectorDefaultMenuRoot\"\r\n        >\r\n            <span>\r\n                Select a component to show options\r\n            </span>\r\n        </div>\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <div\r\n                    className=\"InspectorRoot\"\r\n                    style={{...\r\n                        !this.context.inspectorPinned ? {\r\n                            right: `${this.state.percent - 100}%`,\r\n                            opacity: this.state.percent / 100\r\n                        } : {right: \"0%\", opacity: 1},\r\n                        ...{\r\n                        }}\r\n                    }\r\n                    onContextMenu={(e) => {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }}\r\n                >\r\n                    <div style={{\r\n                    }}>\r\n                    <div className=\"InspectorPin\">\r\n                        <IconButton\r\n                            buttonBaseStyle={{\r\n                                marginLeft: 0,\r\n                                borderRadius: \"50%\",\r\n                                backgroundColor: this.context.inspectorPinned && \"#8d8d8d\"\r\n                            }}\r\n                            onClick={(e) => {\r\n                                this.props.pinInspector();\r\n                            }}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={12}\r\n                                height={12}\r\n                                src={this.context.inspectorPinned ?\r\n                                    process.env.PUBLIC_URL + '/static/icon/pin-white.svg':\r\n                                    process.env.PUBLIC_URL + '/static/icon/pin.svg'}\r\n                            />\r\n                        </IconButton>\r\n                    </div>\r\n                    {\r\n                        this.state.inspectorMenu || this.getDefaultMenu()\r\n                    }\r\n                    </div>\r\n                </div>\r\n                {\r\n                    this.context.inspectorPinned &&\r\n\r\n                    <div\r\n                        className=\"InspectorPinRoot\"\r\n                    >\r\n                    </div>\r\n                }\r\n\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nInspector.defaultProps = {\r\n    open: false,\r\n    speed: 400,\r\n    interval: 5\r\n};\r\n","import React from \"react\";\r\nimport './Adjustment.css';\r\nimport {stretch} from \"../AwesomwGridLayoutHelper\";\r\n\r\nexport default class AdjustmentStretch extends React.Component {\r\n    onClick = (e) => {\r\n        let {itemId, idMan} = this.props;\r\n        stretch(idMan.getItem(itemId));\r\n    };\r\n\r\n    onMouseDown = (e) => {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n    };\r\n\r\n    isLeftClick = (e) => {\r\n        if (e.pointerType === \"mouse\" && e.button === 0)\r\n            return true;\r\n\r\n        return false;\r\n    };\r\n\r\n    render () {\r\n        let {isStretch} = this.props;\r\n        return (\r\n            <div\r\n                id=\"AdjustmentResize\"\r\n                className=\"AdjustmentStretchRoot\"\r\n                onPointerDown={this.onMouseDown}\r\n                onClick={this.onClick}\r\n                style={this.props.style}\r\n            >\r\n                {\r\n                    isStretch && <img draggable={false} width={16} height={16} src={require('./icons/minimize.svg')} />\r\n                }\r\n                {\r\n                    !isStretch && <img draggable={false} width={16} height={16} src={require('./icons/maximize.svg')} />\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport ResizePane from \"./ResizePane\";\r\nimport AdjustmentStretch from \"./AdjustmentStretch\";\r\nimport {cloneObject, shallowEqual} from \"../AwesomeGridLayoutUtils\";\r\nimport classNames from \"classnames\";\r\n\r\nexport default class AdjustmentResize extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n    }\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        if (!shallowEqual(nextProps.data, this.data))\r\n            return true;\r\n\r\n        if (!shallowEqual(nextProps, this.props))\r\n            return true;\r\n\r\n        return false;\r\n    }\r\n\r\n    render () {\r\n        let {data, allowStretch, idMan, itemId, isStretch, draggingStart, transformStyleId, item} = this.props;\r\n        this.data = cloneObject(data);\r\n        let stretchStyle = {};\r\n        if (!allowStretch) stretchStyle.display = \"none\";\r\n\r\n        let classes = classNames(\r\n            \"AdjustmentResizeRoot\",\r\n            transformStyleId\r\n        );\r\n        return (\r\n            <div\r\n                id=\"AdjustmentResize\"\r\n                style={{\r\n                    width: data.width,\r\n                    height: data.height,\r\n                    top: data.top,\r\n                    left: data.left,\r\n                    // transform: transform\r\n                }}\r\n                className={classes}\r\n            >\r\n                {\r\n                    !isStretch &&\r\n                    ['s','n','e','w','se','ne','sw','nw'].map((side, index) => {\r\n                        return <ResizePane\r\n                            enabled={this.props.sides.includes(side)}\r\n                            key={index}\r\n                            side={side}\r\n                            onResizeStart={this.props.onResizeStart}\r\n                            onResize={this.props.onResize}\r\n                            onResizeStop={this.props.onResizeStop}\r\n                            draggingStart={draggingStart}\r\n                        />\r\n                    })\r\n                }\r\n                {\r\n                    !(item.getCompositeFromData(\"transform\") || {}).rotateDegree && !item.props.noStretch &&\r\n                    <AdjustmentStretch\r\n                        style={stretchStyle}\r\n                        isStretch={isStretch}\r\n                        idMan={idMan}\r\n                        itemId={itemId}\r\n                    />\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport {allowStretch, isGroupSelected, isHideInBreakpoint, isStretch} from \"../AwesomwGridLayoutHelper\";\r\nimport AdjustmentResize from \"./AdjustmentResize\";\r\n\r\nexport default class AdjustmentResizeWrapper extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            active: true\r\n        };\r\n    }\r\n\r\n    update = (item, data, transformStyleId) => {\r\n        this.setState({item, data, transformStyleId});\r\n    };\r\n\r\n    activate = (active) => {\r\n        this.setState({active});\r\n    };\r\n\r\n    render () {\r\n        if (!this.state.active)\r\n            return null;\r\n\r\n        if (!this.state.item)\r\n            return null;\r\n\r\n        let {item, data} = this.state;\r\n\r\n        return (\r\n            <>\r\n                {\r\n                    item.getFromTempData(\"resizable\") &&\r\n                    !item.state.showAnimation &&\r\n                    !isGroupSelected(item) &&\r\n                    !isHideInBreakpoint(item) &&\r\n                    <AdjustmentResize\r\n                        id={item.props.id}\r\n                        key={`resize`}\r\n                        sides={item.props.resizeSides || ['n','s','e','w','ne','nw','se','sw']}\r\n                        onResizeStart={item.onResizeStart}\r\n                        onResize={item.onResize}\r\n                        onResizeStop={item.onResizeStop}\r\n                        draggingStart={item.state.draggingStart}\r\n                        isStretch={isStretch(item)}\r\n                        allowStretch={allowStretch(item)}\r\n                        itemId={item.props.id}\r\n                        item={item}\r\n                        idMan={item.props.idMan}\r\n                        transformStyleId={this.state.transformStyleId}\r\n                        data={data}\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport {cloneObject, shallowEqual} from \"../AwesomeGridLayoutUtils\";\r\n\r\nexport default class AdjustmentHelpLines extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        if (nextProps.helpLinesParent) {\r\n            let newParentRect = nextProps.helpLinesParent.getSize(false);\r\n\r\n            if (!shallowEqual(this.parentRect, cloneObject(newParentRect))) {\r\n                this.parentRect = newParentRect;\r\n                return true;\r\n            }\r\n        }\r\n\r\n        if (this.props.width !== nextProps.width ||\r\n            this.props.height !== nextProps.height ||\r\n            this.props.show !== nextProps.show ||\r\n            this.props.dragging !== nextProps.dragging)\r\n            return true;\r\n\r\n        if (!shallowEqual(this.props.itemRect, nextProps.itemRect)) {\r\n            return true;\r\n        }\r\n        if (!shallowEqual(this.props.fakeItemRect, nextProps.fakeItemRect)) {\r\n            return true;\r\n        }\r\n        if (!shallowEqual(nextProps.item.getCompositeFromData(\"gridItemStyle\"), this.gridItemStyle)) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    getValue = (value) => {\r\n        if (value.includes(\"px\")) {\r\n            return `${parseFloat(value.replace(\"px\", \"\")).toFixed(1)}px`;\r\n        }\r\n        if (value.includes(\"%\")) {\r\n            return `${parseFloat(value.replace(\"%\", \"\")).toFixed(1)}%`;\r\n        }\r\n\r\n        return value;\r\n    };\r\n\r\n    calculate = () => {\r\n        let {helpLinesParent, item, itemRect, width, height, dragging, fakeItemRect} = this.props;\r\n        // this.parentRect = this.parentRect || helpLinesParent.getSize(false);\r\n        this.parentRect = helpLinesParent.prepareRects();\r\n\r\n        if (fakeItemRect)\r\n            itemRect = fakeItemRect;\r\n        return {\r\n            ...item.calculateGridItem(itemRect.left - this.parentRect.left,\r\n                itemRect.top - this.parentRect.top, helpLinesParent,\r\n                width || itemRect.width, height || itemRect.height, this.parentRect, true, !dragging),\r\n            itemRect, parentRect: this.parentRect\r\n        };\r\n    };\r\n\r\n    getRuntimeGridItemStyle = () => {\r\n        return this.gridItemStyle;\r\n    };\r\n\r\n    render () {\r\n        let {show, item, transform, fakeItemRect} = this.props;\r\n        if (!show)\r\n            return null;\r\n\r\n        if (!item.mounted)\r\n            return null;\r\n\r\n        let {gridItemStyle, coordinates, itemRect, parentRect, coordinatesAbs} = this.calculate();\r\n        this.gridItemStyle = cloneObject(gridItemStyle);\r\n        if (fakeItemRect)\r\n            itemRect = fakeItemRect;\r\n        return (\r\n            <div\r\n                id=\"AdjustmentHelpLines\"\r\n                className=\"AdjustmentHelpLinesRoot\"\r\n                style={{\r\n                    width: coordinatesAbs.cx2 - coordinatesAbs.cx1,\r\n                    height: coordinatesAbs.cy2 - coordinatesAbs.cy1,\r\n                    top: coordinatesAbs.cy1,\r\n                    left: coordinatesAbs.cx1,\r\n                }}\r\n            >\r\n                <div className=\"AdjustmentHelpLinesRect\" style={{\r\n                    top: itemRect.top - coordinatesAbs.cy1,\r\n                    left: itemRect.left - coordinatesAbs.cx1,\r\n                    width: itemRect.width,\r\n                    height: itemRect.height\r\n                }}/>\r\n                <svg className=\"AdjustmentHelpLinesSVG\">\r\n                    {\r\n                        /*(gridItemStyle.justifySelf === \"start\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                            gridItemStyle.alignSelf === \"flex-start\") &&*/\r\n                        <line\r\n                            visibility={(gridItemStyle.justifySelf === \"start\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                                gridItemStyle.alignSelf === \"flex-start\")? \"visible\": \"hidden\"}\r\n                            x1={0}\r\n                            x2={itemRect.left - coordinatesAbs.cx1}\r\n                            y1={itemRect.top - coordinatesAbs.cy1 + itemRect.height / 2}\r\n                            y2={itemRect.top - coordinatesAbs.cy1 + itemRect.height / 2}\r\n                            style={{\r\n                                stroke: \"#116dff\",\r\n                                strokeDasharray: \"3px 3px\"\r\n                            }}\r\n                        />\r\n                    }\r\n                    {\r\n                        /*(gridItemStyle.justifySelf === \"start\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                            gridItemStyle.alignSelf === \"flex-start\") &&\r\n                        !this.props.dragging &&*/\r\n                        <circle\r\n                            visibility={((gridItemStyle.justifySelf === \"start\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                                gridItemStyle.alignSelf === \"flex-start\") &&\r\n                                !this.props.dragging)? \"visible\" : \"hidden\"}\r\n                            cx={0}\r\n                            cy={itemRect.top - coordinatesAbs.cy1 + itemRect.height / 2}\r\n                            r={5}\r\n                            style={{\r\n                                stroke: \"#fff\",\r\n                                fill: \"#116dff\"\r\n                            }}\r\n                        />\r\n                    }\r\n                    {\r\n                        // (gridItemStyle.justifySelf === \"end\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                        //     gridItemStyle.alignSelf === \"flex-end\") &&\r\n                        <line\r\n                            visibility={(gridItemStyle.justifySelf === \"end\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                                gridItemStyle.alignSelf === \"flex-end\") ? \"visible\" : \"hidden\"}\r\n                            x1={itemRect.left - coordinatesAbs.cx1 + itemRect.width}\r\n                            x2={coordinatesAbs.cx2 - coordinatesAbs.cx1}\r\n                            y1={itemRect.top - coordinatesAbs.cy1 + itemRect.height / 2}\r\n                            y2={itemRect.top - coordinatesAbs.cy1 + itemRect.height / 2}\r\n                            style={{\r\n                                stroke: \"#116dff\",\r\n                                strokeDasharray: \"3px 3px\"\r\n                            }}\r\n                        />\r\n                    }\r\n                    {\r\n                        // (gridItemStyle.justifySelf === \"end\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                        //     gridItemStyle.alignSelf === \"flex-end\") &&\r\n                        // !this.props.dragging &&\r\n                        <circle\r\n                            visibility={((gridItemStyle.justifySelf === \"end\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                                gridItemStyle.alignSelf === \"flex-end\") &&\r\n                                !this.props.dragging) ? \"visible\" : \"hidden\"}\r\n                            cx={coordinatesAbs.cx2 - coordinatesAbs.cx1}\r\n                            cy={itemRect.top - coordinatesAbs.cy1 + itemRect.height / 2}\r\n                            r={5}\r\n                            style={{\r\n                                stroke: \"#fff\",\r\n                                fill: \"#116dff\"\r\n                            }}\r\n                        />\r\n                    }\r\n                    {\r\n                        // (gridItemStyle.alignSelf === \"start\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                        <line\r\n                            visibility={(gridItemStyle.alignSelf === \"start\" || gridItemStyle.alignSelf === \"stretch\")\r\n                            ? \"visible\" : \"hidden\"}\r\n                            x1={itemRect.left - coordinatesAbs.cx1 + itemRect.width / 2}\r\n                            x2={itemRect.left - coordinatesAbs.cx1 + itemRect.width / 2}\r\n                            y1={0}\r\n                            y2={itemRect.top - coordinatesAbs.cy1}\r\n                            style={{\r\n                                stroke: \"#116dff\",\r\n                                strokeDasharray: \"3px 3px\"\r\n                            }}\r\n                        />\r\n                    }\r\n                    {\r\n                        // (gridItemStyle.alignSelf === \"start\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                        // !this.props.dragging &&\r\n                        <circle\r\n                            visibility={((gridItemStyle.alignSelf === \"start\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                                !this.props.dragging) ? \"visible\" : \"hidden\"}\r\n                            cx={itemRect.left - coordinatesAbs.cx1 + itemRect.width / 2}\r\n                            cy={0}\r\n                            r={5}\r\n                            style={{\r\n                                stroke: \"#fff\",\r\n                                fill: \"#116dff\"\r\n                            }}\r\n                        />\r\n                    }\r\n                    {\r\n                        // (gridItemStyle.alignSelf === \"end\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                        <line\r\n                            visibility={(gridItemStyle.alignSelf === \"end\" || gridItemStyle.alignSelf === \"stretch\")\r\n                            ? \"visible\" : \"hidden\"}\r\n                            x1={itemRect.left - coordinatesAbs.cx1 + itemRect.width / 2}\r\n                            x2={itemRect.left - coordinatesAbs.cx1 + itemRect.width / 2}\r\n                            y1={itemRect.top - coordinatesAbs.cy1 + itemRect.height}\r\n                            y2={coordinatesAbs.cy2 - coordinatesAbs.cy1}\r\n                            style={{\r\n                                stroke: \"#116dff\",\r\n                                strokeDasharray: \"3px 3px\"\r\n                            }}\r\n                        />\r\n                    }\r\n                    {\r\n                        // (gridItemStyle.alignSelf === \"end\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                        // !this.props.dragging &&\r\n                        <circle\r\n                            visibility={((gridItemStyle.alignSelf === \"end\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                                !this.props.dragging) ? \"visible\" : \"hidden\"}\r\n                            cx={itemRect.left - coordinatesAbs.cx1 + itemRect.width / 2}\r\n                            cy={coordinatesAbs.cy2 - coordinatesAbs.cy1}\r\n                            r={5}\r\n                            style={{\r\n                                stroke: \"#fff\",\r\n                                fill: \"#116dff\"\r\n                            }}\r\n                        />\r\n                    }\r\n                </svg>\r\n\r\n                {\r\n                    // (gridItemStyle.justifySelf === \"start\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                    //     gridItemStyle.alignSelf === \"flex-start\") &&\r\n                    // this.props.dragging &&\r\n                    <p\r\n                        style={{\r\n                            display: ((gridItemStyle.justifySelf === \"start\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                                gridItemStyle.alignSelf === \"flex-start\") &&\r\n                                this.props.dragging) ? \"unset\" : \"none\",\r\n                            position: \"absolute\",\r\n                            top: itemRect.top - coordinatesAbs.cy1 + itemRect.height / 2,\r\n                        left: (itemRect.left - coordinatesAbs.cx1) / 2,\r\n                        transform: \"translateY(-125%) translateX(-50%)\",\r\n                        margin: 0,\r\n                        fontSize: \"0.65em\",\r\n                        color: \"#0013ff\",\r\n                        fontWeight: \"bold\"\r\n                    }}\r\n                    >\r\n                            {this.getValue(gridItemStyle.marginLeft)}\r\n                    </p>\r\n                }\r\n\r\n                {\r\n                    // (gridItemStyle.justifySelf === \"end\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                    //     gridItemStyle.alignSelf === \"flex-end\") &&\r\n                    // this.props.dragging &&\r\n                    <p\r\n                        style={{\r\n                            display: ((gridItemStyle.justifySelf === \"end\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                                gridItemStyle.alignSelf === \"flex-end\") &&\r\n                                this.props.dragging) ? \"unset\" : \"none\",\r\n                            position: \"absolute\",\r\n                            top: itemRect.top - coordinatesAbs.cy1 + itemRect.height / 2,\r\n                            right: (coordinatesAbs.cx2 - itemRect.left - itemRect.width) / 2,\r\n                            transform: \"translateY(-125%) translateX(50%)\",\r\n                            margin: 0,\r\n                            fontSize: \"0.65em\",\r\n                            color: \"#0013ff\",\r\n                            fontWeight: \"bold\"\r\n                        }}\r\n                    >\r\n                        {this.getValue(gridItemStyle.marginRight)}\r\n                    </p>\r\n                }\r\n\r\n                {\r\n                    // (gridItemStyle.alignSelf === \"start\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                    // this.props.dragging &&\r\n                    <p\r\n                        style={{\r\n                            display: ((gridItemStyle.alignSelf === \"start\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                                this.props.dragging) ? \"unset\" : \"none\",\r\n                            position: \"absolute\",\r\n                            top: (itemRect.top - coordinatesAbs.cy1) / 2,\r\n                            left: itemRect.left - coordinatesAbs.cx1 + itemRect.width / 2,\r\n                            transform: \"translateY(-50%) translateX(5px)\",\r\n                            margin: 0,\r\n                            fontSize: \"0.65em\",\r\n                            color: \"#0013ff\",\r\n                            fontWeight: \"bold\"\r\n                        }}\r\n                    >\r\n                        {this.getValue(gridItemStyle.marginTop)}\r\n                    </p>\r\n                }\r\n\r\n                {\r\n                    // (gridItemStyle.alignSelf === \"end\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                    // this.props.dragging &&\r\n                    <p\r\n                        style={{\r\n                            display: ((gridItemStyle.alignSelf === \"end\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                                this.props.dragging) ? \"unset\" : \"none\",\r\n                            position: \"absolute\",\r\n                            bottom: (coordinatesAbs.cy2 - itemRect.top - itemRect.height) / 2,\r\n                            left: itemRect.left - coordinatesAbs.cx1 + itemRect.width / 2,\r\n                            transform: \"translateY(50%) translateX(5px)\",\r\n                            margin: 0,\r\n                            fontSize: \"0.65em\",\r\n                            color: \"#0013ff\",\r\n                            fontWeight: \"bold\"\r\n                        }}\r\n                    >\r\n                        {this.getValue(gridItemStyle.marginBottom)}\r\n                    </p>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport {isGroupSelected, isHideInBreakpoint} from \"../AwesomwGridLayoutHelper\";\r\nimport AdjustmentHelpLines from \"./AdjustmentHelpLines\";\r\n\r\nexport default class AdjustmentHelpLinesWrapper extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            active: true\r\n        };\r\n\r\n        this.helpLineRef = React.createRef();\r\n    }\r\n\r\n    update = (item, helpLineParent, itemRect, dragging, fakeItemRect) => {\r\n        this.setState({item, itemRect, dragging, fakeItemRect});\r\n    };\r\n\r\n    activate = (active) => {\r\n        this.setState({active});\r\n    };\r\n\r\n    getRuntimeGridItemStyle = () => {\r\n        if (this.helpLineRef.current)\r\n            return this.helpLineRef.current.getRuntimeGridItemStyle();\r\n    };\r\n\r\n    render () {\r\n        if (!this.state.active)\r\n            return null;\r\n\r\n        if (!this.state.item)\r\n            return null;\r\n\r\n        let {item, itemRect, dragging, fakeItemRect} = this.state;\r\n        return (\r\n            <>\r\n                {\r\n                    !item.state.showAnimation &&\r\n                    !isHideInBreakpoint(item) &&\r\n                    <AdjustmentHelpLines\r\n                        ref={this.helpLineRef}\r\n                        show={!item.props.helplineOff /*&& item.state.selected*/ &&\r\n                        item.state.helpLinesParent && !item.getFromTempData(\"pageResize\") &&\r\n                        !isGroupSelected(item)}\r\n                        helpLinesParent={item.state.helpLinesParent}\r\n                        item={item}\r\n                        dragging={dragging}\r\n                        itemRect={itemRect}\r\n                        fakeItemRect={fakeItemRect}\r\n                        width={itemRect.width}\r\n                        height={itemRect.height}\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport Popper from \"@material-ui/core/Popper/Popper\";\r\n\r\nexport default class AdjustmentHover extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            active: true\r\n        };\r\n    }\r\n\r\n    update = (item, size, clear) => {\r\n        if (!clear)\r\n            if (!item.state.selected)\r\n                this.setState({item, size, itemId: item.props.id});\r\n            else\r\n                this.setState({item, size, itemId: undefined});\r\n        else {\r\n            if (this.state.itemId === item.props.id) {\r\n                this.setState({item, size, itemId: undefined});\r\n            }\r\n        }\r\n    };\r\n\r\n    activate = (active) => {\r\n        this.setState({active});\r\n    };\r\n\r\n    render () {\r\n        if (!this.state.active)\r\n            return null;\r\n\r\n        if (!this.state.itemId)\r\n            return null;\r\n        return (\r\n            <Popper\r\n                open={true}\r\n                anchorEl={document.getElementById(this.state.itemId)}\r\n                placement=\"top-start\"\r\n                style={{\r\n                    zIndex: 9999999,\r\n                    pointerEvents: \"none\"\r\n                }}\r\n                disablePortal={false}\r\n                modifiers={{\r\n                    flip: {\r\n                        enabled: false\r\n                    },\r\n                    preventOverflow: {\r\n                        enabled: false,\r\n                    },\r\n                    hide: {\r\n                        enabled: false,\r\n                    },\r\n                }}\r\n            >\r\n                {\r\n                    this.state.itemId ?\r\n                        <div\r\n                            className=\"AwesomeGridLayoutRootHover\"\r\n                            key={`hover`}\r\n                            style={{\r\n                                width: this.state.size ? this.state.size.width : 0,\r\n                                height: this.state.size ? this.state.size.height : 0,\r\n                            }}\r\n                        >\r\n                            <span className=\"AGLHoverCompName\">\r\n                                {this.state.item.props.tagName}\r\n                            </span>\r\n                        </div>\r\n                        :\r\n                        <div></div>\r\n                }\r\n            </Popper>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Layout.css';\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\n\r\nexport default class Layout extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            percent: props.open ? 100 : 0,\r\n            treeData: []\r\n        };\r\n\r\n        this.opening = false;\r\n        this.closing = false;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n    open = () => {\r\n        this.opening = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.openInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.openInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent += (this.props.speed * this.props.interval / 1000);\r\n            if (percent > 100) {\r\n                this.opening = false;\r\n                clearInterval(this.openInterval);\r\n            }\r\n            percent = Math.min(100, percent);\r\n            this.setState({percent, open: (percent === 100)});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    close = () => {\r\n        this.closing = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.closeInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.closeInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent -= (this.props.speed * this.props.interval / 1000);\r\n            if (percent < 0) {\r\n                this.closing = false;\r\n                clearInterval(this.closeInterval);\r\n            }\r\n            percent = Math.max(0, percent);\r\n            this.setState({percent, open: (percent !== 0)});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    setLayout = (layout) => {\r\n        this.processLayout(layout)\r\n    };\r\n\r\n    processLayout = (layout) => {\r\n        if (!layout)\r\n            return;\r\n\r\n        let {idMan} = this.props;\r\n\r\n        let getTreeItem = (layoutItem) => {\r\n            let item = idMan.getItem(layoutItem.childData.props.id);\r\n            return {\r\n                title: layoutItem.childData.tagName,\r\n                layoutItem: layoutItem,\r\n                children: layoutItem.childrenData.map(childLayout => {\r\n                    return getTreeItem(childLayout);\r\n                }),\r\n                expanded: item.getFromTempData(\"layoutTreeExpanded\"),\r\n                parentItemId: item.props.parent && item.props.parent.props.id\r\n            };\r\n        };\r\n\r\n        this.setState({\r\n            treeData: [getTreeItem(layout[0])]\r\n        });\r\n    };\r\n\r\n    setTree = (treeData) => {\r\n        let {idMan} = this.props;\r\n        let updateItem = (treeItem) => {\r\n            let item = idMan.getItem(treeItem.layoutItem.childData.props.id);\r\n            item.setTempData(\"layoutTreeExpanded\", treeItem.expanded);\r\n            treeItem.children.forEach((childTreeItem, index) => {\r\n                item.setChildZIndex(childTreeItem.layoutItem.childData.props.id, index + 1);\r\n            });\r\n            item.updateLayout();\r\n            treeItem.children.map(childTreeItem => {\r\n                updateItem(childTreeItem);\r\n            });\r\n        };\r\n\r\n        updateItem(treeData[0]);\r\n\r\n        this.setState({treeData});\r\n    };\r\n\r\n    render() {\r\n        let {idMan} = this.props;\r\n        return (\r\n            <>\r\n                <div\r\n                    className=\"LayoutRoot\"\r\n                    style={{\r\n                        left: `${this.state.percent - 100}%`,\r\n                        opacity: this.state.percent / 100\r\n                    }}\r\n                    onContextMenu={(e) => {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }}\r\n                >\r\n                    <div\r\n                        className=\"LayoutTreeRootHeader\"\r\n                    >\r\n                        {/*Header*/}\r\n                        <div\r\n                            className=\"LayoutTreeRootHeaderContainer\"\r\n                        >\r\n                            <span className=\"LayoutTreeRootHeaderTitle\">\r\n                                Layers\r\n                            </span>\r\n\r\n                            <IconButton\r\n                                onClick={this.close}\r\n                            >\r\n                                <img\r\n                                    draggable={false}\r\n                                    width={12}\r\n                                    height={12}\r\n                                    src={require('../../icons/close.svg')}\r\n                                />\r\n                            </IconButton>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div\r\n                        className=\"LayoutTreeRoot\"\r\n                    >\r\n                        Coming soon ...\r\n                        {/*<SortableTree\r\n                            className=\"LayoutSortableTree\"\r\n                            treeData={this.state.treeData}\r\n                            onChange={treeData => this.setTree(treeData)}\r\n                            innerStyle={{\r\n                                outline: 'none',\r\n                            }}\r\n                            generateNodeProps={rowInfo => {\r\n                                let layoutItem = rowInfo.node.layoutItem; // {tagName, childData, childrenData}\r\n                                let item = idMan.getItem(layoutItem.childData.props.id);\r\n                                let rowWrapperStyle = {};\r\n                                if (item.state.selected)\r\n                                    rowWrapperStyle.backgroundColor = \"#e4ffea\";\r\n\r\n                                let buttons = [\r\n                                    <IconButton\r\n                                        key={\"rightClick\"}\r\n                                        onClick={(e) => {\r\n                                            item.onContextMenu(e);\r\n                                        }}\r\n                                        imageContainerStyle={{\r\n                                            padding: 4\r\n                                        }}\r\n                                    >\r\n                                        <img\r\n                                            draggable={false}\r\n                                            width={16}\r\n                                            height={16}\r\n                                            src={process.env.PUBLIC_URL + 'static/icon/more-black.svg'}\r\n                                        />\r\n                                    </IconButton>\r\n                                ];\r\n                                if (isHideInBreakpoint(item)) {\r\n                                    buttons.unshift(\r\n                                        <IconButton\r\n                                            key={\"hidedInBp\"}\r\n                                            onClick={(e) => {\r\n                                                showInBreakPoint(item);\r\n                                            }}\r\n                                            imageContainerStyle={{\r\n                                                padding: 4\r\n                                            }}\r\n                                        >\r\n                                            <img\r\n                                                draggable={false}\r\n                                                width={16}\r\n                                                height={16}\r\n                                                src={process.env.PUBLIC_URL + 'static/icon/hide.svg'}\r\n                                            />\r\n                                        </IconButton>\r\n                                    )\r\n                                }\r\n\r\n                                return ({\r\n                                    rowWrapperStyle: rowWrapperStyle,\r\n                                    onClick: (e) => {\r\n                                        let eClass = e.target.getAttribute(\"class\");\r\n                                        if (eClass !== \"expandButton\" && eClass !== \"collapseButton\")\r\n                                            item.onSelect(true, undefined, undefined, true);\r\n                                    },\r\n                                    icons: [\r\n                                        <Image\r\n                                            draggable={false}\r\n                                            width={16}\r\n                                            height={16}\r\n                                            src={item.props.favIconUrl}\r\n                                            style={{\r\n                                                marginTop: 2\r\n                                            }}\r\n                                            errorsrc={process.env.PUBLIC_URL + '/static/icon/rectangle.svg'}\r\n                                        />\r\n                                    ],\r\n                                    buttons: buttons,\r\n                                })\r\n                            }}\r\n                            canDrag={({ node, path, treeIndex, lowerSiblingCounts, isSearchMatch,\r\n                                          isSearchFocus}) => {\r\n                                let item = idMan.getItem(node.layoutItem.childData.props.id);\r\n                                return !item.props.isPage && !item.props.isSection;\r\n                            }}\r\n                            canDrop={({ node, nextParent, prevPath, nextPath }) => {\r\n                                return !!(nextParent && node.parentItemId === nextParent.layoutItem.childData.props.id);\r\n                            }}\r\n                        />*/}\r\n                    </div>\r\n\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nLayout.defaultProps = {\r\n    open: false,\r\n    speed: 400,\r\n    interval: 5\r\n};\r\n","import React from \"react\";\r\nimport './AddComponent.css';\r\nimport {createItem, sortBy} from \"../../AwesomwGridLayoutHelper\";\r\nimport {cloneObject} from \"../../AwesomeGridLayoutUtils\";\r\n\r\nexport default class ComponentGrid extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n\r\n        };\r\n\r\n        this.rootRef = React.createRef();\r\n    }\r\n\r\n    getItemStyle = (item) => {\r\n        let rootWidth = this.rootRef.current?\r\n            this.rootRef.current.getBoundingClientRect().width - 24: 400 - 24;\r\n\r\n        return {\r\n            width: rootWidth / (item.widthRatio || 2),\r\n            // height: rootWidth / (item.widthRatio || 2) / (item.aspectRatio || 2)\r\n            height: \"fit-content\"\r\n        };\r\n    };\r\n\r\n    componentDidMount(){\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.mounted = false;\r\n    }\r\n\r\n    setDraggingItem = (draggingItem, e) => {\r\n        e.persist();\r\n        this.setState({draggingItem});\r\n\r\n        clearTimeout(this.closingTimeOut);\r\n        this.closingTimeOut = setTimeout(() => {\r\n            if (!this.mounted)\r\n                return;\r\n\r\n            if (this.state.draggingItem) {\r\n                this.props.closeMenu(true);\r\n                this.createItemAndDrag(this.state.draggingItem, e);\r\n            }\r\n        }, 200);\r\n    };\r\n\r\n    createItemAndDrag = (item, e) => {\r\n        let {pageRef, editor} = this.props;\r\n        let selectedItem = editor.select.getSelected();\r\n\r\n        createItem(pageRef.current, {\r\n            tagName: item.tagName,\r\n            props: cloneObject(item.presetProps)\r\n        }, undefined, undefined, undefined, (agl) => {\r\n            console.log(\"mouseDown\", agl.props.input.mouseDown);\r\n            if (agl.props.input.mouseDown)\r\n                window.requestAnimationFrame(() => {\r\n                    agl.onMouseDown(e, true);\r\n                });\r\n            else\r\n                window.requestAnimationFrame(() => {\r\n                    this.changeItemParent(agl, selectedItem);\r\n                });\r\n        });\r\n    };\r\n\r\n    changeItemParent = (agl, selectedItem) => {\r\n        let size = agl.getSize(false);\r\n\r\n        if (!selectedItem || selectedItem.props.isPage)\r\n            selectedItem = this.props.editor.rootLayoutRef.current.props.aglComponent.getSectionOfPoint(\r\n                size.left, size.top, size.width, size.height\r\n            );\r\n\r\n        let newGridItemStyle = {\r\n            alignSelf: \"center\",\r\n            justifySelf: \"center\",\r\n            position: \"relative\",\r\n            marginLeft: 0,\r\n            marginRight: 0,\r\n            marginTop: 0,\r\n            marginBottom: 0,\r\n            gridArea: \"1/1/2/2\",\r\n        };\r\n\r\n        agl.props.dragdrop.dropItem(agl, agl.props.parent, selectedItem, (newItem) => {\r\n            newItem.setGridItemStyle(newGridItemStyle, newItem.props.breakpointmanager.getHighestBpName());\r\n        });\r\n    };\r\n\r\n    createItem = (item, e) => {\r\n        this.props.closeMenu(true);\r\n        let {pageRef, editor} = this.props;\r\n        let selectedItem = editor.select.getSelected();\r\n\r\n        createItem(pageRef.current, {\r\n            tagName: item.tagName,\r\n            props: cloneObject(item.presetProps)\r\n        }, undefined, undefined, undefined, (agl) => {\r\n            window.requestAnimationFrame(() => {\r\n                this.changeItemParent(agl, selectedItem);\r\n            });\r\n        });\r\n    };\r\n\r\n    setDraggingEnd = () => {\r\n        this.setState({draggingItem: undefined});\r\n    };\r\n\r\n    render() {\r\n        let {allItems, id} = this.props;\r\n        if (!allItems)\r\n            return null;\r\n\r\n        return (\r\n            <React.Fragment key={id}>\r\n                <div\r\n                    className=\"AddComponentItemGrid\"\r\n                    ref={this.rootRef}\r\n                    key={id}\r\n                >\r\n                    {\r\n                        sortBy(allItems, \"order\").map((item, index) => {\r\n                            return (\r\n                                <React.Fragment key={index}>\r\n                                    <div\r\n                                        className=\"AddComponentItemGridItem\"\r\n                                        style={this.getItemStyle(item)}\r\n                                        onDragStart={(e) => {\r\n                                            this.setDraggingItem(item, e);\r\n                                        }}\r\n                                        onDragEnd={(e) => {\r\n                                            this.setDraggingEnd();\r\n                                        }}\r\n                                        onClick={(e) => {\r\n                                            this.createItem(item, e);\r\n                                        }}\r\n                                        draggable\r\n                                    >\r\n                                        <img\r\n                                            className=\"AddComponentItemGridItemImage\"\r\n                                            src={item.imageUrl || '/static/image/box.webp'}\r\n                                            width={\"100%\"}\r\n                                            draggable={false}\r\n                                        />\r\n                                        {\r\n                                            item.label &&\r\n                                            <div\r\n                                                className=\"AddComponentItemGridItemLabel\"\r\n                                            >\r\n                                                {item.label}\r\n                                            </div>\r\n                                        }\r\n                                    </div>\r\n                                </React.Fragment>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './AddComponent.css';\r\nimport ComponentGrid from \"./ComponentGrid\";\r\nimport Divider from \"../../Menus/CommonComponents/Divider\";\r\nimport debounce from 'lodash.debounce';\r\nimport {sortBy} from \"../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class AddComponent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            percent: props.open ? 100 : 0,\r\n            componentListItem: undefined,\r\n            componentSubListItem: undefined,\r\n            componentListItemHover: undefined,\r\n            componentSubListItemHover: undefined\r\n        };\r\n\r\n        this.opening = false;\r\n        this.closing = false;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n    open = () => {\r\n        this.opening = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.setState({ open: true});\r\n        this.openInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.openInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent += (this.props.speed * this.props.interval / 1000);\r\n            if (percent >= 100) {\r\n                this.opening = false;\r\n                clearInterval(this.openInterval);\r\n            }\r\n            percent = Math.min(100, percent);\r\n            this.setState({percent});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    close = (force) => {\r\n        this.closing = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.setState({ open: false});\r\n        if (force) {\r\n            this.setState({percent: 0});\r\n            return;\r\n        }\r\n        this.closeInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.closeInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent -= (this.props.speed * this.props.interval / 1000);\r\n            if (percent <= 0) {\r\n                this.closing = false;\r\n                clearInterval(this.closeInterval);\r\n            }\r\n            percent = Math.max(0, percent);\r\n            this.setState({percent});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    toggle = (force) => {\r\n        let toggleState = !this.state.open;\r\n        this.state.open ? this.close(force) : this.open();\r\n\r\n        return toggleState;\r\n    };\r\n\r\n    setComponentListItemDebounce = debounce((componentListItem) => {\r\n        this.setComponentListItem(componentListItem);\r\n    }, 500);\r\n\r\n    setComponentListItemLeave = (componentListItem) => {\r\n        if (this.state.componentListItemHover === componentListItem) {\r\n            this.setState({componentListItemHover: undefined});\r\n        }\r\n    };\r\n\r\n    setComponentListItem = (componentListItem) => {\r\n        if (componentListItem !== this.state.componentListItem &&\r\n            componentListItem === this.state.componentListItemHover)\r\n            this.setState({componentListItem,\r\n                componentSubListItem: componentListItem.subList && Object.values(componentListItem.subList)[0]?\r\n                    Object.values(componentListItem.subList)[0][0]: undefined\r\n            });\r\n    };\r\n\r\n    setComponentSubListItemDebounce = debounce((componentSubListItem) => {\r\n        this.setComponentSubListItem(componentSubListItem);\r\n    }, 500);\r\n\r\n    setComponentSubListItemLeave = (componentSubListItem) => {\r\n        if (this.state.componentSubListItemHover === componentSubListItem) {\r\n            this.setState({componentSubListItemHover: undefined});\r\n        }\r\n    };\r\n\r\n    setComponentSubListItem = (componentSubListItem) => {\r\n        if (componentSubListItem !== this.state.componentSubListItem &&\r\n            componentSubListItem.listName === this.state.componentListItem.name &&\r\n            componentSubListItem === this.state.componentSubListItemHover)\r\n            this.setState({componentSubListItem});\r\n    };\r\n\r\n    render() {\r\n        let {allComponentData} = this.props;\r\n        if (!allComponentData)\r\n            return null;\r\n\r\n        let allItems;\r\n        if (this.state.componentListItem && this.state.componentListItem.allItems)\r\n            allItems = this.state.componentListItem.allItems;\r\n        if (this.state.componentSubListItem && this.state.componentSubListItem.allItems)\r\n            allItems = this.state.componentSubListItem.allItems;\r\n\r\n        if (!this.state.componentListItem)\r\n            allItems = undefined;\r\n\r\n        return (\r\n            <>\r\n                <div\r\n                    className=\"AddComponentRoot\"\r\n                    style={{\r\n                        left: `${this.state.percent - 100}%`,\r\n                        opacity: this.state.percent / 100\r\n                    }}\r\n                    onContextMenu={(e) => {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }}\r\n                >\r\n                    <div\r\n                        className=\"AddComponentList\"\r\n                    >\r\n                        {\r\n                            sortBy(Object.values(allComponentData.builtin), \"order\").map(componentListItem => {\r\n                                let style = {};\r\n                                if (componentListItem === this.state.componentListItem)\r\n                                    style.backgroundColor = \"#e5ffff\";\r\n                                return (\r\n                                    <div\r\n                                        key={componentListItem.name}\r\n                                        className=\"AddComponentListItem\"\r\n                                        onMouseEnter={(e) => {\r\n                                            this.setState({componentListItemHover: componentListItem});\r\n                                            this.setComponentListItemDebounce(componentListItem);\r\n                                        }}\r\n                                        onMouseOver={(e) => {\r\n                                            this.setState({componentListItemHover: componentListItem});\r\n                                            this.setComponentListItemDebounce(componentListItem);\r\n                                        }}\r\n                                        onClick={(e) => {\r\n                                            this.setComponentListItem(componentListItem);\r\n                                        }}\r\n                                        onMouseOut={(e) => {\r\n                                            this.setComponentListItemLeave(componentListItem);\r\n                                        }}\r\n                                        style={style}\r\n                                    >\r\n                                        {componentListItem.name}\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                        <Divider/>\r\n                        {\r\n                            sortBy(Object.values(allComponentData.apps), \"order\").map(componentListItem => {\r\n                                let style = {};\r\n                                if (componentListItem === this.state.componentListItem)\r\n                                    style.backgroundColor = \"#e5ffff\";\r\n                                return (\r\n                                    <div\r\n                                        key={componentListItem.name}\r\n                                        className=\"AddComponentListItem\"\r\n                                        onMouseEnter={(e) => {\r\n                                            this.setState({componentListItemHover: componentListItem});\r\n                                            this.setComponentListItemDebounce(componentListItem);\r\n                                        }}\r\n                                        onMouseOver={(e) => {\r\n                                            this.setState({componentListItemHover: componentListItem});\r\n                                            this.setComponentListItemDebounce(componentListItem);\r\n                                        }}\r\n                                        onClick={(e) => {\r\n                                            this.setComponentListItem(componentListItem);\r\n                                        }}\r\n                                        onMouseOut={(e) => {\r\n                                            this.setComponentListItemLeave(componentListItem);\r\n                                        }}\r\n                                        style={style}\r\n                                    >\r\n                                        {componentListItem.name}\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n\r\n                    {\r\n                        this.state.componentListItem &&\r\n                        this.state.componentListItem.subList &&\r\n                        <div\r\n                            className=\"AddComponentSubList\"\r\n                        >\r\n                            {\r\n                                sortBy(Object.keys(allComponentData.builtin[this.state.componentListItem.name].subList), \"order\")\r\n                                    .map(groupName => {\r\n                                        let componentSubListItems =\r\n                                            allComponentData.builtin[this.state.componentListItem.name].subList[groupName];\r\n                                        return (\r\n                                            <React.Fragment key={groupName}>\r\n                                                <div\r\n                                                    key={groupName}\r\n                                                    className=\"AddComponentSubListGroup\"\r\n                                                >\r\n                                                    {groupName}\r\n                                                </div>\r\n                                                {\r\n                                                    sortBy(componentSubListItems, \"order\").map(componentSubListItem => {\r\n                                                        let style = {};\r\n                                                        if (componentSubListItem === this.state.componentSubListItem)\r\n                                                            style.backgroundColor = \"#e5ffff\";\r\n                                                        return (\r\n                                                            <div\r\n                                                                key={componentSubListItem.name}\r\n                                                                className=\"AddComponentSubListItem\"\r\n                                                                onMouseEnter={(e) => {\r\n                                                                    this.setState({componentSubListItemHover: componentSubListItem});\r\n                                                                    this.setComponentSubListItemDebounce(componentSubListItem);\r\n                                                                }}\r\n                                                                onMouseOver={(e) => {\r\n                                                                    this.setState({componentSubListItemHover: componentSubListItem});\r\n                                                                    this.setComponentSubListItemDebounce(componentSubListItem);\r\n                                                                }}\r\n                                                                onClick={(e) => {\r\n                                                                    this.setComponentSubListItem(componentSubListItem);\r\n                                                                }}\r\n                                                                onMouseOut={(e) => {\r\n                                                                    this.setComponentSubListItemLeave(componentSubListItem);\r\n                                                                }}\r\n                                                                style={style}\r\n                                                            >\r\n                                                                {componentSubListItem.name}\r\n                                                            </div>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                            </React.Fragment>\r\n                                        )\r\n                                })\r\n                            }\r\n                        </div>\r\n                    }\r\n\r\n                    <ComponentGrid\r\n                        allItems={allItems}\r\n                        id={this.state.componentSubListItem? this.state.componentSubListItem.name:\r\n                            this.state.componentListItem? this.state.componentListItem.name: null}\r\n                        closeMenu={this.close}\r\n                        pageRef={this.props.pageRef}\r\n                        editor={this.props.editor}\r\n                    />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nAddComponent.defaultProps = {\r\n    open: false,\r\n    speed: 400,\r\n    interval: 5\r\n};\r\n","import React from \"react\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\nimport './PageTypeTitle.css';\r\n\r\nexport default class PageTypeTitle extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            open: props.defaultOpen || false\r\n        }\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <ButtonBase className=\"PageTypeTitle\" onClick={(e) => {\r\n                if (this.props.onChange)\r\n                    this.props.onChange(!this.state.open);\r\n                this.setState({open: !this.state.open});\r\n            }}>\r\n                    <span>\r\n                        {this.props.title}\r\n                    </span>\r\n\r\n                    <div className=\"PageTypeTitleExpandIcon\">\r\n                        {\r\n                            this.state.open &&\r\n                            <img draggable={false} width={10} height={10}\r\n                                 src={process.env.PUBLIC_URL + '/static/icon/down-arrow.svg'} />\r\n                        }\r\n                        {\r\n                            !this.state.open &&\r\n                            <img draggable={false} width={10} height={10}\r\n                                 src={process.env.PUBLIC_URL + '/static/icon/right-arrow.svg'} />\r\n                        }\r\n                    </div>\r\n            </ButtonBase>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './PageSetting.css';\r\nimport '../PageManager.css';\r\nimport Image from \"../../../Menus/CommonComponents/Image\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport {EditorContext} from \"../../../Editor/EditorContext\";\r\n\r\nexport default class PageInfo extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    onRename = (e) => {\r\n        this.newPageName = e.target.value;\r\n    };\r\n\r\n    rename = () => {\r\n        let {pageData} = this.props;\r\n\r\n        if (this.newPageName === pageData.props.pageName)\r\n            return;\r\n\r\n        if (!this.newPageName) {\r\n            // TODO show error\r\n            return;\r\n        }\r\n\r\n        pageData.props.pageName = this.newPageName;\r\n        this.newPageName = undefined;\r\n\r\n        this.context.update();\r\n    };\r\n\r\n    setAsHomePage = () => {\r\n        let {pageData} = this.props;\r\n        let siteData = this.context.siteData;\r\n\r\n        let home = Object.values(siteData.allPages).find(p => {return p.props.isHome});\r\n\r\n        if (home)\r\n            delete home.props.isHome;\r\n        pageData.props.isHome = true;\r\n\r\n        this.context.update();\r\n    };\r\n\r\n    render () {\r\n        let {pageData} = this.props;\r\n        return (\r\n            <div className=\"PageSettingTabPanelRoot\">\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        What's this page's name (on your menu)?\r\n                    </span>\r\n                    <input\r\n                        defaultValue={pageData.props.pageName}\r\n                        className=\"NumberInput PageManagerRenameInput PageInfoNameInput\"\r\n                        type=\"text\"\r\n                        onChange={this.onRename}\r\n                        onBlur={this.rename}\r\n                        onKeyPress={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.rename()\r\n                            }\r\n                        }}\r\n                    >\r\n                    </input>\r\n                </div>\r\n\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        <Image\r\n                            draggable={false}\r\n                            width={16}\r\n                            height={16}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/home.svg'}\r\n                            style={{\r\n                                marginTop: 2,\r\n                                marginRight: 12\r\n                            }}\r\n                        />\r\n                        {\r\n                            pageData.props.isHome &&\r\n                            \"This page is your home page\"\r\n                        }\r\n                        {\r\n                            !pageData.props.isHome &&\r\n                            \"Set this page as your home page\"\r\n                        }\r\n                        {\r\n                            !pageData.props.isHome &&\r\n                            <Button className=\"PageInfoHomePageButton\" variant=\"contained\"\r\n                                onClick={this.setAsHomePage}\r\n                            >\r\n                                Set as Home Page\r\n                            </Button>\r\n                        }\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Radio from \"@material-ui/core/Radio/Radio\";\r\n\r\nconst AglRadio = withStyles((theme) => ({\r\n    root: {\r\n        padding: 6,\r\n        '&:hover': {\r\n            backgroundColor: 'transparent',\r\n        },\r\n    },\r\n    checked: {\r\n        color: '#137cbd',\r\n    },\r\n}))(Radio);\r\n\r\nexport default AglRadio;\r\n","import React from \"react\";\r\nimport './PageSetting.css';\r\nimport '../PageManager.css';\r\nimport Image from \"../../../Menus/CommonComponents/Image\";\r\nimport GridViewer from \"../../../Menus/CommonComponents/GridViewer\";\r\nimport RadioGroup from \"@material-ui/core/RadioGroup/RadioGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel/FormControlLabel\";\r\nimport AglRadio from \"../../../Menus/CommonComponents/AglRadio\";\r\nimport Menu from \"@material-ui/core/Menu/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem/MenuItem\";\r\nimport Checkbox from \"@material-ui/core/Checkbox/Checkbox\";\r\nimport {EditorContext} from \"../../../Editor/EditorContext\";\r\n\r\nexport default class Permissions extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    changePermission = (type) => (e) => {\r\n        let {pageData} = this.props;\r\n        pageData.props.pageSetting.permissions.type = type;\r\n\r\n        this.context.update();\r\n    };\r\n\r\n    onSetPassword = (e) => {\r\n        let {pageData} = this.props;\r\n        pageData.props.pageSetting.permissions.password = e.target.value;\r\n\r\n        this.context.update();\r\n    };\r\n\r\n    onChangeMemberType = (e) => {\r\n        let {pageData} = this.props;\r\n        pageData.props.pageSetting.permissions.memberType = e.target.value;\r\n\r\n        this.context.update();\r\n    };\r\n\r\n    onRoleChange = (checked, role) => {\r\n        let {pageData} = this.props;\r\n        if (checked) {\r\n            if (pageData.props.pageSetting.permissions.memberRoles.findIndex(r => r === role) < 0)\r\n                pageData.props.pageSetting.permissions.memberRoles.push(role);\r\n        } else {\r\n            if (pageData.props.pageSetting.permissions.memberRoles.findIndex(r => r === role) >= 0) {\r\n                let index = pageData.props.pageSetting.permissions.memberRoles.findIndex(r => r === role);\r\n                pageData.props.pageSetting.permissions.memberRoles.splice(index, 1);\r\n            }\r\n        }\r\n\r\n        this.context.update();\r\n    };\r\n\r\n    render () {\r\n        let {pageData} = this.props;\r\n        let siteData = this.context.siteData;\r\n        return (\r\n            <div className=\"PageSettingTabPanelRoot\">\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        Who can view this page?\r\n                    </span>\r\n\r\n                    <GridViewer>\r\n                        <div className={`PermissionsItem ${\r\n                            pageData.props.pageSetting.permissions.type === \"Everyone\" ?\r\n                                \"PermissionsItemSelected\": \"\"}`}\r\n                             onClick={this.changePermission(\"Everyone\")}\r\n                        >\r\n                            <Image\r\n                                className=\"PermissionsItemImage\"\r\n                                draggable={false}\r\n                                width={92}\r\n                                height={92}\r\n                                src={process.env.PUBLIC_URL + '/static/icon/world.svg'}\r\n                            />\r\n\r\n                            <span className=\"PermissionsItemTitle\">\r\n                                Everyone\r\n                            </span>\r\n                        </div>\r\n                        <div className={`PermissionsItem ${\r\n                            pageData.props.pageSetting.permissions.type === \"Password Holder\" ?\r\n                                \"PermissionsItemSelected\": \"\"}`}\r\n                             onClick={this.changePermission(\"Password Holder\")}\r\n                        >\r\n                            <Image\r\n                                className=\"PermissionsItemImage\"\r\n                                draggable={false}\r\n                                width={92}\r\n                                height={92}\r\n                                src={process.env.PUBLIC_URL + '/static/icon/password.svg'}\r\n                            />\r\n\r\n                            <span className=\"PermissionsItemTitle\">\r\n                                Password Holder\r\n                            </span>\r\n                        </div>\r\n                        <div className={`PermissionsItem ${\r\n                            pageData.props.pageSetting.permissions.type === \"Member Only\" ?\r\n                                \"PermissionsItemSelected\": \"\"}`}\r\n                             onClick={this.changePermission(\"Member Only\")}\r\n                        >\r\n                            <Image\r\n                                className=\"PermissionsItemImage\"\r\n                                draggable={false}\r\n                                width={92}\r\n                                height={92}\r\n                                src={process.env.PUBLIC_URL + '/static/icon/group.svg'}\r\n                            />\r\n\r\n                            <span className=\"PermissionsItemTitle\">\r\n                                Member Only\r\n                            </span>\r\n                        </div>\r\n                    </GridViewer>\r\n\r\n                    <span className=\"PermissionsDescription\">\r\n                        {\r\n                            pageData.props.pageSetting.permissions.type === \"Everyone\" &&\r\n                            \"Everyone can see this page\"\r\n                        }\r\n                        {\r\n                            pageData.props.pageSetting.permissions.type === \"Password Holder\" &&\r\n                            \"Visitors with a password can see this page\"\r\n                        }\r\n                        {\r\n                            pageData.props.pageSetting.permissions.type === \"Member Only\" &&\r\n                            \"Visitors need to sign up to see this page\"\r\n                        }\r\n                    </span>\r\n                </div>\r\n\r\n                {\r\n                    pageData.props.pageSetting.permissions.type === \"Password Holder\" &&\r\n                    <div className=\"PageInfoBox\">\r\n                        <span className=\"PageInfoBoxTitle\">\r\n                            What's the page's password?\r\n                        </span>\r\n\r\n                        <input\r\n                            defaultValue={pageData.props.pageSetting.permissions.password}\r\n                            className=\"NumberInput PageManagerRenameInput PageInfoNameInput\"\r\n                            type=\"text\"\r\n                            onChange={this.onSetPassword}\r\n                        >\r\n                        </input>\r\n                    </div>\r\n                }\r\n\r\n                {\r\n                    pageData.props.pageSetting.permissions.type === \"Member Only\" &&\r\n                    <div className=\"PageInfoBox\">\r\n                        <span className=\"PageInfoBoxTitle\">\r\n                            Which member can access this page?\r\n                        </span>\r\n\r\n                        <RadioGroup className=\"PermissionsRadioGroup\"\r\n                                    value={pageData.props.pageSetting.permissions.memberType}\r\n                                    onChange={this.onChangeMemberType}\r\n                        >\r\n                            <FormControlLabel\r\n                                value=\"all\" control={<AglRadio color='default' />}\r\n                                label={<span className=\"PermissionsFormLabel\">\r\n                                    All members\r\n                                </span>}\r\n                            />\r\n                            <FormControlLabel\r\n                                className=\"PermissionsFormLabel\"\r\n                                value=\"role\" control={<AglRadio color='default' />}\r\n                                label={<span className=\"PermissionsFormLabel\">\r\n                                    Members with some role\r\n                                </span>}\r\n                            />\r\n                            <FormControlLabel\r\n                                disabled\r\n                                className=\"PermissionsFormLabel\"\r\n                                value=\"pay\" control={<AglRadio color='default' />}\r\n                                label={<span className=\"PermissionsFormLabel\">\r\n                                    Paying customers\r\n                                </span>}\r\n                            />\r\n                        </RadioGroup>\r\n\r\n                        {\r\n                            pageData.props.pageSetting.permissions.memberType === \"role\" &&\r\n                            <div className=\"PageInfoBox\">\r\n                                <span className=\"PageInfoBoxTitle\">\r\n                                    Select from your member roles\r\n                                </span>\r\n\r\n                                <div className=\"PermissionsRolesInput NumberInput PageManagerRenameInput\"\r\n                                    onClick={(e) => {\r\n                                        this.setState({roleAnchor: e.target})\r\n                                    }}\r\n                                >\r\n                                    {\r\n                                        pageData.props.pageSetting.permissions.memberRoles.map(role => {\r\n                                            return role;\r\n                                        }).join(\" \")\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        }\r\n\r\n                        {\r\n                            this.state.roleAnchor &&\r\n                            <Menu\r\n                                style={{\r\n                                    zIndex: 99999999999,\r\n                                }}\r\n                                anchorEl={this.state.roleAnchor}\r\n                                open={this.state.roleAnchor !== undefined}\r\n                                onClose={(e) => {\r\n                                    this.setState({roleAnchor: undefined})\r\n                                }}\r\n                                MenuListProps={{\r\n                                    style: {\r\n                                        padding: 0,\r\n                                    }\r\n                                }}\r\n                            >\r\n                                <MenuItem dense disabled style={{\r\n                                    opacity: 1\r\n                                }}>\r\n                                    <span className=\"PermissionsSelectRole\">\r\n                                        Select roles\r\n                                    </span>\r\n                                </MenuItem>\r\n\r\n                                {\r\n                                    siteData.allApps.member.setting.roles.map(role => {\r\n                                        return (\r\n                                            <MenuItem dense onClick={(e) => {\r\n                                                this.onRoleChange(!(pageData.props.pageSetting.permissions.memberRoles\r\n                                                    .findIndex(r => r === role) > -1), role);\r\n                                            }}\r\n                                                      key={role}\r\n                                                      style={{\r\n                                                          paddingTop: 0,\r\n                                                          paddingBottom: 0\r\n                                                      }}\r\n                                            >\r\n                                                <Checkbox\r\n                                                    size={'small'}\r\n                                                    checked={\r\n                                                        pageData.props.pageSetting.permissions.memberRoles\r\n                                                            .findIndex(r => r === role) > -1\r\n                                                    }\r\n                                                    onChange={(e) => {\r\n                                                        this.onRoleChange(e.target.checked, role);\r\n                                                    }}\r\n                                                    color=\"default\"\r\n                                                />\r\n                                                <span className=\"PermissionsRole\">\r\n                                                    {role}\r\n                                                </span>\r\n                                            </MenuItem>\r\n                                        )\r\n                                    })\r\n                                }\r\n\r\n                                <MenuItem dense onClick={(e) => {\r\n                                    // TODO connect to member manager\r\n                                    console.log(\"Soon\")\r\n                                }}\r\n                                >\r\n                                    <span className=\"PermissionsNewRole\">\r\n                                        Add New Role\r\n                                    </span>\r\n                                </MenuItem>\r\n                            </Menu>\r\n                        }\r\n\r\n                        {\r\n                            pageData.props.pageSetting.permissions.memberType === \"pay\" &&\r\n                            <div className=\"PageInfoBox\">\r\n                                <span className=\"PageInfoBoxTitle\">\r\n                                    Coming soon\r\n                                </span>\r\n\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './PageSetting.css';\r\nimport '../PageManager.css';\r\nimport Switch from \"@material-ui/core/Switch/Switch\";\r\nimport {EditorContext} from \"../../../Editor/EditorContext\";\r\n\r\nexport default class SeoGoogle extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    onChangeSeoSetting = (param) => (e, value) => {\r\n        let {pageData} = this.props;\r\n\r\n        value = value || e.target.value;\r\n        console.log(\"onChangeSeoSetting\", value, param);\r\n        if (param === \"endUrl\") {\r\n            if (!this.newEndUrl)\r\n                return;\r\n\r\n            value = this.newEndUrl.replace(/\\s+/g, '').toLowerCase();\r\n            let siteData = this.context.siteData;\r\n            let same = Object.values(siteData.allPages).find(p => p.props.pageSetting.seoGoogle.endUrl === value);\r\n            if (same) {\r\n                console.log(\"onChangeSeoSetting2\");\r\n                this.setState({endUrlError: true});\r\n                delete this.newEndUrl;\r\n                return;\r\n            }\r\n\r\n            delete this.newEndUrl;\r\n        }\r\n\r\n        pageData.props.pageSetting.seoGoogle[param] = value;\r\n\r\n        this.context.update();\r\n    };\r\n\r\n    render () {\r\n        let {pageData} = this.props;\r\n        let siteData = this.context.siteData;\r\n        return (\r\n            <div className=\"PageSettingTabPanelRoot\">\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        Preview on Google search\r\n                    </span>\r\n\r\n                    <div className=\"SeoGooglePreviewRoot\">\r\n                        <span className=\"SeoGooglePreviewTitle\">\r\n                            {\r\n                                pageData.props.pageSetting.seoGoogle.pageTitle ||\r\n                                    pageData.props.pageName\r\n                            }\r\n                        </span>\r\n                        <span className=\"SeoGooglePreviewUrl\">\r\n                            {\r\n                                siteData.setting.baseUrl + (\r\n                                    pageData.props.pageSetting.seoGoogle.endUrl ||\r\n                                    pageData.props.pageName.toLowerCase()\r\n                                )\r\n                            }\r\n                        </span>\r\n                        <span className=\"SeoGooglePreviewDesc\">\r\n                            {\r\n                                pageData.props.pageSetting.seoGoogle.pageDescription\r\n                            }\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        What's the lat part (or slug) of url?\r\n                    </span>\r\n\r\n                    <input\r\n                        defaultValue={pageData.props.pageSetting.seoGoogle.endUrl || pageData.props.pageName.toLowerCase()}\r\n                        className={`PageSettingInput PageManagerRenameInput PageInfoNameInput ${\r\n                            this.state.endUrlError? 'PageInfoNameInputError': \"\"\r\n                        }`}\r\n                        type=\"text\"\r\n                        onChange={(e) => {\r\n                            this.newEndUrl = e.target.value;\r\n                            this.setState({endUrlError: undefined});\r\n                        }}\r\n                        onBlur={this.onChangeSeoSetting(\"endUrl\")}\r\n                        onKeyPress={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.onChangeSeoSetting(\"endUrl\")(e);\r\n                            }\r\n                        }}\r\n                    >\r\n                    </input>\r\n                </div>\r\n\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        What's the page's title on search results and browser tabs?\r\n                    </span>\r\n\r\n                    <input\r\n                        defaultValue={pageData.props.pageSetting.seoGoogle.pageTitle || pageData.props.pageName}\r\n                        className=\"PageSettingInput PageManagerRenameInput PageInfoNameInput\"\r\n                        type=\"text\"\r\n                        onChange={(e) => {\r\n                            this.newPageTitle = e.target.value;\r\n                        }}\r\n                        onBlur={(e) => {\r\n                            this.onChangeSeoSetting(\"pageTitle\")(e, this.newPageTitle);\r\n                        }}\r\n                        onKeyPress={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.onChangeSeoSetting(\"pageTitle\")(e, this.newPageTitle);\r\n                            }\r\n                        }}\r\n                    >\r\n                    </input>\r\n                </div>\r\n\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        What's the page about? Add a description\r\n                    </span>\r\n\r\n                    <textarea\r\n                        defaultValue={pageData.props.pageSetting.seoGoogle.pageDescription}\r\n                        className=\"PageSettingInput PageManagerRenameInput PageInfoNameInput\"\r\n                        style={{\r\n                            resize: \"none\",\r\n                            minHeight: 120\r\n                        }}\r\n                        onChange={(e) => {\r\n                            this.newPageDescription = e.target.value;\r\n                        }}\r\n                        onBlur={(e) => {\r\n                            this.onChangeSeoSetting(\"pageDescription\")(e, this.newPageDescription);\r\n                        }}\r\n                        onKeyPress={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.onChangeSeoSetting(\"pageDescription\")(e, this.newPageDescription);\r\n                            }\r\n                        }}\r\n                        rows={5}\r\n                    >\r\n                    </textarea>\r\n                </div>\r\n\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        Show this page in search results\r\n                    </span>\r\n\r\n                    <Switch\r\n                        className=\"SeoGoogleShowInSearch\"\r\n                        checked={\r\n                            pageData.props.pageSetting.permissions.type === \"Everyone\" ?\r\n                            pageData.props.pageSetting.seoGoogle.showInSearch: false\r\n                        }\r\n                        disabled={pageData.props.pageSetting.permissions.type !== \"Everyone\"}\r\n                        onChange={(e) => {\r\n                            let checked = e.target.checked;\r\n                            this.onChangeSeoSetting('showInSearch')(e, checked);\r\n                        }}\r\n                    />\r\n                </div>\r\n\r\n                {\r\n                    pageData.props.pageSetting.permissions.type !== \"Everyone\" &&\r\n                    <div className=\"PageInfoBox\">\r\n                        <span className=\"PageInfoBoxTitle\">\r\n                            Note: Youve made changes to who can view this page, so it wont show in search results. Go to the Permissions tab to change this.\r\n                        </span>\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './PageSetting.css';\r\nimport '../PageManager.css';\r\nimport Image from \"../../../Menus/CommonComponents/Image\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport {EditorContext} from \"../../../Editor/EditorContext\";\r\n\r\nexport default class SocialShare extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    onChangeSocialShareSetting = (param) => (e, value) => {\r\n        let {pageData} = this.props;\r\n\r\n        value = value || e.target.value;\r\n        pageData.props.pageSetting.socialShare[param] = value;\r\n\r\n        this.context.update();\r\n    };\r\n\r\n    render () {\r\n        let {pageData} = this.props;\r\n        let siteData = this.context.siteData;\r\n        return (\r\n            <div className=\"PageSettingTabPanelRoot\">\r\n                <div className=\"PageInfoBox\">\r\n                    <div className=\"SocialShareTitle\">\r\n                        What is Social Share\r\n                    </div>\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        Add the text and image that display when this page is shared on social networks like Facebook, Instagram and more.\r\n                    </span>\r\n                </div>\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        Preview on social\r\n                    </span>\r\n\r\n                    <div className=\"SocialPreviewBox\">\r\n                        <div className=\"SocialPreviewRoot\">\r\n                            <span className=\"SocialPreviewImageNoImage\">\r\n                                {\r\n                                    pageData.props.pageSetting.socialShare.imageUrl &&\r\n                                    <Image\r\n                                        className=\"SocialPreviewImage\"\r\n                                        src={pageData.props.pageSetting.socialShare.imageUrl}\r\n                                    />\r\n                                }\r\n\r\n                                <Button\r\n                                    className=\"SocialPreviewImageSelect\"\r\n                                >\r\n                                    Upload or Select an Image\r\n                                </Button>\r\n                            </span>\r\n                            <div className=\"SocialPreviewDetailBox\">\r\n                                <span className=\"SocialPreviewUrl\">\r\n                                    {\r\n                                        siteData.setting.baseUrl.substring(0, siteData.setting.baseUrl.lastIndexOf('/'))\r\n                                            .replace(/(^\\w+:|^)\\/\\//, '')\r\n\r\n                                    }\r\n                                </span>\r\n                                <span className=\"SocialPreviewTitle\">\r\n                                    {\r\n                                        pageData.props.pageSetting.socialShare.title ||\r\n                                        pageData.props.pageSetting.seoGoogle.pageTitle\r\n                                    }\r\n                                </span>\r\n                                <span className=\"SocialPreviewDescription\">\r\n                                    {\r\n                                        pageData.props.pageSetting.socialShare.description ||\r\n                                        pageData.props.pageSetting.seoGoogle.pageDescription\r\n                                    }\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        What's the page's title on social networks?\r\n                    </span>\r\n\r\n                    <input\r\n                        defaultValue={pageData.props.pageSetting.socialShare.title ||\r\n                            pageData.props.pageSetting.seoGoogle.pageTitle || pageData.props.pageName}\r\n                        className=\"PageSettingInput PageManagerRenameInput PageInfoNameInput\"\r\n                        type=\"text\"\r\n                        onChange={(e) => {\r\n                            this.newTitle = e.target.value;\r\n                        }}\r\n                        onBlur={(e) => {\r\n                            this.onChangeSocialShareSetting(\"title\")(e, this.newTitle);\r\n                        }}\r\n                        onKeyPress={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.onChangeSocialShareSetting(\"title\")(e, this.newTitle);\r\n                            }\r\n                        }}\r\n                    >\r\n                    </input>\r\n                </div>\r\n\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        What's the page about? Add a description\r\n                    </span>\r\n\r\n                    <textarea\r\n                        defaultValue={pageData.props.pageSetting.socialShare.description ||\r\n                            pageData.props.pageSetting.seoGoogle.pageDescription}\r\n                        className=\"PageSettingInput PageManagerRenameInput PageInfoNameInput\"\r\n                        style={{\r\n                            resize: \"none\",\r\n                            minHeight: 120\r\n                        }}\r\n                        onChange={(e) => {\r\n                            this.newDescription = e.target.value;\r\n                        }}\r\n                        onBlur={(e) => {\r\n                            this.onChangeSocialShareSetting(\"description\")(e, this.newDescription);\r\n                        }}\r\n                        onKeyPress={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.onChangeSocialShareSetting(\"description\")(e, this.newDescription);\r\n                            }\r\n                        }}\r\n                        rows={5}\r\n                    >\r\n                    </textarea>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './PageSetting.css';\r\nimport '../PageManager.css';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport IconButton from \"../../../HelperComponents/IconButton\";\r\nimport Tabs from \"@material-ui/core/Tabs/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab/Tab\";\r\nimport PageInfo from \"./PageInfo\";\r\nimport Permissions from \"./Permissions\";\r\nimport SeoGoogle from \"./SeoGoogle\";\r\nimport SocialShare from \"./SocialShare\";\r\n\r\nexport default class PageSetting extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            tabValue: \"Page Info\"\r\n        }\r\n    }\r\n\r\n    onChangeTab = (e, tabValue) => {\r\n        this.setState({tabValue});\r\n    };\r\n\r\n    render () {\r\n        let {pageData} = this.props;\r\n        return (\r\n            <Modal\r\n                open={this.props.open}\r\n                onClose={this.props.onClose}\r\n                aria-labelledby=\"simple-modal-title\"\r\n                aria-describedby=\"simple-modal-description\"\r\n                className=\"PageSettingModal\"\r\n                disableBackdropClick\r\n            >\r\n                <div className=\"PageSettingRoot\">\r\n                    {/*Header*/}\r\n                    <div className=\"PageSettingHeader\">\r\n                        <div\r\n                            className=\"PageManagerHeaderContainer\"\r\n                        >\r\n                            <span className=\"PageManagerHeaderTitle\">\r\n                                Page Setting ({pageData.props.pageName})\r\n                            </span>\r\n\r\n                            <IconButton\r\n                                onClick={this.props.onClose}\r\n                            >\r\n                                <img\r\n                                    draggable={false}\r\n                                    width={12}\r\n                                    height={12}\r\n                                    src={require('../../../icons/close.svg')}\r\n                                />\r\n                            </IconButton>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <Tabs\r\n                        className=\"PageSettingTabBox\"\r\n                        value={this.state.tabValue}\r\n                        indicatorColor=\"primary\"\r\n                        textColor=\"primary\"\r\n                        onChange={this.onChangeTab}\r\n                        aria-label=\"disabled tabs example\"\r\n                    >\r\n                        <Tab label=\"Page Info\" value=\"Page Info\" className=\"PageSettingTab\"/>\r\n                        <Tab label=\"Permissions\" value=\"Permissions\" className=\"PageSettingTab\"/>\r\n                        <Tab label=\"SEO (Google)\" value=\"SEO (Google)\" className=\"PageSettingTab\"/>\r\n                        <Tab label=\"Social Share\" value=\"Social Share\" className=\"PageSettingTab\"/>\r\n                        <Tab label=\"Advanced SEO\" value=\"Advanced SEO\" className=\"PageSettingTab\"/>\r\n\r\n                    </Tabs>\r\n\r\n                    {\r\n                        this.state.tabValue === \"Page Info\" &&\r\n                        <PageInfo\r\n                            pageData={pageData}\r\n                        />\r\n                    }\r\n\r\n                    {\r\n                        this.state.tabValue === \"Permissions\" &&\r\n                        <Permissions\r\n                            pageData={pageData}\r\n                        />\r\n                    }\r\n\r\n                    {\r\n                        this.state.tabValue === \"SEO (Google)\" &&\r\n                        <SeoGoogle\r\n                            pageData={pageData}\r\n                        />\r\n                    }\r\n\r\n                    {\r\n                        this.state.tabValue === \"Social Share\" &&\r\n                        <SocialShare\r\n                            pageData={pageData}\r\n                        />\r\n                    }\r\n\r\n                    {\r\n                        this.state.tabValue === \"Advanced SEO\" &&\r\n                        <div style={{\r\n                            height: \"100%\",\r\n                            display: \"flex\",\r\n                            alignItems: \"center\",\r\n                            justifyContent: \"center\",\r\n                            fontSize: 12,\r\n                            fontWeight: \"bold\"\r\n                        }}>\r\n                            Coming Soon\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './PageManager.css';\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport Image from \"../../Menus/CommonComponents/Image\";\r\nimport Menu from \"@material-ui/core/Menu/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem/MenuItem\";\r\nimport classNames from \"classnames\";\r\nimport {cloneObject} from \"../../AwesomeGridLayoutUtils\";\r\nimport PageSetting from \"./PageSetting/PageSetting\";\r\nimport {v4 as uuidv4} from \"uuid\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class PageItem extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            pageMenuAnchorEl: undefined\r\n        };\r\n\r\n        this.renameInput = React.createRef();\r\n    }\r\n\r\n    duplicate = () => {\r\n        // TODO ask verify\r\n        let {pageData, editor} = this.props;\r\n\r\n        let newName = `${pageData.props.pageName}(Copy)`;\r\n        let newId = uuidv4();\r\n\r\n        this.context.siteData.allPages[newId] = cloneObject(pageData);\r\n        this.context.siteData.allPages[newId].props.pageName = newName;\r\n        this.context.siteData.allPages[newId].props.pageId = newId;\r\n        delete this.context.siteData.allPages[newId].props.isHome;\r\n\r\n        this.setState({pageMenuAnchorEl: undefined});\r\n        editor.setState({reload: true});\r\n    };\r\n\r\n    delete = () => {\r\n        // TODO ask verify\r\n        let {pageData, editor} = this.props;\r\n\r\n        delete this.context.siteData.allPages[pageData.props.pageId];\r\n\r\n        this.setState({pageMenuAnchorEl: undefined});\r\n        editor.onPageChange(Object.keys(this.context.siteData.allPages)[0], true);\r\n    };\r\n\r\n    setAsHome = () => {\r\n        let {pageData, editor} = this.props;\r\n        let home = Object.values(this.context.siteData.allPages).find(p => {return p.props.isHome});\r\n\r\n        if (home)\r\n            delete home.props.isHome;\r\n        pageData.props.isHome = true;\r\n\r\n        this.setState({pageMenuAnchorEl: undefined});\r\n        editor.setState({reload: true});\r\n    };\r\n\r\n    setting = (active) => {\r\n        this.setState({setting: active, pageMenuAnchorEl: undefined});\r\n    };\r\n\r\n    rename = (active) => {\r\n        this.setState({rename: active, pageMenuAnchorEl: undefined}, () => {\r\n            if (active)\r\n                this.renameInput.current.focus();\r\n        });\r\n\r\n        if (!active) {\r\n            let {pageData, editor} = this.props;\r\n\r\n            if (this.newPageName === pageData.props.pageName)\r\n                return;\r\n\r\n            if (!this.newPageName) {\r\n                // TODO show error\r\n                return;\r\n            }\r\n\r\n            pageData.props.pageName = this.newPageName;\r\n            this.newPageName = undefined;\r\n\r\n            editor.setState({reload: true});\r\n        }\r\n    };\r\n\r\n    onRename = (e) => {\r\n        this.newPageName = e.target.value;\r\n    };\r\n\r\n    render () {\r\n        let {pageData, onClick, editor} = this.props;\r\n        let boxClasses = classNames(\r\n            \"PageManagerNormalPageBox\",\r\n            this.context.pageData === pageData && \"PageManagerNormalPageBoxSelected\"\r\n        );\r\n        return (\r\n            <div className={boxClasses} key={pageData.props.pageId}\r\n            >\r\n                {\r\n                    !this.state.rename &&\r\n                    <span className=\"PageManagerNormalPageTitle\">\r\n                        {pageData.props.pageName}\r\n                    </span>\r\n                }\r\n\r\n                <div className=\"PageManagerNormalPageClick\" onClick={onClick}>\r\n\r\n                </div>\r\n\r\n                {\r\n                    this.state.rename &&\r\n                    <input\r\n                        ref={this.renameInput}\r\n                        defaultValue={pageData.props.pageName}\r\n                        className=\"NumberInput PageManagerRenameInput\"\r\n                        type=\"text\"\r\n                        onChange={this.onRename}\r\n                        onBlur={(e) => this.rename(false)}\r\n                        onKeyPress={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.rename(false)\r\n                            }\r\n                        }}\r\n                        onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            e.preventDefault();\r\n                            // TODO\r\n                        }}\r\n                    >\r\n                    </input>\r\n                }\r\n\r\n                {\r\n                    pageData.props.isHome &&\r\n                    <IconButton\r\n                        className=\"PageManagerNormalSiteButton\"\r\n                        onClick={(e) => {\r\n                            // TODO\r\n                        }}\r\n                        disabled\r\n                    >\r\n                        <Image\r\n                            src={process.env.PUBLIC_URL + '/static/icon/home.svg'}\r\n                            width={16}\r\n                            height={16}\r\n                        />\r\n                    </IconButton>\r\n                }\r\n\r\n                <IconButton\r\n                    className=\"PageManagerNormalSiteButton\"\r\n                    onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                        this.setState({pageMenuAnchorEl: e.target})\r\n                    }}\r\n                >\r\n                    <Image\r\n                        src={process.env.PUBLIC_URL + '/static/icon/more-black.svg'}\r\n                        width={16}\r\n                        height={16}\r\n                    />\r\n                </IconButton>\r\n\r\n                {\r\n                    this.state.pageMenuAnchorEl &&\r\n                    <Menu\r\n                        style={{\r\n                            zIndex: 99999999999\r\n                        }}\r\n                        anchorEl={this.state.pageMenuAnchorEl}\r\n                        open={this.state.pageMenuAnchorEl !== undefined}\r\n                        onClose={(e) => {\r\n                            e.stopPropagation();\r\n                            e.preventDefault();\r\n                            this.setState({pageMenuAnchorEl: undefined});\r\n                        }}\r\n                        MenuListProps={{\r\n                            style: {\r\n                                padding: 0,\r\n                            }\r\n                        }}\r\n                    >\r\n                        <MenuItem dense onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            e.preventDefault();\r\n                            this.setting(true);\r\n                        }}\r\n                        >\r\n                            Setting\r\n                        </MenuItem>\r\n                        <MenuItem dense onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            e.preventDefault();\r\n                            this.rename(true)\r\n                        }}>\r\n                            Rename\r\n                        </MenuItem>\r\n                        <MenuItem dense onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            e.preventDefault();\r\n                            this.duplicate(true)\r\n                        }}\r\n                        >\r\n                            Duplicate\r\n                        </MenuItem>\r\n                        {\r\n                            !pageData.props.isHome &&\r\n                            <MenuItem dense onClick={(e) => {\r\n                                e.stopPropagation();\r\n                                e.preventDefault();\r\n                                this.delete()\r\n                            }}\r\n                            >\r\n                                Delete\r\n                            </MenuItem>\r\n                        }\r\n                        {\r\n                            !pageData.props.isHome && !pageData.props.isDynamic &&\r\n                            <MenuItem dense onClick={(e) => {\r\n                                e.stopPropagation();\r\n                                e.preventDefault();\r\n                                this.setAsHome()\r\n                            }}\r\n                            >\r\n                                Set as Home Page\r\n                            </MenuItem>\r\n                        }\r\n                        <MenuItem dense onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            e.preventDefault();\r\n                            this.setState({pageMenuAnchorEl: undefined});\r\n                            onClick();\r\n                        }} >\r\n                            Edit Page\r\n                        </MenuItem>\r\n                    </Menu>\r\n                }\r\n\r\n                {\r\n                    this.state.setting &&\r\n                    <PageSetting\r\n                        open={this.state.setting !== undefined}\r\n                        onClose={() => this.setState({setting: undefined})}\r\n                        pageData={pageData}\r\n                        editor={editor}\r\n                    />\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './AddNewPageDialogItem.css';\r\n\r\nexport default class AddNewPageDialogItem extends React.Component {\r\n    render () {\r\n        return (\r\n            <div className=\"AddNewPageDialogItemRoot\">\r\n                <span className=\"AddNewPageDialogItemTitle\">\r\n                    {this.props.title}\r\n                </span>\r\n\r\n                <span className=\"AddNewPageDialogItemDesc\">\r\n                    {this.props.description}\r\n                </span>\r\n\r\n                <span className=\"AddNewPageDialogItemAdd\">\r\n                    Add\r\n                </span>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './PageManager.css';\r\nimport Menu from \"@material-ui/core/Menu/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem/MenuItem\";\r\nimport AddNewPageDialogItem from \"./AddNewPageDialogItem\";\r\n\r\nexport default class AddNewPageDialog extends React.Component {\r\n    addNormalPage = () => {\r\n        this.props.onClose();\r\n        this.props.onAddNormalPage();\r\n    };\r\n\r\n    addDynamicPage = () => {\r\n        this.props.onClose();\r\n        this.props.onAddDynamicPage();\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <Menu\r\n                style={{\r\n                    zIndex: 99999999999,\r\n                }}\r\n                anchorEl={this.props.anchorEl}\r\n                open={this.props.open}\r\n                onClose={(e) => {\r\n                    this.props.onClose();\r\n                }}\r\n                MenuListProps={{\r\n                    style: {\r\n                        padding: 0,\r\n                    }\r\n                }}\r\n            >\r\n                <MenuItem dense onClick={(e) => {\r\n                    this.addNormalPage();\r\n                }}\r\n                >\r\n                    <AddNewPageDialogItem\r\n                        title={\"Page\"}\r\n                        description={\"Add a standard blank page\"}\r\n                    />\r\n                </MenuItem>\r\n                <MenuItem dense onClick={(e) => {\r\n                    this.addDynamicPage();\r\n                }}>\r\n                    <AddNewPageDialogItem\r\n                        title={\"Dynamic Page\"}\r\n                        description={\"Design once and generate a lot of different page\"}\r\n                    />\r\n                </MenuItem>\r\n            </Menu>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './PageManager.css';\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport Image from \"../../Menus/CommonComponents/Image\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\nimport PageTypeTitle from \"./PageTypeTitle\";\r\nimport PageItem from \"./PageItem\";\r\nimport AddNewPageDialog from \"./AddNewPageDialog\";\r\nimport {v4 as uuidv4} from \"uuid\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class PageManager extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            percent: props.open ? 100 : 0,\r\n            openNormalPage: true,\r\n            openDynamicPage: false\r\n        };\r\n\r\n        this.opening = false;\r\n        this.closing = false;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n\r\n\r\n    open = () => {\r\n        this.opening = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.setState({ open: true});\r\n        this.openInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.openInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent += (this.props.speed * this.props.interval / 1000);\r\n            if (percent >= 100) {\r\n                this.opening = false;\r\n                clearInterval(this.openInterval);\r\n            }\r\n            percent = Math.min(100, percent);\r\n            this.setState({percent});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    close = (force) => {\r\n        this.closing = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.setState({ open: false});\r\n        if (force) {\r\n            this.setState({percent: 0});\r\n            return;\r\n        }\r\n        this.closeInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.closeInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent -= (this.props.speed * this.props.interval / 1000);\r\n            if (percent <= 0) {\r\n                this.closing = false;\r\n                clearInterval(this.closeInterval);\r\n            }\r\n            percent = Math.max(0, percent);\r\n            this.setState({percent});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    toggle = (force) => {\r\n        let toggleState = !this.state.open;\r\n        this.state.open ? this.close(force) : this.open();\r\n\r\n        return toggleState;\r\n    };\r\n\r\n    onChangeSearch = (e) => {\r\n        let searchValue = e.target.value;\r\n        this.setState({searchValue});\r\n    };\r\n\r\n    getFilteredPages = () => {\r\n        let {siteData} = this.context;\r\n        return Object.keys(siteData.allPages).filter(siteId => {\r\n            if (!this.state.searchValue)\r\n                return true;\r\n\r\n            let pageData = siteData.allPages[siteId];\r\n\r\n            return pageData.props.pageName.toLowerCase().includes(this.state.searchValue.toLowerCase());\r\n        }).map(siteId => {\r\n            return siteData.allPages[siteId];\r\n        });\r\n    };\r\n\r\n    onPageClick = (pageData) => {\r\n        this.context.setPageData(pageData.props.pageId);\r\n    };\r\n\r\n    onAddNormalPage = () => {\r\n        let {siteData} = this.context;\r\n\r\n        if (!this.props.newPageDataUrl) {\r\n            fetch('/static/json/newPageData.json')\r\n                .then((r) => r.json())\r\n                .then((pageData) =>{\r\n                    let newName = \"New Page\";\r\n                    let newId = uuidv4();\r\n\r\n                    pageData.props.pageName = newName;\r\n                    pageData.props.pageId = newId;\r\n\r\n                    siteData.allPages[newId] = pageData;\r\n\r\n                    this.onPageClick(siteData.allPages[newId]);\r\n                });\r\n            // return;\r\n        }\r\n    };\r\n\r\n    onAddDynamicPage = (data) => {\r\n        // TODO\r\n    };\r\n\r\n    render() {\r\n        let {siteData} = this.context;\r\n\r\n        if (!siteData)\r\n            return null;\r\n\r\n        return (\r\n            <>\r\n                <div\r\n                    className=\"PageManagerRoot\"\r\n                    style={{\r\n                        left: `${this.state.percent - 100}%`,\r\n                        opacity: this.state.percent / 100\r\n                    }}\r\n                    onContextMenu={(e) => {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }}\r\n                >\r\n                    {/*Header*/}\r\n                    <div className=\"PageManagerHeader\">\r\n                        <div\r\n                            className=\"PageManagerHeaderContainer\"\r\n                        >\r\n                            <span className=\"PageManagerHeaderTitle\">\r\n                                Site Pages\r\n                            </span>\r\n\r\n                            <IconButton\r\n                                onClick={() => {\r\n                                    this.context.toggleRightMenu(\"pageManager\", false);\r\n                                }}\r\n                            >\r\n                                <img\r\n                                    draggable={false}\r\n                                    width={12}\r\n                                    height={12}\r\n                                    src={require('../../icons/close.svg')}\r\n                                />\r\n                            </IconButton>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/*Search box*/}\r\n                    <div className=\"PageManagerSearchBox\">\r\n                        <input\r\n                            className=\"NumberInput PageManagerSearchInput\"\r\n                            type=\"text\"\r\n                            onChange={this.onChangeSearch}\r\n                        >\r\n                        </input>\r\n\r\n                        <Image\r\n                            className=\"PageManagerSearchImage\"\r\n                            src={process.env.PUBLIC_URL + '/static/icon/search.svg'}\r\n                        />\r\n                    </div>\r\n\r\n                    {/*Sites list*/}\r\n\r\n                    <PageTypeTitle\r\n                        defaultOpen={this.state.openNormalPage}\r\n                        title=\"Main Pages\" onChange={(openNormalPage) => {\r\n                        this.setState({openNormalPage});\r\n                    }}/>\r\n\r\n                    <div className=\"PageManagerNormalPageList\">\r\n                        {\r\n                            this.state.openNormalPage &&\r\n                            this.getFilteredPages().map(pageData => {\r\n                                return (\r\n                                    <PageItem\r\n                                        key={pageData.props.pageId}\r\n                                        pageData={pageData}\r\n                                        onClick={(e) => {\r\n                                            this.onPageClick(pageData);\r\n                                        }}\r\n                                        editor={this.props.editor}\r\n                                    />\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n\r\n\r\n                    <ButtonBase className=\"PageManagerAddPageButton\"\r\n                        onClick={(e) => {\r\n                            this.setState({showAddPage: e.target})\r\n                        }}\r\n                    >\r\n                        Add New Page\r\n                    </ButtonBase>\r\n\r\n                    {\r\n                        this.state.showAddPage &&\r\n                        <AddNewPageDialog\r\n                            anchorEl={this.state.showAddPage}\r\n                            open={this.state.showAddPage !== undefined}\r\n                            onClose={(e) => {\r\n                                this.setState({showAddPage: undefined})\r\n                            }}\r\n                            onAddDynamicPage={this.onAddDynamicPage}\r\n                            onAddNormalPage={this.onAddNormalPage}\r\n                        />\r\n                    }\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nPageManager.defaultProps = {\r\n    open: false,\r\n    speed: 800,\r\n    interval: 5\r\n};\r\n","import React from \"react\";\r\nimport './ThemeManager.css';\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport Image from \"../../Menus/CommonComponents/Image\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class ThemeTextItem extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n    onEditClick = (e) => {\r\n\r\n    };\r\n\r\n    render() {\r\n        let {item} = this.props;\r\n        let {siteData} = this.context;\r\n        if (!siteData)\r\n            return null;\r\n\r\n        return (\r\n            <div className=\"ThemeTextItemRoot\">\r\n                <span className=\"ThemeTextItemName\">\r\n                    {item.name}\r\n                </span>\r\n                <span className=\"ThemeTextItemDetail\">\r\n                    {item.font}, {item.fontSize}px\r\n                </span>\r\n                <span style={{\r\n                    fontFamily: `${item.font} Arial`,\r\n                    fontWeight: item.fontWeight,\r\n                    fontStyle: item.fontStyle,\r\n                    fontSize: Math.min(item.fontSize, 40),\r\n                    color: item.color,\r\n                    lineHeight: '1.4em'\r\n                }}>\r\n                    For Bold Creators\r\n                </span>\r\n\r\n                <IconButton\r\n                    className=\"ThemeTextItemEdit\"\r\n                    onClick={this.onEditClick}\r\n                >\r\n                    <img\r\n                        draggable={false}\r\n                        width={16}\r\n                        height={16}\r\n                        src={process.env.PUBLIC_URL + '/static/icon/edit.svg'}\r\n                    />\r\n                </IconButton>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './ThemeManager.css';\r\nimport Image from \"../../Menus/CommonComponents/Image\";\r\nimport {getColorScheme} from \"../../AwesomwGridLayoutHelper\";\r\nimport HexColorPicker from \"./HexColorPicker\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class ThemeColorsItem extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n    onEditClick = (paletteName, key, color) => (e) => {\r\n        this.setState({\r\n            toChange: {\r\n                paletteName, key, color\r\n            }\r\n        })\r\n    };\r\n\r\n    onChangeColor = (color) => {\r\n        let {editor} = this.props;\r\n        let {siteData} = this.context;\r\n        let {toChange} = this.state;\r\n        siteData.theme.Colors.items[toChange.paletteName][toChange.key] = color;\r\n\r\n        if (toChange.key === \"main\") {\r\n            siteData.theme.Colors.calculated = false;\r\n            this.context.calculateTheme(true);\r\n        }\r\n\r\n        toChange.color = color;\r\n        this.setState({toChange});\r\n        this.context.update();\r\n        // editor.setState({reload: true});\r\n    };\r\n\r\n    render() {\r\n        let {item} = this.props;\r\n        let {siteData} = this.context;\r\n        if (!siteData)\r\n            return null;\r\n\r\n        return (\r\n            <div className=\"ThemeColorsItemRoot\">\r\n                <span className=\"ThemeTextItemName\">\r\n                    {item.name}\r\n                </span>\r\n\r\n                <div className=\"ThemeColorsItemDetail\">\r\n                    <div className=\"ThemeColorsItemDetailMain\" style={{\r\n                            backgroundColor: getColorScheme(item.main)[\"3\"]\r\n                        }}\r\n                        onClick={this.onEditClick(item.name, \"main\", getColorScheme(item.main)[\"3\"])}\r\n                    >\r\n\r\n                        <Image\r\n                            className=\"ThemeColorsItemDetailOverlay\"\r\n                            style={{opacity: 1}}\r\n                            src={process.env.PUBLIC_URL + 'static/icon/edit-white.svg'}\r\n                            width={18}\r\n                            height={18}\r\n                        />\r\n                    </div>\r\n                    <div className=\"ThemeColorsItemDetailSecondary\">\r\n                        <div className=\"ThemeColorsItemDetailSecondaryItem\" style={{\r\n                            backgroundColor: item[\"1\"] || getColorScheme(item.main)[\"1\"],\r\n                            borderTopRightRadius: 4,\r\n                            borderBottomRightRadius: 4\r\n                        }}\r\n                             onClick={this.onEditClick(item.name, \"1\", item[\"1\"] || getColorScheme(item.main)[\"1\"])}\r\n                        >\r\n\r\n                            <Image\r\n                                className=\"ThemeColorsItemDetailOverlay\"\r\n                                src={process.env.PUBLIC_URL + 'static/icon/edit-white.svg'}\r\n                                width={18}\r\n                                height={18}\r\n                            />\r\n                        </div>\r\n                        <div className=\"ThemeColorsItemDetailSecondaryItem\" style={{\r\n                            backgroundColor: item[\"2\"] || getColorScheme(item.main)[\"2\"]\r\n                        }}\r\n                             onClick={this.onEditClick(item.name, \"2\", item[\"2\"] || getColorScheme(item.main)[\"2\"])}\r\n                        >\r\n\r\n                            <Image\r\n                                className=\"ThemeColorsItemDetailOverlay\"\r\n                                src={process.env.PUBLIC_URL + '/static/icon/edit-white.svg'}\r\n                                width={18}\r\n                                height={18}\r\n                            />\r\n                        </div>\r\n                        <div className=\"ThemeColorsItemDetailSecondaryItem\" style={{\r\n                            backgroundColor: item[\"3\"] || getColorScheme(item.main)[\"3\"]\r\n                        }}\r\n                             onClick={this.onEditClick(item.name, \"3\", item[\"3\"] || getColorScheme(item.main)[\"3\"])}\r\n                        >\r\n\r\n                            <Image\r\n                                className=\"ThemeColorsItemDetailOverlay\"\r\n                                src={process.env.PUBLIC_URL + '/static/icon/edit.svg'}\r\n                                width={18}\r\n                                height={18}\r\n                            />\r\n                        </div>\r\n                        <div className=\"ThemeColorsItemDetailSecondaryItem\" style={{\r\n                            backgroundColor: item[\"4\"] || getColorScheme(item.main)[\"4\"]\r\n                        }}\r\n                             onClick={this.onEditClick(item.name, \"4\", item[\"4\"] || getColorScheme(item.main)[\"4\"])}\r\n                        >\r\n\r\n                            <Image\r\n                                className=\"ThemeColorsItemDetailOverlay\"\r\n                                src={process.env.PUBLIC_URL + '/static/icon/edit.svg'}\r\n                                width={18}\r\n                                height={18}\r\n                            />\r\n                        </div>\r\n                        <div className=\"ThemeColorsItemDetailSecondaryItem\" style={{\r\n                            backgroundColor: item[\"5\"] || getColorScheme(item.main)[\"5\"],\r\n                            borderTopLeftRadius: 4,\r\n                            borderBottomLeftRadius: 4\r\n                        }}\r\n                             onClick={this.onEditClick(item.name, \"5\", item[\"5\"] || getColorScheme(item.main)[\"5\"])}\r\n                        >\r\n\r\n                            <Image\r\n                                className=\"ThemeColorsItemDetailOverlay\"\r\n                                src={process.env.PUBLIC_URL + '/static/icon/edit.svg'}\r\n                                width={18}\r\n                                height={18}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {\r\n                    this.state.toChange &&\r\n                    <HexColorPicker\r\n                        onClose={() => this.setState({toChange: undefined})}\r\n                        color={this.state.toChange.color}\r\n                        onChangeComplete={ this.onChangeColor }\r\n                        disableAlpha\r\n                        width={224}\r\n                    />\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './ThemeManager.css';\r\nimport {sortBy} from \"../../AwesomwGridLayoutHelper\";\r\nimport ThemeTextItem from \"./ThemeTextItem\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport ThemeColorsItem from \"./ThemeColorsItem\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class ThemeManager extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            percent: props.open ? 100 : 0,\r\n            // category: sortBy(Object.values(props.siteData.theme), \"order\")[0],\r\n        };\r\n\r\n        this.opening = false;\r\n        this.closing = false;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n        this.setState({\r\n            category: sortBy(Object.values(this.context.siteData.theme), \"order\")[0],\r\n        })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n    open = () => {\r\n        this.opening = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.setState({ open: true});\r\n        this.openInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.openInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent += (this.props.speed * this.props.interval / 1000);\r\n            if (percent >= 100) {\r\n                this.opening = false;\r\n                clearInterval(this.openInterval);\r\n            }\r\n            percent = Math.min(100, percent);\r\n            this.setState({percent});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    close = (force) => {\r\n        this.closing = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.setState({ open: false});\r\n        if (force) {\r\n            this.setState({percent: 0});\r\n            return;\r\n        }\r\n        this.closeInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.closeInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent -= (this.props.speed * this.props.interval / 1000);\r\n            if (percent <= 0) {\r\n                this.closing = false;\r\n                clearInterval(this.closeInterval);\r\n            }\r\n            percent = Math.max(0, percent);\r\n            this.setState({percent});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    toggle = (force) => {\r\n        let toggleState = !this.state.open;\r\n        this.state.open ? this.close(force) : this.open();\r\n\r\n        return toggleState;\r\n    };\r\n\r\n    setCategory = (category) => (e) => {\r\n        if (category !== this.state.category)\r\n            this.setState({category});\r\n    };\r\n\r\n    getColor = (paletteName, key) => {\r\n        let {siteData} = this.context;\r\n\r\n        let theme = siteData.theme;\r\n\r\n        this.context.calculateTheme(false);\r\n\r\n        return theme.Colors.items[paletteName][key];\r\n    };\r\n\r\n    render() {\r\n        let {editor} = this.props;\r\n        let {siteData, pageData} = this.context;\r\n        if (!siteData)\r\n            return null;\r\n\r\n        return (\r\n            <>\r\n                <div\r\n                    className=\"ThemeManagerRoot\"\r\n                    style={{\r\n                        left: `${this.state.percent - 100}%`,\r\n                        opacity: this.state.percent / 100\r\n                    }}\r\n                    onContextMenu={(e) => {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }}\r\n                >\r\n                    <div\r\n                        className=\"ThemeManagerList\"\r\n                    >\r\n                        {\r\n                            sortBy(Object.values(siteData.theme), \"order\").map(category => {\r\n                                let style = {};\r\n                                if (category === this.state.category)\r\n                                    style.backgroundColor = \"#e5ffff\";\r\n                                return (\r\n                                    <div\r\n                                        key={category.name}\r\n                                        className=\"ThemeManagerCategoryItem\"\r\n                                        onClick={this.setCategory(category)}\r\n                                        style={style}\r\n                                    >\r\n                                        {category.name}\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n\r\n                    {\r\n                        this.state.category &&\r\n                        <div className=\"ThemeManagerItemRoot\">\r\n                            {/*Header*/}\r\n                            <div\r\n                                className=\"ThemeManagerItemHeaderContainer\"\r\n                            >\r\n                            <span className=\"ThemeManagerItemHeaderTitle\">\r\n                                Theme\r\n                            </span>\r\n\r\n                                <IconButton\r\n                                    onClick={() => {\r\n                                        this.context.toggleRightMenu(\"themeManager\", false);\r\n                                    }}\r\n                                >\r\n                                    <img\r\n                                        draggable={false}\r\n                                        width={12}\r\n                                        height={12}\r\n                                        src={require('../../icons/close.svg')}\r\n                                    />\r\n                                </IconButton>\r\n                            </div>\r\n\r\n                            <div className=\"ThemeManagerItemScroll\">\r\n                                {\r\n                                    Object.keys(this.state.category.items).map(key => {\r\n                                        if (this.state.category.name === \"Text\") {\r\n                                            return (\r\n                                                <ThemeTextItem\r\n                                                    key={key}\r\n                                                    item={this.state.category.items[key]}\r\n                                                    editor={editor}\r\n                                                />\r\n                                            )\r\n                                        }\r\n                                        if (this.state.category.name === \"Colors\") {\r\n                                            return (\r\n                                                <ThemeColorsItem\r\n                                                    key={key}\r\n                                                    item={this.state.category.items[key]}\r\n                                                    editor={editor}\r\n                                                    // recalculateColors={this.context.calculateTheme()}\r\n                                                />\r\n                                            )\r\n                                        }\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nThemeManager.defaultProps = {\r\n    open: false,\r\n    speed: 1200,\r\n    interval: 5\r\n};\r\n","import React from \"react\";\r\nimport Menu from \"@material-ui/core/Menu/Menu\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport Paper from \"@material-ui/core/Paper/Paper\";\r\nimport {EditorContext} from \"../EditorContext\";\r\n\r\nexport default class EditorHeaderZoom extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <EditorContext.Consumer>\r\n                {editorContext => (\r\n                    <>\r\n                    <IconButton\r\n                        buttonBaseStyle={{\r\n                            marginLeft: 0,\r\n                            marginRight: 10,\r\n                            backgroundColor: this.state.zoomSetting && \"#d2fffc\",\r\n                        }}\r\n                        onClick={(e) => {\r\n                            this.setState({zoomSetting: e.currentTarget});\r\n                        }}\r\n                    >\r\n                        <img\r\n                            draggable={false}\r\n                            width={18}\r\n                            height={18}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/zoom-in.svg'}\r\n                        />\r\n\r\n                    </IconButton>\r\n\r\n                    {\r\n                        this.state.zoomSetting &&\r\n                        <Menu\r\n                            style={{\r\n                                zIndex: 99999999999,\r\n                            }}\r\n                            anchorEl={this.state.zoomSetting}\r\n                            anchorOrigin={{\r\n                                vertical: 'top',\r\n                                horizontal: 'right',\r\n                            }}\r\n                            getContentAnchorEl={null}\r\n                            anchorPosition={{ left: 0, top: 0 }}\r\n                            PaperProps={{\r\n                                style:{\r\n                                    transformOrigin: \"top right\",\r\n                                    transform: `scale(${1/editorContext.zoomScale})`\r\n                                }\r\n                            }}\r\n                            marginThreshold={0}\r\n                            transformOrigin={{\r\n                                vertical: 'top',\r\n                                horizontal: 'right',\r\n                            }}\r\n                            open={true}\r\n                            onClose={(e) => {\r\n                                e.stopPropagation();\r\n                                e.preventDefault();\r\n                                this.setState({zoomSetting: undefined});\r\n                            }}\r\n                            MenuListProps={{\r\n                                style: {\r\n                                    padding: 0,\r\n                                }\r\n                            }}\r\n                            transitionDuration={0}\r\n                        >\r\n                            <Paper style={{\r\n                                padding: 10,\r\n                                display: \"flex\",\r\n                                alignItems: \"center\"\r\n                            }}>\r\n                                <IconButton\r\n                                    buttonBaseStyle={{\r\n                                        marginLeft: 0,\r\n                                        marginRight: 10,\r\n                                        pointerEvents: \"auto\"\r\n                                    }}\r\n                                    imageContainerStyle={{\r\n                                        padding: 10\r\n                                    }}\r\n                                    onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        e.preventDefault();\r\n                                        this.props.onZoomChange(Math.min(1.3, editorContext.zoomScale + 0.1));\r\n                                    }}\r\n                                >\r\n                                    <img\r\n                                        draggable={false}\r\n                                        width={14}\r\n                                        height={14}\r\n                                        src={process.env.PUBLIC_URL + '/static/icon/add.svg'}\r\n                                    />\r\n                                </IconButton>\r\n                                <span style={{\r\n                                    width: 70,\r\n                                    textAlign: \"center\"\r\n                                }}>\r\n                                    {(editorContext.zoomScale * 100).toFixed(0)}%\r\n                                </span>\r\n                                <IconButton\r\n                                    buttonBaseStyle={{\r\n                                        marginLeft: 10,\r\n                                        marginRight: 10,\r\n                                        pointerEvents: \"auto\"\r\n                                    }}\r\n                                    imageContainerStyle={{\r\n                                        padding: 10\r\n                                    }}\r\n                                    onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        e.preventDefault();\r\n                                        this.props.onZoomChange(Math.max(0.5 ,editorContext.zoomScale - 0.1));\r\n                                    }}\r\n                                >\r\n                                    <img\r\n                                        draggable={false}\r\n                                        width={14}\r\n                                        height={14}\r\n                                        src={process.env.PUBLIC_URL + '/static/icon/minus.svg'}\r\n                                    />\r\n                                </IconButton>\r\n                                <Button className=\"EditorHeaderZoomReset\"\r\n                                    onClick={(e) => {\r\n                                        this.props.onZoomChange(1);\r\n                                    }}\r\n                                >\r\n                                    Reset\r\n                                </Button>\r\n                            </Paper>\r\n                        </Menu>\r\n                    }\r\n                    </>\r\n                )}\r\n            </EditorContext.Consumer>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport {EditorContext} from \"../EditorContext\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport './EditorHeaderPageSelect.css';\r\n\r\nexport default class EditorHeaderPageSelect extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    getOptions = (editorContext) => {\r\n        let options = Object.values(editorContext.siteData.allPages).map(pageData => {\r\n            return pageData.props.pageName;\r\n        });\r\n\r\n        !editorContext.preview && options.push(\r\n            <div\r\n                className=\"EditorHeaderPageSelectPageManagerButton\"\r\n                onClick={() => {\r\n                    editorContext.toggleRightMenu(\"pageManager\", true);\r\n                }}\r\n            >\r\n                Page Manager\r\n            </div>\r\n        );\r\n\r\n        return options;\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <EditorContext.Consumer>\r\n                {editorContext => (\r\n                    <div\r\n                        {...this.props}\r\n                    >\r\n                        <DropDown\r\n                            options={editorContext.siteData ? this.getOptions(editorContext) : [\"...\"]}\r\n                            onChange={(v) => {\r\n                                let pageData = Object.values(editorContext.siteData.allPages).find(pd => {\r\n                                    return pd.props.pageName === v;\r\n                                });\r\n\r\n                                if (pageData)\r\n                                    editorContext.setPageData(pageData.props.pageId);\r\n                            }}\r\n                            value={editorContext.pageData ? editorContext.pageData.props.pageName : \"...\"}\r\n                            spanStyle={{\r\n                                width: 200,\r\n                                fontSize: 14,\r\n                                border: \"0px solid #cfcfcf\",\r\n                            }}\r\n                        />\r\n                    </div>\r\n                )}\r\n            </EditorContext.Consumer>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\n\r\nexport default class NumberInputEnterToChange extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        console.log(\"props.min\", props.min)\r\n\r\n        this.state = {};\r\n    }\r\n\r\n    inputFilter = (value, oldValue) => {\r\n        if (/^\\d+$/.test(value)) {\r\n            value = parseFloat(value).toFixed(0);\r\n            value = Math.min(this.props.max, value);\r\n            value = Math.max(this.props.min, value);\r\n            return value;\r\n        } else if (value === \"\") {\r\n            return \"0\";\r\n        }\r\n\r\n        return oldValue;\r\n    };\r\n\r\n    onChange = (e) => {\r\n        if (this.props.lazy)\r\n            return;\r\n\r\n        let value = this.inputFilter(this.state.tempValue, this.props.value);\r\n        this.props.onChange(value);\r\n        this.setState({tempValue: undefined});\r\n    };\r\n\r\n    onTempChange = (e) => {\r\n        let tempValue = e.target.value;\r\n        this.setState({tempValue});\r\n\r\n        if (this.props.lazy)\r\n            this.props.onChange(tempValue);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <input\r\n                className={\"NumberInput \" + this.props.className || \"\"}\r\n                value={this.state.tempValue || this.props.value || 0}\r\n                onChange={this.onTempChange}\r\n                onBlur={this.onChange}\r\n                onKeyPress={(e) => {\r\n                    if((e.keyCode || e.which) === 13) {\r\n                        this.onChange();\r\n                        if (this.props.onKeyPress)\r\n                            this.props.onKeyPress();\r\n                    }\r\n                }}\r\n                type=\"text\"\r\n                style={this.props.inputStyle}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\n\r\nexport const getBreakpointIcon = (bpData) => {\r\n    if (bpData.start >= 1255)\r\n        return <img draggable={false} width={24} height={24} src={process.env.PUBLIC_URL + '/static/icon/computer.svg'} />\r\n    if (bpData.start >= 1001)\r\n        return <img draggable={false} width={24} height={24} src={process.env.PUBLIC_URL + '/static/icon/laptop.svg'} />\r\n    if (bpData.start >= 751)\r\n        return <img draggable={false} width={18} height={18} src={process.env.PUBLIC_URL + '/static/icon/ipad.svg'} />\r\n\r\n    return <img draggable={false} width={16} height={16} src={process.env.PUBLIC_URL + '/static/icon/phone.svg'} />\r\n};\r\n\r\nexport const getBreakpointName = (bpData) => {\r\n    if (bpData.start >= 1255)\r\n        return 'Desktop'\r\n    if (bpData.start >= 1001)\r\n        return 'Laptop'\r\n    if (bpData.start >= 751)\r\n        return 'Tablet'\r\n\r\n    return 'Mobile'\r\n};\r\n\r\nexport const getCommonDevices = () => {\r\n    return [\r\n        {\r\n            name: \"Galaxy S7\",\r\n            start: 360\r\n        },\r\n        {\r\n            name: \"Galaxy S8/S9\",\r\n            start: 360\r\n        },\r\n        {\r\n            name: \"iPad\",\r\n            start: 768\r\n        },\r\n        {\r\n            name: \"iPad Pro\",\r\n            start: 1024\r\n        },\r\n        {\r\n            name: \"iPhone 6/7/8\",\r\n            start: 375\r\n        },\r\n        {\r\n            name: \"iPhone 6/7/8 Plus\",\r\n            start: 414\r\n        },\r\n        {\r\n            name: \"iPhone X\",\r\n            start: 375\r\n        },\r\n        {\r\n            name: \"Pixel 2\",\r\n            start: 411\r\n        },\r\n        {\r\n            name: \"Pixel 2 XL\",\r\n            start: 411\r\n        }\r\n    ];\r\n};\r\n","import React from \"react\";\r\nimport './EditorHeaderBreakpointsSettingItem.css';\r\nimport {EditorContext} from \"../EditorContext\";\r\nimport {getBreakpointIcon} from \"./BreakpointHelper\";\r\nimport NumberInputEnterToChange from \"../../Menus/CommonComponents/NumberInputEnterToChange\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport {Button} from \"@material-ui/core\";\r\nimport {v4 as uuidv4} from \"uuid\";\r\n\r\nexport default class EditorHeaderBreakpointsSettingItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            editMode: props.bpData.name? false: true\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    isHighestBp = (editorContext) => {\r\n        let {bpData} = this.props;\r\n        return editorContext.editor.breakpointmanager.getHighestBpName() === bpData.name;\r\n    };\r\n\r\n    done = (editorContext) => {\r\n        let {bpData} = this.props;\r\n\r\n        if (isNaN(this.tempEnd)) {\r\n            return;\r\n        }\r\n\r\n        this.tempEnd = parseInt(this.tempEnd);\r\n\r\n        editorContext.editor.breakpointmanager.updateBreakpoint(\r\n            bpData.name, undefined, this.tempEnd\r\n        );\r\n\r\n        this.setState({editMode: false})\r\n\r\n        editorContext.update();\r\n    };\r\n\r\n    create = (editorContext) => {\r\n        if (!this.tempEnd)\r\n            this.tempEnd = editorContext.pageSize;\r\n\r\n        if (isNaN(this.tempEnd)) {\r\n            return;\r\n        }\r\n\r\n        this.tempEnd = parseInt(this.tempEnd);\r\n\r\n        let {newBpData, prevBpData} = editorContext.editor.breakpointmanager.updateBreakpoint(\r\n            uuidv4(), this.tempEnd, undefined\r\n        );\r\n\r\n        this.props.onCancel();\r\n\r\n        editorContext.onNewBpAdded(newBpData, prevBpData);\r\n    };\r\n\r\n    delete = (editorContext) => {\r\n        let {bpData} = this.props;\r\n\r\n        editorContext.editor.breakpointmanager.deleteBreakpoint(bpData.name);\r\n\r\n        editorContext.update();\r\n    }\r\n\r\n    cancelEditMode = () => {\r\n        this.setState({editMode: false});\r\n    };\r\n\r\n    render () {\r\n        let {bpData, nextBpData} = this.props;\r\n        return (\r\n            <EditorContext.Consumer>\r\n                {editorContext => (\r\n                    <div className=\"BreakpointSettingItemRoot\">\r\n                        <div className=\"BreakpointSettingItemIcon\">\r\n                            {\r\n                                getBreakpointIcon(bpData)\r\n                            }\r\n                        </div>\r\n\r\n                        {\r\n                            bpData.name &&\r\n                            <p className=\"BreakpointSettingItemStart\">\r\n                                {bpData.start} {\r\n                                    this.isHighestBp(editorContext) ? \" & Up\" : \" -\"\r\n                                }\r\n                            </p>\r\n                        }\r\n\r\n                        {\r\n                            !this.state.editMode &&\r\n                            !this.isHighestBp(editorContext) &&\r\n                            <p className=\"BreakpointSettingItemEndText\">\r\n                                {bpData.end}\r\n                            </p>\r\n                        }\r\n\r\n                        {\r\n                            this.state.editMode &&\r\n                            !this.isHighestBp(editorContext) &&\r\n                            <NumberInputEnterToChange\r\n                                className=\"BreakpointSettingItemEndInput\"\r\n                                inputStyle={{\r\n                                    marginLeft: 0\r\n                                }}\r\n                                min={bpData.name? bpData.start + 1: 320}\r\n                                max={bpData.name? nextBpData.end - 2 : 9999}\r\n                                value={bpData.end || editorContext.pageSize}\r\n                                onChange={(tempEnd) => {\r\n                                    this.tempEnd = tempEnd;\r\n                                }}\r\n                                onKeyPress={() => {\r\n                                    bpData.name?\r\n                                        this.done(editorContext):\r\n                                        this.create(editorContext);\r\n                                }}\r\n                                lazy\r\n                            />\r\n                        }\r\n\r\n                        {\r\n                            !this.isHighestBp(editorContext) &&\r\n                            <p className=\"BreakpointSettingItemPx\">\r\n                                {\"px\"}\r\n                            </p>\r\n                        }\r\n\r\n                        {\r\n                            !this.state.editMode &&\r\n                            !this.isHighestBp(editorContext) &&\r\n                            <div className=\"BreakpointSettingItemNoneEdit\">\r\n                                <IconButton\r\n                                    onClick={() => {\r\n                                        this.delete(editorContext)\r\n                                    }}\r\n                                >\r\n                                    <img\r\n                                        draggable={false}\r\n                                        width={16}\r\n                                        height={16}\r\n                                        src={process.env.PUBLIC_URL + '/static/icon/delete.svg'}\r\n                                    />\r\n                                </IconButton>\r\n                                <IconButton\r\n                                    onClick={() => {\r\n                                        this.props.onEditMode && this.props.onEditMode();\r\n                                        this.setState({editMode: true})\r\n                                        this.tempEnd = bpData.end;\r\n                                    }}\r\n                                >\r\n                                    <img\r\n                                        draggable={false}\r\n                                        width={16}\r\n                                        height={16}\r\n                                        src={process.env.PUBLIC_URL + '/static/icon/edit2.svg'}\r\n                                    />\r\n                                </IconButton>\r\n                            </div>\r\n                        }\r\n\r\n                        {\r\n                            this.state.editMode &&\r\n                            !this.isHighestBp(editorContext) &&\r\n                            <div className=\"BreakpointSettingItemEditMode\">\r\n                                {\r\n                                    bpData.name &&\r\n                                    <Button\r\n                                        variant=\"contained\"\r\n                                        className=\"BreakpointSettingItemButtons BreakpointSettingItemDone\"\r\n                                        onClick={() => {\r\n                                            this.done(editorContext);\r\n                                        }}\r\n                                    >\r\n                                        Done\r\n                                    </Button>\r\n                                }\r\n                                {\r\n                                    !bpData.name &&\r\n                                    <Button\r\n                                        variant=\"contained\"\r\n                                        className=\"BreakpointSettingItemButtons BreakpointSettingItemDone\"\r\n                                        onClick={() => {\r\n                                            this.create(editorContext);\r\n                                        }}\r\n                                    >\r\n                                        Create\r\n                                    </Button>\r\n                                }\r\n                                <Button\r\n                                    className=\"BreakpointSettingItemButtons BreakpointSettingItemCancel\"\r\n                                    onClick={() => {\r\n                                        bpData.name ?\r\n                                            this.setState({editMode: false}) :\r\n                                            this.props.onCancel();\r\n                                    }}\r\n                                >\r\n                                    Cancel\r\n                                </Button>\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                )}\r\n            </EditorContext.Consumer>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './EditorHeaderBreakpointsSetting.css';\r\nimport {EditorContext} from \"../EditorContext\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport EditorHeaderBreakpointsSettingItem from \"./EditorHeaderBreakpointsSettingItem\";\r\nimport {Button} from \"@material-ui/core\";\r\n\r\nexport default class EditorHeaderBreakpointsSetting extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    clearEditMode = () => {\r\n        console.log(\"clearEditMode\")\r\n        Object.values(this.bpItemrRefs).forEach(bpItemRef => {\r\n            console.log(\"clearEditMode1\", bpItemRef)\r\n            if (bpItemRef.current)\r\n                bpItemRef.current.cancelEditMode();\r\n        });\r\n    };\r\n\r\n    getBpItemRef = (name) => {\r\n        if (!this.bpItemrRefs)\r\n            this.bpItemrRefs = {};\r\n\r\n        if (!this.bpItemrRefs[name])\r\n            this.bpItemrRefs[name] = React.createRef();\r\n\r\n        return this.bpItemrRefs[name];\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <EditorContext.Consumer>\r\n                {editorContext => (\r\n                    <Menu\r\n                        style={{\r\n                            zIndex: 99999999999\r\n                        }}\r\n                        anchorEl={this.props.anchorEl}\r\n                        open={true}\r\n                        onClose={(e) => {\r\n                            this.props.onClose();\r\n                        }}\r\n                        MenuListProps={{\r\n                            style: {\r\n                                padding: 0\r\n                            }\r\n                        }}\r\n                    >\r\n                        <div className=\"BpSettingRoot\">\r\n                            {/*Header*/}\r\n                            <div className=\"BpSettingHeader\">\r\n                                <div\r\n                                    className=\"BpSettingHeaderContainer\"\r\n                                >\r\n                            <span className=\"BpSettingHeaderTitle\">\r\n                                Customize Breakpoints\r\n                            </span>\r\n\r\n                                    <IconButton\r\n                                        onClick={this.props.onClose}\r\n                                    >\r\n                                        <img\r\n                                            draggable={false}\r\n                                            width={12}\r\n                                            height={12}\r\n                                            src={process.env.PUBLIC_URL + '/static/icon/close.svg'}\r\n                                        />\r\n                                    </IconButton>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <p className=\"BpSettingGuideSpan\">\r\n                                Add, edit or delete this page's breakpoints to design for different viewport sizes.\r\n                            </p>\r\n\r\n                            {\r\n                                editorContext.editor.breakpointmanager.breakpoints.map((bpData, index) => {\r\n                                    return (\r\n                                        <EditorHeaderBreakpointsSettingItem\r\n                                            key={bpData.name}\r\n                                            bpData={bpData}\r\n                                            nextBpData={editorContext.editor.breakpointmanager.breakpoints[index - 1]}\r\n                                            onEditMode={this.clearEditMode}\r\n                                            ref={this.getBpItemRef(bpData.name)}\r\n                                        />\r\n                                    )\r\n                                })\r\n                            }\r\n\r\n                            {\r\n                                this.state.newBpData &&\r\n                                <EditorHeaderBreakpointsSettingItem\r\n                                    bpData={this.state.newBpData}\r\n                                    onCancel={() => {\r\n                                        this.setState({newBpData: undefined});\r\n                                    }}\r\n                                />\r\n                            }\r\n\r\n                            <Button\r\n                                className=\"BpSettingAddBp\"\r\n                                onClick={() => {\r\n                                    this.clearEditMode();\r\n                                    this.setState({newBpData: {}});\r\n                                }}\r\n                            >\r\n                                Add New Breakpoint\r\n                            </Button>\r\n                        </div>\r\n                    </Menu>\r\n                )}\r\n            </EditorContext.Consumer>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './EditorHeaderBreakpoints.css';\r\nimport {EditorContext} from \"../EditorContext\";\r\nimport Tabs from \"@material-ui/core/Tabs/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab/Tab\";\r\nimport NumberInputEnterToChange from \"../../Menus/CommonComponents/NumberInputEnterToChange\";\r\nimport EditorHeaderBreakpointsSetting from \"./EditorHeaderBreakpointsSetting\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport {getBreakpointIcon} from \"./BreakpointHelper\";\r\n\r\nexport default class EditorHeaderBreakpoints extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    onChangeTab = (editorContext) => (e, bpName) => {\r\n        this.setState({tabValue: bpName});\r\n        console.log(\"bpName\", bpName, editorContext.editor.breakpointmanager.current())\r\n\r\n        if (editorContext.editor.breakpointmanager.current() === bpName)\r\n            return;\r\n\r\n        let bpData = editorContext.editor.breakpointmanager.getBpData(bpName);\r\n\r\n        if (!bpData)\r\n            return;\r\n\r\n        let width;\r\n        if (bpData.prefer >= bpData.start && bpData.prefer <= bpData.end)\r\n            width = bpData.prefer;\r\n        else\r\n            width = bpData.start;\r\n\r\n        editorContext.editor.onPageResize(width);\r\n    };\r\n\r\n    getTabValue = (editorContext) => {\r\n        let width = editorContext.editor.rootLayoutRef.current.getSize(false).width;\r\n        return editorContext.editor.breakpointmanager.current(width);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <EditorContext.Consumer>\r\n                {editorContext => (\r\n                    <div\r\n                        {...this.props}\r\n                    >\r\n                        {\r\n                            editorContext.editor && editorContext.editor.rootLayoutRef.current &&\r\n                            <Tabs\r\n                                className=\"EditorHeaderBreakpointsTabRoot\"\r\n                                value={\r\n                                    this.getTabValue(editorContext)\r\n                                }\r\n                                indicatorColor=\"primary\"\r\n                                textColor=\"primary\"\r\n                                onChange={this.onChangeTab(editorContext)}\r\n                                aria-label=\"disabled tabs example\"\r\n                            >\r\n                                {\r\n                                    editorContext.editor.breakpointmanager.breakpoints.map((bpData, index) => {\r\n                                        return (\r\n                                            <Tab\r\n                                                key={bpData.name}\r\n                                                className=\"EditorHeaderBreakpointsTab\"\r\n                                                label={getBreakpointIcon(bpData)}\r\n                                                value={bpData.name}\r\n                                            />\r\n                                        )\r\n                                    })\r\n                                }\r\n\r\n                            </Tabs>\r\n                        }\r\n\r\n                        {\r\n                            editorContext.editor && editorContext.editor.rootLayoutRef.current &&\r\n                            <IconButton\r\n                                buttonBaseStyle={{marginLeft: 10}}\r\n                                onClick={(e) => {\r\n                                    this.setState({settingAnchor: e.currentTarget});\r\n                                }}\r\n                            >\r\n                                <img\r\n                                    draggable={false}\r\n                                    width={18}\r\n                                    height={18}\r\n                                    src={process.env.PUBLIC_URL + '/static/icon/open-menu.svg'}\r\n                                />\r\n                            </IconButton>\r\n                        }\r\n\r\n                        <div style={{\r\n                            backgroundColor: \"#cfcfcf\",\r\n                            height: \"auto\",\r\n                            width: 1,\r\n                            marginLeft: 10\r\n                        }}>\r\n\r\n                        </div>\r\n\r\n                        {\r\n                            editorContext.editor && editorContext.editor.rootLayoutRef.current &&\r\n                            <>\r\n                                <span\r\n                                    style={{\r\n                                        marginLeft: 10,\r\n                                        display:\"flex\",\r\n                                        alignItems: \"center\",\r\n                                        fontSize: 12\r\n                                    }}\r\n                                >\r\n                                    Width\r\n                                </span>\r\n                                <NumberInputEnterToChange\r\n                                    inputStyle={{\r\n                                        marginLeft: 10\r\n                                    }}\r\n                                    min={editorContext.editor.breakpointmanager.getMinWidth()}\r\n                                    max={9999}\r\n                                    value={editorContext.editor.rootLayoutRef.current.getSize(false).width}\r\n                                    onChange={(width) => {\r\n                                        editorContext.setPageSizeWidth(width);\r\n                                    }}\r\n                                />\r\n                            </>\r\n                        }\r\n\r\n                        {\r\n                            this.state.settingAnchor &&\r\n                            <EditorHeaderBreakpointsSetting\r\n                                anchorEl={this.state.settingAnchor}\r\n                                onClose={(e) => {\r\n                                    this.setState({settingAnchor: undefined});\r\n                                }}\r\n                            />\r\n                        }\r\n                    </div>\r\n                )}\r\n            </EditorContext.Consumer>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './EditorBoundary.css';\r\nimport IconButton from \"../HelperComponents/IconButton\";\r\nimport EditorHeaderZoom from \"./Zoom/EditorHeaderZoom\";\r\nimport {EditorContext} from \"./EditorContext\";\r\nimport EditorHeaderPageSelect from \"./PageSelect/EditorHeaderPageSelect\";\r\nimport EditorHeaderBreakpoints from \"./Breakpoints/EditorHeaderBreakpoints\";\r\n\r\nexport default class EditorHeader extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            onInspectorClickState: true,\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    setRightMenuOpen = (openMenu, state) => {\r\n        let changedState = {};\r\n        [\r\n            \"onAddComponentClick\",\r\n            \"onThemeManagerClick\",\r\n            \"onPageManagerClick\"\r\n        ].forEach(name => {\r\n            if (this.state[`${name}State`] && `${name}State` !== openMenu) {\r\n                console.log(\"setRightMenuOpen\", name);\r\n                this.props[name](true);\r\n            }\r\n\r\n            changedState[`${name}State`] = false;\r\n        });\r\n        this.setState({\r\n            ...changedState,\r\n            [openMenu]: state\r\n        });\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"EditorHeaderRoot\" style={{\r\n                width: `${this.context.zoomScale*100}%`,\r\n            }}>\r\n                <div className=\"EditorHeaderRightShortcuts\">\r\n                    <IconButton\r\n                        buttonBaseStyle={{marginLeft: 0,\r\n                            backgroundColor: this.context.rightMenus.addComponent.state && \"#d2fffc\",\r\n                        }}\r\n                        onClick={(e) => {\r\n                            this.context.toggleRightMenu(\"addComponent\");\r\n                            // let onAddComponentClickState = this.props.onAddComponentClick();\r\n                            // this.setRightMenuOpen(\"onAddComponentClickState\", onAddComponentClickState);\r\n                        }}\r\n                    >\r\n                        <img\r\n                            draggable={false}\r\n                            width={18}\r\n                            height={18}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/add.svg'}\r\n                        />\r\n                    </IconButton>\r\n                    <IconButton\r\n                        buttonBaseStyle={{marginLeft: 0,\r\n                            backgroundColor: this.context.rightMenus.pageManager.state && \"#d2fffc\",\r\n                        }}\r\n                        onClick={(e) => {\r\n                            this.context.toggleRightMenu(\"pageManager\");\r\n                            // let onPageManagerClickState = this.props.onPageManagerClick();\r\n                            // this.setRightMenuOpen(\"onPageManagerClickState\", onPageManagerClickState);\r\n                        }}\r\n                    >\r\n                        <img\r\n                            draggable={false}\r\n                            width={18}\r\n                            height={18}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/page.svg'}\r\n                        />\r\n                    </IconButton>\r\n                    <IconButton\r\n                        buttonBaseStyle={{marginLeft: 0,\r\n                            backgroundColor: this.context.rightMenus.themeManager.state && \"#d2fffc\",\r\n                        }}\r\n                        onClick={(e) => {\r\n                            this.context.toggleRightMenu(\"themeManager\");\r\n                            // let onThemeManagerClickState = this.props.onThemeManagerClick();\r\n                            // this.setRightMenuOpen(\"onThemeManagerClickState\", onThemeManagerClickState);\r\n                        }}\r\n                    >\r\n                        <img\r\n                            draggable={false}\r\n                            width={18}\r\n                            height={18}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/water.svg'}\r\n                        />\r\n                    </IconButton>\r\n                </div>\r\n                <div className=\"EditorHeaderCenterShortcuts\">\r\n                    <EditorHeaderPageSelect\r\n                        className=\"EditorHeaderCenterDiv\"\r\n                        style={{\r\n                            width: 200\r\n                        }}\r\n                    />\r\n                    <EditorHeaderBreakpoints\r\n                        className=\"EditorHeaderCenterDiv EditorHeaderLastCenterDiv EditorHeaderBreakpoints\"\r\n                    />\r\n                </div>\r\n                <div className=\"EditorHeaderLeftShortcuts\">\r\n                    <IconButton\r\n                        buttonBaseStyle={{\r\n                            marginLeft: 0,\r\n                            marginRight: 10,\r\n                            backgroundColor: this.state.onInspectorClickState && \"#d2fffc\",\r\n                        }}\r\n                        onClick={(e) => {\r\n                            let onInspectorClickState = this.props.onInspectorClick(e);\r\n                            this.setState({onInspectorClickState})\r\n                        }}\r\n                    >\r\n                        <img\r\n                            draggable={false}\r\n                            width={18}\r\n                            height={18}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/inspector.svg'}\r\n                        />\r\n                    </IconButton>\r\n                    <EditorHeaderZoom\r\n                        onZoomChange={(zoomScale) => {\r\n                            this.props.onPageZoomChange(zoomScale);\r\n                        }}\r\n                    />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './PreviewHeaderBreakpoints.css';\r\nimport {EditorContext} from \"../EditorContext\";\r\nimport NumberInputEnterToChange from \"../../Menus/CommonComponents/NumberInputEnterToChange\";\r\nimport {getBreakpointIcon, getBreakpointName} from \"./BreakpointHelper\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\n\r\nexport default class PreviewHeaderBreakpoints extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            lastBpData: undefined\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    getCurrentValue = (editorContext) => {\r\n        if (!editorContext.editor.rootLayoutRef.current)\r\n            return \"...\";\r\n\r\n        let width = editorContext.editor.rootLayoutRef.current.getSize(false).width;\r\n\r\n        let bpData = this.getOptions(editorContext).filter(bpData => {\r\n            console.log(\"getCurrentValue\", bpData.name, bpData.type, bpData.start, width, bpData.type === 'device' && bpData.start === width)\r\n            return bpData.type === 'device' && bpData.start === width;\r\n        })[0];\r\n\r\n        if (bpData) {\r\n            return (this.state.lastBpData && this.state.lastBpData.type === \"device\" && this.state.lastBpData) || bpData;\r\n        }\r\n\r\n        return editorContext.editor.breakpointmanager.currentBpData(width);\r\n    };\r\n\r\n    getOptions = (editorContext) => {\r\n        let options = [{\r\n            title: \"Page Breakpoints\", disabled:true\r\n        }];\r\n\r\n        if (!editorContext.editor.breakpointmanager) return [];\r\n\r\n        let breakpoints = editorContext.editor.breakpointmanager.getSortedBreakPoints().reverse();\r\n\r\n        breakpoints.forEach(bpData => {\r\n            options.push(bpData);\r\n        });\r\n\r\n        options.push({\r\n            title: \"Common Devices\", disabled:true\r\n        });\r\n\r\n        (this.props.devices || []).sort((a, b) => {\r\n            if (a.start > b.start) {\r\n                return -1;\r\n            } else if (a.start === b.start) {\r\n                // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                return 0;\r\n            }\r\n            return 1;\r\n        }).forEach(bpData => {\r\n            bpData.type = 'device';\r\n            options.push(bpData);\r\n        });\r\n\r\n        return options;\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <EditorContext.Consumer>\r\n                {editorContext => (\r\n                    <div\r\n                        {...this.props}\r\n                    >\r\n                        <DropDown\r\n                            options={editorContext.siteData ? this.getOptions(editorContext) : [\"...\"]}\r\n                            onChange={(bpData) => {\r\n                                this.setState({lastBpData: bpData});\r\n                                editorContext.setPageSizeWidth(bpData.prefer || bpData.start);\r\n                            }}\r\n                            value={editorContext.pageData ? this.getCurrentValue(editorContext) : \"...\"}\r\n                            spanStyle={{\r\n                                width: 256,\r\n                                fontSize: 14,\r\n                                border: \"0px solid #cfcfcf\",\r\n                            }}\r\n                            renderer={(bpData) => {\r\n                                return (\r\n                                    <div className=\"PreviewHeaderBreakpointsRenderer\">\r\n                                        {\r\n                                            bpData.name &&\r\n                                            <div className=\"PreviewHeaderBreakpointsRendererIcon\">\r\n                                                {\r\n                                                    getBreakpointIcon(bpData)\r\n                                                }\r\n                                            </div>\r\n                                        }\r\n                                        {\r\n                                            bpData.name &&\r\n                                            <div className=\"PreviewHeaderBreakpointsRendererName\">\r\n                                                {\r\n                                                    bpData.type === 'device' ? bpData.name :\r\n                                                    getBreakpointName(bpData)\r\n                                                }\r\n                                            </div>\r\n                                        }\r\n                                        {\r\n                                            bpData.name &&\r\n                                            <div className=\"PreviewHeaderBreakpointsRendererSize\">\r\n                                                {\r\n                                                    bpData.start + \" px\"\r\n                                                }\r\n                                            </div>\r\n                                        }\r\n                                        {\r\n                                            !bpData.name &&\r\n                                            <div className=\"PreviewHeaderBreakpointsRendererTitle\">\r\n                                                {\r\n                                                    bpData.title\r\n                                                }\r\n                                            </div>\r\n                                        }\r\n                                    </div>\r\n                                )\r\n                            }}\r\n                            valueRenderer={(bpData) => {\r\n                                return (\r\n                                    <div className=\"PreviewHeaderBreakpointsRenderer\">\r\n                                        {\r\n                                            bpData.name &&\r\n                                            <div className=\"PreviewHeaderBreakpointsRendererIcon\">\r\n                                                {\r\n                                                    getBreakpointIcon(bpData)\r\n                                                }\r\n                                            </div>\r\n                                        }\r\n                                        {\r\n                                            bpData.name &&\r\n                                            <div className=\"PreviewHeaderBreakpointsRendererName\">\r\n                                                {\r\n                                                    bpData.type === 'device' ? bpData.name :\r\n                                                    getBreakpointName(bpData)\r\n                                                }\r\n                                            </div>\r\n                                        }\r\n                                        {\r\n                                            !bpData.name &&\r\n                                            <div className=\"PreviewHeaderBreakpointsRendererTitle\">\r\n                                                {\r\n                                                    bpData.title\r\n                                                }\r\n                                            </div>\r\n                                        }\r\n                                    </div>\r\n                                )\r\n                            }}\r\n                        />\r\n\r\n                        <div style={{\r\n                            backgroundColor: \"#cfcfcf\",\r\n                            height: \"auto\",\r\n                            width: 1,\r\n                            marginLeft: 10\r\n                        }}>\r\n\r\n                        </div>\r\n\r\n                        {\r\n                            editorContext.editor && editorContext.editor.rootLayoutRef.current &&\r\n                            <>\r\n                                <span\r\n                                    style={{\r\n                                        marginLeft: 10,\r\n                                        display:\"flex\",\r\n                                        alignItems: \"center\",\r\n                                        fontSize: 12\r\n                                    }}\r\n                                >\r\n                                    Width\r\n                                </span>\r\n                                <NumberInputEnterToChange\r\n                                    inputStyle={{\r\n                                        marginLeft: 10\r\n                                    }}\r\n                                    min={editorContext.editor.breakpointmanager.getMinWidth()}\r\n                                    max={9999}\r\n                                    value={editorContext.editor.rootLayoutRef.current.getSize(false).width}\r\n                                    onChange={(width) => {\r\n                                        editorContext.setPageSizeWidth(width);\r\n                                    }}\r\n                                />\r\n                            </>\r\n                        }\r\n                    </div>\r\n                )}\r\n            </EditorContext.Consumer>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './EditorBoundary.css';\r\nimport {EditorContext} from \"./EditorContext\";\r\nimport IconButton from \"../HelperComponents/IconButton\";\r\nimport EditorHeaderPageSelect from \"./PageSelect/EditorHeaderPageSelect\";\r\nimport EditorHeaderBreakpoints from \"./Breakpoints/EditorHeaderBreakpoints\";\r\nimport EditorHeaderZoom from \"./Zoom/EditorHeaderZoom\";\r\nimport PreviewHeaderBreakpoints from \"./Breakpoints/PreviewHeaderBreakpoints\";\r\nimport {getCommonDevices} from \"./Breakpoints/BreakpointHelper\";\r\nimport {Button} from \"@material-ui/core\";\r\n\r\nexport default class PreviewHeader extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"EditorHeaderRoot\" style={{\r\n                width: `${this.context.zoomScale*100}%`,\r\n            }}>\r\n                <div className=\"EditorHeaderRightShortcuts\">\r\n                </div>\r\n                <div className=\"EditorHeaderCenterShortcuts\">\r\n                    <EditorHeaderPageSelect\r\n                        className=\"EditorHeaderCenterDiv\"\r\n                        style={{\r\n                            width: 200\r\n                        }}\r\n                    />\r\n                    <PreviewHeaderBreakpoints\r\n                        className=\"EditorHeaderCenterDiv EditorHeaderLastCenterDiv EditorHeaderBreakpoints\"\r\n                        devices={getCommonDevices()}\r\n                    />\r\n                </div>\r\n                <div className=\"PreviewHeaderLeftShortcuts\">\r\n                    <Button className=\"PublishButton\" onClick={() => {\r\n                        this.context.sendPublishCommand();\r\n                    }}>\r\n                        Publish\r\n                    </Button>\r\n                    <Button className=\"PreviewButton\" onClick={() => {\r\n                        this.context.sendEditCommand();\r\n                    }}>\r\n                        Edit\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './EditorBoundary.css';\r\nimport IconButton from \"../HelperComponents/IconButton\";\r\nimport DropDown from \"../Menus/CommonComponents/DropDown\";\r\nimport EditorHeaderZoom from \"./Zoom/EditorHeaderZoom\";\r\nimport {EditorContext} from \"./EditorContext\";\r\nimport EditorHeaderPageSelect from \"./PageSelect/EditorHeaderPageSelect\";\r\nimport EditorHeaderBreakpoints from \"./Breakpoints/EditorHeaderBreakpoints\";\r\nimport {getScrollbarWidth} from \"../AwesomeGridLayoutUtils\";\r\nimport PageBase from \"../Components/Pages/PageBase\";\r\n\r\nexport default class PageView extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    render () {\r\n        if (this.context.production) {\r\n            return (\r\n                this.props.children\r\n            )\r\n        } else {\r\n            return (\r\n                <div\r\n                    className=\"EditorBoundaryPageHolder\"\r\n                    style={{\r\n                        // TODO add scale support\r\n                        padding: \"0 50px\"\r\n                    }}\r\n                    onScroll={this.props.onScrollBoundary}\r\n                    onContextMenu={(e) => {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }}\r\n                >\r\n                    <div\r\n                        className=\"EditorBoundaryPageHolderHover\"\r\n                        style={{\r\n                            bottom: getScrollbarWidth()\r\n                        }}\r\n                        onClick={() => {\r\n                            this.props.rootLayoutRef.current.onSelect(true);\r\n                        }}\r\n                    />\r\n                    {this.props.children}\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {EditorContext} from \"./EditorContext\";\r\nimport BreakPointManager from \"../BreakPointManager\";\r\nimport DragDropManager from \"../DragDropManager\";\r\nimport InputManager from \"../InputManager\";\r\nimport SelectManager from \"../SelectManager\";\r\nimport SnapManager from \"../SnapManager\";\r\nimport CopyManager from \"../CopyManager\";\r\nimport IdManager from \"../IdManager\";\r\nimport UndoRedo from \"../UndoRedo\";\r\nimport GridLineManager from \"../GridLineManager\";\r\nimport AnchorManager from \"../AnchorManager\";\r\nimport {initDynamicAnimations, initDynamicComponents} from \"../Dynamic/DynamicComponents\";\r\nimport AdjustmentGrid from \"../Adjustment/AdjustmentGrid\";\r\nimport AdjustmentSnap from \"../Adjustment/AdjustmentSnap\";\r\nimport AdjustmentGridLines from \"../Adjustment/AdjustmentGridLines\";\r\nimport AdjustmentGroupRect from \"../Adjustment/AdjustmentGroupRect\";\r\nimport MenuHolder from \"../Menus/MenuHolder\";\r\nimport PageBase from \"../Components/Pages/PageBase\";\r\nimport './EditorBoundary.css';\r\nimport IFrameCommunicator from \"../Test/IFrameCommunicator\";\r\nimport EditorController from \"../Test/EditorController\";\r\nimport Inspector from \"../Test/Inspector/Inspector\";\r\nimport AdjustmentResizeWrapper from \"../Adjustment/AdjustmentResizeWrapper\";\r\nimport AdjustmentHelpLinesWrapper from \"../Adjustment/AdjustmentHelpLinesWrapper\";\r\nimport AdjustmentHover from \"../Adjustment/AdjustmentHover\";\r\nimport {cloneObject} from \"../AwesomeGridLayoutUtils\";\r\nimport debounce from 'lodash.debounce';\r\nimport throttle from \"lodash.throttle\";\r\nimport Layout from \"../Test/Layout/Layout\";\r\nimport AddComponent from \"../Test/AddComponent/AddComponent\";\r\nimport PageManager from \"../Test/PageManager/PageManager\";\r\nimport {v4 as uuidv4} from \"uuid\";\r\nimport ThemeManager from \"../Test/Theme/ThemeManager\";\r\nimport defaultSiteData from \"../../data/defaultSiteData.json\";\r\nimport defaultAllComponentData from \"../../data/allComponentData.json\";\r\nimport EditorHeader from \"./EditorHeader\";\r\nimport PreviewHeader from \"./PreviewHeader\";\r\nimport PageView from \"./PageView\";\r\nimport classNames from \"classnames\";\r\n\r\nexport default class EditorBoundary extends React.Component{\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            preview: true\r\n        };\r\n\r\n        this.init(props);\r\n    }\r\n\r\n    // Declare all managers & refs\r\n    init = (props) => {\r\n        this.rootLayoutRef = React.createRef();\r\n        this.snapSvgRef = React.createRef();\r\n        this.gridContainerRef = React.createRef();\r\n        this.gridEditorRef = React.createRef();\r\n        this.groupSelectRef = React.createRef();\r\n        this.miniMenuHolderRef = React.createRef();\r\n        this.resizeRef = React.createRef();\r\n        this.helpLinesRef = React.createRef();\r\n        this.inspectorRef = React.createRef();\r\n        this.hoverRef = React.createRef();\r\n        this.layoutRef = React.createRef();\r\n        this.addComponentRef = React.createRef();\r\n        this.pageManagerRef = React.createRef();\r\n        this.themeManagerRef = React.createRef();\r\n        this.dragdrop = new DragDropManager();\r\n        this.inputManager = new InputManager();\r\n        this.select = new SelectManager(this.inputManager, this.groupSelectRef,\r\n            this.rootLayoutRef, this.miniMenuHolderRef, this.inspectorRef, this.resizeRef,\r\n            this.helpLinesRef, this.hoverRef);\r\n        this.snap = new SnapManager(5, this.snapSvgRef);\r\n        this.copyMan = new CopyManager(this.select, this.rootLayoutRef);\r\n        this.idMan = new IdManager('comp');\r\n        this.undoredo = new UndoRedo(100, document, this.idMan);\r\n        this.gridLine = new GridLineManager(this.gridContainerRef);\r\n        this.anchorMan = new AnchorManager();\r\n\r\n        initDynamicComponents();\r\n        initDynamicAnimations();\r\n\r\n        this.iFrameCommunicator = new IFrameCommunicator(undefined, \"WeblancerIFrameCommunicator\",\r\n            window.parent, this.onMessage);\r\n\r\n        // TODO test, clean them after test finished\r\n        window.addEventListener(\"keydown\",(e) =>{\r\n            e = e || window.event;\r\n            let key = e.which || e.keyCode; // keyCode detection\r\n            let ctrl = e.ctrlKey ? e.ctrlKey : (key === 17); // ctrl detection\r\n\r\n            if ( key === 80 && ctrl ) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + P\");\r\n                this.pinInspector();\r\n            }\r\n            if ( key === 76 && ctrl ) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + L\");\r\n                this.toggleThemeManager(true);\r\n            }\r\n            if ( key === 79 && ctrl ) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + O\");\r\n                this.toggleThemeManager(false);\r\n            }\r\n            if ( key === 69 && ctrl ) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + E\");\r\n                this.exportSiteData();\r\n            }\r\n        });\r\n\r\n\r\n    };\r\n\r\n    initContext = () => {\r\n        this.context.initContext({\r\n            editor: this,\r\n            rightMenus: {\r\n                addComponent: {\r\n                    state: false,\r\n                    toggle: this.toggleAddComponent\r\n                },\r\n                pageManager: {\r\n                    state: false,\r\n                    toggle: this.togglePageManager\r\n                },\r\n                themeManager: {\r\n                    state: false,\r\n                    toggle: this.toggleThemeManager\r\n                }\r\n            }\r\n        });\r\n\r\n        this.select.setContext(this.context);\r\n    };\r\n\r\n    componentDidMount(){\r\n        this.initContext();\r\n        this.loadSiteData();\r\n    }\r\n\r\n    loadSiteData = () => {\r\n        fetch(process.env.PUBLIC_URL + '/static/json/env.json').then((res) => res.json())\r\n        .then((data) => {\r\n            if (data.value === 'editor') {\r\n                this.postMessage({\r\n                    type: \"Holder\",\r\n                    func: \"onEditorMounted\",\r\n                    inputs: []\r\n                }, (data) => {\r\n                    console.log(\"componentDidMount initFromHolder\", data);\r\n                    this.initFromHolder(data.result);\r\n                });\r\n            } else {\r\n                fetch(process.env.PUBLIC_URL + '/static/json/siteData.json').then((res) => res.json())\r\n                    .then((siteData) => {\r\n                        this.context.setProduction(() => {\r\n                            this.onSiteDataUpdated(siteData);\r\n                        });\r\n                    }).catch(err => {\r\n                    console.log(\"loadSiteData error\", err);\r\n                })\r\n            }\r\n        }).catch(err => {\r\n            console.log(\"loadSiteData error\", err);\r\n        })\r\n    };\r\n\r\n    initFromHolder = (data) => {\r\n        this.onSetZoomScale(data.zoomScale);\r\n    };\r\n\r\n    onMessage = (data, res) => {\r\n        EditorController.onMessage(data, res, this);\r\n    };\r\n\r\n    postMessage = (data, callback) => {\r\n        this.iFrameCommunicator.post(data, callback);\r\n    };\r\n\r\n    setPreview = (preview, callback) => {\r\n        callback && callback();\r\n        this.context.setPreview(preview);\r\n    }\r\n\r\n    testWebsite = () => {\r\n        let siteData = cloneObject(defaultSiteData);\r\n        let allComponentData = cloneObject(defaultAllComponentData);\r\n\r\n        this.onComponentDataUpdated(allComponentData);\r\n        this.onSiteDataUpdated(siteData);\r\n    };\r\n\r\n    onSiteDataUpdated = (siteData) => {\r\n        if (!siteData) {\r\n            siteData = cloneObject(defaultSiteData);\r\n        }\r\n        // siteData = cloneObject(defaultSiteData);\r\n\r\n        this.context.setSiteData(siteData, () => {\r\n            let pageData = siteData.allPages[Object.keys(siteData.allPages)[0]];\r\n            this.context.setPageData(pageData.props.pageId, false, this.onHeightChange);\r\n        });\r\n\r\n        // TODO Test\r\n        let allComponentData = cloneObject(defaultAllComponentData);\r\n        this.onComponentDataUpdated(allComponentData);\r\n    };\r\n\r\n    setBreakpoints = (breakpoints) => {\r\n        this.breakpointmanager = new BreakPointManager(breakpoints, this,\r\n            undefined, this.onZoomLevelChange,\r\n            this.onHeightChange, this.onResize);\r\n    }\r\n\r\n    onComponentDataUpdated = (allComponentData) => {\r\n        this.setState({allComponentData});\r\n    };\r\n\r\n    onPageChange = (pageId, force) => {\r\n        if (!force && this.context.pageData.props.pageId === pageId) {\r\n            return;\r\n        }\r\n\r\n        console.log(\"onPageChange\");\r\n        this.rootLayoutRef.current.onSelect(true, () => {\r\n            this.idMan.clear();\r\n\r\n            this.context.setPageData(undefined , () => {\r\n                let pageData = this.context.siteData.allPages[pageId];\r\n                this.context.setPageData(pageData);\r\n            });\r\n        });\r\n    };\r\n\r\n    togglePreview = (preview) => {\r\n        this.setState({preview});\r\n    };\r\n\r\n    setZoomLevel = (zoomLevel) => {\r\n        this.setState({zoomLevel: zoomLevel || 100});\r\n    };\r\n\r\n    componentWillUnmount(){\r\n        this.breakpointmanager.dispose();\r\n    }\r\n\r\n    onPageZoomChange = (zoomScale) => {\r\n        this.postMessage({\r\n            type: \"Holder\",\r\n            func: \"changePageZoom\",\r\n            inputs: [zoomScale]\r\n        }, (data) => {\r\n            this.onSetZoomScale(data.result)\r\n        });\r\n    };\r\n\r\n    onSetZoomScale = (zoomScale) => {\r\n        document.documentElement.style.setProperty('--zoom-scale', zoomScale);\r\n\r\n        this.context.setZoomScale(zoomScale, this.onZoomLevelChange);\r\n    };\r\n\r\n    // Just in editor\r\n    onBreakpointChange = (width, newBreakpointName, devicePixelRatio) => {\r\n        if (this.rootLayoutRef.current)\r\n            width = this.rootLayoutRef.current.getSize(false).width;\r\n\r\n        this.onPageResize(width, this.rootLayoutRef.current);\r\n    };\r\n\r\n    notifyBreakpointChange = (width, newBreakpointName, devicePixelRatio) => {\r\n        this.rootLayoutRef.current.props.aglComponent.updateTemplates();\r\n        this.rootLayoutRef.current.onBreakpointChange(width, newBreakpointName, devicePixelRatio);\r\n    };\r\n\r\n    onZoomLevelChange = (newDevicePixelRatio) => {\r\n        if (!this.rootLayoutRef.current)\r\n            return;\r\n        !this.isPreview() && this.rootLayoutRef.current.invalidateSize(true, true, true);\r\n        !this.isPreview() && this.select.onScrollItem();\r\n        this.rootLayoutRef.current.onWindowSizeChange();\r\n    };\r\n\r\n    isPreview = () => {\r\n        return this.context.preview;\r\n    }\r\n\r\n    onHeightChange = (e) => {\r\n        if (!this.rootLayoutRef.current)\r\n            return;\r\n        this.rootLayoutRef.current.invalidateSize(true, true, true);\r\n        !this.isPreview() && this.select.onScrollItem();\r\n        this.rootLayoutRef.current.onWindowSizeChange();\r\n        this.rootLayoutRef.current.updateLayout();\r\n\r\n        this.onResize(e);\r\n    };\r\n\r\n    toggleInspector = () => {\r\n        return this.inspectorRef.current.toggle();\r\n    };\r\n\r\n    pinInspector = () => {\r\n        this.context.setInspectorPinned(!this.context.inspectorPinned, () => {\r\n            this.select.onScrollItem();\r\n            this.rootLayoutRef.current.invalidateSize();\r\n        });\r\n\r\n        // this.editorData.innerWidth = window.innerWidth -\r\n        // this.context.inspectorPinned ? this.context.inspectorWidth : 0;\r\n\r\n        this.onScrollBoundary();\r\n        this.rootLayoutRef.current.updateLayout();\r\n    };\r\n\r\n    onPageResize = (width, pageAgl, force) => {\r\n        let result = this.breakpointmanager.checkBreakPointChange(width);\r\n\r\n        this.onResize(undefined, width);\r\n\r\n        console.log(\"onPageResize\", width)\r\n        this.context.setPageSizeWidth(width);\r\n\r\n        if (result.changed || force) {\r\n            this.notifyBreakpointChange(width, result.currentBreakpointName,\r\n                this.breakpointmanager.getDevicePixelRatio());\r\n        }\r\n    };\r\n\r\n    onResize = (e, width) => {\r\n        if (!this.rootLayoutRef.current)\r\n            return;\r\n\r\n        this.onResizeD(e, width);\r\n        this.onResizeT(e, width);\r\n    };\r\n\r\n    onResizeD = debounce((e, width) => {\r\n        if (!this.rootLayoutRef.current)\r\n            return;\r\n\r\n        if (!width)\r\n            width = this.rootLayoutRef.current.getSize(false, true).width;\r\n        document.documentElement.style.setProperty('--vw-ratio', width / window.innerWidth);\r\n    }, 100);\r\n\r\n    onResizeT = throttle((e, width) => {\r\n        if (!width)\r\n            width = this.rootLayoutRef.current.getSize(false, true).width;\r\n\r\n        document.documentElement.style.setProperty('--vw-ratio', width / window.innerWidth);\r\n    }, 100);\r\n\r\n    onPageResizeStart = () => {\r\n        if (this.isPreview()) return;\r\n        this.resizeRef.current.activate(false);\r\n        this.helpLinesRef.current.activate(false);\r\n        this.miniMenuHolderRef.current.activate(false);\r\n    };\r\n\r\n    onPageResizeStop = () => {\r\n        if (this.isPreview()) return;\r\n        this.resizeRef.current.activate(true);\r\n        this.helpLinesRef.current.activate(true);\r\n        this.miniMenuHolderRef.current.activate(true);\r\n    };\r\n\r\n    onScrollBoundary = (e) => {\r\n        !this.isPreview() && this.rootLayoutRef.current.invalidateSize(true, true, true);\r\n        !this.isPreview() &&this.select.onScrollItem();\r\n\r\n        this.rootLayoutRef.current.onWindowSizeChange();\r\n    };\r\n\r\n    updateLayout = () => {\r\n        if (!this.rootLayoutRef.current)\r\n            return;\r\n\r\n        let layout = [];\r\n\r\n        let getLayoutItem = (item, childData) => {\r\n            if (!item || !item.mounted)\r\n                return;\r\n\r\n            return {\r\n                id: childData.props.id,\r\n                childData: childData,\r\n                childrenData: Object.keys(item.getFromTempData(\"savedChildren\")).map(childId => {\r\n                    let childData = item.getFromTempData(\"savedChildren\")[childId];\r\n                    return getLayoutItem(\r\n                        item.allChildRefs[childId].current,\r\n                        childData\r\n                    );\r\n                }).filter(il => {\r\n                    return il;\r\n                })\r\n            };\r\n        };\r\n\r\n        let pageChildData = {\r\n            tagName: this.rootLayoutRef.current.props.tagName,\r\n            props: this.rootLayoutRef.current.getClearProps({...this.rootLayoutRef.current.props}),\r\n            zIndex: 0\r\n        };\r\n\r\n        layout.push(getLayoutItem(this.rootLayoutRef.current, pageChildData));\r\n\r\n        this.layoutRef.current.setLayout(layout);\r\n    };\r\n\r\n    openLayout = () => {\r\n        this.layoutRef.current.open();\r\n    };\r\n\r\n    closeLayout = () => {\r\n        this.layoutRef.current.close();\r\n    };\r\n\r\n    toggleAddComponent = (force, state) => {\r\n        if (state === true) {\r\n            this.addComponentRef.current.open();\r\n            return true;\r\n        }\r\n        return this.addComponentRef.current.toggle(force);\r\n    };\r\n\r\n    togglePageManager = (force, state) => {\r\n        if (state === true) {\r\n            this.pageManagerRef.current.open();\r\n            return true;\r\n        }\r\n        return this.pageManagerRef.current.toggle(force);\r\n    };\r\n\r\n    toggleThemeManager = (force, state) => {\r\n        if (state === true) {\r\n            this.themeManagerRef.current.open();\r\n            return true;\r\n        }\r\n        return this.themeManagerRef.current.toggle(force);\r\n    };\r\n\r\n    // pageData is a childData that is for PageBase component\r\n    getLivePageData = () => {\r\n        return {\r\n            tagName: \"PageBase\",\r\n            props: this.rootLayoutRef.current.getClearProps({...this.rootLayoutRef.current.props})\r\n        };\r\n    };\r\n\r\n    getLiveSiteData = () => {\r\n        let siteData = this.context.siteData || {allPages: {}};\r\n\r\n        siteData.allPages[uuidv4()] = this.getLivePageData();\r\n\r\n        return siteData;\r\n    };\r\n\r\n    exportSiteData = () => {\r\n        let siteData = this.getLiveSiteData();\r\n\r\n        const fileName = \"siteData\";\r\n        const json = JSON.stringify(siteData);\r\n        const blob = new Blob([json],{type:'application/json'});\r\n        const href = URL.createObjectURL(blob);\r\n        const link = document.createElement('a');\r\n        link.href = href;\r\n        link.download = fileName + \".json\";\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n    };\r\n\r\n    getSiteData = (callback) => {\r\n        callback && callback(this.context.siteData);\r\n        return this.context.siteData;\r\n    }\r\n\r\n    isProduction = () => {\r\n        return this.context.production;\r\n    }\r\n\r\n    render() {\r\n        // TODO if this.context.siteData not loaded, show loading component\r\n        let borderClassess = classNames(\r\n            \"PageBaseWhiteBackground\",\r\n            this.context.production ? \"PageBaseWhiteBackgroundHeightProduction\" : \"PageBaseWhiteBackgroundHeightEditor\",\r\n        );\r\n        if (this.context.pageData) {\r\n            return (\r\n                <div className=\"EditorBoundaryRoot\" onContextMenu={(e) => {\r\n                    e.preventDefault();\r\n                    e.stopPropagation();\r\n                }}>\r\n                    {\r\n                        !this.isPreview() && !this.isProduction() &&\r\n                        <div className=\"EditorBoundaryHeader\">\r\n                            <EditorHeader\r\n                                onAddComponentClick={this.toggleAddComponent}\r\n                                onInspectorClick={this.toggleInspector}\r\n                                onThemeManagerClick={this.toggleThemeManager}\r\n                                onPageManagerClick={this.togglePageManager}\r\n                                onPageZoomChange={this.onPageZoomChange}\r\n                            />\r\n                        </div>\r\n                    }\r\n                    {\r\n                        this.isPreview() && !this.isProduction() &&\r\n                        <div className=\"EditorBoundaryHeader\">\r\n                            <PreviewHeader\r\n                                onAddComponentClick={this.toggleAddComponent}\r\n                                onInspectorClick={this.toggleInspector}\r\n                                onThemeManagerClick={this.toggleThemeManager}\r\n                                onPageManagerClick={this.togglePageManager}\r\n                                onPageZoomChange={this.onPageZoomChange}\r\n                            />\r\n                        </div>\r\n                    }\r\n                    <div className=\"EditorBoundaryContent\">\r\n                        {\r\n                            !this.isPreview() && !this.isProduction() &&\r\n                            <>\r\n                                <AdjustmentGrid\r\n                                    ref={this.gridEditorRef}\r\n                                />\r\n                                <AdjustmentSnap\r\n                                    ref={this.snapSvgRef}\r\n                                />\r\n                                <AdjustmentGridLines\r\n                                    ref={this.gridContainerRef}\r\n                                />\r\n                                <AdjustmentGroupRect\r\n                                    ref={this.groupSelectRef}\r\n                                />\r\n\r\n                                <PageManager\r\n                                    ref={this.pageManagerRef}\r\n                                    editor={this}\r\n                                    onPageChange={this.onPageChange}\r\n                                />\r\n                            </>\r\n                        }\r\n\r\n                        {\r\n                            this.context.pageData &&\r\n                            <PageView\r\n                                onScrollBoundary={this.onScrollBoundary}\r\n                                rootLayoutRef={this.rootLayoutRef}\r\n                            >\r\n                                <div className={borderClassess} style={{\r\n                                    marginTop: this.context.production? 0 : `${8*this.context.zoomScale}vh`\r\n                                }}>\r\n                                    <PageBase\r\n                                        key={this.context.pageData.props.pageId}\r\n                                        id=\"page\"\r\n                                        aglRef={this.rootLayoutRef}\r\n                                        viewRef={this.rootLayoutRef}\r\n                                        breakpointmanager={this.breakpointmanager}\r\n                                        undoredo={this.undoredo}\r\n                                        dragdrop={this.dragdrop}\r\n                                        select={this.select}\r\n                                        snap={this.snap}\r\n                                        input={this.inputManager}\r\n                                        idMan={this.idMan}\r\n                                        gridLine={this.gridLine}\r\n                                        gridEditorRef={this.gridEditorRef}\r\n                                        anchorMan={this.anchorMan}\r\n                                        copyMan={this.copyMan}\r\n                                        editorData={this.editorData}\r\n                                        onPageResize={this.onPageResize}\r\n                                        onPageResizeStart={this.onPageResizeStart}\r\n                                        onPageResizeStop={this.onPageResizeStop}\r\n                                        editor={!this.isPreview() && this}\r\n                                        devicePixelRatio={this.state.devicePixelRatio}\r\n                                        {...this.context.pageData.props}\r\n                                        pageSize={this.context.pageSize}\r\n                                    />\r\n                                </div>\r\n                            </PageView>\r\n                            /*<div\r\n                                className=\"EditorBoundaryPageHolder\"\r\n                                style={{\r\n                                    // TODO add scale support\r\n                                    padding: \"0 50px\"\r\n                                }}\r\n                                onScroll={this.onScrollBoundary}\r\n                                onContextMenu={(e) => {\r\n                                    e.stopPropagation();\r\n                                    e.preventDefault();\r\n                                }}\r\n                            >\r\n                                <div\r\n                                    className=\"EditorBoundaryPageHolderHover\"\r\n                                    style={{\r\n                                        bottom: getScrollbarWidth()\r\n                                    }}\r\n                                    onClick={() => {\r\n                                        this.rootLayoutRef.current.onSelect(true);\r\n                                    }}\r\n                                />\r\n                                <div className=\"PageBaseWhiteBackground\" style={{\r\n                                    marginTop: `${8*this.context.zoomScale}vh`\r\n                                }}>\r\n                                    <PageBase\r\n                                        key={this.context.pageData.props.pageId}\r\n                                        id=\"page\"\r\n                                        aglRef={this.rootLayoutRef}\r\n                                        viewRef={this.rootLayoutRef}\r\n                                        breakpointmanager={this.breakpointmanager}\r\n                                        undoredo={this.undoredo}\r\n                                        dragdrop={this.dragdrop}\r\n                                        select={this.select}\r\n                                        snap={this.snap}\r\n                                        input={this.inputManager}\r\n                                        idMan={this.idMan}\r\n                                        gridLine={this.gridLine}\r\n                                        gridEditorRef={this.gridEditorRef}\r\n                                        anchorMan={this.anchorMan}\r\n                                        copyMan={this.copyMan}\r\n                                        editorData={this.editorData}\r\n                                        onPageResize={this.onPageResize}\r\n                                        onPageResizeStart={this.onPageResizeStart}\r\n                                        onPageResizeStop={this.onPageResizeStop}\r\n                                        editor={!this.isPreview() && this}\r\n                                        devicePixelRatio={this.state.devicePixelRatio}\r\n                                        {...this.context.pageData.props}\r\n                                        pageSize={this.context.pageSize}\r\n                                    />\r\n                                </div>\r\n                            </div>*/\r\n                        }\r\n\r\n                        {\r\n                            !this.isPreview() && !this.isProduction() &&\r\n                            <>\r\n                                {\r\n                                    !this.context.pageData &&\r\n                                    <div>\r\n                                        {/*Loading...*/}\r\n                                    </div>\r\n                                }\r\n\r\n                                <AdjustmentHover\r\n                                    ref={this.hoverRef}\r\n                                />\r\n\r\n                                <AdjustmentHelpLinesWrapper\r\n                                    ref={this.helpLinesRef}\r\n                                />\r\n\r\n                                <AdjustmentResizeWrapper\r\n                                    ref={this.resizeRef}\r\n                                />\r\n\r\n                                {\r\n                                    this.context.pageData &&\r\n                                    <Layout\r\n                                        ref={this.layoutRef}\r\n                                        idMan={this.idMan}\r\n                                    />\r\n                                }\r\n\r\n                                {\r\n                                    this.context.siteData &&\r\n                                    this.context.pageData &&\r\n                                    <ThemeManager\r\n                                        ref={this.themeManagerRef}\r\n                                        editor={this}\r\n                                    />\r\n                                }\r\n\r\n                                <AddComponent\r\n                                    ref={this.addComponentRef}\r\n                                    allComponentData={this.state.allComponentData}\r\n                                    pageRef={this.rootLayoutRef}\r\n                                    editor={this}\r\n                                />\r\n\r\n                                <Inspector\r\n                                    ref={this.inspectorRef}\r\n                                    pinInspector={this.pinInspector}\r\n                                />\r\n                                <MenuHolder\r\n                                    ref={this.miniMenuHolderRef}\r\n                                />\r\n                            </>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport EditorBoundary from \"./AwesomeGridLayout/Editor/EditorBoundary\";\r\nimport EditorContextProvider from \"./AwesomeGridLayout/Editor/EditorContext\";\r\n\r\nReactDOM.render(\r\n    <EditorContextProvider>\r\n        <EditorBoundary />\r\n    </EditorContextProvider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/close.ebf2f3f4.svg\";"],"sourceRoot":""}