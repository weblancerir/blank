{"version":3,"sources":["AwesomeGridLayout/icons/align-left.svg","AwesomeGridLayout/icons/align-center.svg","AwesomeGridLayout/icons/align-right.svg","AwesomeGridLayout/icons/errorred.svg","AwesomeGridLayout/icons/bin.svg","AwesomeGridLayout/icons/chain.svg","AwesomeGridLayout/icons/textwhite.svg","AwesomeGridLayout/icons/settingwhite.svg","AwesomeGridLayout/icons/align-top.svg","AwesomeGridLayout/icons/align-middle.svg","AwesomeGridLayout/icons/align-bottom.svg","AwesomeGridLayout/icons/unlink.svg","AwesomeGridLayout/icons/linkblue.svg","AwesomeGridLayout/icons/linkdisable.svg","AwesomeGridLayout/icons/link.svg","AwesomeGridLayout/icons/refresh.svg","AwesomeGridLayout/icons/cropwhite.svg","AwesomeGridLayout/icons/focalwhite.svg","AwesomeGridLayout/icons/dropdownwhite.svg","AwesomeGridLayout/icons/layoutwhite.svg","AwesomeGridLayout/icons/unstackwhite.svg","AwesomeGridLayout/Adjustment/icons/plus.svg","AwesomeGridLayout/icons/stackwhite.svg","AwesomeGridLayout/icons/more.svg","AwesomeGridLayout/icons/question.svg","AwesomeGridLayout/icons/move-arrows.svg","AwesomeGridLayout/icons/bindisable.svg","AwesomeGridLayout/icons/cloudupload.svg","AwesomeGridLayout/icons/file.svg","AwesomeGridLayout/icons/folder.svg","AwesomeGridLayout/icons/folderback.svg","AwesomeGridLayout/icons/notparent.svg","AwesomeGridLayout/icons/parent.svg","AwesomeGridLayout/icons/text.svg","AwesomeGridLayout/icons/close.svg","AwesomeGridLayout/Adjustment/icons/minimize.svg","AwesomeGridLayout/Adjustment/icons/maximize.svg","AwesomeGridLayout/icons sync /^/.*$","AwesomeGridLayout/icons/dropdown.svg","AwesomeGridLayout/icons/layout.svg","AwesomeGridLayout/icons/linkwhite.svg","AwesomeGridLayout/icons/maximize.png","AwesomeGridLayout/icons/minimize.png","AwesomeGridLayout/icons/plus.svg","AwesomeGridLayout/icons/qabutton.svg","AwesomeGridLayout/icons/qacontainer.svg","AwesomeGridLayout/icons/qaimage.svg","AwesomeGridLayout/icons/qamenu.svg","AwesomeGridLayout/icons/qaparagraph.svg","AwesomeGridLayout/icons/qatext.svg","AwesomeGridLayout/icons/qavideo.svg","serviceWorker.js","AwesomeGridLayout/AwesomeGridLayoutUtils.js","AwesomeGridLayout/BreakPointManager.js","AwesomeGridLayout/Components/Text/TextHelper.js","AwesomeGridLayout/MenuManager/MenuManager.js","AwesomeGridLayout/Editor/EditorContext.js","AwesomeGridLayout/DragDropManager.js","AwesomeGridLayout/GridChildContainerChildren.js","AwesomeGridLayout/Test/Inspector/InspectorBreadcrumbs.js","AwesomeGridLayout/HelperComponents/IconButton.js","AwesomeGridLayout/Test/Inspector/InspectorAligns.js","AwesomeGridLayout/AwesomwGridLayoutHelper.js","AwesomeGridLayout/Menus/CommonComponents/NumberInputWithUnit.js","AwesomeGridLayout/Test/Inspector/InspectorTitle.js","AwesomeGridLayout/Test/Inspector/InspectorSize.js","AwesomeGridLayout/Test/Inspector/DockSwitch.js","AwesomeGridLayout/Test/Inspector/InspectorPosition.js","AwesomeGridLayout/Menus/CommonComponents/DropDown.js","AwesomeGridLayout/Menus/CommonComponents/NumberInput.js","AwesomeGridLayout/Test/Inspector/InspectorScroll.js","AwesomeGridLayout/Test/Inspector/InspectorPadding.js","AwesomeGridLayout/Test/Inspector/InspectorOverflow.js","AwesomeGridLayout/Menus/CommonComponents/TextInput.js","AwesomeGridLayout/Test/Inspector/InspectorAnchor.js","AwesomeGridLayout/Test/Inspector/InspectorAdjustment.js","AwesomeGridLayout/Components/Helpers/AGLComponent.js","AwesomeGridLayout/Components/Containers/Menus/Components/LightTooltip.js","AwesomeGridLayout/Menus/MenuBase/MenuButton.js","AwesomeGridLayout/Menus/MenuBase/MenuBaseIndexTitle.js","AwesomeGridLayout/Menus/MenuBase/MenuBase.js","AwesomeGridLayout/Menus/CommonComponents/Slider.js","AwesomeGridLayout/Menus/CommonComponents/SliderInputControlled.js","AwesomeGridLayout/Menus/CommonComponents/Image.js","AwesomeGridLayout/Portal.js","AwesomeGridLayout/Test/Theme/HexColorPicker.js","AwesomeGridLayout/Test/Theme/ThemeColorPicker.js","AwesomeGridLayout/Menus/CommonComponents/ColorPicker.js","AwesomeGridLayout/Components/Containers/Menus/Components/Background.js","AwesomeGridLayout/Menus/CommonComponents/Divider.js","AwesomeGridLayout/Menus/CommonComponents/SliderInput.js","AwesomeGridLayout/Components/Containers/Menus/Components/Border.js","AwesomeGridLayout/Components/Containers/Menus/Components/Corners.js","AwesomeGridLayout/Menus/CommonComponents/CircularSlider.js","AwesomeGridLayout/Menus/CommonComponents/Angle.js","AwesomeGridLayout/Components/Containers/Menus/Components/Shadow.js","AwesomeGridLayout/Components/Containers/Menus/BorderDesign.js","AwesomeGridLayout/Menus/CommonComponents/GridViewer.js","AwesomeGridLayout/Components/Containers/Menus/Components/AnimationSelector.js","AwesomeGridLayout/Components/Containers/Menus/Components/AnimationOptions.js","AwesomeGridLayout/Components/Containers/Menus/AnimationDesign.js","AwesomeGridLayout/Components/Containers/ContainerBase.js","AwesomeGridLayout/Components/Containers/Menus/SectionDesign.js","AwesomeGridLayout/Components/Containers/Header.js","AwesomeGridLayout/Components/Containers/Footer.js","AwesomeGridLayout/Components/Containers/Section.js","AwesomeGridLayout/Test/Inspector/InspectorBackground.js","AwesomeGridLayout/Components/Pages/PageBase.js","AwesomeGridLayout/Components/Stack/VerticalSpacer.js","AwesomeGridLayout/Test/Animations/FadeInAnimation.js","AwesomeGridLayout/Test/Animations/BounceInAnimation.js","AwesomeGridLayout/Test/Animations/GlideInAnimation.js","AwesomeGridLayout/Test/Animations/FloatInAnimation.js","AwesomeGridLayout/Test/Animations/ExpandInAnimation.js","AwesomeGridLayout/Test/Animations/SpinInAnimation.js","AwesomeGridLayout/Test/Animations/FlyInAnimation.js","AwesomeGridLayout/Test/Animations/TurnInAnimation.js","AwesomeGridLayout/Test/Animations/ArcInAnimation.js","AwesomeGridLayout/Test/Animations/PuffInAnimation.js","AwesomeGridLayout/Test/Animations/FoldInAnimation.js","AwesomeGridLayout/Test/Animations/FlipInAnimation.js","AwesomeGridLayout/Test/Animations/RevealAnimation.js","AwesomeGridLayout/Components/Text/Menus/InputDiv.js","AwesomeGridLayout/Components/Text/Menus/InputWrapper.js","AwesomeGridLayout/Components/Text/Menus/TextEditorButton.js","AwesomeGridLayout/Components/Text/Menus/components/FontSizeAutoComplete.js","AwesomeGridLayout/Components/Text/Menus/components/FontSizeSelector.js","AwesomeGridLayout/Components/Text/Menus/components/TextColorSelector.js","AwesomeGridLayout/HelperComponents/SmallRadio.js","AwesomeGridLayout/Components/Text/Menus/components/LinkGenerator.js","AwesomeGridLayout/Components/Text/Menus/components/LinkHelper.js","AwesomeGridLayout/Components/Text/Menus/TextEditor.js","AwesomeGridLayout/Components/Text/TextWrapper.js","AwesomeGridLayout/Components/Text/Text.js","AwesomeGridLayout/Menus/CommonMenus/ColorAdjustment.js","AwesomeGridLayout/Components/Button/Menus/ButtonDesign.js","AwesomeGridLayout/Components/Button/Menus/FontSizeSelector2.js","AwesomeGridLayout/Components/Button/Menus/ButtonTextAppearance.js","AwesomeGridLayout/Components/Button/Menus/ButtonTextLayout.js","AwesomeGridLayout/Components/Button/Menus/TextDesign.js","AwesomeGridLayout/Components/Text/Menus/components/LinkedTag.js","AwesomeGridLayout/Components/Button/Button.js","AwesomeGridLayout/Components/Image/CropperModal.js","AwesomeGridLayout/Components/Image/FocalPointModal.js","AwesomeGridLayout/Components/Image/Menus/ImageDesign.js","AwesomeGridLayout/Components/Image/Menus/ImageBehavior.js","AwesomeGridLayout/Components/Image/Menus/ImageBehaviorDesign.js","AwesomeGridLayout/Components/Image/Menus/ScaleProportionallyInspectorSize.js","AwesomeGridLayout/Editor/DomainManager.js","AwesomeGridLayout/Components/Image/Image.js","AwesomeGridLayout/Components/Video/Menus/VideoDesign.js","AwesomeGridLayout/Components/Video/Menus/VideoSource.js","AwesomeGridLayout/Components/Video/Menus/VideoData.js","AwesomeGridLayout/Components/Video/Video.js","AwesomeGridLayout/Components/Video/VideoHelper.js","AwesomeGridLayout/Components/Menu/FreeDropDownMenu.js","AwesomeGridLayout/Components/Menu/HorizontalMenuItem.js","AwesomeGridLayout/Components/Menu/SelectMenu.js","AwesomeGridLayout/Components/Menu/Menus/MenuItemDesign.js","AwesomeGridLayout/Components/Menu/Menus/MenuItemTextAppearance.js","AwesomeGridLayout/Components/Menu/Menus/MenuItemTextDesign.js","AwesomeGridLayout/Components/Menu/Menus/MenuLayoutAppearance.js","AwesomeGridLayout/Components/Menu/Menus/MenuLayoutDesign.js","AwesomeGridLayout/Components/Menu/Menus/MenuDropDownDesign.js","AwesomeGridLayout/Components/Menu/HorizontalMenu.js","AwesomeGridLayout/Adjustment/AdjustmentMove.js","AwesomeGridLayout/Components/Stack/StackSpacerResizer.js","AwesomeGridLayout/Components/Stack/StackSpacer.js","AwesomeGridLayout/Components/Stack/StackSpacerContainer.js","AwesomeGridLayout/Components/Stack/Stack2.js","AwesomeGridLayout/Dynamic/DynamicComponents.js","AwesomeGridLayout/Adjustment/AdjustmentPageControllers.js","AwesomeGridLayout/GridChildContainerFixedHolder.js","AwesomeGridLayout/Test/PaddingInterface.js","AwesomeGridLayout/Test/ParentSelectInterface.js","AwesomeGridLayout/GridChildContainer.js","AwesomeGridLayout/AGLAnchor.js","AwesomeGridLayout/Adjustment/ResizePanePage.js","AwesomeGridLayout/Adjustment/AdjustmentResizePage.js","AwesomeGridLayout/Test/EventTrigger.js","AwesomeGridLayout/Test/WindowCache.js","AwesomeGridLayout/AnimationHolder.js","AwesomeGridLayout/Test/VisibilitySensorWrapper.js","AwesomeGridLayout/Adjustment/AdjustmentHelpSize.js","AwesomeGridLayout/AwesomeGridLayout2.js","AwesomeGridLayout/Components/Helpers/AGLWrapper.js","AwesomeGridLayout/Components/Stack/Stack.js","AwesomeGridLayout/Test/ContextMenu.js","AwesomeGridLayout/InputManager.js","AwesomeGridLayout/SelectManager.js","AwesomeGridLayout/SnapManager.js","AwesomeGridLayout/CopyManager.js","AwesomeGridLayout/IdManager.js","AwesomeGridLayout/UndoRedo.js","AwesomeGridLayout/GridLineManager.js","AwesomeGridLayout/AnchorManager.js","AwesomeGridLayout/Adjustment/AdjustmentGridRoot.js","AwesomeGridLayout/Adjustment/AdjustmentGridRow.js","AwesomeGridLayout/Adjustment/AdjustmentGrid.js","AwesomeGridLayout/Adjustment/AdjustmentSnapLines.js","AwesomeGridLayout/Adjustment/AdjustmentSnap.js","AwesomeGridLayout/Adjustment/GridLine.js","AwesomeGridLayout/Adjustment/AdjustmentGridLinesWrapper2.js","AwesomeGridLayout/Adjustment/AdjustmentGridLines.js","AwesomeGridLayout/Adjustment/ResizePane.js","AwesomeGridLayout/Adjustment/AdjustmentGroupRect.js","AwesomeGridLayout/Menus/MiniMenu/Components/RightClick.js","AwesomeGridLayout/Menus/MiniMenu/MiniMenuVerticalDivider.js","AwesomeGridLayout/Menus/MiniMenu/Components/Help.js","AwesomeGridLayout/Menus/MiniMenu/MiniMenu.js","AwesomeGridLayout/Menus/MiniMenu/GroupMiniMenu.js","AwesomeGridLayout/Menus/MenuHolder.js","AwesomeGridLayout/Test/IFrameCommunicator.js","AwesomeGridLayout/Test/EditorController.js","AwesomeGridLayout/Test/Inspector/Inspector.js","AwesomeGridLayout/Adjustment/AdjustmentStretch.js","AwesomeGridLayout/Adjustment/AdjustmentItemMove.js","AwesomeGridLayout/Adjustment/AdjustmentResize.js","AwesomeGridLayout/Adjustment/AdjustmentResizeWrapper.js","AwesomeGridLayout/Adjustment/AdjustmentHelpLines.js","AwesomeGridLayout/Adjustment/AdjustmentHelpLinesWrapper.js","AwesomeGridLayout/Adjustment/AdjustmentHover.js","AwesomeGridLayout/Test/Layout/Layout.js","AwesomeGridLayout/Test/AddComponent/ComponentGrid.js","AwesomeGridLayout/Test/AddComponent/AddComponent.js","AwesomeGridLayout/Test/PageManager/PageTypeTitle.js","AwesomeGridLayout/Test/PageManager/PageSetting/PageInfo.js","AwesomeGridLayout/Menus/CommonComponents/AglRadio.js","AwesomeGridLayout/Test/PageManager/PageSetting/Permissions.js","AwesomeGridLayout/Test/PageManager/PageSetting/SeoGoogle.js","AwesomeGridLayout/Test/PageManager/PageSetting/SocialShare.js","AwesomeGridLayout/Test/PageManager/PageSetting/PageSetting.js","AwesomeGridLayout/Test/PageManager/PageItem.js","AwesomeGridLayout/Test/PageManager/AddNewPageDialogItem.js","AwesomeGridLayout/Test/PageManager/AddNewPageDialog.js","AwesomeGridLayout/Test/PageManager/PageManager.js","AwesomeGridLayout/Test/Theme/ThemeTextItem.js","AwesomeGridLayout/Test/Theme/ThemeColorsItem.js","AwesomeGridLayout/Test/Theme/ThemeManager.js","AwesomeGridLayout/Editor/Zoom/EditorHeaderZoom.js","AwesomeGridLayout/Editor/PageSelect/EditorHeaderPageSelect.js","AwesomeGridLayout/Menus/CommonComponents/NumberInputEnterToChange.js","AwesomeGridLayout/Editor/Breakpoints/BreakpointHelper.js","AwesomeGridLayout/Editor/Breakpoints/EditorHeaderBreakpointsSettingItem.js","AwesomeGridLayout/Editor/Breakpoints/EditorHeaderBreakpointsSetting.js","AwesomeGridLayout/Editor/Breakpoints/EditorHeaderBreakpoints.js","AwesomeGridLayout/MenuManager/CreateMenu.js","AwesomeGridLayout/MenuManager/MenuTree/MenuTreeOrderer.js","AwesomeGridLayout/MenuManager/MenuTree/MenuTreeItem.js","AwesomeGridLayout/MenuManager/MenuTree/MenuTree.js","AwesomeGridLayout/MenuManager/MenuManagerUI.js","AwesomeGridLayout/Editor/EditorHeader.js","AwesomeGridLayout/Editor/Breakpoints/PreviewHeaderBreakpoints.js","AwesomeGridLayout/Editor/PreviewHeader.js","AwesomeGridLayout/Editor/PageRouter.js","AwesomeGridLayout/Editor/PageView.js","AwesomeGridLayout/Editor/Dashboard/Content/SiteDashboard.js","AwesomeGridLayout/Components/FileManager/Components/UploadButton.js","AwesomeGridLayout/Components/FileManager/FileManagerHelper.js","AwesomeGridLayout/Components/FileManager/Components/NewFolder.js","AwesomeGridLayout/Components/FileManager/Components/FileUploader.js","AwesomeGridLayout/Components/FileManager/Components/MultiColorProgressBar.js","AwesomeGridLayout/Components/FileManager/FileManager.js","AwesomeGridLayout/Components/FileManager/FileManagerModal.js","AwesomeGridLayout/Editor/Dashboard/Components/Confirm.js","AwesomeGridLayout/Editor/Dashboard/Content/SiteSetting.js","AwesomeGridLayout/Editor/Dashboard/Content/SitePlans.js","AwesomeGridLayout/Editor/Dashboard/Dashboard.js","AwesomeGridLayout/Editor/EditorBoundary.js","index.js","AwesomeGridLayout/icons/paint.svg"],"names":["module","exports","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","Boolean","window","location","hostname","match","initGriddata","griddataProp","breakpointdata","initialized","clone","cloneObject","props","griddata","getDefaultChildgriddata","bpData","exist","props2","prop","hasOwnProperty","k","sample","x","y","w","h","minW","undefined","maxW","minH","maxH","constraints","left","top","right","bottom","margin","all","units","scrollType","absolute","fix","autoHeight","autoWidth","overflowData","state","overflowY","resizable","draggable","hasOwnBreakPoints","isContainer","autoDock","sortedBreakPoints","getSortedBreakPoints","name","obj","Array","copy","i","len","length","attr","shallowEqual","objA","objB","keysA","keysB","throttleDebounce","fn","ms","deTimer","dontCall","_","args","arguments","apply","setTimeout","clearTimeout","scrollbarWidth","getScrollbarWidth","document","div","createElement","css","width","height","position","overflow","MsOverflowStyle","body","appendChild","offsetWidth","clientWidth","removeChild","assignData","newData","assign","JSToCSS","JS","cssString","objectKey","replace","g","toLowerCase","updateStyle","styleNode","style","styleName","innerHTML","styleSheet","cssText","createTextNode","appendStyle","styleId","setAttribute","type","getElementsByTagName","swapArrayElements","arr","indexA","indexB","temp","BreakPointManager","breakpoints","editor","onBreakpointChange","onZoomLevelChange","onHeightChange","onResize","dispose","removeEventListener","onWindowResize","onDevicePixelRatioChange","onHeightResize","fixBreakpointRules","forEach","end","updateBreakpoint","start","prevBp","bp","find","b","getUpperBreakPoint","push","newBpData","prevBpData","deleteBreakpoint","index","findIndex","splice","fromClone","windowInnerWidth","lastWidth","editorData","copyDesign","designDatas","sourceItem","cloneDesignDatas","getCopyDesign","pasteDesign","item","designData","design","justOneBp","currentBpName","breakpointmanager","current","bpName","getWindowWidth","getWindowHeight","rootLayoutRef","getSize","setWindowWidth","getBpData","getDevicePixelRatio","devicePixelRatio","changed","lastHeight","innerHeight","newWidth","innerWidth","context","inspectorPinned","inspectorWidth","result","checkBreakPointChange","currentBreakpointName","lastBreakpointName","size","currentBpData","setData","dataSet","param","value","breakpointName","params","split","override","getFromData","firstParamResult","findFirstUpperBreakPointParam","slice","p","getHighestBpName","getCompositeFromData","results","checkBreakpointName","composite","merge","hasDataInBreakPoint","findFirstUpperBreakPointName","getMinWidth","minSize","filter","sort","a","getDefault","this","addEventListener","prefer","breakPointData","getTextStyle","textTheme","textStaticData","textDesignData","fontFamily","textAlign","fontSize","fontWeight","fontStyle","fontDecoration","color","backgroundColor","lineHeight","letterSpacing","getFontDataByFamily","allFonts","fontData","values","getFontDataByName","getSelectionHtmlRemoveProperty","doc","win","propertyName","tagName","selection","createRange","htmlText","getSelection","rangeCount","clonedSelection","getRangeAt","cloneContents","nodes","node","removeProperty","nextNode","hasChildNodes","firstChild","nextSibling","parentNode","getRangeSelectedNodes","range","startContainer","endNode","endContainer","rangeNodes","commonAncestorContainer","unshift","getRandomColor","Math","floor","random","getRandomLinkId","lenght","letters","resolveDefaultMenu","siteData","menus","defaultMenu","m","isDefault","isMenu","menuItems","allPages","page","pageName","pageId","order","linkData","data","inputs","isParent","pageMenuItem","mi","deletePageMenuItem","menu","getMenuById","deleteMenuItem","menuItemId","deleteItemById","parent","toggleMenuItemAsParent","menuItem","changeMenuItemParent","newParentId","newParentMenuItem","getMenuItemById","foundMenuItem","findParent","parentMenu","foundParentMenuItem","getHomePage","homePage","pageData","isHome","getColorScheme","baseColor","chroma","luminance","EditorContext","React","createContext","colorKeys","EditorContextProvider","setUser","user","callback","console","log","setState","isInMenu","inModal","menuHolderRef","showModal","modal","hideModal","setWebsite","website","getThemeColorClass","paletteName","key","replaceAll","getThemeBackColorClass","getTheme","category","theme","items","t","getColor","calculateTheme","Colors","force","calculated","scheme","main","calculateColorCSS","colorsCSS","backColor","cssId","getElementById","addCSS","setProduction","production","preview","postMessageToHolder","postMessage","sendEditCommand","func","setPreview","sendPublishCommand","isEditor","setPageData","idMan","clear","snap","clearSnaps","update","reload","initContext","getInnerWidth","setZoomScale","zoomScale","setSiteData","postSiteData","redirect","setBreakpoints","todo","onSelect","onNewBpAdded","pageChildData","getClearProps","zIndex","changeGriddata","childData","mounted","getFromTempData","childId","allChildRefs","setInspectorPinned","setInspectorWidth","setDevicePixelRatio","setAllComponentData","allComponentData","toggleRightMenu","menuName","rightMenus","toggle","setPageSizeWidth","pageSize","setPageSize","setRightMenus","showLinkGenerator","onDone","showFileManager","options","getInnerWith","addComponent","pageManager","themeManager","menuManager","Provider","children","Component","DragDropManager","setDragging","draggingItem","getDragging","isDraggingItemFixed","portalNodeId","setDraggingStop","mouseOver","getParentsId","includes","newParent","getContainerParent","prepareRects","toggleGridLines","dropItem","fromUndoRedo","undoPower","toggleHelpLines","onChildLeave","drop","onChildDrop","newItem","itemId","firstRelativeX","dragData","firstPos","firstRelativeY","parentRect","lastRelativeX","lastRelativeY","newParentRect","parentId","undoredo","add","getItem","setMouseOver","setPosition","dragdrop","gridLine","hasGridLine","removeMouseOver","positionData","setMouseOverForNonDragging","mouseOverNonDragging","getMouseOverForNonDragging","GridChildContainerChildren","saveState","allChildren","allChildId","allChildIndex","c","z","child","getSorted","getChildren","agl","getChildrenOverride","nextProps","nextState","nextContext","JSON","stringify","InspectorBreadcrumbs","className","reverse","onClick","IconButton","selectStyle","selected","selectedColor","buttonProps","buttonBaseStyle","imageContainerStyle","icon","aria-label","marginLeft","borderRadius","boxSizing","ref","rootRef","display","justifyContent","alignItems","padding","InspectorAligns","getButtonsData","horizontal","img","src","require","vertical","alignItem","saveGridItemStyle","setGridItemStyle","select","onScrollItem","gridItemStyle","alignSelf","marginTop","marginBottom","justifySelf","marginRight","baseDocks","getBaseDocks","setDocks","NumberInputWithUnit","inputFilter","oldValue","okay","parseFloat","isNaN","min","max","onChange","final","target","endsWith","tempValue","getValue","onShowUnits","anchorEl","currentTarget","round","showUnits","unitIconButton","createRef","classes","classNames","inputStyle","onKeyDown","keyCode","which","inputCopyPasteHandler","onBlur","unit","disabled","unitButtonStyle","disableUnit","unitMenuStyle","open","onClose","MenuListProps","dense","onUnitChange","InspectorTitle","defaultOpen","title","process","InspectorSize","onItemPropsChange","owner","getUnit","getViewRatioStyle","setNewSize","parentValue","defaultValue","getPxValueFromCSSValue","runtimeValueToStyleValue","propName","onPropsChange","addListener","removeListener","scaleProportionally","onDesignChange","designKey","runtimeStyle","runtimeGridItemStyle","getRuntimeGridItemStyle","widthForPercent","heightForPercent","Infinity","disabledProps","scrollWidthMinusPadding","widthUnits","scrollHeightMinusPadding","heightUnits","minWidth","maxWidth","minWidthUnits","minHeight","maxHeight","minHeightUnits","maxWidthUnits","maxHeightUnits","defaultProps","DockSwitch","withStyles","root","switchBase","transform","opacity","thumb","boxShadow","track","checked","Switch","InspectorPosition","onDockActiveChange","side","oldDocks","updateHelpLines","helpLinesParent","dragging","onDockAutoChange","setTempData","parentProp","compositeGridItemStyle","onValueChange","getUnitFromStyleValue","updateResizePanes","docks","auto","DropDown","option","valueRenderer","renderer","rootStyle","spanStyle","cursor","menuStyle","pointerEvents","menuItemStyle","NumberInput","test","toFixed","InspectorScroll","onChangeScrollEffect","offsetTop","setScrollBehaviour","viewRef","onChangeOffsetTop","behaviour","getValueFromCSSValue","InspectorPadding","compositePadding","setDataInBreakpoint","equalPadding","pxValue","getStyleValueFromPx","invalidateSize","requestAnimationFrame","onEqualPadding","InspectorOverflow","onChangeState","thisBpOverflowData","compositOverflowData","overflowX","newOverflowData","changeScrollDirection","onChangeAuto","ToggleButtonGroup","exclusive","ToggleButton","TextInput","inputProps","InspectorAnchor","onEnableAnchor","enable","anchor","anchorMan","addAnchor","removeAnchor","onChangeName","newName","modifyAnchor","v","contextType","InspectorAdjustment","onRotationChange","degree","warn","rotate","oldDegree","setTransformStyle","updateLayout","AGLComponent","resolveDesignData","getData","componentData","getDefaultData","componentBpData","tempBpData","componentStaticData","getStaticData","componentStaticBpData","getAgl","aglRef","getAglRef","showComponentCode","cloneProps","rootDivRef","el","execCommand","updateDesign","getCompositeDesignData","getInspector","getInspectorOverride","LightTooltip","tooltip","shadows","Tooltip","LightMenuTooltip","MenuButton","updateMenu","toggleTooltip","openTooltip","hide","placement","PopperProps","onMouseEnter","onMouseLeave","MenuBaseIndexTitle","disableRipple","onIndexClick","MenuBase","close","multiState","states","selectedIndexNo","getDefaultPos","defaultPosition","getOptions","currentState","getIndex","onChangeTab","defaultIndexNo","handle","bounds","styles","menuTitle","indicatorColor","textColor","variant","stateData","label","render","indexData","Slider","step","SliderInputControlled","handleStyle","Image","onError","hasError","errorsrc","Portal","canUseDOM","defaultNode","nodeId","ReactDOM","createPortal","HexColorPicker","onChangeComplete","hex","disableAlpha","ThemeColorPicker","onSelectColor","onAddColor","myColors","onAddColorClick","addColor","themeColorCategoryItems","parseColor","ColorPicker","getRgbA","r","rgba","handleClick","displayColorPicker","handleClose","handleChangeComplete","alpha","lastValue","getColorAndAlpha","handleAlphaChange","background","getBoundingClientRect","Background","Divider","SliderInput","Border","border","Corners","radius","changeSide","link","_side","onLinkClick","direction","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","CircularSlider","onMouseDown","rect","onMouseMove","onMouseUp","clientX","clientY","vx","vy","angle","atan2","PI","Angle","loop","deg2rad","rad2deg","Shadow","shadow","getDegree","xOffset","yOffset","ratio","atan","getRatio","tan","calcDegree","xO","yO","abs","distance","blur","BorderDesign","viewBox","fillRule","d","fillColor","GridViewer","AnimationSelector","onSelectAnimation","playAnimation","allAnimationNames","animation","noneClasses","displayName","join","charAt","toUpperCase","AnimationOptions","DynamicAnimations","duration","delay","once","AnimationDesign","ContainerBase","getPrimaryOptions","role","compositeDesign","getStaticChildren","shadowColor","borderColor","topLeft","topRight","bottomRight","bottomLeft","aglComponent","SectionDesign","Header","isSection","setStyleParam","defaultGridItemStyle","gridArea","as","autoConstraintsOff","helplineOff","Footer","Section","isVerticalSection","designStyle","InspectorBackground","onChangeColor","PageBase","initDataFromPageData","allSectionsH","allSectionsV","grid","gridX","gridY","gridTemplateRows","gridTemplateColumns","initKeyboard","event","ctrl","ctrlKey","preventDefault","selectedItem","getSelected","getHorizontalSection","moveUp","moveDown","getVerticalSection","moveLeft","moveRight","pageResize","noScroll","containerHeight","customStyle","scrollBehavior","deleteHorizontalSection","currentSection","areas","getGridArea","x1","parseInt","x2","firstRow","lastRow","verticalSection","x12","y12","x22","y22","setGridArea","horizontalSection","x13","y13","x23","y23","fill","setGrid","newAglId","sectionProps","getChildData","delete","addHorizontalSection","DynamicComponents","deleteVerticalSection","y1","y2","firstCol","lastCol","mainColIndex","getMainColIndex","addVerticalSection","addSectionQueue","dynamicComponents","isVertical","addQueue","checkingAddQueue","nextOne","shift","checkAddQueue","newNextOne","onItemPreDelete","allow","onItemPreResizeStop","dir","delta","yLineRefs","getYlineRef","firstLineTop","getGridLineRect","targetTop","selectedX1","lineTop","checkIndex","nextSectionV","targetBottom","selectedX2","lineBottom","forceNewId","currentSectionIndex","currentSectionGridArea","Tag","section","resizeSides","allId","newId","getId","newProps","addChild","insertIndex","areas2","currentIndex","sideSection","updateTemplates","isHideInBreakpoint","hasMiniMenuOverride","invalidateSizeOverride","self","updateParent","updateChildren","sourceId","tempSize","childRef","getSectionOfPoint","isPointInclude","fullWidth","isPage","onDeletingChild","onChildResizeStoping","VerticalSpacer","FadeInAnimation","animationStyles","StyleSheet","create","fadeIn","animationName","animationDuration","animationDelay","BounceInAnimation","bounceIn","GlideInAnimation","tx","sin","ty","cos","glideIn","FloatInAnimation","floatIn","ExpandInAnimation","power","expandIn","SpinInAnimation","spinNo","firstRotate","spinIn","FlyInAnimation","windowSize","flyIn","TurnInAnimation","viewSize","turnIn","animationTimingFunction","ArcInAnimation","arcIn","PuffInAnimation","puffIn","FoldInAnimation","transformOrigin","foldIn","FlipInAnimation","flipIn","RevealAnimation","clipPath","reveal","InputDiv","tag","TextTag","textareaRef","contentEditable","whiteSpace","dangerouslySetInnerHTML","__html","InputWrapper","updateHeight","scrollHeight","onInput","keydown","stopPropagation","line","parentLine","found","newParantLine","getParentLine","deleteContents","setEndAfter","innerText","getSelectionText","iframeNode","contentWindow","br","after","setStartBefore","html","setStartAfter","insertAdjacentHTML","trim","focus","String","fromCharCode","sel","insertNode","setStart","collapse","removeAllRanges","addRange","init","inited","textEditorRef","onLoad","prevProps","prevState","snapshot","onUpdate","resize","TextEditorButton","getImage","selectedIcon","disabledIcon","useStyles","makeStyles","popper","borderRight","paddingRight","FontSizeAutoComplete","Autocomplete","FontSizeSelector","filterOptions","getAllowableFontSize","setForceValue","onFontSizeChange","reason","tempFontSize","setFontSize","getFontSizeValue","setFontSizeUi","ignoreState","toString","getOptionLabel","popupIcon","renderInput","InputProps","disableUnderline","TextField","blurOnSelect","TextColorSelector","buttonRef","backgroundImage","outline","outlineOffset","checkedIcon","content","SmallRadio","Radio","clsx","LinkGenerator","getHomePageId","getPageOptions","getAnchorOptions","anchors","getFirstLightBoxId","setLinkType","url","anchorId","email","subject","number","lightBoxId","validURL","str","RegExp","startsWith","validPhone","validEmail","isLinkReadyForDone","Modal","aria-labelledby","aria-describedby","disableBackdropClick","RadioGroup","FormControlLabel","control","tempUrl","placeholder","tempNumber","tempEmail","tempSubject","addLinkData","linkId","getSelectedLinkId","querySelectorAll","removeAttribute","insertBefore","removeSelectedLink","getSelectedLinkData","parse","getAttribute","hasAttribute","prepareLink","editorContext","onclick","pageLinkHandle","TextEditor","getTextDir","onIframeTextClicked","refreshState","anchorNode","getComputedStyle","parentElement","getPropertyValue","fontSizeSelectorRef","bold","italic","underline","StaticFonts","isTextSelcted","tryAgain","forceUpdate","anchorEI","modifiers","flip","enabled","preventOverflow","boundariesElement","onDoubleClick","onChangeData","updateInputWrapper","inputWrapperRef","isRtlStyle","isRtl","randomColor","classList","remove","childs","childNode","linkGenerator","TextWrapper","setEditableStyle","editableStyle","onEditorStateChange","editorState","updateStyleSheets","setEditMode","editMode","onEditModeChange","getTag","iframe","textTagRef","element","iframeWidth","iframeHeight","frame","editDisplayNoneStyle","nonEditDisplayNoneStyle","textValue","ClickAwayListener","onClickAway","head","rel","href","documentRef","resizeIFrameToFitContent","PureComponent","Text","onDoubleClickOverride","textRef","onThemeChange","onDeSelectListener","noStretch","ColorAdjustment","ButtonDesign","stateName","normal","onStateChange","hover","FontSizeSelector2","ButtonTextAppearance","changeText","tempText","text","paddingLeft","ButtonTextLayout","TextDesign","spanData","LinkedTag","onRefChange","linkRef","lastRef","aClassName","aTagProps","Button","spanMarginStyle","onMouseOver","onMouseOut","rootBorderRef","CropperModal","onCropChange","crop","onCropComplete","croppedArea","croppedAreaPixels","onZoomChange","zoom","imageSrc","aspect","image","FocalPointModal","onChangePoint","clickerRef","focalPoint","isLeftClick","persist","pointerType","button","ImageDesign","overlayColor","ImageBehavior","changeAltText","tempAltText","altText","ImageBehaviorDesign","imageBehavior","ScaleProportionallyInspectorSize","getInspectorProps","getScaleProportionally","changeScaleProportionally","setScaleProportionally","inspectorRef","DomainManager","domainConfig","tempDomain","storageBaseUrl","domainData","domainName","targetUrl","websiteName","setImageNode","imgNode","cropped","cropData","canvas","getContext","drawImage","altSrc","toDataURL","onImageLoaded","imageLoaded","imageDimension","imageExactDimension","naturalWidth","naturalHeight","cropping","animated","checkImageLoad","interval","setInterval","clearInterval","fit","imageOpacity","filesData","fileData","pathname","imageData","totalSize","getImageSrc","onInvalidateSize","debounce","setSizePre","group","relativeX","relativeY","firstWidth","firstHeight","getStorageBaseUrl","imageStyle","objectFit","objectPosition","overlayStyle","crossOrigin","alt","paddingTop","VideoDesign","overlay","VideoSource","changeUrl","tempEmbedUrl","embedUrl","VideoData","videoData","Video","videoType","borderData","allowFullScreen","webkitallowfullscreen","mozallowfullscreen","getVideoObject","FreeDropDownMenu","transition","TransitionProps","Grow","Paper","MenuList","autoFocusItem","HorizontalMenuItem","dropDownState","dropDownOnHover","dropDown","dropDownAnchor","onDropDownClose","getMenuItemStyle","moreId","dropDownClassName","dropDownStyle","dropDownItemClassName","getDropDownItemStyle","SelectMenu","disableEnforceFocus","menuData","menuId","confirmLabel","MenuItemDesign","MenuItemTextAppearance","MenuItemTextDesign","MenuLayoutAppearance","changeMoreText","tempMoreText","sameSize","fillNav","rtl","moreText","MenuLayoutDesign","MenuDropDownDesign","HorizontalMenu","fitMenuItems","getMenu","throttle","compRect","lastSize","showItems","ulNode","ulId","visibility","fitting","itemAddedInMore","navNode","navId","maxLiNodeWidth","childNodes","liNode","ulRect","itemInMore","sum","liNodeData","getDropDownStyle","moreItems","menuItemState","AdjustmentMove","mouseDown","moving","onDrag","onDragStart","onDragStop","onPointerDown","StackSpacerResizer","StackSpacer","setPointerEvents","updateSpacerData","newHeight","oldHeight","spacerData","onSpacerUpdate","stack","updateSize","lastMouseX","lastMouseY","deltaY","stackId","setItem","StackSpacerContainer","updateSpacers","spacers","updateDummy","dummy","spacer","Stack2","containerStyle","flexDirection","childIds","removeStackFromAGL","removeStack","calculateChildGridItemPost","fromState","dontAutoDock","parentSize","setProps","cx1","cx2","cy1","cy2","resolveOrders","getSpacer","getSpacers","setSpacers","allSpacers","allSpacerRef","onStackDragStart","onStackDragStop","onMouseOverSpacer","onMouseEnterSpacer","onMouseOutSpacer","allSpacerData","getSpacerData","sorted","relativeYA","relativeYB","pure","relY","spacerContainerRef","onChildDragStartOverride","callGroup","onChildDragOverride","onChildLeavePost","lateMountedPost","removeChildElementPost","childElement","stretchChildOverride","stretch","isStretch","isStretchChildOverride","onBreakpointChangePost","newBreakpointName","isStack","calculateGridItemForChildren","AdjustmentPageControllers","addSection","getAnchor","needUpdate","updateTimeout","getXCount","getYCount","containerClasses","GridChildContainerFixedHolder","clientHeight","PaddingInterface","borderTop","borderLeft","borderBottom","ParentSelectInterface","GridChildContainer","aglStyle","modifyContainerStyle","modifyContainerStyleOverride","paddingBottom","getContainerStyleId","modifyOverflowStyle","getOverflowStyleId","getOverflowStyle","webkitScrollbarStyle","webkitScrollbarStyleId","scrollStyleNode","updateAdjustments","controllerRef","fixedHolderRef","needOverflow","selectAsParent","show","overflowClasses","containerRef","overflowRef","onScroll","AGLAnchor","ResizePanePage","onResizeStart","onResizeStop","isCorner","draggingStart","AdjustmentResizePage","sides","allEventTriggers","EventTrigger","defaultListener","listener","listeners","l","trigger","getEventTrigger","windowCache","boundingRects","clientsWidth","clientsHeight","scrollsTop","scrollsLeft","scrollsWidth","scrollsHeight","clearCache","clearCacheTimeuot","getCachedBoundingRect","getCachedClientWidth","getCachedClientHeight","getCachedScrollTop","scrollTop","getCachedScrollLeft","scrollLeft","getCachedScrollWidth","scrollWidth","getCachedScrollHeight","addToCache","AnimationHolder","VisibilitySensorWrapper","partialVisibility","containment","getPageOverflowRef","active","disableVS","AdjustmentHelpSize","getText","resizeHelpData","AwesomeGridLayout2","callOverride","funcName","getOverrideProp","hasOverride","needRender","lastZIndex","getNextIndexData","savedChildren","savedChildrenArray","oldId","createChildByData","Children","createdChild","renderChild","childrenData","initLayout","getDefaultStyle","setStyle","defaultGrid","defaultStyle","getResizeSides","lateMounted","addToSnap","onPageResize","onChildMountedCalled","onChildMounted","callPost","getShortcutOptions","hasMiniMenu","getBoundarySize","addSnap","p1","p2","parentsId","exludeSelf","containerParent","getGridLineSnaps","snaps","horizontals","verticals","xLineRef","getXlineRef","yLineRef","fixed","AGLProps","input","copyMan","gridEditorRef","getAllChildOverrideProps","component","fullForce","widthMinusPadding","heightMinusPadding","transformRef","onWindowSizeChange","getRenderChildData","arrangeIndex","nextZIndex","nextChild","prevZIndex","prevChild","firstZIndex","changeIndex","allChildData","change","startIndex","lastIndex","testChildData","setChildZIndex","childZIndex","forceCalculate","keepChildren","onChildAdd","createItem","clearItem","removeChildElement","clearMiniMenu","getAllOverrideProps","removeId","removeGridLine","removeSnap","updateHelpSizeLines","setInspector","filDataOnMount","fromEnter","setItemHover","updateHover","outAllParent","forceRect","forceGridLines","gridType","isPrepared","onNewChildMounted","calcResult","coordinates","childRect","thisRect","calculateChildGridItem","clearFromAllBp","newChild","removeIdAndChildrenId","nonePointerEventForChildren","parentDragging","onParentDragging","setRuntimeStyle","onChildDragStart","resizing","moveWithMouse","firstBoundaryPos","setDraggingState","groupDragStart","onChildDrag","boundarySize","isFixed","checkSnapOnDrag","updateGridLines","groupDrag","addGrid","groupDragStop","drawSnap","dropped","updateMiniMenu","redoData","undoData","calculateGridItem","fakeStyle","snapDelta1","getSnapDelta","snapDelta2","snapDelta3","snapDelta","deltaX","snapV","snapH","pointOfSnapH","pointOfSnapV","parentGridLines","checkSnap","dontCalculate","getDocks","callPre","calculateGridArea","coordinatesAbs","coordinateToRelative","oldGridItemStyle","centerX","centerY","parentCenterMinusX","parentCenterPlusX","cy2IsLastLine","centerDiffX","centerDiffY","getPxOrPcOrValue","cx2IsLastLine","coordinateToAbsolute","getTopLeft","pageResizeStart","resizeData","firstX","firstLeft","activateHover","onPageResizeStart","pageResizeCalculate","firstY","firstTop","firstBoundaryWidth","firstBoundaryHeight","firstBoundaryTop","firstBoundaryLeft","onResizeCalculate","updatePageAdjustments","onResizeData","backContainerRef","finalDelta","rad","cx","cy","cxy","sqrt","cxp","cyp","thetaH","thetaW","Dh","Dw","dxH","dyH","dxW","dyW","getResizeDelta","rotateDegree","checkSnapOnResize","setResizeHelpData","pageResizeStop","onPageResizeStop","setSize","gridCoordinates","dontAddToSnap","oldStyle","isPercent","isViewRatio","newValue","getParentProps","postFix","newRuntimeStyle","animationCss","getGridItemStyleId","newGridItemStyle","dontOverride","getStyleId","getDesignStyleId","setDesignStyle","newDesignStyle","designStyleNode","getTransformStyleId","newTransform","transformStyleNode","getTransformStyle","compositeTransform","rules","newStyle","excludeBp","getGridLineOfPoint","gridLine1","gridLine2","isLeft","mouseMoved","lastClientX","lastClientY","startMillis","Date","getTime","isRightClick","canMove","isGroupSelected","currentMillis","groupSelected","onContextMenu","deselectParent","clicked","dontUpdateAdjustment","isSelectable","selectItem","removeGridLineByType","showGridLines","updateParentsRect","onScrollEnd","onRootScroll","forceScroll","documentElement","setProperty","scrollReset","targetScroll","maxTop","scrollTo","behavior","editGrid","editing","updateGridEditor","setAnchor","disable","stateChange","forceKey","showAnimation","onAnimationEnd","activateResize","getCompositeAnimationCss","compositeAnimation","getAnimationCSS","getContextMenu","animationRunning","onAnimationFrame","getPreProp","pre","getPostProp","post","childContainers","windowWidth","laptop","compositeStyle","holderClasses","TagAs","onWheel","childSize","showSideResize","layoutType","compactType","AGLWrapper","Stack","sortedChildrenArray","lateMountedOverride","lateMountedComplete","setOrder","calculateGridItemChildOverride","calculateWrapper","calculateChildGridItemOverride","child1","centerDiff","childRelativeY","childHeight","childFound","childOrderSet","relativeY2","setMouseOverOverride","setPointerEventOfSpacers","setMouseOverForNonDraggingOverride","spacerRef","setGridItemStyleChildOverride","container","onChildLeaveOverride","removing","setStyleParamOverride","onDragStartChildOverride","onDragChildOverride","onDragStopChildOverride","ContextMenu","getFakeAnchor","popperStyle","mouseEvent","hasDivider","j","ContextMenuItem","subMenu","interactive","leaveDelay","shortcut","deepEqual","saveStyle","beStretch","allowStretch","disableStretch","pageAgl","oldBehaviour","oldOffsetTop","oldIsFixed","lastSectionId","itemRect","sectionParent","addFixedChildToRoot","oldParentRect","pageRect","hideInBreakPoint","showInBreakPoint","fromAll","getSectionId","uuidv4","createStack2","itemsParent","lastBottom","rightFromLeft","topA","topB","stackNode","_stack","itemIds","newItems","addToStack","parentWidth","stackAgl","removeChilds","addToUndo","saveValue","oldType","oldZIndex","breakpointData","createContextMenu","copySection","paste","duplicate","copyDesignItem","item1","item2","isSameFamily","allOldDesign","sourceItemTemp","overrideBps","pasteFromBreakpointDesign","fromName","toName","fromData","currentData","oldData","deleteSection","shortcutSection","sectionSection","sortBy","array","chromaColor","shiftKey","SelectManager","inputManager","groupSelectRef","pageAglRef","miniMenuHolderRef","resizeRef","helpLinesRef","hoverRef","setContext","dontUpdateAdjustments","createGroup","clearGroup","addMiniMenu","addMenu","inspectorMenu","setMenu","updateGroupRect","setGroupMiniMenu","same","hasSameParent","addGroupMenu","mainItem","deleteGroup","firstRect","updateRect","helpLineParent","activate","fakeItemRect","test1","createStack","getSectionParent","test2","test3","SnapManager","snapThreshold","snapSvgRef","ignoreId","additionalSnaps","topUp","topDown","leftUp","leftDown","concat","CopyManager","selectManager","pageRef","handleKeyCodeEvent","copyItem","getCopyItem","destinationItem","copyRect","IdManager","prefix","preferName","fixName","baseId","postNo","UndoRedo","getQueueObject","undo","redo","undoQueue","pop","redoQueue","undoFunc","object","backObject","tempPower","hasUndo","redoFunc","hasRedo","GridLineManager","gridContainerRef","positions","getIdCache","AnchorManager","getAnchors","AdjustmentGridRoot","AdjustmentGridRow","gridLineManager","rowLines","rowLineRect","nextRowLineRect","rowHeight","AdjustmentGrid","addRow","rowsHeight","addColumn","columnsWidth","changeColumnWidth","changeRowHeight","deleteRow","deleteColumn","AdjustmentSnapLines","stroke","AdjustmentSnap","GridLine","lineRef","AdjustmentGridLinesWrapper2","yNo","xNo","refId","AdjustmentGridLines","fixLineRef","idCache","updateGridLine","prepared","xNoA","yNoA","xNoB","yNoB","xNoT","yNoT","xLineRefA","yLineRefA","xLineRefB","yLineRefB","xLineRefT","yLineRefT","ResizePane","AdjustmentGroupRect","RightClick","MiniMenuVerticalDivider","Help","MiniMenu","primary","GroupMiniMenu","MenuHolder","miniMenuRef","groupMenuRef","contextMenu","miniMenuItem","IFrameCommunicator","origin","authKey","otherWindow","onMessage","processIncomingMessage","callbacks","responseFunc","responses","counter","EditorController","AllowFunctions","res","jsonedEvent","Event","dispatchEvent","Inspector","opening","closeInterval","openInterval","percent","speed","closing","pinInspector","toggleState","getDefaultMenu","AdjustmentStretch","dontDisplay","AdjustmentItemMove","AdjustmentResize","transformStyleId","stretchStyle","AdjustmentResizeWrapper","AdjustmentHelpLines","calculate","strokeDasharray","AdjustmentHelpLinesWrapper","helpLineRef","AdjustmentHover","disablePortal","Layout","setLayout","layout","processLayout","treeData","getTreeItem","layoutItem","childLayout","expanded","parentItemId","setTree","updateItem","treeItem","childTreeItem","ComponentGrid","getItemStyle","gridColumnEnd","gridRowEnd","setDraggingItem","createItemAndDrag","presetProps","changeItemParent","setDraggingEnd","allItems","categoryItem","Fragment","gridAutoRows","innerHtml","onDragEnd","imageUrl","iconSizeMultiplyer","AddComponent","setComponentListItemDebounce","componentListItem","setComponentListItem","setComponentListItemLeave","componentListItemHover","componentSubListItem","subList","setComponentSubListItemDebounce","setComponentSubListItem","setComponentSubListItemLeave","componentSubListItemHover","listName","builtin","apps","groupName","componentSubListItems","closeMenu","PageTypeTitle","PageInfo","onRename","newPageName","rename","setAsHomePage","home","AglRadio","Permissions","changePermission","pageSetting","permissions","onSetPassword","password","onChangeMemberType","memberType","onRoleChange","memberRoles","roleAnchor","allApps","member","setting","roles","SeoGoogle","onChangeSeoSetting","newEndUrl","seoGoogle","endUrl","endUrlError","pageTitle","baseUrl","pageDescription","newPageTitle","newPageDescription","rows","showInSearch","SocialShare","onChangeSocialShareSetting","socialShare","substring","lastIndexOf","description","newTitle","newDescription","PageSetting","tabValue","PageItem","pageMenuAnchorEl","onPageChange","setAsHome","renameInput","boxClasses","isDynamic","AddNewPageDialogItem","AddNewPageDialog","addNormalPage","onAddNormalPage","addDynamicPage","onAddDynamicPage","PageManager","onChangeSearch","searchValue","getFilteredPages","siteId","onPageClick","newPageDataUrl","fetch","then","json","openNormalPage","openDynamicPage","showAddPage","ThemeTextItem","onEditClick","font","ThemeColorsItem","toChange","ThemeManager","setCategory","EditorHeaderZoom","Consumer","zoomSetting","anchorOrigin","getContentAnchorEl","anchorPosition","PaperProps","marginThreshold","transitionDuration","EditorHeaderPageSelect","pd","NumberInputEnterToChange","lazy","onTempChange","inputRef","getBreakpointIcon","getBreakpointName","EditorHeaderBreakpointsSettingItem","isHighestBp","done","tempEnd","onCancel","cancelEditMode","nextBpData","onEditMode","EditorHeaderBreakpointsSetting","clearEditMode","bpItemrRefs","bpItemRef","getBpItemRef","EditorHeaderBreakpoints","getTabValue","settingAnchor","CreateMenu","autoFocus","MenuTreeOrderer","onDragOver","onDragLeave","onDrop","MenuTreeItem","itemClassName","dropableProps","onOrderOver","onOrderDrop","MenuTree","draggingMenuItem","click","parentMI","getIndexInParent","newIndex","parentMenuItem","reorderMenuItem","getTreeItemRenderer","renameMI","MenuManagerUI","selectedMenuId","selectedMenu","menuIndex","deleteMenu","createMenu","createMenuItem","copyFromId","newMenu","copyFromMenu","addNewMenu","menuItemName","newMenuItem","addNewMenuItem","EditorHeader","setRightMenuOpen","openMenu","changedState","onInspectorClickState","onInspectorClick","onPageZoomChange","PreviewHeaderBreakpoints","getCurrentValue","lastBpData","devices","PreviewHeader","PageRouterComponent","redirectPath","redirectProps","firstLoad","isProduction","dontPush","to","from","getWebsiteName","exact","path","MainRouter","withRouter","routerRef","PageRouter","basename","getBaseName","PageView","onScrollBoundary","SiteDashboard","getUrl","metadata","isPublished","URL","username","onEditWebsiteClicked","getDomainText","getPlanText","getResourcePlanText","actionAnchorEl","setSelectedMenu","UploadButton","onFileSelected","multiple","accept","FileManagerHelper","continuationToken","onSuccess","route","websiteId","method","success","error","objectPath","file","objectSizeInMb","onUploadProgress","upload","signUrl","FormData","append","cancelTokenSource","axios","CancelToken","source","put","headers","cancelToken","token","response","catch","errorMessage","folderPath","deleteObjects","NewFolder","FileUploader","addFiles","newFIles","files","f","status","progress","working","next","finishing","onFinish","currentUploading","uploadSign","onSingleFileUploaded","loaded","total","cancelCurrent","cancel","cancelPendings","cancelAll","LinearProgress","MultiColorProgressBar","bars","readings","barStyle","barsStyle","FileManager","loadRoute","list","selectedFile","selectedFiles","loadingPrefix","getCurrentPrefix","contents","Key","folders","folder","loadUserUsage","getFirstRoute","createNewFolder","changeRoute","uploadFile","isFilesValid","uploaderRef","uploadingData","showError","getValidFileExt","validExt","valid","ext","message","getEmptyFolder","openFolder","folderName","onClickFile","onDoubleClickFile","getFileIconPreview","extention","userDrag","userSelect","deleteFiles","filename","getFileType","currentPrifix","isFile","isFolder","selectedFilesContainFile","addFileManually","basePrefix","usage","usageData","getUsageColor","usagePercent","getUsagePercent","storage","noHeader","newRoute","currentRoute","newFolder","acceptedFiles","getRootProps","getInputProps","CircularProgress","shortName","FileManagerModal","Confirm","yesText","noText","onYes","onNo","SiteSetting","onRenameClicked","loading","checkValidation","getSuccessMessage","onWebsiteChange","paramChange","uploadFavIcon","postHash","fullUpload","favIconLink","deleteWebsite","archive","deleteConfirm","SitePlans","getLastWebsitePlan","website_plans","aStartDate","moment","startDate","bStartDate","isAfter","getResourcePlan","plan","productsDetail","resourcePlan","lastWebsitePlan","planTime","expireDate","format","features","feature","diff","flex","traffic","Dashboard","menuOptions","EditorBoundary","layoutRef","addComponentRef","pageManagerRef","themeManagerRef","InputManager","iFrameCommunicator","toggleThemeManager","exportSiteData","toggleAddComponent","togglePageManager","loadSiteData","initFromHolder","onSiteDataUpdated","err","onSetZoomScale","testWebsite","defaultSiteData","defaultAllComponentData","onComponentDataUpdated","doStaticChanges","isDashboard","togglePreview","setZoomLevel","zoomLevel","notifyBreakpointChange","newDevicePixelRatio","isPreview","toggleInspector","onResizeD","onResizeT","handleResize","fromOnPageResize","getLayoutItem","il","openLayout","closeLayout","getLivePageData","getLiveSiteData","blob","Blob","createObjectURL","download","fileName","getSiteData","fileManager","querryString","qs","search","ignoreQueryPrefix","borderClassess","onAddComponentClick","onThemeManagerClick","onPageManagerClick","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d84b7068.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/align-left.0a5b083d.svg\";","module.exports = __webpack_public_path__ + \"static/media/align-center.c06baa72.svg\";","module.exports = __webpack_public_path__ + \"static/media/align-right.47dacf61.svg\";","module.exports = __webpack_public_path__ + \"static/media/errorred.b7152f66.svg\";","module.exports = __webpack_public_path__ + \"static/media/bin.df49cd2e.svg\";","module.exports = __webpack_public_path__ + \"static/media/chain.91ca2215.svg\";","module.exports = __webpack_public_path__ + \"static/media/textwhite.0dd5b9bc.svg\";","module.exports = __webpack_public_path__ + \"static/media/settingwhite.5f59bbc7.svg\";","module.exports = __webpack_public_path__ + \"static/media/align-top.a4e81be5.svg\";","module.exports = __webpack_public_path__ + \"static/media/align-middle.18bded08.svg\";","module.exports = __webpack_public_path__ + \"static/media/align-bottom.b15149df.svg\";","module.exports = __webpack_public_path__ + \"static/media/unlink.91af3919.svg\";","module.exports = __webpack_public_path__ + \"static/media/linkblue.34eb0e55.svg\";","module.exports = __webpack_public_path__ + \"static/media/linkdisable.b12d5832.svg\";","module.exports = __webpack_public_path__ + \"static/media/link.3473cffc.svg\";","module.exports = __webpack_public_path__ + \"static/media/refresh.3c352ac3.svg\";","module.exports = __webpack_public_path__ + \"static/media/cropwhite.913a034c.svg\";","module.exports = __webpack_public_path__ + \"static/media/focalwhite.81ca7e87.svg\";","module.exports = __webpack_public_path__ + \"static/media/dropdownwhite.437cf3b9.svg\";","module.exports = __webpack_public_path__ + \"static/media/layoutwhite.d4502e9e.svg\";","module.exports = __webpack_public_path__ + \"static/media/unstackwhite.8f09dd63.svg\";","module.exports = __webpack_public_path__ + \"static/media/plus.4ffb5b5d.svg\";","module.exports = __webpack_public_path__ + \"static/media/stackwhite.2de9e6c7.svg\";","module.exports = __webpack_public_path__ + \"static/media/more.7e1c1c4d.svg\";","module.exports = __webpack_public_path__ + \"static/media/question.910508a9.svg\";","module.exports = __webpack_public_path__ + \"static/media/move-arrows.eea11ec0.svg\";","module.exports = __webpack_public_path__ + \"static/media/bindisable.b2b248e2.svg\";","module.exports = __webpack_public_path__ + \"static/media/cloudupload.dbdbbcac.svg\";","module.exports = __webpack_public_path__ + \"static/media/file.4fc544fb.svg\";","module.exports = __webpack_public_path__ + \"static/media/folder.45405b61.svg\";","module.exports = __webpack_public_path__ + \"static/media/folderback.ec1620e4.svg\";","module.exports = __webpack_public_path__ + \"static/media/notparent.ac631e5c.svg\";","module.exports = __webpack_public_path__ + \"static/media/parent.e5c6057a.svg\";","module.exports = __webpack_public_path__ + \"static/media/text.cd9d5184.svg\";","module.exports = __webpack_public_path__ + \"static/media/close.ebf2f3f4.svg\";","module.exports = __webpack_public_path__ + \"static/media/minimize.d1b14794.svg\";","module.exports = __webpack_public_path__ + \"static/media/maximize.c16a073e.svg\";","var map = {\n\t\"./align-bottom.svg\": 238,\n\t\"./align-center.svg\": 109,\n\t\"./align-left.svg\": 108,\n\t\"./align-middle.svg\": 237,\n\t\"./align-right.svg\": 110,\n\t\"./align-top.svg\": 236,\n\t\"./bin.svg\": 141,\n\t\"./bindisable.svg\": 306,\n\t\"./chain.svg\": 193,\n\t\"./close.svg\": 41,\n\t\"./cloudupload.svg\": 307,\n\t\"./cropwhite.svg\": 291,\n\t\"./dropdown.svg\": 579,\n\t\"./dropdownwhite.svg\": 293,\n\t\"./errorred.svg\": 138,\n\t\"./file.svg\": 308,\n\t\"./focalwhite.svg\": 292,\n\t\"./folder.svg\": 309,\n\t\"./folderback.svg\": 310,\n\t\"./layout.svg\": 580,\n\t\"./layoutwhite.svg\": 294,\n\t\"./link.svg\": 289,\n\t\"./linkblue.svg\": 287,\n\t\"./linkdisable.svg\": 288,\n\t\"./linkwhite.svg\": 581,\n\t\"./maximize.png\": 582,\n\t\"./minimize.png\": 583,\n\t\"./more.svg\": 302,\n\t\"./move-arrows.svg\": 304,\n\t\"./notparent.svg\": 311,\n\t\"./paint.svg\": 74,\n\t\"./parent.svg\": 312,\n\t\"./plus.svg\": 584,\n\t\"./qabutton.svg\": 585,\n\t\"./qacontainer.svg\": 586,\n\t\"./qaimage.svg\": 587,\n\t\"./qamenu.svg\": 588,\n\t\"./qaparagraph.svg\": 589,\n\t\"./qatext.svg\": 590,\n\t\"./qavideo.svg\": 591,\n\t\"./question.svg\": 303,\n\t\"./refresh.svg\": 290,\n\t\"./settingwhite.svg\": 196,\n\t\"./stackwhite.svg\": 299,\n\t\"./text.svg\": 313,\n\t\"./textwhite.svg\": 195,\n\t\"./unlink.svg\": 283,\n\t\"./unstackwhite.svg\": 296\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 578;","module.exports = __webpack_public_path__ + \"static/media/dropdown.ca82bc74.svg\";","module.exports = __webpack_public_path__ + \"static/media/layout.a0ffa87b.svg\";","module.exports = __webpack_public_path__ + \"static/media/linkwhite.765c23ec.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAIzAAACMwEI+8PQAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAKJQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA6C3cNgAAADV0Uk5TAAECCBgvMDc7PD0+P0BBRUtPU2Jkb3F3f4CBj5CRkpOUlZadoq+wzdTX2eDk6vP09fb3/P6Aj+2qAAABj0lEQVRYw+2X2ZaCMAxAg7souC8j7ssoouCW//+1ecCCxVTLCfo0eYv23iO1pAkUV79EbAZ5kCI/2FDrVkXYIR1dWdBVLNuB4gscy4Kxat3nBI4scFIL2rKgrSE4jn6iGDZzsiDXHMYxOtK/YGmAVhhL1SPoGSQ+sQcLHcGC2oObvkHwN0nQP90/nr/j5/eFp74kKNmahoi3S7IA9AwxD0lBbJip+VnMPwvAemuIeAsoQWyY0vz0kacEYAWvDIIPLFAJoC4Mk2d+Ivg6qAUvDEleIVAanniVAGoBVZJEQQpq8E5AGgg+EhwQEa8FIAxOsp498lC4IiIeoLX1PLcnPa8pDJ0w7wjelJb1XM/btsgTY/ohsQ7TdZj5JmhHaLiUw6x8ScsDVH3Ec0NkjTOiX4VUUXH3dpzZe7cCKcMw1Nl/fGkTuX8j9yBxj3Kql4n9OrMLCrukZV1UuWWde7Fwrzbu5cq93rkNBrfF4TZZ3DaP3WiyW112s51Nu88dOPgjD3foynjs+97kyh6+ueP/H91fZhzv6pmxAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAB2AAAAdgB+lymcgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAHLSURBVHic7ZrBbsMgDIZ/7TnW91m1Sw6betievulbdFJ6WK1FCAI2DpjFn8SlUYn9hRRqABzHcRzHcdKcAczPNnWOpYQJf/GeNTqcASzPdgdw0eh0Jy74jZHinTU6XQuwLCFMfgFw1eh4inRsTUIs+TsUX9mPyA1+AHxr3aCCT8Rj+9K+kUUJzZInLElonjyRet9yvwnvAG5IT0+56xoxqCEJYD2bxH6dc9dr7r0L3NdhCRr3OtBx2KfgSKgVYC55olRCjQCzyRMlEqQCzCdP5CRIBAyTPLElgStguOSJ1DTFFWBiqpMSGwlcAcM9+ZCchJAhk6fl69bT0xgBqaZW9ZESFktaC1hQWfR4qflyBbFS1a15FApQwZT7xN527stxHKcJknVAriR2iHVAriT279cBp8hnr82jUEAyd2uuBE2vA2L/5yUCem++iMglzx0BQ0k4dEFkq4zFFWBpG66IXA2PKwAYSEJJAVMiABhAQmn1VioAMCyBU7quEQAYlMCt29cKAAxJOPT2uDQAWjbnSmIly9tuEixtVzV/HSwlTzSTYDF5YncJhz8oOfJRWfWzwlaTJ0IJKmeF19PTSMflr+hcMHUcx3EcxzYPiKjECYS4Ih0AAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/plus.4ffb5b5d.svg\";","module.exports = __webpack_public_path__ + \"static/media/qabutton.624fbf94.svg\";","module.exports = __webpack_public_path__ + \"static/media/qacontainer.428b6d61.svg\";","module.exports = __webpack_public_path__ + \"static/media/qaimage.b6c0c0a0.svg\";","module.exports = __webpack_public_path__ + \"static/media/qamenu.6e932cb5.svg\";","module.exports = __webpack_public_path__ + \"static/media/qaparagraph.1202e5ce.svg\";","module.exports = __webpack_public_path__ + \"static/media/qatext.800211fe.svg\";","module.exports = __webpack_public_path__ + \"static/media/qavideo.4f0d0683.svg\";","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport {Resizable} from \"re-resizable\";\r\nimport css from 'dom-css';\r\nimport {exist, getFromData, getSortedBreakPoints, setData} from \"./BreakPointManager\";\r\nimport debounce from 'lodash.debounce';\r\n// import {css, StyleSheet} from 'aphrodite'\r\n\r\nlet CalculateLayout = (griddatas, layoutType, parentSize, dir, compactType, scrollType, snap\r\n                       , breakpointdata, hasOwnBreakPoints, parentGriddata) => {\r\n    parentGriddata = parentGriddata || getDefaultChildgriddata(breakpointdata);\r\n\r\n    let dummy;\r\n    let childContainers = griddatas.map((griddata) => {\r\n        if (griddata.id === undefined)\r\n            console.error(\"direct child must have a id props\");\r\n\r\n        let result = {\r\n            griddata: griddata,\r\n        };\r\n\r\n        result.griddata.id = griddata.id;\r\n        result.isContainer = griddata.isContainer;\r\n        result.selected = griddata.selected;\r\n        result.resizable = griddata.resizable;\r\n        result.draggable = griddata.draggable;\r\n        result.dragging = griddata.dragging;\r\n\r\n        result.w = getPxFromPercent(\r\n            getFromData(result.griddata, \"w\", parentSize.x, hasOwnBreakPoints\r\n                ,breakpointdata), parentSize.x);\r\n\r\n        result.h = getPxFromPercent(\r\n            getFromData(result.griddata, \"h\", parentSize.x, hasOwnBreakPoints\r\n                ,breakpointdata), parentSize.y);\r\n\r\n        result.x = getPxFromPercent(\r\n            getFromData(result.griddata, \"x\", parentSize.x, hasOwnBreakPoints\r\n                ,breakpointdata), parentSize.x);\r\n\r\n        result.y = getPxFromPercent(\r\n            getFromData(result.griddata, \"y\", parentSize.x, hasOwnBreakPoints\r\n                ,breakpointdata), parentSize.y);\r\n\r\n        result.rotate = getFromData(result.griddata, \"rotate\", parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n\r\n        result.absolute = getFromData(result.griddata, \"absolute\", parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n\r\n        result.fix = getFromData(result.griddata, \"fix\", parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n\r\n        result.zIndex = getFromData(result.griddata, \"zIndex\", parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n\r\n        if (result.griddata.dragging) {\r\n            dummy = {};\r\n            dummy.griddata = cloneObject(result.griddata);\r\n            // dummy.griddata.dragging = false;\r\n            dummy.griddata.id = \"dummy\";\r\n            dummy.x = result.x;\r\n            dummy.y = result.y;\r\n            dummy.w = result.w;\r\n            dummy.h = result.h;\r\n            dummy.griddata.draggable = false;\r\n            dummy.griddata.resizable = false;\r\n            dummy.absolute = result.absolute;\r\n            dummy.fix = result.fix;\r\n            dummy.zIndex = result.zIndex;\r\n            dummy.dragging = result.dragging;\r\n\r\n            dummy.isDummy = true;\r\n        }\r\n\r\n        return result;\r\n    });\r\n\r\n    if (!childContainers)\r\n        childContainers = [];\r\n\r\n    if (dummy)\r\n        childContainers.push(dummy);\r\n\r\n    sortChilds(childContainers, parentSize, compactType, breakpointdata, hasOwnBreakPoints);\r\n\r\n    let layouts = [];\r\n    let layoutContainers = [];\r\n\r\n    let maxHeight = scatter(childContainers, layoutContainers, layouts, layoutType, parentSize\r\n        , compactType, scrollType, snap, breakpointdata, hasOwnBreakPoints, parentGriddata);\r\n\r\n    return {childContainers: childContainers, layouts: layouts, maxHeight: maxHeight};\r\n};\r\n\r\nlet getDummy = (w, h) => {\r\n    return (\r\n        <Resizable\r\n            enable={false}\r\n            size={{\r\n                width: w,\r\n                height: h,\r\n            }}\r\n        >\r\n            <div style={{\r\n                backgroundColor: \"rgba(201, 76, 76, 0.3)\",\r\n                width: \"100%\",\r\n                height: \"100%\"\r\n            }}>\r\n            </div>\r\n        </Resizable>\r\n    );\r\n};\r\n\r\nlet scatter = (childContainers, layoutContainers, layouts, layoutType, parentSize\r\n               , compactType, scrollType, snap, breakpointdata, hasOwnBreakPoints, parentGriddata) => {\r\n    let notCompareChilds = [];\r\n    let maxHeight = 0;\r\n    for (let i = 0; i < childContainers.length; i++) {\r\n        let childContainer = childContainers[i];\r\n\r\n        if (childContainer.griddata.dragging) {\r\n            notCompareChilds.push(childContainer);\r\n            continue;\r\n        }\r\n\r\n        if (childContainer.absolute || childContainer.fix) {\r\n            notCompareChilds.push(childContainer);\r\n            continue;\r\n        }\r\n\r\n        if (layoutType === \"free\") {\r\n            maxHeight = scatterFree(childContainer, childContainers, layoutContainers\r\n                , parentSize, compactType, scrollType, snap, maxHeight, breakpointdata\r\n                , hasOwnBreakPoints, parentGriddata);\r\n        }\r\n\r\n        layoutContainers.push(childContainer);\r\n    }\r\n\r\n    for (let i = 0; i < childContainers.length; i++) {\r\n        let childContainer = childContainers[i];\r\n\r\n        layouts.push(childContainer.griddata);\r\n    }\r\n\r\n    notCompareChilds.forEach(childContainer => {\r\n        if (childContainer.absolute)\r\n            fixAbsoluteChild(childContainer, parentSize, breakpointdata, hasOwnBreakPoints, parentGriddata);\r\n        if (childContainer.fix)\r\n            fixFixChild(childContainer, parentSize, breakpointdata, hasOwnBreakPoints, parentGriddata);\r\n\r\n        setChildPosition(childContainer, {x:childContainer.x, y:childContainer.y}\r\n             , parentSize, breakpointdata, hasOwnBreakPoints);\r\n\r\n        layoutContainers.push(childContainer);\r\n        layouts.push(childContainer.griddata);\r\n    });\r\n\r\n    return maxHeight;\r\n};\r\n\r\nlet fixFixChild = (childContainer, parentSize, breakpointdata, hasOwnBreakPoints, parentGriddata) => {\r\n    let maxHeight;\r\n    let maxWidth;\r\n\r\n    // fix constraints\r\n    let constraints =\r\n        getFromData(childContainer.griddata, \"constraints\", parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n\r\n    let left = getPxFromPercent(constraints.left, parentSize.x);\r\n    if (left)\r\n        left += parentSize.scrollLeft;\r\n    let top = getPxFromPercent(constraints.top, parentSize.y);\r\n    if (top)\r\n        top += parentSize.scrollTop;\r\n    let right = getPxFromPercent(constraints.right, parentSize.x);\r\n    if (right)\r\n        right += (parentSize.x - parentSize.clientWidth - parentSize.scrollLeft);\r\n    let bottom = getPxFromPercent(constraints.bottom, parentSize.y);\r\n    if (bottom)\r\n        bottom += (parentSize.y - parentSize.clientHeight - parentSize.scrollTop);\r\n\r\n    let minW =\r\n        getFromData(childContainer.griddata, \"minW\"\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    let minH =\r\n        getFromData(childContainer.griddata, \"minH\"\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    let maxW =\r\n        getFromData(childContainer.griddata, \"maxW\"\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    let maxH =\r\n        getFromData(childContainer.griddata, \"maxH\"\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n\r\n    if (right !== undefined && left !== undefined) {\r\n        // ignore w value and calculate from remain space\r\n        childContainer.w = parentSize.x - left - right;\r\n        childContainer.x = left + childContainer.w / 2;\r\n    }\r\n    if (bottom !== undefined && top !== undefined) {\r\n        // ignore h value and calculate from remain space\r\n        childContainer.h = parentSize.y - top - bottom;\r\n        childContainer.y = top + childContainer.h / 2;\r\n    }\r\n    if (right !== undefined && left === undefined) {\r\n        // use w to calculate x. w must have value in this situation\r\n        childContainer.x = parentSize.x - childContainer.w / 2 - right;\r\n    }\r\n    if (bottom !== undefined && top === undefined) {\r\n        // use h to calculate y. h must have value in this situation\r\n        childContainer.y = parentSize.y - childContainer.h / 2 - bottom;\r\n    }\r\n\r\n    if (right === undefined) {\r\n        if (left !== undefined)\r\n            childContainer.x = left + childContainer.w / 2;\r\n    }\r\n\r\n    if (bottom === undefined) {\r\n        if (top !== undefined)\r\n            childContainer.y = top + childContainer.h / 2;\r\n    }\r\n\r\n    if (minW) {\r\n        childContainer.w = Math.max(minW, childContainer.w);\r\n    }\r\n    if (maxW) {\r\n        childContainer.w = Math.min(maxW, childContainer.w);\r\n    }\r\n    if (minH) {\r\n        childContainer.h = Math.max(minH, childContainer.h);\r\n    }\r\n    if (maxH) {\r\n        childContainer.h= Math.min(maxH, childContainer.h);\r\n    }\r\n\r\n    maxWidth = childContainer.x + childContainer.w / 2 + right;\r\n    maxHeight = childContainer.y + childContainer.h / 2 + bottom;\r\n    return {maxHeight: maxHeight, maxWidth: maxWidth};\r\n};\r\n\r\nlet fixAbsoluteChild = (childContainer, parentSize, breakpointdata, hasOwnBreakPoints, parentGriddata) => {\r\n    let maxHeight;\r\n    let maxWidth;\r\n\r\n    // fix constraints\r\n    let constraints =\r\n        getFromData(childContainer.griddata, \"constraints\", parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n\r\n    let left = getPxFromPercent(constraints.left, parentSize.x);\r\n    let top = getPxFromPercent(constraints.top, parentSize.y);\r\n    let right = getPxFromPercent(constraints.right, parentSize.x);\r\n    let bottom = getPxFromPercent(constraints.bottom, parentSize.y);\r\n\r\n    let minW =\r\n        getFromData(childContainer.griddata, \"minW\"\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    let minH =\r\n        getFromData(childContainer.griddata, \"minH\"\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    let maxW =\r\n        getFromData(childContainer.griddata, \"maxW\"\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    let maxH =\r\n        getFromData(childContainer.griddata, \"maxH\"\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n\r\n    if (right !== undefined && left !== undefined) {\r\n        // ignore w value and calculate from remain space\r\n        childContainer.w = parentSize.x - left - right;\r\n        childContainer.x = left + childContainer.w / 2;\r\n    }\r\n    if (bottom !== undefined && top !== undefined) {\r\n        // ignore h value and calculate from remain space\r\n        childContainer.h = parentSize.y - top - bottom;\r\n        childContainer.y = top + childContainer.h / 2;\r\n    }\r\n    if (right !== undefined && left === undefined) {\r\n        // use w to calculate x. w must have value in this situation\r\n        childContainer.x = parentSize.x - childContainer.w / 2 - right;\r\n    }\r\n    if (bottom !== undefined && top === undefined) {\r\n        // use h to calculate y. h must have value in this situation\r\n        childContainer.y = parentSize.y - childContainer.h / 2 - bottom;\r\n    }\r\n\r\n    if (right === undefined) {\r\n        if (left !== undefined)\r\n            childContainer.x = left + childContainer.w / 2;\r\n    }\r\n\r\n    if (bottom === undefined) {\r\n        if (top !== undefined)\r\n            childContainer.y = top + childContainer.h / 2;\r\n    }\r\n\r\n    if (minW) {\r\n        childContainer.w = Math.max(minW, childContainer.w);\r\n    }\r\n    if (maxW) {\r\n        childContainer.w = Math.min(maxW, childContainer.w);\r\n    }\r\n    if (minH) {\r\n        childContainer.h = Math.max(minH, childContainer.h);\r\n    }\r\n    if (maxH) {\r\n        childContainer.h= Math.min(maxH, childContainer.h);\r\n    }\r\n\r\n    maxWidth = childContainer.x + childContainer.w / 2 + right;\r\n    maxHeight = childContainer.y + childContainer.h / 2 + bottom;\r\n    return {maxHeight: maxHeight, maxWidth: maxWidth};\r\n};\r\n\r\nlet scatterFree = (childContainer, childContainers, layoutContainers, parentSize, compactType, scrollType\r\n                   , snap, maxHeight, breakpointdata, hasOwnBreakPoints, parentGriddata) => {\r\n    let autoWidth =\r\n        getFromData(parentGriddata, \"autoWidth\", parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    if (!autoWidth) {\r\n        if (childContainer.x + childContainer.w > parentSize.x) {\r\n            childContainer.x = parentSize.x - childContainer.w;\r\n        }\r\n    }\r\n\r\n    if (compactType === \"horizontal\") {\r\n        childContainer.y = Math.min(bottom(layoutContainers), childContainer.y);\r\n        while (childContainer.x > 0 && !checkCollide(childContainer, layoutContainers)) {\r\n            childContainer.x -= snap.x;\r\n        }\r\n    }\r\n    if (compactType === \"vertical\")\r\n    {\r\n        childContainer.y = Math.min(bottom(layoutContainers), childContainer.y);\r\n        while (childContainer.y > 0 && !checkCollide(childContainer, layoutContainers)) {\r\n            childContainer.y -= snap.y;\r\n        }\r\n    }\r\n\r\n    childContainer.x = Math.max(0, childContainer.x);\r\n    childContainer.y = Math.max(0, childContainer.y);\r\n\r\n    let collide;\r\n    while (checkCollide(childContainer, layoutContainers)) {\r\n        collide = checkCollide(childContainer, layoutContainers);\r\n        if (compactType === \"horizontal\") {\r\n            resolveCompactionCollision(childContainers, childContainer, collide.x + collide.w, \"x\");\r\n        }\r\n        if (compactType === \"vertical\") {\r\n            resolveCompactionCollision(childContainers, childContainer, collide.y + collide.h, \"y\");\r\n        }\r\n        // Since we can't grow without bounds horizontally, if we've overflown, let's move it down and try again.\r\n        if ((compactType === \"horizontal\") &&\r\n            childContainer.x + childContainer.w > parentSize.x) {\r\n            childContainer.x = parentSize.x - childContainer.w;\r\n            childContainer.y++;\r\n        }\r\n    }\r\n\r\n    if (childContainer.y + childContainer.h > maxHeight)\r\n        maxHeight = childContainer.y + childContainer.h;\r\n\r\n    return maxHeight;\r\n};\r\n\r\nconst heightWidth = { x: \"w\", y: \"h\" };\r\nlet resolveCompactionCollision = (layout, item, moveToCoord, axis) => {\r\n    const sizeProp = heightWidth[axis];\r\n    item[axis] += 1;\r\n    const itemIndex = layout\r\n        .map(layoutItem => {\r\n            return layoutItem.griddata.id;\r\n        })\r\n        .indexOf(item.griddata.id);\r\n\r\n    // Go through each item we collide with.\r\n    for (let i = itemIndex + 1; i < layout.length; i++) {\r\n        const otherItem = layout[i];\r\n        // Ignore static items\r\n        if (otherItem.static || otherItem.griddata.dragging) continue;\r\n\r\n        // Optimization: we can break early if we know we're past this el\r\n        // We can do this b/c it's a sorted layout\r\n        if (otherItem.y > item.y + item.h) break;\r\n\r\n        if (collide(item, otherItem)) {\r\n            resolveCompactionCollision(\r\n                layout,\r\n                otherItem,\r\n                moveToCoord + item[sizeProp],\r\n                axis\r\n            );\r\n        }\r\n    }\r\n\r\n    item[axis] = moveToCoord;\r\n};\r\n\r\nlet bottom = (layoutContainers) => {\r\n    let max = 0,\r\n        bottomY;\r\n    for (let i = 0, len = layoutContainers.length; i < len; i++) {\r\n        bottomY = layoutContainers[i].y + layoutContainers[i].h;\r\n        if (bottomY > max) max = bottomY;\r\n    }\r\n    return max;\r\n};\r\n\r\nlet checkCollide = (childContainer, layoutContainers) => {\r\n    for (let i = 0; i < layoutContainers.length; i++) {\r\n        if (collide(childContainer, layoutContainers[i]))\r\n            return layoutContainers[i];\r\n    }\r\n    return false;\r\n};\r\n\r\nlet collide = (child1, child2) => {\r\n    if (child1.griddata.id === child2.griddata.id) return false; // same element\r\n    if (child1.x + child1.w <= child2.x) return false; // l1 is left of l2\r\n    if (child1.x >= child2.x + child2.w) return false; // l1 is right of l2\r\n    if (child1.y + child1.h <= child2.y) return false; // l1 is above l2\r\n    if (child1.y >= child2.y + child2.h) return false; // l1 is below l2\r\n    return true; // boxes overlap\r\n};\r\n\r\nlet sortChilds = (childContainers, parentSize, compactType, breakpointdata, hasOwnBreakPoints) => {\r\n    childContainers.forEach(childContainer => {\r\n            childContainer.x = getPxFromPercent(\r\n                getFromData(childContainer.griddata, \"x\", parentSize.x, hasOwnBreakPoints\r\n                    ,breakpointdata)\r\n                ,  parentSize.x);\r\n            childContainer.y = getPxFromPercent(\r\n                getFromData(childContainer.griddata, \"y\", parentSize.x, hasOwnBreakPoints\r\n                    ,breakpointdata)\r\n                ,  parentSize.y);\r\n    });\r\n\r\n    if (compactType === \"horizontal\") {\r\n        childContainers.sort((a, b) => {\r\n            if (a.x > b.x || (a.x === b.x && a.y > b.y)) {\r\n                return 1;\r\n            } else if (a.y === b.y && a.x === b.x) {\r\n                // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                return 0;\r\n            }\r\n            return -1;\r\n        });\r\n    } else {\r\n        childContainers.sort((a, b) => {\r\n            if (a.y > b.y || (a.y === b.y && a.x > b.x)) {\r\n                return 1;\r\n            } else if (a.y === b.y && a.x === b.x) {\r\n                // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                return 0;\r\n            }\r\n            return -1;\r\n        });\r\n    }\r\n};\r\n\r\nlet getPxFromPercent = (val, parentVal) => {\r\n    if (typeof(val) === \"string\") {\r\n        if (getUnit(val) === \"%\") {\r\n            let percent = parseFloat(val.replace(\"%\", \"\")) / 100;\r\n            return parentVal * percent;\r\n        }\r\n        return val;\r\n    } else {\r\n        return val;\r\n    }\r\n};\r\n\r\nlet getUnit = (val) => {\r\n    if (typeof(val) === \"string\") {\r\n        if (val.includes(\"%\"))\r\n            return \"%\";\r\n    }\r\n    return \"\";\r\n};\r\n\r\nlet hasDir = (dir, target) => {\r\n    return dir.toLowerCase().includes(target);\r\n};\r\n\r\nlet setChildSize = (childContainer, newSize, parentSize, breakpointdata, hasOwnBreakPoints\r\n                    , dir, delta) => {\r\n    setData(childContainer.griddata, \"w\", newSize.w, parentSize.x, hasOwnBreakPoints\r\n        ,breakpointdata);\r\n    if (getFromData(childContainer.griddata, \"units.w\", parentSize.x, hasOwnBreakPoints\r\n        ,breakpointdata)) {\r\n        setData(childContainer.griddata, \"w\",\r\n            (getFromData(childContainer.griddata, \"w\", parentSize.x\r\n                , hasOwnBreakPoints\r\n                ,breakpointdata) / parentSize.x * 100)\r\n            + getFromData(childContainer.griddata, \"units.w\", parentSize.x\r\n            , hasOwnBreakPoints\r\n            ,breakpointdata)\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    }\r\n\r\n    setData(childContainer.griddata, \"h\", newSize.h, parentSize.x, hasOwnBreakPoints\r\n        ,breakpointdata);\r\n    if (getFromData(childContainer.griddata, \"units.h\", parentSize.x, hasOwnBreakPoints\r\n        ,breakpointdata)) {\r\n        setData(childContainer.griddata, \"h\",\r\n            (getFromData(childContainer.griddata, \"h\", parentSize.x\r\n                , hasOwnBreakPoints\r\n                ,breakpointdata) / parentSize.y * 100)\r\n            + getFromData(childContainer.griddata, \"units.h\", parentSize.x\r\n            , hasOwnBreakPoints\r\n            ,breakpointdata)\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    }\r\n\r\n    if (delta) {\r\n        if (hasDir(dir, \"right\") || hasDir(dir, \"left\")) {\r\n            let x = getPxFromPercent(\r\n                getFromData(childContainer.griddata, \"x\", parentSize.x, hasOwnBreakPoints\r\n                    ,breakpointdata)\r\n                , parentSize.x);\r\n            if (hasDir(dir, \"right\"))\r\n                x = x + delta.width / 2;\r\n            else\r\n                x = x - delta.width / 2;\r\n            let y = getPxFromPercent(\r\n                getFromData(childContainer.griddata, \"y\", parentSize.x, hasOwnBreakPoints\r\n                    ,breakpointdata)\r\n                , parentSize.y);\r\n\r\n            setChildPosition(childContainer, {x: x, y: y}, parentSize, breakpointdata, hasOwnBreakPoints)\r\n        }\r\n        if (hasDir(dir, \"top\") || hasDir(dir, \"bottom\")) {\r\n            let x = getPxFromPercent(\r\n                getFromData(childContainer.griddata, \"x\", parentSize.x, hasOwnBreakPoints\r\n                    ,breakpointdata)\r\n                , parentSize.x);\r\n            let y = getPxFromPercent(\r\n                getFromData(childContainer.griddata, \"y\", parentSize.x, hasOwnBreakPoints\r\n                    ,breakpointdata)\r\n                , parentSize.y);\r\n            if (hasDir(dir, \"bottom\"))\r\n                y = y + delta.height / 2;\r\n            else\r\n                y = y - delta.height / 2;\r\n\r\n            setChildPosition(childContainer, {x: x, y: y}, parentSize, breakpointdata, hasOwnBreakPoints)\r\n        }\r\n    }\r\n};\r\n\r\nlet setChildPosition = (childContainer, newPosition, parentSize, breakpointdata, hasOwnBreakPoints) => {\r\n    setData(childContainer.griddata, \"x\", newPosition.x, parentSize.x\r\n        , hasOwnBreakPoints\r\n        ,breakpointdata);\r\n    if (getFromData(childContainer.griddata, \"units.x\", parentSize.x, hasOwnBreakPoints\r\n        ,breakpointdata)) {\r\n        setData(childContainer.griddata, \"x\",\r\n            (getFromData(childContainer.griddata, \"x\", parentSize.x\r\n                , hasOwnBreakPoints\r\n                ,breakpointdata) / parentSize.x * 100)\r\n            + getFromData(childContainer.griddata, \"units.x\", parentSize.x\r\n            , hasOwnBreakPoints\r\n            ,breakpointdata)\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    }\r\n\r\n    setData(childContainer.griddata, \"y\", newPosition.y, parentSize.x\r\n        , hasOwnBreakPoints\r\n        ,breakpointdata);\r\n    if (getFromData(childContainer.griddata, \"units.y\", parentSize.x, hasOwnBreakPoints\r\n        ,breakpointdata)) {\r\n        setData(childContainer.griddata, \"y\",\r\n            (getFromData(childContainer.griddata, \"y\", parentSize.x\r\n                , hasOwnBreakPoints\r\n                ,breakpointdata) / parentSize.y * 100)\r\n            + getFromData(childContainer.griddata, \"units.y\", parentSize.x\r\n            , hasOwnBreakPoints\r\n            ,breakpointdata)\r\n            , parentSize.x, hasOwnBreakPoints\r\n            ,breakpointdata);\r\n    }\r\n};\r\n\r\n/*let updateConstraints = (childContainer, newPosition, parentSize, breakpointdata, hasOwnBreakPoints\r\n                        , parentGridSystem) =>\r\n{\r\n    if (!parentGridSystem)\r\n        parentGridSystem = getDefaultGridSystem();\r\n};*/\r\n\r\n/*let getDefaultGridSystem = () => {\r\n    return {\r\n        xNumber: 1,\r\n        yNumber: 1,\r\n        widths: [100],\r\n        widthUnits: [\"%\"],\r\n        heights: [100],\r\n        heightUnits: [\"%\"]\r\n    }\r\n};*/\r\n\r\nlet fixGriddata = (griddata, breakpointdata) => {\r\n    if (!griddata)\r\n        return;\r\n\r\n    if (griddata.initialized) {\r\n        let sortedBreakPoints = getSortedBreakPoints(breakpointdata);\r\n        for(let i = 0; i < sortedBreakPoints.length; i++) {\r\n            let name = sortedBreakPoints[i].name;\r\n\r\n            if (!griddata[name])\r\n                continue;\r\n\r\n            if (!griddata[name].units)\r\n                griddata[name].units = {};\r\n\r\n            griddata[name].units.x = getUnit(griddata[name].x);\r\n            griddata[name].units.y = getUnit(griddata[name].y);\r\n            griddata[name].units.w = getUnit(griddata[name].w);\r\n            griddata[name].units.h = getUnit(griddata[name].h);\r\n        }\r\n    } else {\r\n        if (!griddata.units)\r\n            griddata.units = {};\r\n\r\n        griddata.units.x = getUnit(griddata.x);\r\n        griddata.units.y = getUnit(griddata.y);\r\n        griddata.units.w = getUnit(griddata.w);\r\n        griddata.units.h = getUnit(griddata.h);\r\n\r\n    }\r\n};\r\n\r\nlet initGriddata = (griddataProp, breakpointdata) => {\r\n    if (griddataProp && griddataProp.initialized)\r\n        return griddataProp;\r\n\r\n    if (!griddataProp)\r\n        griddataProp = {};\r\n\r\n    let clone = cloneObject(griddataProp);\r\n\r\n    for (let props in griddataProp) delete griddataProp[props];\r\n\r\n    let griddata = getDefaultChildgriddata(breakpointdata);\r\n    if (clone.bpData) {\r\n        for (let props in griddata.bpData) {\r\n            if (exist(props, breakpointdata)) {\r\n                    for(let props2 in clone.bpData) {\r\n                        griddata.bpData[props][props2] = cloneObject(clone.bpData[props2]);\r\n                    }\r\n            }\r\n        }\r\n    }\r\n    for (let prop in clone) {\r\n        if (clone.hasOwnProperty(prop) && prop !== \"bpData\") {\r\n            griddata[prop] = clone[prop];\r\n        }\r\n    }\r\n\r\n    for(let k in griddata) griddataProp[k]=griddata[k];\r\n\r\n    return griddataProp;\r\n};\r\n\r\nlet getDefaultChildgriddata = (breakpointdata) => {\r\n    let sample = {\r\n        x: \"50%\",\r\n        y: \"50%\",\r\n        w: \"100%\",\r\n        h: \"100%\",\r\n        minW: undefined,\r\n        maxW: undefined,\r\n        minH: undefined,\r\n        maxH: undefined,\r\n        constraints: {\r\n            left: undefined,\r\n            top: undefined,\r\n            right: undefined,\r\n            bottom: undefined,\r\n        },\r\n        margin: {\r\n            all: undefined,\r\n            left: undefined,\r\n            top: undefined,\r\n            right: undefined,\r\n            bottom: undefined\r\n        },\r\n        units: {\r\n            x: \"%\",\r\n            y: \"%\",\r\n            w: \"%\",\r\n            h: \"%\",\r\n        },\r\n        scrollType: \"vertical\",\r\n        absolute: true,\r\n        fix: false,\r\n        autoHeight: false,\r\n        autoWidth: false,\r\n        overflowData: {\r\n            state: 'hide',\r\n            overflowY: 'scroll'\r\n        },\r\n    };\r\n    let griddata = {\r\n        initialized: true,\r\n        resizable: true,\r\n        draggable: true,\r\n        hasOwnBreakPoints: false,\r\n        isContainer: false,\r\n        autoDock: true,\r\n        bpData: {}\r\n    };\r\n    let sortedBreakPoints = getSortedBreakPoints(breakpointdata);\r\n    griddata.bpData[sortedBreakPoints[0].name] = cloneObject(sample);\r\n    return griddata;\r\n};\r\n\r\nlet cloneObject = (obj) => {\r\n    if (obj instanceof Array) {\r\n        let copy = [];\r\n        for (let i = 0, len = obj.length; i < len; i++) {\r\n            copy[i] = cloneObject(obj[i]);\r\n        }\r\n        return copy;\r\n    }\r\n    if (obj instanceof Object) {\r\n        if (null == obj) return obj;\r\n        let copy = {};\r\n        for (let attr in obj) {\r\n            if (obj.hasOwnProperty(attr)) {\r\n                copy[attr] = cloneObject(obj[attr]);\r\n            }\r\n        }\r\n        return copy;\r\n    }\r\n\r\n    return obj;\r\n};\r\n\r\nlet shallowEqual = (objA, objB) => {\r\n    if (objA === objB) {\r\n        return true;\r\n    }\r\n\r\n    if (typeof objA !== 'object' || objA === null ||\r\n        typeof objB !== 'object' || objB === null) {\r\n        return false;\r\n    }\r\n\r\n    let keysA = Object.keys(objA);\r\n    let keysB = Object.keys(objB);\r\n\r\n    if (keysA.length !== keysB.length) {\r\n        return false;\r\n    }\r\n\r\n    // Test for A's keys different from B.\r\n    for (let i = 0; i < keysA.length; i++) {\r\n        if (!objB.hasOwnProperty(keysA[i]) || objA[keysA[i]] !== objB[keysA[i]]) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return true;\r\n};\r\n\r\nfunction throttleDebounce(fn, ms) {\r\n    let deTimer;\r\n    let dontCall;\r\n\r\n    return _ => {\r\n        let args = arguments;\r\n\r\n        if (!dontCall) {\r\n            dontCall = true;\r\n            fn.apply(this, args);\r\n            setTimeout(_ => {\r\n                dontCall = false;\r\n            }, ms);\r\n        }\r\n\r\n        clearTimeout(deTimer);\r\n        deTimer = setTimeout(_ => {\r\n            fn.apply(this, args);\r\n        }, ms);\r\n    };\r\n}\r\n\r\nfunction throttleDebounce2(fn, threshold) {\r\n    threshold = threshold || 250;\r\n    let last, deferTimer;\r\n\r\n    let db = debounce(fn);\r\n    return function() {\r\n        let now = +new Date, args = arguments;\r\n        if(!last || (last && now < last + threshold)) {\r\n            clearTimeout(deferTimer);\r\n            db.apply(this, args);\r\n            deferTimer = setTimeout(function() {\r\n                last = now;\r\n                fn.apply(this, args);\r\n            }, threshold);\r\n        } else {\r\n            last = now;\r\n            fn.apply(this, args);\r\n        }\r\n    }\r\n}\r\n\r\nlet getOverFlow = (griddata, parent, breakpointdata) => {\r\n    if (!griddata)\r\n        return {x:\"hidden\", y:\"hidden\"};\r\n    let parentSizeX;\r\n    if (parent)\r\n        parentSizeX = parent.getSize().x;\r\n\r\n    let scrollType;\r\n    if (parentSizeX) {\r\n        scrollType = getFromData(griddata, \"scrollType\", parentSizeX\r\n                , griddata? griddata.hasOwnBreakPoints: false, breakpointdata);\r\n    } else {\r\n        scrollType = getFromData(griddata, \"scrollType\", 0\r\n                , false, breakpointdata);\r\n    }\r\n    switch (scrollType) {\r\n        case \"hide\":\r\n            return {x:\"hidden\", y:\"hidden\"};\r\n        case \"show\":\r\n            return {x:\"visible\", y:\"visible\"};\r\n        case \"horizontal\":\r\n            return {x:\"overlay\", y:\"hidden\"};\r\n        case \"vertical\":\r\n            return {x:\"hidden\", y:\"overlay\"};\r\n        case \"both\":\r\n            return {x:\"overlay\", y:\"overlay\"};\r\n        default:\r\n            return {x:\"visible\", y:\"visible\"};\r\n    }\r\n};\r\n\r\nlet scrollbarWidth = false;\r\nlet getScrollbarWidth = () => {\r\n    if (scrollbarWidth !== false) return scrollbarWidth;\r\n    /* istanbul ignore else */\r\n    if (typeof document !== 'undefined') {\r\n        const div = document.createElement('div');\r\n        css(div, {\r\n            width: 100,\r\n            height: 100,\r\n            position: 'absolute',\r\n            top: -9999,\r\n            overflow: 'scroll',\r\n            MsOverflowStyle: 'scrollbar'\r\n        });\r\n        document.body.appendChild(div);\r\n        scrollbarWidth = (div.offsetWidth - div.clientWidth);\r\n        document.body.removeChild(div);\r\n    } else {\r\n        scrollbarWidth = 0;\r\n    }\r\n    return scrollbarWidth || 0;\r\n};\r\n\r\nexport let assignData = (griddata, newData) => {\r\n    if (!griddata)\r\n        griddata = {};\r\n    return Object.assign(griddata, newData || {})\r\n};\r\n\r\nexport function getOffsetLeft( elem )\r\n{\r\n    let offsetLeft = 0;\r\n    do {\r\n        let elemOffsetLeft = elem.offsetLeft;\r\n        if ( !isNaN( elemOffsetLeft ) )\r\n        {\r\n            offsetLeft += elemOffsetLeft;\r\n        }\r\n    } while( elem = elem.offsetParent );\r\n    return offsetLeft;\r\n}\r\n\r\nexport function getOffsetTop( elem )\r\n{\r\n    let offsetTop = 0;\r\n    do {\r\n        let elemOffsetTop = elem.offsetTop;\r\n        if ( !isNaN( elemOffsetTop ) )\r\n        {\r\n            offsetTop += elemOffsetTop;\r\n        }\r\n    } while( elem = elem.offsetParent );\r\n    return offsetTop;\r\n}\r\n\r\n\r\nexport function JSToCSS(JS){\r\n    let cssString = \"\";\r\n    for (let objectKey in JS) {\r\n        cssString += objectKey.replace(/([A-Z])/g, (g) => `-${g[0].toLowerCase()}`) + \": \" + JS[objectKey] + \"; \";\r\n    }\r\n    return cssString;\r\n};\r\n\r\nexport function updateStyle(styleNode, style, styleName){\r\n    let css = `\r\n            .${styleName} {${\r\n        JSToCSS(style)\r\n        }}\r\n            `;\r\n\r\n    styleNode.innerHTML = \"\";\r\n    if (styleNode.styleSheet) { // IE\r\n        styleNode.styleSheet.cssText = css;\r\n    } else {\r\n        styleNode.appendChild(document.createTextNode(css));\r\n    }\r\n};\r\n\r\nexport function appendStyle(style, styleId, styleName){\r\n    let css = `\r\n            .${styleName} {${\r\n        JSToCSS(style)\r\n        }}\r\n            `;\r\n    let styleNode = document.createElement('style');\r\n    styleNode.setAttribute(\"id\", styleId);\r\n    // styleNode.setAttribute(\"title\", styleId);\r\n\r\n    styleNode.type = 'text/css';\r\n\r\n    if (styleNode.styleSheet) { // IE\r\n        styleNode.styleSheet.cssText = css;\r\n    } else {\r\n        styleNode.appendChild(document.createTextNode(css));\r\n    }\r\n\r\n    document.getElementsByTagName('head')[0].appendChild(styleNode);\r\n};\r\n\r\nexport function addCSS(cssText, cssId, doc){\r\n    let styleNode = (doc || document).getElementById(cssId);\r\n\r\n    if (!styleNode) {\r\n        styleNode = (doc || document).createElement('style');\r\n        styleNode.setAttribute(\"id\", cssId);\r\n        styleNode.type = 'text/css';\r\n    } else {\r\n        styleNode.innerHTML = \"\";\r\n    }\r\n\r\n    if (styleNode.styleSheet) { // IE\r\n        styleNode.styleSheet.cssText = cssText;\r\n    } else {\r\n        styleNode.appendChild((doc || document).createTextNode(cssText));\r\n    }\r\n\r\n    (doc || document).getElementsByTagName('head')[0].appendChild(styleNode);\r\n};\r\n\r\n/*export function appendStyle(style, styleId, styleName){\r\n    return StyleSheet.create({\r\n        [styleId]: style\r\n    })[styleId];\r\n};\r\n\r\nexport function updateStyle(styleNode, style, styleName){\r\n    return StyleSheet.create({\r\n        [styleName]: style\r\n    });\r\n};*/\r\n\r\nexport function getScrollParent(node) {\r\n    if (node == null) {\r\n        return null;\r\n    }\r\n\r\n    if (node.scrollHeight > node.clientHeight) {\r\n        return node;\r\n    } else {\r\n        return getScrollParent(node.parentNode);\r\n    }\r\n}\r\n\r\nexport function swapArrayElements(arr, indexA, indexB) {\r\n    let temp = arr[indexA];\r\n    arr[indexA] = arr[indexB];\r\n    arr[indexB] = temp;\r\n}\r\n\r\nexport {CalculateLayout, cloneObject, getPxFromPercent, shallowEqual\r\n        ,throttleDebounce, setChildSize, fixGriddata, setChildPosition\r\n        ,getDefaultChildgriddata, initGriddata, getOverFlow, getScrollbarWidth, getDummy}\r\n","import {cloneObject, throttleDebounce} from \"./AwesomeGridLayoutUtils\";\r\nimport merge from \"lodash.merge\";\r\n\r\nexport default class BreakPointManager {\r\n    constructor(breakpoints, editor, onBreakpointChange, onZoomLevelChange, onHeightChange, onResize) {\r\n        if (!breakpoints)\r\n            breakpoints = BreakPointManager.getDefault();\r\n\r\n        this.fixBreakpointRules(breakpoints);\r\n\r\n        // TODO test\r\n\r\n        this.breakpoints = breakpoints;\r\n        this.editor = editor;\r\n        this.windowInnerWidth = window.innerWidth;\r\n        this.lastWidth = window.innerWidth;\r\n        this.onBreakpointChange = onBreakpointChange || (() => {});\r\n        this.onZoomLevelChange = onZoomLevelChange || (() => {});\r\n        this.onHeightChange = onHeightChange || (() => {});\r\n        this.onResize = onResize;\r\n\r\n        if (onResize)\r\n            window.addEventListener(\"resize\", this.onResize);\r\n        if (onBreakpointChange)\r\n            window.addEventListener(\"resize\", this.onWindowResize);\r\n        if (onZoomLevelChange)\r\n            window.addEventListener(\"resize\", this.onDevicePixelRatioChange);\r\n        if (onHeightChange)\r\n            window.addEventListener(\"resize\", this.onHeightResize);\r\n    }\r\n\r\n    dispose = () => {\r\n        window.removeEventListener(\"resize\", this.onResize);\r\n        window.removeEventListener(\"resize\", this.onWindowResize);\r\n        window.removeEventListener(\"resize\", this.onDevicePixelRatioChange);\r\n        window.removeEventListener(\"resize\", this.onHeightResize);\r\n    }\r\n\r\n    fixBreakpointRules = (breakpoints) => {\r\n        breakpoints.forEach(bpData => {\r\n            if (!bpData.end)\r\n                bpData.end = 99999;\r\n        });\r\n    }\r\n\r\n    updateBreakpoint = (name, start, end) => {\r\n        let bp = this.breakpoints.find(b => b.name === name);\r\n        if (bp) {\r\n            bp.end = end;\r\n            let upperBP = this.getUpperBreakPoint(name);\r\n            if (upperBP) this.getUpperBreakPoint(name).start = end + 1;\r\n            return;\r\n        }\r\n\r\n        start++;\r\n        bp = {name, start, end};\r\n        let prevBp;\r\n\r\n        let sortedBreakPoints = this.getSortedBreakPoints();\r\n        for(let i = 0; i < sortedBreakPoints.length; i++) {\r\n            if (bp.start === sortedBreakPoints[i].start + 1) {\r\n                bp.start++;\r\n            }\r\n            if (bp.start >= sortedBreakPoints[i].start) {\r\n                bp.end = sortedBreakPoints[i].end;\r\n                sortedBreakPoints[i].end = bp.start - 1;\r\n                prevBp = sortedBreakPoints[i];\r\n                break;\r\n            }\r\n        }\r\n\r\n        this.breakpoints.push(bp);\r\n\r\n        return {newBpData: bp, prevBpData: prevBp};\r\n    };\r\n\r\n    deleteBreakpoint = (name) => {\r\n        let sortedBreakPoints = this.getSortedBreakPoints();\r\n        for(let i = 0; i < sortedBreakPoints.length; i++) {\r\n            if (name === sortedBreakPoints[i].name) {\r\n                let upper = sortedBreakPoints[i - 1];\r\n                upper.start = sortedBreakPoints[i].start;\r\n                break;\r\n            }\r\n        }\r\n\r\n        let index = this.breakpoints.findIndex(bp => {\r\n            return bp.name === name;\r\n        });\r\n\r\n        this.breakpoints.splice(index, 1);\r\n    };\r\n\r\n    fromClone = (clone) => {\r\n        this.breakpoints = clone.breakpoints;\r\n        this.windowInnerWidth = clone.windowInnerWidth;\r\n        this.lastWidth = clone.lastWidth;\r\n        this.editor = clone.editorData;\r\n\r\n        return this;\r\n    };\r\n\r\n    copyDesign = (designDatas, sourceItem) => {\r\n        this.cloneDesignDatas = {\r\n            designDatas: cloneObject(designDatas),\r\n            sourceItem\r\n        };\r\n    };\r\n\r\n    getCopyDesign = () => {\r\n        return this.cloneDesignDatas;\r\n    };\r\n\r\n    pasteDesign = (item) => {\r\n        if (!this.getCopyDesign())\r\n            return;\r\n\r\n        this.getCopyDesign().designDatas.forEach((designData, index) => {\r\n            let design = designData.design;\r\n            if (!designData.justOneBp) {\r\n                let bpName = designData.bpName;\r\n                if (!item.props.griddata.bpData[bpName])\r\n                    item.props.griddata.bpData[bpName] = {};\r\n                item.props.griddata.bpData[bpName].design = cloneObject(design);\r\n            } else {\r\n                let currentBpName = item.props.breakpointmanager.current();\r\n                if (!item.props.griddata.bpData[currentBpName])\r\n                    item.props.griddata.bpData[currentBpName] = {};\r\n                item.props.griddata.bpData[currentBpName].design = cloneObject(design);\r\n            }\r\n        });\r\n    };\r\n\r\n    getWindowWidth = () => {\r\n        return this.lastWidth\r\n    };\r\n\r\n    getWindowHeight = () => {\r\n        return this.editor.rootLayoutRef.current.getSize(false).height;\r\n        // return window.innerHeight * 0.8;\r\n    };\r\n\r\n    setWindowWidth = (width) => {\r\n        this.lastWidth = width;\r\n    };\r\n\r\n    getBpData = (bpName) => {\r\n        return this.breakpoints.find(bp => {\r\n            return bp.name === bpName;\r\n        });\r\n    };\r\n\r\n    dispose() {\r\n        window.removeEventListener(\"resize\", this.onWindowResize);\r\n    }\r\n\r\n    getDevicePixelRatio = () => {\r\n        return window.devicePixelRatio;\r\n    };\r\n\r\n    onDevicePixelRatioChange = () => {\r\n        let changed = this.devicePixelRatio !== window.devicePixelRatio;\r\n\r\n        this.devicePixelRatio = window.devicePixelRatio;\r\n\r\n        if (changed) {\r\n            this.onZoomLevelChange(this.getDevicePixelRatio());\r\n        }\r\n    };\r\n\r\n    onHeightResize = throttleDebounce((e) => {\r\n        if (this.lastHeight !== window.innerHeight) {\r\n            this.lastHeight = window.innerHeight;\r\n            this.onHeightChange(e);\r\n        }\r\n    }, 100);\r\n\r\n    onWindowResize = throttleDebounce(() => {\r\n        let newWidth = window.innerWidth -\r\n            this.editor.context.inspectorPinned ? this.editor.context.inspectorWidth : 0;\r\n\r\n        let result = this.checkBreakPointChange(newWidth);\r\n\r\n        this.setWindowWidth(newWidth);\r\n\r\n        if (result.changed) {\r\n            this.onBreakpointChange(newWidth, result.currentBreakpointName, this.getDevicePixelRatio());\r\n        }\r\n    }, 100);\r\n\r\n    checkBreakPointChange = (newWidth) => {\r\n        let lastBreakpointName = this.current(this.getWindowWidth());\r\n        let currentBreakpointName = this.current(newWidth);\r\n\r\n        return {\r\n            changed: (lastBreakpointName !== currentBreakpointName),\r\n            currentBreakpointName\r\n        }\r\n    };\r\n\r\n    current = (size) => {\r\n        if (!size)\r\n            size = this.getWindowWidth();\r\n        let sortedBreakPoints = this.getSortedBreakPoints();\r\n        for(let i = 0; i < sortedBreakPoints.length; i++) {\r\n            if (this.getSize(size) >= sortedBreakPoints[i].start)\r\n                return sortedBreakPoints[i].name;\r\n        }\r\n\r\n        return sortedBreakPoints[sortedBreakPoints.length - 1].name;\r\n    };\r\n\r\n    currentBpData = (size) => {\r\n        if (!size)\r\n            size = this.getWindowWidth();\r\n        let sortedBreakPoints = this.getSortedBreakPoints();\r\n        for(let i = 0; i < sortedBreakPoints.length; i++) {\r\n            if (this.getSize(size) >= sortedBreakPoints[i].start)\r\n                return sortedBreakPoints[i];\r\n        }\r\n\r\n        return sortedBreakPoints[sortedBreakPoints.length - 1];\r\n    };\r\n\r\n    getUpperBreakPoint = (bpName) => {\r\n        let sortedBreakPoints = this.getSortedBreakPoints();\r\n        for(let i = 0; i < sortedBreakPoints.length; i++) {\r\n            if (bpName === sortedBreakPoints[i].name)\r\n                return sortedBreakPoints[i - 1] && sortedBreakPoints[i - 1];\r\n        }\r\n    };\r\n\r\n    setData = (dataSet, param, value, breakpointName) => {\r\n        let params = param.split('.');\r\n        let name = breakpointName ||\r\n            this.current(this.getSize());\r\n        if (!dataSet.bpData[name]) {\r\n            dataSet.bpData[name] = {};\r\n        }\r\n        if (params.length === 1) {\r\n            if (value !== undefined)\r\n                dataSet.bpData[name][params[0]] = value;\r\n            else\r\n                delete dataSet.bpData[name][params[0]];\r\n        } else {\r\n            if (dataSet.bpData[name][params[0]] === undefined)\r\n                dataSet.bpData[name][params[0]] = {};\r\n            let override = dataSet.bpData[name][params[0]];\r\n            for(let i = 1; i < params.length; i++) {\r\n                if (i === params.length - 1) { // Last index\r\n                    if (value !== undefined)\r\n                        override[params[i]] = value;\r\n                    else\r\n                        delete override[params[i]];\r\n                }\r\n                else\r\n                {\r\n                    if (override[params[i]] === undefined)\r\n                        override[params[i]] = {};\r\n                    override = override[params[i]];\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    getFromData = (dataSet, param, breakpointName) => {\r\n        let params = param.split('.');\r\n        let firstParamResult;\r\n        let currentBreakpointName = breakpointName ||\r\n            this.current(this.getSize());\r\n\r\n        if (dataSet.bpData[currentBreakpointName] &&\r\n            dataSet.bpData[currentBreakpointName][params[0]] !== undefined)\r\n            firstParamResult =\r\n                dataSet.bpData[currentBreakpointName][params[0]];\r\n        else {\r\n            firstParamResult = this.findFirstUpperBreakPointParam(dataSet, params[0]\r\n                , this.getSize());\r\n        }\r\n\r\n        if (firstParamResult === undefined)\r\n            return;\r\n\r\n        if (params.length === 1)\r\n            return firstParamResult;\r\n\r\n        params.slice(1).forEach(p => {\r\n            if (firstParamResult)\r\n                firstParamResult = firstParamResult[p];\r\n        });\r\n\r\n        return firstParamResult;\r\n    };\r\n\r\n    getHighestBpName = () => {\r\n        let sortedBreakPoints = this.getSortedBreakPoints();\r\n        return sortedBreakPoints[0].name;\r\n    };\r\n\r\n    getCompositeFromData = (dataSet, param) => {\r\n        let params = param.split('.');\r\n        let results = [];\r\n\r\n        let sortedBreakPoints = this.getSortedBreakPoints(this.getWindowWidth());\r\n        for(let i = sortedBreakPoints.length - 1; i >= 0; i--) {\r\n            let checkBreakpointName = sortedBreakPoints[i].name;\r\n\r\n            let firstParamResult;\r\n            if (dataSet.bpData[checkBreakpointName] &&\r\n                dataSet.bpData[checkBreakpointName][params[0]] !== undefined)\r\n                firstParamResult = dataSet.bpData[checkBreakpointName][params[0]];\r\n\r\n            if (firstParamResult === undefined)\r\n                continue;\r\n\r\n            if (params.length === 1) {\r\n                results.push(firstParamResult);\r\n            } else {\r\n                params.slice(1).forEach(p => {\r\n                    if (firstParamResult)\r\n                        firstParamResult = firstParamResult[p];\r\n                });\r\n\r\n                results.push(firstParamResult);\r\n            }\r\n        }\r\n\r\n        if (!(results[0] instanceof Object))\r\n            return results[0];\r\n\r\n        let composite = {};\r\n        for (let i = results.length - 1; i >= 0; i--) {\r\n            composite = merge(composite, results[i]);\r\n        }\r\n\r\n        return composite;\r\n    };\r\n\r\n    hasDataInBreakPoint = (dataSet, param, breakpointName) => {\r\n        let params = param.split('.');\r\n        let firstParamResult;\r\n        let currentBreakpointName = breakpointName ||\r\n            this.current(this.getSize());\r\n\r\n        if (dataSet.bpData[currentBreakpointName] &&\r\n            dataSet.bpData[currentBreakpointName][params[0]] !== undefined)\r\n            firstParamResult =\r\n                dataSet.bpData[currentBreakpointName][params[0]];\r\n\r\n        if (firstParamResult === undefined)\r\n            return;\r\n\r\n        if (params.length === 1)\r\n            return firstParamResult;\r\n\r\n        params.slice(1).forEach(p => {\r\n            if (firstParamResult)\r\n                firstParamResult = firstParamResult[p];\r\n        });\r\n\r\n        return firstParamResult;\r\n    };\r\n\r\n    findFirstUpperBreakPointParam = (dataSet, param, size) => {\r\n        let sortedBreakPoints = this.getSortedBreakPoints();\r\n        for(let i = sortedBreakPoints.length - 1; i >= 0; i--) {\r\n            if (this.getSize(size) <= sortedBreakPoints[i].end) {\r\n                if (dataSet.bpData[sortedBreakPoints[i].name] &&\r\n                    dataSet.bpData[sortedBreakPoints[i].name][param] !== undefined)\r\n                    return dataSet.bpData[sortedBreakPoints[i].name][param];\r\n            }\r\n        }\r\n    };\r\n\r\n    findFirstUpperBreakPointName = (dataSet, param, size) => {\r\n        let sortedBreakPoints = this.getSortedBreakPoints();\r\n        for(let i = sortedBreakPoints.length - 1; i >= 0; i--) {\r\n            if (this.getSize(size) <= sortedBreakPoints[i].end) {\r\n                if (dataSet.bpData[sortedBreakPoints[i].name]/* && dataSet[sortedBreakPoints[i].name][param] !== undefined*/)\r\n                    return sortedBreakPoints[i].name;\r\n            }\r\n        }\r\n    };\r\n\r\n    getMinWidth = () => {\r\n        let sortedBreakPoints = this.getSortedBreakPoints();\r\n        return sortedBreakPoints[sortedBreakPoints.length - 1].start;\r\n    };\r\n\r\n    getSortedBreakPoints = (minSize) => {\r\n        let breakpoints = this.breakpoints;\r\n        if (minSize) {\r\n            breakpoints = this.breakpoints.filter(bp => {\r\n                return bp.end >= minSize;\r\n            });\r\n        }\r\n        return breakpoints.sort((a,b) => {\r\n            if (a.start > b.start) {\r\n                return -1;\r\n            } else if (a.start === b.start) {\r\n                // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                return 0;\r\n            }\r\n            return 1;\r\n        });\r\n    };\r\n\r\n    exist = (name) => {\r\n        return this.breakpoints.find(b => {\r\n            return b.name === name;\r\n        });\r\n    };\r\n\r\n    static getDefault = () => {\r\n        return [\r\n            {\r\n                name: \"laptop\",\r\n                start: 1001,\r\n                end: 99999,\r\n                prefer: 1006\r\n            },\r\n            {\r\n                name: \"tablet\",\r\n                start: 751,\r\n                end: 1000,\r\n                prefer: 768\r\n            },\r\n            {\r\n                name: \"mobile\",\r\n                start: 320,\r\n                end: 750,\r\n                prefer: 360\r\n            },\r\n        ]\r\n    };\r\n\r\n    getSize = (size) => {\r\n        return size || this.getWindowWidth();\r\n    };\r\n};\r\n\r\nexport let setData = (dataSet, param, value, breakPointData, breakpointName) => {\r\n    let breakPointManager = new BreakPointManager().fromClone(breakPointData);\r\n    breakPointManager.setData(dataSet, param, value, breakpointName);\r\n};\r\n\r\nexport let getFromData = (dataSet, param, breakPointData, breakpointName) => {\r\n    let breakPointManager = new BreakPointManager().fromClone(breakPointData);\r\n    return breakPointManager.getFromData(dataSet, param, breakpointName);\r\n};\r\n\r\nexport let getCompositeFromData = (dataSet, param, breakPointData) => {\r\n    let breakPointManager = new BreakPointManager().fromClone(breakPointData);\r\n    return breakPointManager.getCompositeFromData(dataSet, param);\r\n};\r\n\r\nexport let getSortedBreakPoints = (breakPointData) => {\r\n    let breakPointManager = new BreakPointManager(breakPointData.breakpoints, breakPointData.windowInnerWidth);\r\n    return breakPointManager.getSortedBreakPoints();\r\n};\r\n\r\nexport let exist = (name, breakPointData) => {\r\n    let breakPointManager = new BreakPointManager(breakPointData.breakpoints, breakPointData.windowInnerWidth);\r\n    return breakPointManager.exist(name);\r\n};\r\n","export function getTextStyle (textTheme, textStaticData, textDesignData) {\r\n    return {\r\n        fontFamily: textDesignData.fontFamily || \"Arial\",\r\n        textAlign: `${textDesignData.textAlign || 'left'}`,\r\n        fontSize: `${textDesignData.fontSize || textTheme.fontSize || 22}px`,\r\n        fontWeight: `${textDesignData.fontWeight || textTheme.fontWeight || 'normal'}`,\r\n        fontStyle: `${textDesignData.fontStyle || textTheme.fontStyle || 'normal'}`,\r\n        fontDecoration: textDesignData.fontDecoration || textTheme.fontDecoration,\r\n        color: textDesignData.color || textTheme.color || '#181818',\r\n        backgroundColor: textDesignData.backgroundColor || textTheme.backgroundColor,\r\n        lineHeight: textDesignData.lineHeight || textTheme.lineHeight || 'normal',\r\n        letterSpacing: textDesignData.letterSpacing || textTheme.letterSpacing || 'normal'\r\n    }\r\n}\r\n\r\nexport function getFontDataByFamily (allFonts, fontFamily) {\r\n    let fontData = Object.values(allFonts).find(fontData => {\r\n        return fontFamily === fontData.fontFamily;\r\n    })\r\n\r\n    if (fontData)\r\n        return fontData;\r\n\r\n    return Object.values(allFonts).find(fontData => {\r\n        return \"Arial\" === fontData.name;\r\n    })\r\n}\r\n\r\nexport function getFontDataByName (allFonts, name) {\r\n    let fontData = Object.values(allFonts).find(fontData => {\r\n        return name === fontData.name;\r\n    })\r\n\r\n    if (fontData)\r\n        return fontData;\r\n\r\n    return Object.values(allFonts).find(fontData => {\r\n        return \"Arial\" === fontData.name;\r\n    })\r\n}\r\n\r\nexport function getInheritTextStyle () {\r\n    return {\r\n        fontFamily: \"inherit\",\r\n        textAlign: \"inherit\",\r\n        fontSize: \"inherit\",\r\n        fontWeight: \"inherit\",\r\n        fontStyle: \"inherit\",\r\n        fontDecoration: \"inherit\",\r\n        color: \"inherit\",\r\n        backgroundColor: \"inherit\",\r\n        lineHeight: \"inherit\",\r\n        letterSpacing: \"inherit\",\r\n    }\r\n}\r\n\r\nexport function applyProperty (doc, win, propertyName, value, tagName = 'span') {\r\n    let html = getSelectionHtmlRemoveProperty(doc, win, propertyName);\r\n    if (html && !html.includes('<')) {\r\n        let sel = doc.getSelection();\r\n        let range = sel.getRangeAt(0);\r\n        range.deleteContents();\r\n        var span = doc.createElement(tagName);\r\n        span.setAttribute(\"style\", `${propertyName}: ${value}; display: inline`);\r\n        span.innerText = html;\r\n        range.insertNode(span);\r\n        sel.addRange(range);\r\n    }\r\n    else if (html) {\r\n        doc.execCommand(\r\n            'insertHTML', false, `<${tagName} style=\"${propertyName}: ${value}\">${html}</${tagName}>`);\r\n    }\r\n}\r\n\r\nexport function getSelectionHtmlRemoveProperty (doc, win, propertyName, tagName = 'span') {\r\n    let range;\r\n    if (doc.selection && doc.selection.createRange) {\r\n        range = doc.selection.createRange();\r\n        return range.htmlText;\r\n    }\r\n    else if (win.getSelection) {\r\n        let selection = win.getSelection();\r\n        if (selection.rangeCount > 0) {\r\n            range = selection.getRangeAt(0);\r\n            let clonedSelection = range.cloneContents();\r\n            let div = doc.createElement(tagName);\r\n            div.appendChild(clonedSelection);\r\n            let nodes = div.getElementsByTagName(\"*\");\r\n            for (let node of nodes) {\r\n                if (node.style && node.style.removeProperty)\r\n                    node.style.removeProperty(propertyName);\r\n            }\r\n            return div.innerHTML;\r\n        }\r\n        else {\r\n            return '';\r\n        }\r\n    }\r\n    else {\r\n        return '';\r\n    }\r\n}\r\n\r\nexport function getSelectionText (doc, win, tagName = 'span') {\r\n    let range;\r\n    if (doc.selection && doc.selection.createRange) {\r\n        range = doc.selection.createRange();\r\n        return range.htmlText;\r\n    }\r\n    else if (win.getSelection) {\r\n        let selection = win.getSelection();\r\n        if (selection.rangeCount > 0) {\r\n            range = selection.getRangeAt(0);\r\n            let clonedSelection = range.cloneContents();\r\n            let div = doc.createElement(tagName);\r\n            div.appendChild(clonedSelection);\r\n            return div.innerText;\r\n        }\r\n        else {\r\n            return '';\r\n        }\r\n    }\r\n    else {\r\n        return '';\r\n    }\r\n}\r\n\r\nfunction nextNode(node) {\r\n    if (node.hasChildNodes()) {\r\n        return node.firstChild;\r\n    } else {\r\n        while (node && !node.nextSibling) {\r\n            node = node.parentNode;\r\n        }\r\n        if (!node) {\r\n            return null;\r\n        }\r\n        return node.nextSibling;\r\n    }\r\n}\r\n\r\nexport function getRangeSelectedNodes(range) {\r\n    var node = range.startContainer;\r\n    var endNode = range.endContainer;\r\n\r\n    // Special case for a range that is contained within a single node\r\n    if (node == endNode) {\r\n        return [node];\r\n    }\r\n\r\n    // Iterate nodes until we hit the end container\r\n    var rangeNodes = [];\r\n    while (node && node != endNode) {\r\n        rangeNodes.push( node = nextNode(node) );\r\n    }\r\n\r\n    // Add partially selected nodes at the start of the range\r\n    node = range.startContainer;\r\n    while (node && node != range.commonAncestorContainer) {\r\n        rangeNodes.unshift(node);\r\n        node = node.parentNode;\r\n    }\r\n\r\n    return rangeNodes;\r\n}\r\n\r\nexport function getParentLine(range) {\r\n    var node = range.startContainer;\r\n    let found = false;\r\n    let parentLine;\r\n    while (!found) {\r\n        let newParantLine = (parentLine || node).parentNode;\r\n        if (!newParantLine) {\r\n            parentLine = undefined;\r\n            break;\r\n        }\r\n\r\n        if (newParantLine.id === \"editableDiv\") {\r\n            found = true;\r\n            break;\r\n        } else {\r\n            parentLine = newParantLine;\r\n        }\r\n    }\r\n\r\n    return parentLine;\r\n}\r\n\r\nexport function getRandomColor() {\r\n    var letters = '0123456789ABCDEF';\r\n    var color = '#';\r\n    for (var i = 0; i < 6; i++) {\r\n        color += letters[Math.floor(Math.random() * 16)];\r\n    }\r\n    return color;\r\n}\r\n\r\nexport function getRandomLinkId(lenght) {\r\n    var letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    var id = '';\r\n    for (var i = 0; i < lenght; i++) {\r\n        id += letters[Math.floor(Math.random() * letters.length)];\r\n    }\r\n    return id;\r\n}\r\n\r\nexport function getLineSelected(selection) {\r\n    let range = selection.getRangeAt(0);\r\n    let nodes = getRangeSelectedNodes(range);\r\n\r\n    let lineNodes = [];\r\n\r\n    nodes.forEach(node => {\r\n        let found = false;\r\n        let parentLine = node;\r\n        while (!found) {\r\n            let newParantLine = parentLine.parentNode;\r\n            if (!newParantLine) {\r\n                parentLine = undefined;\r\n                break;\r\n            }\r\n\r\n            if (newParantLine.id === \"editableDiv\") {\r\n                found = true;\r\n                break;\r\n            } else {\r\n                parentLine = newParantLine;\r\n            }\r\n        }\r\n\r\n        if (parentLine && !lineNodes.includes(parentLine))\r\n            lineNodes.push(parentLine);\r\n    })\r\n\r\n    return lineNodes;\r\n}\r\n","import {getRandomLinkId} from \"../Components/Text/TextHelper\";\r\nimport {cloneObject} from \"../AwesomeGridLayoutUtils\";\r\n\r\nexport function resolveDefaultMenu (siteData) {\r\n    if (!siteData.menus)\r\n        siteData.menus = [];\r\n\r\n    let defaultMenu = siteData.menus.find(m => m.isDefault === true);\r\n\r\n    if (!defaultMenu) {\r\n        defaultMenu = {\r\n            isDefault: true,\r\n            name: \"Default Menu\",\r\n            id: \"default\",\r\n            isMenu: true,\r\n            menuItems: Object.values(siteData.allPages).map((page, index) => {\r\n                return {\r\n                    name: page.props.pageName,\r\n                    id: page.props.pageId,\r\n                    order: index,\r\n                    linkData: {\r\n                        type: \"Page\",\r\n                        data: {\r\n                            window: \"current\",\r\n                            pageId: page.props.pageId,\r\n                            inputs: []\r\n                        }\r\n                    },\r\n                    isParent: false,\r\n                    menuItems: undefined // this is for parent menu items\r\n                }\r\n            })\r\n        };\r\n\r\n        siteData.menus.push(defaultMenu);\r\n    }\r\n\r\n    Object.values(siteData.allPages).forEach((page, index) => {\r\n        let pageMenuItem = defaultMenu.menuItems.find(mi => {\r\n            return mi.id === page.props.pageId;\r\n        });\r\n\r\n        if (!pageMenuItem) {\r\n            defaultMenu.menuItems.push({\r\n                name: page.props.pageName,\r\n                id: page.props.pageId,\r\n                order: index,\r\n                linkData: {\r\n                    type: \"Page\",\r\n                    data: {\r\n                        window: \"current\",\r\n                        pageId: page.props.pageId,\r\n                        inputs: []\r\n                    }\r\n                },\r\n                isParent: false,\r\n                menuItems: undefined // this is for parent menu items\r\n            });\r\n        } else if (pageMenuItem.name !== page.props.pageName) {\r\n            pageMenuItem.name = page.props.pageName;\r\n        }\r\n    })\r\n\r\n    let deletePageMenuItem = [];\r\n    defaultMenu.menuItems.forEach((pageMenuItem, index) => {\r\n        if (!pageMenuItem.linkData || pageMenuItem.linkData.type !== \"Page\")\r\n            return;\r\n\r\n        let page = Object.values(siteData.allPages).find(p => {\r\n            return p.props.pageId === pageMenuItem.linkData.data.pageId;\r\n        });\r\n\r\n        if (!page) {\r\n            // Deleted Page\r\n            deletePageMenuItem.push(pageMenuItem);\r\n            // pageMenuItem.linkData.type = \"None\";\r\n            // delete pageMenuItem.linkData.data;\r\n        }\r\n    });\r\n    deletePageMenuItem.forEach(item => {\r\n        let index = defaultMenu.menuItems.find(p => {\r\n            return p === item;\r\n        });\r\n\r\n        defaultMenu.menuItems.splice(index, 1);\r\n    })\r\n\r\n    siteData.menus.forEach(menu => {\r\n        menu.menuItems.forEach((pageMenuItem, index) => {\r\n            if (!pageMenuItem.linkData || pageMenuItem.linkData.type !== \"Page\")\r\n                return;\r\n\r\n            let page = Object.values(siteData.allPages).find(p => {\r\n                return p.props.pageId === pageMenuItem.linkData.data.pageId;\r\n            });\r\n\r\n            if (!page) {\r\n                // Deleted Page\r\n                pageMenuItem.linkData.type = \"None\";\r\n                delete pageMenuItem.linkData.data;\r\n            }\r\n        });\r\n    })\r\n}\r\n\r\nexport function getMenuById (siteData, id) {\r\n    return siteData.menus.find(m => m.id === id);\r\n}\r\n\r\nexport function addNewMenu (siteData, menuName, copyFromId) {\r\n    let newMenu;\r\n    let id = getRandomLinkId(6);\r\n    let homePage = getHomePage(siteData);\r\n    if (!copyFromId) {\r\n        newMenu = {\r\n            name: menuName,\r\n            id,\r\n            isMenu: true,\r\n            menuItems: [{\r\n                name: homePage.props.pageName,\r\n                id: homePage.props.pageId,\r\n                order: 0,\r\n                linkData: {\r\n                    type: \"Page\",\r\n                    data: {\r\n                        window: \"current\",\r\n                        pageId: homePage.props.pageId,\r\n                        inputs: []\r\n                    }\r\n                },\r\n                isParent: false,\r\n                menuItems: undefined // this is for parent menu items\r\n            }]\r\n        }\r\n    }\r\n    else {\r\n        let copyFromMenu = siteData.menus.find(m => m.id === copyFromId);\r\n        newMenu = cloneObject(copyFromMenu);\r\n        newMenu.id = id;\r\n        newMenu.name = menuName;\r\n        newMenu.isDefault = false;\r\n    }\r\n\r\n    siteData.menus.push(newMenu);\r\n\r\n    return newMenu;\r\n}\r\n\r\nexport function addNewMenuItem (menu, menuItemName, isParent) {\r\n    let id = getRandomLinkId(6);\r\n    let newMenuItem = {\r\n        name: menuItemName,\r\n        id,\r\n        order: menu.menuItems.length,\r\n        linkData: undefined,\r\n        isParent,\r\n        menuItems: undefined // this is for parent menu items\r\n    };\r\n    menu.menuItems.push(newMenuItem);\r\n\r\n    return newMenuItem;\r\n}\r\n\r\nexport function deleteMenu (siteData, menuId) {\r\n    let menuIndex = siteData.menus.findIndex(m => {\r\n        return m.id === menuId;\r\n    });\r\n\r\n    siteData.menus.splice(menuIndex, 1);\r\n}\r\n\r\nexport function deleteMenuItem (menu, menuItemId) {\r\n    let deleteItemById = (parent, id) => {\r\n        if (!parent.menuItems)\r\n            return;\r\n\r\n        let index = parent.menuItems.findIndex(mi => {\r\n            return mi.id === id;\r\n        });\r\n\r\n        if (index >= 0) {\r\n            parent.menuItems.splice(index, 1);\r\n            return;\r\n        }\r\n\r\n        parent.menuItems.forEach(mi => {\r\n            deleteItemById(mi, id);\r\n        });\r\n    };\r\n    deleteItemById(menu, menuItemId);\r\n}\r\n\r\nexport function toggleMenuItemAsParent (menuItem, isParent) {\r\n    menuItem.isParent = isParent;\r\n    if (isParent) menuItem.menuItems = [];\r\n}\r\n\r\nexport function setMenuItemLinkData (menuItem, linkData) {\r\n    menuItem.linkData = linkData;\r\n}\r\n\r\nexport function renameMenuItem (menuItem, newName) {\r\n    menuItem.name = newName;\r\n}\r\n\r\nexport function changeMenuItemParent (menu, menuItem, newParentId, order) {\r\n    let newParentMenuItem = getMenuItemById(menu, newParentId);\r\n\r\n    deleteMenuItem(menu, menuItem.id);\r\n\r\n    menuItem.order = newParentMenuItem.menuItems.length;\r\n\r\n    if (order !== undefined)\r\n        newParentMenuItem.menuItems.splice(order, 0, menuItem);\r\n    else\r\n        newParentMenuItem.menuItems.push(menuItem);\r\n}\r\n\r\nexport function moveBackParent (menu, menuItem, currentParentId) {\r\n    let newParentMenuItem = findParent(menu, currentParentId);\r\n\r\n    deleteMenuItem(menu, menuItem.id);\r\n\r\n    menuItem.order = newParentMenuItem.menuItems.length;\r\n\r\n    newParentMenuItem.menuItems.push(menuItem);\r\n}\r\n\r\nexport function reorderMenuItem (menu, menuItem, newIndex) {\r\n    let parentMenuItem = findParent(menu, menuItem.id);\r\n\r\n    deleteMenuItem(menu, menuItem.id);\r\n\r\n    parentMenuItem.menuItems.splice(newIndex, 0 , menuItem);\r\n}\r\n\r\nexport function getIndexInParent (menu, menuItem) {\r\n    let parentMenuItem = findParent(menu, menuItem.id);\r\n\r\n    let index = parentMenuItem.menuItems.findIndex(mi => {\r\n        return mi.id === menuItem.id;\r\n    });\r\n\r\n    return index;\r\n}\r\n\r\nexport function findParent (menu, menuItemId) {\r\n    if (!menu.menuItems)\r\n        return;\r\n\r\n    let menuItem = menu.menuItems.find(mi => mi.id === menuItemId);\r\n\r\n    if (menuItem)\r\n        return menu;\r\n\r\n    let parentMenu;\r\n    menu.menuItems.forEach(mi => {\r\n        let foundParentMenuItem = findParent(mi, menuItemId);\r\n        if (foundParentMenuItem)\r\n            parentMenu = foundParentMenuItem;\r\n    })\r\n\r\n    return parentMenu;\r\n}\r\n\r\nfunction getMenuItemById (menu, id) {\r\n    if (menu.id === id)\r\n        return menu;\r\n\r\n    if (menu.menuItems){\r\n        let menuItem = menu.menuItems.find(mi => {\r\n            return mi.id === id;\r\n        });\r\n\r\n        if (menuItem)\r\n            return menuItem;\r\n\r\n        menu.menuItems.forEach(mi => {\r\n            let foundMenuItem = getMenuItemById(mi, id);\r\n            if (foundMenuItem)\r\n                menuItem = foundMenuItem;\r\n        });\r\n\r\n        return menuItem;\r\n    }\r\n}\r\n\r\nexport function getHomePage (siteData) {\r\n    let homePage = Object.values(siteData.allPages).find(pageData => {\r\n        return pageData.props.isHome;\r\n    });\r\n\r\n    if (!homePage)\r\n        homePage = Object.values(siteData.allPages)[0];\r\n\r\n    return homePage;\r\n}\r\n\r\nexport function getPageFromPath (website, siteData) {\r\n    let parts = window.location.pathname.split(\"/\");\r\n\r\n    let pathName;\r\n    for (let i = 0; i < parts.length; i++) {\r\n        if (parts[i] === website.name)\r\n            continue;\r\n\r\n        pathName = parts[i];\r\n        break;\r\n    }\r\n\r\n    let page = Object.values(siteData.allPages).find(page => {\r\n        return page.props.pathName = pathName;\r\n    });\r\n\r\n    if (!page)\r\n        page = getHomePage(siteData);\r\n\r\n    return page;\r\n}\r\n","import React from 'react';\r\nimport BreakPointManager from \"../BreakPointManager\";\r\nimport chroma from \"chroma-js\";\r\nimport {addCSS} from \"../AwesomeGridLayoutUtils\";\r\nimport {getHomePage, resolveDefaultMenu} from \"../MenuManager/MenuManager\";\r\n\r\nfunction getColorScheme (baseColor) {\r\n    return {\r\n        \"1\": chroma(baseColor).luminance(0.025).css(),\r\n        \"2\": chroma(baseColor).luminance(0.06).css(),\r\n        \"3\": chroma(baseColor).luminance(0.15).css(),\r\n        \"4\": chroma(baseColor).luminance(0.35).css(),\r\n        \"5\": chroma(baseColor).luminance(0.55).css(),\r\n    }\r\n}\r\n\r\nexport const EditorContext = React.createContext({});\r\n\r\nconst colorKeys = [\r\n    \"1\",\"2\",\"3\",\"4\",\"5\",\r\n];\r\n\r\nexport default class EditorContextProvider extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            update: this.update,\r\n            initContext: this.initContext,\r\n            zoomScale: 1,\r\n            editor: undefined,\r\n            setZoomScale: this.setZoomScale,\r\n            siteData: undefined,\r\n            setSiteData: this.setSiteData,\r\n            pageSize: 1006,\r\n            setPageSize: this.setPageSize,\r\n            setPageSizeWidth: this.setPageSizeWidth,\r\n            pageData: undefined,\r\n            setPageData: this.setPageData,\r\n            inspectorPinned: true,\r\n            setInspectorPinned: this.setInspectorPinned,\r\n            inspectorWidth: 260,\r\n            getInnerWith: this.getInnerWidth,\r\n            setInspectorWidth: this.setInspectorWidth,\r\n            devicePixelRatio: window.devicePixelRatio,\r\n            setDevicePixelRatio: this.setDevicePixelRatio,\r\n            allComponentData: undefined,\r\n            setAllComponentData: this.setAllComponentData,\r\n            rightMenus: {\r\n                addComponent: {\r\n                    state: false,\r\n                },\r\n                pageManager: {\r\n                    state: false,\r\n                },\r\n                themeManager: {\r\n                    state: false,\r\n                },\r\n                menuManager: {\r\n                    state: false,\r\n                }\r\n            },\r\n            setRightMenus: this.setRightMenus,\r\n            toggleRightMenu: this.toggleRightMenu,\r\n            onNewBpAdded: this.onNewBpAdded,\r\n            setPreview: this.setPreview,\r\n            sendEditCommand: this.sendEditCommand,\r\n            sendPublishCommand: this.sendPublishCommand,\r\n            setProduction: this.setProduction,\r\n            preview: false,\r\n            production: false,\r\n            getTheme: this.getTheme,\r\n            getColor: this.getColor,\r\n            getThemeColorClass: this.getThemeColorClass,\r\n            getThemeBackColorClass: this.getThemeBackColorClass,\r\n            calculateTheme: this.calculateTheme,\r\n            calculateColorCSS: this.calculateColorCSS,\r\n            showLinkGenerator: this.showLinkGenerator,\r\n            showFileManager: this.showFileManager,\r\n            isEditor: this.isEditor,\r\n            postMessageToHolder: this.postMessageToHolder,\r\n            setWebsite: this.setWebsite,\r\n            showModal: this.showModal,\r\n            hideModal: this.hideModal,\r\n            setUser: this.setUser,\r\n            isInMenu: this.isInMenu,\r\n            redirect: this.redirect\r\n        };\r\n    }\r\n\r\n    setUser = (user, callback) => {\r\n        console.log(\"EditorContext setUser\");\r\n        this.setState({user}, callback);\r\n    }\r\n\r\n    isInMenu = () => {\r\n        if (this.state.inModal)\r\n            return true;\r\n\r\n        if (this.state.menuHolderRef.current && this.state.menuHolderRef.current.isInMenu())\r\n            return true;\r\n        return false;\r\n    }\r\n\r\n    showModal = (modal, callback) => {\r\n        console.log(\"EditorContext showModal\");\r\n        this.setState({inModal: true});\r\n        this.state.editor.showModal(modal, callback);\r\n    }\r\n\r\n    hideModal = (callback) => {\r\n        console.log(\"EditorContext hideModal\");\r\n        this.setState({inModal: false});\r\n        this.state.editor.hideModal(callback);\r\n    }\r\n\r\n    setWebsite = (website) => {\r\n        console.log(\"EditorContext setWebsite\");\r\n        this.setState({website});\r\n    }\r\n\r\n    getThemeColorClass = (color) => {\r\n        if (!color.paletteName || !color.key)\r\n            return '';\r\n\r\n        let name = color.paletteName.replaceAll(' ', '_');\r\n        return `Color_${name}_${color.key}`;\r\n    }\r\n\r\n    getThemeBackColorClass = (color) => {\r\n        if (!color.paletteName || !color.key)\r\n            return '';\r\n\r\n        let name = color.paletteName.replaceAll(' ', '_');\r\n        return `BackColor_${name}_${color.key}`;\r\n    }\r\n\r\n    getTheme = (category, name) => {\r\n        if (name)\r\n            return Object.values(this.state.siteData.theme[category].items).find(t => {\r\n                return t.name === name;\r\n            })\r\n\r\n        return Object.values(this.state.siteData.theme[category].items);\r\n    }\r\n\r\n    getColor = (paletteName, key) => {\r\n        let {siteData} = this.state;\r\n\r\n        let theme = siteData.theme;\r\n\r\n        this.calculateTheme(false);\r\n\r\n        return theme.Colors.items[paletteName][key];\r\n    };\r\n\r\n    calculateTheme = (force = true) => {\r\n        let {siteData} = this.state;\r\n\r\n        let theme = siteData.theme;\r\n\r\n        if (!theme.Colors.calculated) {\r\n            Object.values(theme.Colors.items).forEach(item => {\r\n                let scheme = getColorScheme(item.main);\r\n                colorKeys.forEach(key => {\r\n                    if (force || !item[key])\r\n                        item[key] = scheme[key];\r\n                })\r\n            });\r\n\r\n            theme.Colors.calculated = true;\r\n\r\n            this.calculateColorCSS();\r\n        }\r\n    };\r\n\r\n    calculateColorCSS = (doc) => {\r\n        let {siteData} = this.state;\r\n        let theme = siteData.theme;\r\n        let colorsCSS = [];\r\n        Object.values(theme.Colors.items).forEach(item => {\r\n            colorKeys.forEach(key => {\r\n                let id = this.getThemeColorClass({\r\n                    paletteName: item.name,\r\n                    key: key\r\n                });\r\n                let backColor = this.getThemeBackColorClass({\r\n                    paletteName: item.name,\r\n                    key: key\r\n                });\r\n\r\n                let cssText = `\r\n                    .${id} {\r\n                        color: ${item[key]}\r\n                    }\r\n                    \r\n                    .${backColor} {\r\n                        background-color: ${item[key]}\r\n                    }\r\n                    `;\r\n\r\n                colorsCSS.push({cssText, id});\r\n                addCSS(cssText, id, doc);\r\n            })\r\n        });\r\n    }\r\n\r\n    setProduction = (callback) => {\r\n        console.log(\"EditorContext setProduction\");\r\n        this.setState({production:true, preview:true}, callback);\r\n    }\r\n\r\n    postMessageToHolder = (data, callback) => {\r\n        this.state.editor.postMessage(data, callback);\r\n    }\r\n\r\n    sendEditCommand = (callback) => {\r\n        this.state.editor.postMessage({\r\n            type: \"Holder\",\r\n            func: \"onEditMode\",\r\n            inputs: []\r\n        });\r\n        this.setPreview(false, callback);\r\n    }\r\n\r\n    sendPublishCommand = () => {\r\n        this.sendEditCommand(() => {\r\n            this.state.editor.postMessage({\r\n                type: \"Holder\",\r\n                func: \"onPublishClick\",\r\n                inputs: []\r\n            });\r\n        });\r\n    }\r\n\r\n    isEditor = () => {\r\n        return !this.state.preview && !this.state.production;\r\n    }\r\n\r\n    setPreview = (preview, callback) => {\r\n        let pageData = this.state.pageData;\r\n        this.setPageData(undefined, false, () => {\r\n            this.state.editor.idMan.clear();\r\n            this.state.editor.snap.clearSnaps();\r\n            console.log(\"EditorContext setPreview\");\r\n            this.setState({preview}, () => {\r\n                this.setPageData(pageData.props.pageId, false, callback);\r\n            });\r\n        });\r\n    }\r\n\r\n    update = (callback) => {\r\n        console.log(\"EditorContext update\");\r\n        this.setState({reload: true}, callback);\r\n    };\r\n\r\n    initContext = (state, callback) => {\r\n        console.log(\"EditorContext initContext\");\r\n        this.setState(state, callback);\r\n    };\r\n\r\n    getInnerWidth = () => {\r\n        return window.innerWidth - this.state.inspectorPinned ? this.state.inspectorWidth : 0;\r\n    };\r\n\r\n    setZoomScale = (zoomScale, callback) => {\r\n        console.log(\"EditorContext setZoomScale\");\r\n        this.setState({zoomScale}, callback);\r\n    };\r\n\r\n    setSiteData = (siteData, callback) => {\r\n        console.log(\"EditorContext setSiteData\");\r\n        this.setState({siteData}, () => {\r\n            this.postSiteData();\r\n            resolveDefaultMenu(siteData);\r\n            callback && callback();\r\n        });\r\n    };\r\n\r\n    postSiteData = () => {\r\n        this.calculateColorCSS();\r\n    }\r\n\r\n    redirect = (pageId, force, callback) => {\r\n        let pageData = this.state.siteData.allPages[pageId];\r\n        if (!pageData) pageData = getHomePage(this.state.pageData);\r\n        console.log(\"redirect000 \");\r\n\r\n        this.state.editor.redirect(`/${pageData.props.pageName.toLowerCase()}`, undefined, callback);\r\n    }\r\n\r\n    setPageData = (pageId, force, callback) => {\r\n        if (this.state.pageData && !force && this.state.pageData.props.pageId === pageId) {\r\n            callback && callback();\r\n            return;\r\n        }\r\n\r\n        if (!pageId) {\r\n            this.setState({pageData: undefined}, callback);\r\n            return;\r\n        }\r\n\r\n        if (!this.state.pageData) {\r\n            let pageData = this.state.siteData.allPages[pageId];\r\n\r\n            if (!pageData.breakpoints) {\r\n                pageData.breakpoints = BreakPointManager.getDefault();\r\n            }\r\n\r\n            this.state.editor.setBreakpoints(pageData.breakpoints);\r\n            this.setState({pageData}, callback);\r\n            return;\r\n        }\r\n\r\n        if (!this.state.preview) {\r\n            let todo = () => {\r\n                this.state.editor.idMan.clear();\r\n                this.state.editor.snap.clearSnaps();\r\n\r\n                this.state.setPageData(undefined, false , () => {\r\n                    let pageData = this.state.siteData.allPages[pageId];\r\n\r\n                    if (!pageData.breakpoints) {\r\n                        pageData.breakpoints = BreakPointManager.getDefault();\r\n                    }\r\n\r\n                    this.state.editor.setBreakpoints(pageData.breakpoints);\r\n                    this.setState({pageData}, callback);\r\n                });\r\n            }\r\n            if (this.state.editor.rootLayoutRef.current) {\r\n                this.state.editor.rootLayoutRef.current.onSelect(true, todo);\r\n            } else {\r\n                todo();\r\n            }\r\n        }\r\n        else\r\n        {\r\n            this.state.editor.idMan.clear();\r\n            this.state.editor.snap.clearSnaps();\r\n\r\n            this.state.setPageData(undefined, false , () => {\r\n                let pageData = this.state.siteData.allPages[pageId];\r\n\r\n                if (!pageData.breakpoints) {\r\n                    pageData.breakpoints = BreakPointManager.getDefault();\r\n                }\r\n\r\n                this.state.editor.setBreakpoints(pageData.breakpoints);\r\n                this.setState({pageData}, callback);\r\n            });\r\n        }\r\n    };\r\n\r\n    onNewBpAdded = (newBpData, prevBpData) => {\r\n        if (!prevBpData){\r\n            this.update();\r\n            return;\r\n        }\r\n\r\n        let changeGriddata = (item, childData) => {\r\n            if (!item || !item.mounted)\r\n                return;\r\n\r\n            let bpData = childData.props.griddata.bpData;\r\n            bpData[newBpData.name] = bpData[prevBpData.name];\r\n            delete bpData[prevBpData.name];\r\n\r\n            Object.keys(item.getFromTempData(\"savedChildren\")).map(childId => {\r\n                let childData = item.getFromTempData(\"savedChildren\")[childId];\r\n                changeGriddata(\r\n                    item.allChildRefs[childId].current,\r\n                    childData\r\n                );\r\n            })\r\n        };\r\n\r\n        let pageChildData = {\r\n            tagName: this.state.editor.rootLayoutRef.current.props.tagName,\r\n            props: this.state.editor.rootLayoutRef.current.getClearProps({...this.state.editor.rootLayoutRef.current.props}),\r\n            zIndex: 0\r\n        };\r\n\r\n        changeGriddata(this.state.editor.rootLayoutRef.current, pageChildData);\r\n\r\n        this.update();\r\n    }\r\n\r\n    setInspectorPinned = (inspectorPinned, callback) => {\r\n        console.log(\"EditorContext setInspectorPinned\");\r\n        this.setState({inspectorPinned}, callback);\r\n    };\r\n\r\n    setInspectorWidth = (inspectorWidth, callback) => {\r\n        console.log(\"EditorContext setInspectorWidth\");\r\n        this.setState({inspectorWidth}, callback);\r\n    };\r\n\r\n    setDevicePixelRatio = (devicePixelRatio, callback) => {\r\n        console.log(\"EditorContext setDevicePixelRatio\");\r\n        this.setState({devicePixelRatio}, callback);\r\n    };\r\n\r\n    setAllComponentData = (allComponentData, callback) => {\r\n        console.log(\"EditorContext setAllComponentData\");\r\n        this.setState({allComponentData}, callback);\r\n    };\r\n\r\n    toggleRightMenu = (menuName, state) => {\r\n        let {rightMenus} = this.state;\r\n\r\n        if (!state)\r\n            state = !rightMenus[menuName].state;\r\n\r\n        if (state === rightMenus[menuName].state)\r\n            return;\r\n\r\n        for(let props in rightMenus) {\r\n            if (rightMenus[props].state) {\r\n                rightMenus[props].state = false;\r\n                rightMenus[props].toggle(true);\r\n            }\r\n        }\r\n\r\n        rightMenus[menuName].state = rightMenus[menuName].toggle(false, state);\r\n\r\n        console.log(\"EditorContext toggleRightMenu\");\r\n        this.setState({rightMenus: {...rightMenus}});\r\n    };\r\n\r\n    setPageSizeWidth = (width) => {\r\n        this.state.editor.rootLayoutRef.current.setPageSizeWidth(width);\r\n        this.state.editor.breakpointmanager.setWindowWidth(width);\r\n        console.log(\"EditorContext setPageSizeWidth\");\r\n        this.setState({pageSize: width});\r\n    };\r\n\r\n    setPageSize = (pageSize) => {\r\n        console.log(\"EditorContext setPageSize\");\r\n        this.setState({pageSize});\r\n    };\r\n\r\n    setRightMenus = (rightMenus, callback) => {\r\n        console.log(\"EditorContext setRightMenus\");\r\n        this.setState({rightMenus}, callback);\r\n    };\r\n\r\n    showLinkGenerator = (linkData, onDone) => {\r\n        this.state.editor.showLinkGenerator(linkData, onDone);\r\n    }\r\n\r\n    showFileManager = (options, onDone) => {\r\n        this.state.editor.showFileManager(options, onDone);\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <EditorContext.Provider value={this.state}>\r\n                {this.props.children}\r\n            </EditorContext.Provider>\r\n        )\r\n    }\r\n}\r\n","import {cloneObject} from \"./AwesomeGridLayoutUtils\";\r\n\r\nexport default class DragDropManager {\r\n    setDragging = (item) => {\r\n        this.draggingItem = item;\r\n    };\r\n\r\n    getDragging = () => {\r\n        return this.draggingItem;\r\n    };\r\n\r\n    isDraggingItemFixed = () => {\r\n        if (!this.draggingItem)\r\n            return false;\r\n        return this.draggingItem.state.portalNodeId === \"page_fixed_holder\";\r\n    };\r\n\r\n    // return true if dropping on another parent\r\n    setDraggingStop = () => {\r\n        if (this.draggingItem && this.mouseOver &&\r\n            this.draggingItem.props.parent !== this.mouseOver &&\r\n            !this.mouseOver.getParentsId().includes(this.draggingItem.props.id) &&\r\n            !this.isDraggingItemFixed())\r\n        {\r\n            // this.mouseOver.prepareRects();\r\n            let newParent = this.mouseOver.getContainerParent();\r\n            newParent.prepareRects(true, true);\r\n            newParent.toggleGridLines(true, () => {}, \"B\");\r\n\r\n            if (this.draggingItem.props.parent !== newParent) {\r\n                this.dropItem(this.draggingItem, this.draggingItem.props.parent, newParent);\r\n\r\n                this.draggingItem = undefined;\r\n                return true;\r\n            } else {\r\n                this.draggingItem = undefined;\r\n                return false;\r\n            }\r\n        }\r\n\r\n        this.draggingItem = undefined;\r\n        return false;\r\n    };\r\n\r\n    dropItem = (item, parent, newParent, callback, fromUndoRedo, undoPower) => {\r\n        item.toggleHelpLines();\r\n        parent.onChildLeave(item);\r\n\r\n        let drop = () => {\r\n            newParent.onChildDrop(item, undefined, undefined, (newItem) => {\r\n                if (callback)\r\n                    callback(newItem);\r\n\r\n                if (!fromUndoRedo) {\r\n                    let itemId = item.props.id;\r\n                    let firstRelativeX =\r\n                        (item.dragData? item.dragData.firstPos.left : newItem.getSize(false).left)\r\n                        - parent.getSize(false).left;\r\n                    let firstRelativeY =\r\n                        (item.dragData? item.dragData.firstPos.top : newItem.getSize(false).top)\r\n                        - parent.getSize(false).top;\r\n                    let parentRect = cloneObject(parent.getSize(false));\r\n                    let lastRelativeX = newItem.getSize(false).left - newParent.getSize(false).left;\r\n                    let lastRelativeY = newItem.getSize(false).top - newParent.getSize(false).top;\r\n                    let newParentRect = cloneObject(newParent.getSize(false));\r\n                    let width = newItem.getSize(false).width;\r\n                    let height = newItem.getSize(false).height;\r\n\r\n                    let parentId = parent.props.id;\r\n                    let newParentId = newParent.props.id;\r\n                    item.props.undoredo.add((idMan) => {\r\n                        idMan.getItem(itemId).onSelect(true);\r\n                        this.setMouseOver(idMan.getItem(newParentId));\r\n                        this.dropItem(idMan.getItem(itemId), idMan.getItem(parentId), idMan.getItem(newParentId),\r\n                            (newItem) => {\r\n                                setTimeout(() => {\r\n                                    idMan.getItem(itemId).setPosition(false, lastRelativeX, lastRelativeY, undefined, undefined,\r\n                                        width, height, newParentRect, true);\r\n                                }, 0);\r\n                            }, true);\r\n                    }, (idMan) => {\r\n                        idMan.getItem(itemId).onSelect(true);\r\n                        this.setMouseOver(idMan.getItem(parentId));\r\n                        this.dropItem(idMan.getItem(itemId), idMan.getItem(newParentId), idMan.getItem(parentId),\r\n                            (newItem) => {\r\n                                setTimeout(() => {\r\n                                    idMan.getItem(itemId).setPosition(false, firstRelativeX, firstRelativeY, undefined, undefined,\r\n                                        width, height, parentRect, true);\r\n                                }, 0);\r\n                            }, true);\r\n                    }, undoPower);\r\n                }\r\n            });\r\n        };\r\n        if (item.props.dragdrop.mouseOver === newParent &&\r\n            item.props.gridLine.hasGridLine(newParent.props.id)) {\r\n            drop();\r\n        } else {\r\n            item.props.dragdrop.setMouseOver(newParent, undefined, drop);\r\n        }\r\n    };\r\n\r\n    removeMouseOver = () => {\r\n        delete this.mouseOver;\r\n    };\r\n\r\n    setMouseOver = (item, positionData, callback) => {\r\n        if (this.isDraggingItemFixed())\r\n            return;\r\n\r\n        if (this.mouseOver) {\r\n            if (!this.mouseOver.getFromTempData(\"selected\")) {\r\n                if (this.mouseOver !== item)\r\n                    this.mouseOver.toggleGridLines(false);\r\n            }\r\n        }\r\n\r\n        this.mouseOver = item;\r\n\r\n        if(this.draggingItem)\r\n            this.draggingItem.toggleHelpLines();\r\n\r\n        item.toggleGridLines(true, () => {\r\n            if(this.draggingItem)\r\n                this.draggingItem.toggleHelpLines(item);\r\n            if (callback)\r\n                callback(this.draggingItem, this.mouseOver);\r\n        }, \"B\");\r\n    };\r\n\r\n    setMouseOverForNonDragging = (item) => {\r\n        this.mouseOverNonDragging = item;\r\n    };\r\n\r\n    getMouseOverForNonDragging = () => {\r\n        return this.mouseOverNonDragging;\r\n    };\r\n}\r\n","import React from \"react\";\r\nimport {shallowEqual} from \"./AwesomeGridLayoutUtils\";\r\nimport './GridChildDraggable.css';\r\n\r\nexport default class GridChildContainerChildren extends React.Component {\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        if (!shallowEqual(this.allChildId, Object.keys(nextProps.allChildren)) ||\r\n            !shallowEqual(JSON.stringify(this.allChildIndex),\r\n                JSON.stringify(Object.values(nextProps.allChildren).map(c => {\r\n                    return {\r\n                        z: c.zIndex,\r\n                        i: c.child.props.id\r\n                    }\r\n                })))\r\n        )\r\n            return true;\r\n        return false;\r\n    }\r\n\r\n    saveState = () => {\r\n        let {allChildren} = this.props;\r\n        this.allChildId = Object.keys(allChildren);\r\n        this.allChildIndex = Object.values(allChildren).map(c => {\r\n            return {\r\n                z: c.zIndex,\r\n                i: c.child.props.id\r\n            }\r\n        });\r\n    };\r\n\r\n    getSorted = (children) => {\r\n        return children.sort((a, b) => {\r\n            if (a.zIndex > b.zIndex)\r\n                return 1;\r\n            if (a.zIndex < b.zIndex)\r\n                return -1;\r\n\r\n            return 0;\r\n        })\r\n    };\r\n\r\n    getChildren = (allChildren, agl) => {\r\n        if (this.props.getChildrenOverride)\r\n            return this.props.getChildrenOverride(this.getSorted(Object.values(allChildren)), agl);\r\n\r\n        return this.getSorted(Object.values(allChildren)).map((child) => {\r\n            return child.child;\r\n        })\r\n    };\r\n\r\n    render () {\r\n        this.saveState();\r\n        let {allChildren, agl} = this.props;\r\n        return (\r\n            this.getChildren(allChildren, agl)\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\n\r\nexport default class InspectorBreadcrumbs extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    render () {\r\n        let {item} = this.props;\r\n        return (\r\n            <div\r\n                className=\"InspectorOptionRoot\"\r\n            >\r\n                <div\r\n                    className=\"InspectorBreadcrumbsParentsRoot\"\r\n                >\r\n                        {\r\n                            item.getParentsId().slice(0, 2).reverse().map(parentId => {\r\n                                let parent = item.props.idMan.getItem(parentId);\r\n                                return (\r\n                                    <ButtonBase\r\n                                        className={\"InspectorBreadcrumbsParentsButton\"}\r\n                                        onClick={(e) => {\r\n                                            parent.onSelect(true);\r\n                                        }}\r\n                                        key={parent.props.id}\r\n                                    >\r\n                                        {\r\n                                            parent.props.tagName + \" >\"\r\n                                        }\r\n                                    </ButtonBase>\r\n                                )\r\n                            })\r\n                        }\r\n                </div>\r\n\r\n                <span\r\n                    className=\"InspectorBreadcrumbsTagName\"\r\n                >\r\n                    {item.props.tagName}\r\n                </span>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\n\r\nexport default class IconButton extends React.Component {\r\n    render () {\r\n        let selectStyle = {};\r\n        if (this.props.selected) {\r\n            selectStyle.backgroundColor = this.props.selectedColor || \"#8ae8f6\"\r\n        }\r\n\r\n        let buttonProps = Object.assign({}, this.props);\r\n        delete buttonProps.buttonBaseStyle;\r\n        delete buttonProps.imageContainerStyle;\r\n        delete buttonProps.icon;\r\n\r\n        return (\r\n            <ButtonBase\r\n                aria-label={this.props[\"aria-label\"] || \"aria-label\"}\r\n                style={{...{\r\n                    marginLeft: 4,\r\n                    borderRadius: 4,\r\n                    boxSizing: \"border-box\",\r\n                    ...selectStyle\r\n                }, ...this.props.buttonBaseStyle}}\r\n                ref={this.props.rootRef}\r\n                {...buttonProps}\r\n            >\r\n                <div style={{...{\r\n                    display: \"flex\",\r\n                    justifyContent: \"center\",\r\n                    alignItems: \"center\",\r\n                    padding: 6,\r\n                }, ...this.props.imageContainerStyle}}>\r\n                    {\r\n                        this.props.icon\r\n                    }\r\n                    {\r\n                        this.props.children\r\n                    }\r\n                </div>\r\n            </ButtonBase>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport {alignItem} from \"../../AwesomwGridLayoutHelper\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\n\r\nexport default class InspectorAligns extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    getButtonsData = () => {\r\n        return [\r\n            {\r\n                name: \"Align to left\",\r\n                horizontal: \"start\",\r\n                img: <img\r\n                    draggable={false}\r\n                    width={16}\r\n                    height={16}\r\n                    src={require('../../icons/align-left.svg')}\r\n                />\r\n            },\r\n            {\r\n                name: \"Align to center\",\r\n                horizontal: \"center\",\r\n                img: <img\r\n                    draggable={false}\r\n                    width={16}\r\n                    height={16}\r\n                    src={require('../../icons/align-center.svg')}\r\n                />\r\n            },\r\n            {\r\n                name: \"Align to right\",\r\n                horizontal: \"end\",\r\n                img: <img\r\n                    draggable={false}\r\n                    width={16}\r\n                    height={16}\r\n                    src={require('../../icons/align-right.svg')}\r\n                />\r\n            },\r\n            {\r\n                name: \"Align to top\",\r\n                vertical: \"start\",\r\n                img: <img\r\n                    draggable={false}\r\n                    width={16}\r\n                    height={16}\r\n                    src={require('../../icons/align-top.svg')}\r\n                />\r\n            },\r\n            {\r\n                name: \"Align to middle\",\r\n                vertical: \"center\",\r\n                img: <img\r\n                    draggable={false}\r\n                    width={16}\r\n                    height={16}\r\n                    src={require('../../icons/align-middle.svg')}\r\n                />\r\n            },\r\n            {\r\n                name: \"Align to bottom\",\r\n                vertical: \"end\",\r\n                img: <img\r\n                    draggable={false}\r\n                    width={16}\r\n                    height={16}\r\n                    src={require('../../icons/align-bottom.svg')}\r\n                />\r\n            },\r\n        ]\r\n    };\r\n\r\n    render () {\r\n        let {item} = this.props;\r\n        return (\r\n            <div className=\"InspectorOptionRoot\">\r\n                <span className=\"InspectorOptionTextTitle\">\r\n                    Alignment\r\n                </span>\r\n                <div\r\n                    className=\"InspectorAlignsRoot\"\r\n                >\r\n                    {\r\n                        this.getButtonsData().map((data, i) => {\r\n                            return (\r\n                                <IconButton\r\n                                    key={data.name}\r\n                                    buttonBaseStyle={{\r\n                                        marginLeft: 0,\r\n                                    }}\r\n                                    imageContainerStyle={{\r\n                                        padding: 6\r\n                                    }}\r\n                                    onClick={(e) => {\r\n                                        alignItem(item, data.vertical, data.horizontal)\r\n                                    }}\r\n                                    className=\"InspectorAlignsButtons\"\r\n                                >\r\n                                    {data.img}\r\n                                </IconButton>\r\n                            )\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './AwesomwGridLayoutHelper.css';\r\nimport {cloneObject} from \"./AwesomeGridLayoutUtils\";\r\nimport merge from 'lodash.merge';\r\nimport {v4 as uuidv4} from 'uuid';\r\nimport Stack from \"./Components/Stack/Stack\";\r\nimport DynamicComponents from \"./Dynamic/DynamicComponents\";\r\nimport {getCompositeFromData, getFromData, setData} from \"./BreakPointManager\";\r\nimport ContextMenu from \"./Test/ContextMenu\";\r\nimport chroma from \"chroma-js\";\r\nimport Stack2 from \"./Components/Stack/Stack2\";\r\n\r\nlet deepEqual = require('fast-deep-equal/es6');\r\n\r\nexport function stretch(item, fromUndoRedo) {\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        let saveGridItemStyle = cloneObject(item.getFromData(\"gridItemStyle\"));\r\n        let saveStyle = cloneObject(item.getFromData(\"style\"));\r\n        item.props.undoredo.add((idMan) => {\r\n            stretch(idMan.getItem(itemId), true);\r\n        }, (idMan) => {\r\n            idMan.getItem(itemId).setGridItemStyle(saveGridItemStyle);\r\n            idMan.getItem(itemId).setStyle(saveStyle);\r\n            idMan.getItem(itemId).props.select.onScrollItem();\r\n        });\r\n    }\r\n\r\n    if (item.hasOverride(\"stretch\")) {\r\n        item.callOverride(\"stretch\", item);\r\n        return;\r\n    }\r\n\r\n    if (!item.props.parent)\r\n        return;\r\n\r\n    let beStretch = false;\r\n    let gridItemStyle = item.getFromData(\"gridItemStyle\");\r\n\r\n    if (!isStretch(item))\r\n        beStretch = true;\r\n\r\n    item.setDocks(beStretch, beStretch, false, beStretch, item.getFromTempData(\"autoDock\"), undefined, true);\r\n\r\n    gridItemStyle.alignSelf = beStretch? \"start\": \"start\";\r\n    gridItemStyle.justifySelf = beStretch? \"stretch\": \"center\";\r\n    gridItemStyle.marginTop = \"0px\";\r\n    gridItemStyle.marginLeft = \"0px\";\r\n    gridItemStyle.marginRight = \"0px\";\r\n    gridItemStyle.marginBottom = \"0px\";\r\n    item.setStyleParam(\"width\", \"auto\");\r\n    item.setStyleParam(\"height\", \"100%\");\r\n    item.setStyleParam(\"minHeight\", \"unset\");\r\n\r\n    if (!beStretch) {\r\n        let parentRect = item.props.parent.getSize();\r\n        gridItemStyle.marginTop = `${(parentRect.height - 0.8 * parentRect.height) / 2}px`;\r\n\r\n        item.setStyleParam(\"width\", \"80%\");\r\n        item.setStyleParam(\"height\", \"auto\");\r\n        item.setStyleParam(\"minHeight\", `${0.8 * parentRect.height}px`);\r\n    }\r\n\r\n    item.setGridItemStyle(gridItemStyle);\r\n    item.props.select.onScrollItem();\r\n}\r\n\r\nexport function getFromTempData(item, prop) {\r\n    let dataToRead = item.props.griddata;\r\n    return dataToRead[prop];\r\n}\r\n\r\nexport function isStretch(item, log) {\r\n    if (item.hasOverride(\"isStretch\")) {\r\n        return item.callOverride(\"isStretch\", item, log);\r\n    }\r\n\r\n    if (!item.props.parent)\r\n        return false;\r\n\r\n    let gridItemStyle = item.getFromData(\"gridItemStyle\");\r\n\r\n    return !(gridItemStyle.alignSelf !== \"start\" || gridItemStyle.justifySelf !== \"stretch\" ||\r\n        gridItemStyle.marginTop !== \"0px\" || gridItemStyle.marginLeft !== \"0px\" ||\r\n        gridItemStyle.marginRight !== \"0px\" || gridItemStyle.marginBottom !== \"0px\");\r\n}\r\n\r\nexport function allowStretch(item) {\r\n    if (!item.props.parent)\r\n        return false;\r\n\r\n    if (item.props.as === \"section\" || item.props.as === \"header\" || item.props.as === \"footer\")\r\n        return false;\r\n\r\n    return !item.props.disableStretch;\r\n}\r\n\r\nexport function alignItem(item, vertical, horizontal, fromUndoRedo) {\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        let saveGridItemStyle = cloneObject(item.getFromData(\"gridItemStyle\"));\r\n        item.props.undoredo.add((idMan) => {\r\n            alignItem(idMan.getItem(itemId), vertical, horizontal, true);\r\n        }, (idMan) => {\r\n            idMan.getItem(itemId).setGridItemStyle(saveGridItemStyle);\r\n            idMan.getItem(itemId).props.select.onScrollItem();\r\n        });\r\n    }\r\n\r\n    if (!item.props.parent)\r\n        return;\r\n\r\n    let gridItemStyle = item.getFromData(\"gridItemStyle\");\r\n\r\n    if (vertical) {\r\n        gridItemStyle.alignSelf = vertical;\r\n        gridItemStyle.marginTop = \"0px\";\r\n        gridItemStyle.marginBottom = \"0px\";\r\n    }\r\n    if (horizontal) {\r\n        gridItemStyle.justifySelf = horizontal;\r\n        gridItemStyle.marginLeft = \"0px\";\r\n        gridItemStyle.marginRight = \"0px\";\r\n    }\r\n\r\n    let baseDocks = item.getBaseDocks();\r\n    item.setDocks(\r\n        baseDocks.top, baseDocks.left, baseDocks.bottom, baseDocks.right,\r\n        item.getFromTempData(\"autoDock\"), undefined, true\r\n    );\r\n\r\n    item.setGridItemStyle(gridItemStyle);\r\n    item.props.select.onScrollItem();\r\n}\r\n\r\nexport function setScrollBehaviour(item, behaviour, pageAgl, fromUndoRedo, {offsetTop} = {}) {\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        let pageId = pageAgl.props.id;\r\n        let oldBehaviour = item.getFromData(\"isFixed\")? \"fixed\": item.getFromData(\"scrollBehaviour\") || \"none\";\r\n        let oldOffsetTop = item.getFromData(\"scrollStickyOffsetTop\");\r\n        item.props.undoredo.add((idMan) => {\r\n            setScrollBehaviour(idMan.getItem(itemId), behaviour, idMan.getItem(pageId), true, {offsetTop});\r\n        }, (idMan) => {\r\n            setScrollBehaviour(idMan.getItem(itemId), oldBehaviour, idMan.getItem(pageId), true,\r\n                {offsetTop: oldOffsetTop});\r\n        });\r\n    }\r\n\r\n    if (!item.props.parent)\r\n        return;\r\n\r\n    let oldIsFixed = item.getFromTempData(\"isFixed\");\r\n\r\n    let lastSectionId = item.getFromTempData(\"lastSectionId\");\r\n    if (oldIsFixed && behaviour !== \"fixed\" && lastSectionId) {\r\n        item.props.parent.onChildLeave(item);\r\n        let itemRect = item.getSize(false);\r\n        let sectionParent = item.props.viewRef.current\r\n            .props.aglComponent.getSectionOfPoint(itemRect.left, itemRect.top);\r\n\r\n        sectionParent.onSelect(true, undefined, undefined, undefined, true);\r\n        sectionParent.prepareRects();\r\n        sectionParent.onChildDrop(item, undefined, false, (newItem) => {\r\n            newItem.setState({portalNodeId: undefined});\r\n            window.requestAnimationFrame(() => {\r\n                newItem.onSelect(true);\r\n            });\r\n        });\r\n    }\r\n\r\n    item.setTempData(\"isFixed\", behaviour === \"fixed\");\r\n    item.setDataInBreakpoint(\"scrollBehaviour\", behaviour);\r\n    item.setDataInBreakpoint(\"scrollStickyOffsetTop\", offsetTop);\r\n\r\n    switch (behaviour) {\r\n        case \"none\":\r\n            item.setStyleParam(\"position\", undefined);\r\n            item.setStyleParam(\"top\", undefined);\r\n            item.setStyleParam(\"pointerEvents\", undefined);\r\n            break;\r\n        case \"sticky\":\r\n            item.setStyleParam(\"position\", \"sticky\");\r\n            item.setStyleParam(\"top\", offsetTop || 0);\r\n            item.setStyleParam(\"pointerEvents\", undefined);\r\n            break;\r\n        case \"fixed\":\r\n            if (!oldIsFixed) {\r\n                addFixedChildToRoot(item, pageAgl);\r\n            }\r\n            break;\r\n    }\r\n}\r\n\r\nfunction addFixedChildToRoot(item, pageAgl) {\r\n    let oldParentRect = item.props.parent.getSize(false);\r\n    item.toggleHelpLines();\r\n    item.setTempData(\"lastSectionId\", item.props.parent.props.id);\r\n    item.props.parent.onChildLeave(item);\r\n    pageAgl.onSelect(true, undefined, undefined, undefined, true);\r\n    let pageRect = pageAgl.prepareRects();\r\n    let itemRect = item.getSize(false);\r\n\r\n    pageAgl.onChildDrop(item, undefined, true, (newItem) => {\r\n        window.requestAnimationFrame(() => {\r\n            newItem.onSelect(true);\r\n        });\r\n    });\r\n\r\n    let gridItemStyle = item.getFromData(\"gridItemStyle\");\r\n    gridItemStyle.gridArea = \"1/1/2/2\";\r\n\r\n    item.setGridItemStyle(gridItemStyle);\r\n\r\n    let style = item.getCompositeFromData(\"style\");\r\n\r\n    let newWidth = itemRect.width *  oldParentRect.width / pageRect.width;\r\n    item.setStyleParam(\"width\", getStyleValueFromPx(newWidth, oldParentRect.width,\r\n        getUnitFromStyleValue(style.width), item));\r\n    item.setStyleParam(\"height\", getStyleValueFromPx(itemRect.height, oldParentRect.height,\r\n        getUnitFromStyleValue(style.height), item));\r\n    item.setStyleParam(\"position\", undefined);\r\n    item.setStyleParam(\"top\", undefined);\r\n    item.setStyleParam(\"pointerEvents\", \"auto\");\r\n}\r\n\r\nexport function isFixed(item) {\r\n    return item.getFromTempData(\"isFixed\");\r\n}\r\n\r\nexport function hideInBreakPoint(item, fromUndoRedo) {\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            hideInBreakPoint(idMan.getItem(itemId), true);\r\n        }, (idMan) => {\r\n            showInBreakPoint(idMan.getItem(itemId), true);\r\n        });\r\n    }\r\n    item.setStyleParam(\"display\", \"none !important\");\r\n    item.props.viewRef.current.props.aglComponent.updateTemplates();\r\n    item.props.select.onScrollItem();\r\n    item.props.editor.updateLayout();\r\n}\r\n\r\nexport function isHideInBreakPoint(item, fromUndoRedo) {\r\n    return item.getCompositeFromData(\"style\").display === \"none !important\";\r\n}\r\n\r\nexport function showInBreakPoint(item, fromUndoRedo) {\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            showInBreakPoint(idMan.getItem(itemId), true);\r\n        }, (idMan) => {\r\n            hideInBreakPoint(idMan.getItem(itemId), true);\r\n        });\r\n    }\r\n    item.setStyleParam(\"display\", undefined);\r\n    let newStyle = item.getFromData(\"style\");\r\n    if (newStyle && Object.keys(newStyle).length === 0) {\r\n        item.setDataInBreakpoint(\"style\", undefined);\r\n    }\r\n    item.props.viewRef.current.props.aglComponent.updateTemplates();\r\n    item.props.editor.updateLayout();\r\n}\r\n\r\nexport function getFromComponentData(item, prop, breakpointName) {\r\n    return item.props.breakpointmanager\r\n        .getFromData(item.props.griddata, prop, breakpointName)\r\n};\r\n\r\nexport function hasBreakpointDesign(fromName, item) {\r\n    let fromData = item.props.griddata.bpData[fromName];\r\n    return !(fromData === undefined);\r\n}\r\n\r\nexport function pasteFromBreakpointDesign(item, fromName, toName, fromUndoRedo) {\r\n    let fromData = item.props.griddata.bpData[fromName].design;\r\n    if (fromData === undefined)\r\n        return;\r\n\r\n    if (!toName)\r\n        toName = item.props.breakpointmanager.current();\r\n\r\n    if (!item.props.griddata.bpData[toName])\r\n        item.props.griddata.bpData[toName] = {};\r\n\r\n    let currentData = item.props.griddata.bpData[toName].design;\r\n\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        let oldData = cloneObject(currentData);\r\n        item.props.undoredo.add((idMan) => {\r\n            pasteFromBreakpointDesign(idMan.getItem(itemId), fromName, toName, true);\r\n        }, (idMan) => {\r\n            idMan.getItem(itemId).props.griddata.bpData[toName].design = oldData;\r\n            idMan.getItem(itemId).onBreakpointChange(\r\n                idMan.getItem(itemId).props.breakpointmanager.getWindowWidth(),\r\n                idMan.getItem(itemId).props.breakpointmanager.current());\r\n        });\r\n    }\r\n\r\n    if (!currentData)\r\n        currentData = {};\r\n    merge(currentData, fromData);\r\n    item.props.griddata.bpData[toName].design = currentData;\r\n\r\n    item.onBreakpointChange(\r\n        item.props.breakpointmanager.getWindowWidth(),\r\n        item.props.breakpointmanager.current());\r\n}\r\n\r\nexport function deepAssign(fromData, currentData) {\r\n    Object.keys(fromData).map(key => {\r\n        let currentValue = currentData[key];\r\n        let fromValue = fromData[key];\r\n        if (currentValue === undefined) {\r\n            currentData[key] = cloneObject(fromValue);\r\n        } else {\r\n            if (fromValue instanceof Object) {\r\n                if (!currentValue)\r\n                    currentData[key] = {};\r\n                deepAssign(fromValue, currentValue)\r\n            } else {\r\n                currentData[key] = cloneObject(fromValue);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nexport function removeOverrides(item, fromName, fromUndoRedo) {\r\n    if (!fromName)\r\n        fromName = item.props.breakpointmanager.current();\r\n\r\n    if (fromName === \"laptop\")\r\n        return;\r\n\r\n    if (!item.props.griddata.bpData[fromName])\r\n        return;\r\n\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        let oldData = cloneObject(item.props.griddata.bpData[fromName] || {});\r\n        item.props.undoredo.add((idMan) => {\r\n            removeOverrides(idMan.getItem(itemId), fromName, true);\r\n        }, (idMan) => {\r\n            idMan.getItem(itemId).props.griddata.bpData[fromName] = oldData;\r\n            idMan.getItem(itemId).onBreakpointChange(\r\n                idMan.getItem(itemId).props.breakpointmanager.getWindowWidth(),\r\n                idMan.getItem(itemId).props.breakpointmanager.current());\r\n        });\r\n    }\r\n\r\n    item.props.griddata.bpData[fromName] = {};\r\n\r\n    item.onBreakpointChange(\r\n        item.props.breakpointmanager.getWindowWidth(),\r\n        item.props.breakpointmanager.current());\r\n}\r\n\r\nexport function applyOnAllBreakPoint(item, fromName, fromUndoRedo) {\r\n    if (!fromName)\r\n        fromName = item.props.breakpointmanager.current();\r\n\r\n    if (!item.props.griddata.bpData[fromName])\r\n        return;\r\n\r\n    let fromData = item.props.griddata.bpData[fromName];\r\n\r\n    let undoData = {};\r\n\r\n    let sortedBreakPoints = item.props.breakpointmanager.getSortedBreakPoints();\r\n    for(let i = 0; i < sortedBreakPoints.length; i++) {\r\n        let toName = sortedBreakPoints[i].name;\r\n        if (fromData !== toName) {\r\n            undoData[toName] = cloneObject(item.props.griddata.bpData[toName] || {});\r\n            item.props.griddata.bpData[toName] = cloneObject(fromData);\r\n        }\r\n    }\r\n\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            applyOnAllBreakPoint(idMan.getItem(itemId), fromName, true);\r\n        }, (idMan) => {\r\n            Object.keys(undoData).forEach(key => {\r\n                idMan.getItem(itemId).props.griddata.bpData[key] = undoData[key];\r\n            });\r\n\r\n            idMan.getItem(itemId).onBreakpointChange(\r\n                idMan.getItem(itemId).props.breakpointmanager.getWindowWidth(),\r\n                idMan.getItem(itemId).props.breakpointmanager.current());\r\n        });\r\n    }\r\n\r\n    item.onBreakpointChange(\r\n        item.props.breakpointmanager.getWindowWidth(),\r\n        item.props.breakpointmanager.current());\r\n}\r\n\r\nexport function copyDesign(item, fromAll) {\r\n    let currentBpName = item.props.breakpointmanager.current();\r\n\r\n    let designDatas = [];\r\n    if (!fromAll && item.props.griddata.bpData[currentBpName])\r\n        designDatas[0] = {\r\n            bpName: currentBpName,\r\n            design: item.props.griddata.bpData[currentBpName].design,\r\n            justOneBp: true\r\n        };\r\n    else if (fromAll) {\r\n        Object.keys(item.props.griddata.bpData).forEach((key, index) => {\r\n            designDatas[index] = {\r\n                bpName: key,\r\n                design: item.props.griddata.bpData[key].design\r\n            };\r\n        });\r\n    }\r\n\r\n    if (designDatas.length > 0)\r\n        item.props.breakpointmanager.copyDesign(designDatas, item);\r\n}\r\n\r\nexport function pasteDesign(item, fromUndoRedo) {\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        let copyDesign = cloneObject(item.props.breakpointmanager.getCopyDesign().designDatas);\r\n        let allOldDesign = cloneObject(Object.keys(item.props.griddata.bpData).map(key => {\r\n            return {\r\n                bpName: key,\r\n                design: item.props.griddata.bpData[key].design\r\n            }\r\n        }));\r\n        item.props.undoredo.add((idMan) => {\r\n            let item = idMan.getItem(itemId);\r\n            let temp = cloneObject(item.props.breakpointmanager.getCopyDesign().designDatas);\r\n            let sourceItemTemp = item.props.breakpointmanager.getCopyDesign().sourceItem;\r\n            item.props.breakpointmanager.cloneDesignDatas = {\r\n                designDatas: copyDesign,\r\n                sourceItem: item\r\n            };\r\n            item.props.breakpointmanager.pasteDesign(item);\r\n            item.props.breakpointmanager.cloneDesignDatas = {\r\n                designDatas: temp,\r\n                sourceItem: sourceItemTemp\r\n            };\r\n\r\n            item.onBreakpointChange(\r\n                item.props.breakpointmanager.getWindowWidth(),\r\n                item.props.breakpointmanager.current());\r\n\r\n            item.props.aglComponent.updateDesign &&\r\n                item.props.aglComponent.updateDesign(item.getCompositeFromData(\"design\"));\r\n\r\n            item.updateLayout();\r\n        }, (idMan) => {\r\n            let item = idMan.getItem(itemId);\r\n            allOldDesign.forEach(designData => {\r\n                item.props.griddata.bpData[designData.bpName].design = cloneObject(designData.design);\r\n            });\r\n\r\n            item.onBreakpointChange(\r\n                item.props.breakpointmanager.getWindowWidth(),\r\n                item.props.breakpointmanager.current());\r\n        });\r\n    }\r\n\r\n    item.props.breakpointmanager.pasteDesign(item);\r\n\r\n    item.onBreakpointChange(\r\n        item.props.breakpointmanager.getWindowWidth(),\r\n        item.props.breakpointmanager.current());\r\n\r\n    item.props.aglComponent.updateDesign &&\r\n        item.props.aglComponent.updateDesign(item.getCompositeFromData(\"design\"));\r\n\r\n    item.updateLayout();\r\n}\r\n\r\nexport function isGroupSelected(item) {\r\n    return item.props.select.group;\r\n}\r\n\r\nexport function getSectionId(item) {\r\n    let parent = item.props.parent;\r\n    while (parent && !parent.props.isSection) {\r\n        parent = parent.props.parent;\r\n    }\r\n\r\n    if (parent)\r\n        return parent.props.id;\r\n\r\n    return uuidv4();\r\n}\r\n\r\nexport function getSectionParent(item) {\r\n    let parent = item.props.parent;\r\n    while (parent && !parent.props.isSection) {\r\n        parent = parent.props.parent;\r\n    }\r\n\r\n    if (parent)\r\n        return parent;\r\n}\r\n\r\nexport function createStack(items, fromUndoRedo) {\r\n    if (!items || items.length < 2)\r\n        return;\r\n\r\n    let itemsParent = getSectionParent(items[0]);\r\n\r\n    if (!itemsParent)\r\n        return;\r\n\r\n    let top = 99999999;\r\n    let left = 99999999;\r\n    let rightFromLeft = 0;\r\n    let allSpacerData = [];\r\n    let lastBottom;\r\n\r\n    items.sort((a,b) => {\r\n        if (a && b){\r\n            let topA = a.getSize(false).top;\r\n            let topB = b.getSize(false).top;\r\n            if (topA < topB) {\r\n                return -1;\r\n            } else if (topA === topB) {\r\n                // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                return 0;\r\n            }\r\n            return 1;\r\n        } else {\r\n            return 0;\r\n        }\r\n    });\r\n\r\n    items.forEach((item) => {\r\n        let rect = item.getSize(false);\r\n        top = Math.min(rect.top, top);\r\n        left = Math.min(rect.left, left);\r\n        rightFromLeft = Math.max(rect.left + rect.width, rightFromLeft);\r\n\r\n        if (lastBottom) {\r\n            allSpacerData.push({\r\n                height: Math.max(0, rect.top - lastBottom)\r\n            });\r\n        }\r\n\r\n        lastBottom = rect.top + rect.height;\r\n    });\r\n\r\n    let stack;\r\n    let stackNode =\r\n        <Stack\r\n            style={{\r\n                width: `${rightFromLeft - left}px`,\r\n            }}\r\n            lateMountedComplete={(_stack) => {\r\n                stack = _stack;\r\n            }}\r\n            allSpacerData={allSpacerData}\r\n            document={items[0].props.document}\r\n        />;\r\n\r\n    let parentRect = itemsParent.prepareRects();\r\n    itemsParent.addChild(stackNode, undefined, undefined, undefined, (agl) => {\r\n        if (!fromUndoRedo) {\r\n            let stackId = agl.props.id;\r\n            let itemIds = items.map(item => {\r\n                return item.props.id;\r\n            });\r\n            agl.props.undoredo.add((idMan) => {\r\n                let newItems = itemIds.map(id => {\r\n                    return idMan.getItem(id);\r\n                });\r\n                newItems.forEach(item => {\r\n                    item.onSelect(true);\r\n                });\r\n                createStack(newItems, true);\r\n            }, (idMan) => {\r\n                removeStackFromAGL(idMan.getItem(stackId), undefined, true);\r\n            });\r\n        }\r\n\r\n        agl.onSelect(true);\r\n        let {gridItemStyle} =\r\n            agl.calculateGridItem(left - parentRect.left, top - parentRect.top,\r\n                itemsParent, undefined, undefined, itemsParent.getSize(false));\r\n        agl.setGridItemStyle(gridItemStyle);\r\n        agl.prepareRects();\r\n        // agl.prepareRects(true);\r\n        setTimeout(() => {\r\n            items = items.filter(item => {\r\n                return item.props.id !== agl.props.id;\r\n            });\r\n\r\n            let addToStack = (items) => {\r\n                let item = items.shift();\r\n                if (!item)\r\n                    return;\r\n\r\n                item.props.parent.onChildLeave(item);\r\n                agl.onChildDrop(item, undefined, undefined, () => {\r\n                    addToStack(items);\r\n                });\r\n            };\r\n            addToStack(items);\r\n            setTimeout(() => {\r\n                stack.setOrder();\r\n                setTimeout(() => {\r\n                    let width = agl.getSize(false, true).width;\r\n                    let parentWidth = agl.props.parent.getSize(false).width;\r\n                    agl.setProps(\"width\", `${width / parentWidth * 100}%`);\r\n                    agl.onSelect(true);\r\n                }, 0);\r\n            }, 0);\r\n        }, 0);\r\n    });\r\n}\r\n\r\nexport function hasSameParent(items) {\r\n    if (!items || items.length < 2)\r\n        return;\r\n\r\n    let itemsParent = items[0].getContainerParent(true);\r\n\r\n    let same = true;\r\n    items.forEach(item => {\r\n        if (item.getContainerParent(true) !== itemsParent)\r\n            same = false;\r\n    });\r\n    return same;\r\n}\r\n\r\nexport function createStack2(items, fromUndoRedo) {\r\n    if (!items || items.length < 2)\r\n        return;\r\n\r\n    let itemsParent = items[0].getContainerParent(true);\r\n\r\n    if (!itemsParent)\r\n        return;\r\n\r\n    let top = 99999999;\r\n    let left = 99999999;\r\n    let rightFromLeft = 0;\r\n    let allSpacerData = [];\r\n    let lastBottom;\r\n\r\n    items.sort((a,b) => {\r\n        if (a && b){\r\n            let topA = a.getSize(true, true).top;\r\n            let topB = b.getSize(true, true).top;\r\n            if (topA < topB) {\r\n                return -1;\r\n            } else if (topA === topB) {\r\n                // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                return 0;\r\n            }\r\n            return 1;\r\n        } else {\r\n            return 0;\r\n        }\r\n    });\r\n\r\n    items.forEach((item) => {\r\n        let rect = item.getSize(false);\r\n        top = Math.min(rect.top, top);\r\n        left = Math.min(rect.left, left);\r\n        rightFromLeft = Math.max(rect.left + rect.width, rightFromLeft);\r\n\r\n        if (lastBottom) {\r\n            allSpacerData.push({\r\n                height: Math.max(0, rect.top - lastBottom)\r\n            });\r\n        }\r\n\r\n        lastBottom = rect.top + rect.height;\r\n    });\r\n\r\n    let stack;\r\n    let stackNode =\r\n        <Stack2\r\n            style={{\r\n                width: `${rightFromLeft - left}px`,\r\n            }}\r\n            lateMountedComplete={(_stack) => {\r\n                stack = _stack;\r\n            }}\r\n            allSpacerData={allSpacerData}\r\n            document={items[0].props.document}\r\n        />;\r\n\r\n    let parentRect = itemsParent.prepareRects();\r\n    itemsParent.addChild(stackNode, undefined, undefined, undefined, (agl) => {\r\n        if (!fromUndoRedo) {\r\n            let stackId = agl.props.id;\r\n            let itemIds = items.map(item => {\r\n                return item.props.id;\r\n            });\r\n            agl.props.undoredo.add((idMan) => {\r\n                let newItems = itemIds.map(id => {\r\n                    return idMan.getItem(id);\r\n                });\r\n                newItems.forEach(item => {\r\n                    item.onSelect(true);\r\n                });\r\n                createStack2(newItems, true);\r\n            }, (idMan) => {\r\n                removeStackFromAGL(idMan.getItem(stackId), undefined, true);\r\n            });\r\n        }\r\n\r\n        agl.onSelect(true);\r\n        let {gridItemStyle} =\r\n            agl.calculateGridItem(left - parentRect.left, top - parentRect.top,\r\n                itemsParent, undefined, undefined, itemsParent.getSize(false));\r\n        agl.setGridItemStyle(gridItemStyle);\r\n        agl.prepareRects();\r\n        // agl.prepareRects(true);\r\n        setTimeout(() => {\r\n            items = items.filter(item => {\r\n                return item.props.id !== agl.props.id;\r\n            });\r\n\r\n            let addToStack = (items) => {\r\n                let item = items.shift();\r\n                if (!item)\r\n                    return;\r\n\r\n                item.props.parent.onChildLeave(item);\r\n                agl.onChildDrop(item, undefined, undefined, () => {\r\n                    addToStack(items);\r\n                });\r\n            };\r\n            addToStack(items);\r\n            setTimeout(() => {\r\n                agl.props.aglComponent.resolveOrders();\r\n                setTimeout(() => {\r\n                    let width = agl.getSize(false, true).width;\r\n                    let parentWidth = agl.props.parent.getSize(false).width;\r\n                    agl.setProps(\"width\", `${width / parentWidth * 100}%`);\r\n                    agl.onSelect(true);\r\n                }, 0);\r\n            }, 0);\r\n        }, 0);\r\n    });\r\n}\r\n\r\nexport function removeStack(stack, childIds, fromUndoRedo) {\r\n    removeStackFromAGL (stack.aglRef.current, childIds, fromUndoRedo);\r\n}\r\n\r\nexport function removeStackFromAGL(stackAgl, childIds, fromUndoRedo) {\r\n    if (!stackAgl || !stackAgl.props.isStack)\r\n        return;\r\n\r\n    if (!fromUndoRedo) {\r\n        let stackId = stackAgl.props.id;\r\n        stackAgl.props.undoredo.add((idMan) => {\r\n            removeStackFromAGL(idMan.getItem(stackId), childIds, true);\r\n        }, (idMan) => {\r\n            let newItems = childIds.map(id => {\r\n                return idMan.getItem(id);\r\n            });\r\n            console.log(\"removeStackFromAGL Back\", childIds, newItems);\r\n            createStack2(newItems, true);\r\n        });\r\n    }\r\n\r\n    let newParent = stackAgl.props.parent;\r\n    stackAgl.clearItem();\r\n\r\n    let sorted = Object.values(stackAgl.allChildRefs).sort((a,b) => {\r\n        if (a && a.current && b && b.current){\r\n            let relativeYA = a.current.getFromData(\"relativeY\");\r\n            let relativeYB = b.current.getFromData(\"relativeY\");\r\n            if (relativeYA < relativeYB) {\r\n                return 1;\r\n            } else if (relativeYA === relativeYB) {\r\n                // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                return 0;\r\n            }\r\n            return -1;\r\n        } else {\r\n            return 0;\r\n        }\r\n    });\r\n\r\n    newParent.onSelect(true);\r\n    newParent.prepareRects();\r\n    let removeChilds = (sorted) => {\r\n        let item = sorted.shift();\r\n\r\n        if (!item) {\r\n            setTimeout(() => {\r\n                // newParent.onChildLeave(stackAgl);\r\n                stackAgl.delete(true);\r\n            }, 0);\r\n            return;\r\n        }\r\n        setTimeout(() => {\r\n            if (item && item.current) {\r\n                item.current.props.parent.onChildLeave(item.current);\r\n                newParent.onChildDrop(item.current);\r\n            }\r\n            removeChilds(sorted);\r\n        }, 0);\r\n    };\r\n\r\n    removeChilds(sorted);\r\n}\r\n\r\nexport function createItem(parent, childData, fromUndoRedo, gridItemStyle, style, onChildMounted) {\r\n    childData.props = cloneObject(parent.getClearProps({...childData.props}, true));\r\n    childData.zIndex = parent.getNextIndexData(0).lastZIndex + 1;\r\n\r\n    if (gridItemStyle) {\r\n        parent.setDataInBreakpoint(\r\n            \"gridItemStyle\", gridItemStyle, childData.props.griddata,\r\n            parent.props.breakpointmanager.getHighestBpName());\r\n    }\r\n    if (style) {\r\n        parent.setDataInBreakpoint(\r\n            \"style\", style, childData.props.griddata,\r\n            parent.props.breakpointmanager.getHighestBpName());\r\n    }\r\n\r\n    let child = parent.createChildByData(\r\n        childData , DynamicComponents, undefined, (newItem) => {\r\n\r\n        newItem.onSelect(true);\r\n\r\n        onChildMounted && onChildMounted(newItem);\r\n\r\n        if (!fromUndoRedo) {\r\n            let itemId = newItem.props.id;\r\n            let parentId = parent.props.id;\r\n            let childData = cloneObject(parent.getChildData(itemId));\r\n            parent.props.undoredo.add((idMan) => {\r\n                createItem(idMan.getItem(parentId), childData, true, gridItemStyle, style);\r\n            }, (idMan) => {\r\n                idMan.getItem(itemId).delete(true);\r\n            });\r\n        }\r\n    });\r\n\r\n    parent.children[childData.props.id] = {\r\n        child: child,\r\n        zIndex: childData.zIndex\r\n    };\r\n\r\n    let savedChildren = parent.getFromTempData(\"savedChildren\");\r\n    savedChildren[childData.props.id] = childData;\r\n\r\n    parent.updateLayout();\r\n}\r\n\r\nexport function setDataInBreakpoint(prop, value, item, addToUndo, breakpointName, updateLayout){\r\n    if (addToUndo) {\r\n        let oldValue = item.getFromData(prop, undefined, breakpointName);\r\n        oldValue = cloneObject(oldValue);\r\n        let saveValue = cloneObject(value);\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            setDataInBreakpoint(prop, saveValue, idMan.getItem(itemId), false, breakpointName, updateLayout);\r\n        }, (idMan) => {\r\n            setDataInBreakpoint(prop, oldValue, idMan.getItem(itemId), false, breakpointName, updateLayout);\r\n        });\r\n    }\r\n    item.setDataInBreakpoint(prop, value, undefined, breakpointName);\r\n\r\n    updateLayout && item.updateLayout();\r\n}\r\n\r\nexport function setTempData(prop, value, item, addToUndo){\r\n    if (addToUndo) {\r\n        let oldValue = item.getFromTempData(prop);\r\n        oldValue = cloneObject(oldValue);\r\n        let saveValue = cloneObject(value);\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            setTempData(prop, saveValue, idMan.getItem(itemId));\r\n        }, (idMan) => {\r\n            setTempData(prop, oldValue, idMan.getItem(itemId));\r\n        });\r\n    }\r\n    item.setTempData(prop, value);\r\n}\r\n\r\nexport function setStyle(newStyle, item, addToUndo, breakpointName, updateLayout){\r\n    if (addToUndo) {\r\n        let oldStyle = item.getFromData(\"style\", undefined, breakpointName);\r\n        oldStyle = cloneObject(oldStyle);\r\n        let saveStyle = cloneObject(newStyle);\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            setStyle(saveStyle, idMan.getItem(itemId));\r\n        }, (idMan) => {\r\n            setStyle(oldStyle, idMan.getItem(itemId));\r\n        });\r\n    }\r\n    item.setStyle(newStyle);\r\n    updateLayout && item.updateLayout();\r\n}\r\n\r\nexport function setStyleParam (param, value, item, addToUndo, breakpointName, dontAddToSnap) {\r\n    if (addToUndo) {\r\n        let oldStyle = item.getFromData(\"style\", undefined, breakpointName);\r\n        oldStyle = cloneObject(oldStyle);\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            setStyleParam(param, value, idMan.getItem(itemId), false, breakpointName, dontAddToSnap);\r\n        }, (idMan) => {\r\n            setStyle(oldStyle, idMan.getItem(itemId));\r\n        });\r\n    }\r\n\r\n    let style = item.hasDataInBreakPoint(\"style\", undefined, breakpointName) || {};\r\n    style[param] = value;\r\n    if (value === undefined)\r\n        delete style[param];\r\n    item.setStyle(style, undefined, breakpointName, undefined, dontAddToSnap);\r\n}\r\n\r\nexport function setNewSize(prop, value, item, addToUndo, breakpointName, updateLayout){\r\n    if (addToUndo) {\r\n        let oldValue = item.getFromData(`style.${prop}`, undefined, breakpointName);\r\n        let saveStyle = cloneObject(item.getFromData(\"style)\"));\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            setStyle(saveStyle, idMan.getItem(itemId));\r\n        }, (idMan) => {\r\n            setNewSize(prop, oldValue, idMan.getItem(itemId));\r\n        });\r\n    }\r\n    item.setNewSize(prop, value);\r\n    updateLayout && item.updateLayout();\r\n}\r\n\r\nexport function setGridItemStyle(newGridItemStyle, item, addToUndo, breakpointName){\r\n    if (addToUndo) {\r\n        let oldGridItemStyle = item.getFromData(\"gridItemStyle\", undefined, breakpointName);\r\n        oldGridItemStyle = cloneObject(oldGridItemStyle);\r\n        let saveGridItemStyle = cloneObject(newGridItemStyle);\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            setGridItemStyle(saveGridItemStyle, idMan.getItem(itemId));\r\n        }, (idMan) => {\r\n            setGridItemStyle(oldGridItemStyle, idMan.getItem(itemId));\r\n        });\r\n    }\r\n    item.setGridItemStyle(newGridItemStyle);\r\n    item.invalidateSize(true, true, true);\r\n}\r\n\r\nexport function setGridArea(newGridArea, item, addToUndo){\r\n    if (addToUndo) {\r\n        let oldGridArea = item.getGridArea();\r\n        oldGridArea = cloneObject(oldGridArea);\r\n        let saveGridArea = cloneObject(newGridArea);\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            setGridArea(saveGridArea, idMan.getItem(itemId));\r\n        }, (idMan) => {\r\n            setGridArea(oldGridArea, idMan.getItem(itemId));\r\n        });\r\n    }\r\n    item.setGridArea(newGridArea);\r\n}\r\n\r\nexport function setGrid(newGrid, item, addToUndo, breakpointName){\r\n    if (addToUndo) {\r\n        let oldGrid = item.getFromData(\"grid\", undefined, breakpointName);\r\n        oldGrid = cloneObject(oldGrid);\r\n        let saveGrid = cloneObject(newGrid);\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            setGrid(saveGrid, idMan.getItem(itemId));\r\n        }, (idMan) => {\r\n            setGrid(oldGrid, idMan.getItem(itemId));\r\n        });\r\n    }\r\n    item.setGrid(newGrid);\r\n}\r\n\r\nexport function setAnchor(newAnchor, item, addToUndo){\r\n    if (addToUndo) {\r\n        let oldAnchor = item.getFromTempData(\"anchor\");\r\n        oldAnchor = cloneObject(oldAnchor);\r\n        let saveAnchor = cloneObject(newAnchor);\r\n        let itemId = item.props.id;\r\n        item.props.undoredo.add((idMan) => {\r\n            setAnchor(saveAnchor, idMan.getItem(itemId));\r\n        }, (idMan) => {\r\n            setAnchor(oldAnchor, idMan.getItem(itemId));\r\n        });\r\n    }\r\n    item.setAnchor(newAnchor);\r\n}\r\n\r\nexport function arrangeIndex(item, child, type, addToUndo){\r\n    if (addToUndo) {\r\n        let itemId = item.props.id;\r\n        let childId = child.props.id;\r\n        let oldType = type === \"forward\"? \"backward\":\r\n            type === \"backward\"? \"forward\": undefined;\r\n        let oldZIndex = item.getFromTempData(\"savedChildren\")[childId].zIndex;\r\n        item.props.undoredo.add((idMan) => {\r\n            arrangeIndex(idMan.getItem(itemId), idMan.getItem(childId), type);\r\n        }, (idMan) => {\r\n            if (oldType)\r\n                arrangeIndex(idMan.getItem(itemId), idMan.getItem(childId), oldType);\r\n            else\r\n                changeIndex(idMan.getItem(itemId), idMan.getItem(childId), oldZIndex);\r\n        });\r\n    }\r\n    item.arrangeIndex(child, type);\r\n}\r\n\r\nexport function changeIndex (item, child, index, addToUndo){\r\n    if (addToUndo) {\r\n        let itemId = item.props.id;\r\n        let childId = child.props.id;\r\n        let oldZIndex = item.getFromTempData(\"savedChildren\")[childId].zIndex;\r\n        item.props.undoredo.add((idMan) => {\r\n            changeIndex(idMan.getItem(itemId), idMan.getItem(childId), index);\r\n        }, (idMan) => {\r\n            changeIndex(idMan.getItem(itemId), idMan.getItem(childId), oldZIndex);\r\n        });\r\n    }\r\n    item.changeIndex(child, index);\r\n}\r\n\r\nexport function resolveDesignData (item, key, value){\r\n    let breakpointData = item.props.breakpointmanager;\r\n    if (!getFromData(item.props.griddata, \"design\", breakpointData, breakpointData.getHighestBpName()))\r\n        setData(item.props.griddata, \"design\", {}, breakpointData, breakpointData.getHighestBpName());\r\n\r\n    if (!key)\r\n        return;\r\n\r\n    let design = getFromData(item.props.griddata, \"design\", breakpointData, breakpointData.getHighestBpName());\r\n    if (!design[key])\r\n        design[key] = value || {};\r\n}\r\n\r\nexport function getCompositeDesignData (item) {\r\n    let breakpointData = item.props.breakpointmanager;\r\n    if (!getCompositeFromData(item.props.griddata, \"design\", breakpointData))\r\n        setData(item.props.griddata, \"design\", {}, breakpointData, breakpointData.getHighestBpName());\r\n\r\n    return getCompositeFromData(item.props.griddata, \"design\", breakpointData);\r\n}\r\n\r\nexport function rotate (item, degree, fromUndoRedo) {\r\n    if (!fromUndoRedo) {\r\n        let itemId = item.props.id;\r\n        let oldDegree = item.getFromData(\"rotateDegree\");\r\n        item.props.undoredo.add((idMan) => {\r\n            rotate(idMan.getItem(itemId), degree, true);\r\n        }, (idMan) => {\r\n            rotate(idMan.getItem(itemId), oldDegree || 0, true);\r\n        });\r\n    }\r\n\r\n    item.setDataInBreakpoint(\"transform.rotateDegree\", degree);\r\n    item.setTransformStyle(item.getFromData(\"transform\"));\r\n    item.updateLayout(item.props.select.onScrollItem);\r\n}\r\n\r\nexport function getViewRatioStyle (value) {\r\n    if (value.includes('vh'))\r\n        return`calc(${value} * var(--vh-ratio))`;\r\n    if (value.includes('vw'))\r\n        return`calc(${value} * var(--vw-ratio))`;\r\n\r\n    return value;\r\n}\r\n\r\nexport function getValueFromCSSValue (value) {\r\n    if (!value)\r\n        return \"\";\r\n\r\n    if (value.includes(\"%\")) {\r\n        return Math.round(parseFloat(value.replace(\"%\", \"\")) * 100) / 100;\r\n    }\r\n\r\n    if (value.includes(\"px\")) {\r\n        return Math.round(parseFloat(value.replace(\"px\", \"\")) * 100) / 100;\r\n    }\r\n\r\n    if (value.includes(\"vh\")) {\r\n        return Math.round(parseFloat(\r\n            value.replace(/[^0-9\\.]/g, '')\r\n        ) * 100) / 100;\r\n    }\r\n\r\n    if (value.includes(\"vw\")) {\r\n        return Math.round(parseFloat(\r\n            value.replace(/[^0-9\\.]/g, '')\r\n        ) * 100) / 100;\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\nexport function getPxValueFromCSSValue (value, parentValue, item) {\r\n    if (!value)\r\n        return;\r\n    if (!isNaN(value))\r\n        return value;\r\n\r\n    if (value.includes(\"%\")) {\r\n        let percent = Math.round(parseFloat(value.replace(\"%\", \"\")) * 100) / 100;\r\n        return percent * parentValue / 100;\r\n    }\r\n\r\n    if (value.includes(\"px\")) {\r\n        return Math.round(parseFloat(value.replace(\"px\", \"\")) * 100) / 100;\r\n    }\r\n\r\n    if (value.includes(\"vh\")) {\r\n        let percent = Math.round(parseFloat(\r\n            value.replace(/[^0-9\\.]/g, '')\r\n        ) * 100) / 100;\r\n\r\n        return percent * item.props.breakpointmanager.getWindowHeight() / 100;\r\n    }\r\n\r\n    if (value.includes(\"vw\")) {\r\n        let percent =  Math.round(parseFloat(\r\n            value.replace(/[^0-9\\.]/g, '')\r\n        ) * 100) / 100;\r\n\r\n        return percent * item.props.breakpointmanager.getWindowWidth() / 100;\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\nexport function getStyleValueFromPx (value, parentValue, unit, item) {\r\n    if (!unit)\r\n        unit = \"px\";\r\n\r\n    if (unit === \"px\") {\r\n        return `${value}${unit}`;\r\n    }\r\n    if (unit === \"%\") {\r\n        return `${value / parentValue * 100}${unit}`;\r\n    }\r\n    if (unit === \"vh\") {\r\n        value = `${value / item.props.breakpointmanager.getWindowHeight() * 100}vh`;\r\n        return `calc(${value} * var(--vh-ratio))`;\r\n    }\r\n    if (unit === \"vw\") {\r\n        value = `${value / item.props.breakpointmanager.getWindowWidth() * 100}vw`;\r\n        return `calc(${value} * var(--vw-ratio))`;\r\n    }\r\n\r\n    return unit;\r\n}\r\n\r\nexport function getUnitFromStyleValue (value) {\r\n    if (!value)\r\n        return \"none\";\r\n\r\n    if (value.includes(\"%\")) {\r\n        return \"%\";\r\n    }\r\n\r\n    if (value.includes(\"px\")) {\r\n        return \"px\";\r\n    }\r\n\r\n    if (value.includes(\"vw\")) {\r\n        return \"vw\";\r\n    }\r\n\r\n    if (value.includes(\"vh\")) {\r\n        return \"vh\";\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\nexport function createContextMenu(e, item, onClose) {\r\n    if (item.props.isPage)\r\n        return;\r\n\r\n    let menu = [];\r\n\r\n    item.getContextMenu() && menu.push(item.getContextMenu());\r\n\r\n    // Copy section\r\n    let copySection = [\r\n        {\r\n            name: \"Copy\",\r\n            onClick: (e) => {\r\n                item.props.copyMan.copy(item);\r\n            },\r\n            shortcut: \"Ctrl + C\"\r\n        },\r\n        {\r\n            name: \"Paste\",\r\n            onClick: (e) => {\r\n                item.props.copyMan.paste(item);\r\n            },\r\n            shortcut: \"Ctrl + V\"\r\n        },\r\n        {\r\n            name: \"Duplicate\",\r\n            onClick: (e) => {\r\n                item.props.copyMan.duplicate(item);\r\n            },\r\n            shortcut: \"Ctrl + D\"\r\n        },\r\n        {\r\n            name: \"Copy Element Design\",\r\n            subMenu: [\r\n                {\r\n                    name: \"From this breakpoint\",\r\n                    onClick: (e) => {\r\n                        copyDesign(item);\r\n                    }\r\n                },\r\n                {\r\n                    name: \"From all breakpoint\",\r\n                    onClick: (e) => {\r\n                        copyDesign(item, true);\r\n                    }\r\n                },\r\n            ]\r\n        },\r\n    ];\r\n    let copyDesignItem = item.props.breakpointmanager.getCopyDesign();\r\n    if (copyDesignItem && isSameFamily(copyDesignItem.sourceItem, item))\r\n        copySection.push({\r\n            name: \"Paste Design\",\r\n            onClick: (e) => {\r\n                pasteDesign(item);\r\n            }\r\n        });\r\n    let overrideBps = [];\r\n    let currentBpName = item.props.breakpointmanager.current();\r\n    Object.keys(item.props.griddata.bpData).forEach(bpName => {\r\n        if (bpName === currentBpName ||\r\n            item.props.breakpointmanager.getHighestBpName() === bpName)\r\n            return;\r\n\r\n        if (item.props.griddata.bpData[bpName] && item.props.griddata.bpData[bpName].design) {\r\n            if (!item.props.griddata.bpData[currentBpName] ||\r\n                !deepEqual(item.props.griddata.bpData[bpName].design,\r\n                    item.props.griddata.bpData[currentBpName].design)) {\r\n                overrideBps.push(bpName);\r\n            }\r\n        }\r\n    });\r\n    if (overrideBps.length > 0) {\r\n        copySection.push({\r\n            name: \"Paste From Breakpoint\",\r\n            subMenu: overrideBps.map(bpName => {\r\n                return {\r\n                    name: bpName,\r\n                    onClick: (e) => {\r\n                        pasteFromBreakpointDesign(item, bpName, currentBpName);\r\n                    }\r\n                };\r\n            })\r\n        });\r\n    }\r\n    menu.push(copySection);\r\n\r\n    let deleteSection = [];\r\n    if (!isHideInBreakpoint(item)) {\r\n        deleteSection.push(\r\n            {\r\n                name: \"Hide In Breakpoint\",\r\n                onClick: (e) => {\r\n                    hideInBreakPoint(item);\r\n                }\r\n            });\r\n    }\r\n    deleteSection.push({\r\n        name: \"Delete\",\r\n        onClick: (e) => {\r\n            item.delete();\r\n        },\r\n        shortcut: \"Delete\"\r\n    });\r\n\r\n    if (currentBpName !== item.props.breakpointmanager.getHighestBpName()) {\r\n        if (item.props.griddata.bpData[currentBpName] &&\r\n            Object.keys(item.props.griddata.bpData[currentBpName]).length > 0)\r\n        {\r\n            deleteSection.unshift({\r\n                name: \"Remove Breakpoint Overrides\",\r\n                onClick: (e) => {\r\n                    // TODO add these lines to a function with undo support\r\n                    delete item.props.griddata.bpData[currentBpName];\r\n                    item.onBreakpointChange(\r\n                        item.props.breakpointmanager.getWindowWidth(),\r\n                        item.props.breakpointmanager.current());\r\n                    item.props.select.onScrollItem();\r\n                }\r\n            });\r\n        }\r\n    }\r\n    menu.push(deleteSection);\r\n\r\n    let shortcutSection = [];\r\n    if (!item.props.griddata.isSection) {\r\n        shortcutSection.push({\r\n            name: \"Arrange\",\r\n            subMenu: [\r\n                {\r\n                    name: \"Move Forward\",\r\n                    shortcut: \"Ctrl + Alt + ↑\",\r\n                    onClick: (e) => {\r\n                        arrangeIndex(item.props.parent, item, \"forward\", true);\r\n                    }\r\n                },\r\n                {\r\n                    name: \"Move to Front\",\r\n                    shortcut: \"Ctrl + ↑\",\r\n                    onClick: (e) => {\r\n                        arrangeIndex(item.props.parent, item, \"front\", true);\r\n                    }\r\n                },\r\n                {\r\n                    name: \"Move Backward\",\r\n                    shortcut: \"Ctrl + Alt + ↓\",\r\n                    onClick: (e) => {\r\n                        arrangeIndex(item.props.parent, item, \"backward\", true);\r\n                    }\r\n                },\r\n                {\r\n                    name: \"Move to Back\",\r\n                    shortcut: \"Ctrl + ↓\",\r\n                    onClick: (e) => {\r\n                        arrangeIndex(item.props.parent, item, \"back\", true);\r\n                    }\r\n                }\r\n            ]\r\n        });\r\n    }\r\n    menu.push(shortcutSection);\r\n\r\n    let sectionSection = [];\r\n    if (item.props.isSection) {\r\n        if (item.props.isVerticalSection) {\r\n            sectionSection.push({\r\n                name: \"Move Left\",\r\n                onClick: (e) => {\r\n                    item.props.parent.props.aglComponent.moveLeft(item.props.id);\r\n                },\r\n            });\r\n            sectionSection.push({\r\n                name: \"Move Right\",\r\n                onClick: (e) => {\r\n                    item.props.parent.props.aglComponent.moveRight(item.props.id);\r\n                },\r\n            });\r\n        } else {\r\n            sectionSection.push({\r\n                name: \"Move Up\",\r\n                onClick: (e) => {\r\n                    item.props.parent.props.aglComponent.moveUp(item.props.id);\r\n                },\r\n            });\r\n            sectionSection.push({\r\n                name: \"Move Down\",\r\n                onClick: (e) => {\r\n                    item.props.parent.props.aglComponent.moveDown(item.props.id);\r\n                },\r\n            });\r\n        }\r\n    }\r\n    menu.unshift(sectionSection);\r\n\r\n    let masterSection = [\r\n    ];\r\n\r\n    return <ContextMenu\r\n        menu={menu}\r\n        onClose={onClose}\r\n        clientX={e.clientX}\r\n        clientY={e.clientY}\r\n    />\r\n}\r\n\r\nexport function isHideInBreakpoint(item) {\r\n    if (!item)\r\n        return false;\r\n\r\n    if (typeof item.getCompositeFromData(\"style\").display === 'string')\r\n        return item.getCompositeFromData(\"style\").display.includes(\"none\");\r\n\r\n    return false;\r\n}\r\n\r\nexport function isSameFamily(item1, item2) {\r\n    if (item1.props.tagName === item2.props.tagName)\r\n        return true;\r\n\r\n    if (item1.props.griddata.isSection && item2.props.griddata.isSection)\r\n        return true;\r\n}\r\n\r\nexport function isLeftClick (e) {\r\n    if (e.button === 0)\r\n        return true;\r\n\r\n    return false;\r\n}\r\n\r\nexport function isRightClick (e) {\r\n    if (e.button === 2)\r\n        return true;\r\n\r\n    return false;\r\n}\r\n\r\nexport function getResizeDelta (degree, dir, delta) {\r\n    let rad = degree * Math.PI / 180;\r\n    let cx = delta.x, cy = delta.y;\r\n    let cxy = Math.sqrt(cx * cx + cy * cy);\r\n    let cxp = cy !== 0 ? cy / Math.tan(rad) : 0;\r\n    let cyp = cx !== 0 ? -cx / Math.tan(rad) : 0;\r\n\r\n    let thetaH = Math.atan(Math.abs(cy) / Math.abs(cx));\r\n    let thetaW = Math.atan(Math.abs(cy) / Math.abs(cx));\r\n\r\n    if (cx * cy > 0)\r\n        thetaW = -thetaW;\r\n    if (cx * cy > 0)\r\n        thetaH = -thetaH;\r\n\r\n    let Dh = Math.abs(Math.sin(rad + thetaH) * cxy);\r\n    let Dw = Math.abs(Math.cos(rad + thetaW) * cxy);\r\n\r\n    if (cxp < cx)\r\n        Dh = -Dh;\r\n    if (cyp > cy)\r\n        Dw = -Dw;\r\n\r\n    if (degree > 180) {\r\n        Dh = -Dh;\r\n        Dw = -Dw;\r\n    }\r\n\r\n    let dxH = Dh * Math.sin(rad);\r\n    let dyH = Dh * Math.cos(rad);\r\n    let dxW = Dw * Math.cos(rad);\r\n    let dyW = Dw * Math.sin(rad);\r\n\r\n    let finalDelta = {\r\n        top: 0, left: 0, width: 0, height: 0\r\n    };\r\n\r\n    if (dir.includes('n')) {\r\n        finalDelta.height -= Dh;\r\n        finalDelta.top += ((Dh + dyH) / 2);\r\n        finalDelta.left -= (dxH / 2);\r\n    }\r\n\r\n    if (dir.includes('s')) {\r\n        finalDelta.height += Dh;\r\n        finalDelta.top -= ((Dh - dyH) / 2);\r\n        finalDelta.left -= (dxH / 2);\r\n    }\r\n\r\n    if (dir.includes('w')) {\r\n        finalDelta.width -= Dw;\r\n        finalDelta.top += (dyW / 2);\r\n        finalDelta.left += ((Dw + dxW) / 2);\r\n    }\r\n\r\n    if (dir.includes('e')) {\r\n        finalDelta.width += Dw;\r\n        finalDelta.top += (dyW / 2);\r\n        finalDelta.left -= ((Dw - dxW) / 2);\r\n    }\r\n\r\n    return finalDelta;\r\n}\r\n\r\nexport function sortBy (array, param) {\r\n    array = array.sort((a, b) => {\r\n        if (a[param] < b[param]) {\r\n            return -1;\r\n        } else if (a[param] === b[param]) {\r\n            return 0;\r\n        }\r\n        return 1;\r\n    });\r\n    return array;\r\n}\r\n\r\nexport function getColorScheme (baseColor) {\r\n    return {\r\n        \"1\": chroma(baseColor).luminance(0.025).css(),\r\n        \"2\": chroma(baseColor).luminance(0.06).css(),\r\n        \"3\": chroma(baseColor).luminance(0.15).css(),\r\n        \"4\": chroma(baseColor).luminance(0.35).css(),\r\n        \"5\": chroma(baseColor).luminance(0.55).css(),\r\n    }\r\n}\r\n\r\nexport function parseColor (color, alpha, editorContext) {\r\n    if (!color) {\r\n        color = '#000000';\r\n        alpha = alpha || 0;\r\n    }\r\n\r\n    if (color instanceof Object) {\r\n        let chromaColor = chroma(editorContext.getColor(color.paletteName, color.key));\r\n        if (alpha !== undefined || color.alpha !== undefined)\r\n            chromaColor = chromaColor.alpha(alpha || color.alpha);\r\n        else\r\n            chromaColor = chromaColor.alpha(1);\r\n\r\n        return chromaColor.css();\r\n    } else {\r\n        try{\r\n            chroma(color);\r\n        }catch (e) {\r\n            color = \"rgba(0,0,0,0)\"\r\n        }\r\n        let chromaColor = chroma(color);\r\n        if (alpha !== undefined)\r\n            chromaColor = chromaColor.alpha(alpha);\r\n        return chromaColor.css();\r\n    }\r\n}\r\n\r\nexport function inputCopyPasteHandler (e) {\r\n    e = e || window.event;\r\n    let key = e.which || e.keyCode; // keyCode detection\r\n    let ctrl = e.ctrlKey ? e.ctrlKey : (key === 17); // ctrl detection\r\n    let shift = e.shiftKey ? e.shiftKey : (key === 16); // shift detection\r\n\r\n    let stopPropagation = (e) => {\r\n        e.stopPropagation();\r\n    }\r\n\r\n    if ( key === 86 && ctrl ) {\r\n        console.log(\"ctrl + V\");\r\n        stopPropagation(e);\r\n    } else if ( key === 67 && ctrl ) {\r\n        console.log(\"ctrl + C\");\r\n        stopPropagation(e);\r\n    } else if ( key === 68 && ctrl ) {\r\n        console.log(\"ctrl + D\");\r\n        stopPropagation(e);\r\n    } else if ( key === 46 ) {\r\n        console.log(\"delete\");\r\n        stopPropagation(e);\r\n    } else if (key === 90 && ctrl && !shift) {\r\n        console.log(\"ctrl + z\");\r\n        stopPropagation(e);\r\n    } else if (key === 90 && ctrl && shift) {\r\n        console.log(\"ctrl + shift + z\");\r\n        stopPropagation(e);\r\n    }\r\n}\r\n\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport Menu from \"@material-ui/core/Menu/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem/MenuItem\";\r\nimport classNames from \"classnames\";\r\nimport {inputCopyPasteHandler} from \"../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class NumberInputWithUnit extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            showUnits: false\r\n        };\r\n\r\n        this.unitIconButton = React.createRef();\r\n    }\r\n\r\n    inputFilter = (value, oldValue) => {\r\n        let okay = false;\r\n        try {\r\n            value = parseFloat(value);\r\n            if (!isNaN(value))\r\n                okay = true;\r\n        } catch {}\r\n        if (okay) {\r\n            console.log(\"inputFilter\", this.props.min, value)\r\n            value = Math.min(this.props.max, value);\r\n            value = Math.max(this.props.min, value);\r\n            return value;\r\n        } else if (value === \"\" || isNaN(value)) {\r\n            return \"0\";\r\n        }\r\n\r\n        return oldValue;\r\n    };\r\n\r\n    onChange = (e, final) => {\r\n        let value = e.target.value;\r\n        if (!final && (isNaN(value) || value.endsWith(\".\"))) {\r\n            this.setState({tempValue: value});\r\n            return;\r\n        }\r\n        this.setState({tempValue: undefined});\r\n        if (value.endsWith(\".\"))\r\n            value += \"0\";\r\n        value = this.inputFilter(value, this.getValue(this.props.value));\r\n        this.props.onChange(value);\r\n    };\r\n\r\n    onShowUnits = (e) => {\r\n        this.setState({anchorEl: e.currentTarget});\r\n    };\r\n\r\n    getValue = (value) => {\r\n        if (!value)\r\n            return \"\";\r\n\r\n        if (typeof value !== 'string')\r\n            return value;\r\n\r\n        if (value.includes(\"%\")) {\r\n            return Math.round(parseFloat(value.replace(\"%\", \"\")) * 10) / 10;\r\n        }\r\n\r\n        if (value.includes(\"px\")) {\r\n            return Math.round(parseFloat(value.replace(\"px\", \"\")) * 10) / 10;\r\n        }\r\n\r\n        if (value.includes(\"vh\")) {\r\n            return Math.round(parseFloat(\r\n                value.replace(/[^0-9\\.]/g, '')\r\n            ) * 10) / 10;\r\n        }\r\n\r\n        if (value.includes(\"vw\")) {\r\n            return Math.round(parseFloat(\r\n                value.replace(/[^0-9\\.]/g, '')\r\n            ) * 10) / 10;\r\n        }\r\n\r\n        return value;\r\n    };\r\n\r\n    render () {\r\n        let classes = classNames(\r\n            \"NumberInputWithUnit\",\r\n            this.props.className\r\n        );\r\n\r\n        return (\r\n            <div className={classes}>\r\n                <input\r\n                    style={{...{\r\n                        textAlign: \"left\",\r\n                        width: 64\r\n                    }, ...this.props.inputStyle}}\r\n                    className=\"NumberInput\"\r\n                    onKeyDown={(e) => {\r\n                        if((e.keyCode || e.which) === 13) {\r\n                            this.onChange(e, true);\r\n                        }\r\n                        inputCopyPasteHandler(e);\r\n                    }}\r\n                    onBlur={(e) => {\r\n                        this.onChange(e, true);\r\n                    }}\r\n                    value={this.state.tempValue || (![\"%\", \"px\", \"vw\", \"vh\", \"°\"].includes(this.props.unit) ? \"\" :\r\n                        (this.getValue(this.props.value) || 0))}\r\n                    onChange={this.onChange}\r\n                    type=\"text\"\r\n                    disabled={![\"%\", \"px\", \"vw\", \"vh\", \"°\"].includes(this.props.unit) || this.props.disabled}\r\n                >\r\n                </input>\r\n\r\n                <IconButton\r\n                    ref={this.unitIconButton}\r\n                    className=\"InputUnitButton\"\r\n                    buttonBaseStyle={{\r\n                        marginLeft: 0,\r\n                    }}\r\n                    imageContainerStyle={{\r\n                        padding: 6\r\n                    }}\r\n                    onClick={!this.props.disabled ? this.onShowUnits : undefined}\r\n                    style={this.props.unitButtonStyle}\r\n                    disabled={this.props.disableUnit}\r\n                >\r\n                    <span style={{\r\n                        color: \"#0a108b\"\r\n                    }}>\r\n                        {this.props.unit || \"none\"}\r\n                    </span>\r\n                </IconButton>\r\n\r\n                <Menu\r\n                    style={{...{\r\n                            zIndex: 99999999999\r\n                        }, ...this.props.unitMenuStyle}}\r\n                    anchorEl={this.state.anchorEl}\r\n                    open={this.state.anchorEl !== undefined}\r\n                    onClose={(e) => {\r\n                        this.setState({anchorEl: undefined});\r\n                    }}\r\n                    MenuListProps={{\r\n                        style: {\r\n                            padding: 0\r\n                        }\r\n                    }}\r\n                >\r\n                    {\r\n                        this.props.units.map((unit, i) => {\r\n                            return (\r\n                                <MenuItem\r\n                                    dense\r\n                                    key={i}\r\n                                    onClick={(e) => {\r\n                                        if (this.props.onUnitChange)\r\n                                            this.props.onUnitChange(unit);\r\n\r\n                                        this.setState({anchorEl: undefined});\r\n                                    }}\r\n                                >\r\n                                    <span style={{\r\n                                        color: \"#0a108b\"\r\n                                    }}>\r\n                                        {unit}\r\n                                    </span>\r\n                                </MenuItem>\r\n                            )\r\n                        })\r\n                    }\r\n                </Menu>\r\n\r\n                {\r\n                    this.props.disabled &&\r\n                    <div\r\n                        className=\"NumberInputWithUnitDisabled\"\r\n                        style={{...{\r\n                                textAlign: \"left\",\r\n                                width: 64\r\n                            }, ...this.props.inputStyle}}\r\n                    >\r\n\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\n\r\nexport default class InspectorTitle extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            open: props.defaultOpen || false\r\n        }\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <ButtonBase className=\"InspectorOptionTitle\" onClick={(e) => {\r\n                if (this.props.onChange)\r\n                    this.props.onChange(!this.state.open);\r\n                this.setState({open: !this.state.open});\r\n            }}>\r\n                    <span>\r\n                        {this.props.title}\r\n                    </span>\r\n\r\n                    <div className=\"InspectorOptionTitleExpandIcon\">\r\n                        {\r\n                            this.state.open &&\r\n                            <img draggable={false} width={10} height={10}\r\n                                 src={process.env.PUBLIC_URL + '/static/icon/down-arrow.svg'} />\r\n                        }\r\n                        {\r\n                            !this.state.open &&\r\n                            <img draggable={false} width={10} height={10}\r\n                                 src={process.env.PUBLIC_URL + '/static/icon/right-arrow.svg'} />\r\n                        }\r\n                    </div>\r\n            </ButtonBase>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport {\r\n    getPxValueFromCSSValue,\r\n    getViewRatioStyle,\r\n    setNewSize\r\n} from \"../../AwesomwGridLayoutHelper\";\r\nimport NumberInputWithUnit from \"../../Menus/CommonComponents/NumberInputWithUnit\";\r\nimport InspectorTitle from \"./InspectorTitle\";\r\nimport Switch from \"@material-ui/core/Switch/Switch\";\r\n\r\nexport default class InspectorSize extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            open: true\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    onChange = (prop, value) => {\r\n        let {item} = this.props;\r\n        let oldValue = item.getCompositeFromData(\"style\")[prop];\r\n        if ([\"%\", \"px\"].includes(this.getUnit(oldValue))) {\r\n            value = `${value}${this.getUnit(oldValue)}`;\r\n        } else if ([\"vh\", \"vw\"].includes(this.getUnit(oldValue))) {\r\n            value = `${value}${this.getUnit(oldValue)}`;\r\n            value = getViewRatioStyle(value);\r\n        }\r\n\r\n        setNewSize(prop, value, item, true);\r\n        item.props.select.onScrollItem();\r\n    };\r\n\r\n    onUnitChange = (prop, unit, parentValue, defaultValue) => {\r\n        let {item} = this.props;\r\n        let style = item.getCompositeFromData(\"style\");\r\n\r\n        if (isNaN(defaultValue))\r\n            defaultValue = 0;\r\n\r\n        let value;\r\n        if (unit === \"px\") {\r\n            value = `${item.getSize(false)[prop] ||\r\n            getPxValueFromCSSValue(style[prop], parentValue, item) || defaultValue || 0}px`;\r\n        } else if (unit === \"%\") {\r\n            value = `${(item.getSize(false)[prop] ||\r\n                getPxValueFromCSSValue(style[prop], parentValue, item) || defaultValue || 0) /\r\n            parentValue * 100}%`;\r\n        } else if (unit === \"vh\") {\r\n            value = `${(item.getSize(false)[prop] ||\r\n                getPxValueFromCSSValue(style[prop], parentValue, item) || defaultValue || 0) /\r\n            item.props.breakpointmanager.getWindowHeight() * 100}vh`;\r\n            value = getViewRatioStyle(value);\r\n        } else if (unit === \"vw\") {\r\n            value = `${(item.getSize(false)[prop] ||\r\n                getPxValueFromCSSValue(style[prop], parentValue, item) || defaultValue || 0) /\r\n            item.props.breakpointmanager.getWindowWidth() * 100}vw`;\r\n            value = getViewRatioStyle(value);\r\n        } else if (unit === \"none\") {\r\n            value = undefined;\r\n        } else {\r\n            value = unit;\r\n        }\r\n\r\n        setNewSize(prop, value, item, true);\r\n        item.props.select.onScrollItem();\r\n    };\r\n\r\n    getUnit = (value) => {\r\n        if (!value || value === \"unset\")\r\n            return \"none\";\r\n\r\n        if (value.includes(\"%\")) {\r\n            return \"%\";\r\n        }\r\n\r\n        if (value.includes(\"px\")) {\r\n            return \"px\";\r\n        }\r\n\r\n        if (value.includes(\"vw\")) {\r\n            return \"vw\";\r\n        }\r\n\r\n        if (value.includes(\"vh\")) {\r\n            return \"vh\";\r\n        }\r\n\r\n        return value;\r\n    };\r\n\r\n    runtimeValueToStyleValue = (propName, parentValue, value, style,) => {\r\n        let unit = this.getUnit(style[propName]);\r\n        let {item} = this.props;\r\n\r\n        if (unit === \"px\") {\r\n            value = `${value}px`;\r\n        } else if (unit === \"%\") {\r\n            value = `${value /\r\n            parentValue * 100}%`;\r\n        } else if (unit === \"vh\") {\r\n            value = `${value / item.props.breakpointmanager.getWindowHeight() * 100}vh`;\r\n            value = `calc(${value} * var(--vh-ratio))`;\r\n        } else if (unit === \"vw\") {\r\n            value = `${value / item.props.breakpointmanager.getWindowWidth() * 100}vw`;\r\n            value = `calc(${value} * var(--vw-ratio))`;\r\n        } else {\r\n            value = unit;\r\n        }\r\n\r\n        return value;\r\n    };\r\n\r\n    render() {\r\n        let {item, scaleProportionally, onDesignChange, designKey} = this.props;\r\n        let style = item.getCompositeFromData(\"style\");\r\n        let runtimeStyle = item.state.runtimeStyle;\r\n        let runtimeGridItemStyle = item.getRuntimeGridItemStyle() || {\r\n            widthForPercent: item.props.breakpointmanager.getWindowWidth(),\r\n            heightForPercent: item.props.breakpointmanager.getWindowHeight(),\r\n        };\r\n        return (\r\n            <>\r\n                <InspectorTitle defaultOpen title=\"Size\" onChange={(open)=>{\r\n                    this.setState({open});\r\n                }}/>\r\n\r\n                {\r\n                    this.state.open &&\r\n                    <div className=\"InspectorOptionRoot\">\r\n                        <div className=\"InspectorSizeRow\">\r\n                            <div className=\"InspectorSizeItem\" style={{\r\n                                marginRight: 12\r\n                            }}>\r\n                        <span className=\"InspectorSizeItemTitle\">\r\n                            Width\r\n                        </span>\r\n                                <NumberInputWithUnit\r\n                                    className=\"AngleInput\"\r\n                                    min={0}\r\n                                    max={Infinity}\r\n                                    disabled={this.props.disabledProps.includes('width')}\r\n                                    value={runtimeStyle ?\r\n                                        this.runtimeValueToStyleValue(\"width\",\r\n                                            runtimeGridItemStyle.widthForPercent, runtimeStyle.width, style) :\r\n                                        style.width}\r\n                                    onChange={(value) => {\r\n                                        this.onChange(\"width\", value);\r\n                                    }}\r\n                                    onUnitChange={(unit) => {\r\n                                        let parentRect = item.props.parent.getSize(false);\r\n                                        this.onUnitChange(\"width\", unit, parentRect.scrollWidthMinusPadding);\r\n                                    }}\r\n                                    units={this.props.widthUnits}\r\n                                    unit={this.getUnit(style.width)}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"InspectorSizeItem\">\r\n                        <span className=\"InspectorSizeItemTitle\">\r\n                            Height\r\n                        </span>\r\n                                <NumberInputWithUnit\r\n                                    className=\"InspectorSizeItemInput\"\r\n                                    min={0}\r\n                                    max={Infinity}\r\n                                    disabled={this.props.disabledProps.includes('height')}\r\n                                    value={runtimeStyle ?\r\n                                        this.runtimeValueToStyleValue(\"height\",\r\n                                            runtimeGridItemStyle.heightForPercent, runtimeStyle.height, style) :\r\n                                        style.height}\r\n                                    onChange={(value) => {\r\n                                        this.onChange(\"height\", value);\r\n                                    }}\r\n                                    onUnitChange={(unit) => {\r\n                                        let parentRect = item.props.parent.getSize(false);\r\n                                        this.onUnitChange(\"height\", unit, parentRect.scrollHeightMinusPadding);\r\n                                    }}\r\n                                    units={this.props.heightUnits}\r\n                                    unit={this.getUnit(style.height)}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"InspectorSizeRow\">\r\n                            <div className=\"InspectorSizeItem\" style={{\r\n                                marginRight: 12\r\n                            }}>\r\n                        <span className=\"InspectorSizeItemTitle\">\r\n                            Min W\r\n                        </span>\r\n                                <NumberInputWithUnit\r\n                                    className=\"AngleInput\"\r\n                                    min={0}\r\n                                    max={Infinity}\r\n                                    disabled={this.props.disabledProps.includes('minWidth')}\r\n                                    value={runtimeStyle ?\r\n                                        this.runtimeValueToStyleValue(\"minWidth\",\r\n                                            runtimeGridItemStyle.widthForPercent, runtimeStyle.width, style) :\r\n                                        style.minWidth}\r\n                                    onChange={(value) => {\r\n                                        this.onChange(\"minWidth\", value);\r\n                                    }}\r\n                                    onUnitChange={(unit) => {\r\n                                        let defaultValue = 1;\r\n                                        let parentRect = item.props.parent.getSize(false);\r\n                                        let width = getPxValueFromCSSValue(style.width, parentRect.scrollWidthMinusPadding, item);\r\n                                        let maxWidth = getPxValueFromCSSValue(style.maxWidth, parentRect.scrollWidthMinusPadding, item);\r\n                                        if (isNaN(width) && !isNaN(maxWidth))\r\n                                            defaultValue = maxWidth;\r\n                                        else if (!isNaN(width) && isNaN(maxWidth))\r\n                                            defaultValue = width;\r\n                                        else if (!isNaN(width) && !isNaN(maxWidth))\r\n                                            defaultValue = Math.min(width, maxWidth);\r\n\r\n                                        this.onUnitChange(\"minWidth\", unit, parentRect.scrollWidthMinusPadding\r\n                                            , defaultValue);\r\n                                    }}\r\n                                    units={this.props.minWidthUnits}\r\n                                    unit={this.getUnit(style.minWidth)}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"InspectorSizeItem\">\r\n                        <span className=\"InspectorSizeItemTitle\">\r\n                            Min H\r\n                        </span>\r\n                                <NumberInputWithUnit\r\n                                    className=\"InspectorSizeItemInput\"\r\n                                    min={0}\r\n                                    max={Infinity}\r\n                                    disabled={this.props.disabledProps.includes('minHeight')}\r\n                                    value={runtimeStyle ?\r\n                                        this.runtimeValueToStyleValue(\"minHeight\",\r\n                                            runtimeGridItemStyle.heightForPercent, runtimeStyle.height, style) :\r\n                                        style.minHeight}\r\n                                    onChange={(value) => {\r\n                                        this.onChange(\"minHeight\", value);\r\n                                    }}\r\n                                    onUnitChange={(unit) => {\r\n                                        let defaultValue = 1;\r\n                                        let parentRect = item.props.parent.getSize(false);\r\n                                        let height = getPxValueFromCSSValue(style.height, parentRect.scrollHeightMinusPadding, item);\r\n                                        let maxHeight = getPxValueFromCSSValue(style.maxHeight, parentRect.scrollHeightMinusPadding, item);\r\n                                        if (isNaN(height) && !isNaN(maxHeight))\r\n                                            defaultValue = maxHeight;\r\n                                        else if (!isNaN(height) && isNaN(maxHeight))\r\n                                            defaultValue = height;\r\n                                        else if (!isNaN(height) && !isNaN(maxHeight))\r\n                                            defaultValue = Math.min(height, maxHeight);\r\n\r\n                                        this.onUnitChange(\"minHeight\", unit, parentRect.scrollHeightMinusPadding\r\n                                            , defaultValue);\r\n                                    }}\r\n                                    units={this.props.minHeightUnits}\r\n                                    unit={this.getUnit(style.minHeight)}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"InspectorSizeRow\" style={{\r\n                            marginBottom: 0\r\n                        }}>\r\n                            <div className=\"InspectorSizeItem\" style={{\r\n                                marginRight: 12\r\n                            }}>\r\n                        <span className=\"InspectorSizeItemTitle\">\r\n                            Max W\r\n                        </span>\r\n                                <NumberInputWithUnit\r\n                                    className=\"AngleInput\"\r\n                                    min={0}\r\n                                    max={Infinity}\r\n                                    disabled={this.props.disabledProps.includes('maxWidth')}\r\n                                    value={runtimeStyle ?\r\n                                        this.runtimeValueToStyleValue(\"maxWidth\",\r\n                                            runtimeGridItemStyle.widthForPercent, runtimeStyle.width, style) :\r\n                                        style.maxWidth}\r\n                                    onChange={(value) => {\r\n                                        this.onChange(\"maxWidth\", value);\r\n                                    }}\r\n                                    onUnitChange={(unit) => {\r\n                                        let defaultValue = 200;\r\n                                        let parentRect = item.props.parent.getSize(false);\r\n                                        let width = getPxValueFromCSSValue(style.width, parentRect.scrollWidthMinusPadding, item);\r\n                                        let minWidth = getPxValueFromCSSValue(style.minWidth, parentRect.scrollWidthMinusPadding, item);\r\n                                        if (isNaN(width) && !isNaN(minWidth))\r\n                                            defaultValue = minWidth;\r\n                                        else if (!isNaN(width) && isNaN(minWidth))\r\n                                            defaultValue = width;\r\n                                        else if (!isNaN(width) && !isNaN(minWidth))\r\n                                            defaultValue = Math.max(width, minWidth);\r\n\r\n                                        this.onUnitChange(\"maxWidth\", unit, parentRect.scrollWidthMinusPadding\r\n                                            , defaultValue);\r\n                                    }}\r\n                                    units={this.props.maxWidthUnits}\r\n                                    unit={this.getUnit(style.maxWidth)}\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"InspectorSizeItem\">\r\n                        <span className=\"InspectorSizeItemTitle\">\r\n                            Max H\r\n                        </span>\r\n                                <NumberInputWithUnit\r\n                                    className=\"InspectorSizeItemInput\"\r\n                                    min={0}\r\n                                    max={Infinity}\r\n                                    disabled={this.props.disabledProps.includes('maxHeight')}\r\n                                    value={runtimeStyle ?\r\n                                        this.runtimeValueToStyleValue(\"maxHeight\",\r\n                                            runtimeGridItemStyle.heightForPercent, runtimeStyle.height, style) :\r\n                                        style.maxHeight}\r\n                                    onChange={(value) => {\r\n                                        this.onChange(\"maxHeight\", value);\r\n                                    }}\r\n                                    onUnitChange={(unit) => {\r\n                                        let defaultValue = 200;\r\n                                        let parentRect = item.props.parent.getSize(false);\r\n                                        let height = getPxValueFromCSSValue(style.height, parentRect.scrollHeightMinusPadding, item);\r\n                                        let minHeight = getPxValueFromCSSValue(style.minHeight, parentRect.scrollHeightMinusPadding, item);\r\n                                        if (isNaN(height) && !isNaN(minHeight))\r\n                                            defaultValue = minHeight;\r\n                                        else if (!isNaN(height) && isNaN(minHeight))\r\n                                            defaultValue = height;\r\n                                        else if (!isNaN(height) && !isNaN(minHeight))\r\n                                            defaultValue = Math.max(height, minHeight);\r\n\r\n                                        this.onUnitChange(\"maxHeight\", unit, parentRect.scrollHeightMinusPadding\r\n                                            , defaultValue);\r\n                                    }}\r\n                                    units={this.props.maxHeightUnits}\r\n                                    unit={this.getUnit(style.maxHeight)}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nInspectorSize.defaultProps = {\r\n    disabledProps: []\r\n};\r\n","import Switch from \"@material-ui/core/Switch/Switch\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\n\r\nconst DockSwitch = withStyles((theme) => ({\r\n    root: {\r\n        width: 42,\r\n        height: 10,\r\n        padding: 4,\r\n        display: 'flex',\r\n    },\r\n    switchBase: {\r\n        padding: 0,\r\n        color: \"#d2d2d2\",\r\n        '&$checked': {\r\n            transform: 'translateX(28px) scale(1)',\r\n            color: \"#849dff\",\r\n            '& + $track': {\r\n                opacity: 1,\r\n                backgroundColor: \"#849dff\",\r\n            },\r\n        },\r\n    },\r\n    thumb: {\r\n        width: 10,\r\n        height: 10,\r\n        boxShadow: 'none',\r\n    },\r\n    track: {\r\n        borderRadius: 16 / 2,\r\n        opacity: 1,\r\n        backgroundColor: \"#a2a2a2\",\r\n    },\r\n    checked: {},\r\n}))(Switch);\r\n\r\nexport default DockSwitch;\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport {\r\n    getPxValueFromCSSValue,\r\n    getUnitFromStyleValue,\r\n    setGridItemStyle,\r\n    setTempData\r\n} from \"../../AwesomwGridLayoutHelper\";\r\nimport {cloneObject} from \"../../AwesomeGridLayoutUtils\";\r\nimport Switch from \"@material-ui/core/Switch/Switch\";\r\nimport DockSwitch from \"./DockSwitch\";\r\nimport NumberInputWithUnit from \"../../Menus/CommonComponents/NumberInputWithUnit\";\r\nimport InspectorTitle from \"./InspectorTitle\";\r\n\r\nexport default class InspectorPosition extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    onDockActiveChange = (side, value) => {\r\n        let {item} = this.props;\r\n        let oldDocks = cloneObject(item.getFromData(\"docks\") || {});\r\n\r\n        oldDocks[side] = value;\r\n        if (side === \"top\" && value) {\r\n            oldDocks.bottom = false;\r\n        }\r\n        if (side === \"bottom\" && value) {\r\n            oldDocks.top = false;\r\n        }\r\n\r\n        item.setDocks(oldDocks.top, oldDocks.left, oldDocks.bottom, oldDocks.right,\r\n            item.getFromTempData(\"autoDeck\"));\r\n\r\n        item.props.select.updateHelpLines(item, item.state.helpLinesParent,\r\n            item.getSize(false), item.state.dragging);\r\n    };\r\n\r\n    onDockAutoChange = () => {\r\n        let {item} = this.props;\r\n        setTempData(\"autoDock\", !item.getFromTempData(\"autoDock\"), item, true);\r\n    };\r\n\r\n    onUnitChange = (prop, parentProp, unit) => {\r\n        let {item} = this.props;\r\n        let gridItemStyle = cloneObject(item.getFromData(\"gridItemStyle\"));\r\n        let compositeGridItemStyle = item.getCompositeFromData(\"gridItemStyle\");\r\n        if (!gridItemStyle)\r\n            gridItemStyle = {};\r\n\r\n        let parentRect = item.props.parent.getSize(false);\r\n        let value = getPxValueFromCSSValue(compositeGridItemStyle[prop], parentRect.scrollWidthMinusPadding, item);\r\n\r\n        if (unit === \"px\") {\r\n            gridItemStyle[prop] = `${value}${unit}`;\r\n        } else if (unit === \"%\") {\r\n            // let runtimeGridItemStyle = item.getRuntimeGridItemStyle();\r\n            gridItemStyle[prop] = `${value / parentRect.scrollWidthMinusPadding * 100}${unit}`;\r\n        }\r\n\r\n        setGridItemStyle(gridItemStyle, item, true);\r\n\r\n        item.props.select.updateHelpLines(item, item.state.helpLinesParent,\r\n            item.getSize(false), item.state.dragging);\r\n    };\r\n\r\n    onValueChange = (prop, value) => {\r\n        let {item} = this.props;\r\n        let gridItemStyle = cloneObject(item.getFromData(\"gridItemStyle\"));\r\n        let compositeGridItemStyle = item.getCompositeFromData(\"gridItemStyle\");\r\n        if (!gridItemStyle)\r\n            gridItemStyle = {};\r\n        gridItemStyle[prop] = `${value}${getUnitFromStyleValue(compositeGridItemStyle[prop])}`;\r\n\r\n        setGridItemStyle(gridItemStyle, item, true);\r\n\r\n        item.props.select.updateHelpLines(item, item.state.helpLinesParent,\r\n            item.getSize(false), item.state.dragging);\r\n        item.props.select.updateResizePanes(item, item.getSize(false));\r\n    };\r\n\r\n    runtimeValueToStyleValue = (propName, parentValue, value, style) => {\r\n        if (!style)\r\n            return;\r\n\r\n        let unit = getUnitFromStyleValue(style[propName]);\r\n        let {item} = this.props;\r\n\r\n        if (unit === \"px\") {\r\n            value = `${value}px`;\r\n        } else if (unit === \"%\") {\r\n            value = `${value /\r\n            parentValue * 100}%`;\r\n        } else {\r\n            value = unit;\r\n        }\r\n\r\n        return value;\r\n    };\r\n\r\n    render () {\r\n        let {item} = this.props;\r\n        let docks = item.getCompositeFromData(\"docks\");\r\n        let auto = item.getFromTempData(\"autoDock\");\r\n        let gridItemStyle = item.getCompositeFromData(\"gridItemStyle\");\r\n        let runtimeStyle = item.state.runtimeStyle;\r\n        let runtimeGridItemStyle = item.getRuntimeGridItemStyle();\r\n        return (\r\n            <>\r\n                <InspectorTitle title=\"Position\" onChange={(open) => {\r\n                    this.setState({open});\r\n                }}/>\r\n\r\n                {\r\n                    this.state.open &&\r\n                    <div className=\"InspectorOptionRoot\">\r\n                        <div className=\"InspectorDockingRoot\">\r\n                            <span className=\"InspectorDockingRootTitle\">\r\n                                Docking\r\n                            </span>\r\n\r\n                            <div className=\"InspectorDockingDocks\">\r\n                                <div className=\"InspectorDockingLeft\">\r\n                                    <DockSwitch\r\n                                        className=\"InspectorDockSwitch\"\r\n                                        checked={docks.left || false}\r\n                                        onChange={(e) => {\r\n                                            let checked = e.target.checked;\r\n                                            this.onDockActiveChange('left', checked);\r\n                                        }}\r\n                                        disabled={auto}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"InspectorDockingRight\">\r\n                                    <DockSwitch\r\n                                        className=\"InspectorDockSwitch\"\r\n                                        checked={docks.right || false}\r\n                                        onChange={(e) => {\r\n                                            let checked = e.target.checked;\r\n                                            this.onDockActiveChange('right', checked);\r\n                                        }}\r\n                                        disabled={auto}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"InspectorDockingTop\">\r\n                                    <DockSwitch\r\n                                        className=\"InspectorDockSwitch90\"\r\n                                        checked={docks.top || false}\r\n                                        onChange={(e) => {\r\n                                            let checked = e.target.checked;\r\n                                            this.onDockActiveChange('top', checked);\r\n                                        }}\r\n                                        disabled={auto}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"InspectorDockingBottom\">\r\n                                    <DockSwitch\r\n                                        className=\"InspectorDockSwitch90\"\r\n                                        checked={docks.bottom || false}\r\n                                        onChange={(e) => {\r\n                                            let checked = e.target.checked;\r\n                                            this.onDockActiveChange('bottom', checked);\r\n                                        }}\r\n                                        disabled={auto}\r\n                                    />\r\n                                </div>\r\n                                {\r\n                                    auto &&\r\n                                    <div className=\"InspectorDockingDisable\"/>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"InspectorOverflowDir\">\r\n                        <span className=\"InspectorOverflowDirTitle\">\r\n                            Auto docking\r\n                        </span>\r\n                            <Switch\r\n                                className=\"InspectorOverflowDirSwitch\"\r\n                                checked={auto || false}\r\n                                onChange={(e) => {\r\n                                    this.onDockAutoChange();\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div className=\"InspectorOverflowMarginRoot\">\r\n                            <NumberInputWithUnit\r\n                                className=\"InspectorOverflowMargin\"\r\n                                min={-Infinity}\r\n                                max={Infinity}\r\n                                disabled={!docks.top || auto}\r\n                                value={docks.top && (runtimeStyle && runtimeGridItemStyle ?\r\n                                    runtimeGridItemStyle.marginTop : gridItemStyle.marginTop)}\r\n                                onChange={(value) => {\r\n                                    this.onValueChange(\"marginTop\", value);\r\n                                }}\r\n                                onUnitChange={(unit) => {\r\n                                    this.onUnitChange(\"marginTop\", \"height\", unit);\r\n                                }}\r\n                                units={[\"%\", \"px\"]}\r\n                                unit={\r\n                                    docks.top &&\r\n                                    getUnitFromStyleValue(\r\n                                        runtimeStyle && runtimeGridItemStyle ?\r\n                                            runtimeGridItemStyle.marginTop : gridItemStyle.marginTop)\r\n                                }\r\n                                inputStyle={{\r\n                                    width: \"100%\",\r\n                                    fontSize: 12\r\n                                }}\r\n                                unitButtonStyle={{\r\n                                    fontSize: 11\r\n                                }}\r\n                            />\r\n                            <NumberInputWithUnit\r\n                                className=\"InspectorOverflowMargin\"\r\n                                min={-Infinity}\r\n                                max={Infinity}\r\n                                disabled={!docks.left || auto}\r\n                                value={docks.left && (runtimeStyle && runtimeGridItemStyle ?\r\n                                    runtimeGridItemStyle.marginLeft : gridItemStyle.marginLeft)}\r\n                                onChange={(value) => {\r\n                                    this.onValueChange(\"marginLeft\", value);\r\n                                }}\r\n                                onUnitChange={(unit) => {\r\n                                    this.onUnitChange(\"marginLeft\", \"height\", unit);\r\n                                }}\r\n                                units={[\"%\", \"px\"]}\r\n                                unit={docks.left &&\r\n                                getUnitFromStyleValue(\r\n                                    runtimeStyle && runtimeGridItemStyle ?\r\n                                        runtimeGridItemStyle.marginLeft : gridItemStyle.marginLeft)}\r\n                                inputStyle={{\r\n                                    width: \"100%\",\r\n                                    fontSize: 12\r\n                                }}\r\n                                unitButtonStyle={{\r\n                                    fontSize: 11\r\n                                }}\r\n                            />\r\n                            <NumberInputWithUnit\r\n                                className=\"InspectorOverflowMargin\"\r\n                                min={-Infinity}\r\n                                max={Infinity}\r\n                                disabled={!docks.bottom || auto}\r\n                                value={docks.bottom && (runtimeStyle && runtimeGridItemStyle ?\r\n                                    runtimeGridItemStyle.marginBottom : gridItemStyle.marginBottom)}\r\n                                onChange={(value) => {\r\n                                    this.onValueChange(\"marginBottom\", value);\r\n                                }}\r\n                                onUnitChange={(unit) => {\r\n                                    this.onUnitChange(\"marginBottom\", \"height\", unit);\r\n                                }}\r\n                                units={[\"%\", \"px\"]}\r\n                                unit={docks.bottom &&\r\n                                getUnitFromStyleValue(\r\n                                    runtimeStyle && runtimeGridItemStyle ?\r\n                                        runtimeGridItemStyle.marginBottom : gridItemStyle.marginBottom)}\r\n                                inputStyle={{\r\n                                    width: \"100%\",\r\n                                    fontSize: 12\r\n                                }}\r\n                                unitButtonStyle={{\r\n                                    fontSize: 11\r\n                                }}\r\n                            />\r\n                            <NumberInputWithUnit\r\n                                className=\"InspectorOverflowMargin\"\r\n                                min={-Infinity}\r\n                                max={Infinity}\r\n                                disabled={!docks.right || auto}\r\n                                value={docks.right && (runtimeStyle && runtimeGridItemStyle ?\r\n                                    runtimeGridItemStyle.marginRight : gridItemStyle.marginRight)}\r\n                                onChange={(value) => {\r\n                                    this.onValueChange(\"marginRight\", value);\r\n                                }}\r\n                                onUnitChange={(unit) => {\r\n                                    this.onUnitChange(\"marginRight\", \"height\", unit);\r\n                                }}\r\n                                units={[\"%\", \"px\"]}\r\n                                unit={docks.right &&\r\n                                getUnitFromStyleValue(\r\n                                    runtimeStyle && runtimeGridItemStyle ?\r\n                                        runtimeGridItemStyle.marginRight : gridItemStyle.marginRight)}\r\n                                inputStyle={{\r\n                                    width: \"100%\",\r\n                                    fontSize: 12\r\n                                }}\r\n                                unitButtonStyle={{\r\n                                    fontSize: 11\r\n                                }}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\nimport Menu from \"@material-ui/core/Menu/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem/MenuItem\";\r\n\r\nexport default class DropDown extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            showUnits: false\r\n        };\r\n\r\n        this.unitIconButton = React.createRef();\r\n    }\r\n\r\n    onClick = (e) => {\r\n        this.setState({anchorEl: e.currentTarget});\r\n    };\r\n\r\n    onChange = (option) => {\r\n        this.props.onChange(option);\r\n    };\r\n\r\n    getValue = () => {\r\n        if (this.props.valueRenderer) {\r\n            return this.props.valueRenderer(this.props.value) ||\r\n                (this.props.renderer && this.props.renderer(this.props.value)) ||\r\n                this.props.value || \"\";\r\n        } else {\r\n            return this.props.value || \"\";\r\n        }\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"DropDownRoot\" style={this.props.rootStyle}>\r\n                <span\r\n                    className=\"DropDownSpan\"\r\n                    style={{...this.props.spanStyle, ...{\r\n                        cursor: \"pointer\"\r\n                    }}}\r\n                    onClick={this.onClick}\r\n                >\r\n                    {this.getValue()}\r\n                </span>\r\n\r\n                <Menu\r\n                    style={{...{\r\n                            zIndex: 99999999999\r\n                        }, ...this.props.menuStyle}}\r\n                    anchorEl={this.state.anchorEl}\r\n                    open={this.state.anchorEl !== undefined}\r\n                    onClose={(e) => {\r\n                        this.setState({anchorEl: undefined});\r\n                    }}\r\n                    MenuListProps={{\r\n                        style: {\r\n                            padding: 0,\r\n                            width: this.props.spanStyle? this.props.spanStyle.width: \"auto\"\r\n                        }\r\n                    }}\r\n                >\r\n                    {\r\n                        this.props.options.map((option, i) => {\r\n                            return (\r\n                                <MenuItem\r\n                                    dense\r\n                                    key={i}\r\n                                    onClick={(e) => {\r\n                                        if (this.props.onChange)\r\n                                            this.props.onChange(option);\r\n\r\n                                        this.setState({anchorEl: undefined});\r\n                                    }}\r\n                                    style={{...(option.disabled && {\r\n                                        pointerEvents: \"none\"\r\n                                    }), ...this.props.menuItemStyle}}\r\n                                >\r\n                                    <span style={{\r\n                                        width: \"100%\"\r\n                                    }}>\r\n                                        {this.props.renderer ? this.props.renderer(option) : option}\r\n                                    </span>\r\n                                </MenuItem>\r\n                            )\r\n                        })\r\n                    }\r\n                </Menu>\r\n\r\n                <div\r\n                    className=\"DropDOwnArrow\"\r\n                >\r\n                    <img width={10} height={10} src={process.env.PUBLIC_URL + \"/static/icon/down-arrow.svg\"}/>\r\n                </div>\r\n\r\n                {\r\n                    this.props.disabled &&\r\n                    <div\r\n                        className=\"DropDOwnDisabled\"\r\n                        style={this.props.spanStyle}\r\n                    />\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\nimport {inputCopyPasteHandler} from \"../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class NumberInput extends React.Component {\r\n    inputFilter = (value, oldValue) => {\r\n        if (/^\\d+$/.test(value)) {\r\n            value = parseFloat(value).toFixed(0);\r\n            value = Math.min(this.props.max, value);\r\n            value = Math.max(this.props.min, value);\r\n            return value;\r\n        } else if (value === \"\") {\r\n            return \"0\";\r\n        }\r\n\r\n        return oldValue;\r\n    };\r\n\r\n    onChange = (e) => {\r\n        let value = this.inputFilter(e.target.value, this.props.value);\r\n        this.props.onChange(value);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <input\r\n                className=\"NumberInput\"\r\n                value={this.props.value || 0}\r\n                onChange={this.onChange}\r\n                onKeyDown={inputCopyPasteHandler}\r\n                type=\"text\"\r\n                style={this.props.inputStyle}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport {getValueFromCSSValue, setScrollBehaviour} from \"../../AwesomwGridLayoutHelper\";\r\nimport NumberInput from \"../../Menus/CommonComponents/NumberInput\";\r\nimport InspectorTitle from \"./InspectorTitle\";\r\n\r\nexport default class InspectorScroll extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    onChangeScrollEffect = (option) => {\r\n        let {item} = this.props;\r\n        let offsetTop = item.getFromData(\"scrollStickyOffsetTop\");\r\n        setScrollBehaviour(item, option, item.props.viewRef.current, false, {offsetTop});\r\n    };\r\n\r\n    onChangeOffsetTop = (offsetTop) => {\r\n        offsetTop = `${offsetTop}px`;\r\n        let {item} = this.props;\r\n        let behaviour = item.getFromData(\"scrollBehaviour\");\r\n        setScrollBehaviour(item, behaviour, item.props.viewRef.current, false, {offsetTop});\r\n        item.props.select.onScrollItem();\r\n    };\r\n\r\n    render () {\r\n        let {item} = this.props;\r\n        let behaviour = item.getFromData(\"scrollBehaviour\");\r\n        let offsetTop = item.getFromData(\"scrollStickyOffsetTop\");\r\n        return (\r\n            <>\r\n                <InspectorTitle title=\"Scroll\" onChange={(open) => {\r\n                    this.setState({open});\r\n                }}/>\r\n\r\n                {\r\n                    this.state.open &&\r\n                    <div className=\"InspectorOptionRoot\">\r\n                        <div className=\"InspectorScrollEffect\"\r\n                             style={{\r\n                                 marginBottom: behaviour === 'sticky' ? 12 : 0\r\n                             }}\r\n                        >\r\n                            <div className=\"InspectorScrollTitle\">\r\n                                Scroll effect\r\n                            </div>\r\n\r\n                            <DropDown\r\n                                options={this.props.options || ['none', 'fixed', 'sticky']}\r\n                                onChange={this.onChangeScrollEffect}\r\n                                value={behaviour || 'none'}\r\n                                spanStyle={{\r\n                                    width: 96,\r\n                                    fontSize: 12\r\n                                }}\r\n                            />\r\n                        </div>\r\n\r\n                        {\r\n                            behaviour === 'sticky' &&\r\n                            <div className=\"InspectorScrollEffect\">\r\n                                <div className=\"InspectorScrollTitle\">\r\n                                    Offset top\r\n                                </div>\r\n\r\n                                <NumberInput\r\n                                    className=\"AngleInput\"\r\n                                    min={0}\r\n                                    max={Infinity}\r\n                                    value={getValueFromCSSValue(offsetTop)}\r\n                                    onChange={this.onChangeOffsetTop}\r\n                                    inputStyle={{\r\n                                        width: 96,\r\n                                        fontSize: 12,\r\n                                        textAlign: \"left\"\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport {\r\n    getPxValueFromCSSValue, getStyleValueFromPx,\r\n    getUnitFromStyleValue,\r\n    setDataInBreakpoint,\r\n    setTempData\r\n} from \"../../AwesomwGridLayoutHelper\";\r\nimport {cloneObject} from \"../../AwesomeGridLayoutUtils\";\r\nimport Switch from \"@material-ui/core/Switch/Switch\";\r\nimport NumberInputWithUnit from \"../../Menus/CommonComponents/NumberInputWithUnit\";\r\nimport InspectorTitle from \"./InspectorTitle\";\r\n\r\nexport default class InspectorPadding extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    onUnitChange = (prop, parentProp, unit) => {\r\n        let {item} = this.props;\r\n        let padding = cloneObject(item.getFromData(\"padding\")) || {};\r\n        let compositePadding = item.getCompositeFromData(\"padding\") || {};\r\n\r\n        let parentRect = item.props.parent.getSize(false);\r\n        let value = getPxValueFromCSSValue(compositePadding[prop], parentRect.width, item);\r\n\r\n        if (unit === \"px\") {\r\n            padding[prop] = `${value}${unit}`;\r\n        } else if (unit === \"%\") {\r\n            padding[prop] = `${value / item.props.parent.getSize(false).width * 100}${unit}`;\r\n        }\r\n        else if (unit === \"vh\") {\r\n            padding[prop] = `${value / item.props.breakpointmanager.getWindowHeight() * 100}${unit}`;\r\n        }\r\n        else if (unit === \"vw\") {\r\n            padding[prop] = `${value / item.props.breakpointmanager.getWindowWidth() * 100}${unit}`;\r\n        }\r\n\r\n        setDataInBreakpoint(\"padding\", padding, item, true, undefined, true);\r\n    };\r\n\r\n    onValueChange = (prop, value) => {\r\n        let {item} = this.props;\r\n        let equalPadding = item.getFromTempData(\"equalPadding\");\r\n        let padding = cloneObject(item.getFromData(\"padding\")) || {};\r\n        let compositePadding = item.getCompositeFromData(\"padding\") || {};\r\n        padding[prop] = `${value}${getUnitFromStyleValue(compositePadding[prop] || \"px\")}`;\r\n        if (equalPadding) {\r\n            let parentRect = item.props.parent? item.props.parent.getSize(false):\r\n                {\r\n                    scrollWidthMinusPadding: item.props.breakpointmanager.getWindowWidth()\r\n                };\r\n            let pxValue = getPxValueFromCSSValue(padding[prop], parentRect.scrollWidthMinusPadding, item);\r\n            padding = {\r\n                top: `${getStyleValueFromPx(pxValue, parentRect.scrollWidthMinusPadding, getUnitFromStyleValue(compositePadding.top || \"px\"), item)}`,\r\n                left: `${getStyleValueFromPx(pxValue, parentRect.scrollWidthMinusPadding, getUnitFromStyleValue(compositePadding.left || \"px\"), item)}`,\r\n                bottom: `${getStyleValueFromPx(pxValue, parentRect.scrollWidthMinusPadding, getUnitFromStyleValue(compositePadding.bottom || \"px\"), item)}`,\r\n                right: `${getStyleValueFromPx(pxValue, parentRect.scrollWidthMinusPadding, getUnitFromStyleValue(compositePadding.right || \"px\"), item)}`,\r\n            };\r\n        }\r\n\r\n        setDataInBreakpoint(\"padding\", padding, item, true, undefined, true);\r\n\r\n        item.invalidateSize(true, true, true, undefined, true);\r\n\r\n        window.requestAnimationFrame(() => {\r\n            item.props.select.onScrollItem();\r\n        })\r\n    };\r\n\r\n    onEqualPadding = (equalPadding) => {\r\n        let {item} = this.props;\r\n\r\n        setTempData(\"equalPadding\", equalPadding, item, true);\r\n        if (equalPadding) {\r\n            let compositePadding = item.getCompositeFromData(\"padding\") || {};\r\n\r\n            let parentRect = item.props.parent? item.props.parent.getSize(false):\r\n                {\r\n                    scrollWidthMinusPadding: item.props.breakpointmanager.getWindowWidth()\r\n                };\r\n            let max = Math.max(\r\n                getPxValueFromCSSValue(compositePadding.top, parentRect.scrollWidthMinusPadding, item) || 0,\r\n                getPxValueFromCSSValue(compositePadding.left, parentRect.scrollWidthMinusPadding, item) || 0,\r\n                getPxValueFromCSSValue(compositePadding.bottom, parentRect.scrollWidthMinusPadding, item) || 0,\r\n                getPxValueFromCSSValue(compositePadding.right, parentRect.scrollWidthMinusPadding, item) || 0,\r\n            );\r\n\r\n            let padding = {\r\n                top: `${getStyleValueFromPx(max, parentRect.scrollWidthMinusPadding, getUnitFromStyleValue(compositePadding.top || \"px\"), item)}`,\r\n                left: `${getStyleValueFromPx(max, parentRect.scrollWidthMinusPadding, getUnitFromStyleValue(compositePadding.left || \"px\"), item)}`,\r\n                bottom: `${getStyleValueFromPx(max, parentRect.scrollWidthMinusPadding, getUnitFromStyleValue(compositePadding.bottom || \"px\"), item)}`,\r\n                right: `${getStyleValueFromPx(max, parentRect.scrollWidthMinusPadding, getUnitFromStyleValue(compositePadding.right || \"px\"), item)}`,\r\n            };\r\n\r\n            setDataInBreakpoint(\"padding\", padding, item, true, undefined, true);\r\n\r\n            item.invalidateSize(true, true, true, undefined, true);\r\n        }\r\n    };\r\n\r\n    render () {\r\n        let {item} = this.props;\r\n        let padding = item.getCompositeFromData(\"padding\") || {};\r\n        let equalPadding = item.getFromTempData(\"equalPadding\") || false;\r\n        return (\r\n            <>\r\n                <InspectorTitle title=\"Padding\" onChange={(open) => {\r\n                    this.setState({open});\r\n                }}/>\r\n\r\n                {\r\n                    this.state.open &&\r\n                    <div className=\"InspectorOptionRoot\">\r\n                        <div className=\"InspectorOverflowMarginRoot\">\r\n                            <NumberInputWithUnit\r\n                                className=\"InspectorOverflowMargin\"\r\n                                min={-Infinity}\r\n                                max={Infinity}\r\n                                value={padding.top || \"0px\"}\r\n                                onChange={(value) => {\r\n                                    this.onValueChange(\"top\", value);\r\n                                }}\r\n                                onUnitChange={(unit) => {\r\n                                    this.onUnitChange(\"top\", \"height\", unit);\r\n                                }}\r\n                                units={[\"%\", \"px\", \"vh\", \"vw\"]}\r\n                                unit={\r\n                                    getUnitFromStyleValue(padding.top || \"px\")\r\n                                }\r\n                                inputStyle={{\r\n                                    width: \"100%\",\r\n                                    fontSize: 12\r\n                                }}\r\n                                unitButtonStyle={{\r\n                                    fontSize: 11\r\n                                }}\r\n                            />\r\n                            <NumberInputWithUnit\r\n                                className=\"InspectorOverflowMargin\"\r\n                                min={-Infinity}\r\n                                max={Infinity}\r\n                                value={padding.left || \"0px\"}\r\n                                onChange={(value) => {\r\n                                    this.onValueChange(\"left\", value);\r\n                                }}\r\n                                onUnitChange={(unit) => {\r\n                                    this.onUnitChange(\"left\", \"height\", unit);\r\n                                }}\r\n                                units={[\"%\", \"px\", \"vh\", \"vw\"]}\r\n                                unit={\r\n                                    getUnitFromStyleValue(padding.left || \"px\")\r\n                                }\r\n                                inputStyle={{\r\n                                    width: \"100%\",\r\n                                    fontSize: 12\r\n                                }}\r\n                                unitButtonStyle={{\r\n                                    fontSize: 11\r\n                                }}\r\n                            />\r\n                            <NumberInputWithUnit\r\n                                className=\"InspectorOverflowMargin\"\r\n                                min={-Infinity}\r\n                                max={Infinity}\r\n                                value={padding.bottom || \"0px\"}\r\n                                onChange={(value) => {\r\n                                    this.onValueChange(\"bottom\", value);\r\n                                }}\r\n                                onUnitChange={(unit) => {\r\n                                    this.onUnitChange(\"bottom\", \"height\", unit);\r\n                                }}\r\n                                units={[\"%\", \"px\", \"vh\", \"vw\"]}\r\n                                unit={\r\n                                    getUnitFromStyleValue(padding.bottom || \"px\")\r\n                                }\r\n                                inputStyle={{\r\n                                    width: \"100%\",\r\n                                    fontSize: 12\r\n                                }}\r\n                                unitButtonStyle={{\r\n                                    fontSize: 11\r\n                                }}\r\n                            />\r\n                            <NumberInputWithUnit\r\n                                className=\"InspectorOverflowMargin\"\r\n                                min={-Infinity}\r\n                                max={Infinity}\r\n                                value={padding.right || \"0px\"}\r\n                                onChange={(value) => {\r\n                                    this.onValueChange(\"right\", value);\r\n                                }}\r\n                                onUnitChange={(unit) => {\r\n                                    this.onUnitChange(\"right\", \"height\", unit);\r\n                                }}\r\n                                units={[\"%\", \"px\", \"vh\", \"vw\"]}\r\n                                unit={\r\n                                    getUnitFromStyleValue(padding.right || \"px\")\r\n                                }\r\n                                inputStyle={{\r\n                                    width: \"100%\",\r\n                                    fontSize: 12\r\n                                }}\r\n                                unitButtonStyle={{\r\n                                    fontSize: 11\r\n                                }}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"InspectorAdjustRotate\">\r\n                                <span className=\"InspectorOverflowDirTitle\">\r\n                                    Equal padding\r\n                                </span>\r\n                            <Switch\r\n                                className=\"InspectorOverflowDirSwitch\"\r\n                                checked={equalPadding}\r\n                                onChange={(e) => {\r\n                                    let checked = e.target.checked;\r\n                                    this.onEqualPadding(checked);\r\n                                }}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport ToggleButton from '@material-ui/lab/ToggleButton';\r\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\r\nimport {setDataInBreakpoint} from \"../../AwesomwGridLayoutHelper\";\r\nimport {cloneObject} from \"../../AwesomeGridLayoutUtils\";\r\nimport Switch from \"@material-ui/core/Switch/Switch\";\r\nimport InspectorTitle from \"./InspectorTitle\";\r\n\r\nexport default class InspectorOverflow extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    onChangeState = (e, value) => {\r\n        let {item} = this.props;\r\n        let thisBpOverflowData = item.getFromData(\"overflowData\");\r\n        let compositOverflowData = item.getCompositeFromData(\"overflowData\");\r\n        if (value === 'scroll' &&\r\n            (!compositOverflowData ||\r\n            ((!compositOverflowData.overflowY || compositOverflowData.overflowY === \"hidden\")&&\r\n            (!compositOverflowData.overflowX || compositOverflowData.overflowX === \"hidden\"))))\r\n        {\r\n            let newOverflowData = cloneObject(thisBpOverflowData || {});\r\n            newOverflowData.state = 'scroll';\r\n            newOverflowData.overflowY = 'scroll';\r\n            setDataInBreakpoint(\"overflowData\", newOverflowData, item, true, undefined, true);\r\n            return;\r\n        }\r\n\r\n        setDataInBreakpoint(\"overflowData.state\", value, item, true, undefined, true);\r\n    };\r\n\r\n    changeScrollDirection = (propName, checked) => {\r\n        let {item} = this.props;\r\n        setDataInBreakpoint(`overflowData.${propName}`, checked? 'scroll': undefined\r\n            , item, true, undefined, true);\r\n    };\r\n\r\n    onChangeAuto = (e, value) => {\r\n        let {item} = this.props;\r\n        setDataInBreakpoint(\"overflowData.auto\", value, item, true, undefined, true);\r\n    };\r\n\r\n    render () {\r\n        let {item} = this.props;\r\n        let overflowData = item.getCompositeFromData(\"overflowData\");\r\n        return (\r\n            <>\r\n                <InspectorTitle title=\"Overflow content\" onChange={(open) => {\r\n                    this.setState({open});\r\n                }}/>\r\n\r\n                {\r\n                    this.state.open &&\r\n                    <div className=\"InspectorOptionRoot\">\r\n                        <div className=\"InspectorAnchorNameTitle\">\r\n                            Overflow\r\n                        </div>\r\n                        <ToggleButtonGroup\r\n                            className=\"InspectorOverflowType\"\r\n                            size='small'\r\n                            value={overflowData.state}\r\n                            exclusive\r\n                            onChange={this.onChangeState}\r\n                        >\r\n                            <ToggleButton value=\"show\" className=\"InspectorOverflowTypeButton\" size='small'\r\n                                        style={{\r\n                                            padding: 3\r\n                                        }}\r\n                            >\r\n                                Show\r\n                            </ToggleButton>\r\n                            <ToggleButton value=\"hide\" className=\"InspectorOverflowTypeButton\" size='small'\r\n                                          style={{\r\n                                              padding: 3\r\n                                          }}\r\n                            >\r\n                                Hide\r\n                            </ToggleButton>\r\n                            <ToggleButton value=\"scroll\" className=\"InspectorOverflowTypeButton\" size='small'\r\n                                          style={{\r\n                                              padding: 3\r\n                                          }}\r\n                            >\r\n                                Scroll\r\n                            </ToggleButton>\r\n                        </ToggleButtonGroup>\r\n\r\n                        {\r\n                            overflowData.state === 'scroll' &&\r\n                            <>\r\n                                <div className=\"InspectorOverflowDir\">\r\n                                <span className=\"InspectorOverflowDirTitle\">\r\n                                    Scroll vertically\r\n                                </span>\r\n                                    <Switch\r\n                                        className=\"InspectorOverflowDirSwitch\"\r\n                                        checked={overflowData.overflowY === \"scroll\" || overflowData.overflowY === \"auto\"}\r\n                                        onChange={(e) => {\r\n                                            let checked = e.target.checked;\r\n                                            this.changeScrollDirection('overflowY', checked);\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"InspectorOverflowDir\">\r\n                                <span className=\"InspectorOverflowDirTitle\">\r\n                                    Scroll horizontally\r\n                                </span>\r\n                                    <Switch\r\n                                        className=\"InspectorOverflowDirSwitch\"\r\n                                        checked={overflowData.overflowX === \"scroll\" || overflowData.overflowX === \"auto\"}\r\n                                        onChange={(e) => {\r\n                                            let checked = e.target.checked;\r\n                                            this.changeScrollDirection('overflowX', checked);\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                                <div className=\"InspectorOverflowAuto\">\r\n                                <span className=\"InspectorOverflowDirTitle\">\r\n                                    Scrollbar visibility\r\n                                </span>\r\n                                </div>\r\n                                <ToggleButtonGroup\r\n                                    className=\"InspectorOverflowAutoToggles\"\r\n                                    size='small'\r\n                                    value={overflowData.auto || \"always\"}\r\n                                    exclusive\r\n                                    onChange={this.onChangeAuto}\r\n                                >\r\n                                    <ToggleButton value=\"hide\" className=\"InspectorOverflowTypeButton\" size='small'\r\n                                                  style={{\r\n                                                      padding: 3\r\n                                                  }}\r\n                                    >\r\n                                        Hide\r\n                                    </ToggleButton>\r\n                                    <ToggleButton value=\"auto\" className=\"InspectorOverflowTypeButton\" size='small'\r\n                                                  style={{\r\n                                                      padding: 3\r\n                                                  }}\r\n                                    >\r\n                                        Auto\r\n                                    </ToggleButton>\r\n                                    <ToggleButton value=\"always\" className=\"InspectorOverflowTypeButton\" size='small'\r\n                                                  style={{\r\n                                                      padding: 3\r\n                                                  }}\r\n                                    >\r\n                                        Show\r\n                                    </ToggleButton>\r\n                                </ToggleButtonGroup>\r\n                            </>\r\n                        }\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\nimport {inputCopyPasteHandler} from \"../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class TextInput extends React.Component {\r\n    onChange = (e) => {\r\n        let value = e.target.value;\r\n        if (this.props.onChange)\r\n            this.props.onChange(value);\r\n    };\r\n\r\n    render () {\r\n        let {inputStyle} = this.props;\r\n        let inputProps = Object.assign({}, this.props);\r\n        delete inputProps.inputStyle;\r\n        return (\r\n            <input\r\n                {...inputProps}\r\n                className=\"NumberInput\"\r\n                value={this.props.value || \"\"}\r\n                onChange={this.onChange}\r\n                type=\"text\"\r\n                style={inputStyle}\r\n                onKeyDown={inputCopyPasteHandler}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport Switch from \"@material-ui/core/Switch/Switch\";\r\nimport TextInput from \"../../Menus/CommonComponents/TextInput\";\r\nimport InspectorTitle from \"./InspectorTitle\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class InspectorAnchor extends React.Component {\r\n    static contextType = EditorContext;\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            open: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    onEnableAnchor = (enable) => {\r\n        let {item} = this.props;\r\n        let anchor = item.getFromTempData(\"anchor\");\r\n        if (enable) {\r\n            item.props.anchorMan.addAnchor(item.props.id.replace(\"comp_\", ''), item, this.context.pageData);\r\n        }\r\n        else {\r\n            item.props.anchorMan.removeAnchor(anchor.id, item, this.context.pageData);\r\n        }\r\n    };\r\n\r\n    onChangeName = (newName) => {\r\n        let {item} = this.props;\r\n        let anchor = item.getFromTempData(\"anchor\");\r\n        item.props.anchorMan.modifyAnchor(anchor.id, newName, item, this.context.pageData);\r\n    };\r\n\r\n    render() {\r\n        let {item} = this.props;\r\n        let anchor = item.getFromTempData(\"anchor\");\r\n        return (\r\n            <>\r\n                <InspectorTitle title=\"Anchor\" onChange={(open) => {\r\n                    this.setState({open});\r\n                }}/>\r\n\r\n                {\r\n                    this.state.open &&\r\n                    <div className=\"InspectorOptionRoot\">\r\n\r\n                        <div className=\"InspectorOverflowDir\">\r\n                        <span className=\"InspectorOverflowDirTitle\">\r\n                            Enable Anchor\r\n                        </span>\r\n                            <Switch\r\n                                className=\"InspectorOverflowDirSwitch\"\r\n                                checked={anchor !== undefined}\r\n                                onChange={(e) => {\r\n                                    this.onEnableAnchor(e.target.checked);\r\n                                }}\r\n                            />\r\n                        </div>\r\n\r\n                        {\r\n                            anchor &&\r\n                            <div className=\"InspectorAnchorName\">\r\n                                <div className=\"InspectorAnchorNameTitle\">\r\n                                    Anchor name\r\n                                </div>\r\n                                <TextInput\r\n                                    value={anchor.name}\r\n                                    onChange={(v) => this.onChangeName(v)}\r\n                                    inputStyle={{\r\n                                        width: \"auto\",\r\n                                        textAlign: \"left\"\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport {rotate} from \"../../AwesomwGridLayoutHelper\";\r\nimport InspectorTitle from \"./InspectorTitle\";\r\nimport NumberInputWithUnit from \"../../Menus/CommonComponents/NumberInputWithUnit\";\r\n\r\nexport default class InspectorAdjustment extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            open: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    onRotationChange = (degree) => {\r\n        console.warn(\"onRotationChange\", degree)\r\n        let {item} = this.props;\r\n\r\n        rotate(item, degree);\r\n    };\r\n\r\n    render() {\r\n        let {item} = this.props;\r\n        let rotate = item.getFromData(\"transform.rotateDegree\");\r\n        return (\r\n            <>\r\n                <InspectorTitle title=\"Adjust\" onChange={(open) => {\r\n                    this.setState({open});\r\n                }}/>\r\n\r\n                {\r\n                    this.state.open &&\r\n                    <div className=\"InspectorOptionRoot\">\r\n                        <div className=\"InspectorAdjustRotate\">\r\n                            <span className=\"InspectorOverflowDirTitle\">\r\n                                Rotate\r\n                            </span>\r\n                            <NumberInputWithUnit\r\n                                min={0}\r\n                                max={360}\r\n                                value={rotate || 0}\r\n                                onChange={(value) => {\r\n                                    this.onRotationChange(value);\r\n                                }}\r\n                                units={[\"°\"]}\r\n                                unit={\"°\"}\r\n                                inputStyle={{\r\n                                    width: 64,\r\n                                    fontSize: 12\r\n                                }}\r\n                                unitButtonStyle={{\r\n                                    fontSize: 11\r\n                                }}\r\n                                disableUnit\r\n                            />\r\n                        </div>\r\n\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {assignData, cloneObject} from \"../../AwesomeGridLayoutUtils\";\r\nimport {getCompositeDesignData, setDataInBreakpoint} from \"../../AwesomwGridLayoutHelper\";\r\nimport InspectorBreadcrumbs from \"../../Test/Inspector/InspectorBreadcrumbs\";\r\nimport InspectorAligns from \"../../Test/Inspector/InspectorAligns\";\r\nimport InspectorSize from \"../../Test/Inspector/InspectorSize\";\r\nimport InspectorPosition from \"../../Test/Inspector/InspectorPosition\";\r\nimport InspectorScroll from \"../../Test/Inspector/InspectorScroll\";\r\nimport InspectorPadding from \"../../Test/Inspector/InspectorPadding\";\r\nimport InspectorOverflow from \"../../Test/Inspector/InspectorOverflow\";\r\nimport InspectorAnchor from \"../../Test/Inspector/InspectorAnchor\";\r\nimport InspectorAdjustment from \"../../Test/Inspector/InspectorAdjustment\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class AGLComponent extends React.Component{\r\n    static contextType = EditorContext;\r\n    constructor (props) {\r\n        super(props);\r\n    }\r\n\r\n    resolveDesignData = () => {\r\n        // Must Override\r\n    };\r\n\r\n    getData = () => {\r\n        let componentData = (this.getDefaultData && this.getDefaultData()) || {};\r\n        let componentBpData = componentData.bpData || {};\r\n\r\n        componentData = assignData(componentData, cloneObject(this.props.data));\r\n\r\n        if (componentBpData) {\r\n            let tempBpData = componentData.bpData;\r\n            componentData.bpData = assignData(componentBpData, tempBpData);\r\n        }\r\n\r\n        let componentStaticData = (this.getStaticData && this.getStaticData()) || {};\r\n        let componentStaticBpData = componentStaticData.bpData || {};\r\n        delete componentStaticData.bpData;\r\n        componentData = assignData(componentData, cloneObject(componentStaticData));\r\n        if (componentStaticBpData) {\r\n            componentData.bpData = assignData(componentData.bpData, componentStaticBpData);\r\n        }\r\n\r\n        return componentData;\r\n    };\r\n\r\n    getAgl = () => {\r\n        return this.props.aglRef.current;\r\n    };\r\n\r\n    getAglRef = () => {\r\n        return this.props.aglRef;\r\n    };\r\n\r\n    showComponentCode = () => {\r\n        if (!this.getAgl())\r\n            return;\r\n\r\n        let cloneProps = Object.assign({}, this.getAgl().props);\r\n\r\n        let componentData =\r\n            {\r\n                \"tagName\": this.props.tagName,\r\n                \"width\": 3,\r\n                \"height\": 2,\r\n                \"innerHtml\": this.getAgl().rootDivRef.current.innerHTML,\r\n                \"presetProps\": this.getAgl().getClearProps(cloneProps)\r\n            }\r\n\r\n        // Create new element\r\n        var el = document.createElement('textarea');\r\n        // Set value (string to be copied)\r\n        el.value = JSON.stringify(componentData);\r\n        // Set non-editable to avoid focus and move outside of view\r\n        el.setAttribute('readonly', '');\r\n        el.style = {position: 'absolute', left: '-9999px'};\r\n        document.body.appendChild(el);\r\n        // Select text inside element\r\n        el.select();\r\n        // Copy text to clipboard\r\n        document.execCommand('copy');\r\n        // Remove temporary element\r\n        document.body.removeChild(el);\r\n    }\r\n\r\n    onDesignChange = (designKey, value) => {\r\n        setDataInBreakpoint(designKey, value, this.getAgl(), true, undefined, true);\r\n        this.updateDesign(getCompositeDesignData(this.getAgl()));\r\n    };\r\n\r\n    getInspector = () => {\r\n        if (this.getInspectorOverride)\r\n            return this.getInspectorOverride();\r\n        return (\r\n            <>\r\n                <InspectorBreadcrumbs\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAligns\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorSize\r\n                    item={this.getAgl()}\r\n                    widthUnits={[\"auto\", \"%\", \"px\", \"vh\", \"vw\"]}\r\n                    heightUnits={[\"auto\", \"%\", \"px\", \"vh\", \"vw\"]}\r\n                    minWidthUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    minHeightUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    maxWidthUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    maxHeightUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                />\r\n                <InspectorOverflow\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorPosition\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorScroll\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorPadding\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAdjustment\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAnchor\r\n                    item={this.getAgl()}\r\n                />\r\n            </>\r\n        )\r\n    };\r\n}\r\n","import React from 'react';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nconst LightTooltip = withStyles(theme => ({\r\n    tooltip: {\r\n        backgroundColor: \"#fff\",\r\n        color: '#000000',\r\n        boxShadow: theme.shadows[1],\r\n        fontSize: 14,\r\n    },\r\n}))(Tooltip);\r\n\r\nexport default LightTooltip\r\n\r\nexport const LightMenuTooltip = withStyles(theme => ({\r\n    tooltip: {\r\n        backgroundColor: \"#fff\",\r\n        color: '#000000',\r\n        boxShadow: '0px 5px 5px -3px rgba(0,0,0,0.2), 0px 8px 10px 1px rgba(0,0,0,0.14), 0px 3px 14px 2px rgba(0,0,0,0.12)',\r\n        fontSize: 14,\r\n        padding: 0\r\n    },\r\n}))(Tooltip);\r\n","import React from \"react\";\r\nimport './MenuBase.css';\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport LightTooltip from \"../../Components/Containers/Menus/Components/LightTooltip\";\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\n\r\nexport default class MenuButton extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {openTooltip: false};\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.mounted = false;\r\n    }\r\n\r\n    onClick = (e) => {\r\n        if (this.props.onClick) {\r\n            this.props.onClick(e);\r\n            return;\r\n        }\r\n\r\n        let {menu} = this.props;\r\n        this.props.select.updateMenu((typeof menu === \"function\") ? menu(e) : menu);\r\n    };\r\n\r\n    toggleTooltip = (openTooltip) => {\r\n        this.setState({openTooltip})\r\n    }\r\n\r\n    render () {\r\n        let {hide, title} = this.props;\r\n        let {openTooltip} = this.state;\r\n\r\n        if (hide)\r\n            return null;\r\n\r\n        return (\r\n            <LightTooltip\r\n                open={openTooltip}\r\n                title={title || \"\"}\r\n                placement=\"top\"\r\n                PopperProps={{style:{zIndex: 999999999999999}}}\r\n            >\r\n                <IconButton\r\n                    onClick={this.onClick}\r\n                    onMouseEnter={() => this.toggleTooltip(true)}\r\n                    onMouseLeave={() => this.toggleTooltip(false)}\r\n                >\r\n                    {\r\n                        this.props.icon\r\n                    }\r\n                    {\r\n                        this.props.children\r\n                    }\r\n                </IconButton>\r\n            </LightTooltip>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './MenuBase.css';\r\nimport '../../HelperStyle.css';\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\n\r\nexport default class MenuBaseIndexTitle extends React.Component {\r\n    render () {\r\n        return (\r\n            <div\r\n                className=\"MenuBaseIndexTitle\"\r\n            >\r\n                <ButtonBase\r\n                    disableRipple={!this.props.onIndexClick}\r\n                    onClick={(e) => {\r\n                        this.props.onIndexClick &&\r\n                        this.props.onIndexClick(e, this.props.title, this.props.index)\r\n                    }}\r\n                >\r\n                    <span>\r\n                        {this.props.title}\r\n                    </span>\r\n                </ButtonBase>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './MenuBase.css';\r\nimport Draggable from 'react-draggable';\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport '../../HelperStyle.css';\r\nimport MenuBaseIndexTitle from \"./MenuBaseIndexTitle\";\r\nimport LightTooltip from \"../../Components/Containers/Menus/Components/LightTooltip\";\r\nimport Tab from \"@material-ui/core/Tab/Tab\";\r\nimport Tabs from \"@material-ui/core/Tabs/Tabs\";\r\n\r\nexport default class MenuBase extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedIndexNo: props.defaultIndexNo,\r\n            currentState: props.multiState ? Object.keys(props.states)[0]: \"\"\r\n        }\r\n    }\r\n\r\n    close = () => {\r\n        if (this.props.multiState)\r\n            Object.values(this.props.states)[0].toggle();\r\n\r\n        this.props.select.updateMenu();\r\n    };\r\n\r\n    onIndexClick = (e, key, selectedIndexNo) => {\r\n        this.setState({selectedIndexNo})\r\n    };\r\n\r\n    getDefaultPos = (defaultPosition) => {\r\n        return {\r\n            y: Math.min(defaultPosition.y, window.innerHeight - 398),\r\n            x: Math.min(defaultPosition.x, window.innerWidth - 300),\r\n        }\r\n    };\r\n\r\n    getOptions = () => {\r\n        if (!this.props.multiState)\r\n            return this.props.options;\r\n\r\n        return this.props.states[this.state.currentState].options;\r\n    }\r\n\r\n    getIndex = () => {\r\n        if (!this.props.multiState)\r\n            return this.props.index;\r\n\r\n        return this.props.states[this.state.currentState].index;\r\n    }\r\n\r\n    onChangeTab = (e, currentState) => {\r\n        this.setState({currentState});\r\n        this.props.states[currentState].toggle();\r\n    };\r\n\r\n    render() {\r\n        let options = this.getOptions();\r\n        let index = this.getIndex();\r\n        return (\r\n            <Draggable\r\n                handle=\".MenuBaseHeaderTitle\"\r\n                bounds=\"parent\"\r\n                defaultPosition={this.getDefaultPos(this.props.defaultPosition)}\r\n            >\r\n                <div\r\n                    className=\"MenuBaseRoot\"\r\n                    style={this.props.styles.root}\r\n                >\r\n                    {/*Header*/}\r\n                    <div\r\n                        className=\"MenuBaseHeaderContainer\"\r\n                    >\r\n                        <span className=\"MenuBaseHeaderTitle\">\r\n                            {this.props.menuTitle || \"Menu Title\"}\r\n                        </span>\r\n\r\n                        <IconButton\r\n                            onClick={this.close}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={16}\r\n                                height={16}\r\n                                src={require('../../icons/close.svg')}\r\n                            />\r\n                        </IconButton>\r\n                    </div>\r\n\r\n                    {/*Tabs*/}\r\n                    {\r\n                        this.props.multiState &&\r\n                        <Tabs\r\n                            className=\"MenuBaseTabBox\"\r\n                            value={this.state.currentState}\r\n                            indicatorColor=\"primary\"\r\n                            textColor=\"primary\"\r\n                            variant=\"fullWidth\"\r\n                            onChange={this.onChangeTab}\r\n                        >\r\n                            {\r\n                                Object.values(this.props.states).map(stateData => {\r\n                                    return (\r\n                                        <Tab key={stateData.name} label={stateData.render} value={stateData.name} className=\"MenuBaseTab\"/>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </Tabs>\r\n                    }\r\n\r\n                    {/*Body*/}\r\n                    <div\r\n                        className=\"MenuBaseBodyContainer\"\r\n                    >\r\n                        <div className=\"MenuBaseBodyIndex\">\r\n                            {\r\n                                index.map((indexData, i) => {\r\n                                    return (\r\n                                        <LightTooltip\r\n                                            key={i}\r\n                                            title={indexData.key}\r\n                                            PopperProps={{\r\n                                                style: {\r\n                                                    zIndex: 999999999999999\r\n                                                }\r\n                                            }}\r\n                                            placement=\"right\"\r\n                                        >\r\n                                            <div\r\n                                                key={i}\r\n                                                style={{\r\n                                                    backgroundColor: this.state.selectedIndexNo === i &&\r\n                                                        'rgba(115, 115, 115, 0.36)'\r\n                                                }}\r\n                                            >\r\n                                                <IconButton\r\n                                                    key={indexData.key}\r\n                                                    onClick={(e) => {\r\n                                                        this.onIndexClick(e, indexData.key, i);\r\n                                                    }}\r\n                                                    buttonBaseStyle={{\r\n                                                        marginLeft: 0\r\n                                                    }}\r\n                                                >\r\n                                                    {indexData.icon}\r\n                                                </IconButton>\r\n                                            </div>\r\n                                        </LightTooltip>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </div>\r\n                        <div className=\"MenuBaseBodyOptions\">\r\n                            <div className=\"MenuBaseBodyOptionsContainer\">\r\n                            {\r\n                                this.state.selectedIndexNo !== undefined &&\r\n                                <MenuBaseIndexTitle\r\n                                    index={this.state.selectedIndexNo}\r\n                                    key={options[this.state.selectedIndexNo].key}\r\n                                    title={options[this.state.selectedIndexNo].key}\r\n                                />\r\n                            }\r\n                            {\r\n                                this.state.selectedIndexNo !== undefined &&\r\n                                options[this.state.selectedIndexNo].render\r\n                            }\r\n                            {\r\n                                this.state.selectedIndexNo === undefined &&\r\n                                options.map((option, i) => {\r\n                                    return (\r\n                                        <MenuBaseIndexTitle\r\n                                            index={i}\r\n                                            key={option.key}\r\n                                            title={option.key}\r\n                                            onIndexClick={this.onIndexClick}\r\n                                        />\r\n                                    )\r\n                                })\r\n                            }\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Draggable>\r\n        )\r\n    }\r\n}\r\n\r\nMenuBase.defaultProps = {\r\n    styles: {}\r\n};\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\nimport RCSlider from 'rc-slider';\r\n\r\nexport default class Slider extends React.Component {\r\n    render () {\r\n        return (\r\n            <RCSlider\r\n                {...this.props}\r\n                min={this.props.min}\r\n                max={this.props.max}\r\n                step={this.props.step}\r\n                value={this.props.value}\r\n                onChange={this.props.onChange}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\nimport Slider from \"./Slider\";\r\nimport NumberInput from \"./NumberInput\";\r\n\r\nexport default class SliderInputControlled extends React.Component {\r\n    onChange = (value) => {\r\n        this.props.onDesignChange &&\r\n        this.props.onDesignChange(this.props.designKey, value);\r\n\r\n        this.props.onChange &&\r\n        this.props.onChange(value);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <Slider\r\n                    className=\"BorderWidthSlider\"\r\n                    style={{ marginRight: 24 }}\r\n                    min={this.props.min}\r\n                    max={this.props.max}\r\n                    value={this.props.value}\r\n                    onChange={this.onChange}\r\n                    handleStyle={{\r\n                        marginLeft: 7\r\n                    }}\r\n                />\r\n\r\n                <NumberInput\r\n                    className=\"BorderWidthInput\"\r\n                    min={this.props.min}\r\n                    max={this.props.max}\r\n                    value={this.props.value}\r\n                    onChange={this.onChange}\r\n                />\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\n\r\nexport default class Image extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            src: props.src,\r\n            hasError: false,\r\n        };\r\n    }\r\n\r\n    onError = (e) => {\r\n        if (!this.state.hasError) {\r\n            let {errorsrc} = this.props;\r\n            this.setState({\r\n                src: errorsrc,\r\n                hasError: true,\r\n            });\r\n        }\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <img\r\n                {...this.props}\r\n                // onError={this.onError}\r\n                src={this.state.src/* || this.props.errorsrc*/}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ReactDOM from 'react-dom';\r\n\r\nclass Portal extends React.Component {\r\n    componentWillUnmount() {\r\n        if (this.defaultNode) {\r\n            document.body.removeChild(this.defaultNode);\r\n        }\r\n        this.defaultNode = null;\r\n    }\r\n\r\n    canUseDOM = !!(\r\n        typeof window !== 'undefined' &&\r\n        window.document &&\r\n        window.document.createElement\r\n    );\r\n\r\n    render() {\r\n        if (!this.canUseDOM) {\r\n            return null;\r\n        }\r\n        let node = this.props.node;\r\n        if (this.props.disabled) {\r\n            return this.props.children;\r\n        }\r\n        if (this.props.nodeId) {\r\n            node = document && document.getElementById(this.props.nodeId);\r\n        }\r\n        if (!node && !this.defaultNode) {\r\n            this.defaultNode = document.createElement('div');\r\n            document.body.appendChild(this.defaultNode);\r\n        }\r\n        return ReactDOM.createPortal(\r\n            this.props.children,\r\n            node || this.defaultNode\r\n        );\r\n    }\r\n}\r\n\r\nPortal.propTypes = {\r\n    children: PropTypes.node.isRequired,\r\n    node: PropTypes.any\r\n};\r\n\r\nexport default Portal;\r\n","import React from \"react\";\r\nimport './ThemeManager.css';\r\nimport './ThemeColorPicker.css';\r\n// import {SketchPicker} from \"react-color\";\r\nimport SketchPicker from \"react-color/lib/components/sketch/Sketch\";\r\nimport Portal from \"../../Portal\";\r\n\r\nexport default class HexColorPicker extends React.Component {\r\n    onChangeComplete = (color) => {\r\n        this.props.onChangeComplete(color.hex);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <Portal node={document.body}>\r\n                <div style={ {\r\n                    position: 'fixed',\r\n                    top: '0px',\r\n                    right: '0px',\r\n                    bottom: '0px',\r\n                    left: '0px',\r\n                    zIndex: 999999999999\r\n                }} onClick={ this.props.onClose }/>\r\n                <div style={{\r\n                    position: 'absolute',\r\n                    left: \"50%\",\r\n                    top: \"50%\",\r\n                    transform: \"translate(-50%, -50%)\",\r\n                    zIndex: 999999999999\r\n                }}>\r\n                    <SketchPicker\r\n                        color={this.props.color}\r\n                        onChangeComplete={ this.onChangeComplete }\r\n                        disableAlpha={this.props.disableAlpha}\r\n                        width={this.props.width || 224}\r\n                    />\r\n                </div>\r\n            </Portal>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './ThemeManager.css';\r\nimport './ThemeColorPicker.css';\r\nimport Image from \"../../Menus/CommonComponents/Image\";\r\nimport Draggable from \"react-draggable\";\r\nimport Portal from \"../../Portal\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport chroma from \"chroma-js\";\r\nimport HexColorPicker from \"./HexColorPicker\";\r\nimport {parseColor} from \"../../AwesomwGridLayoutHelper\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nconst colorKeys = [\r\n    \"1\",\"2\",\"3\",\"4\",\"5\",\r\n];\r\n\r\nexport default class ThemeColorPicker extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            color: props.color\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n    getDefaultPos = (defaultPosition) => {\r\n        return {\r\n            y: Math.min(defaultPosition.y, window.innerHeight - 398),\r\n            x: Math.min(defaultPosition.x, window.innerWidth - 300),\r\n        }\r\n    };\r\n\r\n    onSelectColor = (color) => {\r\n        this.setState({color});\r\n        this.props.onChangeComplete && this.props.onChangeComplete(color);\r\n    };\r\n\r\n    onAddColor = (color) => {\r\n        let siteData = this.context.siteData;\r\n        if (!siteData.myColors.find(c => c === color))\r\n            siteData.myColors.unshift(color);\r\n\r\n        siteData.myColors = siteData.myColors.slice(0, 17);\r\n\r\n        this.onSelectColor(color);\r\n        this.context.update();\r\n    };\r\n\r\n    onAddColorClick = () => {\r\n        this.setState({addColor: true});\r\n    };\r\n\r\n    render() {\r\n        let {editor} = this.context;\r\n        let siteData = this.context.siteData;\r\n        let themeColorCategoryItems = siteData.theme.Colors.items;\r\n        return (\r\n            <Portal node={document.body}>\r\n                <div style={{\r\n                    position: 'fixed',\r\n                    top: '0px',\r\n                    right: '0px',\r\n                    bottom: '0px',\r\n                    left: '0px',\r\n                    zIndex: 999999999999999\r\n                }}>\r\n                    <div style={{\r\n                        position: 'absolute',\r\n                        top: '0px',\r\n                        right: '0px',\r\n                        bottom: '0px',\r\n                        left: '0px',\r\n                    }} onClick={ (e) => this.props.onClose && this.props.onClose() }/>\r\n\r\n                    <Draggable\r\n                        handle=\".ThemeColorPickerHeaderTitle\"\r\n                        bounds=\"parent\"\r\n                        defaultPosition={this.getDefaultPos(this.props.defaultPosition)}\r\n                    >\r\n                        <div className=\"ThemeColorPickerRoot\"\r\n                             style={{\r\n                                 zIndex: 99999999999999999,\r\n                             }}>\r\n                            <div className=\"ThemeColorPickerHeaderRoot\">\r\n                                <div className=\"ThemeColorPickerHeaderTitle\">\r\n                                    Color Picker\r\n                                </div>\r\n\r\n                                <IconButton\r\n                                    onClick={(e) => this.props.onClose && this.props.onClose()}\r\n                                    className=\"ThemeColorPickerHeaderClose\"\r\n                                >\r\n                                    <img\r\n                                        draggable={false}\r\n                                        width={16}\r\n                                        height={16}\r\n                                        src={require('../../icons/close.svg')}\r\n                                    />\r\n                                </IconButton>\r\n                            </div>\r\n\r\n                            <div className=\"ThemeColorPickerSiteColorTitle\">\r\n                                Site Colors\r\n                                <div className=\"ThemeColorPickerSiteColorEdit\">\r\n                                    Edit\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"ThemeColorPickerSiteColorGrid\">\r\n                                {\r\n                                    colorKeys.map(key => {\r\n                                        return (\r\n                                            Object.values(themeColorCategoryItems).map(item => {\r\n                                                console.log(\"themeColorCategoryItems\", this.state.color);\r\n                                               return (\r\n                                                   <div\r\n                                                       key={item.name + key}\r\n                                                       className={`ThemeColorPickerSiteColorItem ${\r\n                                                           parseColor(this.state.color, undefined, this.context) ===\r\n                                                           this.context.getColor(item.name, key) ?\r\n                                                               \"ThemeColorPickerSiteColorItemSelected\": ''\r\n                                                           }`}\r\n                                                       style={{\r\n                                                           backgroundColor:\r\n                                                               this.context.getColor(item.name, key)\r\n                                                       }}\r\n                                                       onClick={(e) => {\r\n                                                           this.onSelectColor(\r\n                                                               {\r\n                                                                   paletteName: item.name,\r\n                                                                   key: key\r\n                                                               }\r\n                                                           )\r\n                                                       }}\r\n                                                   >\r\n\r\n                                                   </div>\r\n                                               )\r\n                                            })\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n\r\n                            <div className=\"ThemeColorPickerSiteColorTitle\">\r\n                                My Colors\r\n                            </div>\r\n\r\n                            <div className=\"ThemeColorPickerMyColorGrid\">\r\n                                <div className=\"ThemeColorPickerMyColorItemAdd\" onClick={this.onAddColorClick}>\r\n                                    <Image\r\n                                        width={10}\r\n                                        height={10}\r\n                                        src={process.env.PUBLIC_URL + '/static/icon/add.svg'}\r\n                                    />\r\n                                </div>\r\n\r\n                                {\r\n                                    Object.values(siteData.myColors).map(color => {\r\n                                        return (\r\n                                            <div className={`ThemeColorPickerMyColorItem ${\r\n                                                    this.state.color === color ?\r\n                                                        \"ThemeColorPickerMyColorItemSelected\": ''\r\n                                                    }`}\r\n                                                 key={color}\r\n                                                 style={{\r\n                                                backgroundColor: color\r\n                                            }}\r\n                                                 onClick={(e) => {\r\n                                                     this.onSelectColor(\r\n                                                         color\r\n                                                     )\r\n                                                 }}\r\n                                            />\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n\r\n\r\n\r\n                            <div className=\"ThemeColorPickerSiteColorTitle\">\r\n                                <div className=\"ThemeColorPickerSiteColorHexTitle\">\r\n                                    <div className=\"ThemeColorPickerSiteColorHexAddColor\" onClick={this.onAddColorClick}>\r\n                                        Add Color\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"ThemeColorPickerSiteColorHex\">\r\n                                    {chroma(parseColor(this.state.color, 1, this.context)).hex()}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </Draggable>\r\n\r\n                    {/*{\r\n                        this.state.addColor &&\r\n                        <>\r\n                            <div style={ {\r\n                                position: 'fixed',\r\n                                top: '0px',\r\n                                right: '0px',\r\n                                bottom: '0px',\r\n                                left: '0px',\r\n                                backgroundColor: 'rgba(0, 0, 0, 0.2)'\r\n                            }} onClick={ () => this.setState({addColor: undefined}) }/>\r\n                            <div style={{\r\n                                position: 'absolute',\r\n                                left: \"50%\",\r\n                                top: \"50%\",\r\n                                transform: \"translate(-50%, -50%)\",\r\n                                zIndex: '2',\r\n                            }}>\r\n                                <SketchPicker\r\n                                    color={this.state.color}\r\n                                    onChangeComplete={ this.onAddColor }\r\n                                    disableAlpha={this.props.disableAlpha}\r\n                                    width={224}\r\n                                />\r\n                            </div>\r\n                        </>\r\n                    }*/}\r\n                    {\r\n                        this.state.addColor &&\r\n                        <HexColorPicker\r\n                            onClose={() => this.setState({addColor: undefined})}\r\n                            color={this.state.color}\r\n                            onChangeComplete={ this.onAddColor }\r\n                            disableAlpha={this.props.disableAlpha}\r\n                            width={224}\r\n                        />\r\n                    }\r\n                </div>\r\n            </Portal>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\nimport SliderInputControlled from \"./SliderInputControlled\";\r\nimport ThemeColorPicker from \"../../Test/Theme/ThemeColorPicker\";\r\nimport chroma from \"chroma-js\";\r\nimport {parseColor} from \"../../AwesomwGridLayoutHelper\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class ColorPicker extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor (props) {\r\n        super(props);\r\n\r\n        this.state = {};\r\n\r\n        this.lastValue = props.color || 'rgba(0,0,0,0)';\r\n    }\r\n\r\n    getRgbA = (value) => {\r\n        if (!value)\r\n            return;\r\n\r\n        if (value instanceof Object) {\r\n            value = this.context.getColor(value.paletteName, value.key);\r\n        }\r\n\r\n        let color = chroma(value);\r\n        return {\r\n            r: color.rgba()[0],\r\n            g: color.rgba()[1],\r\n            b: color.rgba()[2],\r\n            a: color.rgba()[3]\r\n        }\r\n    };\r\n\r\n    handleClick = (e) => {\r\n        if (this.state.displayColorPicker)\r\n            this.setState({ displayColorPicker: false });\r\n        else\r\n            this.setState({ displayColorPicker: e.target })\r\n    };\r\n\r\n    handleClose = () => {\r\n        this.setState({ displayColorPicker: false })\r\n    };\r\n\r\n    handleChangeComplete = (color) => {\r\n        if (color instanceof Object) {\r\n            color.alpha = chroma(parseColor(this.lastValue, this.lastValue.alpha, this.context)).alpha();\r\n            this.lastValue = color;\r\n            // color.alpha = chroma(parseColor(color, undefined, this.context)).alpha();\r\n            this.props.onDesignChange(this.props.designKey, color);\r\n            return;\r\n        }\r\n\r\n        let alpha = this.getColorAndAlpha().alpha || 100;\r\n\r\n        let value = this.lastValue = chroma(parseColor(color, undefined, this.context)).alpha(alpha / 100).css();\r\n\r\n        this.props.onDesignChange(this.props.designKey, value);\r\n    };\r\n\r\n    getColorAndAlpha = () => {\r\n        let result = {\r\n            color: chroma(parseColor(this.props.color, 1, this.context)).alpha(0).hex(),\r\n            alpha: chroma(parseColor(this.props.color, this.props.color && this.props.color.alpha, this.context)).alpha() * 100\r\n        };\r\n\r\n        return result;\r\n    };\r\n\r\n    handleAlphaChange = (alpha) => {\r\n        if (this.lastValue instanceof Object) {\r\n            this.lastValue.alpha = alpha / 100;\r\n        } else {\r\n            this.lastValue = chroma(parseColor(this.lastValue, undefined, this.context)).alpha(alpha / 100).css();\r\n        }\r\n        this.props.onDesignChange(this.props.designKey, this.lastValue);\r\n    };\r\n\r\n    render () {\r\n        let {color, alpha} = this.getColorAndAlpha();\r\n        return (\r\n                <div className=\"CommonMenuRoot ColorPickerRoot\">\r\n                    <ButtonBase\r\n                        style={{\r\n                            background: `url(${process.env.PUBLIC_URL}'/static/icon/transparency.png')`,\r\n                        }}\r\n                        className=\"ColorPickerRGB\"\r\n                        onClick={ this.handleClick }\r\n                    >\r\n                        <div\r\n                            style={{\r\n                                background: parseColor(this.props.color, alpha/100, this.context),\r\n                            }}\r\n                        />\r\n                    </ButtonBase>\r\n\r\n                    <div\r\n                        className=\"ColorPickerAlpha\"\r\n                    >\r\n                        <SliderInputControlled\r\n                            min={0}\r\n                            max={100}\r\n                            value={alpha || 0}\r\n                            onChange={this.handleAlphaChange}\r\n                        />\r\n                    </div>\r\n                    {\r\n                        this.state.displayColorPicker &&\r\n                            <ThemeColorPicker\r\n                                color={color}\r\n                                onClose={this.handleClose}\r\n                                onChangeComplete={ this.handleChangeComplete }\r\n                                disableAlpha\r\n                                editor={this.props.editor}\r\n                                defaultPosition={\r\n                                    this.state.displayColorPicker.getBoundingClientRect()\r\n                                }\r\n                            />\r\n                    }\r\n                </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../../Menus/Menu.css';\r\nimport ColorPicker from \"../../../../Menus/CommonComponents/ColorPicker\";\r\n\r\nexport default class Background extends React.Component {\r\n    render () {\r\n        return (\r\n            <div className=\"MenuOptionSection\">\r\n                <p className=\"MenuOptionSectionTitle\">Background</p>\r\n\r\n                <ColorPicker\r\n                    color={this.props.color}\r\n                    designKey={this.props.designKey}\r\n                    onDesignChange={this.props.onDesignChange}\r\n                    editor={this.props.editor}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\n\r\nexport default class Divider extends React.Component {\r\n    render () {\r\n        return (\r\n            <div className=\"Divider\" style={this.props.style}>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\nimport Slider from \"./Slider\";\r\nimport NumberInput from \"./NumberInput\";\r\n\r\nexport default class SliderInput extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    onChange = (value) => {\r\n        this.props.onDesignChange &&\r\n        this.props.onDesignChange(this.props.designKey, value);\r\n\r\n        this.props.onChange &&\r\n        this.props.onChange(value);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <Slider\r\n                    className=\"BorderWidthSlider\"\r\n                    style={{ marginRight: 24 }}\r\n                    step={this.props.step}\r\n                    min={this.props.min}\r\n                    max={this.props.max}\r\n                    value={this.props.value || 0}\r\n                    onChange={this.onChange}\r\n                    handleStyle={{\r\n                        marginLeft: 7\r\n                    }}\r\n                />\r\n\r\n                <NumberInput\r\n                    className=\"BorderWidthInput\"\r\n                    min={this.props.min}\r\n                    max={this.props.max}\r\n                    value={this.props.value || 0}\r\n                    onChange={this.onChange}\r\n                />\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../../Menus/Menu.css';\r\nimport ColorPicker from \"../../../../Menus/CommonComponents/ColorPicker\";\r\nimport 'rc-slider/assets/index.css';\r\nimport '../style.css';\r\nimport Divider from \"../../../../Menus/CommonComponents/Divider\";\r\nimport SliderInput from \"../../../../Menus/CommonComponents/SliderInput\";\r\n\r\nexport default class Border extends React.Component {\r\n    render () {\r\n        return (\r\n            <>\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Opacity & Color</p>\r\n\r\n                    <ColorPicker\r\n                        color={this.props.border.color}\r\n                        designKey={`${this.props.designKey}.color`}\r\n                        onDesignChange={this.props.onDesignChange}\r\n                        editor={this.props.editor}\r\n                    />\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Width (px)</p>\r\n\r\n                    <div\r\n                        className=\"BorderWidth\"\r\n                    >\r\n                        <SliderInput\r\n                            className=\"BorderWidthSlider\"\r\n                            min={0}\r\n                            max={15}\r\n                            value={this.props.border.width}\r\n                            designKey={`${this.props.designKey}.width`}\r\n                            onDesignChange={this.props.onDesignChange}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../../Menus/Menu.css';\r\nimport NumberInput from \"../../../../Menus/CommonComponents/NumberInput\";\r\nimport IconButton from \"../../../../HelperComponents/IconButton\";\r\nimport {cloneObject} from \"../../../../AwesomeGridLayoutUtils\";\r\n\r\nexport default class Corners extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            radius: cloneObject(props.radius),\r\n            link: true\r\n        }\r\n    }\r\n\r\n    onChange = (value, side) => {\r\n        let radius = this.state.radius;\r\n        let changeSide = [side];\r\n        if (this.state.link)\r\n            changeSide = [\"topLeft\", \"topRight\", \"bottomLeft\", \"bottomRight\"];\r\n        changeSide.forEach(_side => {\r\n            radius[_side] = value;\r\n            this.props.onDesignChange(`${this.props.designKey}.${_side}`, value);\r\n        });\r\n        this.setState({radius});\r\n    };\r\n\r\n    onLinkClick = () => {\r\n        this.setState({link: !this.state.link});\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"MenuOptionSection\">\r\n                <p className=\"MenuOptionSectionTitle\">Radius (px)</p>\r\n\r\n                <div className=\"CornersRow\">\r\n                    <div className=\"CornersRowInput\">\r\n                        <NumberInput\r\n                            min={0}\r\n                            max={999}\r\n                            value={this.state.radius[\"topLeft\"]}\r\n                            onChange={(v) => this.onChange(v, \"topLeft\")}\r\n                        />\r\n                    </div>\r\n                    <div className=\"CornersRowInput\" style={{direction: \"rtl\"}}>\r\n                        <NumberInput\r\n                            min={0}\r\n                            max={999}\r\n                            value={this.state.radius[\"topRight\"]}\r\n                            onChange={(v) => this.onChange(v, \"topRight\")}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <div style={{position: \"relative\"}}>\r\n                    <div className=\"CornersRow\">\r\n                        <div className=\"CornersRowShowTopLeft\"\r\n                             style={{\r\n                                 borderTopLeftRadius: this.state.radius[\"topLeft\"]\r\n                             }}\r\n                        />\r\n                        <div className=\"CornersRowShowTopRight\"\r\n                             style={{\r\n                                 borderTopRightRadius: this.state.radius[\"topRight\"]\r\n                             }}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"CornersRow\">\r\n                        <div className=\"CornersRowShowBottomLeft\"\r\n                             style={{\r\n                                 borderBottomLeftRadius: this.state.radius[\"bottomLeft\"]\r\n                             }}\r\n                        />\r\n                        <div className=\"CornersRowShowBottomRight\"\r\n                             style={{\r\n                                 borderBottomRightRadius: this.state.radius[\"bottomRight\"]\r\n                             }}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"CornersLink\">\r\n                        <IconButton\r\n                            buttonBaseStyle={{\r\n                                marginLeft: 0\r\n                            }}\r\n                            onClick={this.onLinkClick}\r\n                        >\r\n                            {\r\n                                this.state.link &&\r\n                                <img draggable={false} width={24} height={24}\r\n                                     src={require('../../../../icons/chain.svg')} />\r\n                            }\r\n                            {\r\n                                !this.state.link &&\r\n                                <img draggable={false} width={24} height={24}\r\n                                     src={require('../../../../icons/unlink.svg')} />\r\n                            }\r\n                        </IconButton>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"CornersRow\">\r\n                    <div className=\"CornersRowInput\">\r\n                        <NumberInput\r\n                            min={0}\r\n                            max={999}\r\n                            value={this.state.radius[\"bottomLeft\"]}\r\n                            onChange={(v) => this.onChange(v, \"bottomLeft\")}\r\n                        />\r\n                    </div>\r\n                    <div className=\"CornersRowInput\" style={{direction: \"rtl\"}}>\r\n                        <NumberInput\r\n                            min={0}\r\n                            max={999}\r\n                            value={this.state.radius[\"bottomRight\"]}\r\n                            onChange={(v) => this.onChange(v, \"bottomRight\")}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\n\r\nexport default class CircularSlider extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.rootDivRef = React.createRef();\r\n    }\r\n\r\n    onMouseDown = (e) => {\r\n        this.rect = this.rootDivRef.current.getBoundingClientRect();\r\n        window.addEventListener(\"pointermove\", this.onMouseMove);\r\n        window.addEventListener(\"pointerup\", this.onMouseUp);\r\n\r\n        let x = e.clientX;\r\n        let y = e.clientY;\r\n\r\n        let vx = x - (this.rect.left + this.rect.width / 2);\r\n        let vy = y - (this.rect.top + this.rect.height / 2);\r\n\r\n        let angle = - Math.atan2(vx, vy) * 180 / Math.PI;\r\n        if (angle < 0) {\r\n            angle = angle + 360;\r\n        }\r\n        this.props.onChange(angle);\r\n    };\r\n\r\n    onMouseMove = (e) => {\r\n        let x = e.clientX;\r\n        let y = e.clientY;\r\n\r\n        let vx = x - (this.rect.left + this.rect.width / 2);\r\n        let vy = y - (this.rect.top + this.rect.height / 2);\r\n\r\n        let angle = - Math.atan2(vx, vy) * 180 / Math.PI;\r\n        if (angle < 0) {\r\n            angle = angle + 360;\r\n        }\r\n        this.props.onChange(angle);\r\n    };\r\n\r\n    onMouseUp = (e) => {\r\n        window.removeEventListener(\"pointermove\", this.onMouseMove);\r\n        window.removeEventListener(\"pointerup\", this.onMouseUp);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <div\r\n                className={`CircularSliderRoot ${this.props.className}`}\r\n                style={{\r\n                    transform: `rotate(${this.props.value}deg)`\r\n                }}\r\n                onMouseDown={this.onMouseDown}\r\n                ref={this.rootDivRef}\r\n            >\r\n                <div\r\n                    className=\"CircularSliderBg\"\r\n                    style={{\r\n                        width: this.props.width || 90,\r\n                        height: this.props.width || 90\r\n                    }}\r\n                >\r\n                    <div\r\n                        className=\"CircularSliderLine\"\r\n                    />\r\n                    <div\r\n                        className=\"CircularSliderCenter\"\r\n                    />\r\n                    <div\r\n                        className=\"CircularSliderKnob\"\r\n                    />\r\n                </div>\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\nimport CircularSlider from \"./CircularSlider\";\r\nimport NumberInput from \"./NumberInput\";\r\n\r\nexport default class Angle extends React.Component {\r\n    onChange = (value) => {\r\n        if (this.props.loop && value === 360)\r\n            value = 0;\r\n\r\n        this.props.onChange(value.toFixed(0));\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"AngleRoot\">\r\n                <CircularSlider\r\n                    {...this.props}\r\n                    className=\"AngleSlider\"\r\n                    value={this.props.angle}\r\n                    onChange={this.onChange}\r\n                    min={0}\r\n                    max={360}\r\n                />\r\n\r\n                <NumberInput\r\n                    className=\"AngleInput\"\r\n                    min={0}\r\n                    max={360}\r\n                    value={this.props.angle}\r\n                    onChange={this.onChange}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../../Menus/Menu.css';\r\nimport '../style.css';\r\nimport Angle from \"../../../../Menus/CommonComponents/Angle\";\r\nimport Divider from \"../../../../Menus/CommonComponents/Divider\";\r\nimport SliderInput from \"../../../../Menus/CommonComponents/SliderInput\";\r\nimport ColorPicker from \"../../../../Menus/CommonComponents/ColorPicker\";\r\n\r\nconst deg2rad = Math.PI/180;\r\nconst rad2deg = 180/Math.PI;\r\nexport default class Shadow extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    onChange = (key, value) => {\r\n        let shadow = this.props.shadow;\r\n        shadow[key] = value;\r\n        this.setState({shadow});\r\n        this.props.onDesignChange(`${this.props.designKey}.${key}`, value);\r\n    };\r\n\r\n    getDegree = (xOffset, yOffset) => {\r\n        if (xOffset === undefined) xOffset = -1;\r\n        if (yOffset === undefined) yOffset = 1;\r\n        let ratio = (xOffset) / (yOffset);\r\n        let degree;\r\n        if (xOffset < 0 && yOffset > 0)\r\n            degree = - Math.atan( ratio ) * rad2deg;\r\n        if (xOffset < 0 && yOffset < 0)\r\n            degree = - Math.atan( ratio ) * rad2deg + 180;\r\n        if (xOffset > 0 && yOffset < 0)\r\n            degree = - Math.atan( ratio ) * rad2deg + 180;\r\n        if (xOffset > 0 && yOffset > 0)\r\n            degree = - Math.atan( ratio ) * rad2deg + 360;\r\n\r\n        return Math.round(degree);\r\n    };\r\n\r\n    getRatio = (degree) => {\r\n        return Math.tan( degree * deg2rad );\r\n    };\r\n\r\n    calcDegree = (degree) => {\r\n        let ratio = this.getRatio(degree);\r\n        let xO, yO;\r\n        if (ratio === 0) {\r\n            xO = 0;\r\n            yO = 1;\r\n        } else if (ratio === Infinity) {\r\n            xO = 1;\r\n            yO = 0;\r\n        } else {\r\n            xO = ratio;\r\n            yO = 1;\r\n            if (Math.abs(ratio) > 1) {\r\n                xO /= Math.abs(ratio);\r\n                yO /= Math.abs(ratio);\r\n            }\r\n        }\r\n        this.onChange(\"xOffset\", (degree <= 90 && degree >= 0) || (degree <= 360 && degree > 270)\r\n            ? -xO : xO);\r\n        this.onChange(\"yOffset\", (degree <= 90 && degree >= 0) || (degree <= 360 && degree > 270)\r\n            ? yO : -yO);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Angle</p>\r\n\r\n                    <div className=\"ShadowRoot\">\r\n                        <Angle\r\n                            className=\"ShadowAngle\"\r\n                            angle={this.getDegree(this.props.shadow.xOffset , this.props.shadow.yOffset)}\r\n                            onChange={this.calcDegree}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Distance (px)</p>\r\n\r\n                    <div\r\n                        className=\"BorderWidth\"\r\n                    >\r\n                        <SliderInput\r\n                            className=\"BorderWidthSlider\"\r\n                            min={0}\r\n                            max={50}\r\n                            value={this.props.shadow.distance}\r\n                            designKey={`${this.props.designKey}.distance`}\r\n                            onDesignChange={this.props.onDesignChange}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Size (px)</p>\r\n\r\n                    <div\r\n                        className=\"BorderWidth\"\r\n                    >\r\n                        <SliderInput\r\n                            className=\"BorderWidthSlider\"\r\n                            min={0}\r\n                            max={50}\r\n                            value={this.props.shadow.size}\r\n                            designKey={`${this.props.designKey}.size`}\r\n                            onDesignChange={this.props.onDesignChange}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Blur (px)</p>\r\n\r\n                    <div\r\n                        className=\"BorderWidth\"\r\n                    >\r\n                        <SliderInput\r\n                            className=\"BorderWidthSlider\"\r\n                            min={0}\r\n                            max={50}\r\n                            value={this.props.shadow.blur}\r\n                            designKey={`${this.props.designKey}.blur`}\r\n                            onDesignChange={this.props.onDesignChange}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Opacity & Color</p>\r\n\r\n                    <ColorPicker\r\n                        color={this.props.shadow.color}\r\n                        designKey={`${this.props.designKey}.color`}\r\n                        onDesignChange={this.props.onDesignChange}\r\n                        editor={this.props.editor}\r\n                    />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport Background from \"./Components/Background\";\r\nimport Border from \"./Components/Border\";\r\nimport Corners from \"./Components/Corners\";\r\nimport Shadow from \"./Components/Shadow\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class BorderDesign extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    getIndex = () => {\r\n        return [\r\n            {\r\n                key: \"Fill Color & Opacity\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/water.svg'} />\r\n            },\r\n            {\r\n                key: \"Border\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/border.svg'} />\r\n            },\r\n            {\r\n                key: \"Corner\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/corner.svg'} />\r\n            },\r\n            {\r\n                key: \"Shadow\",\r\n                icon: <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" className=\"symbol symbol-shadowDesign\">\r\n                    <path fillRule=\"evenodd\"\r\n                          d=\"M11.5 14.5h-8v-2h8c.55 0 1-.45 1-1v-9h2v9c0 1.65-1.35 3-3 3zm-3-4h-7c-1.1 0-2-.9-2-2v-7c0-1.1.9-2 2-2h7c1.1 0 2 .9 2 2v7c0 1.1-.9 2-2 2z\"/>\r\n                </svg>\r\n            }\r\n        ]\r\n    };\r\n\r\n    getOptions = () => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        return [\r\n            {\r\n                key: \"Fill Color & Opacity\",\r\n                render: <Background\r\n                    color={design.fillColor}\r\n                    designKey={\"design.fillColor\"}\r\n                    onDesignChange={this.props.onDesignChange}\r\n                    editor={this.props.item.props.editor}\r\n                />\r\n            },\r\n            {\r\n                key: \"Border\",\r\n                render: <Border\r\n                    border={design.border}\r\n                    designKey={\"design.border\"}\r\n                    onDesignChange={this.props.onDesignChange}\r\n                    editor={this.props.item.props.editor}\r\n                />\r\n            },\r\n            {\r\n                key: \"Corner\",\r\n                render: <Corners\r\n                    radius={design.border.radius || {}}\r\n                    designKey={\"design.border.radius\"}\r\n                    onDesignChange={this.props.onDesignChange}\r\n                />\r\n            },\r\n            {\r\n                key: \"Shadow\",\r\n                render: <Shadow\r\n                    shadow={design.border.shadow || {}}\r\n                    designKey={\"design.border.shadow\"}\r\n                    onDesignChange={this.props.onDesignChange}\r\n                    editor={this.props.item.props.editor}\r\n                />\r\n            }\r\n        ]\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle=\"Box Design\"\r\n                {...this.props}\r\n                index={this.getIndex()}\r\n                options={this.getOptions()}\r\n                item={this.props.item}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\nimport classNames from \"classnames\";\r\n\r\nexport default class GridViewer extends React.Component {\r\n    render () {\r\n        let classes = classNames(\r\n            \"GridViewerRoot\",\r\n            this.props.className\r\n        );\r\n        return (\r\n            <div className={classes}>\r\n                {this.props.children}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../../Menus/Menu.css';\r\nimport GridViewer from \"../../../../Menus/CommonComponents/GridViewer\";\r\nimport classNames from \"classnames\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\n\r\nexport default class AnimationSelector extends React.Component {\r\n    onSelectAnimation = (name) => {\r\n        this.props.onDesignChange(this.props.designKey, name);\r\n        window.requestAnimationFrame(() => {\r\n            this.props.item.playAnimation();\r\n        });\r\n    };\r\n\r\n    render () {\r\n        let {allAnimationNames, animation} = this.props;\r\n        let noneClasses = classNames(\r\n            \"MenuOptionAnimationItem\",\r\n            (!animation || !animation.name) && \"MenuOptionAnimationItemSelected\"\r\n        );\r\n        return (\r\n            <div className=\"MenuOptionSection\">\r\n\r\n                <GridViewer>\r\n                    <ButtonBase\r\n                        className={noneClasses}\r\n                        key='none'\r\n                        onClick={(e) => this.onSelectAnimation()}\r\n                    >\r\n                        <img\r\n                            className=\"MenuOptionAnimationItemImage\"\r\n                            draggable={false} width={48} height={48}\r\n                            // src={process.env.PUBLIC_URL + `/static/icons/animation/${name}.svg`} />\r\n                            src={process.env.PUBLIC_URL + `/static/icon/animation-black.svg`}\r\n                        />\r\n                        <span>\r\n                            none\r\n                        </span>\r\n                    </ButtonBase>\r\n                    {\r\n                        allAnimationNames.map(name => {\r\n                            let classes = classNames(\r\n                                \"MenuOptionAnimationItem\",\r\n                                animation && name === animation.name && \"MenuOptionAnimationItemSelected\"\r\n                            );\r\n                            let displayName = name.split(/(?=[A-Z])/).join(' ');\r\n                            displayName = displayName.charAt(0).toUpperCase() + displayName.slice(1);\r\n                            return (\r\n                                <ButtonBase\r\n                                    className={classes}\r\n                                    key={name}\r\n                                    onClick={(e) => this.onSelectAnimation(name)}\r\n                                >\r\n                                    <img\r\n                                        className=\"MenuOptionAnimationItemImage\"\r\n                                        draggable={false} width={48} height={48}\r\n                                        // src={process.env.PUBLIC_URL + `/static/icons/animation/${name}.svg`} />\r\n                                        src={process.env.PUBLIC_URL + `/static/icon/animation-black.svg`}\r\n                                    />\r\n                                    <span className=\"MenuOptionAnimationItemTitle\">\r\n                                        {displayName}\r\n                                    </span>\r\n                                </ButtonBase>\r\n                            )\r\n                        })\r\n                    }\r\n                </GridViewer>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../../Menus/Menu.css';\r\nimport SliderInput from \"../../../../Menus/CommonComponents/SliderInput\";\r\nimport Switch from \"@material-ui/core/Switch/Switch\";\r\nimport {DynamicAnimations} from \"../../../../Dynamic/DynamicComponents\";\r\nimport Divider from \"../../../../Menus/CommonComponents/Divider\";\r\nimport IconButton from \"../../../../HelperComponents/IconButton\";\r\n\r\nexport default class AnimationOptions extends React.Component {\r\n\r\n    render () {\r\n        let {animation, onDesignChange, designKey, item} = this.props;\r\n        if (!animation || !animation.name) {\r\n            return <div className=\"MenuOptionSectionTitle\" style={{\r\n                textAlign: \"center\"\r\n            }}>\r\n                Select an Animation to See Options\r\n            </div>\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <div className=\"MenuOptionSection MenuOptionGrid2\">\r\n                    <span className=\"MenuOptionSectionTitleNoMargin\">Play animation</span>\r\n\r\n                    <IconButton onClick={(e) => {\r\n                                    item.playAnimation();\r\n                                }}\r\n                                imageContainerStyle={{\r\n                                    padding: 0\r\n                                }}\r\n                                buttonBaseStyle={{\r\n                                    borderRadius: 999\r\n                                }}\r\n                    >\r\n                        <img draggable={false} width={24} height={24}\r\n                                   src={process.env.PUBLIC_URL + '/static/icon/play-button.svg'}\r\n                        />\r\n                    </IconButton>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                {\r\n                    animation.name &&\r\n                        DynamicAnimations[animation.name].getOptions(this.props)\r\n                }\r\n\r\n                {\r\n                    animation.name && DynamicAnimations[animation.name].getOptions(this.props) &&\r\n                    <Divider/>\r\n                }\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Duration</p>\r\n\r\n                    <div\r\n                        className=\"BorderWidth\"\r\n                    >\r\n                        <SliderInput\r\n                            className=\"BorderWidthSlider\"\r\n                            min={0}\r\n                            max={5}\r\n                            step={0.1}\r\n                            value={animation.options? animation.options.duration !== undefined?\r\n                                animation.options.duration: 1 : 1}\r\n                            designKey={`${designKey}.duration`}\r\n                            onDesignChange={onDesignChange}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Delay</p>\r\n\r\n                    <div\r\n                        className=\"BorderWidth\"\r\n                    >\r\n                        <SliderInput\r\n                            className=\"BorderWidthSlider\"\r\n                            min={0}\r\n                            max={10}\r\n                            step={0.1}\r\n                            value={animation.options? animation.options.delay !== undefined?\r\n                                animation.options.delay: 0 : 0}\r\n                            designKey={`${designKey}.delay`}\r\n                            onDesignChange={onDesignChange}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionAnimationOnceRoot\">\r\n                    <p className=\"MenuOptionSectionTitle\">Only animate first time</p>\r\n                    <Switch\r\n                        className=\"InspectorOverflowDirSwitch\"\r\n                        checked={animation.options && animation.options.once ? animation.options.once : false}\r\n                        onChange={(e) => {\r\n                            onDesignChange(`${designKey}.once`, e.target.checked);\r\n                        }}\r\n                    />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\nimport AnimationSelector from \"./Components/AnimationSelector\";\r\nimport AnimationOptions from \"./Components/AnimationOptions\";\r\n\r\nexport default class AnimationDesign extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    getIndex = () => {\r\n        return [\r\n            {\r\n                key: \"Animation Type\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/animation-black.svg'} />\r\n            },\r\n            {\r\n                key: \"Animation Options\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/time.svg'} />\r\n            }\r\n        ]\r\n    };\r\n\r\n    getOptions = () => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        return [\r\n            {\r\n                key: \"Animation Type\",\r\n                render: <AnimationSelector\r\n                    animation={design.animation}\r\n                    designKey={\"design.animation.name\"}\r\n                    onDesignChange={this.props.onDesignChange}\r\n                    allAnimationNames={[\r\n                        'fadeIn',\r\n                        'bounceIn',\r\n                        'glideIn',\r\n                        'floatIn',\r\n                        'expandIn',\r\n                        'spinIn',\r\n                        'flyIn',\r\n                        'turnIn',\r\n                        'arcIn',\r\n                        'puffIn',\r\n                        'foldIn',\r\n                        'flipIn',\r\n                        'reveal',\r\n                    ]}\r\n                    item={this.props.item}\r\n                />\r\n            },\r\n            {\r\n                key: \"Animation Options\",\r\n                render: <AnimationOptions\r\n                    animation={design.animation}\r\n                    designKey={\"design.animation.options\"}\r\n                    onDesignChange={this.props.onDesignChange}\r\n                    item={this.props.item}\r\n                />\r\n            }\r\n        ]\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle=\"Box Design\"\r\n                {...this.props}\r\n                index={this.getIndex()}\r\n                options={this.getOptions()}\r\n                item={this.props.item}\r\n                defaultIndexNo={0}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport MenuButton from \"../../Menus/MenuBase/MenuButton\";\r\nimport BorderDesign from \"./Menus/BorderDesign\";\r\nimport '../../HelperStyle.css';\r\nimport './ContainerBase.css';\r\nimport {\r\n    getCompositeDesignData,\r\n    parseColor,\r\n    resolveDesignData,\r\n} from \"../../AwesomwGridLayoutHelper\";\r\nimport AnimationDesign from \"./Menus/AnimationDesign\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class ContainerBase extends AGLComponent{\r\n    static contextType = EditorContext;\r\n\r\n    resolveDesignData = () => {\r\n        resolveDesignData(this, \"border\", {shadow: {\r\n                xOffset: -1,\r\n                yOffset: 1,\r\n                distance: 1,\r\n                size: 0,\r\n                blur: 4\r\n        }, radius: {}});\r\n    };\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            isContainer: true,\r\n            bpData: {\r\n                overflowData: {\r\n                    state: \"show\"\r\n                }\r\n            }\r\n        };\r\n    };\r\n\r\n    getPrimaryOptions = () => {\r\n        this.resolveDesignData();\r\n\r\n        return [\r\n            <MenuButton\r\n                key={0}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/paint.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Box Design\"\r\n                menu={(e) =>\r\n                    <BorderDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={2}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/animation.svg'} /> }\r\n                select={this.props.select}\r\n                title=\"Animation Design\"\r\n                menu={(e) =>\r\n                    <AnimationDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={33}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/savewhite.svg'} /> }\r\n                select={this.props.select}\r\n                title=\"Copy Data\"\r\n                hide={this.context.user.role === \"user\"}\r\n                onClick={(e) => {\r\n                    this.showComponentCode();\r\n                }}\r\n            />\r\n        ]\r\n    };\r\n\r\n    updateDesign = (compositeDesign) => {\r\n    };\r\n\r\n    getStaticChildren = () => {\r\n        this.resolveDesignData();\r\n\r\n        let border = getCompositeDesignData(this).border;\r\n        let fillColor = getCompositeDesignData(this).fillColor;\r\n        if (fillColor)\r\n            fillColor = parseColor(fillColor, fillColor.alpha, this.context);\r\n\r\n        border.radius = border.radius || {};\r\n        border.shadow = border.shadow || {};\r\n\r\n        let shadowColor = border.shadow.color;\r\n        if (shadowColor)\r\n            shadowColor = parseColor(shadowColor, shadowColor.alpha, this.context);\r\n        let borderColor = border.color;\r\n        if (borderColor)\r\n            borderColor = parseColor(borderColor, borderColor.alpha, this.context);\r\n\r\n        return <div\r\n            className=\"ContainerBaseBorderRoot\"\r\n            style={{\r\n                border:\r\n                    `${border.width || 0}px solid ${borderColor || 'rgba(0,0,0,0)'}`,\r\n                backgroundColor: fillColor,\r\n                borderRadius:\r\n                    `${border.radius.topLeft || 0}px ${border.radius.topRight || 0}px ${border.radius.bottomRight || 0}px ${border.radius.bottomLeft || 0}px`,\r\n                boxShadow: `${(border.shadow.xOffset) * (border.shadow.distance)}px ${(border.shadow.yOffset) * (border.shadow.distance)}px ${border.shadow.blur}px ${border.shadow.size}px ${shadowColor || 'rgba(0,0,0,0)'}`\r\n            }}\r\n        >\r\n\r\n        </div>\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <AGLWrapper\r\n                tagName=\"ContainerBase\"\r\n                aglComponent={this}\r\n                {...this.props}\r\n                data={this.getData()}\r\n                getPrimaryOptions={this.getPrimaryOptions}\r\n                getInspector={this.getInspector}\r\n                getStaticChildren={this.getStaticChildren}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nContainerBase.defaultProps = {\r\n    tagName: \"ContainerBase\"\r\n};\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport Background from \"./Components/Background\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class SectionDesign extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    getIndex = () => {\r\n        return [\r\n            {\r\n                key: \"Fill Color & Opacity\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/water.svg'} />\r\n            }\r\n        ]\r\n    };\r\n\r\n    getOptions = () => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        return [\r\n            {\r\n                key: \"Fill Color & Opacity\",\r\n                render: <Background\r\n                    color={design.fillColor}\r\n                    designKey={\"design.fillColor\"}\r\n                    onDesignChange={this.props.onDesignChange}\r\n                    editor={this.props.item.props.editor}\r\n                />\r\n            }\r\n        ]\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle={this.props.menuTitle || \"Box Design\"}\r\n                {...this.props}\r\n                index={this.getIndex()}\r\n                options={this.getOptions()}\r\n                item={this.props.item}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport InspectorBreadcrumbs from \"../../Test/Inspector/InspectorBreadcrumbs\";\r\nimport InspectorAligns from \"../../Test/Inspector/InspectorAligns\";\r\nimport InspectorSize from \"../../Test/Inspector/InspectorSize\";\r\nimport InspectorOverflow from \"../../Test/Inspector/InspectorOverflow\";\r\nimport InspectorScroll from \"../../Test/Inspector/InspectorScroll\";\r\nimport InspectorPadding from \"../../Test/Inspector/InspectorPadding\";\r\nimport InspectorAnchor from \"../../Test/Inspector/InspectorAnchor\";\r\nimport MenuButton from \"../../Menus/MenuBase/MenuButton\";\r\nimport SectionDesign from \"./Menus/SectionDesign\";\r\nimport {parseColor, setStyleParam} from \"../../AwesomwGridLayoutHelper\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class Header extends AGLComponent{\r\n    static contextType = EditorContext;\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            draggable: false,\r\n            isContainer: true,\r\n            bpData: {\r\n                overflowData: {\r\n                    state: \"show\"\r\n                }\r\n            },\r\n            isSection: true\r\n        };\r\n    };\r\n\r\n    resolveDesignData = () => {\r\n    };\r\n\r\n    getPrimaryOptions = () => {\r\n        this.resolveDesignData();\r\n        return [\r\n            <MenuButton\r\n                key={0}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/paint.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Header Design\"\r\n                menu={(e) =>\r\n                    <SectionDesign\r\n                        menuTitle={\"Header Design\"}\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                    />\r\n                }\r\n            />\r\n        ]\r\n    };\r\n\r\n    updateDesign = (compositeDesign) => {\r\n        let fillColor;\r\n\r\n        if (compositeDesign.fillColor)\r\n            fillColor = parseColor(compositeDesign.fillColor, compositeDesign.fillColor.alpha, this.context);\r\n\r\n        setStyleParam(\"backgroundColor\", fillColor || \"unset\",\r\n            this.getAgl(), 2, undefined, true);\r\n    };\r\n\r\n    getInspectorOverride = () => {\r\n        return (\r\n            <>\r\n                <InspectorBreadcrumbs\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAligns\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorSize\r\n                    item={this.getAgl()}\r\n                    widthUnits={[\"auto\", \"%\", \"px\", \"vh\", \"vw\"]}\r\n                    heightUnits={[\"auto\", \"%\", \"px\", \"vh\", \"vw\"]}\r\n                    minWidthUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    minHeightUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    maxWidthUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    maxHeightUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    disabledProps={[\r\n                        'width', 'minWidth', 'maxWidth'\r\n                    ]}\r\n                />\r\n                <InspectorOverflow\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorScroll\r\n                    item={this.getAgl()}\r\n                    options={['none', 'sticky']}\r\n                />\r\n                <InspectorPadding\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAnchor\r\n                    item={this.getAgl()}\r\n                />\r\n            </>\r\n        )\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <AGLWrapper tagName=\"Header\"\r\n                        defaultGridItemStyle={{\r\n                            alignSelf: \"stretch\",\r\n                            justifySelf: \"stretch\",\r\n                            position: \"relative\",\r\n                            gridArea: \"1/1/2/2\",\r\n                        }}\r\n                        aglComponent={this}\r\n                        {...this.props}\r\n                        style={{\r\n                            // backgroundColor: \"#bcbcbc\",\r\n                            width: \"100%\",\r\n                            height: \"auto\",\r\n                            minHeight: \"150px\",\r\n                            // zIndex: \"50\"\r\n                        }}\r\n                        as=\"header\"\r\n                        autoConstraintsOff\r\n                        helplineOff\r\n                        isSection\r\n                        data={this.getData()}\r\n                        getInspector={this.getInspector}\r\n                        getPrimaryOptions={this.getPrimaryOptions}\r\n            >\r\n            </AGLWrapper>\r\n        )\r\n    }\r\n}\r\n\r\nHeader.defaultProps = {\r\n    tagName: \"Header\"\r\n};\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport InspectorBreadcrumbs from \"../../Test/Inspector/InspectorBreadcrumbs\";\r\nimport InspectorAligns from \"../../Test/Inspector/InspectorAligns\";\r\nimport InspectorSize from \"../../Test/Inspector/InspectorSize\";\r\nimport InspectorOverflow from \"../../Test/Inspector/InspectorOverflow\";\r\nimport InspectorScroll from \"../../Test/Inspector/InspectorScroll\";\r\nimport InspectorPadding from \"../../Test/Inspector/InspectorPadding\";\r\nimport InspectorAnchor from \"../../Test/Inspector/InspectorAnchor\";\r\nimport MenuButton from \"../../Menus/MenuBase/MenuButton\";\r\nimport SectionDesign from \"./Menus/SectionDesign\";\r\nimport {parseColor, setStyleParam} from \"../../AwesomwGridLayoutHelper\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class Footer extends AGLComponent{\r\n    static contextType = EditorContext;\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            draggable: false,\r\n            isContainer: true,\r\n            bpData: {\r\n                overflowData: {\r\n                    state: \"show\"\r\n                }\r\n            },\r\n            isSection: true\r\n        };\r\n    };\r\n\r\n    resolveDesignData = () => {\r\n    };\r\n\r\n    getPrimaryOptions = () => {\r\n        this.resolveDesignData();\r\n        return [\r\n            <MenuButton\r\n                key={0}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/paint.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Footer Design\"\r\n                menu={(e) =>\r\n                    <SectionDesign\r\n                        menuTitle={\"Footer Design\"}\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                    />\r\n                }\r\n            />\r\n        ]\r\n    };\r\n\r\n    updateDesign = (compositeDesign) => {\r\n        let fillColor;\r\n\r\n        if (compositeDesign.fillColor)\r\n            fillColor = parseColor(compositeDesign.fillColor, compositeDesign.fillColor.alpha, this.context);\r\n\r\n        setStyleParam(\"backgroundColor\", fillColor || \"unset\",\r\n            this.getAgl(), 2, undefined, true);\r\n    };\r\n\r\n    getInspectorOverride = () => {\r\n        return (\r\n            <>\r\n                <InspectorBreadcrumbs\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAligns\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorSize\r\n                    item={this.getAgl()}\r\n                    widthUnits={[\"auto\", \"%\", \"px\", \"vh\", \"vw\"]}\r\n                    heightUnits={[\"auto\", \"%\", \"px\", \"vh\", \"vw\"]}\r\n                    minWidthUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    minHeightUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    maxWidthUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    maxHeightUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    disabledProps={[\r\n                        'width', 'minWidth', 'maxWidth'\r\n                    ]}\r\n                />\r\n                <InspectorOverflow\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorScroll\r\n                    item={this.getAgl()}\r\n                    options={['none', 'sticky']}\r\n                />\r\n                <InspectorPadding\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAnchor\r\n                    item={this.getAgl()}\r\n                />\r\n            </>\r\n        )\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <AGLWrapper tagName=\"Footer\"\r\n                        defaultGridItemStyle={{\r\n                            alignSelf: \"stretch\",\r\n                            justifySelf: \"stretch\",\r\n                            position: \"relative\",\r\n                            gridArea: \"3/1/4/2\",\r\n                        }}\r\n                        aglComponent={this}\r\n                        {...this.props}\r\n                        style={{\r\n                            width: \"100%\",\r\n                            height: \"auto\",\r\n                            minHeight: \"100px\",\r\n                            // zIndex: \"51\"\r\n                        }}\r\n                        as=\"footer\"\r\n                        autoConstraintsOff\r\n                        helplineOff\r\n                        isSection\r\n                        data={this.getData()}\r\n                        getInspector={this.getInspector}\r\n                        getPrimaryOptions={this.getPrimaryOptions}\r\n            >\r\n            </AGLWrapper>\r\n        )\r\n    }\r\n}\r\n\r\nFooter.defaultProps = {\r\n    tagName: \"Footer\"\r\n};\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport InspectorBreadcrumbs from \"../../Test/Inspector/InspectorBreadcrumbs\";\r\nimport InspectorAligns from \"../../Test/Inspector/InspectorAligns\";\r\nimport InspectorSize from \"../../Test/Inspector/InspectorSize\";\r\nimport InspectorOverflow from \"../../Test/Inspector/InspectorOverflow\";\r\nimport InspectorScroll from \"../../Test/Inspector/InspectorScroll\";\r\nimport InspectorPadding from \"../../Test/Inspector/InspectorPadding\";\r\nimport InspectorAnchor from \"../../Test/Inspector/InspectorAnchor\";\r\nimport MenuButton from \"../../Menus/MenuBase/MenuButton\";\r\nimport {parseColor, setStyleParam} from \"../../AwesomwGridLayoutHelper\";\r\nimport SectionDesign from \"./Menus/SectionDesign\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class Section extends AGLComponent{\r\n    static contextType = EditorContext;\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            draggable: false,\r\n            isContainer: true,\r\n            bpData: {\r\n                overflowData: {\r\n                    state: \"show\"\r\n                }\r\n            },\r\n            isSection: true\r\n        };\r\n    };\r\n\r\n    resolveDesignData = () => {\r\n    };\r\n\r\n    getPrimaryOptions = () => {\r\n        this.resolveDesignData();\r\n        return [\r\n            <MenuButton\r\n                key={0}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/paint.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Section Design\"\r\n                menu={(e) =>\r\n                    <SectionDesign\r\n                        menuTitle={\"Section Design\"}\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                    />\r\n                }\r\n            />\r\n        ]\r\n    };\r\n\r\n    updateDesign = (compositeDesign) => {\r\n        let fillColor;\r\n\r\n        if (compositeDesign.fillColor)\r\n            fillColor = parseColor(compositeDesign.fillColor, compositeDesign.fillColor.alpha, this.context);\r\n\r\n        setStyleParam(\"backgroundColor\", fillColor || \"unset\",\r\n            this.getAgl(), 2, undefined, true);\r\n    };\r\n\r\n    getInspectorOverride = () => {\r\n        return (\r\n            <>\r\n                <InspectorBreadcrumbs\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAligns\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorSize\r\n                    item={this.getAgl()}\r\n                    widthUnits={[\"auto\", \"%\", \"px\", \"vh\", \"vw\"]}\r\n                    heightUnits={[\"auto\", \"%\", \"px\", \"vh\", \"vw\"]}\r\n                    minWidthUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    minHeightUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    maxWidthUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    maxHeightUnits={[\"%\", \"px\", \"vh\", \"vw\", \"none\"]}\r\n                    disabledProps={!this.props.isVerticalSection ? [\r\n                        'width', 'minWidth', 'maxWidth'\r\n                    ] : [\r\n                        'height', 'minHeight', 'maxHeight'\r\n                    ]}\r\n                />\r\n                <InspectorOverflow\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorScroll\r\n                    item={this.getAgl()}\r\n                    options={['none', 'sticky']}\r\n                />\r\n                <InspectorPadding\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAnchor\r\n                    item={this.getAgl()}\r\n                />\r\n            </>\r\n        )\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <AGLWrapper tagName=\"Section\"\r\n                        defaultGridItemStyle={{\r\n                            alignSelf: \"stretch\",\r\n                            justifySelf: \"stretch\",\r\n                            position: \"relative\",\r\n                            gridArea: \"2/1/3/2\",\r\n                        }}\r\n                        aglComponent={this}\r\n                        {...this.props}\r\n                        style={{...{\r\n                            width: \"100%\",\r\n                            height: \"auto\",\r\n                            minHeight: \"500px\",\r\n                        }, ...this.props.style}}\r\n                        designStyle={{...{\r\n                                // backgroundColor: \"#b3faf5\",\r\n                        }, ...this.props.designStyle}}\r\n                        data={this.getData()}\r\n                        autoConstraintsOff\r\n                        helplineOff\r\n                        isSection\r\n                        as={\"section\"}\r\n                        getInspector={this.getInspector}\r\n                        getPrimaryOptions={this.getPrimaryOptions}\r\n            >\r\n            </AGLWrapper>\r\n        )\r\n    }\r\n}\r\n\r\nSection.defaultProps = {\r\n    tagName: \"Section\"\r\n};\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport {setStyleParam} from \"../../AwesomwGridLayoutHelper\";\r\nimport ColorPicker from \"../../Menus/CommonComponents/ColorPicker\";\r\nimport InspectorTitle from \"./InspectorTitle\";\r\nimport Background from \"../../Components/Containers/Menus/Components/Background\";\r\n\r\nexport default class InspectorBackground extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { open: true};\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    onChangeColor = (key, value) => {\r\n        let {item} = this.props;\r\n        setStyleParam(\"backgroundColor\", value,\r\n            item, true, undefined, true);\r\n    };\r\n\r\n    render() {\r\n        let {item} = this.props;\r\n        let style = item.getFromData(\"style\") || {};\r\n        return (\r\n            <>\r\n                <InspectorTitle defaultOpen title=\"Background\" onChange={(open) => {\r\n                    this.setState({open});\r\n                }}/>\r\n\r\n                {\r\n                    this.state.open &&\r\n                    <div className=\"InspectorOptionRoot\">\r\n                        <span className=\"InspectorBackgroundColorTitle\">\r\n                            Color\r\n                        </span>\r\n                        <ColorPicker\r\n                            color={style.backgroundColor || 'rgba(0, 0, 0, 0)'}\r\n                            designKey={\"design.fillColor\"}\r\n                            // onDesignChange={this.onChangeColor}\r\n                            onDesignChange={this.props.onDesignChange}\r\n                            editor={this.props.item.props.editor}\r\n                        />\r\n                    </div>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport Section from \"../Containers/Section\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport {cloneObject, initGriddata, swapArrayElements} from \"../../AwesomeGridLayoutUtils\";\r\nimport InspectorBreadcrumbs from \"../../Test/Inspector/InspectorBreadcrumbs\";\r\nimport InspectorPadding from \"../../Test/Inspector/InspectorPadding\";\r\nimport InspectorBackground from \"../../Test/Inspector/InspectorBackground\";\r\nimport './PageBase.css';\r\nimport {getCompositeDesignData, isHideInBreakpoint, parseColor, setStyleParam} from \"../../AwesomwGridLayoutHelper\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport DynamicComponents from \"../../Dynamic/DynamicComponents\";\r\n\r\nconst mainColTemplate = \"minmax(0px,1fr)\";\r\n\r\nexport default class PageBase extends AGLComponent {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        };\r\n\r\n        this.gridTemplateRows = \"auto\";\r\n        this.gridTemplateColumns = mainColTemplate;\r\n        this.gridX = 0;\r\n        this.gridY = 1;\r\n\r\n        this.allSectionsH = [];\r\n        this.allSectionsV = [null];\r\n\r\n        this.root = React.createRef();\r\n\r\n        this.initKeyboard();\r\n\r\n        this.initDataFromPageData(props);\r\n    }\r\n\r\n    initDataFromPageData = (props) => {\r\n        if (!props.griddata.initialized)\r\n            initGriddata(props.griddata, this.props.breakpointmanager);\r\n\r\n        if (!props.griddata.allSectionsH)\r\n            props.griddata.allSectionsH = [];\r\n        if (!props.griddata.allSectionsV)\r\n            props.griddata.allSectionsV = [null];\r\n\r\n        this.allSectionsH = props.griddata.allSectionsH;\r\n        this.allSectionsV = props.griddata.allSectionsV;\r\n        // let grid = this.props.breakpointmanager.getFromData(props.griddata, \"grid\");\r\n        let grid = this.props.breakpointmanager\r\n            .getCompositeFromData(this.props.griddata, \"grid\", undefined);\r\n        if (grid) {\r\n            this.gridX = grid.x;\r\n            this.gridY = grid.y;\r\n            this.gridTemplateRows = grid.gridTemplateRows;\r\n            this.gridTemplateColumns = grid.gridTemplateColumns;\r\n        }\r\n    };\r\n\r\n    initKeyboard = () => {\r\n        window.addEventListener(\"keydown\", (e) => {\r\n            e = e || window.event;\r\n            let key = e.which || e.keyCode; // keyCode detection\r\n            let ctrl = e.ctrlKey ? e.ctrlKey : (key === 17); // ctrl detection\r\n\r\n            if (key === 38 && ctrl) {\r\n                e.preventDefault();\r\n                let selectedItem = this.props.select.getSelected();\r\n                if (this.getHorizontalSection(selectedItem.props.id))\r\n                    this.moveUp(selectedItem.props.id);\r\n\r\n                this.props.select.onScrollItem(e, this);\r\n            }\r\n\r\n            if (key === 40 && ctrl) {\r\n                e.preventDefault();\r\n                let selectedItem = this.props.select.getSelected();\r\n                if (this.getHorizontalSection(selectedItem.props.id))\r\n                    this.moveDown(selectedItem.props.id);\r\n\r\n                this.props.select.onScrollItem(e, this);\r\n            }\r\n\r\n            if (key === 37 && ctrl) {\r\n                e.preventDefault();\r\n                let selectedItem = this.props.select.getSelected();\r\n                if (this.getVerticalSection(selectedItem.props.id))\r\n                    this.moveLeft(selectedItem.props.id);\r\n\r\n                this.props.select.onScrollItem(e, this);\r\n            }\r\n\r\n            if (key === 39 && ctrl) {\r\n                e.preventDefault();\r\n                let selectedItem = this.props.select.getSelected();\r\n                if (this.getVerticalSection(selectedItem.props.id))\r\n                    this.moveRight(selectedItem.props.id);\r\n\r\n                this.props.select.onScrollItem(e, this);\r\n            }\r\n        });\r\n    };\r\n\r\n    componentDidMount() {\r\n        // TODO remove tests\r\n        // this.addSectionQueue(0, \"Header\", DynamicComponents, undefined, false);\r\n        // this.addSectionQueue(1, \"Section\", DynamicComponents, undefined, false);\r\n        // this.addSectionQueue(2, \"Footer\", DynamicComponents, undefined, false);\r\n    }\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            isContainer: true,\r\n            draggable: false,\r\n            resizable: true,\r\n            pageResize: true,\r\n            bpData: {\r\n                overflowData: {\r\n                    state: this.props.noScroll? \"hide\": \"scroll\",\r\n                    overflowY: \"scroll\",\r\n                    auto: true\r\n                },\r\n                // grid: {\r\n                //     x: this.gridX,\r\n                //     y: this.gridY,\r\n                //     gridTemplateRows: this.gridTemplateRows,\r\n                //     gridTemplateColumns: this.gridTemplateColumns\r\n                // },\r\n                containerHeight: \"max-content\"\r\n            },\r\n            customStyle: {\r\n                scrollBehavior: \"smooth\"\r\n            }\r\n        };\r\n    };\r\n\r\n    getHorizontalSection = (id) => {\r\n        return this.props.idMan.getItem(this.allSectionsH.find(h => {\r\n            return h === id;\r\n        }));\r\n    };\r\n\r\n    deleteHorizontalSection = (id, fromUndoRedo) => {\r\n        console.log(\"deleteHorizontalSection\");\r\n        let index = this.allSectionsH.findIndex(h => {\r\n            return h === id;\r\n        });\r\n        if (index < 0)\r\n            return false;\r\n\r\n        if (this.allSectionsH.length === 1)\r\n            return false;\r\n\r\n        this.gridX--;\r\n\r\n        let currentSection = this.allSectionsH[index];\r\n        currentSection = this.props.idMan.getItem(currentSection);\r\n        let gridArea = currentSection.getGridArea();\r\n        let areas = gridArea.split('/');\r\n        let x1 = parseInt(areas[0]);\r\n        let y1 = parseInt(areas[1]);\r\n        let x2 = parseInt(areas[2]);\r\n        let y2 = parseInt(areas[3]);\r\n\r\n        let firstRow = x1;\r\n        let lastRow = x2;\r\n\r\n        this.allSectionsV.forEach(verticalSection => {\r\n            if (verticalSection === null)\r\n                return;\r\n\r\n            verticalSection = this.props.idMan.getItem(verticalSection);\r\n\r\n            let gridArea = verticalSection.getGridArea();\r\n            let areas = gridArea.split('/');\r\n            let x12 = parseInt(areas[0]);\r\n            let y12 = parseInt(areas[1]);\r\n            let x22 = parseInt(areas[2]);\r\n            let y22 = parseInt(areas[3]);\r\n\r\n            if (firstRow >= x12 && lastRow <= x22) {\r\n                x22--;\r\n            } else if (lastRow <= x12) {\r\n                x22--;\r\n                x12--;\r\n            }\r\n\r\n            gridArea = `${x12}/${y12}/${x22}/${y22}`;\r\n            verticalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n        });\r\n        this.allSectionsH.forEach(horizontalSection => {\r\n            horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n            let gridArea = horizontalSection.getGridArea();\r\n            let areas = gridArea.split('/');\r\n            let x13 = parseInt(areas[0]);\r\n            let y13 = parseInt(areas[1]);\r\n            let x23 = parseInt(areas[2]);\r\n            let y23 = parseInt(areas[3]);\r\n\r\n            if (lastRow <= x13) {\r\n                x13--;\r\n                x23--;\r\n            }\r\n\r\n            gridArea = `${x13}/${y13}/${x23}/${y23}`;\r\n            horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n        });\r\n\r\n        index >= 0 && this.allSectionsH.splice(index, 1);\r\n\r\n        this.gridTemplateRows = new Array(this.allSectionsH.length).fill(0).map(a => {\r\n            return \"auto\";\r\n        }).join(' ');\r\n\r\n        this.root.current.setGrid({\r\n            x: this.gridX,\r\n            y: this.gridY,\r\n            gridTemplateRows: this.gridTemplateRows,\r\n            gridTemplateColumns: this.gridTemplateColumns\r\n        }, undefined, this.props.breakpointmanager.getHighestBpName());\r\n\r\n        this.getAgl().invalidateSize();\r\n        this.props.select.onScrollItem();\r\n\r\n        let sectionProps = cloneObject(this.getAgl().getChildData(id)).props;\r\n        let newAglId;\r\n        console.log(\"Why\", fromUndoRedo)\r\n        if (!fromUndoRedo) {\r\n            this.props.undoredo.add((idMan) => {\r\n                let item = idMan.getItem(newAglId);\r\n                item.delete(true);\r\n            }, (idMan) => {\r\n                this.addHorizontalSection(index, sectionProps.tagName, DynamicComponents, sectionProps.as, (agl) => {\r\n                    newAglId = agl.props.id;\r\n                }, sectionProps, sectionProps.id, true);\r\n            });\r\n        }\r\n\r\n        return true;\r\n    };\r\n\r\n    getVerticalSection = (id) => {\r\n        return this.props.idMan.getItem(this.allSectionsV.find(h => {\r\n            if (h === null)\r\n                return false;\r\n\r\n            return h === id;\r\n        })) || null;\r\n    };\r\n\r\n    deleteVerticalSection = (id, fromUndoRedo) => {\r\n        console.log(\"deleteVerticalSection\");\r\n        let index = this.allSectionsV.findIndex(h => {\r\n            if (h === null)\r\n                return false;\r\n            return h === id;\r\n        });\r\n        if (index < 0)\r\n            return false;\r\n\r\n        this.gridY--;\r\n\r\n        let currentSection = this.allSectionsV[index];\r\n        currentSection = this.props.idMan.getItem(currentSection);\r\n        let gridArea = currentSection.getGridArea();\r\n        let areas = gridArea.split('/');\r\n        let x1 = parseInt(areas[0]);\r\n        let y1 = parseInt(areas[1]);\r\n        let x2 = parseInt(areas[2]);\r\n        let y2 = parseInt(areas[3]);\r\n\r\n        let firstRow = x1;\r\n        let lastRow = x2;\r\n        let firstCol = y1;\r\n        let lastCol = y2;\r\n\r\n        this.allSectionsV.forEach(verticalSection => {\r\n            if (verticalSection === null)\r\n                return;\r\n\r\n            verticalSection = this.props.idMan.getItem(verticalSection);\r\n\r\n            let gridArea = verticalSection.getGridArea();\r\n            let areas = gridArea.split('/');\r\n            let x12 = parseInt(areas[0]);\r\n            let y12 = parseInt(areas[1]);\r\n            let x22 = parseInt(areas[2]);\r\n            let y22 = parseInt(areas[3]);\r\n\r\n            if (y12 >= firstCol) {\r\n                y12--;\r\n                y22--;\r\n            }\r\n\r\n            gridArea = `${x12}/${y12}/${x22}/${y22}`;\r\n            verticalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n        });\r\n        this.allSectionsH.forEach(horizontalSection => {\r\n            horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n            let gridArea = horizontalSection.getGridArea();\r\n            let areas = gridArea.split('/');\r\n            let x13 = parseInt(areas[0]);\r\n            let y13 = parseInt(areas[1]);\r\n            let x23 = parseInt(areas[2]);\r\n            let y23 = parseInt(areas[3]);\r\n\r\n            if (y13 >= lastCol) {\r\n                y13--;\r\n                y23--;\r\n            } else if (y23 >= lastCol) {\r\n                y23--;\r\n            }\r\n\r\n            gridArea = `${x13}/${y13}/${x23}/${y23}`;\r\n            horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n        });\r\n\r\n        this.allSectionsV.splice(index, 1);\r\n\r\n        let mainColIndex = this.getMainColIndex();\r\n        this.gridTemplateColumns = new Array(this.allSectionsV.length).fill(0).map((a, i) => {\r\n            if (i === mainColIndex)\r\n                return mainColTemplate;\r\n            return \"auto\";\r\n        }).join(' ');\r\n\r\n        this.root.current.setGrid({\r\n            x: this.gridX,\r\n            y: this.gridY,\r\n            gridTemplateRows: this.gridTemplateRows,\r\n            gridTemplateColumns: this.gridTemplateColumns\r\n        }, undefined, this.props.breakpointmanager.getHighestBpName());\r\n\r\n        this.getAgl().invalidateSize();\r\n        this.props.select.onScrollItem();\r\n\r\n        let sectionProps = cloneObject(this.getAgl().getChildData(id)).props;\r\n        let newAglId;\r\n        if (!fromUndoRedo) {\r\n            this.props.undoredo.add((idMan) => {\r\n                let item = idMan.getItem(newAglId);\r\n                item.delete(true);\r\n            }, (idMan) => {\r\n                this.addVerticalSection(index, sectionProps.tagName, DynamicComponents, sectionProps.as, (agl) => {\r\n                    newAglId = agl.props.id;\r\n                }, sectionProps, sectionProps.id, true);\r\n            });\r\n        }\r\n\r\n        return true;\r\n    };\r\n\r\n    addSectionQueue = (index, tagName, dynamicComponents, as, isVertical, callback) => {\r\n        if (!this.addQueue)\r\n            this.addQueue = [];\r\n\r\n        this.addQueue.push({\r\n            index, tagName, dynamicComponents, as, isVertical, callback\r\n        });\r\n\r\n        if (!this.checkingAddQueue) {\r\n            let nextOne = this.addQueue.shift();\r\n            this.checkAddQueue(nextOne);\r\n        }\r\n    };\r\n\r\n    checkAddQueue = (nextOne) => {\r\n        this.checkingAddQueue = true;\r\n        if (!nextOne.isVertical) {\r\n            this.addHorizontalSection(nextOne.index, nextOne.tagName, nextOne.dynamicComponents,\r\n                nextOne.as, (agl) => {\r\n                    if (nextOne.callback)\r\n                        nextOne.callback(agl);\r\n                    let newNextOne = this.addQueue.shift();\r\n                    if (newNextOne)\r\n                        this.checkAddQueue(newNextOne);\r\n                    else\r\n                        this.checkingAddQueue = false;\r\n                });\r\n        } else {\r\n            this.addVerticalSection(nextOne.index, nextOne.tagName, nextOne.dynamicComponents,\r\n                nextOne.as, (agl) => {\r\n                    if (nextOne.callback)\r\n                        nextOne.callback(agl);\r\n                    let newNextOne = this.addQueue.shift();\r\n                    if (newNextOne)\r\n                        this.checkAddQueue(newNextOne);\r\n                    else\r\n                        this.checkingAddQueue = false;\r\n                });\r\n        }\r\n    };\r\n\r\n    onItemPreDelete = (item, fromUndoRedo) => {\r\n        console.log(\"onItemPreDelete\", fromUndoRedo)\r\n        let allow = this.deleteHorizontalSection(item.props.id, fromUndoRedo);\r\n        if (!allow)\r\n            allow = this.deleteVerticalSection(item.props.id, fromUndoRedo);\r\n\r\n        return allow;\r\n    };\r\n\r\n    // Just for vertical items\r\n    onItemPreResizeStop = (item, e, dir, delta, runtimeStyle) => {\r\n        let index = this.allSectionsH.findIndex(h => {\r\n            return h === item.props.id;\r\n        });\r\n\r\n        if (index >= 0)\r\n            return;\r\n        if (dir === 'e' || dir === 'w')\r\n            return;\r\n\r\n        let gridArea = item.getGridArea();\r\n        let areas = gridArea.split('/');\r\n        let x1 = parseInt(areas[0]);\r\n        let y1 = parseInt(areas[1]);\r\n        let x2 = parseInt(areas[2]);\r\n        let y2 = parseInt(areas[3]);\r\n\r\n        this.root.current.prepareRects(false, true);\r\n        let yLineRefs = this.props.gridLine.getYlineRef(this.root.current.props.id);\r\n        let firstLineTop =\r\n            this.root.current.getGridLineRect(yLineRefs[0], 0, 'y', this.root.current).top;\r\n\r\n        if (dir === 'n') {\r\n            if (delta.y > 0) { // small from top\r\n                let targetTop = runtimeStyle.top - firstLineTop;\r\n                let selectedX1 = 1;\r\n                for (let i = yLineRefs.length - 1; i >= 0; i--) {\r\n                    let lineTop =\r\n                        this.root.current.getGridLineRect(yLineRefs[i], i, 'y', this.root.current).top - firstLineTop;\r\n                    if (i === yLineRefs.length - 1) // last line\r\n                        lineTop++;\r\n\r\n                    if (targetTop >= lineTop) {\r\n                        selectedX1 = i + 1;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                this.allSectionsH.forEach(horizontalSection => {\r\n                    horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n                    let gridArea = horizontalSection.getGridArea();\r\n                    let areas = gridArea.split('/');\r\n                    let x12 = parseInt(areas[0]);\r\n                    let y12 = parseInt(areas[1]);\r\n                    let x22 = parseInt(areas[2]);\r\n                    let y22 = parseInt(areas[3]);\r\n\r\n                    if (x12 >= x1 && x12 < selectedX1) {\r\n                        if (y12 === y2) { // shift left\r\n                            y12--;\r\n                            let checkIndex = this.allSectionsV.findIndex(h => {\r\n                                if (h === null)\r\n                                    return false;\r\n                                return h === item.props.id;\r\n                            }) - 1;\r\n                            while (checkIndex >= 0) {\r\n                                let nextSectionV = this.allSectionsV[checkIndex];\r\n                                nextSectionV = this.props.idMan.getItem(nextSectionV);\r\n                                if (nextSectionV) {\r\n                                    let gridArea = nextSectionV.getGridArea();\r\n                                    let areas = gridArea.split('/');\r\n                                    let x13 = parseInt(areas[0]);\r\n                                    let y13 = parseInt(areas[1]);\r\n                                    let x23 = parseInt(areas[2]);\r\n                                    let y23 = parseInt(areas[3]);\r\n\r\n                                    if (x22 <= x13) {\r\n                                        y12--;\r\n                                        checkIndex--;\r\n                                    } else {\r\n                                        checkIndex = -1;\r\n                                    }\r\n                                }\r\n                            }\r\n                        } else if (y22 === y1) { // shift right\r\n                            y22++;\r\n                            let checkIndex = this.allSectionsV.findIndex(h => {\r\n                                if (h === null)\r\n                                    return false;\r\n                                return h === item.props.id;\r\n                            }) + 1;\r\n                            while (checkIndex < this.allSectionsV.length) {\r\n                                let nextSectionV = this.allSectionsV[checkIndex];\r\n                                nextSectionV = this.props.idMan.getItem(nextSectionV);\r\n                                if (nextSectionV) {\r\n                                    let gridArea = nextSectionV.getGridArea();\r\n                                    let areas = gridArea.split('/');\r\n                                    let x13 = parseInt(areas[0]);\r\n                                    let y13 = parseInt(areas[1]);\r\n                                    let x23 = parseInt(areas[2]);\r\n                                    let y23 = parseInt(areas[3]);\r\n\r\n                                    if (x22 <= x13) {\r\n                                        y22++;\r\n                                        checkIndex++;\r\n                                    } else {\r\n                                        checkIndex = this.allSectionsV.length;\r\n                                    }\r\n                                } else {\r\n                                    checkIndex = this.allSectionsV.length;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    gridArea = `${x12}/${y12}/${x22}/${y22}`;\r\n                    horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n                });\r\n\r\n                x1 = Math.min(selectedX1, x2 - 1);\r\n            }\r\n            else { // big from top\r\n                let targetTop = runtimeStyle.top - firstLineTop;\r\n                let selectedX1 = 1;\r\n                for (let i = yLineRefs.length - 1; i >= 0; i--) {\r\n                    let lineTop =\r\n                        this.root.current.getGridLineRect(yLineRefs[i], i, 'y', this.root.current).top - firstLineTop;\r\n                    if (i === yLineRefs.length - 1) // last line\r\n                        lineTop++;\r\n\r\n                    if (targetTop >= lineTop) {\r\n                        selectedX1 = i + 1;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                this.allSectionsH.forEach(horizontalSection => {\r\n                    horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n                    let gridArea = horizontalSection.getGridArea();\r\n                    let areas = gridArea.split('/');\r\n                    let x12 = parseInt(areas[0]);\r\n                    let y12 = parseInt(areas[1]);\r\n                    let x22 = parseInt(areas[2]);\r\n                    let y22 = parseInt(areas[3]);\r\n\r\n                    if (x22 <= x1 && x12 >= selectedX1) {\r\n                        if (y12 <= y1 && y22 >= y2) { // walk through\r\n                            let mainColIndex = this.getMainColIndex();\r\n                            let currentIndex = this.allSectionsV.findIndex(h => {\r\n                                if (h === null)\r\n                                    return false;\r\n                                return h === item.props.id;\r\n                            });\r\n                            if (mainColIndex > currentIndex) { // move right\r\n                                y12 = y2;\r\n                            } else { // move left\r\n                                y22 = y1;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    gridArea = `${x12}/${y12}/${x22}/${y22}`;\r\n                    horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n                });\r\n\r\n                x1 = Math.min(selectedX1, x2 - 1);\r\n            }\r\n        }\r\n        else { // dir === 's'\r\n            if (delta.y > 0) { // big from bottom\r\n                let targetBottom = runtimeStyle.height + (runtimeStyle.top - firstLineTop);\r\n                let selectedX2 = yLineRefs.length;\r\n                for (let i = 1; i < yLineRefs.length; i++) {\r\n                    let lineBottom =\r\n                        this.root.current.getGridLineRect(yLineRefs[i], i, 'y', this.root.current).top - firstLineTop;\r\n                    if (i === yLineRefs.length - 1) // last line\r\n                        lineBottom++;\r\n\r\n                    if (targetBottom <= lineBottom) {\r\n                        selectedX2 = i + 1;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                this.allSectionsH.forEach(horizontalSection => {\r\n                    horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n                    let gridArea = horizontalSection.getGridArea();\r\n                    let areas = gridArea.split('/');\r\n                    let x12 = parseInt(areas[0]);\r\n                    let y12 = parseInt(areas[1]);\r\n                    let x22 = parseInt(areas[2]);\r\n                    let y22 = parseInt(areas[3]);\r\n\r\n                    if (x12 >= x2 && x12 < selectedX2) {\r\n                        if (y12 <= y1 && y22 >= y2) { // walk through\r\n                            let mainColIndex = this.getMainColIndex();\r\n                            let currentIndex = this.allSectionsV.findIndex(h => {\r\n                                if (h === null)\r\n                                    return false;\r\n                                return h === item.props.id;\r\n                            });\r\n                            if (mainColIndex > currentIndex) { // move right\r\n                                y12 = y2;\r\n                            } else { // move left\r\n                                y22 = y1;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    gridArea = `${x12}/${y12}/${x22}/${y22}`;\r\n                    horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n                });\r\n\r\n                x2 = Math.max(selectedX2, x1 + 1);\r\n            }\r\n            else { // small from bottom\r\n                let targetBottom = runtimeStyle.height + (runtimeStyle.top - firstLineTop);\r\n                let selectedX2 = yLineRefs.length;\r\n                for (let i = 1; i < yLineRefs.length; i++) {\r\n                    let lineBottom =\r\n                        this.root.current.getGridLineRect(yLineRefs[i], i, 'y', this.root.current).top - firstLineTop;\r\n                    if (i === yLineRefs.length - 1) // last line\r\n                        lineBottom++;\r\n\r\n                    if (targetBottom <= lineBottom) {\r\n                        selectedX2 = i + 1;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                this.allSectionsH.forEach(horizontalSection => {\r\n                    horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n                    let gridArea = horizontalSection.getGridArea();\r\n                    let areas = gridArea.split('/');\r\n                    let x12 = parseInt(areas[0]);\r\n                    let y12 = parseInt(areas[1]);\r\n                    let x22 = parseInt(areas[2]);\r\n                    let y22 = parseInt(areas[3]);\r\n\r\n                    if (x12 < x2 && x12 >= selectedX2) {\r\n                        if (y12 === y2) { // shift left\r\n                            y12--;\r\n                            let checkIndex = this.allSectionsV.findIndex(h => {\r\n                                if (h === null)\r\n                                    return false;\r\n                                return h === item.props.id;\r\n                            }) - 1;\r\n                            while (checkIndex >= 0) {\r\n                                let nextSectionV = this.allSectionsV[checkIndex];\r\n                                nextSectionV = this.props.idMan.getItem(nextSectionV);\r\n                                if (nextSectionV) {\r\n                                    let gridArea = nextSectionV.getGridArea();\r\n                                    let areas = gridArea.split('/');\r\n                                    let x13 = parseInt(areas[0]);\r\n                                    let y13 = parseInt(areas[1]);\r\n                                    let x23 = parseInt(areas[2]);\r\n                                    let y23 = parseInt(areas[3]);\r\n\r\n                                    if (x12 >= x23) {\r\n                                        y12--;\r\n                                        checkIndex--;\r\n                                    } else {\r\n                                        checkIndex = -1;\r\n                                    }\r\n                                } else {\r\n                                    checkIndex = -1;\r\n                                }\r\n                            }\r\n                        } else if (y22 === y1) { // shift right\r\n                            y22++;\r\n                            let checkIndex = this.allSectionsV.findIndex(h => {\r\n                                if (h === null)\r\n                                    return false;\r\n                                return h === item.props.id;\r\n                            }) + 1;\r\n                            while (checkIndex < this.allSectionsV.length) {\r\n                                let nextSectionV = this.allSectionsV[checkIndex];\r\n                                nextSectionV = this.props.idMan.getItem(nextSectionV);\r\n                                if (nextSectionV) {\r\n                                    let gridArea = nextSectionV.getGridArea();\r\n                                    let areas = gridArea.split('/');\r\n                                    let x13 = parseInt(areas[0]);\r\n                                    let y13 = parseInt(areas[1]);\r\n                                    let x23 = parseInt(areas[2]);\r\n                                    let y23 = parseInt(areas[3]);\r\n\r\n                                    if (x12 >= x23) {\r\n                                        y22++;\r\n                                        checkIndex++;\r\n                                    } else {\r\n                                        checkIndex = this.allSectionsV.length;\r\n                                    }\r\n                                } else {\r\n                                    checkIndex = this.allSectionsV.length;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    gridArea = `${x12}/${y12}/${x22}/${y22}`;\r\n                    horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n                });\r\n\r\n                x2 = Math.max(selectedX2, x1 + 1);\r\n            }\r\n        }\r\n\r\n        item.setGridArea(\r\n            `${x1}/${y1}/${x2}/${y2}`\r\n            , this.props.breakpointmanager.getHighestBpName());\r\n    };\r\n\r\n    addHorizontalSection = (index, tagName, dynamicComponents, as, callback, props, forceNewId, fromUndoRedo) => {\r\n        console.log(\"addHorizontalSection\");\r\n        this.gridX++;\r\n        this.gridTemplateRows = new Array(this.allSectionsH.length + 1).fill(0).map(a => {\r\n            return \"auto\";\r\n        }).join(' ');\r\n\r\n        let currentSectionIndex = index !== 0 ? index - 1 : 0;\r\n\r\n        let currentSection = this.allSectionsH[currentSectionIndex];\r\n        currentSection = this.props.idMan.getItem(currentSection);\r\n\r\n        let currentSectionGridArea = currentSection && currentSection.getGridArea();\r\n        let gridArea = currentSectionGridArea ? `${index + 1}/${\r\n                currentSectionGridArea.split('/')[1]\r\n                }/${index + 2}/${\r\n                currentSectionGridArea.split('/')[3]\r\n                }` :\r\n            \"1/1/2/2\"\r\n        ;\r\n\r\n        if (!tagName)\r\n            tagName = \"Section\";\r\n\r\n        let Tag = dynamicComponents[tagName];\r\n\r\n        let section = <Tag\r\n            as={as}\r\n            isSection\r\n            data={{\r\n                bpData: {\r\n                    gridItemStyle: {\r\n                        gridArea: gridArea,\r\n                        marginTop: \"0px\",\r\n                        marginLeft: \"0px\",\r\n                        marginBottom: \"0px\",\r\n                        marginRight: \"0px\",\r\n                    }\r\n                },\r\n                isSection: true,\r\n            }}\r\n            // resizeSides={['s', 'n']}\r\n            resizeSides={['s']}\r\n            // onItemPreDelete={this.onItemPreDelete}\r\n        />;\r\n\r\n        this.allSectionsV.forEach(verticalSection => {\r\n            if (verticalSection === null)\r\n                return;\r\n\r\n            verticalSection = this.props.idMan.getItem(verticalSection);\r\n\r\n            let gridArea = verticalSection.getGridArea();\r\n            let areas = gridArea.split('/');\r\n            let x1 = parseInt(areas[0]);\r\n            let y1 = parseInt(areas[1]);\r\n            let x2 = parseInt(areas[2]);\r\n            let y2 = parseInt(areas[3]);\r\n\r\n            let firstRow = index + 1;\r\n\r\n            if (x2 >= firstRow)\r\n                x2++;\r\n            if (x1 >= firstRow)\r\n                x1++;\r\n\r\n            gridArea = `${x1}/${y1}/${x2}/${y2}`;\r\n            verticalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n        });\r\n        this.allSectionsH.forEach(horizontalSection => {\r\n            console.log(\"horizontalSection 1\", this.props.idMan.allId)\r\n            horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n            let gridArea = horizontalSection.getGridArea();\r\n            let areas = gridArea.split('/');\r\n            let x1 = parseInt(areas[0]);\r\n            let y1 = parseInt(areas[1]);\r\n            let x2 = parseInt(areas[2]);\r\n            let y2 = parseInt(areas[3]);\r\n\r\n            let firstCol = index + 1;\r\n\r\n            if (x1 >= firstCol)\r\n                x1++;\r\n            if (x2 > firstCol)\r\n                x2++;\r\n\r\n            gridArea = `${x1}/${y1}/${x2}/${y2}`;\r\n            horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n        });\r\n\r\n        this.root.current.setGrid({\r\n            x: this.gridX,\r\n            y: this.gridY,\r\n            gridTemplateRows: this.gridTemplateRows,\r\n            gridTemplateColumns: this.gridTemplateColumns\r\n        }, undefined, this.props.breakpointmanager.getHighestBpName());\r\n\r\n        let newId = forceNewId || (props && this.props.idMan.getId(undefined, props.id));\r\n        let newProps = props || (forceNewId && section.props);\r\n        let newAglId;\r\n\r\n        this.root.current.addChild(section, newId, newProps, undefined, (agl) => {\r\n            this.allSectionsH.splice(index, 0, agl.props.id);\r\n            newAglId = agl.props.id;\r\n            if (callback)\r\n                callback(agl);\r\n        }, undefined, true);\r\n\r\n        let sectionProps;\r\n        if (!fromUndoRedo) {\r\n            this.props.undoredo.add((idMan) => {\r\n                this.addHorizontalSection(index, tagName, dynamicComponents, as, (agl) => {\r\n                    newAglId = agl.props.id;\r\n                }, sectionProps, forceNewId, true);\r\n            }, (idMan) => {\r\n                sectionProps = cloneObject(this.getAgl().getChildData(newAglId)).props;\r\n                let item = idMan.getItem(newAglId);\r\n                item.delete(true);\r\n            });\r\n        }\r\n    };\r\n\r\n    getMainColIndex = (insertIndex) => {\r\n        let index = this.allSectionsV.findIndex(v => {\r\n            return v === null;\r\n        });\r\n\r\n        if (insertIndex !== undefined && index >= insertIndex)\r\n            return index + 1;\r\n\r\n        return index;\r\n    };\r\n\r\n    addVerticalSection = (index, tagName, dynamicComponents, as, callback, props, forceNewId, fromUndoRedo) => {\r\n        console.log(\"addVerticalSection\");\r\n        this.gridY++;\r\n\r\n        let currentSectionIndex = index !== 0 ? index - 1 : 0;\r\n\r\n        let currentSection = this.allSectionsV[currentSectionIndex] || null;\r\n        if (currentSection === null)\r\n            currentSection = this.allSectionsV[currentSectionIndex + 1];\r\n\r\n        currentSection = this.props.idMan.getItem(currentSection);\r\n\r\n        let currentSectionGridArea = currentSection && currentSection.getGridArea();\r\n        let gridArea = currentSectionGridArea ? `${\r\n                currentSectionGridArea.split('/')[0]\r\n                }/${index + 1}/${\r\n                currentSectionGridArea.split('/')[2]\r\n                }/${index + 2}` :\r\n            `${1}/${index + 1}/${this.gridX + 1}/${index + 2}`\r\n        ;\r\n\r\n        if (!tagName)\r\n            tagName = \"Section\";\r\n\r\n        let Tag = dynamicComponents[tagName];\r\n\r\n        let section = <Tag\r\n            as={as}\r\n            isSection\r\n            isVerticalSection\r\n            data={{\r\n                bpData: {\r\n                    gridItemStyle: {\r\n                        gridArea: gridArea,\r\n                        marginTop: \"0px\",\r\n                        marginLeft: \"0px\",\r\n                        marginBottom: \"0px\",\r\n                        marginRight: \"0px\",\r\n                    }\r\n                },\r\n                isSection: true,\r\n                isVerticalSection: true,\r\n            }}\r\n            style={{\r\n                width: \"200px\",\r\n                height: \"auto\",\r\n                minHeight: \"auto\",\r\n            }}\r\n            resizeSides={['e', 'w', 'n', 's']}\r\n        />;\r\n\r\n        this.allSectionsH.forEach(horizontalSection => {\r\n            horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n            let gridArea = horizontalSection.getGridArea();\r\n            let areas = gridArea.split('/');\r\n            let x1 = parseInt(areas[0]);\r\n            let y1 = parseInt(areas[1]);\r\n            let x2 = parseInt(areas[2]);\r\n            let y2 = parseInt(areas[3]);\r\n\r\n            let firstCol = index + 1;\r\n\r\n            if (y1 >= firstCol)\r\n                y1++;\r\n            if (y2 > firstCol)\r\n                y2++;\r\n\r\n            gridArea = `${x1}/${y1}/${x2}/${y2}`;\r\n            horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n        });\r\n        this.allSectionsV.forEach(verticalSection => {\r\n            if (verticalSection === null)\r\n                return;\r\n            verticalSection = this.props.idMan.getItem(verticalSection);\r\n\r\n            let gridArea = verticalSection.getGridArea();\r\n            let areas = gridArea.split('/');\r\n            let x1 = parseInt(areas[0]);\r\n            let y1 = parseInt(areas[1]);\r\n            let x2 = parseInt(areas[2]);\r\n            let y2 = parseInt(areas[3]);\r\n\r\n            let firstCol = index + 1;\r\n\r\n            if (y1 >= firstCol)\r\n                y1++;\r\n            if (y2 > firstCol)\r\n                y2++;\r\n\r\n            gridArea = `${x1}/${y1}/${x2}/${y2}`;\r\n            verticalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n        });\r\n\r\n        let mainColIndex = this.getMainColIndex(index);\r\n        this.gridTemplateColumns = new Array(this.allSectionsV.length + 1).fill(0).map((a, i) => {\r\n            if (i === mainColIndex)\r\n                return mainColTemplate;\r\n            return \"auto\";\r\n        }).join(' ');\r\n\r\n        this.root.current.setGrid({\r\n            x: this.gridX,\r\n            y: this.gridY,\r\n            gridTemplateRows: this.gridTemplateRows,\r\n            gridTemplateColumns: this.gridTemplateColumns\r\n        }, undefined, this.props.breakpointmanager.getHighestBpName());\r\n\r\n        let newId = forceNewId || (props && this.props.idMan.getId(undefined, props.id));\r\n        let newProps = props || (forceNewId && section.props);\r\n        let newAglId;\r\n        this.root.current.addChild(section, newId, newProps, undefined, (agl) => {\r\n            this.allSectionsV.splice(index, 0, agl.props.id);\r\n            this.props.select.onScrollItem();\r\n            newAglId = agl.props.id;\r\n            if (callback)\r\n                callback(agl);\r\n        }, undefined, true);\r\n\r\n        let sectionProps;\r\n        if (!fromUndoRedo) {\r\n            this.props.undoredo.add((idMan) => {\r\n                this.addVerticalSection(index, tagName, dynamicComponents, as, (agl) => {\r\n                    newAglId = agl.props.id;\r\n                }, sectionProps, forceNewId, true);\r\n            }, (idMan) => {\r\n                sectionProps = cloneObject(this.getAgl().getChildData(newAglId)).props;\r\n                let item = idMan.getItem(newAglId);\r\n                item.delete(true);\r\n            });\r\n        }\r\n    };\r\n\r\n    moveUp = (id) => {\r\n        let horizontalSection = this.getHorizontalSection(id);\r\n        if (!horizontalSection)\r\n            return;\r\n\r\n        let gridArea = horizontalSection.getGridArea();\r\n        let areas = gridArea.split('/');\r\n        let x1 = parseInt(areas[0]);\r\n        let y1 = parseInt(areas[1]);\r\n        let x2 = parseInt(areas[2]);\r\n        let y2 = parseInt(areas[3]);\r\n        let gridArea2, areas2, x12, y12, x22, y22;\r\n\r\n        let currentIndex = x1 - 1;\r\n        let sideSection = this.allSectionsH[currentIndex - 1];\r\n        sideSection = this.props.idMan.getItem(sideSection);\r\n        if (sideSection) {\r\n            gridArea2 = sideSection.getGridArea();\r\n            areas2 = gridArea2.split('/');\r\n            x12 = parseInt(areas2[0]);\r\n            y12 = parseInt(areas2[1]);\r\n            x22 = parseInt(areas2[2]);\r\n            y22 = parseInt(areas2[3]);\r\n\r\n            sideSection.setGridArea(\r\n                `${x12 + 1}/${y1}/${x22 + 1}/${y2}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n\r\n            horizontalSection.setGridArea(\r\n                `${x1 - 1}/${y12}/${x2 - 1}/${y22}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n\r\n            swapArrayElements(this.allSectionsH, currentIndex, currentIndex - 1);\r\n        }\r\n\r\n        this.getAgl().invalidateSize();\r\n        this.props.select.onScrollItem();\r\n    };\r\n\r\n    moveDown = (id) => {\r\n        let horizontalSection = this.getHorizontalSection(id);\r\n        if (!horizontalSection)\r\n            return;\r\n\r\n        let gridArea = horizontalSection.getGridArea();\r\n        let areas = gridArea.split('/');\r\n        let x1 = parseInt(areas[0]);\r\n        let y1 = parseInt(areas[1]);\r\n        let x2 = parseInt(areas[2]);\r\n        let y2 = parseInt(areas[3]);\r\n        let gridArea2, areas2, x12, y12, x22, y22;\r\n\r\n        let currentIndex = x1 - 1;\r\n        let sideSection = this.allSectionsH[currentIndex + 1];\r\n        sideSection = this.props.idMan.getItem(sideSection);\r\n        if (sideSection) {\r\n            gridArea2 = sideSection.getGridArea();\r\n            areas2 = gridArea2.split('/');\r\n            x12 = parseInt(areas2[0]);\r\n            y12 = parseInt(areas2[1]);\r\n            x22 = parseInt(areas2[2]);\r\n            y22 = parseInt(areas2[3]);\r\n\r\n            sideSection.setGridArea(\r\n                `${x12 - 1}/${y1}/${x22 - 1}/${y2}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n\r\n            horizontalSection.setGridArea(\r\n                `${x1 + 1}/${y12}/${x2 + 1}/${y22}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n\r\n            swapArrayElements(this.allSectionsH, currentIndex, currentIndex + 1);\r\n        }\r\n\r\n        this.getAgl().invalidateSize();\r\n        this.props.select.onScrollItem();\r\n    };\r\n\r\n    moveRight = (id) => {\r\n        let verticalSection = this.getVerticalSection(id);\r\n        if (!verticalSection)\r\n            return;\r\n\r\n        let gridArea = verticalSection.getGridArea();\r\n        let areas = gridArea.split('/');\r\n        let x1 = parseInt(areas[0]);\r\n        let y1 = parseInt(areas[1]);\r\n        let x2 = parseInt(areas[2]);\r\n        let y2 = parseInt(areas[3]);\r\n        let gridArea2, areas2, x12, y12, x22, y22;\r\n\r\n        let currentIndex = y1 - 1;\r\n        let sideSection = this.allSectionsV[currentIndex + 1];\r\n        if (sideSection !== null){\r\n            sideSection = this.props.idMan.getItem(sideSection);\r\n        }\r\n        // sideSection = this.props.idMan.getItem(sideSection) || null;\r\n        if (sideSection) {\r\n            gridArea2 = sideSection.getGridArea();\r\n            areas2 = gridArea2.split('/');\r\n            x12 = parseInt(areas2[0]);\r\n            y12 = parseInt(areas2[1]);\r\n            x22 = parseInt(areas2[2]);\r\n            y22 = parseInt(areas2[3]);\r\n\r\n            sideSection.setGridArea(\r\n                `${x1}/${y12 - 1}/${x2}/${y22 - 1}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n\r\n            verticalSection.setGridArea(\r\n                `${x12}/${y1 + 1}/${x22}/${y2 + 1}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n\r\n            swapArrayElements(this.allSectionsV, currentIndex, currentIndex + 1);\r\n\r\n            this.getAgl().invalidateSize();\r\n            this.props.select.onScrollItem();\r\n            return;\r\n        }\r\n\r\n        // if side section was main horizontal sections\r\n        if (sideSection === null) {\r\n            verticalSection.setGridArea(\r\n                `${x1}/${y1 + 1}/${x2}/${y2 + 1}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n\r\n            this.allSectionsH.forEach(horizontalSection => {\r\n                horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n                let gridArea = horizontalSection.getGridArea();\r\n                let areas = gridArea.split('/');\r\n                let x13 = parseInt(areas[0]);\r\n                let y13 = parseInt(areas[1]);\r\n                let x23 = parseInt(areas[2]);\r\n                let y23 = parseInt(areas[3]);\r\n\r\n                let firstRow = x1;\r\n                let lastRow = x2;\r\n\r\n                if (x13 >= firstRow && x23 <= lastRow) {\r\n                    y13--;\r\n                    y23--;\r\n\r\n                    if (y23 > y1 + 1)\r\n                        y23 = y1 + 1;\r\n                }\r\n\r\n                gridArea = `${x13}/${y13}/${x23}/${y23}`;\r\n                horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n            });\r\n\r\n            swapArrayElements(this.allSectionsV, currentIndex, currentIndex + 1);\r\n        }\r\n\r\n        let mainColIndex = this.getMainColIndex();\r\n        this.gridTemplateColumns = new Array(this.allSectionsV.length).fill(0).map((a, i) => {\r\n            if (i === mainColIndex)\r\n                return mainColTemplate;\r\n            return \"auto\";\r\n        }).join(' ');\r\n        this.root.current.setGrid({\r\n            x: this.gridX,\r\n            y: this.gridY,\r\n            gridTemplateRows: this.gridTemplateRows,\r\n            gridTemplateColumns: this.gridTemplateColumns\r\n        }, undefined, this.props.breakpointmanager.getHighestBpName());\r\n\r\n        this.getAgl().invalidateSize();\r\n        this.props.select.onScrollItem();\r\n    };\r\n\r\n    moveLeft = (id) => {\r\n        let verticalSection = this.getVerticalSection(id);\r\n        if (!verticalSection)\r\n            return;\r\n\r\n        let gridArea = verticalSection.getGridArea();\r\n        let areas = gridArea.split('/');\r\n        let x1 = parseInt(areas[0]);\r\n        let y1 = parseInt(areas[1]);\r\n        let x2 = parseInt(areas[2]);\r\n        let y2 = parseInt(areas[3]);\r\n        let gridArea2, areas2, x12, y12, x22, y22;\r\n\r\n        let currentIndex = y1 - 1;\r\n        let sideSection = this.allSectionsV[currentIndex - 1];\r\n        if (sideSection !== null){\r\n            sideSection = this.props.idMan.getItem(sideSection);\r\n        }\r\n        // sideSection = this.props.idMan.getItem(sideSection) || null;\r\n        if (sideSection) {\r\n            gridArea2 = sideSection.getGridArea();\r\n            areas2 = gridArea2.split('/');\r\n            x12 = parseInt(areas2[0]);\r\n            y12 = parseInt(areas2[1]);\r\n            x22 = parseInt(areas2[2]);\r\n            y22 = parseInt(areas2[3]);\r\n\r\n            sideSection.setGridArea(\r\n                `${x1}/${y12 + 1}/${x2}/${y22 + 1}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n\r\n            verticalSection.setGridArea(\r\n                `${x12}/${y1 - 1}/${x22}/${y2 - 1}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n\r\n            swapArrayElements(this.allSectionsV, currentIndex, currentIndex - 1);\r\n\r\n            this.getAgl().invalidateSize();\r\n            this.props.select.onScrollItem();\r\n            return;\r\n        }\r\n\r\n        // if side section was main horizontal sections\r\n        if (sideSection === null) {\r\n            verticalSection.setGridArea(\r\n                `${x1}/${y1 - 1}/${x2}/${y2 - 1}`\r\n                , this.props.breakpointmanager.getHighestBpName());\r\n            this.allSectionsH.forEach(horizontalSection => {\r\n                horizontalSection = this.props.idMan.getItem(horizontalSection);\r\n                let gridArea = horizontalSection.getGridArea();\r\n                let areas = gridArea.split('/');\r\n                let x13 = parseInt(areas[0]);\r\n                let y13 = parseInt(areas[1]);\r\n                let x23 = parseInt(areas[2]);\r\n                let y23 = parseInt(areas[3]);\r\n\r\n                let firstRow = x1;\r\n                let lastRow = x2;\r\n\r\n                if (x13 >= firstRow && x23 <= lastRow) {\r\n                    y13++;\r\n                    y23++;\r\n\r\n                    if (y13 < y2 - 1)\r\n                        y13 = y2 - 1;\r\n                }\r\n\r\n                gridArea = `${x13}/${y13}/${x23}/${y23}`;\r\n                horizontalSection.setGridArea(gridArea, this.props.breakpointmanager.getHighestBpName());\r\n            });\r\n\r\n            swapArrayElements(this.allSectionsV, currentIndex, currentIndex - 1);\r\n        }\r\n\r\n        let mainColIndex = this.getMainColIndex();\r\n        this.gridTemplateColumns = new Array(this.allSectionsV.length).fill(0).map((a, i) => {\r\n            if (i === mainColIndex)\r\n                return mainColTemplate;\r\n            return \"auto\";\r\n        }).join(' ');\r\n        this.root.current.setGrid({\r\n            x: this.gridX,\r\n            y: this.gridY,\r\n            gridTemplateRows: this.gridTemplateRows,\r\n            gridTemplateColumns: this.gridTemplateColumns\r\n        }, undefined, this.props.breakpointmanager.getHighestBpName());\r\n\r\n        this.getAgl().invalidateSize();\r\n        this.props.select.onScrollItem();\r\n    };\r\n\r\n    updateTemplates = () => {\r\n        let mainColIndex = this.getMainColIndex();\r\n        this.gridTemplateColumns = new Array(this.allSectionsV.length).fill(0).map((a, i) => {\r\n            if (i === mainColIndex)\r\n                return mainColTemplate;\r\n            if (isHideInBreakpoint(this.props.idMan.getItem(this.allSectionsV[i])))\r\n                return \"0px\";\r\n            return \"auto\";\r\n        }).join(' ');\r\n        this.gridTemplateRows = new Array(this.allSectionsH.length).fill(0).map((a, i) => {\r\n            if (isHideInBreakpoint(this.props.idMan.getItem(this.allSectionsH[i])))\r\n                return \"0px\";\r\n            return \"auto\";\r\n        }).join(' ');\r\n        this.root.current.setGrid({\r\n            x: this.gridX,\r\n            y: this.gridY,\r\n            gridTemplateRows: this.gridTemplateRows,\r\n            gridTemplateColumns: this.gridTemplateColumns\r\n        }, undefined, this.props.breakpointmanager.getHighestBpName());\r\n    };\r\n\r\n    hasMiniMenuOverride = () => {\r\n        return false;\r\n    };\r\n\r\n    invalidateSizeOverride = (agl, self, updateParent, updateChildren, sourceId) => {\r\n        if (self)\r\n            delete this.tempSize;\r\n\r\n        Object.values(agl.allChildRefs).forEach(childRef => {\r\n            if (childRef && childRef.current && sourceId !== childRef.current.props.id) {\r\n                childRef.current.invalidateSize(true, false, true);\r\n            }\r\n        });\r\n    };\r\n\r\n    getInspectorOverride = () => {\r\n        return (\r\n            <>\r\n                <InspectorBreadcrumbs\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorBackground\r\n                    item={this.getAgl()}\r\n                    onDesignChange={this.onDesignChange}\r\n                />\r\n                <InspectorPadding\r\n                    item={this.getAgl()}\r\n                />\r\n            </>\r\n        )\r\n    };\r\n\r\n    getSectionOfPoint = (left, top, width, height) => {\r\n        let childRef = Object.values(this.getAgl().allChildRefs).find(childRef => {\r\n            if (childRef && childRef.current) {\r\n                if (childRef.current.isPointInclude(left, top))\r\n                    return true;\r\n            }\r\n        });\r\n\r\n        if (!childRef)\r\n            childRef = Object.values(this.getAgl().allChildRefs).find(childRef => {\r\n                if (childRef && childRef.current) {\r\n                    if (childRef.current.isPointInclude(left + width, top + height))\r\n                        return true;\r\n                }\r\n            });\r\n\r\n        if (!childRef)\r\n            childRef = Object.values(this.getAgl().allChildRefs).find(childRef => {\r\n                return (childRef && childRef.current);\r\n            });\r\n\r\n        return childRef.current;\r\n    };\r\n\r\n    updateDesign = (compositeDesign) => {\r\n        let fillColor;\r\n\r\n        if (compositeDesign.fillColor)\r\n            fillColor = parseColor(compositeDesign.fillColor, compositeDesign.fillColor.alpha, this.context);\r\n\r\n        setStyleParam(\"backgroundColor\", fillColor || \"unset\",\r\n            this.getAgl(), 2, undefined, true);\r\n    };\r\n    // White Background\r\n    getStaticChildren = () => {\r\n\r\n        return <div\r\n            className=\"PageBaseWhiteBackground\"\r\n            style={{\r\n\r\n            }}\r\n        />\r\n    };\r\n\r\n    getStaticData = () => {\r\n        return {\r\n            bpData: {\r\n                overflowData: {\r\n                    state: this.props.noScroll? \"hide\": \"scroll\",\r\n                    overflowY: \"scroll\",\r\n                    auto: true\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        // let fullWidth = (this.getAgl() && this.getAgl().getSize(false)) || (1002);\r\n        let fullWidth = this.props.pageSize;\r\n        return (\r\n            <AGLWrapper tagName=\"PageBase\"\r\n                        aglRef={!this.props.aglRef ? this.root : this.root = this.props.aglRef}\r\n                        aglComponent={this}\r\n                        {...this.props}\r\n                        className=\"Page1Root\"\r\n                        style={{\r\n                            width: this.context.production ? \"100%\" : `${fullWidth}px`,\r\n                            height: \"100%\",\r\n                            boxShadow: \"0 2px 12px 6px rgba(134,138,165,.41)\",\r\n                            display: \"inline-block\"\r\n                        }}\r\n                        data={this.getData()}\r\n                        isPage\r\n                        resizeSides={[]}\r\n                        page={this}\r\n                        hasMiniMenuOverride={this.hasMiniMenuOverride}\r\n                        getInspector={this.getInspector}\r\n                        invalidateSizeOverride={this.invalidateSizeOverride}\r\n                        onDeletingChild={this.onItemPreDelete}\r\n                        onChildResizeStoping={this.onItemPreResizeStop}\r\n            >\r\n            </AGLWrapper>\r\n        )\r\n    }\r\n}\r\n\r\nPageBase.defaultProps = {\r\n    tagName: \"PageBase\",\r\n};\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\n\r\nexport default class VerticalSpacer extends AGLComponent{\r\n    render() {\r\n        return (\r\n            <AGLWrapper\r\n                tagName=\"VerticalSpacer\"\r\n                {...this.props}\r\n                data={this.getData()}\r\n                style={{\r\n                    width: \"100%\",\r\n                    height: \"20px\"\r\n                }}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport React from \"react\";\r\n\r\nlet FadeInAnimation = {};\r\n\r\nFadeInAnimation.getOptions = (props) => {\r\n    return null;\r\n};\r\n\r\nFadeInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {duration, delay} = options;\r\n    let animationStyles = StyleSheet.create({\r\n        fadeIn: {\r\n            animationName: {\r\n                \"0%\": {\r\n                    opacity: 0\r\n                },\r\n                \"100%\": {\r\n                    opacity: 1\r\n                }\r\n            },\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.fadeIn);\r\n};\r\n\r\nFadeInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default FadeInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\n\r\nlet BounceInAnimation = {};\r\n\r\nBounceInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Direction</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'From center',\r\n                    'From top left',\r\n                    'From top right',\r\n                    'From bottom left',\r\n                    'From bottom right'\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.direction`, v);\r\n                }}\r\n                value={options.direction || 'From top left'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nBounceInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {direction, duration, delay} = options;\r\n    direction = direction || 'From top left';\r\n\r\n    let animationName = {};\r\n    animationName['0%'] = {\r\n        opacity: 0,\r\n        transform: `scale3d(0, 0, 0) translate3d(${\r\n                direction.includes('center')? '0': direction.includes('left')? '-100%': direction.includes('right')?\r\n                    '100%': '0'\r\n            }, ${\r\n                direction.includes('center')? '0': direction.includes('top')? '-100%': direction.includes('bottom')?\r\n                    '100%': '0'\r\n            }, 0)`\r\n    };\r\n    animationName['20%'] = {\r\n        opacity: 0.33,\r\n        transform: `scale3d(1.1, 1.1, 1.1) translate3d(${\r\n            direction.includes('center')? '0': direction.includes('left')? '7%': direction.includes('right')?\r\n                '-7%': '0'\r\n            }, ${\r\n            direction.includes('center')? '0': direction.includes('top')? '7%': direction.includes('bottom')?\r\n                '-7%': '0'\r\n            }, 0)`\r\n    };\r\n    animationName['40%'] = {\r\n        opacity: 0.66,\r\n        transform: `scale3d(0.9, 0.9, 0.9) translate3d(${\r\n            direction.includes('center')? '0': direction.includes('left')? '-5%': direction.includes('right')?\r\n                '5%': '0'\r\n            }, ${\r\n            direction.includes('center')? '0': direction.includes('top')? '-5%': direction.includes('bottom')?\r\n                '5%': '0'\r\n            }, 0)`\r\n    };\r\n    animationName['60%'] = {\r\n        opacity: 1,\r\n        transform: `scale3d(1.03, 1.03, 1.03) translate3d(${\r\n            direction.includes('center')? '0': direction.includes('left')? '3%': direction.includes('right')?\r\n                '-3%': '0'\r\n            }, ${\r\n            direction.includes('center')? '0': direction.includes('top')? '3%': direction.includes('bottom')?\r\n                '-3%': '0'\r\n            }, 0)`\r\n    };\r\n    animationName['80%'] = {\r\n        opacity: 1,\r\n        transform: `scale3d(0.97, 0.97, 0.97) translate3d(${\r\n            direction.includes('center')? '0': direction.includes('left')? '-1%': direction.includes('right')?\r\n                '1%': '0'\r\n            }, ${\r\n            direction.includes('center')? '0': direction.includes('top')? '-1%': direction.includes('bottom')?\r\n                '1%': '0'\r\n            }, 0)`\r\n    };\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        transform: `scale3d(1, 1, 1)`\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        bounceIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.bounceIn);\r\n};\r\n\r\nBounceInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default BounceInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport React from \"react\";\r\nimport SliderInput from \"../../Menus/CommonComponents/SliderInput\";\r\nimport Angle from \"../../Menus/CommonComponents/Angle\";\r\nimport Divider from \"../../Menus/CommonComponents/Divider\";\r\n\r\nlet GlideInAnimation = {};\r\n\r\nGlideInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <>\r\n            <div className=\"MenuOptionSection\">\r\n                <p className=\"MenuOptionSectionTitle\">Angle</p>\r\n\r\n                <Angle\r\n                    className=\"ShadowAngle\"\r\n                    angle={options.angle || 90}\r\n                    onChange={(d) => {\r\n                        onDesignChange(`${designKey}.angle`, d);\r\n                    }}\r\n                />\r\n            </div>\r\n\r\n            <Divider/>\r\n\r\n            <div className=\"MenuOptionSection\">\r\n                <p className=\"MenuOptionSectionTitle\">Distance</p>\r\n\r\n                <div\r\n                    className=\"BorderWidth\"\r\n                >\r\n                    <SliderInput\r\n                        className=\"BorderWidthSlider\"\r\n                        min={0}\r\n                        max={300}\r\n                        value={options.distance || 100}\r\n                        designKey={`${designKey}.distance`}\r\n                        onDesignChange={onDesignChange}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n};\r\n\r\nGlideInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {distance, angle, duration, delay} = options;\r\n    distance = distance || 100;\r\n    angle = angle || 90;\r\n\r\n    let animationName = {};\r\n    let tx = - distance * Math.sin(angle * Math.PI / 180);\r\n    let ty = distance * Math.cos(angle * Math.PI / 180);\r\n    animationName['0%'] = {\r\n        opacity: 1,\r\n        transform: `translate3d(${tx}px, ${ty}px, 0)`\r\n    };\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        transform: `translate3d(0,0,0)`\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        glideIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.glideIn);\r\n};\r\n\r\nGlideInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default GlideInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\n\r\nlet FloatInAnimation = {};\r\n\r\nFloatInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Direction</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'From top',\r\n                    'From left',\r\n                    'From bottom',\r\n                    'From right',\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.direction`, v);\r\n                }}\r\n                value={options.direction || 'From left'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nFloatInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {direction, duration, delay} = options;\r\n    direction = direction || 'From left';\r\n\r\n    let animationName = {};\r\n    animationName['0%'] = {\r\n        opacity: 0,\r\n        transform: `translate3d(${\r\n                direction.includes('left')? '-20%': direction.includes('right')? '20%': 0\r\n            }, ${\r\n                direction.includes('top')? '-20%': direction.includes('bottom')? '20%': 0\r\n            }, 0)`\r\n    };\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        transform: `translate3d(0,0,0)`\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        floatIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.floatIn);\r\n};\r\n\r\nFloatInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default FloatInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\n\r\nlet ExpandInAnimation = {};\r\n\r\nExpandInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Power</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'Soft',\r\n                    'Medium',\r\n                    'Hard'\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.power`, v);\r\n                }}\r\n                value={options.power || 'Hard'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nExpandInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {power, duration, delay} = options;\r\n    power = power || 'Hard';\r\n\r\n    let animationName = {};\r\n    animationName[\"0%\"] = {\r\n        opacity: 0,\r\n        transform: `scale3d(${\r\n                power === \"Hard\"? '0.2': power === \"Medium\"? '0.5': '0.8'\r\n            }, ${\r\n                power === \"Hard\"? '0.2': power === \"Medium\"? '0.5': '0.8'\r\n            }, 0)`\r\n    };\r\n    animationName[\"100%\"] = {\r\n        opacity: 1,\r\n        transform: 'scale3d(1,1,1)'\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        expandIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.expandIn);\r\n};\r\n\r\nExpandInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default ExpandInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\nimport Divider from \"../../Menus/CommonComponents/Divider\";\r\nimport SliderInput from \"../../Menus/CommonComponents/SliderInput\";\r\n\r\nlet SpinInAnimation = {};\r\n\r\nSpinInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <>\r\n            <div className=\"MenuOptionAnimationRoot\">\r\n                <p className=\"MenuOptionSectionTitle\">Power</p>\r\n\r\n                <DropDown\r\n                    options={[\r\n                        'Soft',\r\n                        'Medium',\r\n                        'Hard'\r\n                    ]}\r\n                    onChange={(v) => {\r\n                        onDesignChange(`${designKey}.power`, v);\r\n                    }}\r\n                    value={options.power || 'Hard'}\r\n                    spanStyle={{\r\n                        width: \"100%\",\r\n                        fontSize: 14,\r\n                    }}\r\n                />\r\n            </div>\r\n\r\n            <Divider/>\r\n\r\n            <div className=\"MenuOptionAnimationRoot\">\r\n                <p className=\"MenuOptionSectionTitle\">Direction</p>\r\n\r\n                <DropDown\r\n                    options={[\r\n                        'Clockwise',\r\n                        'Counter clockwise',\r\n                    ]}\r\n                    onChange={(v) => {\r\n                        onDesignChange(`${designKey}.direction`, v);\r\n                    }}\r\n                    value={options.direction || 'Clockwise'}\r\n                    spanStyle={{\r\n                        width: \"100%\",\r\n                        fontSize: 14,\r\n                    }}\r\n                />\r\n            </div>\r\n\r\n            <Divider/>\r\n\r\n            <div className=\"MenuOptionAnimationRoot\">\r\n                <p className=\"MenuOptionSectionTitle\">Spin number</p>\r\n\r\n                <div\r\n                    className=\"BorderWidth\"\r\n                >\r\n                    <SliderInput\r\n                        className=\"BorderWidthSlider\"\r\n                        min={0}\r\n                        max={15}\r\n                        step={0.1}\r\n                        value={options.spinNo || 2}\r\n                        designKey={`${designKey}.spinNo`}\r\n                        onDesignChange={onDesignChange}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n};\r\n\r\nSpinInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {power, direction, spinNo, duration, delay} = options;\r\n    power = power || 'Hard';\r\n    direction = direction || 'Clockwise';\r\n    spinNo = spinNo || 2;\r\n\r\n    let animationName = {};\r\n    let firstRotate = 360 * spinNo * (direction === 'Clockwise'? -1: 1);\r\n    animationName[\"0%\"] = {\r\n        opacity: 0,\r\n        transform: `rotate(${firstRotate}deg) scale3d(${\r\n                power === \"Hard\"? '0.3': power === \"Medium\"? '0.6': '1'\r\n            }, ${\r\n                power === \"Hard\"? '0.3': power === \"Medium\"? '0.6': '1'\r\n            }, 1)`\r\n    };\r\n    animationName[\"100%\"] = {\r\n        opacity: 1,\r\n        transform: 'rotate(0deg) scale3d(1,1,1)'\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        spinIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.spinIn);\r\n};\r\n\r\nSpinInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default SpinInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\n\r\nlet FlyInAnimation = {};\r\n\r\nFlyInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Direction</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'From top',\r\n                    'From left',\r\n                    'From bottom',\r\n                    'From right',\r\n                    'From top left',\r\n                    'From top right',\r\n                    'From bottom left',\r\n                    'From bottom right',\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.direction`, v);\r\n                }}\r\n                value={options.direction || 'From top left'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nFlyInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let size = item.getSize(true);\r\n    let windowSize = {\r\n        width: item.props.breakpointmanager.getWindowWidth(),\r\n        height: item.props.breakpointmanager.getWindowHeight(),\r\n    };\r\n    let {direction, duration, delay} = options;\r\n    direction = direction || 'From top left';\r\n\r\n    let animationName = {};\r\n    animationName['0%'] = {\r\n        opacity: 0,\r\n        transform: `translate3d(${\r\n                direction.includes('left')? `${-size.left}px`: direction.includes('right')? `${\r\n                    windowSize.width - size.left - size.width\r\n                }px`: 0\r\n            }, ${\r\n                direction.includes('top')? `${-size.top}px`: direction.includes('bottom')? `${\r\n                    windowSize.height - size.top - size.height\r\n                }px`: 0\r\n            }, 0)`\r\n    };\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        transform: `translate3d(0,0,0)`\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        flyIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.flyIn);\r\n};\r\n\r\nFlyInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default FlyInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\n\r\nlet TurnInAnimation = {};\r\n\r\nTurnInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Direction</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'From left',\r\n                    'From right',\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.direction`, v);\r\n                }}\r\n                value={options.direction || 'From left'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nTurnInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let size = item.getSize(true);\r\n    let viewSize = item.props.viewRef.current.getSize(false);\r\n    let windowSize = {\r\n        width: item.props.breakpointmanager.getWindowWidth(),\r\n        height: item.props.breakpointmanager.getWindowHeight(),\r\n    };\r\n    let {direction, duration, delay} = options;\r\n    direction = direction || 'From left';\r\n\r\n    let animationName = {};\r\n    animationName['0%'] = {\r\n        opacity: 0,\r\n        transform: `translate3d(${\r\n            direction.includes('left')? `${\r\n                -(size.left - viewSize.left)\r\n                }px`: `${\r\n            windowSize.width - (size.left - viewSize.left) - size.width\r\n                }px`\r\n            }, -200%, 0) rotate(${\r\n            direction.includes('left')? '-45': '45'\r\n            }deg) `\r\n    };\r\n    animationName['30%'] = {\r\n        opacity: 0.3,\r\n        transform: `translate3d(${\r\n            direction.includes('left')? `${\r\n            -(size.left - viewSize.left) * 0.7\r\n                }px`: `${\r\n            (windowSize.width - (size.left - viewSize.left) - size.width) * 0.7\r\n                }px`\r\n            }, -${200*0.85}%, 0) rotate(${\r\n            direction.includes('left')? -45 * 0.7: 45 * 0.7\r\n            }deg) `\r\n    };\r\n    animationName['60%'] = {\r\n        opacity: 0.6,\r\n        transform: `translate3d(${\r\n            direction.includes('left')? `${\r\n            -(size.left - viewSize.left) * 0.4\r\n                }px`: `${\r\n            (windowSize.width - (size.left - viewSize.left) - size.width) * 0.4\r\n                }px`\r\n            }, -${200*0.55}%, 0) rotate(${\r\n            direction.includes('left')? -45 * 0.4: 45 * 0.4\r\n            }deg) `\r\n    };\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        transform: `translate3d(0,0,0) rotate(0deg) `\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        turnIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            animationTimingFunction: 'linear',\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.turnIn);\r\n};\r\n\r\nTurnInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default TurnInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport React from \"react\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\n\r\nlet ArcInAnimation = {};\r\n\r\nArcInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Direction</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'From left',\r\n                    'From right',\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.direction`, v);\r\n                }}\r\n                value={options.direction || 'From right'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nArcInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {direction, duration, delay} = options;\r\n    direction = direction || 'From right';\r\n\r\n    let animationName = {};\r\n    animationName['0%'] = {\r\n        opacity: 0,\r\n        transform: `perspective(400px) scale(0) rotateY(${\r\n            direction.includes('left') ? '-' : ''\r\n            }180deg) translateZ(600px)`\r\n    };\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        transform: `perspective(400px) scale(1) rotateY(0deg) translateZ(0px)`\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        arcIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            animationTimingFunction: 'linear',\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.arcIn);\r\n};\r\n\r\nArcInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default ArcInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\n\r\nlet PuffInAnimation = {};\r\n\r\nPuffInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Power</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'Soft',\r\n                    'Medium',\r\n                    'Hard'\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.power`, v);\r\n                }}\r\n                value={options.power || 'Hard'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nPuffInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {power, duration, delay} = options;\r\n    power = power || 'Hard';\r\n\r\n    let animationName = {};\r\n    animationName['0%'] = {\r\n        opacity: 0,\r\n        transform: `perspective(400px) translateZ(${\r\n            power === \"Hard\"? 400: power === \"Medium\"? 200: 100\r\n            }px)`\r\n    };\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        transform: `perspective(400px) translateZ(0)`\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        puffIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.puffIn);\r\n};\r\n\r\nPuffInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default PuffInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\n\r\nlet FoldInAnimation = {};\r\n\r\nFoldInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Direction</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'From top',\r\n                    'From left',\r\n                    'From bottom',\r\n                    'From right',\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.direction`, v);\r\n                }}\r\n                value={options.direction || 'From left'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nFoldInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {direction, duration, delay} = options;\r\n    direction = direction || 'From left';\r\n\r\n    let animationName = {};\r\n    animationName['0%'] = {\r\n        opacity: 0,\r\n        transform: `perspective(400px) rotateY(${\r\n                direction.includes('left')? 90: direction.includes('right')? -90: 0\r\n            }deg) rotateX(${\r\n                direction.includes('top')? -90: direction.includes('bottom')? 90: 0\r\n            }deg)`,\r\n        transformOrigin: `${\r\n            direction.includes('left')? 'left': direction.includes('right')? 'right': 'center'\r\n            } ${\r\n            direction.includes('top')? 'top': direction.includes('bottom')? 'bottom': 'center'\r\n            } 0`,\r\n    };\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        transform: `perspective(400px) rotateY(0deg) rotateX(0deg)`,\r\n        transformOrigin: `${\r\n            direction.includes('left')? 'left': direction.includes('right')? 'right': 'center'\r\n            } ${\r\n            direction.includes('top')? 'top': direction.includes('bottom')? 'bottom': 'center'\r\n            } 0`,\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        foldIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.foldIn);\r\n};\r\n\r\nFoldInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default FoldInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\n\r\nlet FlipInAnimation = {};\r\n\r\nFlipInAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Direction</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'From top',\r\n                    'From left',\r\n                    'From bottom',\r\n                    'From right',\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.direction`, v);\r\n                }}\r\n                value={options.direction || 'From top'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nFlipInAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {direction, duration, delay} = options;\r\n    direction = direction || 'From top';\r\n\r\n    let animationName = {};\r\n    animationName['0%'] = {\r\n        opacity: 0,\r\n        transform: `perspective(400px) rotateY(${\r\n                direction.includes('left')? -90: direction.includes('right')? 90: 0\r\n            }deg) rotateX(${\r\n                direction.includes('top')? 90: direction.includes('bottom')? -90: 0\r\n            }deg)`,\r\n    };\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        transform: `perspective(400px) rotateY(0deg) rotateX(0deg)`,\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        flipIn: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.flipIn);\r\n};\r\n\r\nFlipInAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default FlipInAnimation;\r\n","import {css, StyleSheet} from \"aphrodite\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport React from \"react\";\r\n\r\nlet RevealAnimation = {};\r\n\r\nRevealAnimation.getOptions = (props) => {\r\n    let {animation, onDesignChange, designKey} = props;\r\n    let options = animation.options || {};\r\n    return (\r\n        <div className=\"MenuOptionAnimationRoot\">\r\n            <p className=\"MenuOptionSectionTitle\">Direction</p>\r\n\r\n            <DropDown\r\n                options={[\r\n                    'From center',\r\n                    'From top',\r\n                    'From left',\r\n                    'From bottom',\r\n                    'From right',\r\n                ]}\r\n                onChange={(v) => {\r\n                    onDesignChange(`${designKey}.direction`, v);\r\n                }}\r\n                value={options.direction || 'From center'}\r\n                spanStyle={{\r\n                    width: \"100%\",\r\n                    fontSize: 14,\r\n                }}\r\n            />\r\n        </div>\r\n    )\r\n};\r\n\r\nRevealAnimation.getAnimationCSS = (item, options = {}) => {\r\n    let {direction, duration, delay} = options;\r\n    direction = direction || 'From center';\r\n\r\n    let animationName = {};\r\n    switch (direction) {\r\n        case 'From center':\r\n            animationName['0%'] = {\r\n                opacity: 1,\r\n                clipPath: `polygon(50% 50%, 50% 50%, 50% 50%, 50% 50%)`,\r\n            };\r\n            break;\r\n        case 'From left':\r\n            animationName['0%'] = {\r\n                opacity: 1,\r\n                clipPath: `polygon(0 0, 0 0, 0 100%, 0 100%)`,\r\n            };\r\n            break;\r\n        case 'From right':\r\n            animationName['0%'] = {\r\n                opacity: 1,\r\n                clipPath: `polygon(100% 0, 100% 0, 100% 100%, 100% 100%)`,\r\n            };\r\n            break;\r\n        case 'From top':\r\n            animationName['0%'] = {\r\n                opacity: 1,\r\n                clipPath: `polygon(0 0, 0 100%, 0 100%, 0 0)`,\r\n            };\r\n            break;\r\n        case 'From bottom':\r\n            animationName['0%'] = {\r\n                opacity: 1,\r\n                clipPath: `polygon(0 100%, 100% 100%, 100% 100%, 0 100%)`,\r\n            };\r\n            break;\r\n    }\r\n    animationName['100%'] = {\r\n        opacity: 1,\r\n        clipPath: `polygon(0 0, 100% 0, 100% 100%, 0 100%)`,\r\n    };\r\n\r\n    let animationStyles = StyleSheet.create({\r\n        reveal: {\r\n            animationName: animationName,\r\n            animationDuration: `${duration || 1}s`,\r\n            animationDelay: `${delay || 0}s`,\r\n            // TODO other options here\r\n        }\r\n    });\r\n\r\n    return css(animationStyles.reveal);\r\n};\r\n\r\nRevealAnimation.onAnimationEnd = (item) => {\r\n    // TODO\r\n};\r\n\r\nexport default RevealAnimation;\r\n","import React from \"react\";\r\nimport {getInheritTextStyle} from \"../TextHelper\";\r\n\r\nexport default class InputDiv extends React.Component {\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        return false;\r\n    }\r\n\r\n    render () {\r\n        let {tag, textStaticData} = this.props;\r\n        let TextTag = tag;\r\n        return (\r\n            <TextTag\r\n                id={\"editableDiv\"}\r\n                key={'textEditor'}\r\n                ref={this.props.textareaRef}\r\n                contentEditable={true}\r\n                style={{...{\r\n                    width: \"100%\",\r\n                    boxSizing: \"border-box\",\r\n                    margin: 0,\r\n                    height: \"auto\",\r\n                    overflow: \"hidden\",\r\n                    display: \"inline-block\",\r\n                    whiteSpace: 'pre-wrap'\r\n                }, ...getInheritTextStyle()}}\r\n                dangerouslySetInnerHTML={{ __html: this.props.value }}\r\n            >\r\n            </TextTag>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport InputDiv from \"./InputDiv\";\r\nimport {\r\n    getInheritTextStyle,\r\n    getParentLine,\r\n    getSelectionHtmlRemoveProperty,\r\n    getSelectionText,\r\n    getTextStyle\r\n} from \"../TextHelper\";\r\nimport {JSToCSS} from \"../../../AwesomeGridLayoutUtils\";\r\n\r\nexport default class InputWrapper extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {};\r\n\r\n        this.textareaRef = React.createRef();\r\n        this.textEditorRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.onLoad && this.props.onLoad();\r\n        this.updateHeight();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        this.props.onUpdate && this.props.onUpdate();\r\n    }\r\n\r\n    updateHeight = () => {\r\n        this.setState({\r\n            // width: this.textareaRef.current.scrollWidth,\r\n            height: this.textareaRef.current.scrollHeight,\r\n        })\r\n    }\r\n\r\n    onChange = (e, callback) => {\r\n        this.updateHeight();\r\n        this.props.onChange && this.props.onChange(e, callback);\r\n    }\r\n\r\n    onInput = (e) => {\r\n        if (e)\r\n            e.target.value = this.textareaRef.current.innerHTML;\r\n        else\r\n            e = {target: {value: this.textareaRef.current.innerHTML}}\r\n\r\n        this.onChange(e);\r\n    }\r\n\r\n    keydown = (e) => {\r\n        e = e || window.event;\r\n        let key = e.which || e.keyCode; // keyCode detection\r\n        if (key === 13) { // Enter or Return\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n\r\n            let sel = this.props.doc.getSelection();\r\n            let range = sel.getRangeAt(0);\r\n            let line = getParentLine(range);\r\n            if (!line)\r\n                return;\r\n\r\n            range.deleteContents();\r\n\r\n            range.setEndAfter(line);\r\n\r\n            let text = getSelectionText(this.props.doc, this.props.iframeNode.contentWindow);\r\n\r\n            if (!text) {\r\n                let br = this.props.doc.createElement(\"br\");\r\n                range.startContainer.after(br);\r\n                range.setStartBefore(br);\r\n            }\r\n\r\n            let html = getSelectionHtmlRemoveProperty(this.props.doc, this.props.iframeNode.contentWindow);\r\n\r\n            range.deleteContents();\r\n\r\n            range.setStartAfter(line);\r\n\r\n            line.insertAdjacentHTML('afterend', html)\r\n            this.onInput();\r\n        } else {\r\n            // this.props.doc.execCommand('selectAll');\r\n                // let text = getSelectionText(this.props.doc, this.props.iframeNode.contentWindow);\r\n\r\n            if (!this.textareaRef.current.innerText.trim()) {\r\n                this.textareaRef.current.innerHTML = '';\r\n\r\n                let div = this.props.doc.createElement(this.props.tag);\r\n                div.setAttribute(\"title\", \"line\");\r\n                div.setAttribute(\"style\", JSToCSS({...getInheritTextStyle(), ...{margin: \"0px\"}}))\r\n                div.focus();\r\n                div.innerText = String.fromCharCode(key);\r\n\r\n                let sel = this.props.doc.getSelection();\r\n                let range = sel.getRangeAt(0);\r\n\r\n                range.insertNode(div);\r\n                range.setStart(div, 1);\r\n                range.collapse(true)\r\n\r\n                sel.removeAllRanges()\r\n                sel.addRange(range)\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n            }\r\n        }\r\n    }\r\n\r\n    init = (doc) => {\r\n        if (!this.inited) {\r\n            this.inited = true;\r\n            doc.getElementById(\"textEditor\").addEventListener(\"input\", this.onInput);\r\n            // doc.getElementById(\"textEditor\").addEventListener(\"keydown\", this.keydown);\r\n        }\r\n    }\r\n\r\n    render () {\r\n        let {textTheme, textStaticData, textDesignData} = this.props;\r\n        let TextTag = this.props.tag;\r\n        return (\r\n            <div\r\n                dir={textStaticData.dir || \"ltr\"}\r\n                ref={this.textEditorRef}\r\n                id={'textEditor'}\r\n                style={{...{\r\n                    width: this.props.width,\r\n                    boxSizing: \"border-box\",\r\n                    margin: 0,\r\n                    height: this.state.height || this.props.height,\r\n                    resize: \"none\",\r\n                    overflow: \"hidden\"\r\n                }, ...getTextStyle(textTheme, textStaticData, textDesignData)}}\r\n            >\r\n                <InputDiv\r\n                    textareaRef={this.textareaRef}\r\n                    value={this.props.value}\r\n                    tag={this.props.tag}\r\n                    textTheme={this.props.textTheme}\r\n                    textStaticData={this.props.textStaticData}\r\n                    textDesignData={this.props.textDesignData}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './TextEditor.css';\r\nimport IconButton from \"../../../HelperComponents/IconButton\";\r\n\r\nexport default class TextEditorButton extends React.Component {\r\n    getImage = () => {\r\n        if (this.props.selected && this.props.selectedIcon)\r\n            return this.props.selectedIcon;\r\n\r\n        if (this.props.disabled && this.props.disabledIcon)\r\n            return this.props.disabledIcon;\r\n\r\n        return this.props.children;\r\n    }\r\n    render () {\r\n        return (\r\n            <IconButton\r\n                buttonBaseStyle={{\r\n                    marginLeft: 4,\r\n                    backgroundColor: this.props.selected ? \"#dce9ff\" : \"unset\"\r\n                }}\r\n                imageContainerStyle={{\r\n                    padding: 6\r\n                }}\r\n                onClick={this.props.onClick}\r\n                rootRef={this.props.rootRef}\r\n                disabled={this.props.disabled}\r\n            >\r\n                {this.getImage()}\r\n            </IconButton>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport {inputCopyPasteHandler} from \"../../../../AwesomwGridLayoutHelper\";\r\n\r\nconst useStyles = makeStyles({\r\n    popper: {\r\n        zIndex: 999999999999999999\r\n    },\r\n    root: {\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        borderRight: \"1px solid #c6c6c6\",\r\n        paddingRight: 12\r\n    }\r\n});\r\n\r\nexport default function FontSizeAutoComplete(props) {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Autocomplete\r\n            classes={{\r\n                popper: classes.popper,\r\n                root: classes.root\r\n            }}\r\n            {...props}\r\n        />\r\n    );\r\n}\r\n\r\nexport function RoughInput(props) {\r\n    return (\r\n        <Autocomplete\r\n            id=\"custom-input-demo\"\r\n            options={[]}\r\n            onChange={\r\n                props.onChange\r\n            }\r\n            onBlur={\r\n                props.onBlur\r\n            }\r\n            onKeyDown={\r\n                props.onKeyDown\r\n            }\r\n            renderInput={(params) => (\r\n                // <div ref={params.InputProps.ref}>\r\n                    <input\r\n                        {...params.inputProps}\r\n                        className=\"NumberInput PageManagerRenameInput PageInfoNameInput LinkGeneratorOptionWebAddressInput\"\r\n                        type=\"text\"\r\n                        onKeyDown={inputCopyPasteHandler}\r\n                    >\r\n                    </input>\r\n                // </div>\r\n            )}\r\n        />\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FontSizeAutoComplete from \"./FontSizeAutoComplete\";\r\n\r\nexport default class FontSizeSelector extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {};\r\n    }\r\n    filterOptions = (options) => {\r\n        return [\"6\",\"8\",\"10\",\"12\",\"14\",\"16\",\"18\",\"20\",\"22\",\"24\",\"28\",\"32\",\"48\",\"72\"];\r\n    }\r\n\r\n    getAllowableFontSize = () => {\r\n        return (new Array(100)).fill(\"0\").map((v, i) => {\r\n            return `${i + 1}`;\r\n        });\r\n    }\r\n\r\n    setForceValue = (value) => {\r\n        this.onFontSizeChange(undefined, value, \"input\");\r\n    }\r\n\r\n    onFontSizeChange = (e, value, reason) => {\r\n        if (reason === \"input\") {\r\n            this.setState({tempFontSize: value});\r\n        } else if (reason === \"select-option\") {\r\n            this.setFontSize(value);\r\n        } else if (reason === \"enter\") {\r\n            if (this.getAllowableFontSize().includes(value))\r\n                this.setFontSize(value);\r\n            else\r\n                this.setState({tempFontSize: this.getFontSizeValue(value !== \"\" && true)});\r\n        }\r\n    }\r\n\r\n    setFontSize = (value) => {\r\n        this.setState({tempFontSize: value});\r\n        this.props.onChange(value);\r\n    }\r\n\r\n    setFontSizeUi = (value) => {\r\n        this.setState({tempFontSize: value});\r\n    }\r\n\r\n    getFontSizeValue = (ignoreState = false) => {\r\n        let {textTheme, textStaticData, textDesignData} = this.props;\r\n\r\n        if (!ignoreState && this.state.tempFontSize !== undefined)\r\n            return this.state.tempFontSize;\r\n\r\n        return (!ignoreState && this.state.tempFontSize) ||\r\n            (textDesignData.fontSize && textDesignData.fontSize.toString()) ||\r\n            (textTheme.fontSize &&\r\n                textTheme.fontSize.toString()) ||\r\n            \"22\"\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <FontSizeAutoComplete\r\n                size={\"small\"}\r\n                options={this.getAllowableFontSize()}\r\n                value={this.getFontSizeValue()}\r\n                getOptionLabel={(option) => option}\r\n                filterOptions={this.filterOptions}\r\n                style={this.props.style || { width: 64 }}\r\n                popupIcon={\r\n                    <img width={10} height={10} src={process.env.PUBLIC_URL + \"/static/icon/down-arrow.svg\"}/>\r\n                }\r\n                renderInput={(params) => {\r\n                    params.InputProps.disableUnderline = true;\r\n                    params.inputProps.style = {padding: 0, fontSize: 14};\r\n                    return (\r\n                        <TextField {...params} onChange={(e) => {\r\n                            this.onFontSizeChange(e, e.target.value, 'input');\r\n                        }}/>\r\n                    )\r\n                }}\r\n                blurOnSelect\r\n                onChange={this.onFontSizeChange}\r\n                onKeyDown={(e) => {\r\n                    if((e.keyCode || e.which) === 13){\r\n                        this.onFontSizeChange(e, e.target.value, 'enter');\r\n                    }\r\n                }}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport TextEditorButton from \"../TextEditorButton\";\r\nimport {EditorContext} from \"../../../../Editor/EditorContext\";\r\nimport ThemeColorPicker from \"../../../../Test/Theme/ThemeColorPicker\";\r\n\r\nexport default class TextColorSelector extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {};\r\n\r\n        this.buttonRef = React.createRef();\r\n    }\r\n\r\n    handleChangeComplete = (color) => {\r\n        this.props.onChange(color);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <TextEditorButton\r\n                    rootRef={this.buttonRef}\r\n                    onClick={(e) => {\r\n                        this.setState({open: true})\r\n                    }}\r\n                >\r\n                    {this.props.children}\r\n                </TextEditorButton>\r\n\r\n                {\r\n                    this.state.open &&\r\n                    <ThemeColorPicker\r\n                        onClose={(e) => {\r\n                            this.setState({open: false})\r\n                        }}\r\n                        onChangeComplete={ this.handleChangeComplete }\r\n                        disableAlpha\r\n                        editor={this.context.editor}\r\n                        defaultPosition={\r\n                            this.buttonRef.current.getBoundingClientRect()\r\n                        }\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormLabel from '@material-ui/core/FormLabel';\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        '&:hover': {\r\n            backgroundColor: 'transparent',\r\n        },\r\n    },\r\n    icon: {\r\n        borderRadius: '50%',\r\n        width: 16,\r\n        height: 16,\r\n        boxShadow: 'inset 0 0 0 1px rgba(16,22,26,.2), inset 0 -1px 0 rgba(16,22,26,.1)',\r\n        backgroundColor: '#f5f8fa',\r\n        backgroundImage: 'linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))',\r\n        '$root.Mui-focusVisible &': {\r\n            outline: '2px auto rgba(19,124,189,.6)',\r\n            outlineOffset: 2,\r\n        },\r\n        'input:hover ~ &': {\r\n            backgroundColor: '#ebf1f5',\r\n        },\r\n        'input:disabled ~ &': {\r\n            boxShadow: 'none',\r\n            background: 'rgba(206,217,224,.5)',\r\n        },\r\n    },\r\n    checkedIcon: {\r\n        backgroundColor: '#137cbd',\r\n        backgroundImage: 'linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))',\r\n        '&:before': {\r\n            display: 'block',\r\n            width: 16,\r\n            height: 16,\r\n            backgroundImage: 'radial-gradient(#fff,#fff 28%,transparent 32%)',\r\n            content: '\"\"',\r\n        },\r\n        'input:hover ~ &': {\r\n            backgroundColor: '#106ba3',\r\n        },\r\n    },\r\n});\r\n\r\n// Inspired by blueprintjs\r\nfunction SmallRadio(props) {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Radio\r\n            className={classes.root}\r\n            disableRipple\r\n            color=\"default\"\r\n            checkedIcon={<span className={clsx(classes.icon, classes.checkedIcon)} />}\r\n            icon={<span className={classes.icon} />}\r\n            {...props}\r\n        />\r\n    );\r\n}\r\n\r\nexport default SmallRadio;\r\n","import React from \"react\";\r\nimport {EditorContext} from \"../../../../Editor/EditorContext\";\r\nimport IconButton from \"../../../../HelperComponents/IconButton\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport './LinkGenerator.css';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport LightTooltip from \"../../../Containers/Menus/Components/LightTooltip\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport SmallRadio from \"../../../../HelperComponents/SmallRadio\";\r\nimport DropDown from \"../../../../Menus/CommonComponents/DropDown\";\r\nimport {inputCopyPasteHandler} from \"../../../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class LinkGenerator extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            type: props.linkData? props.linkData.type: \"None\",\r\n            linkData: props.linkData || {type: \"None\", data: {}}\r\n        };\r\n    }\r\n\r\n\r\n    getHomePageId = () => {\r\n        let homePage = Object.values(this.context.siteData.allPages).find(pageData => {\r\n            return pageData.props.isHome;\r\n        });\r\n\r\n        if (!homePage)\r\n            homePage = Object.values(this.context.siteData.allPages)[0];\r\n\r\n        return homePage.props.pageId;\r\n    }\r\n\r\n    getPageOptions = () => {\r\n        return Object.values(this.context.siteData.allPages).map(page => {\r\n            return {pageId: page.props.pageId, pageName: page.props.pageName};\r\n        })\r\n    };\r\n\r\n    getAnchorOptions = () => {\r\n        return Object.values(this.context.pageData.props.anchors || {});\r\n    };\r\n\r\n    getFirstLightBoxId = () => {\r\n        return \"\";\r\n    }\r\n\r\n    setLinkType = (type) => {\r\n        switch (type) {\r\n            case \"None\":\r\n                this.setState({type, linkData: {type, data: {}}});\r\n                break;\r\n            case \"WebAddress\":\r\n                this.setState({type, linkData: {type, data: {\r\n                    window: \"new\", url: \"\"}}});\r\n                break;\r\n            case \"Page\":\r\n                this.setState({type, linkData: {type, data: {\r\n                    window: \"current\", pageId: this.getHomePageId(), inputs: []}}});\r\n                break;\r\n            case \"Anchor\":\r\n                this.setState({type, linkData: {type, data: {\r\n                    anchorId: \"\"}}});\r\n                break;\r\n            case \"TopBottomThisPage\":\r\n                this.setState({type, linkData: {type, data: {\r\n                    position: \"top\"}}});\r\n                break;\r\n            case \"Document\":\r\n                this.setState({type, linkData: {type, data: {\r\n                    url: \"\"}}});\r\n                break;\r\n            case \"Email\":\r\n                this.setState({type, linkData: {type, data: {\r\n                    email: \"\", subject: \"\"}}});\r\n                break;\r\n            case \"Phone\":\r\n                this.setState({type, linkData: {type, data: {\r\n                    number: \"\"}}});\r\n                break;\r\n            case \"LightBox\":\r\n                this.setState({type, linkData: {type, data: {\r\n                    lightBoxId: this.getFirstLightBoxId()}}});\r\n                break;\r\n        }\r\n    }\r\n\r\n    validURL = (str) => {\r\n        let pattern = new RegExp('^(https?:\\\\/\\\\/)?'+ // protocol\r\n            '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|'+ // domain name\r\n            '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))'+ // OR ip (v4) address\r\n            '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*'+ // port and path\r\n            '(\\\\?[;&a-z\\\\d%_.~+=-]*)?'+ // query string\r\n            '(\\\\#[-a-z\\\\d_]*)?$','i'); // fragment locator\r\n        if (!!pattern.test(str)) {\r\n            let result = str;\r\n            if (!str.startsWith(\"http\")) {\r\n                result = \"http://\" + str;\r\n            }\r\n\r\n            return result;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    validPhone = (str) => {\r\n        if (!str || str.length < 3)\r\n            return false;\r\n\r\n        return !!/^\\d+$/.test(str);\r\n    }\r\n\r\n    validEmail = (str) => {\r\n        if (!str || str.length < 3)\r\n            return false;\r\n\r\n        const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        return re.test(String(str).toLowerCase());\r\n    }\r\n\r\n    isLinkReadyForDone = () => {\r\n        let {type, linkData} = this.state;\r\n\r\n        switch (type) {\r\n            case \"None\":\r\n                return true;\r\n            case \"WebAddress\":\r\n                return this.validURL(linkData.data.url);\r\n            case \"Page\":\r\n                return true;\r\n            case \"Anchor\":\r\n                return linkData.data.anchorId;\r\n            case \"TopBottomThisPage\":\r\n                return true;\r\n            case \"Document\":\r\n                // TODO\r\n            case \"Email\":\r\n                return this.validEmail(linkData.data.email);\r\n            case \"Phone\":\r\n                return this.validPhone(linkData.data.number);\r\n            case \"LightBox\":\r\n                // TODO\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    render () {\r\n        let {type, linkData} = this.state;\r\n        return <Modal\r\n            open={this.props.open}\r\n            onClose={this.props.onClose}\r\n            aria-labelledby=\"simple-modal-title2\"\r\n            aria-describedby=\"simple-modal-description2\"\r\n            className=\"PageSettingModal\"\r\n            disableBackdropClick\r\n        >\r\n            <div className=\"PageSettingRoot\" style={{height: \"auto\"}}>\r\n                {/*Header*/}\r\n                <div className=\"PageSettingHeader\">\r\n                    <div\r\n                        className=\"PageManagerHeaderContainer\"\r\n                    >\r\n                            <span className=\"PageManagerHeaderTitle\">\r\n                                What do you want to link to?\r\n                            </span>\r\n\r\n                        <IconButton\r\n                            onClick={this.props.onClose}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={12}\r\n                                height={12}\r\n                                src={require('../../../../icons/close.svg')}\r\n                            />\r\n                        </IconButton>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"LinkGeneratorRoot\">\r\n                    <div className=\"LinkGeneratorContent\">\r\n                        <div className=\"LinkGeneratorTypes\">\r\n                            <RadioGroup name=\"type\" value={type} onChange={\r\n                                (e) => {this.setLinkType(e.target.value)}}>\r\n                                <FormControlLabel value=\"None\" control={<SmallRadio />}\r\n                                                  label={<p className=\"LinkGeneratorTypesLabel\">None</p>} />\r\n                                <FormControlLabel value=\"WebAddress\" control={<SmallRadio />}\r\n                                                  label={<p className=\"LinkGeneratorTypesLabel\">Web Address</p>}/>\r\n                                <FormControlLabel value=\"Page\" control={<SmallRadio />}\r\n                                                  label={<p className=\"LinkGeneratorTypesLabel\">Page</p>} />\r\n                                <FormControlLabel value=\"Anchor\" control={<SmallRadio />}\r\n                                                  label={<p className=\"LinkGeneratorTypesLabel\">Anchor</p>} />\r\n                                <FormControlLabel value=\"TopBottomThisPage\" control={<SmallRadio />}\r\n                                                  label={<p className=\"LinkGeneratorTypesLabel\">Top / Bottom</p>} />\r\n                                <FormControlLabel value=\"Document\" disabled control={<SmallRadio />}\r\n                                                  label={<p className=\"LinkGeneratorTypesLabel\">Document</p>} />\r\n                                <FormControlLabel value=\"Email\"  control={<SmallRadio />}\r\n                                                  label={<p className=\"LinkGeneratorTypesLabel\">Email</p>} />\r\n                                <FormControlLabel value=\"Phone\"  control={<SmallRadio />}\r\n                                                  label={<p className=\"LinkGeneratorTypesLabel\">Phone</p>} />\r\n                                <FormControlLabel value=\"LightBox\" disabled  control={<SmallRadio />}\r\n                                                  label={<p className=\"LinkGeneratorTypesLabel\">LightBox</p>} />\r\n                            </RadioGroup>\r\n                        </div>\r\n                        <div className=\"LinkGeneratorOptions\">\r\n                            {\r\n                                (type === \"None\") &&\r\n                                <div className=\"LinkGeneratorOptionNone\">\r\n                                    <h3>No Link</h3>\r\n                                    <p>Choose from the list of options to add a link to your element</p>\r\n                                </div>\r\n                            }\r\n                            {\r\n                                (type === \"WebAddress\") &&\r\n                                <div className=\"LinkGeneratorOptionWebAddress\">\r\n                                    <span className=\"LinkGeneratorTypesLabel\">\r\n                                        What's the web address (URL)?\r\n                                    </span>\r\n                                    <div className=\"LinkGeneratorOptionWebAddressInputContainer\">\r\n                                        <input\r\n                                            defaultValue={linkData.data.url || \"\"}\r\n                                            className=\"NumberInput PageManagerRenameInput PageInfoNameInput LinkGeneratorOptionWebAddressInput\"\r\n                                            type=\"text\"\r\n                                            onChange={\r\n                                                (e) => {this.tempUrl = e.target.value}\r\n                                            }\r\n                                            onBlur={() => {\r\n                                                if (this.validURL(this.tempUrl)) {\r\n                                                    this.tempUrl = this.validURL(this.tempUrl);\r\n                                                }\r\n                                                linkData.data.url = this.tempUrl || \"\";\r\n                                                this.setState({linkData});\r\n                                            }}\r\n                                            onKeyDown={(e) => {\r\n                                                if((e.keyCode || e.which) === 13) {\r\n                                                    if (this.validURL(this.tempUrl)) {\r\n                                                        this.tempUrl = this.validURL(this.tempUrl);\r\n                                                    }\r\n                                                    linkData.data.url = this.tempUrl || \"\";\r\n                                                    this.setState({linkData});\r\n                                                }\r\n                                                inputCopyPasteHandler(e)\r\n                                            }}\r\n                                        >\r\n                                        </input>\r\n                                        {\r\n                                            (this.tempUrl && !this.validURL(this.tempUrl)) &&\r\n                                            <LightTooltip\r\n                                                title=\"Check the URL and try again\"\r\n                                                PopperProps={{style:{zIndex: 99999999999}}}\r\n                                            >\r\n                                                <img\r\n                                                    className=\"LinkGeneratorOptionWebAddressUrlError\"\r\n                                                    draggable={false}\r\n                                                    width={24}\r\n                                                    height={24}\r\n                                                    src={require('../../../../icons/errorred.svg')}\r\n                                                />\r\n                                            </LightTooltip>\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"LinkGeneratorHorizontalDivider\">\r\n                                    </div>\r\n\r\n                                    <RadioGroup name=\"window\" value={linkData.data.window} onChange={(e) => {\r\n                                        linkData.data.window = e.target.value;\r\n                                        this.setState({linkData});\r\n                                    }}>\r\n                                        <FormControlLabel value=\"new\" control={<SmallRadio />}\r\n                                                          label={<p className=\"LinkGeneratorTypesLabel\">New Window</p>} />\r\n                                        <FormControlLabel value=\"current\" control={<SmallRadio />}\r\n                                                          label={<p className=\"LinkGeneratorTypesLabel\">Current Window</p>} />\r\n                                    </RadioGroup>\r\n\r\n                                    {\r\n                                        linkData.data.window === \"current\" &&\r\n                                        <div className=\"LinkGeneratorOptionWebAddressTip\">\r\n                                            You can only open this link from your published site.\r\n                                        </div>\r\n                                    }\r\n                                </div>\r\n                            }\r\n                            {\r\n                                (type === \"Anchor\") &&\r\n                                <div className=\"LinkGeneratorOptionWebAddress\">\r\n                                    <span className=\"LinkGeneratorTypesLabel\">\r\n                                        Which anchor linking to?\r\n                                    </span>\r\n                                    <DropDown\r\n                                        rootStyle={{\r\n                                            border: \"1px solid #c6c6c6\",\r\n                                            marginTop: 12,\r\n                                            borderRadius: 4\r\n                                        }}\r\n                                        menuItemStyle={{\r\n                                            padding: 0\r\n                                        }}\r\n                                        options={this.getAnchorOptions()}\r\n                                        onChange={(v) => {\r\n                                            linkData.data.anchorId = v.id;\r\n                                            this.setState({linkData});\r\n                                        }}\r\n                                        value={this.getAnchorOptions().find(a => a.id === linkData.data.anchorId) || {}}\r\n                                        spanStyle={{\r\n                                            width: 367,\r\n                                            fontSize: 14,\r\n                                            border: \"0px solid #cfcfcf\",\r\n                                        }}\r\n                                        renderer={(anchor) => {\r\n                                            return (\r\n                                                <div id={\"TEst\"} className=\"TextEditorThemeRendererRoot\">\r\n                                                    <span className=\"TextEditorThemeRendererName\">\r\n                                                        {anchor.name}\r\n                                                    </span>\r\n                                                </div>\r\n                                            )\r\n                                        }}\r\n                                        valueRenderer={(anchor) => {\r\n                                            return (\r\n                                                <span>\r\n                                                    {anchor.name}\r\n                                                </span>\r\n                                            )\r\n                                        }}\r\n                                    />\r\n                                </div>\r\n                            }\r\n                            {\r\n                                (type === \"Page\") &&\r\n                                <div className=\"LinkGeneratorOptionWebAddress\">\r\n                                    <span className=\"LinkGeneratorTypesLabel\">\r\n                                        Add your number\r\n                                    </span>\r\n                                    <DropDown\r\n                                        rootStyle={{\r\n                                            border: \"1px solid #c6c6c6\",\r\n                                            marginTop: 12,\r\n                                            borderRadius: 4\r\n                                        }}\r\n                                        menuItemStyle={{\r\n                                            padding: 0\r\n                                        }}\r\n                                        options={this.getPageOptions()}\r\n                                        onChange={(v) => {\r\n                                            linkData.data.pageId = v.pageId;\r\n                                            this.setState({linkData});\r\n                                        }}\r\n                                        value={this.getPageOptions().find(p => p.pageId === linkData.data.pageId)}\r\n                                        spanStyle={{\r\n                                            width: 367,\r\n                                            fontSize: 14,\r\n                                            border: \"0px solid #cfcfcf\",\r\n                                        }}\r\n                                        renderer={(page) => {\r\n                                            return (\r\n                                                <div id={\"TEst\"} className=\"TextEditorThemeRendererRoot\">\r\n                                                    <span className=\"TextEditorThemeRendererName\">\r\n                                                        {page.pageName}\r\n                                                    </span>\r\n                                                </div>\r\n                                            )\r\n                                        }}\r\n                                        valueRenderer={(page) => {\r\n                                            return (\r\n                                                <span>\r\n                                                    {page.pageName}\r\n                                                </span>\r\n                                            )\r\n                                        }}\r\n                                    />\r\n                                    <div className=\"LinkGeneratorHorizontalDivider\">\r\n                                    </div>\r\n\r\n                                    <RadioGroup name=\"window\" value={linkData.data.window} onChange={(e) => {\r\n                                        linkData.data.window = e.target.value;\r\n                                        this.setState({linkData});\r\n                                    }}>\r\n                                        <FormControlLabel value=\"new\" control={<SmallRadio />}\r\n                                                          label={<p className=\"LinkGeneratorTypesLabel\">New Window</p>} />\r\n                                        <FormControlLabel value=\"current\" control={<SmallRadio />}\r\n                                                          label={<p className=\"LinkGeneratorTypesLabel\">Current Window</p>} />\r\n                                    </RadioGroup>\r\n\r\n                                    {\r\n                                        linkData.data.window === \"new\" &&\r\n                                        <div className=\"LinkGeneratorOptionWebAddressTip\">\r\n                                            You can only open this link from your published site.\r\n                                        </div>\r\n                                    }\r\n                                </div>\r\n                            }\r\n                            {\r\n                                (type === \"TopBottomThisPage\") &&\r\n                                <div className=\"LinkGeneratorOptionWebAddress\">\r\n                                    <span className=\"LinkGeneratorTypesLabel\">\r\n                                        Select scroll destination\r\n                                    </span>\r\n\r\n                                    <div className=\"LinkGeneratorVerticalSpace\">\r\n                                    </div>\r\n\r\n                                    <RadioGroup name=\"window\" value={linkData.data.position} onChange={(e) => {\r\n                                        linkData.data.position = e.target.value;\r\n                                        this.setState({linkData});\r\n                                    }}>\r\n                                        <FormControlLabel value=\"top\" control={<SmallRadio />}\r\n                                                          label={<p className=\"LinkGeneratorTypesLabel\">Top of page</p>} />\r\n                                        <FormControlLabel value=\"bottom\" control={<SmallRadio />}\r\n                                                          label={<p className=\"LinkGeneratorTypesLabel\">Bottom of page</p>} />\r\n                                    </RadioGroup>\r\n                                </div>\r\n                            }\r\n                            {\r\n                                (type === \"Phone\") &&\r\n                                <div className=\"LinkGeneratorOptionWebAddress\">\r\n                                    <span className=\"LinkGeneratorTypesLabel\">\r\n                                        Add your number\r\n                                    </span>\r\n                                    <div className=\"LinkGeneratorOptionWebAddressInputContainer\">\r\n                                        <input\r\n                                            defaultValue={linkData.data.number || \"\"}\r\n                                            placeholder=\"09123456789\"\r\n                                            className=\"NumberInput PageManagerRenameInput PageInfoNameInput LinkGeneratorOptionWebAddressInput\"\r\n                                            type=\"text\"\r\n                                            onChange={\r\n                                                (e) => {this.tempNumber = e.target.value}\r\n                                            }\r\n                                            onBlur={() => {\r\n                                                linkData.data.number = this.tempNumber || \"\";\r\n                                            }}\r\n                                            onKeyDown={(e) => {\r\n                                                if((e.keyCode || e.which) === 13) {\r\n                                                    linkData.data.number = this.tempNumber || \"\";\r\n                                                    this.setState({linkData});\r\n                                                }\r\n                                                inputCopyPasteHandler(e)\r\n                                            }}\r\n                                        >\r\n                                        </input>\r\n                                        {\r\n                                            (this.tempNumber && !this.validPhone(this.tempNumber)) &&\r\n                                            <LightTooltip\r\n                                                title=\"Check the number and try again\"\r\n                                                PopperProps={{style:{zIndex: 99999999999}}}\r\n                                            >\r\n                                                <img\r\n                                                    className=\"LinkGeneratorOptionWebAddressUrlError\"\r\n                                                    draggable={false}\r\n                                                    width={24}\r\n                                                    height={24}\r\n                                                    src={require('../../../../icons/errorred.svg')}\r\n                                                />\r\n                                            </LightTooltip>\r\n                                        }\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                            {\r\n                                (type === \"Email\") &&\r\n                                <div className=\"LinkGeneratorOptionWebAddress\">\r\n                                    <span className=\"LinkGeneratorTypesLabel\">\r\n                                        What's the email address?\r\n                                    </span>\r\n                                    <div className=\"LinkGeneratorOptionWebAddressInputContainer\">\r\n                                        <input\r\n                                            defaultValue={linkData.data.email || \"\"}\r\n                                            placeholder=\"e.g. youremail@gmal.com\"\r\n                                            className=\"NumberInput PageManagerRenameInput PageInfoNameInput LinkGeneratorOptionWebAddressInput\"\r\n                                            type=\"text\"\r\n                                            onChange={\r\n                                                (e) => {this.tempEmail = e.target.value}\r\n                                            }\r\n                                            onBlur={() => {\r\n                                                linkData.data.email = this.tempEmail || \"\";\r\n                                            }}\r\n                                            onKeyDown={(e) => {\r\n                                                if((e.keyCode || e.which) === 13) {\r\n                                                    linkData.data.email = this.tempEmail || \"\";\r\n                                                    this.setState({linkData});\r\n                                                }\r\n                                                inputCopyPasteHandler(e)\r\n                                            }}\r\n                                        >\r\n                                        </input>\r\n                                        {\r\n                                            (this.tempEmail && !this.validEmail(this.tempEmail)) &&\r\n                                            <LightTooltip\r\n                                                title=\"Check the email and try again\"\r\n                                                PopperProps={{style:{zIndex: 99999999999}}}\r\n                                            >\r\n                                                <img\r\n                                                    className=\"LinkGeneratorOptionWebAddressUrlError\"\r\n                                                    draggable={false}\r\n                                                    width={24}\r\n                                                    height={24}\r\n                                                    src={require('../../../../icons/errorred.svg')}\r\n                                                />\r\n                                            </LightTooltip>\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <div className=\"LinkGeneratorHorizontalDivider\">\r\n                                    </div>\r\n\r\n                                    <div className=\"LinkGeneratorOptionWebAddressInputContainer\">\r\n                                        <input\r\n                                            defaultValue={linkData.data.subject || \"\"}\r\n                                            placeholder=\"\"\r\n                                            className=\"NumberInput PageManagerRenameInput PageInfoNameInput LinkGeneratorOptionWebAddressInput\"\r\n                                            type=\"text\"\r\n                                            onChange={\r\n                                                (e) => {this.tempSubject = e.target.value}\r\n                                            }\r\n                                            onBlur={() => {\r\n                                                linkData.data.subject = this.tempSubject || \"\";\r\n                                            }}\r\n                                            onKeyDown={(e) => {\r\n                                                if((e.keyCode || e.which) === 13) {\r\n                                                    linkData.data.subject = this.tempSubject || \"\";\r\n                                                    this.setState({linkData});\r\n                                                }\r\n                                                inputCopyPasteHandler(e)\r\n                                            }}\r\n                                        >\r\n                                        </input>\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"LinkGeneratorFooter\">\r\n                        <Button\r\n                            className=\"LinkGeneratorFooterCancel\"\r\n                            color=\"primary\"\r\n                            onClick={this.props.onClose}\r\n                        >\r\n                            Cancel\r\n                        </Button>\r\n\r\n                        <Button\r\n                            className=\"LinkGeneratorFooterDone\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            disabled={!this.isLinkReadyForDone()}\r\n                            onClick={() => {\r\n                                this.props.onDone(linkData);\r\n                                this.props.onClose();\r\n                            }}\r\n                        >\r\n                            Done\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {getRandomLinkId, getRangeSelectedNodes} from \"../../TextHelper\";\r\n\r\nexport function addLinkData (doc, linkData) {\r\n    if (linkData.type === \"None\") {\r\n        removeSelectedLink(doc);\r\n        return;\r\n    }\r\n\r\n    let linkId = getRandomLinkId(12);\r\n    if (getSelectedLinkId(doc))\r\n    {\r\n        linkId = getSelectedLinkId(doc);\r\n        let node = doc.getElementById(linkId);\r\n        node.setAttribute(\"linkdata\", JSON.stringify(linkData));\r\n    }\r\n    else\r\n    {\r\n        doc.execCommand('underline');\r\n        doc.execCommand('createlink', false, \"link1\");\r\n\r\n        let nodes = doc.querySelectorAll(`[href=\"link1\"]`);\r\n\r\n        nodes.forEach(node => {\r\n            node.removeAttribute(\"href\");\r\n            node.setAttribute(\"id\", linkId);\r\n            node.setAttribute(\"islink\", true);\r\n            node.setAttribute(\"linkdata\", JSON.stringify(linkData));\r\n        })\r\n    }\r\n}\r\n\r\nexport function removeSelectedLink (doc) {\r\n    let linkId = getSelectedLinkId(doc);\r\n\r\n    if (!linkId)\r\n        return;\r\n\r\n    let node = doc.getElementById(linkId);\r\n\r\n    var parent = node.parentNode;\r\n\r\n    while (node.firstChild) parent.insertBefore(node.firstChild, node);\r\n\r\n    parent.removeChild(node);\r\n}\r\n\r\nexport function getSelectedLinkData (doc) {\r\n    let linkId = getSelectedLinkId(doc);\r\n\r\n    if (!linkId)\r\n        return;\r\n\r\n    let node = doc.getElementById(linkId);\r\n\r\n    return JSON.parse(node.getAttribute(\"linkdata\"));\r\n}\r\n\r\nexport function getSelectedLinkId (doc) {\r\n    let selection = doc.getSelection();\r\n\r\n    if (selection.rangeCount < 1)\r\n        return false;\r\n\r\n    let range = selection.getRangeAt(0);\r\n    let nodes = getRangeSelectedNodes(range);\r\n    let linkId = false;\r\n    nodes.forEach(node => {\r\n        while (node) {\r\n            if (node.tagName === \"A\" && node.hasAttribute(\"islink\")) {\r\n                linkId = node.getAttribute(\"id\");\r\n                break;\r\n            }\r\n            node = node.parentNode;\r\n        }\r\n    });\r\n    return linkId;\r\n}\r\n\r\nexport function resolveLinks (element, preview, production, editorContext) {\r\n    let nodes = element.querySelectorAll(`[islink=true]`);\r\n\r\n    nodes.forEach(node => {\r\n        prepareLink(node, preview, production, editorContext);\r\n    })\r\n}\r\n\r\nexport function prepareLink (node, preview, production, editorContext, linkData) {\r\n    if (!linkData)\r\n        linkData = JSON.parse(node.getAttribute(\"linkdata\"));\r\n\r\n    if (!preview && !production)\r\n        return;\r\n\r\n    if (!linkData)\r\n        return;\r\n\r\n    switch (linkData.type) {\r\n        case \"WebAddress\":\r\n            if (linkData.data.window === \"current\" && !production)\r\n                return;\r\n\r\n            node.setAttribute(\"href\", linkData.data.url);\r\n            if (linkData.data.window === \"new\") {\r\n                node.setAttribute(\"target\", \"_blank\");\r\n            }\r\n            break;\r\n        case \"Page\":\r\n            if (linkData.data.window === \"new\" && !production)\r\n                return;\r\n\r\n            // node.addEventListener('click', () => {pageLinkHandle(editorContext, linkData)})\r\n            node.onclick = () => {pageLinkHandle(editorContext, linkData)};\r\n            // node.setAttribute(\"href\", \"\");\r\n            break;\r\n        case \"Anchor\":\r\n            node.setAttribute(\"href\", `#${linkData.data.anchorId}`);\r\n            break;\r\n        case \"TopBottomThisPage\":\r\n            node.setAttribute(\"href\", `#${linkData.data.position}`);\r\n            break;\r\n\r\n        case \"Document\":\r\n        // TODO\r\n            break;\r\n        case \"Email\":\r\n            node.setAttribute(\"href\", `mailto:${linkData.data.email}?subject=${\r\n                linkData.data.subject || \"subject\"\r\n            }`);\r\n            break;\r\n        case \"Phone\":\r\n            node.setAttribute(\"href\", `tel:${linkData.data.number}`);\r\n            break;\r\n        case \"LightBox\":\r\n        // TODO\r\n            break;\r\n    }\r\n\r\n    node.removeAttribute(\"linkdata\");\r\n}\r\n\r\nfunction pageLinkHandle (editorContext, linkData) {\r\n    if (linkData.data.window === 'current') {\r\n        console.log(\"pageLinkHandle\");\r\n        // editorContext.setPageData(linkData.data.pageId);\r\n        editorContext.redirect(linkData.data.pageId);\r\n    } else {\r\n        // TODO open page in other window !Important\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport Popper from \"@material-ui/core/Popper/Popper\";\r\nimport './TextEditor.css';\r\nimport TextEditorButton from \"./TextEditorButton\";\r\nimport {EditorContext} from \"../../../Editor/EditorContext\";\r\nimport DropDown from \"../../../Menus/CommonComponents/DropDown\";\r\nimport {getRandomColor, getFontDataByFamily} from \"../TextHelper\";\r\nimport FontSizeSelector from \"./components/FontSizeSelector\";\r\nimport TextColorSelector from \"./components/TextColorSelector\";\r\nimport StaticFonts from '../Fonts/StaticFonts.json';\r\nimport LinkGenerator from \"./components/LinkGenerator\";\r\nimport {addLinkData, getSelectedLinkData, getSelectedLinkId} from \"./components/LinkHelper\";\r\n\r\nexport default class TextEditor extends React.Component {\r\n    static contextType = EditorContext;\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {};\r\n\r\n        this.fontSizeSelectorRef = React.createRef();\r\n    }\r\n\r\n    // Depricated: These function does not support undo redo\r\n    // applyProperty = (propertyName, value, tagName = 'span') => {\r\n    //     applyProperty(this.props.doc, this.props.iframeNode.contentWindow, propertyName, value, tagName);\r\n    //     this.props.inputWrapperRef.current.onInput();\r\n    // }\r\n\r\n    getTextDir = () => {\r\n        let {textStaticData} = this.props;\r\n\r\n        if (!textStaticData.dir)\r\n            return \"ltr\";\r\n\r\n        return textStaticData.dir;\r\n    }\r\n\r\n    onIframeTextClicked = (e) => {\r\n        if (this.mounted) {\r\n            this.refreshState();\r\n            return;\r\n        }\r\n\r\n        setTimeout(() => {\r\n            this.onIframeTextClicked(e);\r\n        }, 200);\r\n    }\r\n\r\n    refreshState = () => {\r\n        window.requestAnimationFrame(() => {\r\n            const selection = this.props.doc.getSelection();\r\n\r\n            if (!selection.anchorNode)\r\n                return;\r\n\r\n            // set size\r\n            const size = window.getComputedStyle(selection.anchorNode.parentElement, null).getPropertyValue('font-size');\r\n            this.fontSizeSelectorRef.current.setForceValue(size);\r\n\r\n            // set bold\r\n            const fontWeight = window.getComputedStyle(selection.anchorNode.parentElement, null).getPropertyValue('font-weight');\r\n            let bold = (fontWeight === \"700\");\r\n\r\n            // set italic\r\n            const fontStyle = window.getComputedStyle(selection.anchorNode.parentElement, null).getPropertyValue('font-style');\r\n            let italic = (fontStyle === \"italic\");\r\n\r\n            // set underline\r\n            const decoration = window.getComputedStyle(selection.anchorNode.parentElement, null).getPropertyValue('text-decoration');\r\n            let underline = (decoration.includes(\"underline\"));\r\n\r\n            // set font name\r\n            let fontFamily =\r\n                window.getComputedStyle(selection.anchorNode.parentElement, null).getPropertyValue('font-family');\r\n\r\n            let fontData = getFontDataByFamily(StaticFonts, fontFamily);\r\n\r\n            // let multiLineSelect = /\\r|\\n/.exec(selection);\r\n\r\n            this.setState({bold, italic, underline, fontData});\r\n        });\r\n    }\r\n\r\n    isTextSelcted = () => {\r\n            let selection = this.props.doc.getSelection();\r\n            return !(selection.toString().length < 1);\r\n    }\r\n\r\n    tryAgain = () => {\r\n        window.requestAnimationFrame(() => {\r\n            this.forceUpdate();\r\n        });\r\n    }\r\n\r\n    render () {\r\n        let {textTheme, textStaticData, textDesignData, anchorEI} = this.props;\r\n        if (document.getElementById(\"TextEditorIFrame\") === null){\r\n            this.tryAgain();\r\n            return null;\r\n        }\r\n\r\n        this.mounted = true;\r\n        return (\r\n            <>\r\n            <Popper\r\n                open={true}\r\n                // anchorEl={anchorEI}\r\n                anchorEl={document.getElementById(\"TextEditorIFrame\")}\r\n                placement=\"top-start\"\r\n                style={{\r\n                    zIndex: 9999999999999999,\r\n                    ...this.props.style\r\n                }}\r\n                modifiers={{\r\n                    flip: {\r\n                        enabled: true,\r\n                    },\r\n                    preventOverflow: {\r\n                        enabled: true,\r\n                        boundariesElement: 'scrollParent',\r\n                    },\r\n                }}\r\n            >\r\n                <div\r\n                    className=\"TextEditorRoot\"\r\n                    onMouseDown={(e) => {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                    }}\r\n                    onClick={(e) => {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                    }}\r\n                    onDoubleClick={(e) => {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                    }}\r\n                >\r\n                    <div className=\"TextEditorContainer\">\r\n                        <div className=\"TextEditorContainerRow\">\r\n                            <DropDown\r\n                                rootStyle={{\r\n                                    borderRight: \"1px solid #c6c6c6\",\r\n                                    marginRight: 12,\r\n                                    marginLeft: 4\r\n                                }}\r\n                                menuItemStyle={{\r\n                                    padding: 0\r\n                                }}\r\n                                options={this.context.getTheme(\"Text\")}\r\n                                onChange={(v) => {\r\n                                    textDesignData.textTheme = v.name;\r\n                                    this.props.onChangeData(textStaticData, textDesignData);\r\n                                    window.requestAnimationFrame(() => {\r\n                                        this.props.updateInputWrapper();\r\n                                        this.props.inputWrapperRef.current.onInput();\r\n                                    })\r\n                                }}\r\n                                value={textTheme}\r\n                                spanStyle={{\r\n                                    width: 180,\r\n                                    fontSize: 14,\r\n                                    border: \"0px solid #cfcfcf\",\r\n                                }}\r\n                                renderer={(textTheme) => {\r\n                                    return (\r\n                                        <div className=\"TextEditorThemeRendererRoot\">\r\n                                        <span className=\"TextEditorThemeRendererColor\" style={{\r\n                                            backgroundColor: textTheme.color\r\n                                        }}>\r\n                                        </span>\r\n                                            <span className=\"TextEditorThemeRendererName\">\r\n                                            {textTheme.name}\r\n                                        </span>\r\n                                            <span className=\"TextEditorThemeRendererSize\">\r\n                                            {textTheme.fontSize}px\r\n                                        </span>\r\n                                        </div>\r\n                                    )\r\n                                }}\r\n                                valueRenderer={(textTheme) => {\r\n                                    return (\r\n                                        <span>\r\n                                        {textTheme.name}\r\n                                    </span>\r\n                                    )\r\n                                }}\r\n                            />\r\n                            <DropDown\r\n                                rootStyle={{\r\n                                    borderRight: \"1px solid #c6c6c6\",\r\n                                    marginRight: 12,\r\n                                    marginLeft: 4\r\n                                }}\r\n                                menuItemStyle={{\r\n                                    padding: 0\r\n                                }}\r\n                                options={Object.values(StaticFonts)}\r\n                                onChange={(fontData) => {\r\n                                    if (!this.isTextSelcted()) {\r\n                                        textDesignData.fontFamily = fontData.fontFamily;\r\n                                        this.props.onChangeData(textStaticData, textDesignData);\r\n                                        window.requestAnimationFrame(() => {\r\n                                            this.props.updateInputWrapper();\r\n                                            this.props.inputWrapperRef.current.onInput();\r\n                                        })\r\n                                    } else {\r\n                                        this.props.doc.execCommand('fontName', false, fontData.fontFamily);\r\n                                        this.refreshState();\r\n                                    }\r\n                                }}\r\n                                value={this.state.fontData? this.state.fontData:\r\n                                    getFontDataByFamily(StaticFonts, textDesignData.fontFamily)}\r\n                                spanStyle={{\r\n                                    width: 180,\r\n                                    fontSize: 14,\r\n                                    border: \"0px solid #cfcfcf\",\r\n                                }}\r\n                                renderer={(fontData) => {\r\n                                    let isRtlStyle = fontData.isRtl ? {justifyContent: \"flex-end\"}: {}\r\n                                    return (\r\n                                        <div className=\"TextEditorThemeRendererRoot\" style={isRtlStyle} >\r\n                                            <span style={{\r\n                                                fontFamily: fontData.fontFamily\r\n                                            }}>\r\n                                                {fontData.display}\r\n                                            </span>\r\n                                        </div>\r\n                                    )\r\n                                }}\r\n                                valueRenderer={(fontData) => {\r\n                                    return (\r\n                                        <span style={{\r\n                                            fontFamily: fontData.fontFamily\r\n                                        }}>\r\n                                            {fontData.display}\r\n                                        </span>\r\n                                    )\r\n                                }}\r\n                            />\r\n                            <FontSizeSelector\r\n                                ref={this.fontSizeSelectorRef}\r\n                                style={{ width: 64 }}\r\n                                textTheme={textTheme}\r\n                                textStaticData={textStaticData}\r\n                                textDesignData={textDesignData}\r\n                                onChange={(value) => {\r\n                                    if (this.isTextSelcted()) {\r\n                                        this.props.doc.execCommand('fontSize', false, 1);\r\n\r\n                                        let nodes = this.props.doc.querySelectorAll(`[size=\"1\"]`);\r\n\r\n                                        nodes.forEach(node => {\r\n                                            node.removeAttribute(\"size\");\r\n                                            node.style.fontSize = `${value}px`;\r\n                                        })\r\n\r\n                                        this.props.inputWrapperRef.current.onInput();\r\n                                    } else {\r\n                                        textDesignData.fontSize = value;\r\n                                        this.props.onChangeData(textStaticData, textDesignData);\r\n                                        window.requestAnimationFrame(() => {\r\n                                            this.props.inputWrapperRef.current.onInput();\r\n                                        })\r\n                                    }\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div className=\"TextEditorContainerRow\">\r\n\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    this.props.doc.execCommand('bold');\r\n                                    this.refreshState();\r\n                                }}\r\n                                selected={this.state.bold}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/bold.svg'} />\r\n                            </TextEditorButton>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    this.props.doc.execCommand('italic');\r\n                                    this.refreshState();\r\n                                }}\r\n                                selected={this.state.italic}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/italic.svg'} />\r\n                            </TextEditorButton>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    this.props.doc.execCommand('underline');\r\n                                    this.refreshState();\r\n                                }}\r\n                                selected={this.state.underline}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/underline.svg'} />\r\n                            </TextEditorButton>\r\n                            <div className=\"TextEditorVerticalDivider\"/>\r\n                            <TextColorSelector\r\n                                onChange={(color) => {\r\n                                    let randomColor = getRandomColor();\r\n                                    this.props.doc.execCommand('foreColor', false, randomColor);\r\n\r\n                                    let nodes = this.props.doc.querySelectorAll(`[color=\"${randomColor}\"]`);\r\n\r\n                                    if (color instanceof Object) {\r\n                                        nodes.forEach(node => {\r\n                                            node.removeAttribute(\"color\");\r\n                                            [...node.classList].forEach(className => {\r\n                                                if (className.startsWith('Color_'))\r\n                                                    node.classList.remove(className);\r\n                                            });\r\n                                            node.classList.add(this.context.getThemeColorClass(color));\r\n                                            let childs = node.getElementsByTagName(\"*\");\r\n                                            for (let childNode of childs) {\r\n                                                [...childNode.classList].forEach(className => {\r\n                                                    if (className.startsWith('Color_'))\r\n                                                        childNode.classList.remove(className);\r\n                                                });\r\n                                            }\r\n                                        })\r\n                                    } else {\r\n                                        nodes.forEach(node => {\r\n                                            node.setAttribute(\"color\", color);\r\n                                            [...node.classList].forEach(className => {\r\n                                                if (className.startsWith('Color_'))\r\n                                                    node.classList.remove(className);\r\n                                            });\r\n                                            let childs = node.getElementsByTagName(\"*\");\r\n                                            for (let childNode of childs) {\r\n                                                [...childNode.classList].forEach(className => {\r\n                                                    if (className.startsWith('Color_'))\r\n                                                        childNode.classList.remove(className);\r\n                                                });\r\n                                            }\r\n                                        })\r\n                                    }\r\n\r\n                                    this.props.inputWrapperRef.current.onInput();\r\n                                }}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/color.svg'} />\r\n                            </TextColorSelector>\r\n                            <TextColorSelector\r\n                                onChange={(color) => {\r\n                                    let randomColor = getRandomColor();\r\n                                    this.props.doc.execCommand('fontSize', false, 1);\r\n                                    this.props.doc.execCommand('backColor', false, randomColor);\r\n\r\n                                    let nodes = this.props.doc.querySelectorAll(`[size=\"1\"]`);\r\n\r\n                                    if (color instanceof Object) {\r\n                                        nodes.forEach(node => {\r\n                                            node.removeAttribute(\"size\");\r\n                                            [...node.classList].forEach(className => {\r\n                                                if (className.startsWith('BackColor_'))\r\n                                                    node.classList.remove(className);\r\n                                            });\r\n                                            node.classList.add(this.context.getThemeBackColorClass(color));\r\n                                            if (node.style && node.style.removeProperty)\r\n                                                node.style.removeProperty(\"background-color\");\r\n                                            let childs = node.getElementsByTagName(\"*\");\r\n                                            for (let childNode of childs) {\r\n                                                [...childNode.classList].forEach(className => {\r\n                                                    if (className.startsWith('BackColor_'))\r\n                                                        childNode.classList.remove(className);\r\n                                                });\r\n                                            }\r\n                                        })\r\n                                    } else {\r\n                                        nodes.forEach(node => {\r\n                                            node.removeAttribute(\"size\");\r\n                                            if (node.style)\r\n                                                node.style.backgroundColor = color;\r\n                                            [...node.classList].forEach(className => {\r\n                                                if (className.startsWith('BackColor_'))\r\n                                                    node.classList.remove(className);\r\n                                            });\r\n                                            let childs = node.getElementsByTagName(\"*\");\r\n                                            for (let childNode of childs) {\r\n                                                [...childNode.classList].forEach(className => {\r\n                                                    if (className.startsWith('BackColor_'))\r\n                                                        childNode.classList.remove(className);\r\n                                                });\r\n                                            }\r\n                                        })\r\n                                    }\r\n\r\n                                    this.props.inputWrapperRef.current.onInput();\r\n                                }}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/fill.svg'} />\r\n                            </TextColorSelector>\r\n                            <div className=\"TextEditorVerticalDivider\"/>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    this.context.showLinkGenerator(\r\n                                        getSelectedLinkData(this.props.doc),\r\n                                        (linkData) => {\r\n                                            addLinkData(this.props.doc, linkData);\r\n                                            this.refreshState();\r\n                                            this.props.inputWrapperRef.current.onInput();\r\n                                        }\r\n                                    );\r\n                                }}\r\n                                selected={getSelectedLinkId(this.props.doc) !== false}\r\n                                selectedIcon={<img draggable={false} width={16} height={16}\r\n                                                   src={require('../../../icons/linkblue.svg')} />}\r\n                                disabled={getSelectedLinkId(this.props.doc) === false && !this.isTextSelcted()}\r\n                                disabledIcon={<img draggable={false} width={16} height={16}\r\n                                                   src={require('../../../icons/linkdisable.svg')} />}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={require('../../../icons/link.svg')} />\r\n                            </TextEditorButton>\r\n                            <div className=\"TextEditorVerticalDivider\"/>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    // this.props.doc.execCommand('justifyLeft');\r\n                                    textDesignData.textAlign = undefined;\r\n                                    this.props.onChangeData(textStaticData, textDesignData);\r\n                                }}\r\n                                selected={textDesignData.textAlign === undefined}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/align-left.svg'} />\r\n                            </TextEditorButton>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    // this.props.doc.execCommand('justifyCenter');\r\n                                    textDesignData.textAlign = \"center\";\r\n                                    this.props.onChangeData(textStaticData, textDesignData);\r\n                                }}\r\n                                selected={textDesignData.textAlign === \"center\"}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/align-center.svg'} />\r\n                            </TextEditorButton>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    // this.props.doc.execCommand('justifyRight');\r\n                                    textDesignData.textAlign = \"right\";\r\n                                    this.props.onChangeData(textStaticData, textDesignData);\r\n                                }}\r\n                                selected={textDesignData.textAlign === \"right\"}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/align-right.svg'} />\r\n                            </TextEditorButton>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    // this.props.doc.execCommand('justifyFull');\r\n                                    textDesignData.textAlign = \"justify\";\r\n                                    this.props.onChangeData(textStaticData, textDesignData);\r\n                                }}\r\n                                selected={textDesignData.textAlign === \"justify\"}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/justify.svg'} />\r\n                            </TextEditorButton>\r\n                            <div className=\"TextEditorVerticalDivider\"/>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    this.props.doc.execCommand('insertUnorderedList');\r\n                                }}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/list-dot.svg'} />\r\n                            </TextEditorButton>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    this.props.doc.execCommand('insertOrderedList');\r\n                                }}\r\n                            >\r\n                                <img draggable={false} width={16} height={16}\r\n                                     src={process.env.PUBLIC_URL + '/static/icon/texteditor/list-number.svg'} />\r\n                            </TextEditorButton>\r\n                            <div className=\"TextEditorVerticalDivider\"/>\r\n                            <TextEditorButton\r\n                                onClick={(e) => {\r\n                                    // let sel = this.props.doc.getSelection();\r\n                                    if (this.getTextDir() === \"ltr\")\r\n                                        textStaticData.dir = \"rtl\";\r\n                                    else\r\n                                        textStaticData.dir = \"ltr\";\r\n\r\n                                    this.props.onChangeData(textStaticData, textDesignData);\r\n                                }}\r\n                            >\r\n                                {\r\n                                    <img draggable={false} width={16} height={16}\r\n                                         src={process.env.PUBLIC_URL + `/static/icon/texteditor/text-direction-${this.getTextDir()}.svg`} />\r\n                                }\r\n                            </TextEditorButton>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Popper>\r\n                {\r\n                    this.state.linkGenerator &&\r\n                    <LinkGenerator\r\n                        open={true}\r\n                        linkData={getSelectedLinkData(this.props.doc)}\r\n                        onClose={() => {this.setState({linkGenerator: false})}}\r\n                        onDone={(linkData) => {\r\n                            addLinkData(this.props.doc, linkData);\r\n                            this.setState({linkGenerator: false});\r\n                        }}\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport Frame from 'iframe-react';\r\nimport InputWrapper from \"./Menus/InputWrapper\";\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport TextEditor from \"./Menus/TextEditor\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport {getTextStyle} from \"./TextHelper\";\r\nimport {resolveLinks} from \"./Menus/components/LinkHelper\";\r\n\r\nexport default class TextWrapper extends React.PureComponent {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            editMode: false,\r\n            editableStyle: {\r\n\r\n            },\r\n            iframeNode: undefined\r\n        };\r\n\r\n        this.iframe = React.createRef();\r\n        this.inputWrapperRef = React.createRef();\r\n        this.textEditorRef = React.createRef();\r\n        this.textTagRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        resolveLinks(this.textTagRef.current, this.context.preview, this.context.production, this.context);\r\n    }\r\n\r\n    setEditableStyle = (editableStyle) => {\r\n        this.setState({editableStyle});\r\n    }\r\n\r\n    onEditorStateChange = (editorState) => {\r\n        this.setState({\r\n            editorState,\r\n        });\r\n    };\r\n\r\n    resizeIFrameToFitContent( document ) {\r\n        let textarea = document.getElementById(\"textEditor\");\r\n        let rect = textarea.getBoundingClientRect();\r\n        this.setState({\r\n            iframeWidth: rect.width,\r\n            iframeHeight: rect.height,\r\n        })\r\n\r\n        this.inputWrapperRef.current && this.inputWrapperRef.current.init(document);\r\n\r\n        this.setState({iframeNode: this.iframe.current.frame})\r\n\r\n        this.updateStyleSheets();\r\n    }\r\n\r\n    updateStyleSheets = () => {\r\n        if (this.doc)\r\n            this.context.calculateColorCSS(this.doc);\r\n    }\r\n\r\n    setEditMode = (editMode) => {\r\n        if (!editMode)\r\n            this.setState({iframeNode: undefined});\r\n        this.setState({editMode});\r\n        this.props.onEditModeChange && this.props.onEditModeChange(editMode);\r\n    }\r\n\r\n    getTag = () => {\r\n        let {textDesignData} = this.props;\r\n        let textTheme = this.context.getTheme(\"Text\", textDesignData.textTheme) || {};\r\n        return textDesignData.tagName || textTheme.tagName || \"h6\";\r\n    }\r\n\r\n    updateInputWrapper = () => {\r\n        this.inputWrapperRef.current.updateHeight();\r\n    }\r\n\r\n    onIframeTextClicked = (e) => {\r\n        if (this.textEditorRef && this.textEditorRef.current)\r\n            this.textEditorRef.current.onIframeTextClicked(e);\r\n    }\r\n\r\n    render () {\r\n        let {textTheme, textStaticData, textDesignData} = this.props;\r\n\r\n        let TextTag = this.getTag();\r\n\r\n        let editDisplayNoneStyle = this.state.editMode? {}: {display: \"none\"};\r\n        let nonEditDisplayNoneStyle = !this.state.editMode? {}: {display: \"none\"};\r\n        return (\r\n            <>\r\n                <TextTag\r\n                    ref={this.textTagRef}\r\n                    className=\"TextRoot\"\r\n                    style={{\r\n                        ...getTextStyle(textTheme, textStaticData, textDesignData),\r\n                        ...nonEditDisplayNoneStyle\r\n                    }}\r\n                    dir={textStaticData.dir || \"ltr\"}\r\n                    dangerouslySetInnerHTML={{ __html: textStaticData.textValue }}\r\n                >\r\n                </TextTag>\r\n                {\r\n                    this.context.isEditor() &&\r\n                    <ClickAwayListener onClickAway={(e) => this.setEditMode(false)}>\r\n                        <>\r\n                            {\r\n                                this.state.iframeNode && this.state.editMode &&\r\n                                <TextEditor\r\n                                    ref={this.textEditorRef}\r\n                                    onChangeData={this.props.onChangeData}\r\n                                    inputWrapperRef={this.inputWrapperRef}\r\n                                    onChange={this.props.onChange}\r\n                                    textStaticData={textStaticData}\r\n                                    textTheme={textTheme}\r\n                                    textDesignData={textDesignData}\r\n                                    anchorEI={this.state.iframeNode}\r\n                                    iframeNode={this.state.iframeNode}\r\n                                    updateInputWrapper={this.updateInputWrapper}\r\n                                    doc={this.doc}\r\n                                />\r\n                            }\r\n                            <div id=\"TextEditorIFrame\">\r\n                                <Frame\r\n                                    id={\"Hello\"}\r\n                                    key={'textEditorFrame'}\r\n                                    ref={this.iframe}\r\n                                    title=\"TextEditorIFrame\"\r\n                                    style={{\r\n                                        width: this.state.iframeWidth || \"unset\",\r\n                                        height: this.state.iframeHeight || \"unset\",\r\n                                        border: 0,\r\n                                        display: \"block\",\r\n                                        ...editDisplayNoneStyle\r\n                                    }}\r\n                                    head={<>\r\n                                        <link id=\"wix_richtext_font_url_googleFonts\" type=\"text/css\" rel=\"stylesheet\"\r\n                                              href=\"https://weblancerstaticdata.s3.ir-thr-at1.arvanstorage.com/StaticFonts.css\"/>\r\n                                        <style type=\"text/css\">\r\n                                            {`\r\n                            body{\r\n                                width: fit-content;\r\n                                height: fit-content;\r\n                                box-sizing: border-box;\r\n                                margin: 0px;\r\n                                display: flex;\r\n                                overflow: hidden;\r\n                            }\r\n                            body>div{\r\n                                width: fit-content;\r\n                                height: fit-content;\r\n                                box-sizing: border-box;\r\n                                margin: 0px;\r\n                                display: flex;\r\n                                overflow: hidden;\r\n                            }\r\n                            \r\n\r\n                        `}\r\n                                        </style>\r\n                                    </>}\r\n                                    documentRef={(doc) => {\r\n                                        this.doc = doc;\r\n                                        this.doc.addEventListener(\"click\", (e) => {\r\n                                            this.onIframeTextClicked(e);\r\n                                        })\r\n                                    }}\r\n                                >\r\n                                    <InputWrapper\r\n                                        onLoad={() => {\r\n                                            this.resizeIFrameToFitContent(this.doc);\r\n                                        }}\r\n                                        onUpdate={() => {\r\n                                            this.resizeIFrameToFitContent(this.doc);\r\n                                        }}\r\n                                        onChange={this.props.onChange}\r\n                                        value={textStaticData.textValue}\r\n                                        width={this.props.width}\r\n                                        ref={this.inputWrapperRef}\r\n                                        tag={this.getTag()}\r\n                                        textTheme={textTheme}\r\n                                        textStaticData={textStaticData}\r\n                                        textDesignData={textDesignData}\r\n                                        iframeNode={this.state.iframeNode}\r\n                                        doc={this.doc}\r\n                                    >\r\n                                    </InputWrapper>\r\n                                </Frame>\r\n                            </div>\r\n                        </>\r\n                    </ClickAwayListener>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport '../../HelperStyle.css';\r\nimport './Text.css';\r\nimport {\r\n    getCompositeDesignData,\r\n    getFromTempData,\r\n    setDataInBreakpoint,\r\n    setTempData\r\n} from \"../../AwesomwGridLayoutHelper\";\r\nimport TextWrapper from \"./TextWrapper\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport MenuButton from \"../../Menus/MenuBase/MenuButton\";\r\nimport AnimationDesign from \"../Containers/Menus/AnimationDesign\";\r\n\r\nexport default class Text extends AGLComponent{\r\n    static contextType = EditorContext;\r\n\r\n    constructor (props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            editMode: false\r\n        }\r\n\r\n        this.textRef = React.createRef();\r\n    }\r\n\r\n    resolveDesignData = () => {\r\n    };\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            bpData: {\r\n                overflowData: {\r\n                    state: \"show\"\r\n                }\r\n            },\r\n        };\r\n    };\r\n\r\n    getPrimaryOptions = () => {\r\n        this.resolveDesignData();\r\n        return [\r\n            <MenuButton\r\n                key={4}\r\n                icon={<span className=\"MenuButtonLabelSpan\">Edit Text</span>}\r\n                select={this.props.select}\r\n                onClick={(e) => {\r\n                    this.onDoubleClickOverride(this.getAgl(), e);\r\n                }}\r\n            />,\r\n            <MenuButton\r\n                key={2}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/animation.svg'} /> }\r\n                select={this.props.select}\r\n                title=\"Animation Design\"\r\n                menu={(e) =>\r\n                    <AnimationDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={33}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/savewhite.svg'} /> }\r\n                select={this.props.select}\r\n                hide={this.context.user.role === \"user\"}\r\n                title=\"Copy data\"\r\n                onClick={(e) => {\r\n                    this.showComponentCode();\r\n                }}\r\n            />\r\n        ]\r\n    };\r\n\r\n    updateDesign = (compositeDesign) => {\r\n\r\n    };\r\n\r\n    onChange = (e, callback) => {\r\n        if (e) {\r\n            let textStaticData = getFromTempData(this, \"textStaticData\");\r\n            textStaticData.textValue = e.target.value;\r\n        }\r\n\r\n        this.props.select.onScrollItem();\r\n    }\r\n\r\n    onEditModeChange = (editMode) => {\r\n        this.setState({editMode});\r\n        this.props.select.onScrollItem();\r\n    }\r\n\r\n    onChangeData = (textStaticData, textDesignData) => {\r\n        setTempData(\"textStaticData\", textStaticData, this.getAgl(), true);\r\n        setDataInBreakpoint(\"design.textDesignData\", textDesignData, this.getAgl(), true, undefined, true);\r\n        this.props.select.onScrollItem();\r\n    }\r\n\r\n    getStaticChildren = () => {\r\n        this.resolveDesignData();\r\n\r\n        let textStaticData = getFromTempData(this, \"textStaticData\");\r\n        let textDesignData = getCompositeDesignData(this).textDesignData;\r\n        let textTheme = this.context.getTheme(\"Text\", textDesignData.textTheme);\r\n\r\n        let rect = {};\r\n        if (this.getAgl()){\r\n            rect = this.getAgl().getSize(false);\r\n        }\r\n\r\n        return (\r\n            <TextWrapper\r\n                ref={this.textRef}\r\n                width={rect.width}\r\n                height={rect.height}\r\n                onChange={this.onChange}\r\n                onChangeData={this.onChangeData}\r\n                onEditModeChange={this.onEditModeChange}\r\n                textStaticData={textStaticData}\r\n                textDesignData={textDesignData}\r\n                textTheme={textTheme}\r\n                onThemeChange={this.onThemeChange}\r\n            >\r\n            </TextWrapper>\r\n        )\r\n    };\r\n\r\n    onDoubleClickOverride = (agl, e) => {\r\n        if (!this.props.editor)\r\n            return;\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        this.textRef.current.setEditMode(true);\r\n    }\r\n\r\n    onDeSelectListener = (agl) => {\r\n        if (!this.props.editor)\r\n            return;\r\n\r\n        this.textRef.current.setEditMode(false);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <AGLWrapper\r\n                tagName=\"Text\"\r\n                aglComponent={this}\r\n                {...this.props}\r\n                data={this.getData()}\r\n                resizeSides={!this.state.editMode ? ['e', 'w'] : []}\r\n                style={{\r\n                    height: \"auto\",\r\n                    minHeight: \"auto\",\r\n                    // pointerEvents: \"none\"\r\n                }}\r\n                getPrimaryOptions={this.getPrimaryOptions}\r\n                getInspector={this.getInspector}\r\n                getStaticChildren={this.getStaticChildren}\r\n                noStretch\r\n                onDoubleClickOverride={this.onDoubleClickOverride}\r\n                onDeSelectListener={this.onDeSelectListener}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nText.defaultProps = {\r\n    tagName: \"Text\"\r\n};\r\n","import React from \"react\";\r\nimport '../Menu.css';\r\nimport ColorPicker from \"../CommonComponents/ColorPicker\";\r\n\r\nexport default class ColorAdjustment extends React.Component {\r\n    render () {\r\n        return (\r\n            <div className=\"MenuOptionSection\">\r\n                <p className=\"MenuOptionSectionTitle\">{this.props.title}</p>\r\n\r\n                <ColorPicker\r\n                    color={this.props.color}\r\n                    designKey={this.props.designKey}\r\n                    onDesignChange={this.props.onDesignChange}\r\n                    editor={this.props.editor}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport Background from \"../../Containers/Menus/Components/Background\";\r\nimport Border from \"../../Containers/Menus/Components/Border\";\r\nimport Corners from \"../../Containers/Menus/Components/Corners\";\r\nimport Shadow from \"../../Containers/Menus/Components/Shadow\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\nimport ColorAdjustment from \"../../../Menus/CommonMenus/ColorAdjustment\";\r\n\r\nexport default class ButtonDesign extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    getIndex = (stateName) => {\r\n        let index = [];\r\n        index.push(\r\n            {\r\n                key: \"Fill Color & Opacity\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/water.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Border\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/border.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Corner\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/corner.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Shadow\",\r\n                icon: <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" className=\"symbol symbol-shadowDesign\">\r\n                    <path fillRule=\"evenodd\"\r\n                          d=\"M11.5 14.5h-8v-2h8c.55 0 1-.45 1-1v-9h2v9c0 1.65-1.35 3-3 3zm-3-4h-7c-1.1 0-2-.9-2-2v-7c0-1.1.9-2 2-2h7c1.1 0 2 .9 2 2v7c0 1.1-.9 2-2 2z\"/>\r\n                </svg>\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Text Appearance\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/text.svg'} />\r\n            });\r\n\r\n        return index;\r\n    };\r\n\r\n    getOptions = (stateName) => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        let options = [];\r\n\r\n        options.push({\r\n            key: \"Fill Color & Opacity\",\r\n            render: <Background\r\n                color={design[stateName].fillColor}\r\n                designKey={`design.${stateName}.fillColor`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Border\",\r\n            render: <Border\r\n                border={design[stateName].border || {}}\r\n                designKey={`design.${stateName}.border`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Corner\",\r\n            render: <Corners\r\n                radius={design[stateName].border.radius || {}}\r\n                designKey={`design.${stateName}.border.radius`}\r\n                onDesignChange={this.props.onDesignChange}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Shadow\",\r\n            render: <Shadow\r\n                shadow={design[stateName].border.shadow || {}}\r\n                designKey={`design.${stateName}.border.shadow`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Text Appearance\",\r\n            render: <ColorAdjustment\r\n                title={\"Text Color\"}\r\n                color={design[stateName].textColor}\r\n                designKey={`design.${stateName}.textColor`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n\r\n        return options;\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle=\"Box Design\"\r\n                {...this.props}\r\n                item={this.props.item}\r\n                multiState\r\n                states={{\r\n                    normal:{\r\n                        name: \"normal\",\r\n                        render: \"Normal\",\r\n                        toggle: () => {this.props.onStateChange(\"normal\")},\r\n                        options: this.getOptions(\"normal\"),\r\n                        index: this.getIndex(\"normal\")\r\n                    },\r\n                    hover: {\r\n                        name: \"hover\",\r\n                        render: \"Hover\",\r\n                        toggle: () => {this.props.onStateChange(\"hover\")},\r\n                        options: this.getOptions(\"hover\"),\r\n                        index: this.getIndex(\"hover\")\r\n                    }\r\n                }}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FontSizeAutoComplete from \"../../Text/Menus/components/FontSizeAutoComplete\";\r\n\r\nexport default class FontSizeSelector2 extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {};\r\n    }\r\n    filterOptions = (options) => {\r\n        return [\"6\",\"8\",\"10\",\"12\",\"14\",\"16\",\"18\",\"20\",\"22\",\"24\",\"28\",\"32\",\"48\",\"72\"];\r\n    }\r\n\r\n    getAllowableFontSize = () => {\r\n        return (new Array(100)).fill(\"0\").map((v, i) => {\r\n            return `${i + 1}`;\r\n        });\r\n    }\r\n\r\n    setForceValue = (value) => {\r\n        this.onFontSizeChange(undefined, value, \"input\");\r\n    }\r\n\r\n    onFontSizeChange = (e, value, reason) => {\r\n        if (reason === \"input\") {\r\n            this.setState({tempFontSize: value});\r\n        } else if (reason === \"select-option\") {\r\n            this.setFontSize(value);\r\n        } else if (reason === \"enter\") {\r\n            if (this.getAllowableFontSize().includes(value))\r\n                this.setFontSize(value);\r\n            else\r\n                this.setState({tempFontSize: this.getFontSizeValue(value !== \"\" && true)});\r\n        }\r\n    }\r\n\r\n    setFontSize = (value) => {\r\n        this.setState({tempFontSize: value});\r\n        this.props.onChange(value);\r\n    }\r\n\r\n    setFontSizeUi = (value) => {\r\n        this.setState({tempFontSize: value});\r\n    }\r\n\r\n    getFontSizeValue = (ignoreState = false) => {\r\n        let {fontSize} = this.props;\r\n\r\n        if (!ignoreState && this.state.tempFontSize !== undefined)\r\n            return this.state.tempFontSize;\r\n\r\n        return (!ignoreState && this.state.tempFontSize) ||\r\n            fontSize || \"14\"\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <FontSizeAutoComplete\r\n                size={\"small\"}\r\n                options={this.getAllowableFontSize()}\r\n                value={this.getFontSizeValue()}\r\n                getOptionLabel={(option) => option}\r\n                filterOptions={this.filterOptions}\r\n                style={this.props.style || { width: 64 }}\r\n                popupIcon={\r\n                    <img width={10} height={10} src={process.env.PUBLIC_URL + \"/static/icon/down-arrow.svg\"}/>\r\n                }\r\n                renderInput={(params) => {\r\n                    params.InputProps.disableUnderline = true;\r\n                    params.inputProps.style = {padding: 0, fontSize: 14};\r\n                    return (\r\n                        <TextField {...params} onChange={(e) => {\r\n                            this.onFontSizeChange(e, e.target.value, 'input');\r\n                        }}/>\r\n                    )\r\n                }}\r\n                blurOnSelect\r\n                onChange={this.onFontSizeChange}\r\n                onKeyDown={(e) => {\r\n                    if((e.keyCode || e.which) === 13){\r\n                        this.onFontSizeChange(e, e.target.value, 'enter');\r\n                    }\r\n                }}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../Menus/Menu.css';\r\nimport Divider from \"../../../Menus/CommonComponents/Divider\";\r\nimport StaticFonts from \"../../Text/Fonts/StaticFonts.json\";\r\nimport {getFontDataByFamily, getFontDataByName} from \"../../Text/TextHelper\";\r\nimport DropDown from \"../../../Menus/CommonComponents/DropDown\";\r\nimport FontSizeSelector2 from \"./FontSizeSelector2\";\r\nimport TextEditorButton from \"../../Text/Menus/TextEditorButton\";\r\nimport {inputCopyPasteHandler} from \"../../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class ButtonTextAppearance extends React.Component {\r\n    changeText = () => {\r\n        this.props.onDesignChange(this.props.designKey + '.text', this.tempText);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Text in button</p>\r\n\r\n                    <input\r\n                        defaultValue={this.props.data.text}\r\n                        className=\"NumberInput PageManagerRenameInput PageInfoNameInput\"\r\n                        type=\"text\"\r\n                        onChange={(e) => {this.tempText = e.target.value;}}\r\n                        onBlur={this.changeText}\r\n                        onKeyDown={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.changeText()\r\n                            }\r\n                            inputCopyPasteHandler(e);\r\n                        }}\r\n                    >\r\n                    </input>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Font</p>\r\n\r\n                    <DropDown\r\n                        rootStyle={{\r\n                            paddingLeft: 4,\r\n                            border: \"1px solid rgb(198, 198, 198)\",\r\n                            height: 36,\r\n                            borderRadius: 4\r\n                        }}\r\n                        menuItemStyle={{\r\n                            padding: 0\r\n                        }}\r\n                        options={Object.values(StaticFonts)}\r\n                        onChange={(fontData) => {\r\n                                this.props.onDesignChange(this.props.designKey + '.fontFamily', fontData.fontFamily);\r\n                        }}\r\n                        value={this.props.data.fontFamily? getFontDataByFamily(StaticFonts, this.props.data.fontFamily):\r\n                            getFontDataByName(StaticFonts, 'Yekan')}\r\n                        spanStyle={{\r\n                            width: 230,\r\n                            fontSize: 14,\r\n                            border: \"0px solid #cfcfcf\",\r\n                        }}\r\n                        renderer={(fontData) => {\r\n                            let isRtlStyle = fontData.isRtl ? {justifyContent: \"flex-end\"}: {}\r\n                            return (\r\n                                <div className=\"TextEditorThemeRendererRoot\" style={isRtlStyle} >\r\n                                            <span style={{\r\n                                                fontFamily: fontData.fontFamily\r\n                                            }}>\r\n                                                {fontData.display}\r\n                                            </span>\r\n                                </div>\r\n                            )\r\n                        }}\r\n                        valueRenderer={(fontData) => {\r\n                            return (\r\n                                <span style={{\r\n                                    fontFamily: fontData.fontFamily\r\n                                }}>\r\n                                            {fontData.display}\r\n                                        </span>\r\n                            )\r\n                        }}\r\n                    />\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Font size</p>\r\n                    <FontSizeSelector2\r\n                        ref={this.fontSizeSelectorRef}\r\n                        style={{\r\n                            paddingLeft: 4,\r\n                            border: \"1px solid rgb(198, 198, 198)\",\r\n                            height: 36,\r\n                            borderRadius: 4\r\n                        }}\r\n                        fontSize={this.props.data.fontSize || \"14\"}\r\n                        onChange={(value) => {\r\n                            this.props.onDesignChange(this.props.designKey + '.fontSize', value);\r\n                        }}\r\n                    />\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <TextEditorButton\r\n                        onClick={(e) => {\r\n                            this.props.onDesignChange(this.props.designKey + '.bold', !this.props.data.bold);\r\n                        }}\r\n                        selected={!!this.props.data.bold}\r\n                    >\r\n                        <img draggable={false} width={16} height={16}\r\n                             src={process.env.PUBLIC_URL + '/static/icon/texteditor/bold.svg'} />\r\n                    </TextEditorButton>\r\n                    <TextEditorButton\r\n                        onClick={(e) => {\r\n                            this.props.onDesignChange(this.props.designKey + '.italic', !this.props.data.italic);\r\n                        }}\r\n                        selected={!!this.props.data.italic}\r\n                    >\r\n                        <img draggable={false} width={16} height={16}\r\n                             src={process.env.PUBLIC_URL + '/static/icon/texteditor/italic.svg'} />\r\n                    </TextEditorButton>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../Menus/Menu.css';\r\nimport IconButton from \"../../../HelperComponents/IconButton\";\r\nimport './ButtonTextLayout.css';\r\nimport Divider from \"../../../Menus/CommonComponents/Divider\";\r\nimport SliderInput from \"../../../Menus/CommonComponents/SliderInput\";\r\n\r\nexport default class ButtonTextLayout extends React.Component {\r\n    render () {\r\n        return (\r\n            <>\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Text alignment</p>\r\n\r\n                    <div className=\"ButtonTextLayoutAlignRoot\">\r\n                        <IconButton\r\n                            buttonBaseStyle={{\r\n                                marginRight: 4,\r\n                                marginLeft: 4,\r\n                            }}\r\n                            imageContainerStyle={{\r\n                                padding: 6\r\n                            }}\r\n                            onClick={(e) => {\r\n                                this.props.onDesignChange(this.props.designKey + '.textAlign', \"flex-start\");\r\n                            }}\r\n                            className=\"InspectorAlignsButtons\"\r\n                            selected={this.props.data.textAlign === \"flex-start\"}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={16}\r\n                                height={16}\r\n                                src={require('../../../icons/align-left.svg')}\r\n                            />\r\n                        </IconButton>\r\n                        <IconButton\r\n                            buttonBaseStyle={{\r\n                                marginRight: 4,\r\n                                marginLeft: 4,\r\n                            }}\r\n                            imageContainerStyle={{\r\n                                padding: 6\r\n                            }}\r\n                            onClick={(e) => {\r\n                                this.props.onDesignChange(this.props.designKey + '.textAlign', \"center\");\r\n                            }}\r\n                            className=\"InspectorAlignsButtons\"\r\n                            selected={this.props.data.textAlign === \"center\" || !this.props.data.textAlign}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={16}\r\n                                height={16}\r\n                                src={require('../../../icons/align-center.svg')}\r\n                            />\r\n                        </IconButton>\r\n                        <IconButton\r\n                            buttonBaseStyle={{\r\n                                marginRight: 4,\r\n                                marginLeft: 4,\r\n                            }}\r\n                            imageContainerStyle={{\r\n                                padding: 6\r\n                            }}\r\n                            onClick={(e) => {\r\n                                this.props.onDesignChange(this.props.designKey + '.textAlign', \"flex-end\");\r\n                            }}\r\n                            className=\"InspectorAlignsButtons\"\r\n                            selected={this.props.data.textAlign === \"flex-end\"}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={16}\r\n                                height={16}\r\n                                src={require('../../../icons/align-right.svg')}\r\n                            />\r\n                        </IconButton>\r\n                    </div>\r\n                </div>\r\n\r\n                {\r\n                    (this.props.data.textAlign !== \"center\" || !this.props.data.textAlign) &&\r\n\r\n                    <>\r\n                        <Divider/>\r\n\r\n                        <div className=\"MenuOptionSection\">\r\n                            <p className=\"MenuOptionSectionTitle\">Margin (px)</p>\r\n\r\n                            <div\r\n                                className=\"BorderWidth\"\r\n                            >\r\n                                <SliderInput\r\n                                className=\"BorderWidthSlider\"\r\n                                min={0}\r\n                                max={100}\r\n                                value={this.props.data.margin}\r\n                                designKey={`${this.props.designKey}.margin`}\r\n                                onDesignChange={this.props.onDesignChange}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </>\r\n                }\r\n\r\n\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport Background from \"../../Containers/Menus/Components/Background\";\r\nimport Border from \"../../Containers/Menus/Components/Border\";\r\nimport Corners from \"../../Containers/Menus/Components/Corners\";\r\nimport Shadow from \"../../Containers/Menus/Components/Shadow\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\nimport ColorAdjustment from \"../../../Menus/CommonMenus/ColorAdjustment\";\r\nimport ButtonTextAppearance from \"./ButtonTextAppearance\";\r\nimport ButtonTextLayout from \"./ButtonTextLayout\";\r\n\r\nexport default class TextDesign extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    getIndex = (stateName) => {\r\n        let index = [];\r\n        index.push(\r\n            {\r\n                key: \"Text Appearance\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/text.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Text Layout\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/text.svg'} />\r\n            });\r\n\r\n        return index;\r\n    };\r\n\r\n    getOptions = (stateName) => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        let options = [];\r\n\r\n        options.push({\r\n            key: \"Text Appearance\",\r\n            render: <ButtonTextAppearance\r\n                data={design.spanData}\r\n                designKey={`design.spanData`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n\r\n        options.push({\r\n            key: \"Text Layout\",\r\n            render: <ButtonTextLayout\r\n                data={design.spanData}\r\n                designKey={`design.spanData`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n\r\n        return options;\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle=\"Text Design\"\r\n                {...this.props}\r\n                item={this.props.item}\r\n                defaultIndexNo={0}\r\n                index={this.getIndex()}\r\n                options={this.getOptions()}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {EditorContext} from \"../../../../Editor/EditorContext\";\r\nimport './LinkedTag.css';\r\nimport {prepareLink} from \"./LinkHelper\";\r\n\r\nexport default class LinkedTag extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {};\r\n\r\n        this.lastRef = undefined;\r\n    }\r\n\r\n    onRefChange = (ref) => {\r\n        this.linkRef = ref;\r\n        if (this.lastRef !== this.linkRef) {\r\n            this.lastRef = this.linkRef;\r\n            window.requestAnimationFrame(this.prepareLink);\r\n        }\r\n    }\r\n\r\n    prepareLink = () => {\r\n        if (!this.context.preview && !this.context.production)\r\n            return;\r\n\r\n        let {linkData} = this.props;\r\n\r\n        if (this.linkRef && linkData && linkData.type !== \"None\") {\r\n            prepareLink(this.linkRef, this.context.preview, this.context.production, this.context, linkData);\r\n        }\r\n    }\r\n\r\n    render () {\r\n        let {children, className} = this.props;\r\n        let aClassName = \"LinkedTagRoot\";\r\n        if (className)\r\n            aClassName += ` ${className}`;\r\n\r\n        let aTagProps = Object.assign({}, this.props);\r\n        delete aTagProps.linkData;\r\n\r\n        return (\r\n            <a\r\n                className={aClassName}\r\n                ref={(ref) => {this.onRefChange(ref)}}\r\n                {...aTagProps}\r\n            >\r\n                {children}\r\n            </a>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport '../../HelperStyle.css';\r\nimport './Button.css';\r\nimport {\r\n    getCompositeDesignData,\r\n    getFromTempData,\r\n    parseColor,\r\n    resolveDesignData,\r\n    setTempData\r\n} from \"../../AwesomwGridLayoutHelper\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport MenuButton from \"../../Menus/MenuBase/MenuButton\";\r\nimport AnimationDesign from \"../Containers/Menus/AnimationDesign\";\r\nimport ButtonDesign from \"./Menus/ButtonDesign\";\r\nimport TextDesign from \"./Menus/TextDesign\";\r\nimport {getFontDataByName} from \"../Text/TextHelper\";\r\nimport StaticFonts from \"../Text/Fonts/StaticFonts.json\";\r\nimport LinkedTag from \"../Text/Menus/components/LinkedTag\";\r\n\r\nexport default class Button extends AGLComponent{\r\n    static contextType = EditorContext;\r\n    constructor (props) {\r\n        super(props);\r\n\r\n        this.state = {hover: false};\r\n\r\n        this.rootBorderRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    resolveDesignData = () => {\r\n        resolveDesignData(this, \"spanData\", {\r\n            text: \"Start Now\",\r\n            fontFamily: getFontDataByName(StaticFonts, \"Yekan\").fontFamily,\r\n            fontSize: \"14\",\r\n            margin: 0\r\n        });\r\n        resolveDesignData(this, \"normal\", {border: {shadow: {\r\n                    xOffset: -1,\r\n                    yOffset: 1,\r\n                    distance: 1,\r\n                    size: 0,\r\n                    blur: 4\r\n                }, radius: {}}, textColor: \"#000000\"});\r\n        resolveDesignData(this, \"hover\", {border: {shadow: {\r\n                    xOffset: -1,\r\n                    yOffset: 1,\r\n                    distance: 1,\r\n                    size: 5,\r\n                    blur: 4\r\n                }, radius: {}}, textColor: \"#000000\"});\r\n    };\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            bpData: {\r\n                overflowData: {\r\n                    state: \"show\"\r\n                }\r\n            }\r\n        };\r\n    };\r\n\r\n    getPrimaryOptions = () => {\r\n        this.resolveDesignData();\r\n\r\n        let linkData = getFromTempData(this, \"linkData\");\r\n\r\n        return [\r\n            <MenuButton\r\n                key={0}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/textwhite.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Text Design\"\r\n                menu={(e) =>\r\n                    <TextDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                        onStateChange={this.onStateChange}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={1}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/paint.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Box Design\"\r\n                menu={(e) =>\r\n                    <ButtonDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                        onStateChange={this.onStateChange}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={2}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/animation.svg'} /> }\r\n                select={this.props.select}\r\n                title=\"Animation Design\"\r\n                menu={(e) =>\r\n                    <AnimationDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={3}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/linkwhite.svg'} /> }\r\n                select={this.props.select}\r\n                title=\"Link\"\r\n                onClick={(e) => {\r\n                    this.context.showLinkGenerator(\r\n                        linkData,\r\n                        (linkData) => {\r\n                            setTempData(\"linkData\", linkData, this.getAgl(), true);\r\n                        }\r\n                    );\r\n                }}\r\n            />,\r\n            <MenuButton\r\n                key={33}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/savewhite.svg'} /> }\r\n                select={this.props.select}\r\n                hide={this.context.user.role === \"user\"}\r\n                title=\"Copy Data\"\r\n                onClick={(e) => {\r\n                    this.showComponentCode();\r\n                }}\r\n            />\r\n        ]\r\n    };\r\n\r\n    updateDesign = (compositeDesign) => {\r\n    };\r\n\r\n    getStaticChildren = () => {\r\n        this.resolveDesignData();\r\n\r\n        let spanData = getCompositeDesignData(this).spanData;\r\n\r\n        let data;\r\n        if (this.state.hover)\r\n            data = getCompositeDesignData(this).hover;\r\n        else\r\n            data = getCompositeDesignData(this).normal;\r\n\r\n        let textColor = data.textColor;\r\n        if (textColor)\r\n            textColor = parseColor(textColor, textColor.alpha, this.context);\r\n\r\n        let border = data.border;\r\n        let fillColor = data.fillColor;\r\n        if (fillColor)\r\n            fillColor = parseColor(fillColor, fillColor.alpha, this.context);\r\n\r\n        border.radius = border.radius || {};\r\n        border.shadow = border.shadow || {};\r\n\r\n        let shadowColor = border.shadow.color;\r\n        if (shadowColor)\r\n            shadowColor = parseColor(shadowColor, shadowColor.alpha, this.context);\r\n        let borderColor = border.color;\r\n        if (borderColor)\r\n            borderColor = parseColor(borderColor, borderColor.alpha, this.context);\r\n\r\n        let spanMarginStyle = {};\r\n        if (spanData.textAlign === \"flex-start\")\r\n            spanMarginStyle.marginLeft = `${spanData.margin}px`;\r\n        if (spanData.textAlign === \"flex-end\")\r\n            spanMarginStyle.marginRight = `${spanData.margin}px`;\r\n\r\n        let linkData = getFromTempData(this, \"linkData\");\r\n\r\n        return <LinkedTag\r\n            onMouseOver={this.onMouseOver}\r\n            onMouseOut={this.onMouseOut}\r\n            className=\"ButtonBorderRoot\"\r\n            linkData={linkData}\r\n            style={{\r\n                border:\r\n                    `${border.width || 0}px solid ${borderColor || 'rgba(0,0,0,0)'}`,\r\n                backgroundColor: fillColor,\r\n                borderRadius:\r\n                    `${border.radius.topLeft || 0}px ${border.radius.topRight || 0}px ${border.radius.bottomRight || 0}px ${border.radius.bottomLeft || 0}px`,\r\n                boxShadow: `${(border.shadow.xOffset) * (border.shadow.distance)}px ${(border.shadow.yOffset) * (border.shadow.distance)}px ${border.shadow.blur}px ${border.shadow.size}px ${shadowColor || 'rgba(0,0,0,0)'}`,\r\n                justifyContent: spanData.textAlign || \"center\"\r\n            }}\r\n        >\r\n            <span\r\n                className=\"ButtonText\"\r\n                style={{\r\n                    color: textColor || \"#000000\",\r\n                    fontFamily: spanData.fontFamily || getFontDataByName(StaticFonts, \"Yekan\").fontFamily,\r\n                    fontSize: `${spanData.fontSize}px`,\r\n                    fontWeight: `${spanData.bold ? \"bold\": \"normal\"}`,\r\n                    fontStyle: `${spanData.italic ? \"italic\": \"normal\"}`,\r\n                    ...spanMarginStyle\r\n                }}\r\n            >\r\n                {spanData.text}\r\n            </span>\r\n        </LinkedTag>\r\n    };\r\n\r\n    onStateChange = (stateName) => {\r\n        if (stateName === \"hover\")\r\n            this.setState({hover:true});\r\n        else\r\n            this.setState({hover:false});\r\n    };\r\n\r\n    onMouseOver = () => {\r\n        if (this.context.isEditor())\r\n            return;\r\n\r\n        this.setState({hover: true});\r\n    };\r\n\r\n    onMouseOut = () => {\r\n        if (this.context.isEditor())\r\n            return;\r\n\r\n        this.setState({hover: false});\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <AGLWrapper\r\n                tagName=\"Button\"\r\n                aglComponent={this}\r\n                {...this.props}\r\n                style={{\r\n                    width: \"100px\",\r\n                    height: \"50px\",\r\n                }}\r\n                data={this.getData()}\r\n                getPrimaryOptions={this.getPrimaryOptions}\r\n                getInspector={this.getInspector}\r\n                getStaticChildren={this.getStaticChildren}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nButton.defaultProps = {\r\n    tagName: \"Button\"\r\n};\r\n","import React from 'react'\r\nimport Cropper from 'react-easy-crop'\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport Slider from '@material-ui/core/Slider'\r\nimport './Cropper.css';\r\nimport Button from \"@material-ui/core/Button/Button\";\r\n\r\nexport default class CropperModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            imageSrc: props.imageSrc,\r\n            crop: props.crop,\r\n            zoom: props.zoom,\r\n            aspect: props.aspect,\r\n        }\r\n    }\r\n\r\n    onCropChange = (crop) => {\r\n        this.setState({ crop })\r\n    }\r\n\r\n    onCropComplete = (croppedArea, croppedAreaPixels) => {\r\n        this.setState({croppedArea, croppedAreaPixels})\r\n    }\r\n\r\n    onZoomChange = (zoom) => {\r\n        this.setState({ zoom })\r\n    }\r\n\r\n    render() {\r\n        return (<Modal\r\n            open={this.props.open}\r\n            onClose={this.props.onClose}\r\n            aria-labelledby=\"simple-modal-title2\"\r\n            aria-describedby=\"simple-modal-description2\"\r\n            className=\"FileManagerModal\"\r\n            disableBackdropClick\r\n        >\r\n            <div className=\"CropperRoot\">\r\n                {/*Header*/}\r\n                <div className=\"FileManagerHeader\">\r\n                    <div\r\n                        className=\"PageManagerHeaderContainer\"\r\n                    >\r\n                            <span className=\"PageManagerHeaderTitle\">\r\n                                Image Cropper\r\n                            </span>\r\n\r\n                        <IconButton\r\n                            onClick={this.props.onClose}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={12}\r\n                                height={12}\r\n                                src={require('../../icons/close.svg')}\r\n                            />\r\n                        </IconButton>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"CropperContainer\">\r\n                    <div className=\"CropperMargin\">\r\n                        <Cropper\r\n                            image={this.state.imageSrc}\r\n                            crop={this.state.crop}\r\n                            zoom={this.state.zoom}\r\n                            aspect={this.state.aspect}\r\n                            onCropChange={this.onCropChange}\r\n                            onCropComplete={this.onCropComplete}\r\n                            onZoomChange={this.onZoomChange}\r\n                        />\r\n                    </div>\r\n                    <div className=\"CropperFooter\">\r\n                        <span className=\"CropperZoomSpan\">\r\n                            Zoom Level\r\n                        </span>\r\n                        <div className=\"CropperZoom\">\r\n                            <Slider\r\n                                value={this.state.zoom}\r\n                                min={1}\r\n                                max={3}\r\n                                step={0.05}\r\n                                onChange={(e, zoom) => this.onZoomChange(zoom)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"CropperFooterSpacer\">\r\n                        </div>\r\n                        <IconButton\r\n                            buttonBaseStyle={{\r\n                                marginLeft: 0\r\n                            }}\r\n                            imageContainerStyle={{\r\n                            }}\r\n                            onClick={(e) => {\r\n                                this.setState({\r\n                                    zoom: 1,\r\n                                    crop: {x:0, y: 0},\r\n                                    croppedAreaPixels: undefined,\r\n                                    croppedArea: undefined\r\n                                })\r\n                            }}\r\n                            className=\"CropperReset\"\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={20}\r\n                                height={20}\r\n                                src={require('../../icons/refresh.svg')}\r\n                            />\r\n                        </IconButton>\r\n                        <div className=\"CropperFooterSpacer\">\r\n                        </div>\r\n\r\n                        <Button\r\n                            className=\"CropperCancel\"\r\n                            // variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={() => {\r\n                                this.props.onClose();\r\n                            }}\r\n                        >\r\n                            Cancel\r\n                        </Button>\r\n\r\n                        <Button\r\n                            className=\"CropperDone\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={() => {\r\n                                this.props.onClose();\r\n                                this.props.onDone({\r\n                                    zoom: this.state.zoom,\r\n                                    crop:this.state.crop,\r\n                                    croppedArea: this.state.croppedArea,\r\n                                    croppedAreaPixels:this.state.croppedAreaPixels,\r\n                                })\r\n                            }}\r\n                        >\r\n                            Done\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n        )\r\n    }\r\n}\r\n","import React from 'react'\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport './FocalPoint.css';\r\nimport Button from \"@material-ui/core/Button/Button\";\r\n\r\nexport default class FocalPointModal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        }\r\n\r\n        this.clickerRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n    onChangePoint = (e) => {\r\n        let rect = this.clickerRef.current.getBoundingClientRect();\r\n        let x = (e.clientX-rect.left) / rect.width * 100;\r\n        let y = (e.clientY-rect.top) / rect.height * 100;\r\n\r\n        this.setState({focalPoint: {x, y}})\r\n    }\r\n\r\n    isLeftClick = (e) => {\r\n        e.persist();\r\n        if (e.pointerType === \"mouse\" && e.button === 0)\r\n            return true;\r\n\r\n        return false;\r\n    };\r\n\r\n    render() {\r\n        let focalPoint = this.state.focalPoint || this.props.focalPoint;\r\n        return (<Modal\r\n            open={this.props.open}\r\n            onClose={this.props.onClose}\r\n            aria-labelledby=\"simple-modal-title2\"\r\n            aria-describedby=\"simple-modal-description2\"\r\n            className=\"FileManagerModal\"\r\n            disableBackdropClick\r\n        >\r\n            <div className=\"FocalPointRoot\">\r\n                {/*Header*/}\r\n                <div className=\"FileManagerHeader\">\r\n                    <div\r\n                        className=\"PageManagerHeaderContainer\"\r\n                    >\r\n                            <span className=\"PageManagerHeaderTitle\">\r\n                                Image Focal Point\r\n                            </span>\r\n\r\n                        <IconButton\r\n                            onClick={this.props.onClose}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={12}\r\n                                height={12}\r\n                                src={require('../../icons/close.svg')}\r\n                            />\r\n                        </IconButton>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"FocalPointContainer\">\r\n                    <div className=\"FocalPointMargin\">\r\n                        <div\r\n                            className=\"FocalPointClicker\"\r\n                            onClick={this.onChangePoint}\r\n                            // onMouseMove={(e) => {\r\n                                // if (this.isLeftClick(e))\r\n                                //     this.onChangePoint(e);\r\n                            //}}\r\n                            ref={this.clickerRef}\r\n                        >\r\n                            <img\r\n                                className=\"FocalPointImage\"\r\n                                src={this.props.src}\r\n                                draggable={false}\r\n                            />\r\n                            <div\r\n                                className=\"FocalPointPoint\"\r\n                                style={{\r\n                                    top: `${focalPoint.y}%`,\r\n                                    left: `${focalPoint.x}%`\r\n                                }}\r\n                            >\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"FocalPointFooter\">\r\n                        <Button\r\n                            className=\"FocalPointDone\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={() => {\r\n                                this.props.onClose();\r\n                                this.props.onDone(focalPoint)\r\n                            }}\r\n                        >\r\n                            Done\r\n                        </Button>\r\n\r\n                        <Button\r\n                            className=\"FocalPointCancel\"\r\n                            // variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={() => {\r\n                                this.props.onClose();\r\n                            }}\r\n                        >\r\n                            Cancel\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport Background from \"../../Containers/Menus/Components/Background\";\r\nimport Border from \"../../Containers/Menus/Components/Border\";\r\nimport Corners from \"../../Containers/Menus/Components/Corners\";\r\nimport Shadow from \"../../Containers/Menus/Components/Shadow\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\nimport ColorAdjustment from \"../../../Menus/CommonMenus/ColorAdjustment\";\r\n\r\nexport default class ImageDesign extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    getIndex = (stateName) => {\r\n        let index = [];\r\n        index.push(\r\n            {\r\n                key: \"Overlay Color & Opacity\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/layer.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Background Color & Opacity\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/water.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Border\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/border.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Corner\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/corner.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Shadow\",\r\n                icon: <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" className=\"symbol symbol-shadowDesign\">\r\n                    <path fillRule=\"evenodd\"\r\n                          d=\"M11.5 14.5h-8v-2h8c.55 0 1-.45 1-1v-9h2v9c0 1.65-1.35 3-3 3zm-3-4h-7c-1.1 0-2-.9-2-2v-7c0-1.1.9-2 2-2h7c1.1 0 2 .9 2 2v7c0 1.1-.9 2-2 2z\"/>\r\n                </svg>\r\n            });\r\n\r\n        return index;\r\n    };\r\n\r\n    getOptions = (stateName) => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        let options = [];\r\n\r\n        options.push({\r\n            key: \"Overlay Color & Opacity\",\r\n            render: <Background\r\n                color={design[stateName].overlayColor}\r\n                designKey={`design.${stateName}.overlayColor`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n\r\n        options.push({\r\n            key: \"Background Color & Opacity\",\r\n            render: <Background\r\n                color={design[stateName].fillColor}\r\n                designKey={`design.${stateName}.fillColor`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Border\",\r\n            render: <Border\r\n                border={design[stateName].border || {}}\r\n                designKey={`design.${stateName}.border`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Corner\",\r\n            render: <Corners\r\n                radius={design[stateName].border.radius || {}}\r\n                designKey={`design.${stateName}.border.radius`}\r\n                onDesignChange={this.props.onDesignChange}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Shadow\",\r\n            render: <Shadow\r\n                shadow={design[stateName].border.shadow || {}}\r\n                designKey={`design.${stateName}.border.shadow`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n\r\n        return options;\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle=\"Image Design\"\r\n                {...this.props}\r\n                item={this.props.item}\r\n                multiState\r\n                states={{\r\n                    normal:{\r\n                        name: \"normal\",\r\n                        render: \"Normal\",\r\n                        toggle: () => {this.props.onStateChange(\"normal\")},\r\n                        options: this.getOptions(\"normal\"),\r\n                        index: this.getIndex(\"normal\")\r\n                    },\r\n                    hover: {\r\n                        name: \"hover\",\r\n                        render: \"Hover\",\r\n                        toggle: () => {this.props.onStateChange(\"hover\")},\r\n                        options: this.getOptions(\"hover\"),\r\n                        index: this.getIndex(\"hover\")\r\n                    }\r\n                }}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../Menus/Menu.css';\r\nimport Divider from \"../../../Menus/CommonComponents/Divider\";\r\nimport DropDown from \"../../../Menus/CommonComponents/DropDown\";\r\nimport {inputCopyPasteHandler} from \"../../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class ImageBehavior extends React.Component {\r\n    changeAltText = () => {\r\n        this.props.onDesignChange(this.props.designKey + '.altText', this.tempAltText);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">What's in the image? (SEO)</p>\r\n\r\n                    <input\r\n                        defaultValue={this.props.data.altText || \"\"}\r\n                        className=\"NumberInput PageManagerRenameInput PageInfoNameInput\"\r\n                        type=\"text\"\r\n                        onChange={(e) => {this.tempAltText = e.target.value;}}\r\n                        onBlur={this.changeAltText}\r\n                        onKeyDown={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.changeAltText()\r\n                            }\r\n                            inputCopyPasteHandler(e);\r\n                        }}\r\n                    >\r\n                    </input>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Scroll Behavior</p>\r\n\r\n                    <DropDown\r\n                        rootStyle={{\r\n                            paddingLeft: 4,\r\n                            border: \"1px solid rgb(198, 198, 198)\",\r\n                            height: 36,\r\n                            borderRadius: 4\r\n                        }}\r\n                        menuItemStyle={{\r\n                            padding: 0\r\n                        }}\r\n                        options={[\"None\", \"Parallax\", \"Reveal\"]}\r\n                        onChange={(value) => {\r\n                                this.props.onDesignChange(this.props.designKey + '.scrollType', value);\r\n                        }}\r\n                        value={this.props.data.scrollType || \"None\"}\r\n                        spanStyle={{\r\n                            width: 230,\r\n                            fontSize: 14,\r\n                            border: \"0px solid #cfcfcf\",\r\n                        }}\r\n                        renderer={(value) => {\r\n                            return (\r\n                                <div className=\"TextEditorThemeRendererRoot\">\r\n                                    <span style={{\r\n                                    }}>\r\n                                        {value}\r\n                                    </span>\r\n                                </div>\r\n                            )\r\n                        }}\r\n                        valueRenderer={(value) => {\r\n                            return (\r\n                                <span>\r\n                                    {value}\r\n                                </span>\r\n                            )\r\n                        }}\r\n                    />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\nimport ImageBehavior from \"./ImageBehavior\";\r\n\r\nexport default class ImageBehaviorDesign extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    getIndex = (stateName) => {\r\n        let index = [];\r\n        index.push(\r\n            {\r\n                key: \"Image Appearance\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/text.svg'} />\r\n            });\r\n\r\n        return index;\r\n    };\r\n\r\n    getOptions = (stateName) => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        let options = [];\r\n\r\n        options.push({\r\n            key: \"Image Appearance\",\r\n            render: <ImageBehavior\r\n                data={design.imageBehavior || {}}\r\n                designKey={`design.imageBehavior`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n\r\n        return options;\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle=\"Image Behavior Design\"\r\n                {...this.props}\r\n                item={this.props.item}\r\n                defaultIndexNo={0}\r\n                index={this.getIndex()}\r\n                options={this.getOptions()}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport Switch from \"@material-ui/core/Switch/Switch\";\r\nimport InspectorSize from \"../../../Test/Inspector/InspectorSize\";\r\n\r\nexport default class ScaleProportionallyInspectorSize extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.inspectorRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    getInspectorProps = () => {\r\n        let {getScaleProportionally} = this.props;\r\n        if (getScaleProportionally().enable) {\r\n            return {\r\n                widthUnits:[\"auto\", \"%\", \"px\", \"vh\", \"vw\"],\r\n                heightUnits:[\"auto\", \"%\", \"px\", \"vh\", \"vw\"],\r\n                minWidthUnits:[\"%\", \"px\", \"vh\", \"vw\", \"none\"],\r\n                minHeightUnits:[\"%\", \"px\", \"vh\", \"vw\", \"none\"],\r\n                maxWidthUnits:[\"%\", \"px\", \"vh\", \"vw\", \"none\"],\r\n                maxHeightUnits:[\"%\", \"px\", \"vh\", \"vw\", \"none\"],\r\n                disabledProps:[\r\n                    'height', 'minHeight', 'maxHeight'\r\n                ]\r\n            }\r\n        } else {\r\n            return {\r\n                widthUnits:[\"auto\", \"%\", \"px\", \"vh\", \"vw\"],\r\n                heightUnits:[\"auto\", \"%\", \"px\", \"vh\", \"vw\"],\r\n                minWidthUnits:[\"%\", \"px\", \"vh\", \"vw\", \"none\"],\r\n                minHeightUnits:[\"%\", \"px\", \"vh\", \"vw\", \"none\"],\r\n                maxWidthUnits:[\"%\", \"px\", \"vh\", \"vw\", \"none\"],\r\n                maxHeightUnits:[\"%\", \"px\", \"vh\", \"vw\", \"none\"]\r\n            }\r\n        }\r\n    }\r\n\r\n    changeScaleProportionally = (e) => {\r\n        let {setScaleProportionally, item} = this.props;\r\n        setScaleProportionally(undefined, e.target.checked);\r\n\r\n        if (e.target.checked) {\r\n            let parentRect = item.props.parent.getSize(false);\r\n            item.setStyleParam(\"height\", \"auto\");\r\n            item.setStyleParam(\"minHeight\", \"unset\");\r\n            this.inspectorRef.current.onUnitChange(\"width\", \"%\", parentRect.scrollWidthMinusPadding);\r\n        } else {\r\n            let rect = item.getSize(false);\r\n            item.setStyleParam(\"height\", `${rect.height}px`);\r\n            item.props.select.onScrollItem();\r\n        }\r\n\r\n        this.forceUpdate();\r\n    }\r\n\r\n    render() {\r\n        let {getScaleProportionally} = this.props;\r\n        console.log(\"ScaleProportionallyInspectorSize\")\r\n        return (\r\n            <>\r\n                <InspectorSize\r\n                    ref={this.inspectorRef}\r\n                    {...this.props}\r\n                    {...this.getInspectorProps()}\r\n                />\r\n\r\n                <div className=\"MenuOptionAnimationOnceRoot\">\r\n                    <span className=\"InspectorOverflowDirTitle\"\r\n                          style={{width: \"100%\"}}\r\n                    >Scale proportionally</span>\r\n\r\n                    <Switch\r\n                        className=\"InspectorOverflowDirSwitch\"\r\n                        checked={getScaleProportionally().enable || false}\r\n                        onChange={this.changeScaleProportionally}\r\n                    />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","let DomainManager = {};\r\n\r\nDomainManager.getStorageBaseUrl = (siteData) => {\r\n    let {domainConfig} = siteData;\r\n\r\n    if (window.location.hostname.includes(\"weblancer.ir\") || window.location.hostname.includes(\"localhost\")) {\r\n        return domainConfig.tempDomain.storageBaseUrl;\r\n    } else {\r\n        for(let i = 0; i < domainConfig.domainData.length; i++) {\r\n            if (domainConfig.domainData[i].domainName.replace(/^www\\./,'') ===\r\n                window.location.hostname.replace(/^www\\./,''))\r\n            {\r\n                return domainConfig.domainData[i].storageBaseUrl;\r\n            }\r\n        }\r\n    }\r\n\r\n    return \"https://weblancerstorage.s3.ir-thr-at1.arvanstorage.com/\";\r\n}\r\n\r\nDomainManager.getWebsiteBaseUrl = (siteData) => {\r\n    let {domainConfig} = siteData;\r\n\r\n    if (window.location.hostname.includes(\"weblancer.ir\") || window.location.hostname.includes(\"localhost\")) {\r\n        return domainConfig.tempDomain.targetUrl;\r\n    } else {\r\n        for(let i = 0; i < domainConfig.domainData.length; i++) {\r\n            if (domainConfig.domainData[i].domainName.replace(/^www\\./,'') ===\r\n                window.location.hostname.replace(/^www\\./,''))\r\n            {\r\n                return domainConfig.domainData[i].targetUrl;\r\n            }\r\n        }\r\n    }\r\n\r\n    return \"https://weblancer.ir/\";\r\n}\r\n\r\nDomainManager.getWebsiteName = (website, siteData) => {\r\n    if (website)\r\n        return website.name;\r\n\r\n    return siteData ? siteData.websiteName : \"\";\r\n}\r\n\r\nDomainManager.getBaseName = (website, siteData) => {\r\n    if (window.location.hostname.includes(\"weblancer.ir\") || window.location.hostname.includes(\"localhost\")) {\r\n        if (website)\r\n            return website.name;\r\n\r\n        return siteData ? siteData.websiteName : \"\";\r\n    } else {\r\n        return \"\";\r\n    }\r\n}\r\n\r\nexport default DomainManager;\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport '../../HelperStyle.css';\r\nimport './Image.css';\r\nimport {\r\n    getCompositeDesignData,\r\n    getFromTempData,\r\n    parseColor,\r\n    resolveDesignData,\r\n    setTempData\r\n} from \"../../AwesomwGridLayoutHelper\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport MenuButton from \"../../Menus/MenuBase/MenuButton\";\r\nimport AnimationDesign from \"../Containers/Menus/AnimationDesign\";\r\nimport CropperModal from \"./CropperModal\";\r\nimport FocalPointModal from \"./FocalPointModal\";\r\nimport ImageDesign from \"./Menus/ImageDesign\";\r\nimport ImageBehaviorDesign from \"./Menus/ImageBehaviorDesign\";\r\nimport LinkedTag from \"../Text/Menus/components/LinkedTag\";\r\nimport InspectorBreadcrumbs from \"../../Test/Inspector/InspectorBreadcrumbs\";\r\nimport InspectorAligns from \"../../Test/Inspector/InspectorAligns\";\r\nimport InspectorSize from \"../../Test/Inspector/InspectorSize\";\r\nimport InspectorOverflow from \"../../Test/Inspector/InspectorOverflow\";\r\nimport InspectorPosition from \"../../Test/Inspector/InspectorPosition\";\r\nimport InspectorScroll from \"../../Test/Inspector/InspectorScroll\";\r\nimport InspectorPadding from \"../../Test/Inspector/InspectorPadding\";\r\nimport InspectorAdjustment from \"../../Test/Inspector/InspectorAdjustment\";\r\nimport InspectorAnchor from \"../../Test/Inspector/InspectorAnchor\";\r\nimport ScaleProportionallyInspectorSize from \"./Menus/ScaleProportionallyInspectorSize\";\r\nimport DomainManager from \"../../Editor/DomainManager\";\r\nimport debounce from \"lodash.debounce\";\r\n\r\nexport default class Image extends AGLComponent{\r\n    static contextType = EditorContext;\r\n    constructor (props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            hover: false,\r\n            imageLoaded: false,\r\n        };\r\n\r\n        // this.imgRef = React.createRef();\r\n    }\r\n\r\n    setImageNode = (node) => {\r\n        this.imgNode = node;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.checkImageLoad();\r\n    }\r\n\r\n    crop = (callback) => {\r\n        if (this.cropped) {\r\n            callback && callback(false);\r\n            return;\r\n        }\r\n\r\n        this.cropped = true;\r\n\r\n        let cropData = getFromTempData(this, \"cropData\") || {};\r\n        if (!cropData.croppedAreaPixels) {\r\n            callback && callback(false);\r\n            return;\r\n        }\r\n\r\n        var canvas = document.createElement(\"canvas\");\r\n        canvas.width = `${cropData.croppedAreaPixels.width}`;\r\n        canvas.height = `${cropData.croppedAreaPixels.height}`;\r\n        let context = canvas.getContext(\"2d\");\r\n        // let img = this.i mgRef.current;\r\n        let img = this.imgNode;\r\n\r\n        context.drawImage(\r\n            img,\r\n            cropData.croppedAreaPixels.x,\r\n            cropData.croppedAreaPixels.y,\r\n            cropData.croppedAreaPixels.width,\r\n            cropData.croppedAreaPixels.height,\r\n            0, 0,\r\n            cropData.croppedAreaPixels.width,\r\n            cropData.croppedAreaPixels.height,\r\n        );\r\n\r\n        callback && callback(true);\r\n        this.setState({altSrc: canvas.toDataURL()});\r\n    }\r\n\r\n    onImageLoaded = (e) => {\r\n        this.setState({imageLoaded: true})\r\n        this.setState({imageDimension: {\r\n            width: e.target.width,\r\n            height: e.target.height,\r\n        }});\r\n        if (!this.state.imageExactDimension) {\r\n            this.setState({imageExactDimension: {\r\n                width: e.target.naturalWidth,\r\n                height: e.target.naturalHeight,\r\n            }});\r\n        }\r\n\r\n        this.crop((cropping) => {\r\n            if (!cropping && !this.context.isEditor()) {\r\n                if (!this.animated) {\r\n                    this.animated = true;\r\n                    this.getAgl().playAnimation(false, true);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    checkImageLoad = () => {\r\n        let interval = setInterval(() => {\r\n            if (this.imgNode) {\r\n                if (this.imgNode.naturalWidth) {\r\n                    clearInterval(interval);\r\n                    this.setState({imageExactDimension: {\r\n                        width: this.imgNode.naturalWidth,\r\n                        height: this.imgNode.naturalHeight,\r\n                    }});\r\n                }\r\n            }\r\n        }, 50);\r\n    }\r\n\r\n    resolveDesignData = () => {\r\n        resolveDesignData(this, \"imageData\", {\r\n            src: \"https://weblancerstaticdata.s3.ir-thr-at1.arvanstorage.com/image-default.webp\",\r\n            fit: \"cover\",\r\n            scrollType: \"none\"\r\n        });\r\n        resolveDesignData(this, \"imageBehavior\", {\r\n            scrollType: \"None\",\r\n            scaleProportionally: {\r\n                enable: false\r\n            }\r\n        });\r\n        resolveDesignData(this, \"normal\", {border: {shadow: {\r\n                    xOffset: -1,\r\n                    yOffset: 1,\r\n                    distance: 1,\r\n                    size: 0,\r\n                    blur: 4\r\n                }, radius: {}}, imageOpacity: 1});\r\n        resolveDesignData(this, \"hover\", {border: {shadow: {\r\n                    xOffset: -1,\r\n                    yOffset: 1,\r\n                    distance: 1,\r\n                    size: 5,\r\n                    blur: 4\r\n                }, radius: {}}, imageOpacity: 1});\r\n    };\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            bpData: {\r\n                overflowData: {\r\n                    state: \"show\"\r\n                }\r\n            }\r\n        };\r\n    };\r\n\r\n    getPrimaryOptions = () => {\r\n        this.resolveDesignData();\r\n\r\n        let linkData = getFromTempData(this, \"linkData\");\r\n\r\n        return [\r\n            <MenuButton\r\n                key={4}\r\n                icon={<span className=\"MenuButtonLabelSpan\">Change Image</span>}\r\n                select={this.props.select}\r\n                onClick={(e) => {\r\n                    this.context.showFileManager(\r\n                        {\r\n                            type: \"Images\",\r\n                            select: \"single\"\r\n                        },\r\n                        (filesData) => {\r\n                            let fileData = filesData[0];\r\n                            setTempData(\"cropData\", undefined, this.getAgl(), true);\r\n                            this.onDesignChange('design.imageData.focalPoint', {x: 50, y: 50});\r\n                            this.setState({imageLoaded: false, imageExactDimension: undefined, altSrc: undefined});\r\n                            this.onDesignChange('design.imageData.src', fileData.url);\r\n                            this.onDesignChange('design.imageData.pathname', fileData.pathname);\r\n                        }\r\n                    );\r\n                }}\r\n            />,\r\n            <MenuButton\r\n                key={1}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/paint.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Border Design\"\r\n                menu={(e) =>\r\n                    <ImageDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                        onStateChange={this.onStateChange}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={22}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/settingwhite.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Image Behavior\"\r\n                menu={(e) =>\r\n                    <ImageBehaviorDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={2}\r\n                icon={<img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/animation.svg'}/>}\r\n                select={this.props.select}\r\n                title=\"Animation Design\"\r\n                menu={(e) =>\r\n                    <AnimationDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={3}\r\n                icon={<img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/linkwhite.svg'}/>}\r\n                select={this.props.select}\r\n                title=\"Link\"\r\n                onClick={(e) => {\r\n                    this.context.showLinkGenerator(\r\n                        linkData,\r\n                        (linkData) => {\r\n                            setTempData(\"linkData\", linkData, this.getAgl(), true);\r\n                        }\r\n                    );\r\n                }}\r\n            />,\r\n            <MenuButton\r\n                key={5}\r\n                icon={<img draggable={false} width={16} height={16}\r\n                           src={require('../../icons/cropwhite.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Crop Image\"\r\n                onClick={(e) => {\r\n                    let imageData = getCompositeDesignData(this).imageData;\r\n                    let cropData = getFromTempData(this, \"cropData\") || {};\r\n                    let totalSize = this.getAgl() ? this.getAgl().getSize() : null;\r\n\r\n                    this.context.showModal(\r\n                        <CropperModal\r\n                            open={true}\r\n                            imageSrc={this.getImageSrc()}\r\n                            crop={cropData.crop || {x: 0, y: 0}}\r\n                            zoom={cropData.zoom || 1}\r\n                            aspect={totalSize ? totalSize.width / totalSize.height : 1}\r\n                            onClose={() => {\r\n                                this.context.hideModal();\r\n                            }}\r\n                            onDone={(cropData) => {\r\n                                this.onDesignChange('design.imageData.focalPoint', {x: 50, y: 50});\r\n                                setTempData(\"cropData\", cropData, this.getAgl(), true);\r\n                                this.cropped = false;\r\n\r\n                                if (!this.state.altSrc)\r\n                                    this.crop();\r\n                                else\r\n                                    this.setState({altSrc: undefined});\r\n                            }}\r\n                        />\r\n                    );\r\n                }}\r\n            />,\r\n            <MenuButton\r\n                key={6}\r\n                icon={<img draggable={false} width={16} height={16}\r\n                           src={require('../../icons/focalwhite.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Focal Point\"\r\n                onClick={(e) => {\r\n                    let imageData = getCompositeDesignData(this).imageData;\r\n\r\n                    this.context.showModal(\r\n                        <FocalPointModal\r\n                            open={true}\r\n                            src={this.state.altSrc || this.getImageSrc()}\r\n                            focalPoint={imageData.focalPoint || {x: 50, y: 50}}\r\n                            onClose={() => {\r\n                                this.context.hideModal();\r\n                            }}\r\n                            onDone={(focalPoint) => {\r\n                                this.onDesignChange('design.imageData.focalPoint', focalPoint);\r\n                            }}\r\n                        />\r\n                    );\r\n                }}\r\n            />,\r\n            <MenuButton\r\n                key={33}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/savewhite.svg'} /> }\r\n                select={this.props.select}\r\n                title=\"Copy Data\"\r\n                hide={this.context.user.role === \"user\"}\r\n                onClick={(e) => {\r\n                    this.showComponentCode();\r\n                }}\r\n            />\r\n        ]\r\n    };\r\n\r\n    updateDesign = (compositeDesign) => {\r\n    };\r\n\r\n    onStateChange = (stateName) => {\r\n        if (stateName === \"hover\")\r\n            this.setState({hover:true});\r\n        else\r\n            this.setState({hover:false});\r\n    };\r\n\r\n    onMouseOver = () => {\r\n        if (this.context.isEditor())\r\n            return;\r\n\r\n        this.setState({hover: true});\r\n    };\r\n\r\n    onMouseOut = () => {\r\n        if (this.context.isEditor())\r\n            return;\r\n\r\n        this.setState({hover: false});\r\n    };\r\n\r\n    onInvalidateSize = debounce((e) => {\r\n        console.log(\"onInvalidateSize\")\r\n        // this.setState({reload: true});\r\n    }, 200);\r\n\r\n    getInspectorOverride = () => {\r\n        return (\r\n            <>\r\n                <InspectorBreadcrumbs\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAligns\r\n                    item={this.getAgl()}\r\n                />\r\n                <ScaleProportionallyInspectorSize\r\n                    item={this.getAgl()}\r\n                    getScaleProportionally={this.getScaleProportionally}\r\n                    setScaleProportionally={this.setScaleProportionally}\r\n                />\r\n                <InspectorOverflow\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorPosition\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorScroll\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorPadding\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAdjustment\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAnchor\r\n                    item={this.getAgl()}\r\n                />\r\n            </>\r\n        )\r\n    }\r\n\r\n    setScaleProportionally = (ratio, enable) => {\r\n        if (enable === undefined)\r\n            enable = this.getScaleProportionally().enable;\r\n        if (ratio === undefined) {\r\n            let agl = this.getAgl();\r\n            let rect = agl.getSize(false, true);\r\n            ratio = rect.height / rect.width;\r\n        }\r\n        this.onDesignChange(`design.imageBehavior.scaleProportionally`, {enable, ratio});\r\n    }\r\n\r\n    getScaleProportionally = () => {\r\n        return getCompositeDesignData(this).imageBehavior.scaleProportionally || {enable: false};\r\n    }\r\n\r\n    setSizePre = (agl, dir, delta, group, relativeX, relativeY, width, height, firstRelativeX,\r\n               firstRelativeY, firstWidth, firstHeight, parentRect, fromUndoRedo) =>\r\n    {\r\n        this.setScaleProportionally(width / height);\r\n    }\r\n\r\n    getImageSrc = () => {\r\n        let {website, siteData} = this.context;\r\n        let imageData = getCompositeDesignData(this).imageData;\r\n        if (!imageData.pathname)\r\n            return imageData.src;\r\n        return `${DomainManager.getStorageBaseUrl(siteData)}${imageData.pathname}`;\r\n    }\r\n\r\n    getStaticChildren = () => {\r\n        let {imageDimension, imageExactDimension, imageLoaded} = this.state;\r\n        this.resolveDesignData();\r\n\r\n        let imageData = getCompositeDesignData(this).imageData;\r\n        let imageBehavior = getCompositeDesignData(this).imageBehavior;\r\n\r\n        let data;\r\n        if (this.state.hover)\r\n            data = getCompositeDesignData(this).hover;\r\n        else\r\n            data = getCompositeDesignData(this).normal;\r\n\r\n        let border = data.border;\r\n        let fillColor = data.fillColor;\r\n        if (fillColor)\r\n            fillColor = parseColor(fillColor, fillColor.alpha, this.context);\r\n\r\n        let overlayColor = data.overlayColor;\r\n        if (overlayColor)\r\n            overlayColor = parseColor(overlayColor, overlayColor.alpha, this.context);\r\n\r\n        border.radius = border.radius || {};\r\n        border.shadow = border.shadow || {};\r\n\r\n        let shadowColor = border.shadow.color;\r\n        if (shadowColor)\r\n            shadowColor = parseColor(shadowColor, shadowColor.alpha, this.context);\r\n        let borderColor = border.color;\r\n        if (borderColor)\r\n            borderColor = parseColor(borderColor, borderColor.alpha, this.context);\r\n\r\n        let imageStyle = {\r\n            objectFit: imageData.fit,\r\n        };\r\n\r\n        let totalSize = this.getAgl()? this.getAgl().getSize() : null;\r\n        if (imageExactDimension) {\r\n            if (totalSize.width / totalSize.height > imageExactDimension.width/ imageExactDimension.height) {\r\n                // Vertical\r\n                imageStyle.height = \"auto\";\r\n                imageStyle.width = \"100%\";\r\n            } else {\r\n                // Horizontal\r\n                imageStyle.height = \"100%\";\r\n                imageStyle.width = \"auto\";\r\n            }\r\n        }\r\n\r\n        if (imageDimension && imageLoaded) {\r\n\r\n            imageDimension.width = this.imgNode.width;\r\n            imageDimension.height = this.imgNode.height;\r\n\r\n            if (imageBehavior) {\r\n                switch (imageBehavior.scrollType.toLowerCase()) {\r\n                    case \"none\":\r\n                        imageStyle.width = \"100%\";\r\n                        imageStyle.height = \"100%\";\r\n                        break;\r\n                    case \"parallax\":\r\n                        if (!(totalSize.width / totalSize.height > imageExactDimension.width / imageExactDimension.height)) {\r\n                            // Horizontal\r\n                            imageDimension.width = imageExactDimension.width / imageExactDimension.height * 2 * totalSize.height;\r\n                            imageDimension.height = 2 * totalSize.height;\r\n                            imageStyle.height = \"200%\";\r\n                        } else {\r\n                            imageStyle.height = \"auto\";\r\n                        }\r\n                        imageStyle.top = `calc(${-imageDimension.height}px * var(--page-scroll) + ${totalSize.height}px * var(--page-scroll))`;\r\n                        break;\r\n                    case \"reveal\":\r\n                        if (!this.context.isEditor()) {\r\n                            if (!(totalSize.width / totalSize.height > imageExactDimension.width / imageExactDimension.height)) {\r\n                                // Horizontal\r\n                                imageDimension.width = imageExactDimension.width / imageExactDimension.height * 2 * totalSize.height;\r\n                                imageDimension.height = 2 * totalSize.height;\r\n                                imageStyle.height = `calc(100vh * var(--vh-ratio))`;\r\n                            } else {\r\n                                imageStyle.height = `calc(100vh * var(--vh-ratio))`;\r\n                                imageStyle.minWidth = totalSize.width;\r\n                            }\r\n                            imageStyle.position = \"fixed\";\r\n                            imageStyle.left = totalSize.left;\r\n                            imageStyle.top = this.context.production ? 0 : 90;\r\n                            imageStyle.width = totalSize.width;\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n\r\n        imageStyle.objectPosition = imageData.focalPoint ?\r\n            `${imageData.focalPoint.x}% ${imageData.focalPoint.y}%` : '50% 50%';\r\n\r\n        let overlayStyle = {\r\n            backgroundColor: overlayColor,\r\n        }\r\n\r\n        let linkData = getFromTempData(this, \"linkData\");\r\n\r\n        return <>\r\n            <LinkedTag\r\n                key=\"ImageBorderRoot\"\r\n                onMouseOver={this.onMouseOver}\r\n                onMouseOut={this.onMouseOut}\r\n                className=\"ImageBorderRoot\"\r\n                linkData={linkData}\r\n                style={{\r\n                    border:\r\n                        `${border.width || 0}px solid ${borderColor || 'rgba(0,0,0,0)'}`,\r\n                    backgroundColor: fillColor,\r\n                    borderRadius:\r\n                        `${border.radius.topLeft || 0}px ${border.radius.topRight || 0}px ${border.radius.bottomRight || 0}px ${border.radius.bottomLeft || 0}px`,\r\n                    boxShadow: `${(border.shadow.xOffset) * (border.shadow.distance)}px ${(border.shadow.yOffset) * (border.shadow.distance)}px ${border.shadow.blur}px ${border.shadow.size}px ${shadowColor || 'rgba(0,0,0,0)'}`,\r\n                }}\r\n            >\r\n                <div style={{\r\n                    position: \"relative\", width: \"100%\", height: \"100%\",\r\n                    clipPath: \"inset(0 0 0 0)\",\r\n                    overflow: \"hidden\",\r\n                }}>\r\n                    <img\r\n                        className=\"ImageImage\"\r\n                        onMouseOver={this.onMouseOver}\r\n                        onMouseOut={this.onMouseOut}\r\n                        src={this.state.altSrc || this.getImageSrc()}\r\n                        style={imageStyle}\r\n                        ref={(ref) => {this.setImageNode(ref)}}\r\n                        onLoad={this.onImageLoaded}\r\n                        crossOrigin=\"anonymous\"\r\n                        alt={imageBehavior.altText || \"\"}\r\n                    />\r\n                    <div\r\n                        className=\"ImageOverlay\"\r\n                        style={overlayStyle}\r\n                    />\r\n                </div>\r\n            </LinkedTag>\r\n            <div\r\n                className=\"ImageScaler\"\r\n                style={{\r\n                    paddingTop: (imageBehavior.scaleProportionally && imageBehavior.scaleProportionally.enable) ?\r\n                        `${imageBehavior.scaleProportionally.ratio * 100}%` : \"unset\"\r\n                }}\r\n            />\r\n            </>\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <AGLWrapper\r\n                tagName=\"Image\"\r\n                aglComponent={this}\r\n                {...this.props}\r\n                style={{\r\n                    width: \"150px\",\r\n                    height: \"150px\",\r\n                }}\r\n                data={this.getData()}\r\n                getPrimaryOptions={this.getPrimaryOptions}\r\n                getInspector={this.getInspector}\r\n                getStaticChildren={this.getStaticChildren}\r\n                onInvalidateSize={this.onInvalidateSize}\r\n                setSizePre={this.setSizePre}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nImage.defaultProps = {\r\n    tagName: \"Image\"\r\n};\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport Background from \"../../Containers/Menus/Components/Background\";\r\nimport Border from \"../../Containers/Menus/Components/Border\";\r\nimport Corners from \"../../Containers/Menus/Components/Corners\";\r\nimport Shadow from \"../../Containers/Menus/Components/Shadow\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class VideoDesign extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    getIndex = (stateName) => {\r\n        let index = [];\r\n        index.push(\r\n            {\r\n                key: \"Overlay Color & Opacity\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/layer.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Border\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/border.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Corner\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/corner.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Shadow\",\r\n                icon: <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" className=\"symbol symbol-shadowDesign\">\r\n                    <path fillRule=\"evenodd\"\r\n                          d=\"M11.5 14.5h-8v-2h8c.55 0 1-.45 1-1v-9h2v9c0 1.65-1.35 3-3 3zm-3-4h-7c-1.1 0-2-.9-2-2v-7c0-1.1.9-2 2-2h7c1.1 0 2 .9 2 2v7c0 1.1-.9 2-2 2z\"/>\r\n                </svg>\r\n            });\r\n\r\n        return index;\r\n    };\r\n\r\n    getOptions = (stateName) => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        let options = [];\r\n\r\n        options.push({\r\n            key: \"Overlay Color & Opacity\",\r\n            render: <Background\r\n                color={design[stateName].overlay}\r\n                designKey={`design.${stateName}.overlay`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Border\",\r\n            render: <Border\r\n                border={design[stateName].border || {}}\r\n                designKey={`design.${stateName}.border`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Corner\",\r\n            render: <Corners\r\n                radius={design[stateName].border.radius || {}}\r\n                designKey={`design.${stateName}.border.radius`}\r\n                onDesignChange={this.props.onDesignChange}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Shadow\",\r\n            render: <Shadow\r\n                shadow={design[stateName].border.shadow || {}}\r\n                designKey={`design.${stateName}.border.shadow`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n\r\n        return options;\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle=\"Video Design\"\r\n                {...this.props}\r\n                item={this.props.item}\r\n                defaultIndexNo={0}\r\n                index={this.getIndex(\"borderData\")}\r\n                options={this.getOptions(\"borderData\")}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../Menus/Menu.css';\r\nimport Divider from \"../../../Menus/CommonComponents/Divider\";\r\nimport DropDown from \"../../../Menus/CommonComponents/DropDown\";\r\nimport {inputCopyPasteHandler} from \"../../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class VideoSource extends React.Component {\r\n    changeUrl = () => {\r\n        this.props.onDesignChange(this.props.designKey + '.data.embedUrl', this.tempEmbedUrl);\r\n    };\r\n    changeAltText = () => {\r\n        this.props.onDesignChange(this.props.designKey + '.data.altText', this.tempAltText);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Embed URL (from aparat.com)</p>\r\n\r\n                    <input\r\n                        defaultValue={(this.props.data.data && this.props.data.data.embedUrl) || \"\"}\r\n                        className=\"NumberInput PageManagerRenameInput PageInfoNameInput\"\r\n                        type=\"text\"\r\n                        onChange={(e) => {this.tempEmbedUrl = e.target.value;}}\r\n                        onBlur={this.changeUrl}\r\n                        onKeyDown={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.changeUrl()\r\n                            }\r\n                            inputCopyPasteHandler(e)\r\n                        }}\r\n                    >\r\n                    </input>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">What's this video about? (SEO)</p>\r\n\r\n                    <input\r\n                        defaultValue={(this.props.data.data && this.props.data.data.altText) || \"\"}\r\n                        className=\"NumberInput PageManagerRenameInput PageInfoNameInput\"\r\n                        type=\"text\"\r\n                        onChange={(e) => {this.tempAltText = e.target.value;}}\r\n                        onBlur={this.changeAltText}\r\n                        onKeyDown={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.changeAltText()\r\n                            }\r\n                            inputCopyPasteHandler(e)\r\n                        }}\r\n                    >\r\n                    </input>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport Background from \"../../Containers/Menus/Components/Background\";\r\nimport Border from \"../../Containers/Menus/Components/Border\";\r\nimport Corners from \"../../Containers/Menus/Components/Corners\";\r\nimport Shadow from \"../../Containers/Menus/Components/Shadow\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\nimport VideoSource from \"./VideoSource\";\r\n\r\nexport default class VideoData extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    getIndex = (stateName) => {\r\n        let index = [];\r\n        index.push(\r\n        {\r\n            key: \"Video Source\",\r\n            icon: <img draggable={false} width={16} height={16}\r\n                       src={process.env.PUBLIC_URL + '/static/icon/text.svg'} />\r\n        });\r\n\r\n        return index;\r\n    };\r\n\r\n    getOptions = (stateName) => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        let options = [];\r\n\r\n        options.push({\r\n            key: \"Video Source\",\r\n            render: <VideoSource\r\n                data={design.videoData}\r\n                designKey={`design.videoData`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n\r\n        return options;\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle=\"Video Data\"\r\n                {...this.props}\r\n                item={this.props.item}\r\n                defaultIndexNo={0}\r\n                index={this.getIndex()}\r\n                options={this.getOptions()}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport '../../HelperStyle.css';\r\nimport './Video.css';\r\nimport {\r\n    getCompositeDesignData,\r\n    getFromTempData,\r\n    parseColor,\r\n    resolveDesignData,\r\n} from \"../../AwesomwGridLayoutHelper\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport MenuButton from \"../../Menus/MenuBase/MenuButton\";\r\nimport AnimationDesign from \"../Containers/Menus/AnimationDesign\";\r\nimport {getVideoObject} from \"./VideoHelper\";\r\nimport VideoDesign from \"./Menus/VideoDesign\";\r\nimport {getFontDataByName} from \"../Text/TextHelper\";\r\nimport StaticFonts from \"../Text/Fonts/StaticFonts.json\";\r\nimport VideoData from \"./Menus/VideoData\";\r\nimport InspectorBreadcrumbs from \"../../Test/Inspector/InspectorBreadcrumbs\";\r\nimport InspectorAligns from \"../../Test/Inspector/InspectorAligns\";\r\nimport ScaleProportionallyInspectorSize from \"../Image/Menus/ScaleProportionallyInspectorSize\";\r\nimport InspectorOverflow from \"../../Test/Inspector/InspectorOverflow\";\r\nimport InspectorPosition from \"../../Test/Inspector/InspectorPosition\";\r\nimport InspectorScroll from \"../../Test/Inspector/InspectorScroll\";\r\nimport InspectorPadding from \"../../Test/Inspector/InspectorPadding\";\r\nimport InspectorAdjustment from \"../../Test/Inspector/InspectorAdjustment\";\r\nimport InspectorAnchor from \"../../Test/Inspector/InspectorAnchor\";\r\nimport LinkedTag from \"../Text/Menus/components/LinkedTag\";\r\n\r\nexport default class Video extends AGLComponent{\r\n    static contextType = EditorContext;\r\n    constructor (props) {\r\n        super(props);\r\n\r\n        this.state = {hover: false};\r\n\r\n        this.rootBorderRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    resolveDesignData = () => {\r\n        resolveDesignData(this, \"videoData\", {\r\n            videoType: \"aparat\",\r\n            data: {\r\n            },\r\n            scaleProportionally: {\r\n                enable: false\r\n            }\r\n        });\r\n        resolveDesignData(this, \"borderData\", {border: {shadow: {\r\n                    xOffset: -1,\r\n                    yOffset: 1,\r\n                    distance: 1,\r\n                    size: 0,\r\n                    blur: 4\r\n                }, radius: {}}, textColor: \"#000000\"});\r\n    };\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            bpData: {\r\n                overflowData: {\r\n                    state: \"show\"\r\n                }\r\n            }\r\n        };\r\n    };\r\n\r\n    getPrimaryOptions = () => {\r\n        this.resolveDesignData();\r\n\r\n        return [\r\n            <MenuButton\r\n                key={1}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/paint.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Border Design\"\r\n                menu={(e) =>\r\n                    <VideoDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                        onStateChange={this.onStateChange}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={3}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/settingwhite.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Video Data\"\r\n                menu={(e) =>\r\n                    <VideoData\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                        onStateChange={this.onStateChange}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={2}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/animation.svg'} /> }\r\n                select={this.props.select}\r\n                title=\"Animation Design\"\r\n                menu={(e) =>\r\n                    <AnimationDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={33}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/savewhite.svg'} /> }\r\n                select={this.props.select}\r\n                hide={this.context.user.role === \"user\"}\r\n                title=\"Copy Data\"\r\n                onClick={(e) => {\r\n                    this.showComponentCode();\r\n                }}\r\n            />\r\n        ]\r\n    };\r\n\r\n    updateDesign = (compositeDesign) => {\r\n    };\r\n\r\n    getInspectorOverride = () => {\r\n        return (\r\n            <>\r\n                <InspectorBreadcrumbs\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAligns\r\n                    item={this.getAgl()}\r\n                />\r\n                <ScaleProportionallyInspectorSize\r\n                    item={this.getAgl()}\r\n                    getScaleProportionally={this.getScaleProportionally}\r\n                    setScaleProportionally={this.setScaleProportionally}\r\n                />\r\n                <InspectorOverflow\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorPosition\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorScroll\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorPadding\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAdjustment\r\n                    item={this.getAgl()}\r\n                />\r\n                <InspectorAnchor\r\n                    item={this.getAgl()}\r\n                />\r\n            </>\r\n        )\r\n    }\r\n\r\n    setScaleProportionally = (ratio, enable) => {\r\n        if (enable === undefined)\r\n            enable = this.getScaleProportionally().enable;\r\n        if (ratio === undefined) {\r\n            let agl = this.getAgl();\r\n            let rect = agl.getSize(false, true);\r\n            ratio = rect.height / rect.width;\r\n        }\r\n        this.onDesignChange(`design.videoData.scaleProportionally`, {enable, ratio});\r\n    }\r\n\r\n    getScaleProportionally = () => {\r\n        return getCompositeDesignData(this).videoData.scaleProportionally || {enable: false};\r\n    }\r\n\r\n    setSizePre = (agl, dir, delta, group, relativeX, relativeY, width, height, firstRelativeX,\r\n                  firstRelativeY, firstWidth, firstHeight, parentRect, fromUndoRedo) =>\r\n    {\r\n        this.setScaleProportionally(width / height);\r\n    }\r\n\r\n    getStaticChildren = () => {\r\n        this.resolveDesignData();\r\n\r\n        let borderData = getCompositeDesignData(this).borderData;\r\n        let videoData = getCompositeDesignData(this).videoData;\r\n\r\n        let border = borderData.border;\r\n        let overlay = borderData.overlay;\r\n        if (overlay)\r\n            overlay = parseColor(overlay, overlay.alpha, this.context);\r\n\r\n        border.radius = border.radius || {};\r\n        border.shadow = border.shadow || {};\r\n\r\n        let shadowColor = border.shadow.color;\r\n        if (shadowColor)\r\n            shadowColor = parseColor(shadowColor, shadowColor.alpha, this.context);\r\n        let borderColor = border.color;\r\n        if (borderColor)\r\n            borderColor = parseColor(borderColor, borderColor.alpha, this.context);\r\n\r\n        return <>\r\n            <div\r\n                className=\"VideoBorderRoot\"\r\n                ref={this.rootBorderRef}\r\n                style={{\r\n                    border:\r\n                        `${border.width || 0}px solid ${borderColor || 'rgba(0,0,0,0)'}`,\r\n                    // backgroundColor: fillColor,\r\n                    borderRadius:\r\n                        `${border.radius.topLeft || 0}px ${border.radius.topRight || 0}px ${border.radius.bottomRight || 0}px ${border.radius.bottomLeft || 0}px`,\r\n                    boxShadow: `${(border.shadow.xOffset) * (border.shadow.distance)}px ${(border.shadow.yOffset) * (border.shadow.distance)}px ${border.shadow.blur}px ${border.shadow.size}px ${shadowColor || 'rgba(0,0,0,0)'}`,\r\n                    pointerEvents: this.context.isEditor() ? \"none\" : \"auto\"\r\n                }}\r\n            >\r\n                {getVideoObject(videoData.videoType, videoData.data)}\r\n                <div\r\n                    className=\"VideoOverlay\"\r\n                    style={{\r\n                        backgroundColor: overlay,\r\n                    }}\r\n                />\r\n            </div>\r\n            <div\r\n                className=\"ImageScaler\"\r\n                style={{\r\n                    paddingTop: (videoData.scaleProportionally && videoData.scaleProportionally.enable) ?\r\n                        `${videoData.scaleProportionally.ratio * 100}%` : \"unset\"\r\n                }}\r\n            />\r\n        </>\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <AGLWrapper\r\n                tagName=\"Video\"\r\n                aglComponent={this}\r\n                {...this.props}\r\n                style={{\r\n                    width: \"200px\",\r\n                    height: \"150px\",\r\n                }}\r\n                data={this.getData()}\r\n                getPrimaryOptions={this.getPrimaryOptions}\r\n                getInspector={this.getInspector}\r\n                getStaticChildren={this.getStaticChildren}\r\n                setSizePre={this.setSizePre}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nVideo.defaultProps = {\r\n    tagName: \"Video\"\r\n};\r\n","import React from \"react\";\r\n\r\nexport function getVideoObject (videoType, data) {\r\n    switch (videoType.toLowerCase()) {\r\n        case \"aparat\":\r\n            return(\r\n                <>\r\n                    <style>\r\n                        {`.h_iframe-aparat_embed_frame{position:relative; width: 100%; height: 100%}.h_iframe-aparat_embed_frame\r\n                        .ratio{display:block;width:100%;height:auto;}.h_iframe-aparat_embed_frame\r\n                        iframe{position:absolute;top:0;left:0;width:100%;height:100%; border: none;}`}\r\n                    </style>\r\n\r\n                    <div className=\"h_iframe-aparat_embed_frame\">\r\n                        <span style={{display: \"block\", paddingTop: \"57%\"}}></span>\r\n                        <iframe src={\r\n                            data.embedUrl? data.embedUrl :\r\n                            \"https://www.aparat.com/video/video/embed/videohash/3bQnk/vt/frame\"\r\n                        }\r\n                                title=\"پنج ترین 36: معرفی پنج بازی رومیزی برای موبایل\" allowFullScreen={true}\r\n                                webkitallowfullscreen=\"true\" mozallowfullscreen=\"true\"></iframe>\r\n                    </div>\r\n                 </>\r\n            )\r\n    }\r\n\r\n    return null;\r\n}\r\n","import React from \"react\";\r\nimport '../../HelperStyle.css';\r\nimport './HorizontalMenu.css';\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport Grow from '@material-ui/core/Grow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport MenuList from '@material-ui/core/MenuList';\r\n\r\nexport default class FreeDropDownMenu extends React.Component{\r\n    static contextType = EditorContext;\r\n    constructor (props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    render() {\r\n        let {open, anchorEl} =  this.props;\r\n        return (\r\n            <Popper open={open} anchorEl={anchorEl} role={undefined} transition>\r\n                {({ TransitionProps, placement }) => (\r\n                    <Grow\r\n                        {...TransitionProps}\r\n                        style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\r\n                    >\r\n                        <Paper\r\n                            className={this.props.className}\r\n                            style={this.props.style}\r\n                        >\r\n                            <ClickAwayListener onClickAway={this.props.onClose}>\r\n                                <MenuList autoFocusItem={open} id=\"menu-list-grow\"\r\n                                >\r\n                                    {\r\n                                        this.props.children\r\n                                    }\r\n                                </MenuList>\r\n                            </ClickAwayListener>\r\n                        </Paper>\r\n                    </Grow>\r\n                )}\r\n            </Popper>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../HelperStyle.css';\r\nimport './HorizontalMenu.css';\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FreeDropDownMenu from \"./FreeDropDownMenu\";\r\nimport LinkedTag from \"../Text/Menus/components/LinkedTag\";\r\n\r\nexport default class HorizontalMenuItem extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            state: \"normal\",\r\n            dropDown: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    onMouseOver = (e) => {\r\n        if (this.context.isEditor())\r\n            return;\r\n\r\n        let dropDownState = {};\r\n        if (this.props.dropDownOnHover) dropDownState.dropDown = true;\r\n\r\n        this.setState({state: \"hover\", ...dropDownState, dropDownAnchor: e.currentTarget});\r\n    };\r\n\r\n    onMouseLeave = (e) => {\r\n        if (this.context.isEditor())\r\n            return;\r\n\r\n        let dropDownState = {};\r\n        if (this.props.dropDownOnHover) dropDownState.dropDown = false;\r\n\r\n        this.setState({state: \"normal\", ...dropDownState});\r\n    };\r\n\r\n    onClick = (e) => {\r\n        let {menuItem} = this.props;\r\n\r\n        if (!this.props.dropDownOnHover) {\r\n            this.setState({dropDown: !this.state.dropDown, dropDownAnchor: e.currentTarget})\r\n        }\r\n    }\r\n\r\n    onDropDownClose = () => {\r\n        if (!this.props.dropDownOnHover) {\r\n            this.setState({dropDown: false})\r\n        }\r\n    }\r\n\r\n    getMenuItemStyle = () => {\r\n        let {menuItem} = this.props;\r\n        let state = this.props.state || this.state.state;\r\n\r\n        if (!this.props.state &&\r\n            menuItem.linkData && menuItem.linkData.type === \"Page\" &&\r\n            menuItem.linkData.data.pageId === this.context.pageData.props.pageId\r\n        ) {\r\n            state = \"select\";\r\n        }\r\n\r\n        return this.props.getMenuItemStyle(state);\r\n    }\r\n\r\n    render() {\r\n        let {menuItem} = this.props;\r\n        let state = this.props.state || this.state.state;\r\n        return (\r\n            <MenuItem\r\n                onClick={this.onClick}\r\n                onMouseOver={this.onMouseOver}\r\n                onMouseLeave={this.onMouseLeave}\r\n                {...{id: this.props.moreId || undefined}}\r\n                className={this.props.className}\r\n                style={this.getMenuItemStyle()}\r\n            >\r\n                <LinkedTag\r\n                    linkData={menuItem.linkData}\r\n                    style={{\r\n                        // width: \"unset\",\r\n                        // height: \"unset\"\r\n                    }}\r\n                >\r\n                    {menuItem.name}\r\n                </LinkedTag>\r\n                {\r\n                    menuItem.menuItems && menuItem.menuItems.length > 0 && this.state.dropDown &&\r\n                    <FreeDropDownMenu\r\n                        className={this.props.dropDownClassName}\r\n                        style={this.props.dropDownStyle}\r\n                        open={true}\r\n                        anchorEl={this.state.dropDownAnchor}\r\n                        onClose={this.onDropDownClose}\r\n                    >\r\n                        {\r\n                            menuItem.menuItems.map(mi => {\r\n                                return (\r\n                                    <HorizontalMenuItem\r\n                                        key={mi.id}\r\n                                        className={this.props.dropDownItemClassName}\r\n                                        dropDownClassName={this.props.dropDownClassName}\r\n                                        dropDownStyle={this.props.dropDownStyle}\r\n                                        getMenuItemStyle={this.props.getDropDownItemStyle}\r\n                                        dropDownItemClassName={this.props.dropDownItemClassName}\r\n                                        getDropDownItemStyle={this.props.getDropDownItemStyle}\r\n                                        state={this.props.state}\r\n                                        menuItem={mi}\r\n                                        dropDownOnHover={this.props.dropDownOnHover}\r\n                                    />\r\n                                )\r\n                            })\r\n                        }\r\n                    </FreeDropDownMenu>\r\n                }\r\n            </MenuItem>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../HelperStyle.css';\r\nimport './HorizontalMenu.css';\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport {getMenuById} from \"../../MenuManager/MenuManager\";\r\n\r\nexport default class SelectMenu extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    render() {\r\n        let {siteData} = this.context;\r\n        let {menus} = siteData;\r\n        return <Modal\r\n            open={this.props.open}\r\n            onClose={this.props.onClose}\r\n            aria-labelledby=\"simple-modal-title2\"\r\n            aria-describedby=\"simple-modal-description2\"\r\n            className=\"FileManagerModal\"\r\n            disableBackdropClick\r\n            disableEnforceFocus\r\n        >\r\n            <div className=\"CreateMenuRoot\">\r\n                {/*Header*/}\r\n                <div className=\"FileManagerHeader\">\r\n                    <div\r\n                        className=\"PageManagerHeaderContainer\"\r\n                    >\r\n                            <span className=\"PageManagerHeaderTitle\">\r\n                                {this.props.title || \"Select Menu\"}\r\n                            </span>\r\n\r\n                        <IconButton\r\n                            onClick={this.props.onClose}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={12}\r\n                                height={12}\r\n                                src={require('../../icons/close.svg')}\r\n                            />\r\n                        </IconButton>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"CreateMenuContainer\">\r\n                    <span className=\"CreateMenuTitle\">\r\n                        {this.props.label || \"Which menu do you want to show?\"}\r\n                    </span>\r\n\r\n                    <DropDown\r\n                        rootStyle={{\r\n                            paddingLeft: 4,\r\n                            border: \"1px solid rgb(198, 198, 198)\",\r\n                            height: 36,\r\n                            borderRadius: 4,\r\n                            marginTop: 8\r\n                        }}\r\n                        menuItemStyle={{\r\n                            padding: 0\r\n                        }}\r\n                        options={menus}\r\n                        onChange={(menuData) => {\r\n                            this.setState({menuId: menuData.id});\r\n                        }}\r\n                        value={getMenuById(siteData,this.state.menuId || this.props.menuId || \"default\")}\r\n                        spanStyle={{\r\n                            width: 230,\r\n                            fontSize: 14,\r\n                            border: \"0px solid #cfcfcf\",\r\n                        }}\r\n                        renderer={(menuData) => {\r\n                            return (\r\n                                <div className=\"TextEditorThemeRendererRoot\">\r\n                                    <span>\r\n                                        {menuData.name}\r\n                                    </span>\r\n                                </div>\r\n                            )\r\n                        }}\r\n                        valueRenderer={(menuData) => {\r\n                            return (\r\n                                <span>\r\n                                    {menuData.name}\r\n                                </span>\r\n                            )\r\n                        }}\r\n                    />\r\n\r\n                    <div>\r\n                        <Button\r\n                            className=\"CreateMenuCreate\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={() => {\r\n                                this.props.onClose();\r\n                                this.props.onDone(this.state.menuId || \"default\")\r\n                            }}\r\n                        >\r\n                            {this.props.confirmLabel || \"Confirm\"}\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport Background from \"../../Containers/Menus/Components/Background\";\r\nimport Border from \"../../Containers/Menus/Components/Border\";\r\nimport Corners from \"../../Containers/Menus/Components/Corners\";\r\nimport Shadow from \"../../Containers/Menus/Components/Shadow\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\nimport ColorAdjustment from \"../../../Menus/CommonMenus/ColorAdjustment\";\r\n\r\nexport default class MenuItemDesign extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    getIndex = (stateName) => {\r\n        let index = [];\r\n        index.push(\r\n            {\r\n                key: \"Fill Color & Opacity\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/water.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Border\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/border.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Corner\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/corner.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Text Appearance\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/text.svg'} />\r\n            });\r\n\r\n        return index;\r\n    };\r\n\r\n    getOptions = (stateName) => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        let options = [];\r\n\r\n        options.push({\r\n            key: \"Fill Color & Opacity\",\r\n            render: <Background\r\n                color={design[stateName].fillColor}\r\n                designKey={`design.${stateName}.fillColor`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Border\",\r\n            render: <Border\r\n                border={design[stateName].border || {}}\r\n                designKey={`design.${stateName}.border`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Corner\",\r\n            render: <Corners\r\n                radius={design[stateName].border.radius || {}}\r\n                designKey={`design.${stateName}.border.radius`}\r\n                onDesignChange={this.props.onDesignChange}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Text Appearance\",\r\n            render: <ColorAdjustment\r\n                title={\"Text Color\"}\r\n                color={design[stateName].textColor}\r\n                designKey={`design.${stateName}.textColor`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n\r\n        return options;\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle=\"Menu Item Design\"\r\n                {...this.props}\r\n                item={this.props.item}\r\n                multiState\r\n                states={{\r\n                    normal:{\r\n                        name: \"normal\",\r\n                        render: \"Normal\",\r\n                        toggle: () => {this.props.onStateChange(\"normal\")},\r\n                        options: this.getOptions(\"normal\"),\r\n                        index: this.getIndex(\"normal\")\r\n                    },\r\n                    hover: {\r\n                        name: \"hover\",\r\n                        render: \"Hover\",\r\n                        toggle: () => {this.props.onStateChange(\"hover\")},\r\n                        options: this.getOptions(\"hover\"),\r\n                        index: this.getIndex(\"hover\")\r\n                    },\r\n                    select: {\r\n                        name: \"select\",\r\n                        render: \"Select\",\r\n                        toggle: () => {this.props.onStateChange(\"select\")},\r\n                        options: this.getOptions(\"select\"),\r\n                        index: this.getIndex(\"select\")\r\n                    }\r\n                }}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../Menus/Menu.css';\r\nimport Divider from \"../../../Menus/CommonComponents/Divider\";\r\nimport StaticFonts from \"../../Text/Fonts/StaticFonts.json\";\r\nimport {getFontDataByFamily, getFontDataByName} from \"../../Text/TextHelper\";\r\nimport DropDown from \"../../../Menus/CommonComponents/DropDown\";\r\nimport FontSizeSelector2 from \"../../Button/Menus/FontSizeSelector2\";\r\n\r\nexport default class MenuItemTextAppearance extends React.Component {\r\n    changeText = () => {\r\n        this.props.onDesignChange(this.props.designKey + '.text', this.tempText);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Font</p>\r\n\r\n                    <DropDown\r\n                        rootStyle={{\r\n                            paddingLeft: 4,\r\n                            border: \"1px solid rgb(198, 198, 198)\",\r\n                            height: 36,\r\n                            borderRadius: 4\r\n                        }}\r\n                        menuItemStyle={{\r\n                            padding: 0\r\n                        }}\r\n                        options={Object.values(StaticFonts)}\r\n                        onChange={(fontData) => {\r\n                                this.props.onDesignChange(this.props.designKey + '.fontFamily', fontData.fontFamily);\r\n                        }}\r\n                        value={this.props.data.fontFamily? getFontDataByFamily(StaticFonts, this.props.data.fontFamily):\r\n                            getFontDataByName(StaticFonts, 'Yekan')}\r\n                        spanStyle={{\r\n                            width: 230,\r\n                            fontSize: 14,\r\n                            border: \"0px solid #cfcfcf\",\r\n                        }}\r\n                        renderer={(fontData) => {\r\n                            let isRtlStyle = fontData.isRtl ? {justifyContent: \"flex-end\"}: {}\r\n                            return (\r\n                                <div className=\"TextEditorThemeRendererRoot\" style={isRtlStyle} >\r\n                                            <span style={{\r\n                                                fontFamily: fontData.fontFamily\r\n                                            }}>\r\n                                                {fontData.display}\r\n                                            </span>\r\n                                </div>\r\n                            )\r\n                        }}\r\n                        valueRenderer={(fontData) => {\r\n                            return (\r\n                                <span style={{\r\n                                    fontFamily: fontData.fontFamily\r\n                                }}>\r\n                                            {fontData.display}\r\n                                        </span>\r\n                            )\r\n                        }}\r\n                    />\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Font size</p>\r\n                    <FontSizeSelector2\r\n                        ref={this.fontSizeSelectorRef}\r\n                        style={{\r\n                            paddingLeft: 4,\r\n                            border: \"1px solid rgb(198, 198, 198)\",\r\n                            height: 36,\r\n                            borderRadius: 4\r\n                        }}\r\n                        fontSize={this.props.data.fontSize || \"14\"}\r\n                        onChange={(value) => {\r\n                            this.props.onDesignChange(this.props.designKey + '.fontSize', value);\r\n                        }}\r\n                    />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport Background from \"../../Containers/Menus/Components/Background\";\r\nimport Border from \"../../Containers/Menus/Components/Border\";\r\nimport Corners from \"../../Containers/Menus/Components/Corners\";\r\nimport Shadow from \"../../Containers/Menus/Components/Shadow\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\nimport ColorAdjustment from \"../../../Menus/CommonMenus/ColorAdjustment\";\r\nimport ButtonTextAppearance from \"../../Button/Menus/ButtonTextAppearance\";\r\nimport ButtonTextLayout from \"../../Button/Menus/ButtonTextLayout\";\r\nimport MenuItemTextAppearance from \"./MenuItemTextAppearance\";\r\n\r\nexport default class MenuItemTextDesign extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n\r\n\r\n    getIndex = (stateName) => {\r\n        let index = [];\r\n        index.push(\r\n            {\r\n                key: \"Text Appearance\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/text.svg'} />\r\n            });\r\n\r\n        return index;\r\n    };\r\n\r\n    getOptions = (stateName) => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        let options = [];\r\n\r\n        options.push({\r\n            key: \"Text Appearance\",\r\n            render: <MenuItemTextAppearance\r\n                data={design.spanData || {}}\r\n                designKey={`design.spanData`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n\r\n        return options;\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle=\"Text Design\"\r\n                {...this.props}\r\n                item={this.props.item}\r\n                defaultIndexNo={0}\r\n                index={this.getIndex()}\r\n                options={this.getOptions()}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport '../../../Menus/Menu.css';\r\nimport Divider from \"../../../Menus/CommonComponents/Divider\";\r\nimport StaticFonts from \"../../Text/Fonts/StaticFonts.json\";\r\nimport {getFontDataByFamily, getFontDataByName} from \"../../Text/TextHelper\";\r\nimport DropDown from \"../../../Menus/CommonComponents/DropDown\";\r\nimport FontSizeSelector2 from \"../../Button/Menus/FontSizeSelector2\";\r\nimport IconButton from \"../../../HelperComponents/IconButton\";\r\nimport Switch from \"@material-ui/core/Switch/Switch\";\r\nimport {inputCopyPasteHandler} from \"../../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class MenuLayoutAppearance extends React.Component {\r\n    changeMoreText = () => {\r\n        this.props.onDesignChange(this.props.designKey + '.moreText', this.tempMoreText);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <div className=\"MenuOptionSection\">\r\n                    <p className=\"MenuOptionSectionTitle\">Text alignment</p>\r\n\r\n                    <div className=\"ButtonTextLayoutAlignRoot\">\r\n                        <IconButton\r\n                            buttonBaseStyle={{\r\n                                marginRight: 4,\r\n                                marginLeft: 4,\r\n                            }}\r\n                            imageContainerStyle={{\r\n                                padding: 6\r\n                            }}\r\n                            onClick={(e) => {\r\n                                this.props.onDesignChange(this.props.designKey + '.textAlign', \"flex-start\");\r\n                            }}\r\n                            className=\"InspectorAlignsButtons\"\r\n                            selected={this.props.data.textAlign === \"flex-start\"}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={16}\r\n                                height={16}\r\n                                src={require('../../../icons/align-left.svg')}\r\n                            />\r\n                        </IconButton>\r\n                        <IconButton\r\n                            buttonBaseStyle={{\r\n                                marginRight: 4,\r\n                                marginLeft: 4,\r\n                            }}\r\n                            imageContainerStyle={{\r\n                                padding: 6\r\n                            }}\r\n                            onClick={(e) => {\r\n                                this.props.onDesignChange(this.props.designKey + '.textAlign', \"center\");\r\n                            }}\r\n                            className=\"InspectorAlignsButtons\"\r\n                            selected={this.props.data.textAlign === \"center\" || !this.props.data.textAlign}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={16}\r\n                                height={16}\r\n                                src={require('../../../icons/align-center.svg')}\r\n                            />\r\n                        </IconButton>\r\n                        <IconButton\r\n                            buttonBaseStyle={{\r\n                                marginRight: 4,\r\n                                marginLeft: 4,\r\n                            }}\r\n                            imageContainerStyle={{\r\n                                padding: 6\r\n                            }}\r\n                            onClick={(e) => {\r\n                                this.props.onDesignChange(this.props.designKey + '.textAlign', \"flex-end\");\r\n                            }}\r\n                            className=\"InspectorAlignsButtons\"\r\n                            selected={this.props.data.textAlign === \"flex-end\"}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={16}\r\n                                height={16}\r\n                                src={require('../../../icons/align-right.svg')}\r\n                            />\r\n                        </IconButton>\r\n                    </div>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <div style={{display: \"flex\", alignItems: \"center\"}}>\r\n                        <p\r\n                            className=\"MenuOptionSectionTitle\"\r\n                            style={{marginBottom: 4}}\r\n                        >\r\n                            Items has same size?\r\n                        </p>\r\n                        <Switch\r\n                            className=\"InspectorOverflowDirSwitch\"\r\n                            checked={this.props.data.sameSize}\r\n                            onChange={(e) => {\r\n                                this.props.onDesignChange(`${this.props.designKey}.sameSize`, e.target.checked);\r\n                            }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <div style={{display: \"flex\", alignItems: \"center\"}}>\r\n                        <p\r\n                            className=\"MenuOptionSectionTitle\"\r\n                            style={{marginBottom: 4}}\r\n                        >\r\n                            Items fill whole menu width?\r\n                        </p>\r\n                        <Switch\r\n                            className=\"InspectorOverflowDirSwitch\"\r\n                            checked={this.props.data.fillNav}\r\n                            onChange={(e) => {\r\n                                this.props.onDesignChange(`${this.props.designKey}.fillNav`, e.target.checked);\r\n                            }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                {\r\n                    !this.props.data.fillNav &&\r\n                    <>\r\n                        <div className=\"MenuOptionSection\">\r\n                            <p className=\"MenuOptionSectionTitle\">How are items aligned?</p>\r\n\r\n                            <div className=\"ButtonTextLayoutAlignRoot\">\r\n                                <IconButton\r\n                                    buttonBaseStyle={{\r\n                                        marginRight: 4,\r\n                                        marginLeft: 4,\r\n                                    }}\r\n                                    imageContainerStyle={{\r\n                                        padding: 6\r\n                                    }}\r\n                                    onClick={(e) => {\r\n                                        this.props.onDesignChange(this.props.designKey + '.justifyContent', \"flex-start\");\r\n                                    }}\r\n                                    className=\"InspectorAlignsButtons\"\r\n                                    selected={this.props.data.justifyContent === \"flex-start\"}\r\n                                >\r\n                                    <img\r\n                                        draggable={false}\r\n                                        width={16}\r\n                                        height={16}\r\n                                        src={require('../../../icons/align-left.svg')}\r\n                                    />\r\n                                </IconButton>\r\n                                <IconButton\r\n                                    buttonBaseStyle={{\r\n                                        marginRight: 4,\r\n                                        marginLeft: 4,\r\n                                    }}\r\n                                    imageContainerStyle={{\r\n                                        padding: 6\r\n                                    }}\r\n                                    onClick={(e) => {\r\n                                        this.props.onDesignChange(this.props.designKey + '.justifyContent', \"center\");\r\n                                    }}\r\n                                    className=\"InspectorAlignsButtons\"\r\n                                    selected={this.props.data.justifyContent === \"center\" || !this.props.data.justifyContent}\r\n                                >\r\n                                    <img\r\n                                        draggable={false}\r\n                                        width={16}\r\n                                        height={16}\r\n                                        src={require('../../../icons/align-center.svg')}\r\n                                    />\r\n                                </IconButton>\r\n                                <IconButton\r\n                                    buttonBaseStyle={{\r\n                                        marginRight: 4,\r\n                                        marginLeft: 4,\r\n                                    }}\r\n                                    imageContainerStyle={{\r\n                                        padding: 6\r\n                                    }}\r\n                                    onClick={(e) => {\r\n                                        this.props.onDesignChange(this.props.designKey + '.justifyContent', \"flex-end\");\r\n                                    }}\r\n                                    className=\"InspectorAlignsButtons\"\r\n                                    selected={this.props.data.justifyContent === \"flex-end\"}\r\n                                >\r\n                                    <img\r\n                                        draggable={false}\r\n                                        width={16}\r\n                                        height={16}\r\n                                        src={require('../../../icons/align-right.svg')}\r\n                                    />\r\n                                </IconButton>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <Divider/>\r\n                    </>\r\n                }\r\n\r\n                <div className=\"MenuOptionSection\">\r\n                    <div style={{display: \"flex\", alignItems: \"center\"}}>\r\n                        <p\r\n                            className=\"MenuOptionSectionTitle\"\r\n                            style={{marginBottom: 4}}\r\n                        >\r\n                            Display items reversed? (Right to left)\r\n                        </p>\r\n                        <Switch\r\n                            className=\"InspectorOverflowDirSwitch\"\r\n                            checked={this.props.data.rtl}\r\n                            onChange={(e) => {\r\n                                this.props.onDesignChange(`${this.props.designKey}.rtl`, e.target.checked);\r\n                            }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <Divider/>\r\n\r\n                <div className=\"MenuOptionSection\"\r\n                    style={{\r\n                        marginBottom: 12\r\n                    }}\r\n                >\r\n                    <p className=\"MenuOptionSectionTitle\">Text for hide items menu</p>\r\n\r\n                    <input\r\n                        defaultValue={this.props.data.moreText || \"\"}\r\n                        className=\"NumberInput PageManagerRenameInput PageInfoNameInput\"\r\n                        type=\"text\"\r\n                        onChange={(e) => {this.tempMoreText = e.target.value;}}\r\n                        onBlur={this.changeMoreText}\r\n                        onKeyDown={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.changeMoreText()\r\n                            }\r\n                            inputCopyPasteHandler(e);\r\n                        }}\r\n                    >\r\n                    </input>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport Background from \"../../Containers/Menus/Components/Background\";\r\nimport Border from \"../../Containers/Menus/Components/Border\";\r\nimport Corners from \"../../Containers/Menus/Components/Corners\";\r\nimport Shadow from \"../../Containers/Menus/Components/Shadow\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\nimport ColorAdjustment from \"../../../Menus/CommonMenus/ColorAdjustment\";\r\nimport ButtonTextAppearance from \"../../Button/Menus/ButtonTextAppearance\";\r\nimport ButtonTextLayout from \"../../Button/Menus/ButtonTextLayout\";\r\nimport MenuItemTextAppearance from \"./MenuItemTextAppearance\";\r\nimport MenuLayoutAppearance from \"./MenuLayoutAppearance\";\r\n\r\nexport default class MenuLayoutDesign extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n\r\n\r\n    getIndex = (stateName) => {\r\n        let index = [];\r\n        index.push(\r\n            {\r\n                key: \"Layout Appearance\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/layout.svg'} />\r\n            });\r\n\r\n        return index;\r\n    };\r\n\r\n    getOptions = (stateName) => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        let options = [];\r\n\r\n        options.push({\r\n            key: \"Layout Appearance\",\r\n            render: <MenuLayoutAppearance\r\n                data={design.menuData || {}}\r\n                designKey={`design.menuData`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n\r\n        return options;\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle=\"Menu Layout Design\"\r\n                {...this.props}\r\n                item={this.props.item}\r\n                defaultIndexNo={0}\r\n                index={this.getIndex()}\r\n                options={this.getOptions()}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport MenuBase from \"../../../Menus/MenuBase/MenuBase\";\r\nimport Background from \"../../Containers/Menus/Components/Background\";\r\nimport Border from \"../../Containers/Menus/Components/Border\";\r\nimport Corners from \"../../Containers/Menus/Components/Corners\";\r\nimport Shadow from \"../../Containers/Menus/Components/Shadow\";\r\nimport {getCompositeDesignData} from \"../../../AwesomwGridLayoutHelper\";\r\nimport ColorAdjustment from \"../../../Menus/CommonMenus/ColorAdjustment\";\r\n\r\nexport default class MenuDropDownDesign extends React.Component {\r\n    componentDidMount () {\r\n        this.props.item && this.props.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n        this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n    }\r\n\r\n    shouldComponentUpdate (nextProps, nextState, nextContext) {\r\n        nextProps.item && nextProps.item.onPropsChange.addListener(this.onItemPropsChange);\r\n        if (this.props.item && (nextProps.item && nextProps.item.props.id) !== this.props.item.props.id)\r\n            this.props.item && this.props.item.onPropsChange.removeListener(this.onItemPropsChange);\r\n        return true;\r\n    }\r\n\r\n    onItemPropsChange = (owner) => {\r\n        this.setState({reload: true});\r\n    };\r\n\r\n    getIndex = (stateName) => {\r\n        let index = [];\r\n        index.push(\r\n            {\r\n                key: \"Fill Color & Opacity\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/water.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Border\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/border.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Corner\",\r\n                icon: <img draggable={false} width={16} height={16}\r\n                           src={process.env.PUBLIC_URL + '/static/icon/corner.svg'} />\r\n            });\r\n        index.push(\r\n            {\r\n                key: \"Shadow\",\r\n                icon: <svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" className=\"symbol symbol-shadowDesign\">\r\n                    <path fillRule=\"evenodd\"\r\n                          d=\"M11.5 14.5h-8v-2h8c.55 0 1-.45 1-1v-9h2v9c0 1.65-1.35 3-3 3zm-3-4h-7c-1.1 0-2-.9-2-2v-7c0-1.1.9-2 2-2h7c1.1 0 2 .9 2 2v7c0 1.1-.9 2-2 2z\"/>\r\n                </svg>\r\n            });\r\n\r\n        return index;\r\n    };\r\n\r\n    getOptions = (stateName) => {\r\n        let design = getCompositeDesignData(this.props.item);\r\n        let options = [];\r\n\r\n        if (!design.dropDown) design.dropDown = {};\r\n\r\n        options.push({\r\n            key: \"Fill Color & Opacity\",\r\n            render: <Background\r\n                color={design.dropDown.fillColor}\r\n                designKey={`design.dropDown.fillColor`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Border\",\r\n            render: <Border\r\n                border={design.dropDown.border || {}}\r\n                designKey={`design.dropDown.border`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Corner\",\r\n            render: <Corners\r\n                radius={design.dropDown.border.radius || {}}\r\n                designKey={`design.dropDown.border.radius`}\r\n                onDesignChange={this.props.onDesignChange}\r\n            />\r\n        });\r\n        options.push({\r\n            key: \"Shadow\",\r\n            render: <Shadow\r\n                shadow={design.dropDown.border.shadow || {}}\r\n                designKey={`design.dropDown.border.shadow`}\r\n                onDesignChange={this.props.onDesignChange}\r\n                editor={this.props.item.props.editor}\r\n            />\r\n        });\r\n\r\n        return options;\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <MenuBase\r\n                menuTitle=\"Menu Dropdown Design\"\r\n                {...this.props}\r\n                item={this.props.item}\r\n                defaultIndexNo={0}\r\n                index={this.getIndex()}\r\n                options={this.getOptions()}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport '../../HelperStyle.css';\r\nimport './HorizontalMenu.css';\r\nimport {\r\n    getCompositeDesignData,\r\n    parseColor,\r\n    resolveDesignData,\r\n} from \"../../AwesomwGridLayoutHelper\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport MenuButton from \"../../Menus/MenuBase/MenuButton\";\r\nimport {getFontDataByName, getRandomLinkId} from \"../Text/TextHelper\";\r\nimport throttle from \"lodash.throttle\";\r\nimport {cloneObject} from \"../../AwesomeGridLayoutUtils\";\r\nimport HorizontalMenuItem from \"./HorizontalMenuItem\";\r\nimport {debounce} from \"@material-ui/core\";\r\nimport SelectMenu from \"./SelectMenu\";\r\nimport StaticFonts from \"../Text/Fonts/StaticFonts.json\";\r\nimport MenuItemDesign from \"./Menus/MenuItemDesign\";\r\nimport MenuItemTextDesign from \"./Menus/MenuItemTextDesign\";\r\nimport MenuLayoutDesign from \"./Menus/MenuLayoutDesign\";\r\nimport MenuDropDownDesign from \"./Menus/MenuDropDownDesign\";\r\n\r\nexport default class HorizontalMenu extends AGLComponent{\r\n    static contextType = EditorContext;\r\n    constructor (props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            itemInMore: 0\r\n        };\r\n\r\n        this.rootBorderRef = React.createRef();\r\n        this.ulId = getRandomLinkId(6);\r\n        this.navId = getRandomLinkId(6);\r\n        this.moreId = getRandomLinkId(6);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fitMenuItems();\r\n    }\r\n\r\n    resolveDesignData = () => {\r\n        resolveDesignData(this, \"menuData\", {\r\n            menuId: \"default\",\r\n            fillNav: true,\r\n            sameSize: true,\r\n            textAlign: \"center\",\r\n            justifyContent: \"center\",\r\n            rtl: false,\r\n            moreText: \"More\"\r\n        });\r\n        resolveDesignData(this, \"paintData\", {border: {shadow: {\r\n                    xOffset: -1,\r\n                    yOffset: 1,\r\n                    distance: 1,\r\n                    size: 0,\r\n                    blur: 4\r\n                }, radius: {}}, textColor: \"#000000\"});\r\n        resolveDesignData(this, \"dropDown\", {border: {shadow: {\r\n                    xOffset: -1,\r\n                    yOffset: 1,\r\n                    distance: 1,\r\n                    size: 0,\r\n                    blur: 4\r\n                }, radius: {}}});\r\n        resolveDesignData(this, \"normal\", {border: {shadow: {\r\n                    xOffset: -1,\r\n                    yOffset: 1,\r\n                    distance: 1,\r\n                    size: 0,\r\n                    blur: 4\r\n                }, radius: {}}, textColor: \"#000000\"});\r\n        resolveDesignData(this, \"hover\", {border: {shadow: {\r\n                    xOffset: -1,\r\n                    yOffset: 1,\r\n                    distance: 1,\r\n                    size: 5,\r\n                    blur: 4\r\n                }, radius: {}}, textColor: \"#000000\"});\r\n        resolveDesignData(this, \"select\", {border: {shadow: {\r\n                    xOffset: -1,\r\n                    yOffset: 1,\r\n                    distance: 1,\r\n                    size: 5,\r\n                    blur: 4\r\n                }, radius: {}}, textColor: \"#000000\"});\r\n    };\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            bpData: {\r\n                overflowData: {\r\n                    state: \"show\"\r\n                }\r\n            }\r\n        };\r\n    };\r\n\r\n    getPrimaryOptions = () => {\r\n        this.resolveDesignData();\r\n\r\n        return [\r\n            <MenuButton\r\n                key={2}\r\n                icon={<span className=\"MenuButtonLabelSpan\">Change Menu</span>}\r\n                onClick={(e) => {\r\n                    let menuData = getCompositeDesignData(this).menuData;\r\n                    this.context.showModal(<\r\n                            SelectMenu\r\n                            open={true}\r\n                            onClose={() => {this.context.hideModal()}}\r\n                            onDone={(menuId) => {\r\n                                this.onDesignChange(\"design.menuData.menuId\", menuId);\r\n                            }}\r\n                            menuId={menuData.menuId}\r\n                        />\r\n                    );\r\n                }}\r\n            />,\r\n            <MenuButton\r\n                key={1111}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/dropdownwhite.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Drop Down Design\"\r\n                menu={(e) =>\r\n                    <MenuDropDownDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                        onStateChange={this.onStateChange}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={12}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/layoutwhite.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Layout Design\"\r\n                menu={(e) =>\r\n                    <MenuLayoutDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                        onStateChange={this.onStateChange}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={0}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/textwhite.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Text Design\"\r\n                menu={(e) =>\r\n                    <MenuItemTextDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                        onStateChange={this.onStateChange}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={1}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/paint.svg')} /> }\r\n                select={this.props.select}\r\n                title=\"Buttons Design\"\r\n                menu={(e) =>\r\n                    <MenuItemDesign\r\n                        defaultPosition={{\r\n                            x: e.clientX + 48 || 48,\r\n                            y: e.clientY + 48 || 48\r\n                        }}\r\n                        onDesignChange={this.onDesignChange}\r\n                        select={this.props.select}\r\n                        item={this.getAgl()}\r\n                        onStateChange={this.onStateChange}\r\n                    />\r\n                }\r\n            />,\r\n            <MenuButton\r\n                key={33}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/savewhite.svg'} /> }\r\n                select={this.props.select}\r\n                hide={this.context.user.role === \"user\"}\r\n                title=\"Copy Data\"\r\n                onClick={(e) => {\r\n                    this.showComponentCode();\r\n                }}\r\n            />\r\n        ]\r\n    };\r\n\r\n    updateDesign = (compositeDesign) => {\r\n        this.fitMenuItems();\r\n    };\r\n\r\n    getMenu = () => {\r\n        let {menuId} = getCompositeDesignData(this).menuData;\r\n        return this.context.siteData.menus.find(m => m.id === menuId);\r\n    }\r\n\r\n    onInvalidateSize = throttle((runtimeStyle, force) => {\r\n        if (!this.getAgl())\r\n            return;\r\n\r\n        let compRect = runtimeStyle? runtimeStyle: this.getAgl().getSize();\r\n        if (force ||!this.lastSize || compRect.width !== this.lastSize.width)\r\n            this.fitMenuItems(runtimeStyle);\r\n    }, 100);\r\n\r\n    showItems = debounce((size) => {\r\n        let ulNode = document.getElementById(this.ulId);\r\n        if (!ulNode)\r\n            return;\r\n\r\n        ulNode.style.visibility = \"visible\";\r\n        // this.setState({ulVisibility: \"visible\"});\r\n\r\n        if (!this.fitting)\r\n            this.lastSize = size;\r\n    }, 200);\r\n\r\n    fitMenuItems = (runtimeStyle, itemAddedInMore) => {\r\n        let menu = this.getMenu();\r\n        let menuData = getCompositeDesignData(this).menuData;\r\n\r\n        let ulNode = document.getElementById(this.ulId);\r\n        let navNode = document.getElementById(this.navId);\r\n\r\n        if (!navNode || !this.getAgl() || !ulNode)\r\n            return;\r\n\r\n        this.fitting = true;\r\n\r\n        navNode.style[\"justify-content\"] = \"flex-start\";\r\n        ulNode.style.visibility = \"hidden\";\r\n        // this.setState({ulVisibility: \"hidden\"});\r\n\r\n        let maxLiNodeWidth = 0;\r\n        ulNode.childNodes.forEach(liNode => {\r\n            liNode.style[\"flex-grow\"] = \"unset\";\r\n            liNode.style[\"width\"] = \"auto\";\r\n            let w = liNode.getBoundingClientRect().width;\r\n            if (maxLiNodeWidth < w)\r\n                maxLiNodeWidth = w;\r\n        });\r\n\r\n        let ulRect = ulNode.getBoundingClientRect();\r\n        let compRect = runtimeStyle? runtimeStyle: this.getAgl().getSize();\r\n\r\n        let compareWidth = menuData.sameSize ? maxLiNodeWidth * ulNode.childNodes.length : ulRect.width;\r\n        if (compareWidth > compRect.width) {\r\n            if (this.state.itemInMore === menu.menuItems.length) {\r\n                this.fitting = false;\r\n                return;\r\n            }\r\n            this.setState({itemInMore: this.state.itemInMore + 1}, () => {\r\n                this.fitMenuItems(runtimeStyle,true);\r\n            })\r\n        } else {\r\n            if (this.state.itemInMore > 0 && !itemAddedInMore) {\r\n                this.setState({itemInMore: this.state.itemInMore - 1}, () => {\r\n                    // this.onInvalidateSize(runtimeStyle);\r\n                    this.fitMenuItems(runtimeStyle);\r\n                })\r\n                return;\r\n            } else {\r\n                this.fitting = false;\r\n            }\r\n\r\n            if(menuData.fillNav) {\r\n                let sum = 0;\r\n                let childNodes = [];\r\n                ulNode.childNodes.forEach(liNode => {\r\n                    let data = {\r\n                        liNode: liNode,\r\n                        width: menuData.sameSize? maxLiNodeWidth : liNode.getBoundingClientRect().width\r\n                    };\r\n                    childNodes.push(data);\r\n                    sum += data.width;\r\n                });\r\n\r\n                childNodes.forEach(liNodeData => {\r\n                    let newWidth = liNodeData.width * compRect.width / sum;\r\n                    liNodeData.liNode.style[\"width\"] = newWidth + \"px\";\r\n                });\r\n\r\n                navNode.style[\"justify-content\"] = \"center\";\r\n            }\r\n        }\r\n        navNode.style[\"justify-content\"] = menuData.justifyContent || \"center\";\r\n\r\n        this.showItems(runtimeStyle || compRect);\r\n    }\r\n\r\n    getMenuItemStyle = (state) => {\r\n        let menuData = getCompositeDesignData(this).menuData;\r\n        let spanData = getCompositeDesignData(this).spanData || {};\r\n        let data = getCompositeDesignData(this)[state] || {};\r\n\r\n        let textColor = data.textColor;\r\n        if (textColor)\r\n            textColor = parseColor(textColor, textColor.alpha, this.context);\r\n\r\n        let border = data.border || {};\r\n        let fillColor = data.fillColor;\r\n        if (fillColor)\r\n            fillColor = parseColor(fillColor, fillColor.alpha, this.context);\r\n\r\n        border.radius = border.radius || {};\r\n\r\n        let borderColor = border.color;\r\n        if (borderColor)\r\n            borderColor = parseColor(borderColor, borderColor.alpha, this.context);\r\n\r\n        return {\r\n            justifyContent: menuData.textAlign,\r\n            border:\r\n                `${border.width || 0}px solid ${borderColor || 'rgba(0,0,0,0)'}`,\r\n            backgroundColor: fillColor,\r\n            borderRadius:\r\n                `${border.radius.topLeft || 0}px ${border.radius.topRight || 0}px ${border.radius.bottomRight || 0}px ${border.radius.bottomLeft || 0}px`,\r\n            color: textColor || \"#000000\",\r\n            fontFamily: spanData.fontFamily || getFontDataByName(StaticFonts, \"Yekan\").fontFamily,\r\n            fontSize: `${spanData.fontSize}px`,\r\n        };\r\n    }\r\n    getDropDownItemStyle = (state) => {\r\n        let menuData = getCompositeDesignData(this).menuData;\r\n        let spanData = getCompositeDesignData(this).spanData || {};\r\n        let data = getCompositeDesignData(this)[state] || {};\r\n\r\n        let textColor = data.textColor;\r\n        if (textColor)\r\n            textColor = parseColor(textColor, textColor.alpha, this.context);\r\n\r\n        let fillColor = data.fillColor;\r\n        if (fillColor)\r\n            fillColor = parseColor(fillColor, fillColor.alpha, this.context);\r\n\r\n        return {\r\n            justifyContent: menuData.textAlign,\r\n            backgroundColor: fillColor,\r\n            color: textColor || \"#000000\",\r\n            fontFamily: spanData.fontFamily || getFontDataByName(StaticFonts, \"Yekan\").fontFamily,\r\n            fontSize: `${spanData.fontSize}px`,\r\n        };\r\n    }\r\n\r\n    getDropDownStyle = () => {\r\n        let data = getCompositeDesignData(this).dropDown;\r\n\r\n        let border = data.border || {};\r\n        let fillColor = data.fillColor;\r\n        if (fillColor)\r\n            fillColor = parseColor(fillColor, fillColor.alpha, this.context);\r\n\r\n        border.radius = border.radius || {};\r\n        border.shadow = border.shadow || {};\r\n\r\n        let shadowColor = border.shadow.color;\r\n        if (shadowColor)\r\n            shadowColor = parseColor(shadowColor, shadowColor.alpha, this.context);\r\n        let borderColor = border.color;\r\n        if (borderColor)\r\n            borderColor = parseColor(borderColor, borderColor.alpha, this.context);\r\n        return {\r\n            border:\r\n                `${border.width || 0}px solid ${borderColor || 'rgba(0,0,0,0)'}`,\r\n            backgroundColor: fillColor,\r\n            borderRadius:\r\n                `${border.radius.topLeft || 0}px ${border.radius.topRight || 0}px ${border.radius.bottomRight || 0}px ${border.radius.bottomLeft || 0}px`,\r\n            boxShadow: `${(border.shadow.xOffset) * (border.shadow.distance)}px ${(border.shadow.yOffset) * (border.shadow.distance)}px ${border.shadow.blur}px ${border.shadow.size}px ${shadowColor || 'rgba(0,0,0,0)'}`,\r\n        }\r\n    }\r\n    getStaticChildren = () => {\r\n        this.resolveDesignData();\r\n\r\n        let menuData = getCompositeDesignData(this).menuData;\r\n\r\n        let menu = this.getMenu();\r\n        let menuItems = cloneObject(menu.menuItems);\r\n        if (menuData.rtl) {\r\n            menuItems.reverse();\r\n            menuItems = menuItems.slice(this.state.itemInMore, menuItems.length);\r\n        } else {\r\n            menuItems = menuItems.slice(0, menuItems.length - this.state.itemInMore);\r\n        }\r\n\r\n        let moreItems = cloneObject(menu.menuItems);\r\n        if (menuData.rtl) {\r\n            moreItems.reverse();\r\n            moreItems = moreItems.slice(0, this.state.itemInMore);\r\n        } else {\r\n            moreItems = moreItems.slice(moreItems.length - this.state.itemInMore, moreItems.length);\r\n        }\r\n\r\n        return <nav\r\n            className=\"HorizontalMenuNavRoot\"\r\n            ref={this.rootBorderRef}\r\n            id={this.navId}\r\n            style={{\r\n                justifyContent: menuData.justifyContent || \"center\"\r\n            }}\r\n        >\r\n            <ul\r\n                className=\"HorizontalMenuUL\"\r\n                id={this.ulId}\r\n                style={{\r\n                    // visibility: this.state.ulVisibility\r\n                }}\r\n            >\r\n                {\r\n                    this.state.itemInMore > 0 && menuData.rtl &&\r\n                    <HorizontalMenuItem\r\n                        moreId={this.moreId}\r\n                        className=\"HorizontalMenuLI\"\r\n                        dropDownClassName=\"HorizontalMenuDropDownUL\"\r\n                        dropDownItemClassName=\"HorizontalMenuDropDownLI\"\r\n                        dropDownStyle={this.getDropDownStyle()}\r\n                        getDropDownItemStyle={this.getDropDownItemStyle}\r\n                        getMenuItemStyle={this.getMenuItemStyle}\r\n                        menuItem={{\r\n                            name: menuData.moreText,\r\n                            menuItems: moreItems\r\n                        }}\r\n                        dropDownOnHover\r\n                        state={this.state.menuItemState}\r\n                    />\r\n                }\r\n                {\r\n                    menuItems.map(mi => {\r\n                        return (\r\n                            <HorizontalMenuItem\r\n                                key={mi.id}\r\n                                className=\"HorizontalMenuLI\"\r\n                                dropDownClassName=\"HorizontalMenuDropDownUL\"\r\n                                dropDownItemClassName=\"HorizontalMenuDropDownLI\"\r\n                                dropDownStyle={this.getDropDownStyle()}\r\n                                getDropDownItemStyle={this.getDropDownItemStyle}\r\n                                getMenuItemStyle={this.getMenuItemStyle}\r\n                                menuItem={mi}\r\n                                dropDownOnHover\r\n                                state={this.state.menuItemState}\r\n                            />\r\n                        )\r\n                    })\r\n                }\r\n                {\r\n                    this.state.itemInMore > 0 && !menuData.rtl &&\r\n                    <HorizontalMenuItem\r\n                        moreId={this.moreId}\r\n                        className=\"HorizontalMenuLI\"\r\n                        dropDownClassName=\"HorizontalMenuDropDownUL\"\r\n                        dropDownItemClassName=\"HorizontalMenuDropDownLI\"\r\n                        dropDownStyle={this.getDropDownStyle()}\r\n                        getDropDownItemStyle={this.getDropDownItemStyle}\r\n                        getMenuItemStyle={this.getMenuItemStyle}\r\n                        menuItem={{\r\n                            name: menuData.moreText,\r\n                            menuItems: moreItems\r\n                        }}\r\n                        dropDownOnHover\r\n                        state={this.state.menuItemState}\r\n                    />\r\n                }\r\n            </ul>\r\n        </nav>\r\n    };\r\n\r\n    onStateChange = (stateName) => {\r\n        this.setState({menuItemState: stateName});\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <AGLWrapper\r\n                tagName=\"HorizontalMenu\"\r\n                aglComponent={this}\r\n                {...this.props}\r\n                style={{\r\n                    width: \"400px\",\r\n                    height: \"50px\",\r\n                }}\r\n                data={this.getData()}\r\n                getPrimaryOptions={this.getPrimaryOptions}\r\n                getInspector={this.getInspector}\r\n                getStaticChildren={this.getStaticChildren}\r\n                onInvalidateSize={this.onInvalidateSize}\r\n                onResize={this.onInvalidateSize}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nHorizontalMenu.defaultProps = {\r\n    tagName: \"HorizontalMenu\"\r\n};\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\n\r\nexport default class AdjustmentMove extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.rootDivRef = React.createRef();\r\n    }\r\n\r\n    onMouseDown = (e) => {\r\n        let rect = this.rootDivRef.current.getBoundingClientRect();\r\n        if (this.isLeftClick(e) && e.clientX >= rect.left && e.clientX <= rect.left + rect.width &&\r\n            e.clientY >= rect.top && e.clientY <= rect.top + rect.height) {\r\n            e.stopPropagation();\r\n            this.mouseDown = true;\r\n            window.addEventListener(\"pointermove\", this.onMouseMove);\r\n            window.addEventListener(\"pointerup\", this.onMouseUp);\r\n        }\r\n    };\r\n\r\n    isLeftClick = (e) => {\r\n        if (e.pointerType === \"mouse\" && e.button === 0)\r\n            return true;\r\n\r\n        return false;\r\n    };\r\n\r\n    onMouseMove = (e) => {\r\n        if (!this.mouseDown)\r\n            return;\r\n        e.stopPropagation();\r\n\r\n        if (!this.moving) {\r\n            this.moving = true;\r\n            this.onDragStart(e);\r\n        } else {\r\n            this.onDrag(e);\r\n        }\r\n    };\r\n\r\n    onMouseUp = (e) => {\r\n        if (!this.mouseDown)\r\n            return;\r\n\r\n        this.mouseDown = false;\r\n\r\n        if (this.moving) {\r\n            e.stopPropagation();\r\n            this.onDragStop(e);\r\n        } else {\r\n            if (this.props.onClick)\r\n                this.props.onClick(e);\r\n        }\r\n\r\n        this.moving = false;\r\n\r\n        window.removeEventListener(\"pointermove\", this.onMouseMove);\r\n        window.removeEventListener(\"pointerup\", this.onMouseUp);\r\n    };\r\n\r\n    onDragStart = (e) => {\r\n        this.props.onDragStart(e);\r\n    };\r\n\r\n    onDrag = (e) => {\r\n        this.props.onDrag(e);\r\n    };\r\n\r\n    onDragStop = (e) => {\r\n        if (this.props.onDragStop)\r\n            this.props.onDragStop(e);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <div\r\n                id=\"AdjustmentMove\"\r\n                className=\"AdjustmentMoveRoot\"\r\n                ref={this.rootDivRef}\r\n                onPointerDown={this.onMouseDown}\r\n                style={{\r\n                    cursor: this.props.cursor || \"move\"\r\n                }}\r\n            >\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport \"./StackSpacer.css\";\r\nimport AdjustmentMove from \"../../Adjustment/AdjustmentMove\";\r\n\r\nexport default class StackSpacerResizer extends React.PureComponent{\r\n    render() {\r\n        return (\r\n            <div\r\n                className=\"StackSpacerResizerRoot\"\r\n            >\r\n                <AdjustmentMove\r\n                    onDragStart={this.props.onDragStart}\r\n                    onDrag={this.props.onDrag}\r\n                    onDragStop={this.props.onDragStop}\r\n                    cursor={this.props.cursor}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport \"./StackSpacer.css\";\r\nimport AdjustmentMove from \"../../Adjustment/AdjustmentMove\";\r\nimport StackSpacerResizer from \"./StackSpacerResizer\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class StackSpacer extends React.PureComponent{\r\n    static contextType = EditorContext;\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            pointerEvents: \"auto\"\r\n        }\r\n\r\n        this.id = props.stackId + \"_\" + props.index;\r\n        console.log(\"constructor\", this.id);\r\n        props.idMan.setItem(this.id, this);\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.mounted = false;\r\n    }\r\n\r\n    setPointerEvents = (pointerEvents) => {\r\n        this.mounted && this.setState({pointerEvents});\r\n    };\r\n\r\n    updateSpacerData = (newHeight, firstHeight, fromUndoRedo) => {\r\n        if (!fromUndoRedo) {\r\n            let oldHeight = firstHeight;\r\n            let id = this.id;\r\n            console.log(\"updateSpacerData\", id, newHeight);\r\n            this.props.undoredo.add((idMan) => {\r\n                let spacer = idMan.getItem(id);\r\n                spacer.updateSpacerData(newHeight, undefined, true);\r\n            }, (idMan) => {\r\n                console.log(\"updateSpacerData back\", id, oldHeight);\r\n                let spacer = idMan.getItem(id);\r\n                spacer.updateSpacerData(oldHeight, undefined, true);\r\n            });\r\n        }\r\n        this.props.spacerData.height = newHeight;\r\n        this.props.onSpacerUpdate(this.props.spacerData, this.props.index);\r\n        this.props.stack.props.select.updateSize();\r\n        this.forceUpdate();\r\n    };\r\n\r\n    onClick = (e) => {\r\n        this.props.aglRef.current.onSelect(true);\r\n    };\r\n\r\n    onDragStart = (e) => {\r\n        if (this.props.onDragStart)\r\n            this.props.onDragStart(e);\r\n\r\n        this.dragData = {\r\n            lastMouseX: e.clientX,\r\n            lastMouseY: e.clientY,\r\n            firstHeight: this.props.spacerData.height\r\n        };\r\n    };\r\n\r\n    onDrag = (e) => {\r\n        e.preventDefault();\r\n        let deltaY = (e.clientY - this.dragData.lastMouseY);\r\n        let newHeight = this.dragData.firstHeight + deltaY;\r\n\r\n        newHeight = Math.max(0, newHeight);\r\n        this.updateSpacerData(newHeight, this.dragData.firstHeight, true);\r\n    };\r\n\r\n    onDragStop = (e) => {\r\n        let deltaY = (e.clientY - this.dragData.lastMouseY);\r\n        let newHeight = this.dragData.firstHeight + deltaY;\r\n        newHeight = Math.max(0, newHeight);\r\n        this.updateSpacerData(newHeight, this.dragData.firstHeight);\r\n\r\n        if (this.props.onDragStop)\r\n            this.props.onDragStop(e);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div\r\n                className={this.context.isEditor()? \"StackSpacerRoot\": \"StackSpacerRootNone\"}\r\n                style={{\r\n                    height: `${this.props.spacerData.height}px`,\r\n                    order: this.props.order,\r\n                    pointerEvents: this.state.pointerEvents\r\n                }}\r\n                onClick={this.onClick}\r\n                onMouseOver={this.props.onMouseOver}\r\n                onMouseEnter={this.props.onMouseEnter}\r\n                onMouseOut={this.props.onMouseOut}\r\n            >\r\n\r\n                <StackSpacerResizer\r\n                    onDragStart={this.onDragStart}\r\n                    onDrag={this.onDrag}\r\n                    onDragStop={this.onDragStop}\r\n                    cursor={\"ns-resize\"}\r\n                />\r\n\r\n                {\r\n                    this.props.aglRef.current.getSize(false).width > 150 &&\r\n                    <p\r\n                        className=\"StackSpacerText\"\r\n                    >\r\n                        Spacer\r\n                    </p>\r\n                }\r\n\r\n                <p\r\n                    className=\"StackSpacerSizeText\"\r\n                >\r\n                    {`${this.props.spacerData.height.toFixed(0)}px`}\r\n                </p>\r\n\r\n                <AdjustmentMove\r\n                    onDragStart={this.onDragStart}\r\n                    onDrag={this.onDrag}\r\n                    onDragStop={this.onDragStop}\r\n                    onClick={this.onClick}\r\n                    cursor={\"ns-resize\"}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport Portal from \"../../Portal\";\r\n\r\nexport default class StackSpacerContainer extends React.PureComponent{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            spacers: []\r\n        };\r\n    }\r\n\r\n    updateSpacers = (spacers) => {\r\n        setTimeout(() => {\r\n            this.setState({spacers});\r\n        }, 0);\r\n    };\r\n\r\n    updateDummy = (dummy) => {\r\n        this.setState({dummy});\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {\r\n                    this.state.spacers.map((spacer, index) => {\r\n                        return <Portal nodeId={`${this.props.aglRef.current.props.id}_container`}\r\n                                       key={index}\r\n                                       document={this.props.document}\r\n                        >\r\n                            {spacer}\r\n                        </Portal>\r\n                    })\r\n                }\r\n\r\n                {\r\n                    this.state.dummy &&\r\n                        <>\r\n                            <Portal nodeId={`${this.props.aglRef.current.props.id}_container`}\r\n                                    document={this.props.document}\r\n                            >\r\n                                <div\r\n                                    id={\"DUMMYSPACER\"}\r\n                                    style={{\r\n                                        ...this.state.dummy.gridItemStyle,\r\n                                        ...this.state.dummy.style,\r\n                                        ...this.state.dummy.size,\r\n                                    }}\r\n                                >\r\n\r\n                                </div>\r\n                            </Portal>\r\n                        </>\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport './Stack2.css';\r\nimport StackSpacer from \"./StackSpacer\";\r\nimport StackSpacerContainer from \"./StackSpacerContainer\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport {createStack2, getFromTempData, isStretch, removeStack, setTempData} from \"../../AwesomwGridLayoutHelper\";\r\nimport MenuButton from \"../../Menus/MenuBase/MenuButton\";\r\nimport TextDesign from \"../Button/Menus/TextDesign\";\r\nimport ButtonDesign from \"../Button/Menus/ButtonDesign\";\r\nimport AnimationDesign from \"../Containers/Menus/AnimationDesign\";\r\n\r\nexport default class Stack2 extends AGLComponent{\r\n    static contextType = EditorContext;\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        };\r\n\r\n        this.spacerContainerRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.allSpacerData)\r\n            this.setSpacers(this.props.allSpacerData);\r\n    }\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            isContainer: true,\r\n            containerStyle: {\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                position: \"relative\",\r\n            },\r\n            customStyle: {\r\n                height: \"auto\",\r\n            },\r\n            bpData: {\r\n                overflowData: {\r\n                    state: \"show\"\r\n                }\r\n            }\r\n        };\r\n    };\r\n\r\n    getPrimaryOptions = () => {\r\n        return [\r\n            <MenuButton\r\n                key={0}\r\n                icon={ <img draggable={false} width={16} height={16}\r\n                            src={require('../../icons/unstackwhite.svg')} /> }\r\n                select={this}\r\n                title={\"Unstack\"}\r\n                onClick={(e) => {\r\n                    let childIds = Object.values(this.aglRef.current.allChildRefs).map(child => {\r\n                        if (child && child.current) {\r\n                            return child.current.props.id;\r\n                        } else {\r\n                            return null;\r\n                        }\r\n                    }).filter(id => id !== null);\r\n                    removeStack(this, childIds);\r\n                }}\r\n            />\r\n        ]\r\n    };\r\n\r\n    calculateChildGridItemPost = (agl, child, relativeX, relativeY, parent, width, height, parentRect, fromState, dontAutoDock, result) => {\r\n        if (result.gridItemStyle.justifySelf === \"end\") result.gridItemStyle.alignSelf = \"flex-end\";\r\n        if (result.gridItemStyle.justifySelf === \"start\") result.gridItemStyle.alignSelf = \"flex-start\";\r\n        if (result.gridItemStyle.justifySelf === \"center\") result.gridItemStyle.alignSelf = \"center\";\r\n\r\n        let stackWidth = this.getAgl().getSize(true, true, true).width;\r\n        if (stackWidth < width) {\r\n            let parentSize = this.getAgl().props.parent.getSize(false);\r\n            this.getAgl().setProps(\"width\", width, {\r\n                cx1: 0,\r\n                cx2: parentSize.width,\r\n                cy1: 0,\r\n                cy2: parentSize.height\r\n            })\r\n        }\r\n\r\n        this.resolveOrders(child, result.gridItemStyle, relativeY, width, height);\r\n\r\n        result.gridItemStyle.marginTop = \"unset\";\r\n        result.gridItemStyle.marginBottom = \"unset\";\r\n    }\r\n\r\n    getSpacer = (index, order) => {\r\n        if (!this.getSpacers()) {\r\n            this.setSpacers([]);\r\n        }\r\n        let allSpacers = this.getSpacers();\r\n\r\n        if (!this.allSpacerRef) {\r\n            this.allSpacerRef = [];\r\n        }\r\n\r\n        if (!allSpacers[index]) {\r\n            allSpacers[index] = {\r\n                height: 20\r\n            };\r\n            this.setSpacers(allSpacers);\r\n        }\r\n\r\n        if (!this.allSpacerRef[index]) {\r\n            this.allSpacerRef[index] = React.createRef();\r\n        }\r\n\r\n        return <StackSpacer\r\n            key={index}\r\n            stackId={this.props.id}\r\n            index={index}\r\n            idMan={this.context.editor.idMan}\r\n            undoredo={this.context.editor.undoredo}\r\n            order={order}\r\n            spacerData={allSpacers[index]}\r\n            ref={this.allSpacerRef[index]}\r\n            aglRef={this.aglRef}\r\n            onDragStart={this.onStackDragStart}\r\n            onDragStop={this.onStackDragStop}\r\n            onSpacerUpdate={this.onSpacerUpdate}\r\n            stack={this}\r\n            onMouseOver={this.onMouseOverSpacer}\r\n            onMouseEnter={this.onMouseEnterSpacer}\r\n            onMouseOut={this.onMouseOutSpacer}\r\n        />;\r\n    };\r\n\r\n    setSpacers = (allSpacerData) => {\r\n        this.getAgl().setDataInBreakpoint(\"spacerData\", allSpacerData);\r\n    }\r\n\r\n    onSpacerUpdate = (spacerData, index) => {\r\n        let allSpacers = this.getSpacers();\r\n        if (!allSpacers[index])\r\n            return;\r\n\r\n        allSpacers[index] = spacerData;\r\n\r\n        this.setSpacers(allSpacers);\r\n    }\r\n\r\n    getSpacerData = (index) => {\r\n        if (!this.getSpacers()) {\r\n            this.setSpacers([]);\r\n        }\r\n\r\n        let allSpacers = this.getSpacers();\r\n\r\n        if (!this.allSpacerRef) {\r\n            this.allSpacerRef = [];\r\n        }\r\n\r\n        if (!allSpacers[index]) {\r\n            allSpacers[index] = {\r\n                height: 20\r\n            };\r\n            this.setSpacers(allSpacers);\r\n        }\r\n\r\n        return allSpacers[index];\r\n    };\r\n\r\n    getSpacers = () => {\r\n        return this.getAgl().getCompositeFromData(\"spacerData\");\r\n    };\r\n\r\n    resolveOrders = (child, gridItemStyle, relativeY, width, height) => {\r\n        let sorted = Object.values(this.aglRef.current.allChildRefs).sort((a,b) => {\r\n            if (a && a.current && b && b.current)\r\n            {\r\n                let relativeYA = a.current.getFromData(\"relativeY\");\r\n                let relativeYB = b.current.getFromData(\"relativeY\");\r\n                let pure = false;\r\n                if (relativeYA === undefined || relativeYB === undefined) {\r\n                    relativeYA = a.current.getSize(false, true).top;\r\n                    relativeYB = b.current.getSize(false, true).top;\r\n                    pure = true;\r\n                }\r\n\r\n                if (!pure) {\r\n                    if (child && child.props.id === a.current.props.id && child.state.dragging)\r\n                        relativeYA = relativeY;\r\n                    if (child && child.props.id === b.current.props.id && child.state.dragging)\r\n                        relativeYB = relativeY;\r\n                }\r\n\r\n                if (relativeYA < relativeYB) {\r\n                    return -1;\r\n                } else if (relativeYA === relativeYB) {\r\n                    // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                    return 0;\r\n                }\r\n                return 1;\r\n            } else {\r\n                return 0;\r\n            }\r\n        });\r\n\r\n        let order = 1;\r\n        let relY = 0;\r\n        let spacers = [];\r\n        let length = sorted.filter(childRef => {\r\n            return (childRef && childRef.current);\r\n        }).length;\r\n\r\n        let dummy;\r\n        sorted.forEach((childRef, index) => {\r\n            if (childRef && childRef.current) {\r\n                childRef.current.setStyleParam(\"order\", order);\r\n                childRef.current.setDataInBreakpoint(\"order\", order);\r\n\r\n                if (child && childRef.current.props.id === child.props.id && child.state.dragging) {\r\n                    childRef.current.setDataInBreakpoint(\"relativeY\", relativeY);\r\n                    dummy = {\r\n                        style: childRef.current.getCompositeFromData(\"style\"),\r\n                        gridItemStyle: childRef.current.getCompositeFromData(\"gridItemStyle\"),\r\n                        size: {\r\n                            width: `${width}px`, height: `${height}px`\r\n                        }\r\n                    }\r\n                    relY += height;\r\n                } else {\r\n                    childRef.current.setDataInBreakpoint(\"relativeY\", relY);\r\n                    let size;\r\n                    size = childRef.current.getSize(false);\r\n                    relY += size.height;\r\n                }\r\n\r\n                order++;\r\n\r\n                if (length > index + 1) {\r\n                    spacers[index] = this.getSpacer(index, order);\r\n                    relY+= this.getSpacerData(index).height;\r\n                    order++;\r\n                }\r\n            }\r\n        });\r\n\r\n        this.spacerContainerRef.current.updateSpacers(spacers);\r\n        this.spacerContainerRef.current.updateDummy(dummy);\r\n        setTimeout(() => {\r\n            this.props.select.updateSize();\r\n        }, 0);\r\n    }\r\n\r\n    onMouseOverSpacer = (e) => {\r\n        this.aglRef.current.onMouseOver(e);\r\n    };\r\n\r\n    onMouseEnterSpacer = (e) => {\r\n        this.aglRef.current.onMouseEnter(e);\r\n    };\r\n\r\n    onMouseOutSpacer = (e) => {\r\n        console.log(\"onMouseOutSpacer\");\r\n        this.aglRef.current.onMouseOut(e);\r\n    };\r\n\r\n    onMouseOver = (e) => {\r\n        this.aglRef.current.onMouseOver(e);\r\n    };\r\n\r\n    onMouseOut = (e) => {\r\n        console.log(\"onMouseOut\");\r\n        this.aglRef.current.onMouseOut(e);\r\n    };\r\n\r\n    onChildDragStartOverride = (agl, child, e, group, callGroup) => {\r\n        // window.requestAnimationFrame(() => {\r\n        console.log(\"onChildDragStartOverride\");\r\n        this.onMouseOver(e);\r\n        this.spacerContainerRef.current.updateDummy({\r\n            style: child.getCompositeFromData(\"style\"),\r\n            gridItemStyle: child.getCompositeFromData(\"gridItemStyle\"),\r\n            size: {\r\n                width: `${child.getSize().width}px`, height: `${child.getSize().height}px`\r\n            }\r\n        });\r\n        // })\r\n    }\r\n\r\n    onChildDragOverride = (agl, child, e, group, callGroup) => {\r\n        // window.requestAnimationFrame(() => {\r\n        console.log(\"onChildDragOverride\");\r\n        this.onMouseOver(e);\r\n        // })\r\n    }\r\n\r\n    getStaticChildren = () => {\r\n        return (\r\n            <div\r\n                className=\"StackBorder\"\r\n                onMouseOver={this.onMouseOver}\r\n                onMouseOut={this.onMouseOut}\r\n                style={{\r\n                }}\r\n            >\r\n            </div>\r\n        )\r\n    }\r\n\r\n    onChildLeavePost = (agl, child) => {\r\n        this.resolveOrders();\r\n    };\r\n\r\n    lateMountedPost = (agl) => {\r\n        this.resolveOrders();\r\n    };\r\n\r\n    removeChildElementPost = (agl, childElement) => {\r\n        this.resolveOrders();\r\n    }\r\n\r\n    stretchChildOverride = (child, item) => {\r\n        if (!item.props.parent)\r\n            return;\r\n\r\n        let stretch = false;\r\n        let gridItemStyle = item.getFromData(\"gridItemStyle\");\r\n\r\n\r\n        if (!isStretch(item, true)) {\r\n            stretch = true;\r\n        }\r\n\r\n        gridItemStyle.alignSelf = stretch? \"stretch\": \"center\";\r\n        gridItemStyle.marginLeft = \"0px\";\r\n        gridItemStyle.marginRight = \"0px\";\r\n        item.setStyleParam(\"width\", \"100%\");\r\n\r\n        if (!stretch) {\r\n            item.setStyleParam(\"width\", \"80%\");\r\n        }\r\n\r\n        item.setGridItemStyle(gridItemStyle);\r\n        item.props.select.onScrollItem();\r\n    };\r\n\r\n    isStretchChildOverride = (child, item, log) => {\r\n        if (!item.props.parent)\r\n            return false;\r\n\r\n        let gridItemStyle = item.getFromData(\"gridItemStyle\");\r\n\r\n        return !(gridItemStyle.alignSelf !== \"stretch\" ||\r\n            gridItemStyle.marginLeft !== \"0px\" ||\r\n            gridItemStyle.marginRight !== \"0px\");\r\n    };\r\n\r\n    onBreakpointChangePost = (agl, width, newBreakpointName, devicePixelRatio) => {\r\n        console.log(\"onBreakpointChangePost\");\r\n        this.resolveOrders();\r\n    }\r\n\r\n    render() {\r\n        return [\r\n            <AGLWrapper tagName=\"Stack2\"\r\n                        key=\"Stack2\"\r\n                        aglComponent={this}\r\n                        aglRef={!this.props.aglRef? this.aglRef: this.aglRef = this.props.aglRef}\r\n                        {...this.props}\r\n                        data={this.getData()}\r\n                        style={{...{\r\n                                width: \"auto\",\r\n                        }, ...this.props.style}}\r\n                        isStack={true}\r\n                        resizeSides={['e','w']}\r\n                        getInspector={this.getInspector}\r\n                        getPrimaryOptions={this.getPrimaryOptions}\r\n                        calculateChildGridItemPost={this.calculateChildGridItemPost}\r\n                        calculateGridItemForChildren\r\n                        getStaticChildren={this.getStaticChildren}\r\n                        onChildDragStartOverride={this.onChildDragStartOverride}\r\n                        onChildDragOverride={this.onChildDragOverride}\r\n                        onChildLeavePost={this.onChildLeavePost}\r\n                        lateMountedPost={this.lateMountedPost}\r\n                        removeChildElementPost={this.removeChildElementPost}\r\n                        stretchChildOverride={this.stretchChildOverride}\r\n                        isStretchChildOverride={this.isStretchChildOverride}\r\n                        onBreakpointChangePost={this.onBreakpointChangePost}\r\n\r\n            >\r\n            </AGLWrapper>,\r\n            <StackSpacerContainer ref={this.spacerContainerRef} key=\"spacers\"\r\n                                  aglRef={this.aglRef}\r\n                                  document={this.props.document}\r\n            />\r\n        ]\r\n    }\r\n}\r\n\r\nStack2.defaultProps = {\r\n    tagName: \"Stack2\"\r\n};\r\n","import ContainerBase from \"../Components/Containers/ContainerBase\";\r\nimport Header from \"../Components/Containers/Header\";\r\nimport Footer from \"../Components/Containers/Footer\";\r\nimport PageBase from \"../Components/Pages/PageBase\";\r\nimport Section from \"../Components/Containers/Section\";\r\nimport Stack from \"../Components/Stack/Stack\";\r\nimport VerticalSpacer from \"../Components/Stack/VerticalSpacer\";\r\nimport FadeInAnimation from \"../Test/Animations/FadeInAnimation\";\r\nimport BounceInAnimation from \"../Test/Animations/BounceInAnimation\";\r\nimport GlideInAnimation from \"../Test/Animations/GlideInAnimation\";\r\nimport FloatInAnimation from \"../Test/Animations/FloatInAnimation\";\r\nimport ExpandInAnimation from \"../Test/Animations/ExpandInAnimation\";\r\nimport SpinInAnimation from \"../Test/Animations/SpinInAnimation\";\r\nimport FlyInAnimation from \"../Test/Animations/FlyInAnimation\";\r\nimport TurnInAnimation from \"../Test/Animations/TurnInAnimation\";\r\nimport ArcInAnimation from \"../Test/Animations/ArcInAnimation\";\r\nimport PuffInAnimation from \"../Test/Animations/PuffInAnimation\";\r\nimport FoldInAnimation from \"../Test/Animations/FoldInAnimation\";\r\nimport FlipInAnimation from \"../Test/Animations/FlipInAnimation\";\r\nimport RevealAnimation from \"../Test/Animations/RevealAnimation\";\r\nimport Text from \"../Components/Text/Text\";\r\nimport Button from \"../Components/Button/Button\";\r\nimport Image from \"../Components/Image/Image\";\r\nimport Video from \"../Components/Video/Video\";\r\nimport HorizontalMenu from \"../Components/Menu/HorizontalMenu\";\r\nimport Stack2 from \"../Components/Stack/Stack2\";\r\n\r\nlet DynamicComponents = {};\r\n\r\nexport let initDynamicComponents = () => {\r\n    DynamicComponents[\"ContainerBase\"] = ContainerBase;\r\n    DynamicComponents[\"PageBase\"] = PageBase;\r\n    DynamicComponents[\"Header\"] = Header;\r\n    DynamicComponents[\"Footer\"] = Footer;\r\n    DynamicComponents[\"Section\"] = Section;\r\n    DynamicComponents[\"Stack\"] = Stack;\r\n    DynamicComponents[\"Stack2\"] = Stack2;\r\n    DynamicComponents[\"VerticalSpacer\"] = VerticalSpacer;\r\n    DynamicComponents[\"Text\"] = Text;\r\n    DynamicComponents[\"Button\"] = Button;\r\n    DynamicComponents[\"Image\"] = Image;\r\n    DynamicComponents[\"Video\"] = Video;\r\n    DynamicComponents[\"HorizontalMenu\"] = HorizontalMenu;\r\n};\r\n\r\nexport default DynamicComponents;\r\n\r\nexport let DynamicAnimations = {};\r\n\r\nexport let initDynamicAnimations = () => {\r\n    DynamicAnimations[\"fadeIn\"] = FadeInAnimation;\r\n    DynamicAnimations[\"bounceIn\"] = BounceInAnimation;\r\n    DynamicAnimations[\"glideIn\"] = GlideInAnimation;\r\n    DynamicAnimations[\"floatIn\"] = FloatInAnimation;\r\n    DynamicAnimations[\"expandIn\"] = ExpandInAnimation;\r\n    DynamicAnimations[\"spinIn\"] = SpinInAnimation;\r\n    DynamicAnimations[\"flyIn\"] = FlyInAnimation;\r\n    DynamicAnimations[\"turnIn\"] = TurnInAnimation;\r\n    DynamicAnimations[\"arcIn\"] = ArcInAnimation;\r\n    DynamicAnimations[\"puffIn\"] = PuffInAnimation;\r\n    DynamicAnimations[\"foldIn\"] = FoldInAnimation;\r\n    DynamicAnimations[\"flipIn\"] = FlipInAnimation;\r\n    DynamicAnimations[\"reveal\"] = RevealAnimation;\r\n};\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport classNames from \"classnames\";\r\nimport DynamicComponents from \"../Dynamic/DynamicComponents\";\r\nimport Popper from \"@material-ui/core/Popper/Popper\";\r\nimport '../HelperStyle.css';\r\nimport {EditorContext} from \"../Editor/EditorContext\";\r\n\r\nexport default class AdjustmentPageControllers extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            anchorEl: undefined\r\n        };\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.mounted = false;\r\n    }\r\n\r\n    addSection = (index, isVertical) => {\r\n        let {page} = this.props;\r\n        page.addSectionQueue(index, \"Section\", DynamicComponents, undefined, isVertical);\r\n    };\r\n\r\n    getAnchor = (index) => {\r\n        return  document.getElementById(`page_add_horizontal_${index}`)\r\n    };\r\n\r\n    needUpdate = () => {\r\n        clearTimeout(this.updateTimeout);\r\n        this.updateTimeout = setTimeout(() => {\r\n            if (!this.mounted) {\r\n                clearTimeout(this.updateTimeout);\r\n                return;\r\n            }\r\n            this.forceUpdate();\r\n        }, 500);\r\n    };\r\n\r\n    getXCount = () => {\r\n        let {grid} = this.props;\r\n        return grid.gridTemplateRows.split(\" \").length;\r\n    }\r\n\r\n    getYCount = () => {\r\n        let {grid} = this.props;\r\n        return grid.gridTemplateColumns.split(\" \").length;\r\n    }\r\n\r\n    render () {\r\n        let {grid} = this.props;\r\n        return (\r\n                [\r\n                    new Array(this.getYCount() + 1).fill(0).map((a, index) => {\r\n                        let style = {\r\n                            gridArea: `1/${index}/2/${index + 1}`\r\n                        };\r\n                        index === 0 && (style.justifySelf = \"start\");\r\n                        index === 0 && (style.gridArea = \"1/1/2/2\");\r\n\r\n                        let containerClasses = classNames(\r\n                            \"AdjustmentPageControllersAddSection\",\r\n                            index === 0 && \"AdjustmentPageControllersAddSectionFirst\"\r\n                        );\r\n                        return <div\r\n                            className=\"AdjustmentPageControllersAddSectionContainer\"\r\n                            style={style}\r\n                            key={index}\r\n                        >\r\n                            <div\r\n                                className={containerClasses}\r\n                                onClick={(e) => {\r\n                                    this.addSection(index, true);\r\n                                }}\r\n                            >\r\n                                <img draggable={false} width={8} height={8} src={require('./icons/plus.svg')} />\r\n                            </div>\r\n                        </div>\r\n                    }),\r\n                    new Array(this.getXCount() + 1).fill(0).map((a, index) => {\r\n                        let style = {\r\n                            gridArea: `${index}/1/${index + 1}/2`,\r\n                            pointerEvents: \"auto\"\r\n                        };\r\n                        index === 0 && (style.alignSelf = \"start\");\r\n                        index === 0 && (style.gridArea = \"1/1/2/2\");\r\n\r\n                        let containerClasses = classNames(\r\n                            \"AdjustmentPageControllersAddHorizontalSection\",\r\n                            index === 0 && \"AdjustmentPageControllersAddHorizontalSectionFirst\"\r\n                        );\r\n                        return <div\r\n                            className=\"AdjustmentPageControllersAddHorizontalSectionContainer\"\r\n                            style={style}\r\n                            key={index}\r\n                            id={`page_add_horizontal_${index}`}\r\n                            onClick={(e) => {\r\n                                this.setState({anchorEl: e.currentTarget})\r\n                            }}\r\n                        >\r\n                            {!this.getAnchor(index) && this.needUpdate()}\r\n                            <Popper open={Boolean(document.getElementById(`page_add_horizontal_${index}`))}\r\n                                    anchorEl={\r\n                                        () => {\r\n                                            return this.getAnchor(index);\r\n                                        }\r\n                                    }\r\n                                    modifiers={{\r\n                                        preventOverflow: {\r\n                                            enabled: false,\r\n                                            boundariesElement: 'scrollParent',\r\n                                        },\r\n                                        hide: {\r\n                                            enabled: false,\r\n                                        },\r\n                                    }}\r\n                            >\r\n                                <div\r\n                                    className={containerClasses}\r\n                                    onClick={(e) => {\r\n                                        this.addSection(index, false);\r\n                                    }}\r\n                                >\r\n                                    <img draggable={false} className=\"IconImage\" width={8} height={8} src={require('./icons/plus.svg')} />\r\n                                </div>\r\n                            </Popper>\r\n                        </div>\r\n                    })\r\n                ]\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './GridChildDraggable.css';\r\n\r\nexport default class GridChildContainerFixedHolder extends React.Component {\r\n    render () {\r\n        let {size, id} = this.props;\r\n        return (\r\n            <div\r\n                className=\"fixed-holder\"\r\n                style={{\r\n                    top: size? size.top: 0,\r\n                    left: size? size.left: 0,\r\n                    width: size? size.width: 0,\r\n                    height: size? size.clientHeight || size.height: 0,\r\n                }}\r\n                id={`${id}_fixed_holder`}\r\n            >\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default class PaddingInterface extends React.Component {\r\n    render() {\r\n        return (\r\n            <div\r\n                style={{\r\n                    position: \"absolute\",\r\n                    top: 0,\r\n                    left: 0,\r\n                    width: \"100%\",\r\n                    height: \"100%\",\r\n                    boxSizing: \"border-box\",\r\n                    borderTop: this.props.padding.top ? `${this.props.padding.top} solid rgba(2, 242, 255, 0.3` : \"unset\",\r\n                    borderLeft: this.props.padding.left ? `${this.props.padding.left} solid rgba(2, 242, 255, 0.3)` : \"unset\",\r\n                    borderBottom: this.props.padding.bottom ? `${this.props.padding.bottom} solid rgba(2, 242, 255, 0.3)` : \"unset\",\r\n                    borderRight: this.props.padding.right ? `${this.props.padding.right} solid rgba(2, 242, 255, 0.3)` : \"unset\"\r\n                }}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default class ParentSelectInterface extends React.Component {\r\n    render() {\r\n        return (\r\n            <div\r\n                style={{\r\n                    position: \"absolute\",\r\n                    top: 0,\r\n                    left: 0,\r\n                    width: \"100%\",\r\n                    height: \"100%\",\r\n                    boxSizing: \"border-box\",\r\n                    border: '1px solid rgb(2 50 255 / 40%)'\r\n                }}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {appendStyle, cloneObject, shallowEqual, updateStyle} from \"./AwesomeGridLayoutUtils\";\r\nimport './GridChildDraggable.css';\r\nimport GridChildContainerChildren from \"./GridChildContainerChildren\";\r\nimport classNames from \"classnames\";\r\nimport AdjustmentPageControllers from \"./Adjustment/AdjustmentPageControllers\";\r\nimport GridChildContainerFixedHolder from \"./GridChildContainerFixedHolder\";\r\nimport PaddingInterface from \"./Test/PaddingInterface\";\r\nimport ParentSelectInterface from \"./Test/ParentSelectInterface\";\r\nimport {EditorContext} from \"./Editor/EditorContext\";\r\n\r\nexport default class GridChildContainer extends React.Component {\r\n    static contextType = EditorContext;\r\n    constructor(props) {\r\n        super(props);\r\n        this.controllerRef = React.createRef();\r\n        this.fixedHolderRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.modifyOverflowStyle(this.props.overflowData, this.props.aglStyle);\r\n        this.modifyContainerStyle(this.props.grid, this.props.aglStyle, this.props.padding);\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        if (!shallowEqual(this.allChildId, Object.keys(nextProps.allChildren)) ||\r\n            !shallowEqual(this.grid, nextProps.grid) ||\r\n            !shallowEqual(this.size, nextProps.size) ||\r\n            this.props.selectAsParent !== nextProps.selectAsParent ||\r\n            this.props.selected !== nextProps.selected ||\r\n            !shallowEqual(this.padding, nextProps.padding) ||\r\n            !shallowEqual(JSON.stringify(this.allChildIndex),\r\n                JSON.stringify(Object.values(nextProps.allChildren).map(c => {\r\n                    return {\r\n                        z: c.zIndex,\r\n                        i: c.child.props.id\r\n                    }\r\n                })))\r\n        ) {\r\n            if (!shallowEqual(this.overflowData, nextProps.overflowData))\r\n                this.modifyOverflowStyle(nextProps.overflowData, nextProps.aglStyle);\r\n\r\n            if (!shallowEqual(this.grid, nextProps.grid) || !shallowEqual(this.padding, nextProps.padding))\r\n                this.modifyContainerStyle(nextProps.grid, nextProps.aglStyle, nextProps.padding);\r\n\r\n            if (!shallowEqual(this.aglStyle, nextProps.aglStyle)) {\r\n                this.modifyOverflowStyle(nextProps.overflowData, nextProps.aglStyle);\r\n                this.modifyContainerStyle(nextProps.grid, nextProps.aglStyle, nextProps.padding);\r\n            }\r\n\r\n            return true;\r\n        }\r\n\r\n        if (!shallowEqual(this.overflowData, nextProps.overflowData)) {\r\n            this.modifyOverflowStyle(nextProps.overflowData, nextProps.aglStyle);\r\n            return true;\r\n        }\r\n        if (!shallowEqual(this.aglStyle, nextProps.aglStyle)) {\r\n            this.modifyOverflowStyle(nextProps.overflowData, nextProps.aglStyle);\r\n            this.modifyContainerStyle(nextProps.grid, nextProps.aglStyle, nextProps.padding);\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    saveState = () => {\r\n        let {allChildren, grid, overflowData, aglStyle, size, padding} = this.props;\r\n        this.allChildId = Object.keys(allChildren);\r\n        this.allChildIndex = Object.values(allChildren).map(c => {\r\n            return {\r\n                z: c.zIndex,\r\n                i: c.child.props.id\r\n            }\r\n        });\r\n        this.grid = cloneObject(grid);\r\n        this.overflowData = cloneObject(overflowData);\r\n        this.aglStyle = cloneObject(aglStyle);\r\n        this.size = cloneObject(size);\r\n        this.padding = cloneObject(padding);\r\n    };\r\n\r\n    modifyContainerStyle = (grid, aglStyle, padding) => {\r\n        if (!grid)\r\n            grid = this.props.grid;\r\n\r\n        let {modifyContainerStyleOverride, agl} = this.props;\r\n\r\n        if (modifyContainerStyleOverride){\r\n            modifyContainerStyleOverride(this, agl, grid, aglStyle);\r\n            return;\r\n        }\r\n\r\n        let style = {\r\n            width: (aglStyle && aglStyle.width === \"auto\") ? \"auto\": \"100%\",\r\n            height: (aglStyle && aglStyle.height === \"auto\") ? \"auto\":\r\n                agl.getFromData(\"containerHeight\") || \"100%\",\r\n            display: \"grid\",\r\n            position: \"relative\",\r\n            boxSizing: \"border-box\",\r\n            gridTemplateRows: grid.gridTemplateRows,\r\n            gridTemplateColumns: grid.gridTemplateColumns,\r\n        };\r\n\r\n        if (padding) {\r\n            if (padding.top) style.paddingTop = padding.top;\r\n            if (padding.left) style.paddingLeft = padding.left;\r\n            if (padding.bottom) style.paddingBottom = padding.bottom;\r\n            if (padding.right) style.paddingRight = padding.right;\r\n\r\n            /*style.backgroundImage = \"\";\r\n            Object.keys(padding).forEach(key => {\r\n                if (key === \"top\")\r\n                    style.backgroundImage += `linear-gradient(to bottom, #00f3ffa8 ${padding.top}, transparent 10px),`\r\n                if (key === \"bottom\")\r\n                    style.backgroundImage += `linear-gradient(to top, #00f3ffa8 ${padding.bottom}, transparent 10px),`\r\n                if (key === \"left\")\r\n                    style.backgroundImage += `linear-gradient(to right, #00f3ffa8 ${padding.left}, transparent 10px),`\r\n                if (key === \"right\")\r\n                    style.backgroundImage += `linear-gradient(to left, #00f3ffa8 ${padding.right}, transparent 10px),`\r\n            });\r\n\r\n            if (style.backgroundImage)\r\n                style.backgroundImage = style.backgroundImage.slice(0, -1);*/\r\n        }\r\n\r\n        let styleNode = document.getElementById(this.getContainerStyleId());\r\n\r\n        if (!styleNode) {\r\n            appendStyle(style, this.getContainerStyleId(), this.getContainerStyleId());\r\n        } else {\r\n            updateStyle(styleNode, style, this.getContainerStyleId());\r\n        }\r\n    };\r\n\r\n    modifyOverflowStyle = (overflowData, aglStyle) => {\r\n        let styleNode = document.getElementById(this.getOverflowStyleId());\r\n\r\n        if (!styleNode) {\r\n            appendStyle(this.getOverflowStyle(overflowData, aglStyle), this.getOverflowStyleId()\r\n                , this.getOverflowStyleId());\r\n        } else {\r\n            updateStyle(styleNode, this.getOverflowStyle(overflowData, aglStyle), this.getOverflowStyleId());\r\n        }\r\n\r\n        let webkitScrollbarStyle = {};\r\n        let webkitScrollbarStyleId = this.getOverflowStyleId() + '::-webkit-scrollbar';\r\n        if (overflowData.auto === 'hide') webkitScrollbarStyle.display = \"none\";\r\n\r\n        let scrollStyleNode = document.getElementById(webkitScrollbarStyleId);\r\n\r\n        if (!scrollStyleNode) {\r\n            appendStyle(webkitScrollbarStyle, webkitScrollbarStyleId, webkitScrollbarStyleId);\r\n        } else {\r\n            updateStyle(scrollStyleNode, webkitScrollbarStyle, webkitScrollbarStyleId);\r\n        }\r\n    };\r\n\r\n    getOverflowStyle = (overflowData, aglStyle) => {\r\n        let style = {\r\n            display: \"grid\",\r\n            gridTemplateRows: \"1fr\",\r\n            gridTemplateColumns: \"1fr\",\r\n            position: \"absolute\",\r\n            top: 0,\r\n            bottom: 0,\r\n            left: 0,\r\n            right: 0,\r\n        };\r\n\r\n        if (aglStyle && aglStyle.width === \"auto\") {\r\n            style.position = \"relative\";\r\n            delete style.left;\r\n            delete style.right;\r\n            delete style.top;\r\n            delete style.bottom;\r\n        }\r\n\r\n        if (aglStyle && aglStyle.height === \"auto\") {\r\n            style.position = \"relative\";\r\n            delete style.left;\r\n            delete style.right;\r\n            delete style.top;\r\n            delete style.bottom;\r\n        }\r\n\r\n\r\n        if (!overflowData)\r\n            overflowData = this.props.overflowData;\r\n\r\n        if (!overflowData)\r\n            return style;\r\n\r\n        if (overflowData.state === 'show') {\r\n            return style;\r\n        }\r\n\r\n        if (overflowData.state === 'hide') {\r\n            style.overflowX = \"hidden\";\r\n            style.overflowY = \"hidden\";\r\n            return style;\r\n        }\r\n\r\n        if (overflowData.state === 'scroll') {\r\n            style.overflowX = overflowData.overflowX? overflowData.auto === 'auto'? \"auto\" : \"scroll\" : \"hidden\" ;\r\n            style.overflowY = overflowData.overflowY? overflowData.auto === 'auto'? \"auto\" : \"scroll\" : \"hidden\" ;\r\n        }\r\n\r\n        if (overflowData.auto === 'hide') {\r\n            // TODO hide scrollbar with webkit\r\n            style.scrollbarWidth = 'none';\r\n            style.overflow = '-moz-scrollbars-none';\r\n            style['-ms-overflow-style'] = 'none';\r\n        }\r\n\r\n        return style;\r\n    };\r\n\r\n    getOverflowStyleId = () => {\r\n        return `style_overflow_${this.props.id}`\r\n    };\r\n\r\n    getContainerStyleId = () => {\r\n        return `style_container_${this.props.id}`\r\n    };\r\n\r\n    updateAdjustments = () => {\r\n        this.controllerRef.current && this.controllerRef.current.forceUpdate();\r\n        this.fixedHolderRef.current && this.fixedHolderRef.current.forceUpdate();\r\n    };\r\n\r\n    needOverflow = () => {\r\n        let overflowData = this.props.overflowData;\r\n\r\n        if (overflowData.state !== 'scroll')\r\n            return false;\r\n\r\n        if (overflowData.overflowX === 'scroll')\r\n                return true;\r\n        if (overflowData.overflowY === 'scroll')\r\n                return true;\r\n\r\n        return false;\r\n    };\r\n\r\n    render () {\r\n        if (!this.props.show)\r\n            return null;\r\n        this.saveState();\r\n        let {allChildren, id, grid, isPage, page, size, getChildrenOverride, agl, editor, containerStyle} = this.props;\r\n\r\n        let overflowClasses = classNames(\r\n            this.getOverflowStyleId()\r\n        );\r\n        let containerClasses = classNames(\r\n            this.getContainerStyleId()\r\n        );\r\n\r\n        if (!isPage) {\r\n            if (this.needOverflow()) {\r\n                return (\r\n                    <div\r\n                        id={`${id}_overflow`}\r\n                        className={overflowClasses}\r\n                        ref={this.props.overflowRef}\r\n                        onScroll={this.props.onScroll}\r\n                    >\r\n                        <div\r\n                            id={`${id}_container`}\r\n                            className={containerClasses}\r\n                            ref={this.props.containerRef}\r\n                        >\r\n                            {\r\n                                this.props.padding && (this.props.selectAsParent || this.props.selected) &&\r\n                                <PaddingInterface padding={this.props.padding} />\r\n                            }\r\n                            {\r\n                                this.props.selectAsParent &&\r\n                                <ParentSelectInterface />\r\n                            }\r\n                            <GridChildContainerChildren\r\n                                allChildren={allChildren}\r\n                                getChildrenOverride={getChildrenOverride}\r\n                                agl={agl}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                )\r\n            } else {\r\n                return (\r\n                    <div\r\n                        id={`${id}_container`}\r\n                        className={containerClasses}\r\n                        ref={this.props.containerRef}\r\n                        style={containerStyle}\r\n                    >\r\n                        {\r\n                            this.props.padding && (this.props.selectAsParent || this.props.selected) &&\r\n                            <PaddingInterface padding={this.props.padding} />\r\n                        }\r\n                        {\r\n                            this.props.selectAsParent &&\r\n                            <ParentSelectInterface />\r\n                        }\r\n                        <GridChildContainerChildren\r\n                            allChildren={allChildren}\r\n                            getChildrenOverride={getChildrenOverride}\r\n                            agl={agl}\r\n                        />\r\n                    </div>\r\n                )\r\n            }\r\n        } else {\r\n            return (\r\n                    <div\r\n                        id={`${id}_container`}\r\n                        className={containerClasses}\r\n                        ref={this.props.containerRef}\r\n                    >\r\n                        {\r\n                            this.props.padding && (this.props.selectAsParent || this.props.selected) &&\r\n                            <PaddingInterface padding={this.props.padding} />\r\n                        }\r\n                        {\r\n                            this.props.selectAsParent &&\r\n                            <ParentSelectInterface />\r\n                        }\r\n                        <GridChildContainerChildren\r\n                            allChildren={allChildren}\r\n                            getChildrenOverride={getChildrenOverride}\r\n                            agl={agl}\r\n                        />\r\n\r\n                        {\r\n                            editor && !this.context.production &&\r\n                            <AdjustmentPageControllers\r\n                                grid={grid}\r\n                                page={page}\r\n                                editor={editor}\r\n                                ref={this.controllerRef}\r\n                            />\r\n                        }\r\n\r\n                        <GridChildContainerFixedHolder\r\n                            ref={this.fixedHolderRef}\r\n                            size={size}\r\n                            id={id}\r\n                        />\r\n                    </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './AwesomeGridLayout.css';\r\n\r\nexport default class AGLAnchor extends React.Component {\r\n    render () {\r\n        let {anchor} = this.props;\r\n\r\n        if (!anchor)\r\n            return null;\r\n\r\n        return (\r\n            <div\r\n                className=\"AGLAnchor\"\r\n                id={anchor.id}\r\n            >\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css';\r\nimport classNames from 'classnames';\r\n\r\nexport default class ResizePanePage extends React.Component {\r\n    onMouseDown = (e) => {\r\n        if (this.isLeftClick(e)) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            this.mouseDown = true;\r\n            window.addEventListener(\"pointermove\", this.onMouseMove);\r\n            window.addEventListener(\"pointerup\", this.onMouseUp);\r\n        }\r\n    };\r\n\r\n    isLeftClick = (e) => {\r\n        if (e.pointerType === \"mouse\" && e.button === 0)\r\n            return true;\r\n\r\n        return false;\r\n    };\r\n\r\n\r\n    onMouseMove = (e) => {\r\n        if (!this.mouseDown)\r\n            return;\r\n        e.stopPropagation();\r\n\r\n        if (!this.moving) {\r\n            this.moving = true;\r\n            this.onDragStart(e);\r\n        } else {\r\n            this.onDrag(e);\r\n        }\r\n    };\r\n\r\n    onMouseUp = (e) => {\r\n        if (!this.mouseDown)\r\n            return;\r\n\r\n        this.mouseDown = false;\r\n\r\n        if (this.moving) {\r\n            e.stopPropagation();\r\n            this.onDragStop(e);\r\n        }\r\n\r\n        this.moving = false;\r\n\r\n        window.removeEventListener(\"pointermove\", this.onMouseMove);\r\n        window.removeEventListener(\"pointerup\", this.onMouseUp);\r\n    };\r\n\r\n    onDragStart = (e) => {\r\n        this.dragData = {\r\n            lastMouseX: e.clientX,\r\n            lastMouseY: e.clientY\r\n        };\r\n        this.delta = {\r\n            x: 0,\r\n            y: 0,\r\n        };\r\n        this.props.onResizeStart(e, this.props.side, this.delta);\r\n    };\r\n\r\n    onDrag = (e) => {\r\n        this.delta.x += (e.clientX - this.dragData.lastMouseX);\r\n        this.delta.y += (e.clientY - this.dragData.lastMouseY);\r\n        this.props.onResize(e, this.props.side, this.delta);\r\n        this.dragData.lastMouseX = e.clientX;\r\n        this.dragData.lastMouseY = e.clientY;\r\n    };\r\n\r\n    onDragStop = (e) => {\r\n        this.delta.x += (e.clientX - this.dragData.lastMouseX);\r\n        this.delta.y += (e.clientY - this.dragData.lastMouseY);\r\n        this.props.onResizeStop(e, this.props.side, this.delta);\r\n    };\r\n\r\n    isCorner = () => {\r\n        return this.props.side.length === 2;\r\n    };\r\n    render () {\r\n        let classes = classNames(\r\n            `Adjustment-${this.props.side}-pane-page`,\r\n            \"Adjustment-Pane\"\r\n        );\r\n        let style = {};\r\n        if (this.props.draggingStart)\r\n            style.pointerEvents = \"none\";\r\n\r\n        return (\r\n            <div\r\n                id={this.props.id}\r\n                onPointerDown={this.onMouseDown}\r\n                className={classes}\r\n                style={style}\r\n            >\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport ResizePanePage from \"./ResizePanePage\";\r\nimport {EditorContext} from \"../Editor/EditorContext\";\r\n\r\nexport default class AdjustmentResizePage extends React.Component {\r\n    static contextType = EditorContext;\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    render () {\r\n        let {top, left, width, height} = this.props;\r\n        if (top === undefined || left === undefined || width === undefined || height === undefined)\r\n            return null;\r\n\r\n        if (this.context.production)\r\n            return null;\r\n\r\n        return (\r\n                <div\r\n                    id=\"AdjustmentResizePage\"\r\n                    style={{\r\n                        width: width,\r\n                        height: \"80vh\",\r\n                        // left: left? left: 0,\r\n                        // top: top? top : 0,\r\n                        // bottom: top? window.innerHeight - top - height: 0,\r\n                        // right: left? window.innerWidth - left - width: 0,\r\n                    }}\r\n                    // className=\"AdjustmentResizeRootPage\"\r\n                    className=\"AdjustmentResizeRoot\"\r\n                >\r\n                    {\r\n                        this.props.sides.map((side, index) => {\r\n                            return <ResizePanePage\r\n                                key={index}\r\n                                side={side}\r\n                                onResizeStart={this.props.onResizeStart}\r\n                                onResize={this.props.onResize}\r\n                                onResizeStop={this.props.onResizeStop}\r\n                                draggingStart={this.props.draggingStart}\r\n                            />\r\n                        })\r\n                    }\r\n                </div>\r\n        )\r\n    }\r\n}\r\n","import {throttleDebounce} from \"../AwesomeGridLayoutUtils\";\r\n\r\nlet allEventTriggers = [];\r\n\r\nexport default class EventTrigger {\r\n    constructor(owner, defaultListener) {\r\n        this.owner = owner;\r\n        this.listeners = [];\r\n        if (defaultListener)\r\n            this.listeners.push(defaultListener);\r\n    }\r\n\r\n    addListener = (listener) => {\r\n        if (!this.listeners.find(l => { return l === listener; })) {\r\n            this.listeners.push(listener);\r\n        }\r\n    };\r\n\r\n    trigger = throttleDebounce((data) => {\r\n        this.listeners.forEach(l => {\r\n            l(this.owner, data);\r\n        });\r\n    }, 50);\r\n\r\n    removeListener = (listener) => {\r\n        let index = this.listeners.findIndex(l => { return l === listener; })\r\n        if (index >= 0)\r\n            this.listeners.splice(index, 1);\r\n    };\r\n\r\n    static clear = () => {\r\n        allEventTriggers = [];\r\n    }\r\n\r\n    static getEventTrigger = (item) => {\r\n        if (!allEventTriggers[item.props.id])\r\n            allEventTriggers[item.props.id] = new EventTrigger(item);\r\n        return allEventTriggers[item.props.id];\r\n    }\r\n}\r\n","let windowCache = {\r\n    boundingRects: {},\r\n    clientsWidth: {},\r\n    clientsHeight: {},\r\n    scrollsTop: {},\r\n    scrollsLeft: {},\r\n    scrollsWidth: {},\r\n    scrollsHeight: {}\r\n};\r\n\r\nlet clearCache = () => {\r\n    windowCache.boundingRects = {};\r\n    windowCache.clientsWidth = {};\r\n    windowCache.clientsHeight = {};\r\n    windowCache.scrollsTop = {};\r\n    windowCache.scrollsLeft = {};\r\n    windowCache.scrollsWidth = {};\r\n    windowCache.scrollsHeight = {};\r\n    delete windowCache.clearCacheTimeuot;\r\n};\r\n\r\nexport let getCachedBoundingRect = (id, node) => {\r\n    if (!windowCache.clearCacheTimeuot) {\r\n        windowCache.clearCacheTimeuot = true;\r\n        window.requestAnimationFrame(clearCache);\r\n    }\r\n\r\n    if (!windowCache.boundingRects[id])\r\n        windowCache.boundingRects[id] = node.getBoundingClientRect();\r\n\r\n    return windowCache.boundingRects[id];\r\n};\r\n\r\nexport let getCachedClientWidth = (id, node) => {\r\n    if (!windowCache.clearCacheTimeuot) {\r\n        windowCache.clearCacheTimeuot = true;\r\n        window.requestAnimationFrame(clearCache);\r\n    }\r\n\r\n    if (!windowCache.clientsWidth[id])\r\n        windowCache.clientsWidth[id] = node.clientWidth;\r\n\r\n    return windowCache.clientsWidth[id];\r\n};\r\n\r\nexport let getCachedClientHeight = (id, node) => {\r\n    if (!windowCache.clearCacheTimeuot) {\r\n        windowCache.clearCacheTimeuot = true;\r\n        window.requestAnimationFrame(clearCache);\r\n    }\r\n\r\n    if (!windowCache.clientsHeight[id])\r\n        windowCache.clientsHeight[id] = node.clientHeight;\r\n\r\n    return windowCache.clientsHeight[id];\r\n};\r\n\r\nexport let getCachedScrollTop = (id, node) => {\r\n    if (!windowCache.clearCacheTimeuot) {\r\n        windowCache.clearCacheTimeuot = true;\r\n        window.requestAnimationFrame(clearCache);\r\n    }\r\n\r\n    if (!windowCache.scrollsTop[id])\r\n        windowCache.scrollsTop[id] = node.scrollTop;\r\n\r\n    return windowCache.scrollsTop[id];\r\n};\r\n\r\nexport let getCachedScrollLeft = (id, node) => {\r\n    if (!windowCache.clearCacheTimeuot) {\r\n        windowCache.clearCacheTimeuot = true;\r\n        window.requestAnimationFrame(clearCache);\r\n    }\r\n\r\n    if (!windowCache.scrollsLeft[id])\r\n        windowCache.scrollsLeft[id] = node.scrollLeft;\r\n\r\n    return windowCache.scrollsLeft[id];\r\n};\r\n\r\nexport let getCachedScrollWidth = (id, node) => {\r\n    if (!windowCache.clearCacheTimeuot) {\r\n        windowCache.clearCacheTimeuot = true;\r\n        window.requestAnimationFrame(clearCache);\r\n    }\r\n\r\n    if (!windowCache.scrollsWidth[id])\r\n        windowCache.scrollsWidth[id] = node.scrollWidth;\r\n\r\n    return windowCache.scrollsWidth[id];\r\n};\r\n\r\nexport let getCachedScrollHeight = (id, node) => {\r\n    if (!windowCache.clearCacheTimeuot) {\r\n        windowCache.clearCacheTimeuot = true;\r\n        window.requestAnimationFrame(clearCache);\r\n    }\r\n\r\n    if (!windowCache.scrollsHeight[id])\r\n        windowCache.scrollsHeight[id] = node.scrollHeight;\r\n\r\n    return windowCache.scrollsHeight[id];\r\n};\r\n\r\nexport let addToCache = (id, rect, propName) => {\r\n    windowCache[propName][id] = rect;\r\n};\r\n","import React from \"react\";\r\nexport default class AnimationHolder extends React.Component {\r\n    render () {\r\n        return this.props.children;\r\n        if (!this.props.disabled)\r\n            return this.props.children;\r\n        else\r\n            return (\r\n                <div\r\n                    className={this.props.className}\r\n                    id={this.props.id}\r\n                    ref={this.props.transformRef}\r\n                >\r\n                    {this.props.children}\r\n                </div>\r\n            )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport VisibilitySensor from \"react-visibility-sensor\";\r\nexport default class VisibilitySensorWrapper extends React.Component {\r\n    render () {\r\n        if (!this.props.animation)\r\n            return this.props.children;\r\n        else\r\n            return (\r\n                <VisibilitySensor\r\n                    partialVisibility onChange={(v) => {\r\n                        if (this.props.animation.name &&\r\n                            (this.props.animation.options && this.props.animation.options.once)\r\n                            && v) {\r\n                            !this.props.editor && this.props.playAnimation(true);\r\n                            return;\r\n                        }\r\n\r\n                        if (this.props.animation.name && v)\r\n                            !this.props.editor && this.props.playAnimation();\r\n                    }}\r\n                    containment={this.props.select.getPageOverflowRef()}\r\n                    active={this.props.animation.name && !this.props.disableVS}\r\n                >\r\n                    {this.props.children}\r\n                </VisibilitySensor>\r\n            )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\n\r\nexport default class AdjustmentHelpSize extends React.Component {\r\n    getText = () => {\r\n        let {width, height} = this.props.resizeHelpData;\r\n\r\n        return `${width? \"W: \" + width.toFixed(0).toString() + \"  \": \"\"}\r\n        ${height? \"H: \" + height.toFixed(0).toString() + \"\": \"\"}`;\r\n    };\r\n    render () {\r\n        let {x, y} = this.props.resizeHelpData;\r\n        return (\r\n            <div\r\n                id=\"AdjustmentHelpSize\"\r\n                className=\"AdjustmentHelpSizeRoot\"\r\n            >\r\n                <p\r\n                    style={{\r\n                        position: \"absolute\",\r\n                        top: y,\r\n                        left: x,\r\n                        margin: 0,\r\n                        transform: \"translateX(20px) translateY(20px)\",\r\n                        fontSize: \"0.65em\",\r\n                        color: \"#ffffff\",\r\n                        backgroundColor: \"#4b4b4b\",\r\n                        padding: 4,\r\n                        borderRadius: 4,\r\n                        width: \"fit-content\"\r\n                    }}\r\n                >\r\n                    {this.getText()}\r\n                </p>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport debounce from 'lodash.debounce';\r\nimport {appendStyle, cloneObject, initGriddata, updateStyle} from \"./AwesomeGridLayoutUtils\";\r\nimport './AwesomeGridLayout.css';\r\nimport GridChildContainer from \"./GridChildContainer\";\r\nimport DynamicComponents, {DynamicAnimations} from \"./Dynamic/DynamicComponents\";\r\nimport classNames from \"classnames\";\r\nimport Portal from \"./Portal\";\r\nimport {\r\n    createItem,\r\n    getCompositeDesignData, getPxValueFromCSSValue, getResizeDelta, getViewRatioStyle,\r\n    isFixed,\r\n    isGroupSelected, isRightClick, isStretch, stretch,\r\n} from \"./AwesomwGridLayoutHelper\";\r\nimport AGLAnchor from \"./AGLAnchor\";\r\nimport AdjustmentResizePage from \"./Adjustment/AdjustmentResizePage\";\r\nimport EventTrigger from \"./Test/EventTrigger\";\r\nimport {\r\n    addToCache,\r\n    getCachedBoundingRect,\r\n    getCachedClientHeight, getCachedScrollLeft,\r\n    getCachedScrollTop,\r\n    getCachedClientWidth, getCachedScrollHeight, getCachedScrollWidth\r\n} from \"./Test/WindowCache\";\r\nimport AnimationHolder from \"./AnimationHolder\";\r\nimport VisibilitySensorWrapper from \"./Test/VisibilitySensorWrapper\";\r\nimport AdjustmentHelpSize from \"./Adjustment/AdjustmentHelpSize\";\r\n\r\nexport default class AwesomeGridLayout2 extends React.Component{\r\n    constructor (props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            childContainers: [],\r\n            grid: {x: 1, y: 1, gridTemplateRows: \"1fr\", gridTemplateColumns: \"1fr\"},\r\n            portalNodeId: props.portalNodeId,\r\n            windowWidth: props.breakpointmanager.getWindowWidth()\r\n        };\r\n\r\n        this.rootDivRef = React.createRef();\r\n        this.overflowRef = !props.isPage? React.createRef(): this.rootDivRef;\r\n        this.containerRef = React.createRef();\r\n        this.backContainerRef = React.createRef();\r\n        this.transformRef = React.createRef();\r\n        this.allChildRefs = {};\r\n\r\n        this.children = {};\r\n\r\n        initGriddata(props.griddata, this.props.breakpointmanager);\r\n\r\n        if (this.props.id === \"page\") {\r\n            this.props.idMan.clear();\r\n            this.props.snap.clearSnaps();\r\n        }\r\n\r\n        this.props.idMan.setItem(this.props.id, this);\r\n\r\n        this.onPropsChange = EventTrigger.getEventTrigger(this);\r\n\r\n        if (this.props.id === \"page\")\r\n            console.log(\"AwesomeGridLayout2 constructor\", props.griddata.bpData.laptop.grid)\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n\r\n        if (this.props.isPage) {\r\n            let el = this.rootDivRef.current;\r\n            if (el.scrollHeight - el.clientHeight === 0)\r\n                document.documentElement.style.setProperty('--page-scroll', 0);\r\n            else\r\n                document.documentElement.style.setProperty('--page-scroll',\r\n                    el.scrollTop / (el.scrollHeight - el.clientHeight));\r\n        }\r\n\r\n        this.init();\r\n    }\r\n\r\n    componentDidUpdate (prevProps, prevState, snapshot) {\r\n        if (this.needRender) {\r\n            delete this.needRender;\r\n            this.updateLayout(() => {\r\n                this.isEditor() ? this.onSelect(this.getFromTempData(\"selected\"), this.lateMounted) : this.lateMounted();\r\n            });\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n        this.isEditor() && this.props.editor.updateLayout();\r\n    }\r\n\r\n    callOverride = (funcName, ...args) => {\r\n        let override = this.getOverrideProp(funcName);\r\n        if (override) {\r\n            return override(this, ...args);\r\n        }\r\n\r\n        return false;\r\n    };\r\n\r\n    hasOverride = (funcName) => {\r\n        return this.getOverrideProp(funcName);\r\n    };\r\n\r\n    init = () => {\r\n        this.needRender = true;\r\n\r\n        this.children = {};\r\n\r\n        let lastZIndex = this.getNextIndexData(0).lastZIndex;\r\n        let savedChildren = this.props.griddata.savedChildren;\r\n        console.log(\"init\", savedChildren)\r\n        if (!savedChildren) {\r\n            this.props.griddata.savedChildren = {};\r\n            savedChildren = this.props.griddata.savedChildren;\r\n\r\n            React.Children.map(this.props.children, (child, i)=> {\r\n                if (child) {\r\n                    let props = {...child.props};\r\n                    let createdChild = this.createChildByData({\r\n                        tagName: child.type.name ? child.type.name : child.type,\r\n                        props: props\r\n                    }, DynamicComponents);\r\n                    this.children[props.id] = {\r\n                        // child: this.getChildClone(child),\r\n                        child: createdChild,\r\n                        zIndex: lastZIndex + 1\r\n                    };\r\n\r\n                    savedChildren[props.id] = {\r\n                        tagName: child.type.name ? child.type.name : child.type,\r\n                        props: this.getClearProps(props),\r\n                        zIndex: this.children[props.id].zIndex\r\n                    };\r\n\r\n                    lastZIndex++;\r\n                }\r\n            });\r\n\r\n            if (this.renderChild) {\r\n                let childs = this.renderChild();\r\n                if (childs instanceof Array) {\r\n                    childs.forEach(c => {\r\n                        if (c) {\r\n                            let props = {...c.props};\r\n                            let createdChild = this.createChildByData({\r\n                                tagName: c.type.name? c.type.name: c.type,\r\n                                props: props\r\n                            }, DynamicComponents);\r\n                            this.children[props.id] = {\r\n                                child: createdChild,\r\n                                zIndex: lastZIndex + 1\r\n                            };\r\n\r\n                            savedChildren[props.id] = {\r\n                                tagName: c.type.name? c.type.name: c.type,\r\n                                props: this.getClearProps(props),\r\n                                zIndex: this.children[props.id].zIndex\r\n                            };\r\n\r\n                            lastZIndex++;\r\n                        }\r\n                    });\r\n                } else {\r\n                    if (childs) {\r\n                        let props = {...childs.props};\r\n                        let createdChild = this.createChildByData({\r\n                            tagName: childs.type.name ? childs.type.name : childs.type,\r\n                            props: props\r\n                        }, DynamicComponents);\r\n                        this.children[props.id] = {\r\n                            child: createdChild,\r\n                            zIndex: lastZIndex + 1\r\n                        };\r\n\r\n                        savedChildren[props.id] = {\r\n                            tagName: childs.type.name ? childs.type.name : childs.type,\r\n                            props: this.getClearProps(props),\r\n                            zIndex: this.children[props.id].zIndex\r\n                        };\r\n\r\n                        lastZIndex++;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (this.props.childrenData) {\r\n                let childs = this.props.childrenData();\r\n                childs.forEach(c => {\r\n                    if (c) {\r\n                        let props = {...c.props};\r\n                        let createdChild = this.createChildByData({\r\n                            tagName: c.tagName,\r\n                            props: props\r\n                        }, DynamicComponents);\r\n                        this.children[props.id] = {\r\n                            child: createdChild,\r\n                            zIndex: lastZIndex + 1\r\n                        };\r\n\r\n                        savedChildren[props.id] = {\r\n                            tagName: c.tagName,\r\n                            props: this.getClearProps(props),\r\n                            zIndex: this.children[props.id].zIndex\r\n                        };\r\n\r\n                        lastZIndex++;\r\n                    }\r\n                });\r\n            }\r\n        } else {\r\n            console.log(\"render savedChildren\", savedChildren)\r\n            let savedChildrenArray = Object.values(savedChildren);\r\n            savedChildrenArray.sort((a, b) => {\r\n                if (a.zIndex > b.zIndex) {\r\n                    return 1;\r\n                } else if (a.zIndex === b.zIndex) {\r\n                    // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                    return 0;\r\n                }\r\n                return -1;\r\n            });\r\n            savedChildrenArray.forEach(childData => {\r\n                let oldId = childData.props.id;\r\n                let child = this.createChildByData(childData, DynamicComponents);\r\n                this.children[childData.props.id] = {\r\n                    child: child,\r\n                    zIndex: childData.zIndex\r\n                };\r\n\r\n                if (oldId !== childData.props.id) {\r\n                    delete savedChildren[oldId];\r\n                    savedChildren[childData.props.id] = childData;\r\n                }\r\n            })\r\n        }\r\n\r\n        this.initLayout();\r\n    };\r\n\r\n    initLayout = () => {\r\n        if (this.callOverride(\"initLayout\"))\r\n            return;\r\n\r\n        let style = this.getCompositeFromData(\"style\") || this.getDefaultStyle();\r\n\r\n        this.setTransformStyle(this.getCompositeFromData(\"transform\"), undefined,\r\n            this.props.breakpointmanager.getHighestBpName());\r\n        this.setGridItemStyle(this.getCompositeFromData(\"gridItemStyle\") ||\r\n            this.props.defaultGridItemStyle,\r\n            this.props.breakpointmanager.getHighestBpName());\r\n\r\n        if (this.props.isPage)\r\n            style.width = this.props.style.width;\r\n\r\n        this.setStyle(style, undefined,\r\n            this.props.breakpointmanager.getHighestBpName());\r\n\r\n        this.setGrid(this.getCompositeFromData(\"grid\") || this.props.defaultGrid, undefined,\r\n            this.props.breakpointmanager.getHighestBpName());\r\n    };\r\n\r\n    getDefaultStyle = () => {\r\n        let style = { ...this.props.defaultStyle, ...this.props.style};\r\n\r\n        if ((this.props.defaultGridItemStyle).justifySelf === \"stretch\" &&\r\n            (this.getFromTempData(\"resizable\") &&\r\n                (!this.getResizeSides() || (!this.getResizeSides().includes(\"w\") &&\r\n                    !this.getResizeSides().includes(\"e\"))))) {\r\n            style.width = \"auto\";\r\n        }\r\n\r\n        return style;\r\n    };\r\n\r\n    lateMounted = () => {\r\n        if (this.hasOverride(\"lateMounted\")) {\r\n            return this.callOverride(\"lateMounted\");\r\n        }\r\n\r\n        let size = this.getSize(false, true, true);\r\n        this.addToSnap();\r\n\r\n        let baseDocks = this.getBaseDocks();\r\n        this.setDocks(baseDocks.top, baseDocks.left, baseDocks.bottom, baseDocks.right,\r\n            this.getFromTempData(\"autoDock\"),\r\n            this.props.breakpointmanager.getHighestBpName(), true);\r\n\r\n        if (this.props.onPageResize) {\r\n            console.log(\"AGL lateMounted\");\r\n            this.props.onPageResize(size.width, this, true);\r\n        }\r\n\r\n        if (!this.onChildMountedCalled) {\r\n            this.onChildMountedCalled = true;\r\n            this.props.onChildMounted && this.props.onChildMounted(this);\r\n        }\r\n        this.isEditor() && this.props.editor.updateLayout();\r\n\r\n        this.callPost(\"lateMounted\");\r\n    };\r\n\r\n    getPrimaryOptions = () => {\r\n        return this.props.getPrimaryOptions && this.props.getPrimaryOptions();\r\n    };\r\n\r\n    getShortcutOptions = () => {\r\n        return this.props.getShortcutOptions && this.props.getShortcutOptions();\r\n    };\r\n\r\n    hasMiniMenu = () => {\r\n        if (this.hasOverride(\"hasMiniMenu\")) {\r\n            return this.callOverride(\"hasMiniMenu\");\r\n        }\r\n\r\n        return true;\r\n    };\r\n\r\n    addToSnap = debounce(() => {\r\n        if (this.callOverride(\"addToSnap\"))\r\n            return;\r\n\r\n        // let rect = this.getSize(false);\r\n        let rect = this.getBoundarySize() || this.getSize(false);\r\n        if (rect) {\r\n            this.props.snap.addSnap(this.props.id,\r\n                [\r\n                    {\r\n                        id: this.props.id,\r\n                        value: rect.top,\r\n                        p1: rect.left,\r\n                        p2: rect.left + rect.width\r\n                    },\r\n                    !this.props.isPage && {\r\n                        id: this.props.id,\r\n                        value: rect.top + rect.height / 2,\r\n                        p1: rect.left,\r\n                        p2: rect.left + rect.width\r\n                    },\r\n                    {\r\n                        id: this.props.id,\r\n                        value: rect.top + rect.height,\r\n                        p1: rect.left,\r\n                        p2: rect.left + rect.width\r\n                    }\r\n                ],\r\n                [\r\n                    {\r\n                        id: this.props.id,\r\n                        value: rect.left,\r\n                        p1: rect.top,\r\n                        p2: rect.top + rect.height\r\n                    },\r\n                    !this.props.isPage && {\r\n                        id: this.props.id,\r\n                        value: rect.left + rect.width / 2,\r\n                        p1: rect.top,\r\n                        p2: rect.top + rect.height\r\n                    },\r\n                    {\r\n                        id: this.props.id,\r\n                        value: rect.left + rect.width,\r\n                        p1: rect.top,\r\n                        p2: rect.top + rect.height\r\n                    }\r\n                ],\r\n                this.getParentsId()\r\n            );\r\n        }\r\n\r\n        Object.values(this.allChildRefs).forEach(childRef => {\r\n            if (childRef && childRef.current){\r\n                childRef.current.addToSnap();\r\n            }\r\n        });\r\n    }, 500);\r\n\r\n    getParentsId = () => {\r\n        let parentsId = [];\r\n        let parent = this.props.parent;\r\n\r\n        while (parent) {\r\n            parentsId.push(parent.props.id);\r\n            parent = parent.props.parent;\r\n        }\r\n\r\n        return parentsId;\r\n    };\r\n\r\n    getContainerParent = (exludeSelf) => {\r\n        if (!exludeSelf && this.getFromTempData(\"isContainer\"))\r\n            return this;\r\n\r\n        let containerParent;\r\n        let parent = this.props.parent;\r\n\r\n        while (!containerParent) {\r\n            if (parent.getFromTempData(\"isContainer\")) {\r\n                containerParent = parent;\r\n            } else {\r\n                parent = parent.props.parent;\r\n            }\r\n        }\r\n\r\n        return containerParent;\r\n    };\r\n\r\n    getGridLineSnaps = () => {\r\n        let snaps = {\r\n            horizontals: [],\r\n            verticals: [],\r\n            id: this.props.id\r\n        };\r\n        this.prepareRects();\r\n        let xLineRef = this.props.gridLine.getXlineRef(this.props.id);\r\n        for(let i = 0; i < xLineRef.length; i++) {\r\n            // let current = xLineRef[i].current;\r\n            let rect = this.getGridLineRect(xLineRef[i], i, 'x', this);\r\n            if (!rect)\r\n                continue;\r\n\r\n            // let rect = current.getBoundingClientRect();\r\n            // let rect = current.rect;\r\n            snaps.verticals.push({\r\n                id: this.props.id,\r\n                value: rect.left + ((i === xLineRef.length - 1)? 1: 0),\r\n                p1: rect.top,\r\n                p2: rect.top + rect.height\r\n            });\r\n        }\r\n        let yLineRef = this.props.gridLine.getYlineRef(this.props.id);\r\n        for(let i = 0; i < yLineRef.length; i++) {\r\n            // let current = yLineRef[i].current;\r\n            let rect = this.getGridLineRect(yLineRef[i], i, 'y', this);\r\n            if (!rect)\r\n                continue;\r\n\r\n            // let rect = current.getBoundingClientRect();\r\n            // let rect = current.rect;\r\n            snaps.horizontals.push({\r\n                id: this.props.id,\r\n                value: rect.top + ((i === yLineRef.length - 1)? 1: 0),\r\n                p1: rect.left,\r\n                p2: rect.left + rect.width\r\n            });\r\n        }\r\n\r\n        return [snaps];\r\n    };\r\n\r\n    createChildByData = (childData, dynamicComponents, newId, onChildMounted, fixed) => {\r\n        if (this.callOverride(\"addToSnap\", childData, dynamicComponents, newId, onChildMounted, fixed))\r\n            return;\r\n\r\n        let tagName = childData.tagName;\r\n        let props = childData.props;\r\n\r\n        let griddata = initGriddata(props.griddata, this.props.breakpointmanager);\r\n\r\n        if (newId)\r\n            props.id = newId;\r\n        if (!props.id)\r\n            props.id = this.props.idMan.getId(tagName);\r\n        else\r\n            props.id = this.props.idMan.getId(tagName, props.id);\r\n\r\n        griddata.id = props.id;\r\n        if (!props.griddata || newId)\r\n            props.griddata = griddata;\r\n\r\n        this.allChildRefs[props.id] = React.createRef();\r\n\r\n        if (this.getFromTempData(\"isFixed\", props.griddata))\r\n            fixed = true;\r\n\r\n        let AGLProps = {};\r\n        if (tagName[0] == tagName[0].toUpperCase()) {\r\n            AGLProps = {\r\n                aglRef: this.allChildRefs[props.id],\r\n                viewRef: this.props.viewRef,\r\n                breakpointmanager: this.props.breakpointmanager,\r\n                undoredo: this.props.undoredo,\r\n                dragdrop: this.props.dragdrop,\r\n                select: this.props.select,\r\n                snap: this.props.snap,\r\n                idMan: this.props.idMan,\r\n                input: this.props.input,\r\n                copyMan: this.props.copyMan,\r\n                window: this.props.window,\r\n                document: this.props.document,\r\n                editorData: this.props.editorData,\r\n                anchorMan: this.props.anchorMan,\r\n                gridLine: this.props.gridLine,\r\n                gridEditorRef: this.props.gridEditorRef,\r\n                parent: this,\r\n                editor: this.props.editor,\r\n                onChildMounted: onChildMounted,\r\n                portalNodeId: (fixed && `${this.props.id}_fixed_holder`),\r\n                ...this.getAllChildOverrideProps()\r\n            };\r\n        }\r\n\r\n        let component = tagName[0] === tagName[0].toUpperCase()? dynamicComponents[tagName]: tagName;\r\n\r\n        if (tagName[0] !== tagName[0].toUpperCase())\r\n            delete props.griddata;\r\n\r\n        return React.createElement(\r\n            component,\r\n            {\r\n                ...props,\r\n                key: props.id,\r\n                ...AGLProps,\r\n            }\r\n        );\r\n    };\r\n\r\n    getSize = (updateState = true, force, fullForce) => {\r\n        if (!this.rootDivRef.current)\r\n            return;\r\n\r\n        if (this.tempSize && !force)\r\n            return cloneObject(this.tempSize);\r\n\r\n        let rect = fullForce ? this.rootDivRef.current.getBoundingClientRect() :\r\n            getCachedBoundingRect(this.props.id, this.rootDivRef.current);\r\n\r\n        let clientWidth = rect.width;\r\n        let clientHeight = rect.height;\r\n        let scrollTop = 0;\r\n        let scrollLeft = 0;\r\n        let scrollWidth = rect.width;\r\n        let scrollHeight = rect.height;\r\n        if (this.overflowRef.current) {\r\n            clientWidth = fullForce ? this.overflowRef.current.clientWidth :\r\n                getCachedClientWidth(this.props.id, this.overflowRef.current);\r\n            clientHeight = fullForce ? this.overflowRef.current.clientHeight :\r\n                getCachedClientHeight(this.props.id, this.overflowRef.current);\r\n            scrollTop = fullForce ? this.overflowRef.current.scrollTop :\r\n                getCachedScrollTop(this.props.id, this.overflowRef.current);\r\n            scrollLeft = fullForce ? this.overflowRef.current.scrollLeft :\r\n                getCachedScrollLeft(this.props.id, this.overflowRef.current);\r\n            scrollWidth = fullForce ? this.overflowRef.current.scrollWidth :\r\n                getCachedScrollWidth(this.props.id, this.overflowRef.current);\r\n            scrollHeight = fullForce ? this.overflowRef.current.scrollHeight :\r\n                getCachedScrollHeight(this.props.id, this.overflowRef.current);\r\n        }\r\n\r\n        let padding = cloneObject(this.getCompositeFromData(\"padding\")) || {};\r\n        ['top', 'left', 'bottom', 'right'].forEach(key => {\r\n            padding[key] = getPxValueFromCSSValue(padding[key], 0, this) || 0;\r\n        });\r\n        let temp = {\r\n            x: rect.width,\r\n            y: rect.height,\r\n            clientWidth: clientWidth,\r\n            clientHeight: clientHeight,\r\n            scrollTop: scrollTop,\r\n            scrollLeft: scrollLeft,\r\n            scrollWidth: scrollWidth,\r\n            scrollHeight: scrollHeight,\r\n            top: rect.top,\r\n            left: rect.left,\r\n            bottom: rect.bottom,\r\n            right: rect.right,\r\n            width: rect.width,\r\n            height: rect.height,\r\n            widthMinusPadding: rect.width - (padding.left||0)- (padding.right||0),\r\n            heightMinusPadding: rect.height - (padding.top||0)- (padding.bottom||0),\r\n            scrollWidthMinusPadding: scrollWidth - (padding.left||0)- (padding.right||0),\r\n            scrollHeightMinusPadding: scrollHeight - (padding.top||0)- (padding.bottom||0)\r\n        };\r\n\r\n        this.tempSize = temp;\r\n\r\n        if (fullForce) {\r\n            addToCache(this.props.id, this.tempSize, \"boundingRects\");\r\n            addToCache(this.props.id, clientWidth, \"clientsWidth\");\r\n            addToCache(this.props.id, clientHeight, \"clientsHeight\");\r\n            addToCache(this.props.id, scrollTop, \"scrollsTop\");\r\n            addToCache(this.props.id, scrollLeft, \"scrollsLeft\");\r\n            addToCache(this.props.id, scrollWidth, \"scrollsWidth\");\r\n            addToCache(this.props.id, scrollHeight, \"scrollsHeight\");\r\n        }\r\n\r\n        return temp;\r\n    };\r\n\r\n    getBoundarySize = (force) => {\r\n        if (this.transformRef.current) {\r\n            if (!force)\r\n                return getCachedBoundingRect(`${this.props.id}_transform`, this.transformRef.current);\r\n            else\r\n                return this.transformRef.current.getBoundingClientRect();\r\n        }\r\n    };\r\n\r\n    invalidateSize = (self = true, updateParent = true, updateChildren = true, sourceId,\r\n                      addToSnap = false) => {\r\n        if (this.callOverride(\"invalidateSize\", self, updateParent, updateChildren, sourceId))\r\n            return;\r\n\r\n        if (addToSnap)\r\n            this.addToSnap();\r\n\r\n        if (!sourceId)\r\n            sourceId = this.props.id;\r\n\r\n        if (self)\r\n            delete this.tempSize;\r\n\r\n        if (updateChildren) {\r\n            Object.values(this.allChildRefs).forEach(childRef => {\r\n                if (childRef && childRef.current && sourceId !== childRef.current.props.id) {\r\n                    childRef.current.invalidateSize(true, false, true, sourceId, addToSnap);\r\n                }\r\n            });\r\n        }\r\n\r\n        if (updateParent) {\r\n            this.getParentsId().forEach(id => {\r\n                let parent = this.props.idMan.getItem(id);\r\n                if (parent && parent.mounted && sourceId !== parent.props.id) {\r\n                    parent.invalidateSize(true, false, false, sourceId, addToSnap);\r\n                }\r\n            });\r\n        }\r\n\r\n        if (this.props.onInvalidateSize)\r\n            this.props.onInvalidateSize();\r\n    };\r\n\r\n    onWindowSizeChange = () => {\r\n        this.addToSnap();\r\n        this.prepareRects();\r\n        Object.values(this.allChildRefs).forEach(childRef => {\r\n            if (childRef && childRef.current) {\r\n                childRef.current.onWindowSizeChange();\r\n            }\r\n        });\r\n    };\r\n\r\n    getRenderChildData = (id) => {\r\n        return this.children[id];\r\n    };\r\n\r\n    arrangeIndex = (child, type) => {\r\n        let childData = this.getFromTempData(\"savedChildren\")[child.props.id];\r\n        let currentIndex = childData.zIndex;\r\n\r\n        if (!currentIndex)\r\n            currentIndex = 0;\r\n\r\n        let indexData = this.getNextIndexData(currentIndex);\r\n        switch (type) {\r\n            case \"forward\":\r\n                childData.zIndex = indexData.nextZIndex;\r\n                if (indexData.nextChild) {\r\n                    indexData.nextChild.zIndex = currentIndex;\r\n                    this.getRenderChildData(indexData.nextChild.props.id).zIndex = currentIndex;\r\n                }\r\n                break;\r\n            case \"backward\":\r\n                childData.zIndex = indexData.prevZIndex;\r\n                if (indexData.prevChild) {\r\n                    indexData.prevChild.zIndex = currentIndex;\r\n                    this.getRenderChildData(indexData.prevChild.props.id).zIndex = currentIndex;\r\n                }\r\n                break;\r\n            case \"front\":\r\n                childData.zIndex = indexData.lastZIndex + 1;\r\n                break;\r\n            case \"back\":\r\n                childData.zIndex = indexData.firstZIndex - 1;\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.getRenderChildData(childData.props.id).zIndex = childData.zIndex;\r\n\r\n        this.updateLayout();\r\n    };\r\n\r\n    changeIndex = (child, index) => {\r\n        let allChildData = this.getFromTempData(\"savedChildren\");\r\n        let childData = allChildData[child.props.id];\r\n        let currentIndex = childData.zIndex;\r\n\r\n        if (currentIndex === index)\r\n            return;\r\n\r\n        if (!currentIndex)\r\n            currentIndex = 0;\r\n\r\n        let findIndex = (zIndex) => {\r\n            return allChildData.findIndex(a => {\r\n                return a.zIndex === zIndex;\r\n            });\r\n        };\r\n\r\n        let change = currentIndex < index ? -1 : 1;\r\n\r\n        if (findIndex(index)) // if false, means index is free to set\r\n        {\r\n            let startIndex = currentIndex < index ? findIndex(currentIndex) || 0 : findIndex(index);\r\n            let lastIndex = currentIndex < index ? findIndex(index) : findIndex(currentIndex) || 0 ;\r\n\r\n            for (let i = startIndex; i < lastIndex + 1; i++) {\r\n                let testChildData = allChildData[i];\r\n                testChildData.zIndex += change;\r\n                this.getRenderChildData(testChildData.props.id).zIndex = testChildData.zIndex;\r\n            }\r\n        }\r\n\r\n        childData.zIndex = index;\r\n        this.getRenderChildData(childData.props.id).zIndex = childData.zIndex;\r\n\r\n        this.updateLayout();\r\n    };\r\n\r\n    setChildZIndex = (childId, zIndex) => {\r\n        let allChildData = this.getFromTempData(\"savedChildren\");\r\n        let childData = allChildData[childId];\r\n        childData.zIndex = zIndex;\r\n        this.getRenderChildData(childData.props.id).zIndex = childData.zIndex;\r\n    };\r\n\r\n    getNextIndexData = (currentIndex) => {\r\n        let children = Object.values(this.getFromTempData(\"savedChildren\") || {});\r\n        children.sort((a, b) => {\r\n            if (a.zIndex > b.zIndex) {\r\n                return 1;\r\n            } else if (a.zIndex === b.zIndex) {\r\n                // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                return 0;\r\n            }\r\n            return -1;\r\n        });\r\n        let result = {};\r\n        for (let i = 0; i < children.length; i++){\r\n            let child = children[i];\r\n\r\n            let childZIndex = child.zIndex;\r\n\r\n            if (i === 0) {\r\n                result.firstZIndex = childZIndex;\r\n            }\r\n\r\n            if (i === children.length - 1) {\r\n                result.lastZIndex = childZIndex;\r\n            }\r\n\r\n            if (result.nextChild === undefined && childZIndex > currentIndex){\r\n                result.nextChild = child;\r\n                result.nextZIndex = childZIndex;\r\n                continue;\r\n            }\r\n\r\n            if (childZIndex < currentIndex){\r\n                result.prevChild = child;\r\n                result.prevZIndex = childZIndex;\r\n                // continue;\r\n            }\r\n        }\r\n\r\n        if (!result.nextChild)\r\n            result.nextZIndex = result.lastZIndex + 1;\r\n        if (!result.prevChild)\r\n            result.prevZIndex = result.firstZIndex - 1;\r\n\r\n        if (result.lastZIndex === undefined)\r\n            result.lastZIndex = 0;\r\n\r\n        return result;\r\n    };\r\n\r\n    updateLayout = (callback) => {\r\n        if (this.callOverride(\"updateLayout\", callback))\r\n            return;\r\n\r\n        this.setState({reload: true}, callback);\r\n    };\r\n\r\n    isPointInclude = (x, y, forceCalculate) => {\r\n        let rect = this.getSize(false, forceCalculate);\r\n        return x >= rect.left && x <= rect.left + rect.width &&\r\n            y >= rect.top && y <= rect.top + rect.height;\r\n    };\r\n\r\n    addChild = (childElement, newId, newProps, callback, onChildMounted, fixed, keepChildren) => {\r\n        if (this.callOverride(\"addChild\", childElement, newId, newProps, callback, onChildMounted, fixed))\r\n            return;\r\n\r\n        if (!childElement.props.tagName && !childElement.type) {\r\n            throw new Error(\"childElement must pass tagName prop to AGL or be primitive type\");\r\n        }\r\n\r\n        let lastZIndex = this.getNextIndexData(0).lastZIndex;\r\n        let props = newId? newProps: {...childElement.props};\r\n        let createdChild = this.createChildByData({\r\n            tagName: childElement.props.tagName? childElement.props.tagName:\r\n                childElement.type.name? childElement.type.name: childElement.type,\r\n            props: this.getClearProps(props, keepChildren)\r\n        }, DynamicComponents, newId, onChildMounted, fixed);\r\n        this.children[props.id] = {\r\n            child: createdChild,\r\n            zIndex: lastZIndex + 1\r\n        };\r\n\r\n        this.props.griddata.savedChildren[props.id] = {\r\n            tagName: childElement.props.tagName? childElement.props.tagName:\r\n                childElement.type.name? childElement.type.name: childElement.type,\r\n            props: this.getClearProps(props),\r\n            zIndex: this.children[props.id].zIndex\r\n        };\r\n\r\n        this.updateLayout(callback);\r\n        this.props.onChildAdd && this.props.onChildAdd();\r\n    };\r\n\r\n    onBreakpointChange = (width, newBreakpointName, devicePixelRatio) => {\r\n        if (this.callOverride(\"onBreakpointChange\", width, newBreakpointName, devicePixelRatio))\r\n            return;\r\n\r\n        let style = this.getCompositeFromData(\"style\");\r\n        let gridItemStyle = this.getCompositeFromData(\"gridItemStyle\");\r\n        let transform = this.getCompositeFromData(\"transform\");\r\n        this.setStyle(style, undefined, undefined, true);\r\n        this.setGridItemStyle(gridItemStyle, undefined, true);\r\n        this.setTransformStyle(transform, undefined, undefined, true);\r\n\r\n        Object.values(this.allChildRefs).forEach(childRef => {\r\n            if (childRef && childRef.current) {\r\n                childRef.current.onBreakpointChange(width, newBreakpointName, devicePixelRatio);\r\n            }\r\n        });\r\n\r\n        this.updateLayout();\r\n\r\n        this.onPropsChange.trigger();\r\n\r\n        this.callPost(\"onBreakpointChange\", width, newBreakpointName, devicePixelRatio);\r\n    };\r\n\r\n    onDeletingChild = (item, fromUndoRedo) => {\r\n        if (this.props.onDeletingChild)\r\n            this.props.onDeletingChild(item, fromUndoRedo);\r\n    }\r\n\r\n    delete = (fromUndoRedo) => {\r\n        if (this.callOverride(\"delete\"))\r\n            return;\r\n\r\n        if (!this.props.parent)\r\n            return;\r\n\r\n\r\n        if (this.props.onItemPreDelete) {\r\n            let allow = this.props.onItemPreDelete(this);\r\n            if (!allow)\r\n                return;\r\n        }\r\n\r\n        console.log(\"delete\", fromUndoRedo)\r\n        this.props.parent.onDeletingChild(this, fromUndoRedo);\r\n\r\n        if (!fromUndoRedo && !this.props.isSection) {\r\n            let itemId = this.props.id;\r\n            let parentId = this.props.parent.props.id;\r\n            let childData = cloneObject(this.props.parent.getChildData(itemId));\r\n            this.props.undoredo.add((idMan) => {\r\n                idMan.getItem(itemId).delete(true);\r\n            }, (idMan) => {\r\n                createItem(idMan.getItem(parentId), childData, true);\r\n            });\r\n        }\r\n\r\n        this.clearItem();\r\n\r\n        this.props.parent.removeChildElement(this);\r\n\r\n        this.props.select.clearMiniMenu();\r\n    };\r\n\r\n    getChildData = (childId) => {\r\n        return this.props.griddata.savedChildren[childId];\r\n    };\r\n\r\n    getOverrideProp = (funcName) => {\r\n        let key = Object.keys(this.props).find(key => {\r\n            return key === `${funcName}Override`;\r\n        });\r\n\r\n        return this.props[key];\r\n    };\r\n\r\n    getAllOverrideProps = (props) => {\r\n        let result = {};\r\n        Object.keys(props || this.props).forEach(key => {\r\n            if (key.endsWith(\"Override\")) {\r\n                result[key] = this.props[key];\r\n            }\r\n        });\r\n\r\n        return result;\r\n    };\r\n\r\n    getAllChildOverrideProps = (props) => {\r\n        let result = {};\r\n        Object.keys(props || this.props).forEach(key => {\r\n            if (key.endsWith(\"ChildOverride\")) {\r\n                result[key.replace(\"ChildOverride\", \"Override\")] = this.props[key];\r\n            }\r\n        });\r\n\r\n        return result;\r\n    };\r\n\r\n    clearItem = () => {\r\n        this.props.idMan.removeId(this.props.id);\r\n        this.props.gridLine.removeGridLine(this.props.id);\r\n        this.props.snap.removeSnap(this.props.id);\r\n\r\n        let anchor = this.getFromTempData(\"anchor\");\r\n        anchor && this.props.anchorMan.removeAnchor(anchor.id, this);\r\n\r\n        this.state.selected && this.props.select.updateResizePanes();\r\n        this.state.selected && this.props.select.updateHelpSizeLines();\r\n        this.state.selected && this.props.select.setInspector();\r\n        if (this.state.selected)\r\n            this.props.select.selectedItem = false;\r\n        Object.values(this.allChildRefs).forEach(childRef => {\r\n            if (childRef && childRef.current) {\r\n                childRef.current.clearItem();\r\n            }\r\n        });\r\n    };\r\n\r\n    getClearProps = (props, keepChildren) => {\r\n        delete props.breakpointmanager;\r\n        delete props.undoredo;\r\n        delete props.dragdrop;\r\n        delete props.select;\r\n        delete props.editor;\r\n        delete props.snap;\r\n        delete props.idMan;\r\n        delete props.input;\r\n        delete props.copyMan;\r\n        delete props.anchorMan;\r\n        delete props.aglRef;\r\n        delete props.parent;\r\n        delete props.window;\r\n        delete props.document;\r\n        delete props.viewRef;\r\n        delete props.aglComponent;\r\n        if (!keepChildren)\r\n            delete props.children;\r\n        delete props.allChildRefs;\r\n        delete props.gridLine;\r\n        delete props.page;\r\n        delete props.gridEditorRef;\r\n        delete props.onChildMounted;\r\n        if (props.griddata)\r\n            delete props.griddata.filDataOnMount;\r\n\r\n        Object.keys(this.getAllOverrideProps(props)).forEach(key => {\r\n            delete props[key];\r\n        });\r\n\r\n        Object.keys(props).forEach(key => {\r\n            if (typeof props[key] === \"function\")\r\n                delete props[key];\r\n        });\r\n\r\n        return props;\r\n    };\r\n\r\n    removeChildElement = (childElement, callback) => {\r\n        if (this.hasOverride(\"removeChildElement\"))\r\n            return this.callOverride(\"removeChildElement\", childElement);\r\n\r\n        delete this.children[childElement.props.id];\r\n        delete this.allChildRefs[childElement.props.id];\r\n        delete this.props.griddata.savedChildren[childElement.props.id];\r\n\r\n        setTimeout(() => {\r\n            if (!this.mounted)\r\n                return;\r\n            this.updateLayout(callback);\r\n        }, 0);\r\n\r\n        this.callPost(\"removeChildElement\",\r\n            childElement);\r\n    };\r\n\r\n    // Can be remove carefully\r\n    hide = () => {\r\n        this.setState({hide: true});\r\n    };\r\n\r\n    // Can be remove carefully\r\n    show = () => {\r\n        this.setState({hide: false});\r\n    };\r\n\r\n    onMouseOver = (e, fromEnter) => {\r\n        if (!this.props.dragdrop.getDragging()) {\r\n            e.stopPropagation();\r\n\r\n            // if (this.getFromTempData(\"selected\"))\r\n            //     return;\r\n\r\n            this.setItemHover(true);\r\n\r\n            this.setMouseOverForNonDragging(this);\r\n\r\n            if (this.props.parent && this.props.parent.onMouseOut) {\r\n                setTimeout(() => {\r\n                    if (!this.mounted)\r\n                        return;\r\n                    this.props.parent.onMouseOut(e, true);\r\n                }, 10);\r\n            }\r\n        } else {\r\n            if (this.props.isPage)\r\n                return;\r\n\r\n            if (this.props.dragdrop.getDragging().props.id === this.props.id)\r\n                return;\r\n\r\n            e.stopPropagation();\r\n\r\n            let rect = getCachedBoundingRect(this.props.id, this.rootDivRef.current);\r\n            if (e.clientX < rect.x - 1 || e.clientX > (rect.x + rect.width) ||\r\n                e.clientY < rect.y - 1 || e.clientY > (rect.y + rect.height))\r\n                return;\r\n\r\n            this.setItemHover(true);\r\n\r\n            if (this.props.parent && this.props.parent.onMouseOut) {\r\n                setTimeout(() => {\r\n                    if (!this.mounted)\r\n                        return;\r\n                    this.props.parent.onMouseOut(e, true);\r\n                }, 10);\r\n            }\r\n\r\n            this.setMouseOver(this, {\r\n                x: e.clientX,\r\n                y: e.clientY\r\n            }, (draggingItem, mouseOver) => {\r\n                // on new parent state changed\r\n                draggingItem.toggleHelpLines(this);\r\n            });\r\n        }\r\n    };\r\n\r\n    setMouseOverForNonDragging = () => {\r\n        if (this.hasOverride(\"setMouseOverForNonDragging\"))\r\n            return this.callOverride(\"setMouseOverForNonDragging\");\r\n\r\n        this.props.dragdrop.setMouseOverForNonDragging(this);\r\n    };\r\n\r\n    setItemHover = (hover) => {\r\n        if (!this.isEditor()) return;\r\n\r\n        if (hover)\r\n            this.props.select.updateHover(this, this.getSize(false));\r\n        else\r\n            this.props.select.updateHover(this, undefined, true);\r\n    };\r\n\r\n    onMouseEnter = (e) => {\r\n        if (this.hasOverride(\"onMouseEnter\"))\r\n            this.callOverride(\"onMouseEnter\", e);\r\n\r\n        this.onMouseOver(e, true);\r\n    };\r\n\r\n    onMouseOut = (e, outAllParent) => {\r\n        if (this.hasOverride(\"onMouseOut\"))\r\n            this.callOverride(\"onMouseOut\", e);\r\n\r\n        if (outAllParent && this.props.parent && this.props.parent.onMouseOut)\r\n            this.props.parent.onMouseOut(e);\r\n\r\n        this.setItemHover(false);\r\n    };\r\n\r\n    prepareRects = (forceRect, forceGridLines, callback, gridType) => {\r\n        if (this.hasOverride(\"prepareRects\"))\r\n            return this.callOverride(\"prepareRects\", forceRect, forceGridLines);\r\n\r\n        let rect = this.getSize(false, forceRect);\r\n\r\n        if (forceGridLines || !this.props.gridLine.isPrepared(this.props.id)) {\r\n            this.isEditor() && this.props.gridLine.prepareRects(this.props.id);\r\n        }\r\n\r\n        return rect;\r\n    };\r\n\r\n    onChildDrop = (child, newId, fixed, onNewChildMounted) => {\r\n        if (this.callOverride(\"onChildDrop\", child, newId, fixed, onNewChildMounted))\r\n            return;\r\n\r\n        let childRect = child.getSize(false);\r\n        let thisRect = this.getSize(false, true);\r\n\r\n        let calcResult, gridItemStyle, coordinates, newProps;\r\n\r\n        if (!newId) {\r\n            let relativeY = childRect.top - thisRect.top;\r\n            // if (fixed) {\r\n            //     // relativeY = childRect.top - this.props.breakpointmanager.getWindowHeight() / 8;\r\n            //     relativeY = childRect.top - thisRect.top;\r\n            // }\r\n            this.prepareRects();\r\n            calcResult = this.calculateChildGridItem(child,\r\n                childRect.left - thisRect.left, relativeY, this,\r\n                childRect.width,\r\n                childRect.height,\r\n                thisRect\r\n            );\r\n        }\r\n        else\r\n        {\r\n            this.prepareRects();\r\n            calcResult = this.calculateChildGridItem(child,\r\n                thisRect.width / 2 - childRect.width / 2,\r\n                thisRect.height / 2 - childRect.height / 2,\r\n                this,\r\n                childRect.width,\r\n                childRect.height,\r\n                thisRect\r\n            );\r\n        }\r\n\r\n        gridItemStyle = calcResult.gridItemStyle;\r\n        coordinates = calcResult.coordinates;\r\n        if (!newId) {\r\n            if (gridItemStyle.alignSelf !== \"stretch\") {\r\n                if (child.getFromData(\"style\").width !== \"auto\")\r\n                    child.setProps(\"width\", childRect.width, coordinates, undefined,\r\n                        this.props.breakpointmanager.getHighestBpName());\r\n            } else {\r\n                child.setProps(\"width\", \"auto\", undefined,\r\n                    this.props.breakpointmanager.getHighestBpName());\r\n            }\r\n            if (child.getFromData(\"style\").height === \"auto\")\r\n                if (child.getFromData(\"style\").minHeight !== \"auto\")\r\n                    child.setProps(\"minHeight\", childRect.height, coordinates, undefined,\r\n                        this.props.breakpointmanager.getHighestBpName());\r\n            else {\r\n                if (child.getFromData(\"style\").height !== \"auto\")\r\n                    child.setProps(\"height\", childRect.height, coordinates, undefined,\r\n                        this.props.breakpointmanager.getHighestBpName());\r\n                if (child.getFromData(\"style\").minHeight !== \"auto\")\r\n                    child.setProps(\"minHeight\", childRect.height, coordinates, undefined,\r\n                        this.props.breakpointmanager.getHighestBpName());\r\n            }\r\n        } else {\r\n            newProps = {...child.props};\r\n            newProps.griddata = cloneObject(newProps.griddata);\r\n            this.setDataInBreakpoint(\"gridItemStyle\", gridItemStyle, newProps.griddata, undefined,\r\n                this.props.breakpointmanager.getHighestBpName());\r\n            this.setTempData(\"selected\", true, newProps.griddata);\r\n            if (gridItemStyle.alignSelf !== \"stretch\") {\r\n                this.setProps(\"width\", childRect.width, coordinates, newProps.griddata, undefined,\r\n                    this.props.breakpointmanager.getHighestBpName());\r\n            } else {\r\n                this.setProps(\"width\", \"auto\", undefined, newProps.griddata, undefined,\r\n                    this.props.breakpointmanager.getHighestBpName());\r\n            }\r\n            if (child.getFromData(\"style\").height === \"auto\")\r\n                this.setProps(\"minHeight\", childRect.height, coordinates, newProps.griddata, undefined,\r\n                    this.props.breakpointmanager.getHighestBpName());\r\n            else {\r\n                this.setProps(\"height\", childRect.height, coordinates, newProps.griddata, undefined,\r\n                    this.props.breakpointmanager.getHighestBpName());\r\n                this.setProps(\"minHeight\", childRect.height, coordinates, newProps.griddata, undefined,\r\n                    this.props.breakpointmanager.getHighestBpName());\r\n            }\r\n        }\r\n\r\n        child.clearFromAllBp(\"style\", undefined, this.props.breakpointmanager.getHighestBpName());\r\n        child.clearFromAllBp(\"gridItemStyle\", undefined, this.props.breakpointmanager.getHighestBpName());\r\n\r\n        this.addChild(child, newId, newProps, () => {\r\n            let newChild = this.allChildRefs[newId? newProps.id: child.props.id].current;\r\n            newChild.setGridItemStyle(gridItemStyle,\r\n                this.props.breakpointmanager.getHighestBpName());\r\n            if (!newId) {\r\n                newChild.state.selected && newChild.toggleHelpLines(this);\r\n            }\r\n\r\n        }, (agl) => {\r\n            window.requestAnimationFrame(() => {\r\n                this.invalidateSize(true, true, true);\r\n                window.requestAnimationFrame(() => {\r\n                    this.props.select.onScrollItem();\r\n                });\r\n            });\r\n            if (onNewChildMounted)\r\n                onNewChildMounted(agl);\r\n        }, fixed, undefined);\r\n    };\r\n\r\n    onChildLeave = (child, callback) => {\r\n        if (this.hasOverride(\"onChildLeave\"))\r\n            return this.callOverride(\"onChildLeave\", child, callback);\r\n\r\n        this.removeChildElement(child, callback);\r\n        child.removeIdAndChildrenId();\r\n\r\n        this.callPost(\"onChildLeave\",\r\n            child);\r\n    };\r\n\r\n    removeIdAndChildrenId = () => {\r\n        this.props.idMan.removeId(this.props.id);\r\n        Object.values(this.allChildRefs).forEach(childRef => {\r\n            if (childRef && childRef.current) {\r\n                childRef.current.removeIdAndChildrenId();\r\n            }\r\n        });\r\n    };\r\n\r\n    nonePointerEventForChildren = (parentDragging) => {\r\n        Object.values(this.allChildRefs).forEach(childRef => {\r\n            if (childRef && childRef.current) {\r\n                childRef.current.onParentDragging(parentDragging);\r\n            }\r\n        });\r\n    };\r\n\r\n    onParentDragging = (parentDragging) => {\r\n        this.nonePointerEventForChildren(parentDragging);\r\n        if (!parentDragging) {\r\n            this.setRuntimeStyle();\r\n            return;\r\n        }\r\n        let runtimeStyle = {...this.state.runtimeStyle};\r\n        runtimeStyle.pointerEvents = \"none\";\r\n        this.setRuntimeStyle(runtimeStyle);\r\n    };\r\n\r\n    onChildDragStart = (child, e, group, callGroup) => {\r\n        if (this.callOverride(\"onChildDragStart\", child, e, group, callGroup))\r\n            return;\r\n    }\r\n\r\n    onDragStart = (e, group, callGroup) => {\r\n        if (this.callOverride(\"onDragStart\", e, group, callGroup))\r\n            return;\r\n\r\n        if (this.getFromTempData(\"dontMove\") || this.resizing || !this.props.parent.children[this.props.id])\r\n            return;\r\n\r\n        if (this.props.parent) {\r\n            this.props.parent.prepareRects();\r\n            this.props.parent.onChildDragStart(this, e, group, callGroup);\r\n        }\r\n\r\n        if (!group)\r\n            this.props.dragdrop.setDragging(this);\r\n\r\n        this.nonePointerEventForChildren(true);\r\n\r\n        if (isStretch(this))\r\n            stretch(this);\r\n\r\n        let thisRect = this.getSize(false);\r\n\r\n        let runtimeStyle = {...this.state.runtimeStyle};\r\n        runtimeStyle.position = \"fixed\";\r\n        runtimeStyle.gridArea = \"auto/auto/auto/auto\";\r\n        runtimeStyle.marginBottom = \"auto\";\r\n        runtimeStyle.marginTop = \"auto\";\r\n        runtimeStyle.marginLeft = \"auto\";\r\n        runtimeStyle.marginRight = \"auto\";\r\n        runtimeStyle.width = thisRect.width;\r\n        runtimeStyle.height = thisRect.height;\r\n        runtimeStyle.minWidth = \"auto\";\r\n        runtimeStyle.minHeight = \"auto\";\r\n        runtimeStyle.opacity = 0.7;\r\n        runtimeStyle.zIndex = 999999;\r\n        runtimeStyle.pointerEvents = \"none\";\r\n\r\n        if (!this.moveWithMouse) {\r\n            runtimeStyle.top = thisRect.top;\r\n            runtimeStyle.left = thisRect.left;\r\n        } else {\r\n            runtimeStyle.top = e.clientY - thisRect.height / 2;\r\n            runtimeStyle.left = e.clientX - thisRect.width / 2;\r\n        }\r\n\r\n        this.dragData = {\r\n            firstPos: {\r\n                top: runtimeStyle.top,\r\n                left: runtimeStyle.left\r\n            },\r\n            firstBoundaryPos: this.getBoundarySize() && {\r\n                top: this.moveWithMouse? e.clientX - thisRect.width / 2 : this.getBoundarySize().top,\r\n                left: this.moveWithMouse? e.clientY - thisRect.height / 2 : this.getBoundarySize().left\r\n            },\r\n            x: runtimeStyle.left,\r\n            y: runtimeStyle.top,\r\n            lastMouseX: e.clientX,\r\n            lastMouseY: e.clientY,\r\n        };\r\n\r\n        this.setRuntimeStyle(runtimeStyle);\r\n        this.draggingStart = true;\r\n        this.setDraggingState(true, true, undefined, runtimeStyle);\r\n\r\n        this.props.select.updateMenu();\r\n        this.props.select.clearMiniMenu();\r\n\r\n        if (this.props.dragdrop.getMouseOverForNonDragging()) {\r\n            this.props.dragdrop.getMouseOverForNonDragging().onMouseOver(e);\r\n        }\r\n\r\n        if (group && callGroup)\r\n            this.state.groupDragStart(e, this);\r\n    };\r\n\r\n    setMouseOver = (item, positionData, callback) => {\r\n        if (this.hasOverride(\"setMouseOver\"))\r\n            return this.callOverride(\"setMouseOver\", item, positionData, callback);\r\n\r\n        return this.props.dragdrop.setMouseOver(item, positionData, callback);\r\n    };\r\n\r\n    onChildDrag = (child, e, group, callGroup) => {\r\n        if (this.callOverride(\"onChildDrag\", child, e, group, callGroup))\r\n            return;\r\n    }\r\n\r\n    onDrag = (e, group, callGroup) => {\r\n        if (this.callOverride(\"onDrag\", e, group, callGroup))\r\n            return;\r\n\r\n        if (!this.props.parent.children[this.props.id]) {\r\n            return;\r\n        }\r\n        if (this.resizing || !this.state.draggingStart) {\r\n            if (this.props.dragdrop.getDragging()) {\r\n                this.props.dragdrop.setDragging();\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (this.props.parent)\r\n            this.props.parent.onChildDrag(this, e, group, callGroup);\r\n\r\n        this.dragData.x += (e.clientX - this.dragData.lastMouseX);\r\n        this.dragData.y += (e.clientY - this.dragData.lastMouseY);\r\n        this.dragData.lastMouseX = e.clientX;\r\n        this.dragData.lastMouseY = e.clientY;\r\n\r\n        let runtimeStyle = {...this.state.runtimeStyle};\r\n        runtimeStyle.top = this.dragData.y;\r\n        runtimeStyle.left = this.dragData.x;\r\n\r\n        // For snaps\r\n        let boundarySize = this.getBoundarySize();\r\n        if (boundarySize)\r\n            boundarySize = {\r\n                top: this.dragData.firstBoundaryPos.top + (this.dragData.y - this.dragData.firstPos.top),\r\n                left: this.dragData.firstBoundaryPos.left + (this.dragData.x - this.dragData.firstPos.left),\r\n                width: boundarySize.width,\r\n                height: boundarySize.height\r\n            };\r\n        else\r\n            boundarySize = runtimeStyle;\r\n\r\n        if (!isFixed(this) && !group)\r\n            this.checkSnapOnDrag(runtimeStyle, boundarySize);\r\n        this.setRuntimeStyle(runtimeStyle);\r\n\r\n        this.props.select.updateResizePanes(this, runtimeStyle);\r\n\r\n        if (!group)\r\n            this.updateGridLines(\r\n                runtimeStyle.top,\r\n                runtimeStyle.left,\r\n                window.innerHeight - runtimeStyle.top - runtimeStyle.height,\r\n                window.innerWidth - runtimeStyle.left - runtimeStyle.width,\r\n                \"A\"\r\n            );\r\n\r\n        if (!group)\r\n            this.props.select.updateHelpLines(this, this.state.helpLinesParent,\r\n                cloneObject(runtimeStyle), this.state.dragging);\r\n\r\n        if (group && callGroup)\r\n            this.state.groupDrag(e, this);\r\n    };\r\n\r\n    updateGridLines = (top, left, bottom, right, gridType) => {\r\n        if (!this.isEditor()) return;\r\n\r\n        if (!this.getFromTempData(\"isContainer\"))\r\n            return;\r\n\r\n        let grid = this.getFromData(\"grid\");\r\n        this.props.gridLine.addGrid(\r\n            this.props.id,\r\n            grid.x,\r\n            grid.y,\r\n            gridType,\r\n            grid.gridTemplateRows,\r\n            grid.gridTemplateColumns,\r\n            {\r\n                top,\r\n                left,\r\n                bottom,\r\n                right,\r\n            }\r\n        )\r\n    };\r\n\r\n    onDragStop = (e, group, callGroup) => {\r\n        if (this.hasOverride(\"onDragStop\"))\r\n            return this.callOverride(\"onDragStop\", e, group, callGroup);\r\n\r\n        if (this.resizing || !this.state.draggingStart || !this.props.parent.children[this.props.id])\r\n            return;\r\n\r\n        if (group && callGroup)\r\n            this.state.groupDragStop(e, this);\r\n\r\n        if (group)\r\n            // this.props.parent.prepareRects(true);\r\n            this.props.parent.prepareRects();\r\n\r\n        let {top, left, width, height} = this.state.runtimeStyle;\r\n\r\n        this.props.snap.drawSnap();\r\n        this.getSize(true, true);\r\n        if (group || !this.props.dragdrop.setDraggingStop()){\r\n            let parentRect = this.props.parent.getSize(false);\r\n            this.setPosition(\r\n                group,\r\n                left - parentRect.left,\r\n                top - parentRect.top,\r\n                this.dragData.firstPos.left - parentRect.left,\r\n                this.dragData.firstPos.top - parentRect.top, width, height, parentRect);\r\n            return;\r\n        } else if (!group) {\r\n            this.dropped = true;\r\n        }\r\n\r\n        // this.setState({dragging: false, draggingStart: false});\r\n\r\n        if (!group)\r\n            this.updateGridLines(\r\n                top, left,\r\n                window.innerHeight - top - height,\r\n                window.innerWidth - left - width,\r\n                \"A\"\r\n            );\r\n\r\n        this.props.select.updateMiniMenu();\r\n    };\r\n\r\n    setPosition = (group, relativeX, relativeY, firstRelativeX, firstRelativeY,\r\n                   width, height, parentRect, fromUndoRedo) => {\r\n        if (!fromUndoRedo) {\r\n            let itemId = this.props.id;\r\n            let parentId = this.props.parent.props.id;\r\n            let redoData = [group, relativeX, relativeY, firstRelativeX, firstRelativeY,\r\n                width, height, parentRect];\r\n            let undoData = [group, firstRelativeX, firstRelativeY, undefined, undefined,\r\n                width, height, parentRect];\r\n            this.props.undoredo.add((idMan) => {\r\n                idMan.getItem(itemId).onSelect(true);\r\n                idMan.getItem(itemId).props.dragdrop.setMouseOver(idMan.getItem(parentId));\r\n                idMan.getItem(itemId).setPosition(...redoData, true);\r\n            }, (idMan) => {\r\n                idMan.getItem(itemId).onSelect(true);\r\n                idMan.getItem(itemId).props.dragdrop.setMouseOver(idMan.getItem(parentId));\r\n                idMan.getItem(itemId).setPosition(...undoData, true);\r\n            });\r\n        }\r\n\r\n        if (this.hasOverride(\"setPosition\"))\r\n            return this.callOverride(\"setPosition\",\r\n                group, relativeX, relativeY, firstRelativeX, firstRelativeY,\r\n                width, height, parentRect, fromUndoRedo);\r\n\r\n        let {gridItemStyle, coordinates} = this.calculateGridItem(relativeX, relativeY, this.props.parent,\r\n            width, height, parentRect);\r\n\r\n        // TODO uncomment if bug found\r\n        // if (gridItemStyle.justifySelf !== \"stretch\"){\r\n        //     this.setProps(\"width\", width, coordinates, undefined, undefined, true);\r\n        // } else {\r\n        //     this.setProps(\"width\", \"auto\", undefined, undefined, undefined, true);\r\n        // }\r\n        // if (this.getCompositeFromData(\"style\").height === \"auto\")\r\n        //     this.setProps(\"minHeight\", height, coordinates, undefined, undefined, true);\r\n        // else {\r\n        //     this.setProps(\"height\", height, coordinates, undefined, undefined, true);\r\n        //     this.setProps(\"minHeight\", height, coordinates, undefined, undefined, true);\r\n        // }\r\n\r\n        this.setGridItemStyle(gridItemStyle);\r\n\r\n        this.nonePointerEventForChildren(false);\r\n        this.setRuntimeStyle();\r\n        // this.setState({dragging: false, draggingStart: false}, () => {\r\n        //     this.addToSnap();\r\n        // });\r\n        let top = relativeY + parentRect.top;\r\n        let left = relativeX + parentRect.left;\r\n        this.setDraggingState(false, false, () => {\r\n            this.addToSnap();\r\n        }, {top, left, width, height});\r\n\r\n        if (!group)\r\n            this.props.select.updateHelpLines(this, this.state.helpLinesParent,\r\n                {top, left, width, height}, this.state.dragging);\r\n\r\n        this.dropped = false;\r\n\r\n        // this.props.select.updateSize();\r\n        // this.props.select.updateResizePanes(this, {top, left, width, height});\r\n        // this.props.select.updateMiniMenu();\r\n\r\n        setTimeout(() => {\r\n            if (!this.mounted)\r\n                return;\r\n\r\n            // for fixing helpline\r\n            this.props.select.onScrollItem();\r\n        }, 100);\r\n\r\n        this.invalidateSize(false, true, true);\r\n    };\r\n\r\n    setDraggingState = (dragging, draggingStart, callback, rect) => {\r\n        let fakeStyle = cloneObject({\r\n            ...this.getCompositeFromData(\"style\"),\r\n            ...this.getCompositeFromData(\"gridItemStyle\"),\r\n        });\r\n        this.setState({dragging, draggingStart, fakeStyle}, callback);\r\n    };\r\n\r\n    checkSnapOnDrag = (runtimeStyle, boundarySize) => {\r\n        if (this.callOverride(\"checkSnapOnDrag\", runtimeStyle, boundarySize))\r\n            return;\r\n\r\n        let snapDelta1 = this.getSnapDelta(\r\n            boundarySize.top, boundarySize.left);\r\n        let snapDelta2 = this.getSnapDelta(\r\n            boundarySize.top + boundarySize.height/2, boundarySize.left + boundarySize.width/2);\r\n        let snapDelta3 = this.getSnapDelta(\r\n            boundarySize.top + boundarySize.height, boundarySize.left + boundarySize.width);\r\n\r\n        let snapDelta = {\r\n            deltaX: snapDelta2.snapV? snapDelta2.deltaX:\r\n                snapDelta1.snapV? snapDelta1.deltaX:\r\n                    snapDelta3.snapV? snapDelta3.deltaX: 0,\r\n            deltaY: snapDelta2.snapH? snapDelta2.deltaY:\r\n                snapDelta1.snapH? snapDelta1.deltaY:\r\n                    snapDelta3.snapH? snapDelta3.deltaY: 0,\r\n            snapH: (snapDelta2.snapH || snapDelta1.snapH) || snapDelta3.snapH,\r\n            snapV: (snapDelta2.snapV || snapDelta1.snapV) || snapDelta3.snapV\r\n        };\r\n\r\n        runtimeStyle.left += snapDelta.deltaX;\r\n        runtimeStyle.top += snapDelta.deltaY;\r\n        if (boundarySize !== runtimeStyle) {\r\n            boundarySize.left += snapDelta.deltaX;\r\n            boundarySize.top += snapDelta.deltaY;\r\n        }\r\n\r\n        let pointOfSnapH = {\r\n            p1: boundarySize.left,\r\n            p2: boundarySize.left + boundarySize.width\r\n        };\r\n        let pointOfSnapV = {\r\n            p1: boundarySize.top,\r\n            p2: boundarySize.top + boundarySize.height\r\n        };\r\n\r\n        this.props.snap.drawSnap(snapDelta.snapH, snapDelta.snapV, pointOfSnapH, pointOfSnapV);\r\n    };\r\n\r\n    getSnapDelta = (top, left) => {\r\n        let parentGridLines = [];\r\n        if (this.props.parent) {\r\n            if (this.resizing) {\r\n                parentGridLines = this.props.parent.getGridLineSnaps();\r\n            } else {\r\n                // dragging\r\n                if (this.props.dragdrop.mouseOver &&\r\n                    this.props.gridLine.hasGridLine(this.props.dragdrop.mouseOver.props.id))\r\n                    parentGridLines = this.props.dragdrop.mouseOver &&\r\n                        this.props.dragdrop.mouseOver.getGridLineSnaps();\r\n            }\r\n        }\r\n\r\n        let {snapH, snapV} =\r\n            this.props.snap.checkSnap(top, left, this.props.id, parentGridLines);\r\n\r\n        let deltaX = 0;\r\n        let deltaY = 0;\r\n        if (snapH) {\r\n            deltaY = snapH.value - top;\r\n        }\r\n        if (snapV) {\r\n            deltaX = snapV.value - left;\r\n        }\r\n\r\n        return {\r\n            deltaX, deltaY, snapH, snapV\r\n        }\r\n    };\r\n\r\n    setDocks = (top, left, bottom, right, auto, breakpointName, dontCalculate) => {\r\n        this.setDataInBreakpoint(\"docks\", {top, left, bottom, right}, undefined, breakpointName);\r\n        this.setTempData(\"autoDock\", auto);\r\n\r\n        if (!this.props.parent || dontCalculate)\r\n            return;\r\n\r\n        this.props.parent.prepareRects();\r\n        let thisRect = this.getSize(false);\r\n        let parentRect = this.props.parent.getSize(false);\r\n        let {gridItemStyle} =\r\n            this.calculateGridItem(\r\n                thisRect.left - parentRect.left,\r\n                thisRect.top - parentRect.top,\r\n                this.props.parent,\r\n                thisRect.width,\r\n                thisRect.height,\r\n                parentRect\r\n            );\r\n\r\n        this.setGridItemStyle(gridItemStyle, breakpointName);\r\n\r\n        if (gridItemStyle.justifySelf !== \"stretch\" && this.getCompositeFromData(\"style\").width === \"auto\")\r\n        {\r\n            this.setStyleParam(\"width\", `${this.getSize(false).width}px`, undefined, undefined, true);\r\n        }\r\n        else if (gridItemStyle.justifySelf === \"stretch\")\r\n        {\r\n            this.setStyleParam(\"width\", \"auto\", undefined, undefined, true);\r\n        }\r\n    };\r\n\r\n    getDocks = () => {\r\n        return this.getFromData(\"docks\");\r\n    };\r\n\r\n    getBaseDocks = () => {\r\n        let gridItemStyle = this.getCompositeFromData(\"gridItemStyle\");\r\n        return {\r\n            top: gridItemStyle.alignSelf === \"start\" || gridItemStyle.alignSelf === \"stretch\",\r\n            bottom: gridItemStyle.alignSelf === \"end\" || gridItemStyle.alignSelf === \"stretch\",\r\n            left: gridItemStyle.justifySelf === \"start\" || gridItemStyle.justifySelf === \"stretch\",\r\n            right: gridItemStyle.justifySelf === \"end\" || gridItemStyle.justifySelf === \"stretch\",\r\n        }\r\n    };\r\n\r\n    getRuntimeGridItemStyle = () => {\r\n        return this.props.select.getRuntimeGridItemStyle();\r\n    };\r\n\r\n    calculateGridItem = (relativeX, relativeY, parent, width, height, parentRect, fromState, dontAutoDock) => {\r\n        this.callPre(\"calculateGridItem\",\r\n            relativeX, relativeY, parent, width, height, parentRect, fromState, dontAutoDock);\r\n\r\n        if (this.props.parent.props.calculateGridItemForChildren) {\r\n            return this.props.parent.calculateChildGridItem(\r\n                this, relativeX, relativeY, parent, width, height, parentRect, fromState, dontAutoDock);\r\n        }\r\n\r\n        if (this.hasOverride(\"calculateGridItem\"))\r\n            return this.callOverride(\r\n                \"calculateGridItem\", relativeX, relativeY, parent, width, height, parentRect, fromState, dontAutoDock);\r\n\r\n        if (!width) {\r\n            let rect = this.getSize(false, true);\r\n            width = rect.width;\r\n            height = rect.height;\r\n        }\r\n\r\n        if (!parentRect)\r\n            parentRect = parent.getSize(false, true);\r\n\r\n        let gridArea, coordinates;\r\n        if (isFixed(this)) {\r\n            gridArea = {x1: 1, x2: 2, y1: 1, y2: 2};\r\n            coordinates = {\r\n                cy1: parentRect.top,\r\n                cy2: parentRect.top + parentRect.height,\r\n                cx1: parentRect.left,\r\n                cx2: parentRect.left + parentRect.width\r\n            }\r\n        } else {\r\n            let result = this.calculateGridArea(\r\n                parentRect.left + relativeX,\r\n                parentRect.top + relativeY,\r\n                width,\r\n                height,\r\n                parent,\r\n                parentRect\r\n            );\r\n            gridArea = result.gridArea;\r\n            coordinates = result.coordinates;\r\n        }\r\n\r\n        let coordinatesAbs = cloneObject(coordinates);\r\n\r\n        this.coordinateToRelative(coordinates, parentRect);\r\n\r\n        let oldGridItemStyle = this.getCompositeFromData(\"gridItemStyle\");\r\n        let gridItemStyle = cloneObject(oldGridItemStyle);\r\n        gridItemStyle.gridArea = `${gridArea.y1}/${gridArea.x1}/${gridArea.y2}/${gridArea.x2}`;\r\n\r\n        let centerX = (relativeX  - coordinates.cx1) + width / 2;\r\n        let centerY = (relativeY  - coordinates.cy1) + height / 2;\r\n\r\n        let parentCenterMinusX = (coordinates.cx2 - coordinates.cx1) / 2 * (1 - 0.1);\r\n        let parentCenterPlusX = (coordinates.cx2 - coordinates.cx1) / 2 * (1 + 0.1);\r\n\r\n        let yLineRef = this.props.gridLine.getYlineRef(parent.props.id);\r\n        let cy2IsLastLine = gridArea.y2 === yLineRef.length || isFixed(this);\r\n        let xLineRef = this.props.gridLine.getXlineRef(parent.props.id);\r\n        let cx2IsLastLine = gridArea.x2 === xLineRef.length || isFixed(this);\r\n\r\n        let widthForPercent = coordinates.cx2 - coordinates.cx1/* + (cx2IsLastLine?1:0)*/;\r\n        let heightForPercent = coordinates.cy2 - coordinates.cy1/* + (cy2IsLastLine?1:0)*/;\r\n\r\n        let autoDock = this.getFromTempData(\"autoDock\");\r\n        let docks = this.getDocks() || {top: true};\r\n\r\n        if (autoDock && !dontAutoDock) {\r\n            if (centerX < parentCenterPlusX && centerX > parentCenterMinusX) {\r\n                // Center X\r\n                delete docks.left;\r\n                delete docks.right;\r\n            } else if (centerX > parentCenterPlusX) {\r\n                delete docks.left;\r\n                docks.right = true;\r\n            } else {\r\n                docks.left = true;\r\n                delete docks.right;\r\n            }\r\n\r\n            if (cy2IsLastLine && (relativeY + height >= coordinates.cy2) && relativeY >= 0) {\r\n                delete docks.top;\r\n                docks.bottom = true;\r\n            } else {\r\n                docks.top = true;\r\n                delete docks.bottom;\r\n            }\r\n        }\r\n\r\n        gridItemStyle.alignSelf = \"center\";\r\n        gridItemStyle.justifySelf = \"center\";\r\n\r\n        let centerDiffX = (centerX - (coordinates.cx2 - coordinates.cx1) / 2);\r\n        let centerDiffY = (centerY - (coordinates.cy2 - coordinates.cy1) / 2);\r\n        if (centerDiffX >= 0) {\r\n            gridItemStyle.marginRight = `${(-centerDiffX * 2 / widthForPercent * 100).toString()}%`;\r\n            gridItemStyle.marginLeft = \"0%\";\r\n        } else {\r\n            gridItemStyle.marginRight = \"0%\";\r\n            gridItemStyle.marginLeft = `${(centerDiffX * 2 / widthForPercent * 100).toString()}%`;\r\n        }\r\n        gridItemStyle.marginTop =\r\n            this.getPxOrPcOrValue(\r\n                `${(centerDiffY * 2).toString()}`,\r\n                widthForPercent,\r\n                \"px\");\r\n        gridItemStyle.marginBottom = \"0px\";\r\n\r\n        if (docks.top) {\r\n            gridItemStyle.alignSelf = \"start\";\r\n            gridItemStyle.marginTop =\r\n                this.getPxOrPcOrValue(\r\n                `${(relativeY - coordinates.cy1).toString()}`,\r\n                    widthForPercent,\r\n                    this.getUnit(oldGridItemStyle.marginTop) || \"px\");\r\n        } else if (docks.bottom) {\r\n            gridItemStyle.marginTop = \"0px\";\r\n        }\r\n        if (docks.left) {\r\n            gridItemStyle.justifySelf = \"start\";\r\n            gridItemStyle.marginLeft =\r\n                this.getPxOrPcOrValue(\r\n                    `${(relativeX - coordinates.cx1).toString()}`,\r\n                    widthForPercent,\r\n                    this.getUnit(oldGridItemStyle.marginLeft) || \"%\");\r\n        } else if (docks.right) {\r\n            gridItemStyle.marginLeft = \"0%\";\r\n        }\r\n        if (docks.bottom) {\r\n            gridItemStyle.alignSelf = docks.top ? \"stretch\": \"end\";\r\n            gridItemStyle.marginBottom =\r\n                this.getPxOrPcOrValue(\r\n                    `${(coordinates.cy2 - relativeY - height).toString()}`,\r\n                    widthForPercent,\r\n                    this.getUnit(oldGridItemStyle.marginBottom) || \"px\");\r\n        } else if (docks.top) {\r\n            gridItemStyle.marginBottom = \"0px\";\r\n        }\r\n        if (docks.right) {\r\n            gridItemStyle.justifySelf = docks.left? \"stretch\": \"end\";\r\n            gridItemStyle.marginRight =\r\n                this.getPxOrPcOrValue(\r\n                    `${(coordinates.cx2 - (relativeX + width)).toString()}`,\r\n                    widthForPercent,\r\n                    this.getUnit(oldGridItemStyle.marginRight) || \"%\");\r\n        } else if (docks.left) {\r\n            gridItemStyle.marginRight = \"0%\";\r\n        }\r\n\r\n        gridItemStyle.widthForPercent = widthForPercent;\r\n        gridItemStyle.heightForPercent = heightForPercent;\r\n\r\n        let result = {gridItemStyle, gridArea, coordinates, coordinatesAbs};\r\n\r\n        this.callPost(\"calculateGridItem\",\r\n            relativeX, relativeY, parent, width, height, parentRect, fromState, dontAutoDock, result);\r\n\r\n        return result;\r\n    };\r\n\r\n    getPxOrPcOrValue = (value, parentValue, unit) => {\r\n        if (unit === \"px\") {\r\n            return `${value}px`;\r\n        } else if (unit === \"%\") {\r\n            return `${parseFloat(value) / parentValue * 100}%`;\r\n        } else {\r\n            return value\r\n        }\r\n    };\r\n\r\n    calculateChildGridItem = (child, relativeX, relativeY, parent, width, height, parentRect, fromState, dontAutoDock) => {\r\n        this.callPre(\"calculateChildGridItem\",\r\n            child, relativeX, relativeY, parent, width, height, parentRect, fromState, dontAutoDock);\r\n\r\n        if (this.hasOverride(\"calculateChildGridItem\"))\r\n            return this.callOverride(\r\n                \"calculateChildGridItem\",child, relativeX, relativeY, parent, width, height, parentRect, fromState, dontAutoDock);\r\n\r\n        if (!width) {\r\n            let rect = child.getSize(false, true);\r\n            width = rect.width;\r\n            height = rect.height;\r\n        }\r\n\r\n        if (!parentRect)\r\n            parentRect = parent.getSize(false, true);\r\n\r\n        if (isFixed(child)) {\r\n            if (relativeY < 0) relativeY = 0;\r\n            if (relativeY > parentRect.scrollHeightMinusPadding - height)\r\n                relativeY = parentRect.scrollHeightMinusPadding - height;\r\n            if (relativeX < 0) relativeX = 0;\r\n            if (relativeX > parentRect.scrollWidthMinusPadding - width)\r\n                relativeX = parentRect.scrollWidthMinusPadding - width;\r\n        }\r\n\r\n        let gridArea, coordinates;\r\n        if (isFixed(child)) {\r\n            gridArea = {x1: 1, x2: 2, y1: 1, y2: 2};\r\n            coordinates = {\r\n                cy1: parentRect.top,\r\n                cy2: parentRect.top + parentRect.height,\r\n                cx1: parentRect.left,\r\n                cx2: parentRect.left + parentRect.width\r\n            }\r\n        } else {\r\n            let result = this.calculateGridArea(\r\n                parentRect.left + relativeX,\r\n                parentRect.top + relativeY,\r\n                width,\r\n                height,\r\n                parent,\r\n                parentRect\r\n            );\r\n            gridArea = result.gridArea;\r\n            coordinates = result.coordinates;\r\n        }\r\n\r\n        let coordinatesAbs = cloneObject(coordinates);\r\n\r\n        child.coordinateToRelative(coordinates, parentRect);\r\n\r\n        let oldGridItemStyle = child.getCompositeFromData(\"gridItemStyle\");\r\n        let gridItemStyle = cloneObject(oldGridItemStyle);\r\n        gridItemStyle.gridArea = `${gridArea.y1}/${gridArea.x1}/${gridArea.y2}/${gridArea.x2}`;\r\n\r\n        let centerX = (relativeX  - coordinates.cx1) + width / 2;\r\n        let centerY = (relativeY  - coordinates.cy1) + height / 2;\r\n\r\n        let parentCenterMinusX = (coordinates.cx2 - coordinates.cx1) / 2 * (1 - 0.1);\r\n        let parentCenterPlusX = (coordinates.cx2 - coordinates.cx1) / 2 * (1 + 0.1);\r\n\r\n        let yLineRef = this.props.gridLine.getYlineRef(parent.props.id);\r\n        let cy2IsLastLine = gridArea.y2 === yLineRef.length || isFixed(child);\r\n        let xLineRef = this.props.gridLine.getXlineRef(parent.props.id);\r\n        let cx2IsLastLine = gridArea.x2 === xLineRef.length || isFixed(child);\r\n\r\n        let widthForPercent = coordinates.cx2 - coordinates.cx1 + (cx2IsLastLine?1:0);\r\n        let heightForPercent = coordinates.cy2 - coordinates.cy1 + (cy2IsLastLine?1:0);\r\n\r\n        let autoDock = child.getFromTempData(\"autoDock\");\r\n        let docks = child.getDocks() || {top: true};\r\n\r\n        if (autoDock && !dontAutoDock) {\r\n            if (centerX < parentCenterPlusX && centerX > parentCenterMinusX) {\r\n                // Center X\r\n                delete docks.left;\r\n                delete docks.right;\r\n            } else if (centerX > parentCenterPlusX) {\r\n                delete docks.left;\r\n                docks.right = true;\r\n            } else {\r\n                docks.left = true;\r\n                delete docks.right;\r\n            }\r\n\r\n            if (cy2IsLastLine && (relativeY + height >= coordinates.cy2) && relativeY >= 0) {\r\n                delete docks.top;\r\n                docks.bottom = true;\r\n            } else {\r\n                docks.top = true;\r\n                delete docks.bottom;\r\n            }\r\n        }\r\n\r\n        gridItemStyle.alignSelf = \"center\";\r\n        gridItemStyle.justifySelf = \"center\";\r\n\r\n        let centerDiffX = (centerX - (coordinates.cx2 - coordinates.cx1) / 2);\r\n        let centerDiffY = (centerY - (coordinates.cy2 - coordinates.cy1) / 2);\r\n        if (centerDiffX >= 0) {\r\n            gridItemStyle.marginRight = `${(-centerDiffX * 2 / widthForPercent * 100).toString()}%`;\r\n            gridItemStyle.marginLeft = \"0%\";\r\n        } else {\r\n            gridItemStyle.marginRight = \"0%\";\r\n            gridItemStyle.marginLeft = `${(centerDiffX * 2 / widthForPercent * 100).toString()}%`;\r\n        }\r\n        gridItemStyle.marginTop =\r\n            this.getPxOrPcOrValue(\r\n                `${(centerDiffY * 2).toString()}`,\r\n                widthForPercent,\r\n                \"px\");\r\n        gridItemStyle.marginBottom = \"0px\";\r\n\r\n        if (docks.top) {\r\n            gridItemStyle.alignSelf = \"start\";\r\n            gridItemStyle.marginTop =\r\n                this.getPxOrPcOrValue(\r\n                    `${(relativeY - coordinates.cy1).toString()}`,\r\n                    widthForPercent,\r\n                    this.getUnit(oldGridItemStyle.marginTop) || \"px\");\r\n        } else if (docks.bottom) {\r\n            gridItemStyle.marginTop = \"0px\";\r\n        }\r\n        if (docks.left) {\r\n            gridItemStyle.justifySelf = \"start\";\r\n            gridItemStyle.marginLeft =\r\n                this.getPxOrPcOrValue(\r\n                    `${(relativeX - coordinates.cx1).toString()}`,\r\n                    widthForPercent,\r\n                    this.getUnit(oldGridItemStyle.marginLeft) || \"%\");\r\n        } else if (docks.right) {\r\n            gridItemStyle.marginLeft = \"0%\";\r\n        }\r\n        if (docks.bottom) {\r\n            gridItemStyle.alignSelf = docks.top ? \"stretch\": \"end\";\r\n            gridItemStyle.marginBottom =\r\n                this.getPxOrPcOrValue(\r\n                    `${(coordinates.cy2 - relativeY - height).toString()}`,\r\n                    widthForPercent,\r\n                    this.getUnit(oldGridItemStyle.marginBottom) || \"px\");\r\n        } else if (docks.top) {\r\n            gridItemStyle.marginBottom = \"0px\";\r\n        }\r\n        if (docks.right) {\r\n            gridItemStyle.justifySelf = docks.left? \"stretch\": \"end\";\r\n            gridItemStyle.marginRight =\r\n                this.getPxOrPcOrValue(\r\n                    `${(coordinates.cx2 - (relativeX + width)).toString()}`,\r\n                    widthForPercent,\r\n                    this.getUnit(oldGridItemStyle.marginRight) || \"%\");\r\n        } else if (docks.left) {\r\n            gridItemStyle.marginRight = \"0%\";\r\n        }\r\n\r\n        gridItemStyle.widthForPercent = widthForPercent;\r\n        gridItemStyle.heightForPercent = heightForPercent;\r\n\r\n        let result = {gridItemStyle, gridArea, coordinates, coordinatesAbs};\r\n\r\n        this.callPost(\"calculateChildGridItem\",\r\n            child, relativeX, relativeY, parent, width, height, parentRect, fromState, dontAutoDock, result);\r\n\r\n        return result;\r\n    };\r\n\r\n    coordinateToRelative = (coordinates, parentRect) => {\r\n        coordinates.cx1 -= parentRect.left;\r\n        coordinates.cx2 -= parentRect.left;\r\n        coordinates.cy1 -= parentRect.top;\r\n        coordinates.cy2 -= parentRect.top;\r\n    };\r\n\r\n    coordinateToAbsolute = (coordinates, parentRect) => {\r\n        coordinates.cx1 += parentRect.left;\r\n        coordinates.cx2 += parentRect.left;\r\n        coordinates.cy1 += parentRect.top;\r\n        coordinates.cy2 += parentRect.top;\r\n    };\r\n\r\n    getUnit = (value) => {\r\n        if (!value)\r\n            return;\r\n\r\n        if (value.includes(\"%\")) {\r\n            return \"%\";\r\n        } else {\r\n            return \"px\";\r\n        }\r\n    };\r\n\r\n    getTopLeft = (force) => {\r\n        let size = this.getSize(false, force);\r\n        return {\r\n            top: size.top,\r\n            left: size.left\r\n        }\r\n    };\r\n\r\n    pageResizeStart = (e, dir, delta) => {\r\n        if (this.resizing)\r\n            return;\r\n\r\n        this.resizing = true;\r\n\r\n        let runtimeStyle = {...this.state.runtimeStyle};\r\n        runtimeStyle.width = this.getSize().x;\r\n        runtimeStyle.height = this.getSize().y;\r\n\r\n        this.resizeData = {\r\n            firstX: runtimeStyle.width,\r\n            firstLeft: this.getSize().left,\r\n            top: this.getSize().top,\r\n            left: this.getSize().left\r\n        };\r\n\r\n        this.setRuntimeStyle(runtimeStyle);\r\n\r\n        this.setDraggingState(true, false, undefined, runtimeStyle);\r\n\r\n        this.isEditor() && this.props.select.activateHover(false);\r\n\r\n        if (this.props.onPageResizeStart)\r\n            this.props.onPageResizeStart();\r\n\r\n        window.requestAnimationFrame(this.pageResizeCalculate);\r\n    };\r\n\r\n    onResizeStart = (e, dir, delta, group) => {\r\n        if (this.callOverride(\"onResizeStart\", e, dir, delta, group))\r\n            return;\r\n\r\n        if (this.resizing)\r\n            return;\r\n\r\n        if (this.props.parent)\r\n            this.props.parent.prepareRects();\r\n\r\n        this.resizing = true;\r\n\r\n        let thisRect = this.getSize(false);\r\n\r\n        let runtimeStyle = {...this.state.runtimeStyle};\r\n        runtimeStyle.position = \"fixed\";\r\n        runtimeStyle.gridArea = \"auto/auto/auto/auto\";\r\n        runtimeStyle.marginBottom = \"auto\";\r\n        runtimeStyle.marginTop = \"auto\";\r\n        runtimeStyle.marginLeft = \"auto\";\r\n        runtimeStyle.marginRight = \"auto\";\r\n        runtimeStyle.width = thisRect.width;\r\n        runtimeStyle.height = thisRect.height;\r\n        runtimeStyle.minWidth = \"auto\";\r\n        runtimeStyle.minHeight = \"auto\";\r\n        runtimeStyle.maxWidth = \"unset\";\r\n        runtimeStyle.maxHeight = \"unset\";\r\n        runtimeStyle.opacity = 0.7;\r\n        runtimeStyle.zIndex = 999999;\r\n        runtimeStyle.pointerEvents = \"none\";\r\n\r\n        runtimeStyle.top = thisRect.top;\r\n        runtimeStyle.left = thisRect.left;\r\n\r\n        this.resizeData = {\r\n            firstX: runtimeStyle.width,\r\n            firstY: runtimeStyle.height,\r\n            firstTop: runtimeStyle.top,\r\n            firstLeft: runtimeStyle.left,\r\n            lastWidth: runtimeStyle.width,\r\n            lastHeight: runtimeStyle.height,\r\n            firstBoundaryWidth: this.getBoundarySize() && this.getBoundarySize().width,\r\n            firstBoundaryHeight: this.getBoundarySize() && this.getBoundarySize().height,\r\n            firstBoundaryTop: this.getBoundarySize() && this.getBoundarySize().top,\r\n            firstBoundaryLeft: this.getBoundarySize() && this.getBoundarySize().left\r\n        };\r\n\r\n        this.setDraggingState(true, false, undefined, runtimeStyle);\r\n\r\n        this.props.select.clearMiniMenu();\r\n        this.props.select.activateHover(false);\r\n\r\n        this.setRuntimeStyle(runtimeStyle);\r\n\r\n        window.requestAnimationFrame(this.onResizeCalculate);\r\n    };\r\n\r\n    pageResize = (e, dir, delta) => {\r\n        let runtimeStyle = {...this.state.runtimeStyle};\r\n\r\n        let deltaX = delta.x;\r\n        let minWidth = this.props.breakpointmanager.getMinWidth();\r\n        if (dir.includes('e')) {\r\n            if (this.resizeData.firstX <= (-deltaX* 2 + minWidth))\r\n                deltaX = -(this.resizeData.firstX - minWidth) / 2;\r\n\r\n            runtimeStyle.width = this.resizeData.firstX + deltaX * 2;\r\n            this.resizeData.left = this.resizeData.firstLeft - deltaX;\r\n            if (this.resizeData.firstLeft - deltaX < 50)\r\n                this.resizeData.left = 50;\r\n        }\r\n        if (dir.includes('w')) {\r\n            if (this.resizeData.firstX <= (deltaX * 2 + minWidth))\r\n                deltaX = (this.resizeData.firstX - minWidth) / 2;\r\n            runtimeStyle.width = this.resizeData.firstX - deltaX * 2;\r\n            this.resizeData.left = this.resizeData.firstLeft + deltaX;\r\n            if (this.resizeData.firstLeft + deltaX < 50)\r\n                this.resizeData.left = 50;\r\n        }\r\n\r\n        this.updateGridLines(\r\n            this.resizeData.top,\r\n            this.resizeData.left,\r\n            window.innerHeight - this.resizeData.top - runtimeStyle.height,\r\n            window.innerWidth - this.resizeData.left - runtimeStyle.width,\r\n            \"A\"\r\n        );\r\n\r\n        this.updatePageAdjustments();\r\n\r\n        this.resizeData.onResizeData = {\r\n            runtimeStyle: runtimeStyle,\r\n        };\r\n    };\r\n\r\n    updatePageAdjustments = () => {\r\n        this.backContainerRef.current.updateAdjustments();\r\n    };\r\n\r\n    pageResizeCalculate = () => {\r\n        if (this.callOverride(\"pageResizeCalculate\"))\r\n            return;\r\n\r\n        if (!this.resizing)\r\n            return;\r\n\r\n        if (!this.resizeData.onResizeData) {\r\n            window.requestAnimationFrame(this.pageResizeCalculate);\r\n            return;\r\n        }\r\n\r\n        let {runtimeStyle} = this.resizeData.onResizeData;\r\n\r\n        this.setRuntimeStyle(runtimeStyle);\r\n\r\n        if (this.props.onPageResize) {\r\n            console.log(\"AGL pageResizeCalculate\");\r\n            this.props.onPageResize(runtimeStyle.width, this);\r\n        }\r\n\r\n        window.requestAnimationFrame(this.pageResizeCalculate);\r\n    };\r\n\r\n    onResize = (e, dir, delta, group) => {\r\n        if (this.callOverride(\"onResize\", e, dir, delta, group))\r\n            return;\r\n\r\n        let runtimeStyle = {...this.state.runtimeStyle};\r\n\r\n        let degree = (this.getCompositeFromData(\"transform\") || {}).rotateDegree || 0;\r\n\r\n        let finalDelta = getResizeDelta(degree, dir, delta);\r\n        runtimeStyle.left = this.resizeData.firstLeft + finalDelta.left;\r\n        runtimeStyle.top = this.resizeData.firstTop + finalDelta.top;\r\n        runtimeStyle.width = this.resizeData.firstX + finalDelta.width;\r\n        runtimeStyle.height = this.resizeData.firstY + finalDelta.height;\r\n\r\n        // For snaps\r\n        let boundarySize = this.getBoundarySize();\r\n\r\n        if (!group && !boundarySize)\r\n            this.checkSnapOnResize(runtimeStyle, dir, this.resizeData);\r\n        // this.checkSnapOnResize(rect, dir, this.resizeData);\r\n\r\n        let rect = {\r\n            top: runtimeStyle.top,\r\n            left: runtimeStyle.left,\r\n            width: runtimeStyle.width,\r\n            height: runtimeStyle.height\r\n        };\r\n\r\n        this.props.select.updateResizePanes(this, rect);\r\n\r\n        if (!group)\r\n            this.setResizeHelpData({\r\n                x: e.clientX,\r\n                y: e.clientY,\r\n                width: (dir.includes('w') || dir.includes('e')) && rect.width,\r\n                height: (dir.includes('n') || dir.includes('s')) && rect.height,\r\n            });\r\n\r\n        if (!group)\r\n            this.updateGridLines(\r\n                rect.top,\r\n                rect.left,\r\n                window.innerHeight - rect.top - rect.height,\r\n                window.innerWidth - rect.left - rect.width,\r\n                \"A\"\r\n            );\r\n\r\n        this.props.select.updateHelpLines(this, this.state.helpLinesParent,\r\n            rect, this.state.dragging);\r\n\r\n        this.resizeData.onResizeData = {\r\n            runtimeStyle: runtimeStyle,\r\n        };\r\n\r\n        if (this.props.onResize)\r\n            this.props.onResize(runtimeStyle);\r\n    };\r\n\r\n    onResizeCalculate = () => {\r\n        if (this.callOverride(\"onResizeCalculate\"))\r\n            return;\r\n\r\n        if (!this.resizing)\r\n            return;\r\n\r\n        if (!this.resizeData.onResizeData) {\r\n            window.requestAnimationFrame(this.onResizeCalculate);\r\n            return;\r\n        }\r\n\r\n        let {runtimeStyle} = this.resizeData.onResizeData;\r\n\r\n        this.setRuntimeStyle(runtimeStyle);\r\n\r\n        window.requestAnimationFrame(this.onResizeCalculate);\r\n    };\r\n\r\n    setResizeHelpData = (resizeHelpData) => {\r\n        this.setState({resizeHelpData})\r\n    };\r\n\r\n    pageResizeStop = (e, dir, delta) => {\r\n        let {width, height} = this.state.runtimeStyle;\r\n        this.isEditor() && this.props.select.activateHover(true);\r\n        this.setPageSize(this.resizeData.top, this.resizeData.left, width, height);\r\n    };\r\n\r\n    setPageSize = (top, left, width, height) => {\r\n        this.setProps(\"width\", width, undefined, undefined,\r\n            this.props.breakpointmanager.getHighestBpName());\r\n\r\n        this.setRuntimeStyle();\r\n        this.invalidateSize();\r\n\r\n        this.setDraggingState(false, false, () => {\r\n            this.addToSnap();\r\n        }, {top, left, width, height});\r\n        this.resizing = false;\r\n\r\n        this.updateGridLines(\r\n            top, left,\r\n            window.innerHeight - top - height,\r\n            window.innerWidth - left - width,\r\n            \"A\"\r\n        );\r\n\r\n        this.isEditor() && this.props.select.onScrollItem(this);\r\n\r\n        this.prepareRects();\r\n\r\n        if (this.props.onPageResizeStop)\r\n            this.props.onPageResizeStop(width, this);\r\n\r\n        this.resizeData = undefined;\r\n    };\r\n\r\n    setPageSizeWidth = (width) => {\r\n        this.setProps(\"width\", width, undefined, undefined,\r\n            this.props.breakpointmanager.getHighestBpName());\r\n\r\n        this.invalidateSize();\r\n\r\n        this.addToSnap();\r\n\r\n        let rect = this.getSize(false);\r\n        let minWidth = this.props.breakpointmanager.getMinWidth();\r\n\r\n        if (width < minWidth)\r\n            width = minWidth;\r\n\r\n        let deltaX = width - rect.width;\r\n        let firstLeft = rect.left;\r\n        let left = firstLeft + deltaX;\r\n        if (left < 50)\r\n            left = 50;\r\n\r\n        let top = rect.top;\r\n\r\n        this.updateGridLines(\r\n            top, left,\r\n            window.innerHeight - top - rect.height,\r\n            window.innerWidth - left - width,\r\n            \"A\"\r\n        );\r\n\r\n        this.isEditor() && this.props.select.onScrollItem(this);\r\n\r\n        this.prepareRects();\r\n    };\r\n\r\n    onChildResizeStoping = (item, e, dir, delta, runtimeStyle) => {\r\n        if (this.props.onChildResizeStoping)\r\n            this.props.onChildResizeStoping(item, e, dir, delta, runtimeStyle);\r\n    }\r\n\r\n    onResizeStop = (e, dir, delta, group) => {\r\n        if (this.hasOverride(\"onResizeStop\"))\r\n            return this.callOverride(\"onResizeStop\", e, dir, delta, group);\r\n        this.resizing = false;\r\n\r\n        if (this.props.onItemPreResizeStop) {\r\n            this.props.onItemPreResizeStop(this, e, dir, delta, this.state.runtimeStyle);\r\n        }\r\n        this.props.parent.onChildResizeStoping(this, e, dir, delta, this.state.runtimeStyle);\r\n        this.getSize(true, true);\r\n\r\n        if (group)\r\n            this.props.parent.prepareRects();\r\n        // this.props.parent.prepareRects(true);\r\n\r\n        let parentRect = this.props.parent.getSize(false);\r\n\r\n        let {top, left, width, height} = this.state.runtimeStyle;\r\n        // width = this.resizeData.lastWidth;\r\n        // height = this.resizeData.lastHeight;\r\n        this.setSize(\r\n            dir, delta, group,\r\n            left - parentRect.left,\r\n            top - parentRect.top, width, height,\r\n            this.resizeData.firstLeft - parentRect.left,\r\n            this.resizeData.firstTop - parentRect.top,\r\n            this.resizeData.firstX,\r\n            this.resizeData.firstY, parentRect\r\n        );\r\n        this.props.select.updateMiniMenu();\r\n        this.props.select.activateHover(true);\r\n    };\r\n\r\n    setSize = (dir, delta, group, relativeX, relativeY, width, height, firstRelativeX,\r\n               firstRelativeY, firstWidth, firstHeight, parentRect, fromUndoRedo) =>\r\n    {\r\n        if (!fromUndoRedo) {\r\n            let itemId = this.props.id;\r\n            let redoData = [dir, delta, group, relativeX, relativeY, width, height, firstRelativeX,\r\n                firstRelativeY, firstWidth, firstHeight, parentRect];\r\n            let undoData = [dir, delta, group, firstRelativeX,\r\n                firstRelativeY, firstWidth, firstHeight, undefined,\r\n                undefined, undefined, undefined, parentRect];\r\n            this.props.undoredo.add((idMan) => {\r\n                idMan.getItem(itemId).onSelect(true);\r\n                idMan.getItem(itemId).props.dragdrop.setMouseOver(idMan.getItem(itemId).props.parent);\r\n                idMan.getItem(itemId).setSize(...redoData, true);\r\n            }, (idMan) => {\r\n                idMan.getItem(itemId).onSelect(true);\r\n                idMan.getItem(itemId).props.dragdrop.setMouseOver(idMan.getItem(itemId).props.parent);\r\n                idMan.getItem(itemId).setSize(...undoData, true);\r\n            });\r\n        }\r\n\r\n        this.callPre(\"setSize\",\r\n            dir, delta, group, relativeX, relativeY, height, width, firstRelativeX,\r\n            firstRelativeY, firstWidth, firstHeight, parentRect, fromUndoRedo);\r\n\r\n        if (this.hasOverride(\"setSize\"))\r\n            return this.callOverride(\"setSize\",\r\n                dir, delta, group, relativeX, relativeY, height, width, firstRelativeX,\r\n                firstRelativeY, firstWidth, firstHeight, parentRect, fromUndoRedo);\r\n\r\n        let gridItemStyle, coordinates;\r\n        let calcResult = this.calculateGridItem(relativeX, relativeY, this.props.parent, width, height);\r\n\r\n        gridItemStyle = this.props.autoConstraintsOff?  this.getCompositeFromData(\"gridItemStyle\"):\r\n            calcResult.gridItemStyle;\r\n        coordinates = calcResult.coordinates;\r\n\r\n        if (dir.includes('e') || dir.includes('w')) {\r\n            if (gridItemStyle.justifySelf !== \"stretch\" && this.getCompositeFromData(\"style\").width !== \"auto\")\r\n                this.setProps(\"width\", width, coordinates, undefined, undefined, true);\r\n            else\r\n                this.setProps(\"width\", \"auto\", undefined, undefined, undefined, true);\r\n\r\n            if (this.getCompositeFromData(\"style\").minWidth) {\r\n                this.setProps(\"minWidth\", width, coordinates, undefined, undefined, true);\r\n            }\r\n            if (this.getCompositeFromData(\"style\").maxWidth) {\r\n                this.setProps(\"maxWidth\", width, coordinates, undefined, undefined, true);\r\n            }\r\n        }\r\n\r\n        if (dir.includes('s') || dir.includes('n')) {\r\n            if (this.getCompositeFromData(\"style\").height !== \"auto\") {\r\n                this.setProps(\"height\", height, coordinates, undefined, undefined, true);\r\n            }\r\n            if (!this.getFromTempData(\"isVerticalSection\")) {\r\n                if (this.getCompositeFromData(\"style\").minHeight) {\r\n                    this.setProps(\"minHeight\", height, coordinates, undefined, undefined, true);\r\n                }\r\n                if (this.getCompositeFromData(\"style\").maxHeight) {\r\n                    this.setProps(\"maxHeight\", height, coordinates, undefined, undefined, true);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (!this.getFromTempData(\"isSection\"))\r\n            this.setGridItemStyle(gridItemStyle);\r\n        this.setRuntimeStyle();\r\n        this.setResizeHelpData();\r\n\r\n        let top = relativeY + parentRect.top;\r\n        let left = relativeX + parentRect.left;\r\n        this.setDraggingState(false, false, () => {\r\n            this.addToSnap();\r\n        }, {top, left, width, height});\r\n        this.props.snap.drawSnap();\r\n\r\n        if (!group)\r\n            this.updateGridLines(\r\n                this.getSize(false).top, this.getSize(false).left,\r\n                window.innerHeight - this.getSize(false).top - height,\r\n                window.innerWidth - this.getSize(false).left - width,\r\n                \"A\"\r\n            );\r\n\r\n        if (!group)\r\n            this.props.select.updateHelpLines(this, this.state.helpLinesParent,\r\n                this.getSize(false), this.state.dragging);\r\n\r\n        setTimeout(() => {\r\n            if (!this.mounted)\r\n                return;\r\n\r\n            // for fixing helpline\r\n            this.props.select.onScrollItem();\r\n        }, 100);\r\n\r\n        this.resizeData = undefined;\r\n\r\n        this.invalidateSize(false, true, true);\r\n    };\r\n\r\n    checkSnapOnResize = (runtimeStyle, dir, resizeData) => {\r\n        if (this.callOverride(\"checkSnapOnResize\", runtimeStyle, dir, resizeData))\r\n            return;\r\n\r\n        let snapDelta1, snapDelta2;\r\n        if (dir.includes(\"n\")) {\r\n            snapDelta1 = this.getSnapDelta(\r\n                runtimeStyle.top, runtimeStyle.left);\r\n        } else if (dir.includes(\"s\")) {\r\n            snapDelta1 = this.getSnapDelta(\r\n                runtimeStyle.top + runtimeStyle.height, runtimeStyle.left);\r\n        }\r\n        if (dir.includes(\"w\")) {\r\n            snapDelta2 = this.getSnapDelta(\r\n                runtimeStyle.top, runtimeStyle.left);\r\n        } else if (dir.includes(\"e\")) {\r\n            snapDelta2 = this.getSnapDelta(\r\n                runtimeStyle.top, runtimeStyle.left + runtimeStyle.width);\r\n        }\r\n\r\n        let snapDelta = {\r\n            deltaX: snapDelta2? snapDelta2.deltaX: 0,\r\n            deltaY: snapDelta1? snapDelta1.deltaY: 0,\r\n            snapH: snapDelta1 && snapDelta1.snapH,\r\n            snapV: snapDelta2 && snapDelta2.snapV\r\n        };\r\n\r\n        if (dir.includes(\"n\")) {\r\n            runtimeStyle.height -= snapDelta.deltaY;\r\n            runtimeStyle.top += snapDelta.deltaY;\r\n        } else if (dir.includes(\"s\")) {\r\n            runtimeStyle.height += snapDelta.deltaY;\r\n        }\r\n        if (dir.includes(\"w\")) {\r\n            runtimeStyle.width -= snapDelta.deltaX;\r\n            runtimeStyle.left += snapDelta.deltaX;\r\n        } else if (dir.includes(\"e\")) {\r\n            runtimeStyle.width += snapDelta.deltaX;\r\n        }\r\n\r\n        let pointOfSnapH = {\r\n            p1: runtimeStyle.left,\r\n            p2: runtimeStyle.left + runtimeStyle.width\r\n        };\r\n        let pointOfSnapV = {\r\n            p1: runtimeStyle.top,\r\n            p2: runtimeStyle.top + runtimeStyle.height\r\n        };\r\n\r\n        this.props.snap.drawSnap(snapDelta.snapH, snapDelta.snapV, pointOfSnapH, pointOfSnapV);\r\n    };\r\n\r\n    setProps = (prop, value, gridCoordinates, data, breakpointName, dontAddToSnap) => {\r\n        if (this.hasOverride(\"setProps\"))\r\n            return this.callOverride(\"setProps\", prop, value, gridCoordinates, data, breakpointName);\r\n\r\n        if (prop === \"width\" || prop === \"height\" ||\r\n            prop === \"minWidth\" || prop === \"minHeight\" ||\r\n            prop === \"maxWidth\" || prop === \"maxHeight\")\r\n        {\r\n            this.setNewSize(prop, value, gridCoordinates, data, breakpointName, dontAddToSnap);\r\n        } else {\r\n            this.setDataInBreakpoint(prop, value, data, breakpointName);\r\n        }\r\n    };\r\n\r\n    setDataInBreakpoint = (prop, value, data, breakpointName) => {\r\n        this.props.breakpointmanager.setData(data || this.props.griddata, prop, value, breakpointName);\r\n        this.onPropsChange.trigger();\r\n    };\r\n\r\n    setTempData = (prop, value, data) => {\r\n        let dataToWrite = data || this.props.griddata;\r\n        dataToWrite[prop] = value;\r\n        this.onPropsChange.trigger();\r\n    };\r\n\r\n    getFromTempData = (prop, data) => {\r\n        let dataToRead = data || this.props.griddata;\r\n        return dataToRead[prop];\r\n    };\r\n\r\n    hasDataInBreakPoint = (prop, data, breakpointName) => {\r\n        return this.props.breakpointmanager\r\n            .hasDataInBreakPoint(data || this.props.griddata, prop, breakpointName);\r\n    };\r\n\r\n    getFromData = (prop, data, breakpointName) => {\r\n        return this.props.breakpointmanager\r\n            .getFromData(data || this.props.griddata, prop, breakpointName)\r\n    };\r\n\r\n    getCompositeFromData = (prop, data) => {\r\n        return this.props.breakpointmanager\r\n            .getCompositeFromData(data || this.props.griddata, prop, undefined)\r\n    };\r\n\r\n    setNewSize = (prop, value, gridCoordinates, data, breakpointName, dontAddToSnap) => {\r\n        if (this.hasOverride(\"setNewSize\"))\r\n            return this.callOverride(\"setNewSize\", prop, value, gridCoordinates, data, breakpointName);\r\n\r\n        let oldStyle = this.getCompositeFromData(\"style\", data, breakpointName);\r\n        let oldValue = oldStyle && oldStyle[prop];\r\n\r\n        if (value === undefined) {\r\n            this.setStyleParam(prop, value, data, breakpointName, dontAddToSnap);\r\n            return;\r\n        }\r\n\r\n        if (!oldValue || (!this.isPercent(oldValue) && !this.isViewRatio(oldValue)) ||\r\n            value === \"auto\" || isNaN(value)) {\r\n            if (!isNaN(value)) {\r\n                value+=\"px\";\r\n            }\r\n            this.setStyleParam(prop, value, data, breakpointName, dontAddToSnap);\r\n            return;\r\n        }\r\n\r\n        if (isNaN(value) && value.includes('px'))\r\n            value = parseFloat(value.replace('px', ''));\r\n\r\n        if (this.isPercent(oldValue)) {\r\n            let parentRect = {\r\n                width: gridCoordinates? (gridCoordinates.cx2 - gridCoordinates.cx1): window.innerWidth,\r\n                height: gridCoordinates?(gridCoordinates.cy2 - gridCoordinates.cy1): window.innerHeight\r\n            };\r\n            let newValue = (value / parentRect[this.getParentProps(prop)] * 100).toString() + \"%\";\r\n            this.setStyleParam(prop, newValue, data, breakpointName, dontAddToSnap);\r\n        } else if (this.isViewRatio(oldValue)) {\r\n            let parentValue;\r\n            let postFix;\r\n            if (oldValue.includes('vh')) {\r\n                parentValue = this.props.breakpointmanager.getWindowHeight();\r\n                postFix = 'vh'\r\n            }\r\n            if (oldValue.includes('vw')) {\r\n                parentValue = this.props.breakpointmanager.getWindowWidth();\r\n                postFix = 'vw'\r\n            }\r\n            let newValue = (value / parentValue * 100).toString() + postFix;\r\n            newValue = getViewRatioStyle(newValue);\r\n            this.setStyleParam(prop, newValue, data, breakpointName, dontAddToSnap);\r\n        }\r\n    };\r\n\r\n    getParentProps = (prop) => {\r\n        if (prop === \"width\" ||\r\n            prop === \"minWidth\" ||\r\n            prop === \"maxWidth\")\r\n        {\r\n            return \"width\";\r\n        }\r\n\r\n        return \"height\";\r\n    };\r\n\r\n    isPercent = (value) => {\r\n        if (isNaN(value)) {\r\n            if (value.includes(\"%\"))\r\n                return true;\r\n        }\r\n\r\n        return false;\r\n    };\r\n\r\n    isViewRatio = (value) => {\r\n        if (isNaN(value)) {\r\n            if (value.includes(\"vh\") || value.includes(\"vw\"))\r\n                return true;\r\n        }\r\n\r\n        return false;\r\n    };\r\n\r\n    setRuntimeStyle = (newRuntimeStyle, animationCss) => {\r\n        if (this.callOverride(\"setRuntimeStyle\", newRuntimeStyle))\r\n            return;\r\n\r\n        let runtimeStyle = newRuntimeStyle && {...newRuntimeStyle};\r\n        this.setState({runtimeStyle, animationCss});\r\n        this.onPropsChange.trigger();\r\n    };\r\n\r\n    getGridItemStyleId = () => {\r\n        return `style_grid_item_${this.props.id}`;\r\n    };\r\n\r\n    setGridItemStyle = (newGridItemStyle, breakpointName, dontOverride) => {\r\n        if (this.callOverride(\"setGridItemStyle\", newGridItemStyle, breakpointName, dontOverride))\r\n            return;\r\n\r\n        let gridItemStyle = {...newGridItemStyle};\r\n\r\n        if (!dontOverride)\r\n            this.setDataInBreakpoint(\"gridItemStyle\", gridItemStyle, undefined, breakpointName);\r\n\r\n        let styleNode = document.getElementById(this.getGridItemStyleId());\r\n\r\n        if (!styleNode) {\r\n            appendStyle(this.getCompositeFromData(\"gridItemStyle\"),\r\n                this.getGridItemStyleId(), this.getGridItemStyleId(), this);\r\n        } else {\r\n            updateStyle(styleNode, this.getCompositeFromData(\"gridItemStyle\"), this.getGridItemStyleId());\r\n        }\r\n\r\n        this.onPropsChange.trigger();\r\n    };\r\n\r\n    setGridArea = (gridArea, breakpointName) => {\r\n        if (this.callOverride(\"setGridArea\", gridArea))\r\n            return;\r\n\r\n        let gridItemStyle = this.getFromData(\"gridItemStyle\");\r\n        gridItemStyle.gridArea = gridArea;\r\n\r\n        this.setGridItemStyle(gridItemStyle, breakpointName);\r\n    };\r\n\r\n    getGridArea = () => {\r\n        if (this.callOverride(\"getGridArea\"))\r\n            return;\r\n\r\n        let gridItemStyle = this.getCompositeFromData(\"gridItemStyle\");\r\n        return gridItemStyle.gridArea;\r\n    };\r\n\r\n    setStyleParam = (param, value, data, breakpointName, dontAddToSnap) => {\r\n        if (this.hasOverride(\"setStyleParam\"))\r\n            return this.callOverride(\"setStyleParam\", param, value, data, breakpointName);\r\n\r\n        let style = this.hasDataInBreakPoint(\"style\", data, breakpointName) || {};\r\n        style[param] = value;\r\n        if (value === undefined)\r\n            delete style[param];\r\n        this.setStyle(style, data, breakpointName, undefined, dontAddToSnap);\r\n    };\r\n\r\n    getStyleId = () => {\r\n        return `style_${this.props.id}`;\r\n    };\r\n\r\n    getDesignStyleId = () => {\r\n        return `style_design_${this.props.id}`;\r\n    };\r\n\r\n    setDesignStyle = (newDesignStyle, data, breakpointName, dontOverride) => {\r\n        if (this.callOverride(\"setDesignStyle\", newDesignStyle, data, breakpointName, dontOverride))\r\n            return;\r\n\r\n        let designStyle = {...newDesignStyle};\r\n        if (!dontOverride)\r\n            this.setDataInBreakpoint(\"designStyle\", designStyle, data, breakpointName);\r\n\r\n        if (!data) {\r\n            let designStyleNode = document.getElementById(this.getDesignStyleId());\r\n\r\n            if (!designStyleNode) {\r\n                appendStyle(this.getCompositeFromData(\"designStyle\"),\r\n                    this.getDesignStyleId(), this.getDesignStyleId(), this);\r\n            } else {\r\n                updateStyle(designStyleNode, this.getCompositeFromData(\"designStyle\"), this.getDesignStyleId());\r\n            }\r\n\r\n            this.invalidateSize();\r\n            this.addToSnap();\r\n        }\r\n\r\n        this.onPropsChange.trigger();\r\n    };\r\n\r\n    getTransformStyleId = () => {\r\n        return `style-transform-${this.props.id}`;\r\n    };\r\n\r\n    setTransformStyle = (newTransform, data, breakpointName, dontOverride) => {\r\n        if (this.callOverride(\"setTransformStyle\", newTransform, data, breakpointName, dontOverride))\r\n            return;\r\n\r\n        let transform = {...newTransform};\r\n        if (!dontOverride)\r\n            this.setDataInBreakpoint(\"transform\", transform, data, breakpointName);\r\n\r\n        if (!data) {\r\n            let transformStyleNode = document.getElementById(this.getTransformStyleId());\r\n\r\n            if (!transformStyleNode) {\r\n                appendStyle(this.getTransformStyle(),\r\n                    this.getTransformStyleId(), this.getTransformStyleId(), this);\r\n            } else {\r\n                updateStyle(transformStyleNode, this.getTransformStyle(), this.getTransformStyleId());\r\n            }\r\n        }\r\n\r\n        this.onPropsChange.trigger();\r\n    };\r\n\r\n    getTransformStyle = (compositeTransform) => {\r\n        if (!compositeTransform)\r\n            compositeTransform = this.getCompositeFromData(\"transform\") || {};\r\n\r\n        let rules = [];\r\n\r\n        // TODO add more rules\r\n        compositeTransform.rotateDegree && rules.push(`rotate(${compositeTransform.rotateDegree}deg)`);\r\n\r\n        return {transform: rules.join(' ')};\r\n    };\r\n\r\n    setStyle = (newStyle, data, breakpointName, dontOverride, dontAddToSnap) => {\r\n        if (this.callOverride(\"setStyle\", newStyle, data, breakpointName, dontOverride))\r\n            return;\r\n\r\n        let style = {...newStyle};\r\n\r\n        if (!dontOverride)\r\n            this.setDataInBreakpoint(\"style\", style, data, breakpointName);\r\n\r\n        if (!data) {\r\n            let styleNode = document.getElementById(this.getStyleId());\r\n\r\n            if (!styleNode) {\r\n                appendStyle(\r\n                    this.getCompositeFromData(\"style\"),\r\n                    this.getStyleId(), this.getStyleId(), this);\r\n            } else {\r\n                updateStyle(styleNode,\r\n                    this.getCompositeFromData(\"style\"),\r\n                    this.getStyleId());\r\n            }\r\n\r\n            if (!dontAddToSnap) {\r\n                this.invalidateSize();\r\n                this.addToSnap();\r\n            }\r\n        }\r\n\r\n        this.onPropsChange.trigger();\r\n    };\r\n\r\n    clearFromAllBp = (props, data, excludeBp) => {\r\n        let sortedBp = this.props.breakpointmanager.getSortedBreakPoints();\r\n        sortedBp.forEach( bp => {\r\n            if (excludeBp !== bp.name || !excludeBp.includes(bp.name))\r\n                this.setDataInBreakpoint(props, undefined, data, bp.name);\r\n        });\r\n    };\r\n\r\n    setGrid = (grid, callback, breakpointName) => {\r\n        if (this.callOverride(\"setGrid\", grid, callback, breakpointName))\r\n            return;\r\n\r\n        this.setDataInBreakpoint(\"grid\", grid, undefined, breakpointName);\r\n\r\n        this.setState({grid: grid}, () => {\r\n            if (this.props.gridLine.hasGridLine(this.props.id)) {\r\n                let size = this.getSize(false);\r\n                this.updateGridLines(\r\n                    size.top,\r\n                    size.left,\r\n                    size.top + size.clientHeight,\r\n                    size.left + size.clientWidth,\r\n                    this.props.gridLine.hasGridLine(this.props.id)\r\n                );\r\n            }\r\n\r\n            if (callback)\r\n                callback();\r\n        });\r\n    };\r\n\r\n    getGridLineRect = (ref, index, dir, item) => {\r\n        if (ref.current && ref.current.rect) {\r\n            return ref.current.rect;\r\n        }\r\n\r\n        let parentRect = item.props.parent && item.props.parent.getSize(false) || {\r\n            width: item.props.breakpointmanager.getWindowWidth()\r\n        };\r\n        let padding = cloneObject(item.getCompositeFromData(\"padding\")) || {};\r\n        ['top', 'left', 'bottom', 'right'].forEach(key => {\r\n            padding[key] = getPxValueFromCSSValue(padding[key], parentRect.width, item) || 0;\r\n        });\r\n\r\n        let thisRect = item.getSize(false);\r\n        if (dir === 'x') {\r\n            if (index === 0) {\r\n                return {\r\n                    left: thisRect.left - thisRect.scrollLeft + padding.left ,\r\n                    top: thisRect.top - thisRect.scrollTop + padding.top,\r\n                    height: thisRect.scrollHeight - padding.top - padding.bottom,\r\n                    width: 1\r\n                }\r\n            } else {\r\n                return {\r\n                    left: thisRect.left - thisRect.scrollLeft + thisRect.scrollWidth - padding.right - 1,\r\n                    top: thisRect.top - thisRect.scrollTop + padding.top,\r\n                    height: thisRect.scrollHeight - padding.top - padding.bottom,\r\n                    width: 1\r\n                }\r\n            }\r\n        } else {\r\n            if (index === 0) {\r\n                return {\r\n                    top: thisRect.top - thisRect.scrollTop + padding.top ,\r\n                    left: thisRect.left - thisRect.scrollLeft + padding.left,\r\n                    height: 1,\r\n                    width: thisRect.scrollWidth - padding.left - padding.right,\r\n                }\r\n            } else {\r\n                return {\r\n                    top: thisRect.top - thisRect.scrollTop + thisRect.scrollHeight - padding.bottom - 1,\r\n                    left: thisRect.left - thisRect.scrollLeft + padding.left,\r\n                    height: 1,\r\n                    width: thisRect.scrollWidth - padding.left - padding.right,\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    getGridLineOfPoint = (left, top, parent, after = false, parentRect) => {\r\n        if (!parentRect)\r\n            parentRect = parent.getSize(false);\r\n        let x;\r\n        let cx;\r\n        let xLineRef = this.props.gridLine.getXlineRef(parent.props.id);\r\n        for(let i = 0; i < xLineRef.length; i++) {\r\n            let rect = this.getGridLineRect(xLineRef[i], i, 'x', parent);\r\n            if (left < rect.left || (after && left <= rect.left)) {\r\n                x = i;\r\n                if (!after) {\r\n                    if (xLineRef[i - 1]) {\r\n                        // rect = xLineRef[i - 1].current.getBoundingClientRect();\r\n                        // rect = xLineRef[i - 1].current.rect;\r\n                        rect = this.getGridLineRect(xLineRef[i - 1], i - 1, 'x', parent);\r\n                        cx = rect.left;\r\n                    } else {\r\n                        // cx = parentRect.left - parentRect.scrollLeft;\r\n                        cx = rect.left;\r\n                    }\r\n                } else {\r\n                    cx = rect.left;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n        if (x === undefined) {\r\n            x = xLineRef.length;\r\n            // let rect = xLineRef[xLineRef.length - 1].current.getBoundingClientRect();\r\n            // let rect = xLineRef[xLineRef.length - 1].current.rect;\r\n            let rect = this.getGridLineRect(xLineRef[xLineRef.length - 1], xLineRef.length - 1, 'x', parent);\r\n            cx = rect.left;\r\n        }\r\n\r\n        let y;\r\n        let cy;\r\n        let yLineRef = this.props.gridLine.getYlineRef(parent.props.id);\r\n        for(let i = 0; i < yLineRef.length; i++) {\r\n            // let rect = yLineRef[i].current.getBoundingClientRect();\r\n            // let rect = yLineRef[i].current.rect;\r\n            let rect = this.getGridLineRect(yLineRef[i], i, 'y', parent);\r\n            if (top < rect.top || (after && top <= rect.top)) {\r\n                y = i;\r\n                if (!after) {\r\n                    if (yLineRef[i - 1]) {\r\n                        // rect = yLineRef[i - 1].current.getBoundingClientRect();\r\n                        // rect = yLineRef[i - 1].current.rect;\r\n                        rect = this.getGridLineRect(yLineRef[i - 1], i - 1, 'y', parent);\r\n                        cy = rect.top;\r\n                    } else {\r\n                        // cy = parentRect.top - parentRect.scrollTop;\r\n                        cy = rect.top;\r\n                    }\r\n                } else {\r\n                    cy = rect.top;\r\n                }\r\n                break;\r\n            }\r\n        }\r\n        if (y === undefined) {\r\n            y = yLineRef.length;\r\n            // let rect = yLineRef[yLineRef.length - 1].current.getBoundingClientRect();\r\n            // let rect = yLineRef[yLineRef.length - 1].current.rect;\r\n            let rect = this.getGridLineRect(yLineRef[yLineRef.length - 1], yLineRef.length - 1, 'y', parent);\r\n            cy = rect.top;\r\n        }\r\n\r\n        if (after) {\r\n            x++;\r\n            y++;\r\n        }\r\n\r\n        x = Math.max(1, x);\r\n        x = Math.min(xLineRef.length, x);\r\n        y = Math.max(1, y);\r\n        y = Math.min(yLineRef.length, y);\r\n\r\n        if (x === xLineRef.length)\r\n            cx++;\r\n        if (y === yLineRef.length)\r\n            cy++;\r\n\r\n        return {x, y, cx, cy};\r\n    };\r\n\r\n    calculateGridArea = (left, top, width, height, parent, parentRect) => {\r\n        if (!this.props.gridLine.hasGridLine(parent.props.id)) {\r\n            return {\r\n                gridArea: {x1: 1, y1: 1, x2: 2, y2: 2},\r\n                coordinates: {cx1: 0, cy1: 0, cx2: 0, cy2: 0}\r\n            }\r\n        }\r\n        let gridLine1 = this.getGridLineOfPoint(left, top, parent, false, parentRect);\r\n        let gridLine2 = this.getGridLineOfPoint(left + width, top + height, parent, true, parentRect);\r\n        return {\r\n            gridArea: {x1: gridLine1.x, y1: gridLine1.y, x2: gridLine2.x, y2: gridLine2.y},\r\n            coordinates: {cx1: gridLine1.cx, cy1: gridLine1.cy, cx2: gridLine2.cx, cy2: gridLine2.cy}\r\n        };\r\n    };\r\n\r\n    onMouseDown = (e, moveWithMouse, isLeft) => {\r\n        if (!this.isEditor())\r\n            return;\r\n\r\n        if (isLeft || this.isLeftClick(e)) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            this.mouseDown = true;\r\n            this.moveWithMouse = moveWithMouse;\r\n            this.mouseMoved = {\r\n                deltaX: 0,\r\n                deltaY: 0,\r\n                lastClientX: e.clientX,\r\n                lastClientY: e.clientY,\r\n                startMillis: (new Date()).getTime()\r\n            };\r\n            window.addEventListener(\"mousemove\", this.onMouseMove);\r\n            window.addEventListener(\"mouseup\", this.onMouseUp);\r\n        } else if (isRightClick(e)) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            this.mouseDown = true;\r\n            window.addEventListener(\"mouseup\", this.onMouseUp);\r\n        }\r\n    };\r\n\r\n    isLeftClick = (e) => {\r\n        if (e.button === 0)\r\n            return true;\r\n\r\n        return false;\r\n    };\r\n\r\n    onMouseMove = (e, delta) => {\r\n        if (!this.mouseDown)\r\n            return;\r\n\r\n        this.mouseMoved.deltaX += (e.clientX - this.mouseMoved.lastClientX);\r\n        this.mouseMoved.deltaY += (e.clientY - this.mouseMoved.lastClientY);\r\n        this.mouseMoved.lastClientX = e.clientX;\r\n        this.mouseMoved.lastClientY = e.clientY;\r\n\r\n        if (!this.moving) {\r\n            let currentMillis = new Date().getTime();\r\n            if (Math.abs(this.mouseMoved.deltaX) > (delta || 10) ||\r\n                Math.abs(this.mouseMoved.deltaY) > (delta || 10) ||\r\n                currentMillis - this.mouseMoved.startMillis > 500)\r\n            {\r\n                if (!this.state.groupSelected && this.getFromTempData(\"draggable\") && !this.state.selected) {\r\n                    this.onSelect(true);\r\n                }\r\n                this.moving = true;\r\n                this.canMove() && this.onDragStart(e, isGroupSelected(this), true);\r\n            }\r\n        } else {\r\n            this.canMove() && this.onDrag(e, isGroupSelected(this), true);\r\n        }\r\n    };\r\n\r\n    canMove = () => {\r\n        return (this.state.selected || this.state.groupSelected) && this.getFromTempData(\"draggable\");\r\n    };\r\n\r\n    onMouseUp = (e) => {\r\n        if (!this.mouseDown)\r\n            return;\r\n\r\n        delete this.moveWithMouse;\r\n\r\n        if (isRightClick(e)) {\r\n            this.onContextMenu(e);\r\n            this.mouseDown = false;\r\n            window.removeEventListener(\"mouseup\", this.onMouseUp);\r\n            return;\r\n        }\r\n\r\n        let currentMillis = new Date().getTime();\r\n        if (!this.moving && currentMillis - this.mouseMoved.startMillis < 500) {\r\n            if (!this.dropped) {\r\n                e.stopPropagation();\r\n                this.onSelect(true, undefined, undefined, true);\r\n            } else {\r\n                this.dropped = false;\r\n            }\r\n        }\r\n\r\n        if (this.moving && this.canMove()) {\r\n            window.requestAnimationFrame(() => {\r\n                this.onDragStop(e, isGroupSelected(this), true);\r\n            });\r\n        }\r\n\r\n        this.moving = false;\r\n        this.mouseDown = false;\r\n\r\n        window.removeEventListener(\"mousemove\", this.onMouseMove);\r\n        window.removeEventListener(\"mouseup\", this.onMouseUp);\r\n    };\r\n\r\n    onSelect = (selected, callback, deselectParent, clicked, dontUpdateAdjustment) => {\r\n        if (!this.isEditor()) return;\r\n\r\n        if (this.callOverride(\"onSelect\", selected, callback, deselectParent))\r\n            return;\r\n\r\n        if (!this.mounted)\r\n            return;\r\n        if (!this.props.isSelectable)\r\n            return;\r\n\r\n        if (selected) {\r\n            this.props.select.selectItem(this, clicked, dontUpdateAdjustment);\r\n            this.props.gridLine.removeGridLineByType(\"A\");\r\n            this.toggleGridLines(selected, undefined, \"A\");\r\n        } else {\r\n            this.props.onDeSelectListener && this.props.onDeSelectListener(this);\r\n            this.props.select.updateHelpSizeLines();\r\n        }\r\n\r\n        if (this.props.parent) {\r\n            if (selected || deselectParent)\r\n                this.props.parent.toggleGridLines(selected, () => {\r\n                    this.toggleHelpLines(selected && this.props.parent);\r\n                }, \"B\");\r\n        } else {\r\n            selected && this.props.gridLine.removeGridLineByType(\"B\");\r\n            this.props.select.updateHelpSizeLines();\r\n        }\r\n\r\n        this.setTempData(\"selected\", selected);\r\n\r\n        if (!this.mounted)\r\n            return;\r\n\r\n        this.setState({selected, groupSelected: false}, () => {\r\n            selected && this.setItemHover(true);\r\n\r\n            this.props.editor.updateLayout();\r\n\r\n            if (callback)\r\n                callback();\r\n        });\r\n    };\r\n\r\n    toggleGridLines = (showGridLines, callback, gridType) => {\r\n        if (this.callOverride(\"toggleGridLines\", showGridLines, callback, gridType))\r\n            return;\r\n\r\n        if (!this.mounted)\r\n            return;\r\n\r\n        if (!showGridLines) {\r\n            this.props.gridLine.removeGridLine(this.props.id);\r\n            this.updateLayout();\r\n            return;\r\n        }\r\n\r\n        if (!this.getFromTempData(\"isContainer\"))\r\n            return;\r\n\r\n        if (this.props.gridLine.hasGridLine(this.props.id, gridType)) {\r\n            if (callback)\r\n                callback();\r\n\r\n            this.updateLayout();\r\n\r\n            return;\r\n        }\r\n\r\n        let grid = this.getCompositeFromData(\"grid\");\r\n        this.props.gridLine.addGrid(\r\n            this.props.id,\r\n            grid.x,\r\n            grid.y,\r\n            gridType,\r\n            grid.gridTemplateRows,\r\n            grid.gridTemplateColumns,\r\n            {\r\n                top: 0,\r\n                left: 0,\r\n                bottom: 0,\r\n                right: 0,\r\n            },\r\n            () => {\r\n                if (callback)\r\n                    callback();\r\n\r\n                this.updateLayout();\r\n            }\r\n        );\r\n    };\r\n\r\n    toggleHelpLines = (helpLinesParent, callback) => {\r\n        if (this.callOverride(\"toggleHelpLines\", helpLinesParent, callback))\r\n            return;\r\n\r\n        if (this.mounted) {\r\n            this.setState({\r\n                helpLinesParent: helpLinesParent !== this && helpLinesParent\r\n            }, () => {\r\n                helpLinesParent &&\r\n                this.props.select.updateHelpLines(this, this.state.helpLinesParent,\r\n                    this.getSize(false), this.state.dragging);\r\n\r\n                if (callback)\r\n                    callback();\r\n            });\r\n        }\r\n    };\r\n\r\n    onScroll = (e) => {\r\n        if (this.callOverride(\"onScroll\", e))\r\n            return;\r\n\r\n        this.isEditor() && this.invalidateSize(true, false, true);\r\n        this.isEditor() && this.props.select.updateParentsRect();\r\n        this.isEditor() && this.props.select.onScrollItem();\r\n        this.onScrollEnd(e);\r\n    };\r\n\r\n    onRootScroll = (e) => {\r\n        if (this.getFromTempData(\"isFixed\")) {\r\n            this.props.parent.forceScroll(e);\r\n        }\r\n\r\n        let {isPage} = this.props;\r\n\r\n        if (isPage) {\r\n            let el = this.rootDivRef.current;\r\n            if (el.scrollHeight - el.clientHeight === 0)\r\n                document.documentElement.style.setProperty('--page-scroll', 0);\r\n            else\r\n                document.documentElement.style.setProperty('--page-scroll',\r\n                    el.scrollTop / (el.scrollHeight - el.clientHeight));\r\n        }\r\n    };\r\n\r\n    forceScroll = (e) => {\r\n        clearTimeout(this.scrollReset);\r\n\r\n        if (!this.targetScroll) this.targetScroll = {\r\n            top: this.rootDivRef.current.scrollTop\r\n        };\r\n\r\n        if (this.targetScroll.top < 0 && e.deltaY > 0)\r\n            this.targetScroll.top = 0;\r\n\r\n        let maxTop = this.rootDivRef.current.scrollHeight - this.getSize(false).height;\r\n        if (this.targetScroll.top > maxTop && e.deltaY < 0) {\r\n            this.targetScroll.top = maxTop;\r\n        }\r\n\r\n        this.targetScroll.top += e.deltaY;\r\n\r\n        this.rootDivRef.current.scrollTo({\r\n            top: this.targetScroll.top,\r\n            behavior: 'smooth'\r\n        });\r\n\r\n        this.scrollReset = setTimeout(() => {\r\n            this.targetScroll = {\r\n                top: this.rootDivRef.current.scrollTop\r\n            };\r\n        }, 500);\r\n    }\r\n\r\n    onScrollEnd = debounce((e) => {\r\n        if (this.callOverride(\"onScrollEnd\", e))\r\n            return;\r\n\r\n        this.isEditor() && this.invalidateSize();\r\n        this.isEditor() && this.addToSnap();\r\n    }, 500);\r\n\r\n    editGrid = () => {\r\n        this.props.gridEditorRef.current.editing(this);\r\n    };\r\n\r\n    updateGridEditor = () => {\r\n        this.props.gridEditorRef.current.update(this);\r\n    };\r\n\r\n    setAnchor = (anchor) => {\r\n        if (this.callOverride(\"setAnchor\", anchor))\r\n            return;\r\n\r\n        this.setTempData(\"anchor\", anchor);\r\n        this.updateLayout();\r\n    };\r\n\r\n    isEditor = () => {\r\n        return this.props.editor;\r\n    }\r\n\r\n    playAnimation = (disable, force) => {\r\n        let compositeDesign = getCompositeDesignData(this);\r\n        if (!compositeDesign.animation || !compositeDesign.animation.name)\r\n            return;\r\n\r\n        if (!force && this.getFromData(\"dontAnimate\"))\r\n            return;\r\n\r\n        // Component going to show animation, so add end listener for more action\r\n        let onAnimationEnd = DynamicAnimations[compositeDesign.animation.name].onAnimationEnd;\r\n\r\n        let stateChange = {\r\n            forceKey: \"animationReplay\",\r\n            showAnimation: true,\r\n            onAnimationEnd\r\n        };\r\n\r\n        if (disable) {\r\n            stateChange.disableVS = true;\r\n            this.setTempData(\"dontAnimate\", true);\r\n        }\r\n\r\n        this.isEditor() && this.props.select.activateHover(false);\r\n        this.isEditor() && this.props.select.activateResize(false);\r\n\r\n        this.setState(stateChange);\r\n    };\r\n\r\n    onAnimationEnd = () => {\r\n        this.setState({forceKey: undefined, showAnimation: undefined});\r\n        this.isEditor() && this.props.select.activateHover(true);\r\n        this.isEditor() && this.props.select.activateResize(true);\r\n        this.invalidateSize(true,false,true);\r\n    };\r\n\r\n    getCompositeAnimationCss = (compositeAnimation = {}) => {\r\n        if (!(compositeAnimation.name && this.state.forceKey && this.state.showAnimation))\r\n            return;\r\n\r\n        return DynamicAnimations[compositeAnimation.name]\r\n            .getAnimationCSS(this, compositeAnimation.options);\r\n    };\r\n\r\n    onContextMenu = (e) => {\r\n        if (!this.isEditor()) return;\r\n\r\n        e.preventDefault();\r\n        this.onSelect(true);\r\n        this.props.select.onContextMenu(e, this);\r\n    };\r\n\r\n    getContextMenu = () => {\r\n        if (this.hasOverride(\"getContextMenu\"))\r\n            return this.callOverride(\"getContextMenu\");\r\n    };\r\n\r\n    onDoubleClick = (e) => {\r\n        if (this.callOverride(\"onDoubleClick\", e))\r\n            return;\r\n    }\r\n\r\n    animationRunning = debounce(() => {\r\n        this.onAnimationFrame();\r\n    }, 200);\r\n\r\n    onAnimationFrame = () => {\r\n        this.invalidateSize(false, false, true);\r\n        if (this.state.showAnimation)\r\n            window.requestAnimationFrame(this.onAnimationFrame);\r\n    }\r\n\r\n    getResizeSides = () => {\r\n        return this.props.resizeSides;\r\n    }\r\n\r\n    getPreProp = (funcName) => {\r\n        let key = Object.keys(this.props).find(key => {\r\n            return key === `${funcName}Pre`;\r\n        });\r\n\r\n        return this.props[key];\r\n    };\r\n\r\n    callPre = (funcName, ...args) => {\r\n        let pre = this.getPreProp(funcName);\r\n        if (pre) {\r\n            return pre(this, ...args);\r\n        }\r\n    };\r\n\r\n    getPostProp = (funcName) => {\r\n        let key = Object.keys(this.props).find(key => {\r\n            return key === `${funcName}Post`;\r\n        });\r\n\r\n        return this.props[key];\r\n    };\r\n\r\n    callPost = (funcName, ...args) => {\r\n        let post = this.getPostProp(funcName);\r\n        if (post) {\r\n            return post(this, ...args);\r\n        }\r\n    };\r\n\r\n    render () {\r\n        let {className, animationCss, as, editor, select, id, getStaticChildren,\r\n            isPage, page, getChildrenOverride, modifyContainerStyleOverride} = this.props;\r\n        let {selected, runtimeStyle, portalNodeId, disableVS, showAnimation, forceKey, grid,\r\n            draggingStart, showGridLines, resizeHelpData} = this.state;\r\n        let isContainer = this.props.griddata.isContainer;\r\n        let children = this.children;\r\n        let resizeData = this.resizeData;\r\n        let size = runtimeStyle || this.getSize(false);\r\n        let compositeDesign = getCompositeDesignData(this);\r\n        let compositeTransform = this.getCompositeFromData(\"transform\") || {};\r\n        let compositeStyle = this.getCompositeFromData(\"style\");\r\n        // let grid = this.getCompositeFromData(\"grid\");\r\n        let overflowData = this.getCompositeFromData(\"overflowData\");\r\n        let anchor = this.getFromTempData(\"anchor\");\r\n        let customStyle = this.getFromTempData(\"customStyle\") || {};\r\n        let containerStyle = this.getFromTempData(\"containerStyle\") || {};\r\n        let selectAsParent = this.props.gridLine.hasGridLine(this.props.id, \"B\") !== undefined;\r\n\r\n        let classes = classNames(\r\n            \"AwesomeGridLayoutRoot\",\r\n            \"AwesomeGridLayoutGrid\",\r\n            className,\r\n            this.getDesignStyleId(),\r\n            this.getGridItemStyleId(),\r\n            this.getStyleId(),\r\n            this.getCompositeAnimationCss(compositeDesign.animation),\r\n            isPage && \"PageScrollBar\"\r\n        );\r\n\r\n        let holderClasses = classNames(\r\n            \"AwesomeGridLayoutHolder\",\r\n            this.getTransformStyleId(),\r\n        );\r\n\r\n        let TagAs = as || \"div\";\r\n\r\n        if (showAnimation) this.animationRunning();\r\n\r\n        console.log(\"Render\", this.props.id)\r\n        return (\r\n            <Portal nodeId={portalNodeId} disabled={!portalNodeId}>\r\n                <VisibilitySensorWrapper\r\n                    animation={compositeDesign.animation}\r\n                    editor={editor}\r\n                    playAnimation={this.playAnimation}\r\n                    select={select}\r\n                    disableVS={disableVS}\r\n                >\r\n                        <TagAs\r\n                            onMouseDown={!showAnimation ? this.onMouseDown : undefined}\r\n                            onMouseOver={this.onMouseOver}\r\n                            onMouseEnter={this.onMouseEnter}\r\n                            onMouseOut={this.onMouseOut}\r\n                            onScroll={this.onRootScroll}\r\n                            onWheel={this.onRootScroll}\r\n                            onDoubleClick={this.onDoubleClick}\r\n                            id={id}\r\n                            className={classes}\r\n                            style={{\r\n                                ...runtimeStyle,\r\n                                ...(this.canMove() && {cursor: \"move\"}),\r\n                                // ...(!this.isEditor() && this.getFromTempData(\"isFixed\") && {pointerEvents: \"none\"}),\r\n                                ...(isPage && {overflowY: \"auto\", overflowX: \"hidden\"}),\r\n                                ...(overflowData.state === 'hide' && {\r\n                                    overflowY: 'hidden',\r\n                                    overflowX: 'hidden',\r\n                                }),\r\n                                ...(showAnimation && {\r\n                                    opacity: 0\r\n                                }),\r\n                                ...customStyle\r\n                            }}\r\n                            ref={this.rootDivRef}\r\n                            key={id}\r\n                            onAnimationEnd={this.onAnimationEnd}\r\n                        >\r\n                            {\r\n                                this.getFromTempData(\"pageResize\") &&\r\n                                !showAnimation &&\r\n                                <AdjustmentResizePage\r\n                                    id={id}\r\n                                    key={`${id}_resize`}\r\n                                    sides={['e','w']}\r\n                                    onResizeStart={this.pageResizeStart}\r\n                                    onResize={this.pageResize}\r\n                                    onResizeStop={this.pageResizeStop}\r\n                                    data={runtimeStyle || size}\r\n                                    top={(resizeData && resizeData.top) || (size && size.top)}\r\n                                    left={(resizeData && resizeData.left) || (size && size.left)}\r\n                                    width={(runtimeStyle && runtimeStyle.width) || (size && size.width)}\r\n                                    height={(runtimeStyle && runtimeStyle.height) || (size && size.height)}\r\n                                    draggingStart={draggingStart}\r\n                                    itemId={id}\r\n                                />\r\n                            }\r\n\r\n                            {\r\n                                selected && resizeHelpData &&\r\n                                !this.getFromTempData(\"pageResize\") &&\r\n                                !showAnimation &&\r\n                                !isGroupSelected(this) &&\r\n                                <AdjustmentHelpSize\r\n                                    resizeHelpData={resizeHelpData}\r\n                                />\r\n                            }\r\n\r\n                            {isPage && <div id={\"top\"}></div>}\r\n                            <AnimationHolder\r\n                                className={holderClasses}\r\n                                // key={forceKey || `${id}_container`}\r\n                                id={`${id}_child_holder`}\r\n                                disabled={Object.keys(compositeTransform).length > 0}\r\n                                transformRef={this.transformRef}\r\n                            >\r\n                                {\r\n                                    getStaticChildren && getStaticChildren()\r\n                                }\r\n\r\n                                <GridChildContainer\r\n                                    id={id}\r\n                                    key={`${id}_container`}\r\n                                    allChildren={children}\r\n                                    grid={grid}\r\n                                    overflowData={overflowData}\r\n                                    showGridLines={showGridLines}\r\n                                    aglStyle={compositeStyle}\r\n                                    overflowRef={this.overflowRef}\r\n                                    containerRef={this.containerRef}\r\n                                    show={isContainer}\r\n                                    onScroll={this.onScroll}\r\n                                    isPage={isPage}\r\n                                    editor={editor}\r\n                                    page={page}\r\n                                    ref={this.backContainerRef}\r\n                                    size={runtimeStyle || size}\r\n                                    getChildrenOverride={getChildrenOverride}\r\n                                    agl={this}\r\n                                    padding={this.getCompositeFromData(\"padding\")}\r\n                                    modifyContainerStyleOverride={modifyContainerStyleOverride}\r\n                                    selectAsParent={selectAsParent}\r\n                                    selected={selected}\r\n                                    containerStyle={containerStyle}\r\n                                />\r\n                            </AnimationHolder>\r\n                            {isPage && <div id={\"bottom\"}></div>}\r\n\r\n                            <AGLAnchor\r\n                                anchor={anchor}\r\n                            />\r\n\r\n                            {\r\n                                this.state.dragging && this.props.parent && !this.props.parent.props.isStack &&\r\n                                <Portal nodeId={this.state.portalNodeId ||\r\n                                    `${this.props.parent.props.id}_container`}\r\n                                >\r\n                                    <div\r\n                                        // className={this.state.fakeStyle}\r\n                                        style={{\r\n                                            opacity: 0,\r\n                                            pointerEvents: \"none\",\r\n                                            ...this.state.fakeStyle\r\n                                        }}\r\n                                    />\r\n                                </Portal>\r\n                            }\r\n\r\n                        </TagAs>\r\n                </VisibilitySensorWrapper>\r\n            </Portal>\r\n        )\r\n    }\r\n}\r\n\r\nAwesomeGridLayout2.defaultProps = {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    childSize: {w: \"100%\", h: \"100%\"},\r\n    showSideResize: false,\r\n    isSelectable: true,\r\n    layoutType: \"free\", // free, grid\r\n    snap: {x: 1, y: 1},\r\n    dir: \"rtl\", // rtl, ltr,\r\n    compactType: \"vertical\", // none, vertical, horizontal\r\n    defaultGrid: {\r\n        x: 1,\r\n        y: 1,\r\n        gridTemplateRows: \"1fr\",\r\n        gridTemplateColumns: \"1fr\"\r\n    },\r\n    defaultStyle: {\r\n        width: \"50%\",\r\n        height: \"50%\",\r\n    },\r\n    defaultGridItemStyle: {\r\n        alignSelf: \"center\",\r\n        justifySelf: \"center\",\r\n        position: \"relative\",\r\n        marginLeft: 0,\r\n        marginRight: 0,\r\n        marginTop: 0,\r\n        marginBottom: 0,\r\n        gridArea: \"1/1/2/2\",\r\n    }\r\n};\r\n","import AwesomeGridLayout2 from \"../../AwesomeGridLayout2\";\r\nimport React from \"react\";\r\nimport {assignData, initGriddata} from \"../../AwesomeGridLayoutUtils\";\r\n\r\nexport default class AGLWrapper extends React.Component{\r\n    render() {\r\n        let griddata = this.props.aglRef.current && this.props.aglRef.current.props.griddata;\r\n        if (!griddata) griddata = this.props.griddata;\r\n        if (griddata && griddata.initialized) {\r\n            if (!griddata.filDataOnMount) {\r\n                griddata.filDataOnMount = true;\r\n                // griddata.fillWithData = true;\r\n                let bpData = this.props.data.bpData;\r\n                Object.keys(this.props.data).forEach(key => {\r\n                    if (key !== \"bpData\") {\r\n                        griddata[key] = this.props.data[key];\r\n                    }\r\n                });\r\n                assignData(griddata.bpData[\"laptop\"], bpData);\r\n            }\r\n        } else {\r\n            griddata = assignData(this.props.griddata, this.props.data);\r\n            initGriddata(griddata, this.props.breakpointmanager);\r\n        }\r\n\r\n        return (\r\n            <AwesomeGridLayout2\r\n                className={this.props.className}\r\n                {...this.props}\r\n                ref={this.props.aglRef}\r\n                griddata={griddata}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport AGLWrapper from \"../Helpers/AGLWrapper\";\r\nimport AGLComponent from \"../Helpers/AGLComponent\";\r\nimport {isFixed, isStretch} from \"../../AwesomwGridLayoutHelper\";\r\nimport {appendStyle, cloneObject, updateStyle} from \"../../AwesomeGridLayoutUtils\";\r\nimport StackSpacerContainer from \"./StackSpacerContainer\";\r\nimport StackSpacer from \"./StackSpacer\";\r\n\r\nexport default class Stack extends AGLComponent{\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            spacers: []\r\n        };\r\n        this.aglRef = React.createRef();\r\n        this.spacerContainerRef = React.createRef();\r\n\r\n        if (props.allSpacerData)\r\n            this.allSpacerData = props.allSpacerData;\r\n    }\r\n\r\n    getDefaultData = () => {\r\n        return {\r\n            isContainer: true\r\n        };\r\n    };\r\n\r\n    getChildrenOverride = (sortedChildrenArray, agl) => { // [{child: child, zIndex: zIndex}], agl\r\n        return sortedChildrenArray.map((child, index) => {\r\n            return child.child;\r\n        });\r\n    };\r\n\r\n    lateMountedOverride = (agl) => {\r\n        agl.invalidateSize();\r\n        agl.addToSnap();\r\n        agl.onSelect(agl.getFromTempData(\"selected\"));\r\n\r\n        if (agl.props.onPageResize) {\r\n            let rect = agl.getSize(false, true);\r\n            agl.props.onPageResize(rect.width, agl, true);\r\n        }\r\n\r\n        agl.props.onChildMounted && agl.props.onChildMounted(agl);\r\n        if (this.props.lateMountedComplete)\r\n            this.props.lateMountedComplete(this);\r\n\r\n        this.setOrder();\r\n    };\r\n\r\n    calculateGridItemChildOverride = (child, relativeX, relativeY, parent, width, height, parentRect, fromState) =>\r\n    {\r\n        return this.calculateWrapper(child, relativeX, relativeY, parent, width, height, parentRect, fromState);\r\n    };\r\n\r\n    calculateChildGridItemOverride =\r\n        (child1, child, relativeX, relativeY, parent, width, height, parentRect, fromState) =>\r\n    {\r\n        return this.calculateWrapper(child, relativeX, relativeY, parent, width, height, parentRect, fromState);\r\n    };\r\n\r\n    calculateWrapper = (child, relativeX, relativeY, parent, width, height, parentRect, fromState) => {\r\n        if (!width) {\r\n            let rect = child.getSize(false, true);\r\n            width = rect.width;\r\n            height = rect.height;\r\n        }\r\n\r\n        if (!parentRect)\r\n            parentRect = parent.getSize(false, true);\r\n\r\n        let {gridArea, coordinates} = child.calculateGridArea(\r\n            parentRect.left + relativeX,\r\n            parentRect.top + relativeY,\r\n            width,\r\n            height,\r\n            parent,\r\n            parentRect\r\n        );\r\n\r\n        if (isFixed(child)) {\r\n            gridArea = {x1: 1, x2: 2, y1: 1, y2: 2};\r\n            coordinates = {\r\n                cy1: parentRect.top,\r\n                cy2: parentRect.top + parentRect.clientHeight,\r\n                cx1: parentRect.left,\r\n                cx2: parentRect.left + parentRect.clientWidth\r\n            }\r\n        }\r\n\r\n        let coordinatesAbs = cloneObject(coordinates);\r\n\r\n        child.coordinateToRelative(coordinates, parentRect);\r\n\r\n        let gridItemStyle = {...(child.state.gridItemStyle || child.props.defaultGridItemStyle)};\r\n        delete gridItemStyle.marginLeft;\r\n        delete gridItemStyle.marginRight;\r\n\r\n        gridItemStyle.gridArea = `${gridArea.y1}/${gridArea.x1}/${gridArea.y2}/${gridArea.x2}`;\r\n\r\n        let centerX = (relativeX  - coordinates.cx1) + width / 2;\r\n\r\n        let parentCenterMinusX = (coordinates.cx2 - coordinates.cx1) / 2 * (1 - 0.1);\r\n        let parentCenterPlusX = (coordinates.cx2 - coordinates.cx1) / 2 * (1 + 0.1);\r\n\r\n        let yLineRef = child.props.gridLine.getYlineRef(parent.props.id);\r\n        let cy2IsLastLine = gridArea.y2 === yLineRef.length || isFixed(child);\r\n\r\n        if (gridItemStyle.justifySelf !== \"stretch\") {\r\n            if (centerX < parentCenterPlusX && centerX > parentCenterMinusX) {\r\n                // child is center\r\n                let centerDiff = (centerX - (coordinates.cx2 - coordinates.cx1) / 2);\r\n                gridItemStyle.alignSelf = \"center\";\r\n                gridItemStyle.marginRight = `0${child.getUnit(gridItemStyle.marginRight)}`;\r\n                gridItemStyle.marginLeft =\r\n                    `${(centerDiff * 2).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginLeft)}`;\r\n            } else if (centerX > parentCenterPlusX) {\r\n                gridItemStyle.alignSelf = \"flex-end\";\r\n                gridItemStyle.marginRight =\r\n                    `${(coordinates.cx2 - (relativeX + width)).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginRight)}`;\r\n                gridItemStyle.marginLeft = `0${child.getUnit(gridItemStyle.marginLeft)}`;\r\n            } else {\r\n                gridItemStyle.alignSelf = \"flex-start\";\r\n                gridItemStyle.marginRight = `0${child.getUnit(gridItemStyle.marginRight)}`;\r\n                gridItemStyle.marginLeft =\r\n                    `${(relativeX - coordinates.cx1).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginLeft)}`;\r\n            }\r\n\r\n            // if (cy2IsLastLine && (relativeY + height >= coordinates.cy2)) {\r\n            // gridItemStyle.alignSelf = \"end\";\r\n            // gridItemStyle.marginBottom =\r\n            //     `${(coordinates.cy2 - relativeY - height).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginBottom)}`;\r\n            // gridItemStyle.marginTop =`0${child.getUnit(gridItemStyle.marginBottom)}`;\r\n            // } else {\r\n            // gridItemStyle.alignSelf = \"start\";\r\n            // gridItemStyle.marginBottom = `0${child.getUnit(gridItemStyle.marginBottom)}`;\r\n            // gridItemStyle.marginTop =\r\n            //     `${(relativeY - coordinates.cy1).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginTop)}`;\r\n            // }\r\n        } else {\r\n            gridItemStyle.marginRight =\r\n                `${(coordinates.cx2 - (relativeX + width)).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginRight)}`;\r\n            gridItemStyle.marginLeft =\r\n                `${(relativeX - coordinates.cx1).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginLeft)}`;\r\n\r\n            // gridItemStyle.marginBottom =\r\n            //     `${(coordinates.cy2 - relativeY - height).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginBottom)}`;\r\n            // gridItemStyle.marginTop =\r\n            //     `${(relativeY - coordinates.cy1).toFixed(0).toString()}${child.getUnit(gridItemStyle.marginTop)}`;\r\n        }\r\n\r\n        delete gridItemStyle.justifySelf;\r\n        delete gridItemStyle.marginTop;\r\n        delete gridItemStyle.marginBottom;\r\n        delete gridItemStyle.gridArea;\r\n\r\n        child.setDataInBreakpoint(\"relativeY\", relativeY);\r\n\r\n        this.setOrder(child.props.id, child, relativeY, height, fromState);\r\n\r\n        child.setStyleParam(\"height\", \"auto\");\r\n\r\n        return {gridItemStyle, gridArea, coordinates, coordinatesAbs};\r\n    };\r\n\r\n    setOrder = (childId, child, childRelativeY, childHeight, fromState) => {\r\n        let childFound = false;\r\n        let childOrderSet = false;\r\n        let sorted = Object.values(this.aglRef.current.allChildRefs).sort((a,b) => {\r\n            if (a && a.current && b && b.current){\r\n                if (a.current.props.id === childId || b.current.props.id === childId)\r\n                    childFound = true;\r\n\r\n                let relativeYA = a.current.getFromData(\"relativeY\");\r\n                let relativeYB = b.current.getFromData(\"relativeY\");\r\n                if (relativeYA < relativeYB) {\r\n                    return -1;\r\n                } else if (relativeYA === relativeYB) {\r\n                    // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                    if (childId === a.current.props.id)\r\n                        return -1;\r\n                    else if (childId === b.current.props.id)\r\n                        return 1;\r\n                    else\r\n                        return 0;\r\n                }\r\n                return 1;\r\n            } else {\r\n                return 0;\r\n            }\r\n        });\r\n\r\n        let order = 1;\r\n        let relativeY = 0;\r\n        let spacers = [];\r\n        let length = sorted.filter(childRef => {\r\n            return (childRef && childRef.current);\r\n        }).length;\r\n\r\n        sorted.forEach((childRef, index) => {\r\n            if (childRef && childRef.current) {\r\n                if (childRelativeY && !childFound) {\r\n                    let relativeY2 = childRef.current.getFromData(\"relativeY\");\r\n                    if (!childOrderSet && relativeY2 > childRelativeY) {\r\n                        childOrderSet = true;\r\n                        child.setStyleParam(\"order\", order);\r\n                        child.setDataInBreakpoint(\"order\", order);\r\n                        order++;\r\n                    }\r\n                }\r\n                childRef.current.setStyleParam(\"order\", order);\r\n                childRef.current.setDataInBreakpoint(\"order\", order);\r\n                childRef.current.setDataInBreakpoint(\"relativeY\", relativeY);\r\n                let size = childRef.current.getSize(false);\r\n                relativeY += size.height;\r\n\r\n                if (childId === childRef.current.props.id) {\r\n                    childOrderSet = true;\r\n                }\r\n                order++;\r\n\r\n                if (length > index + 1) {\r\n                    spacers[index] = this.getSpacer(index, order);\r\n                    relativeY+= this.getSpacerData(index).height;\r\n                    order++;\r\n                }\r\n            }\r\n        });\r\n\r\n        if (child && !childOrderSet) {\r\n            childOrderSet = true;\r\n            child.setStyleParam(\"order\", order);\r\n            child.setDataInBreakpoint(\"order\", order);\r\n            order++;\r\n        }\r\n\r\n        this.spacerContainerRef.current.updateSpacers(spacers);\r\n        setTimeout(() => {\r\n            this.props.select.updateSize();\r\n        }, 0);\r\n    };\r\n\r\n    getSpacer = (index, order) => {\r\n        if (!this.allSpacerData) {\r\n            this.allSpacerData = [];\r\n        }\r\n        if (!this.allSpacerRef) {\r\n            this.allSpacerRef = [];\r\n        }\r\n\r\n        if (!this.allSpacerData[index]) {\r\n            this.allSpacerData[index] = {\r\n                height: 20\r\n            };\r\n        }\r\n\r\n        if (!this.allSpacerRef[index]) {\r\n            this.allSpacerRef[index] = React.createRef();\r\n        }\r\n\r\n        return <StackSpacer\r\n            key={index}\r\n            order={order}\r\n            spacerData={this.allSpacerData[index]}\r\n            ref={this.allSpacerRef[index]}\r\n            aglRef={this.aglRef}\r\n            onDragStart={this.onStackDragStart}\r\n            onDragStop={this.onStackDragStop}\r\n            stack={this}\r\n            onMouseOver={this.onMouseOverSpacer}\r\n            onMouseEnter={this.onMouseEnterSpacer}\r\n            onMouseOut={this.onMouseOutSpacer}\r\n        />;\r\n    };\r\n\r\n    onStackDragStart = (e) => {\r\n        this.aglRef.current.setTempData(\"dontMove\", true);\r\n    };\r\n\r\n    onStackDragStop = (e) => {\r\n        this.aglRef.current.setTempData(\"dontMove\", false);\r\n    };\r\n\r\n    getSpacerData = (index) => {\r\n        if (!this.allSpacerData) {\r\n            this.allSpacerData = [];\r\n        }\r\n        if (!this.allSpacerRef) {\r\n            this.allSpacerRef = [];\r\n        }\r\n\r\n        if (!this.allSpacerData[index]) {\r\n            this.allSpacerData[index] = {\r\n                height: 20\r\n            };\r\n        }\r\n\r\n        return this.allSpacerData[index];\r\n    };\r\n\r\n    setMouseOverOverride = (agl, item, positionData, callback) => {\r\n        this.setPointerEventOfSpacers(\"none\");\r\n        return this.props.dragdrop.setMouseOver(item, positionData, callback);\r\n    };\r\n\r\n    setMouseOverForNonDraggingOverride = (agl) => {\r\n        this.setPointerEventOfSpacers(\"auto\");\r\n        agl.props.dragdrop.setMouseOverForNonDragging(agl);\r\n    };\r\n\r\n    setPointerEventOfSpacers = (pointerEvents) => {\r\n        if (!this.allSpacerRef)\r\n            this.allSpacerRef = [];\r\n\r\n        this.allSpacerRef.forEach((spacerRef) => {\r\n            if (spacerRef && spacerRef.current)\r\n                spacerRef.current.setPointerEvents(pointerEvents);\r\n        })\r\n    };\r\n\r\n    setGridItemStyleChildOverride = (child, newGridItemStyle) => {\r\n        let gridItemStyle = {...newGridItemStyle};\r\n        delete gridItemStyle.gridArea;\r\n        child.setDataInBreakpoint(\"gridItemStyle\", gridItemStyle);\r\n        let styleNode = document.getElementById(child.getGridItemStyleId());\r\n\r\n        if (!styleNode) {\r\n            appendStyle(gridItemStyle, child.getGridItemStyleId(), child.getGridItemStyleId(), this.getAgl());\r\n        } else {\r\n            updateStyle(styleNode, gridItemStyle, child.getGridItemStyleId());\r\n        }\r\n    };\r\n\r\n    modifyContainerStyleOverride = (container, agl, grid, aglStyle) => {\r\n        let style;\r\n\r\n        style = {\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            position: \"relative\"\r\n        };\r\n\r\n        let styleNode = document.getElementById(container.getContainerStyleId());\r\n\r\n        if (!styleNode) {\r\n            appendStyle(style, container.getContainerStyleId(), container.getContainerStyleId(), this.getAgl());\r\n        } else {\r\n            updateStyle(styleNode, style, container.getContainerStyleId());\r\n        }\r\n    };\r\n\r\n    onChildLeaveOverride = (agl, child) => {\r\n        agl.removeChildElement(child);\r\n        child.removeIdAndChildrenId();\r\n\r\n        this.setOrder();\r\n\r\n        if (!agl.removing && Object.values(agl.allChildRefs).length === 1) {\r\n            agl.removing = true;\r\n            setTimeout(() => {\r\n                Object.values(agl.allChildRefs)[0] &&\r\n                this.props.dragdrop.dropItem(\r\n                    Object.values(agl.allChildRefs)[0].current,\r\n                    Object.values(agl.allChildRefs)[0].current.props.parent,\r\n                    this.props.parent, undefined, false, 2);\r\n            }, 0);\r\n        }\r\n    };\r\n\r\n    stretchChildOverride = (child, item) => {\r\n        if (!item.props.parent)\r\n            return;\r\n\r\n        let stretch = false;\r\n        let gridItemStyle = item.getFromData(\"gridItemStyle\");\r\n\r\n\r\n        if (!isStretch(item, true)) {\r\n            stretch = true;\r\n        }\r\n\r\n        gridItemStyle.alignSelf = stretch? \"stretch\": \"center\";\r\n        gridItemStyle.marginLeft = \"0px\";\r\n        gridItemStyle.marginRight = \"0px\";\r\n        item.setStyleParam(\"width\", \"100%\");\r\n\r\n        if (!stretch) {\r\n            item.setStyleParam(\"width\", \"80%\");\r\n        }\r\n\r\n        item.setGridItemStyle(gridItemStyle);\r\n        item.props.select.onScrollItem();\r\n    };\r\n\r\n    isStretchChildOverride = (child, item, log) => {\r\n        if (!item.props.parent)\r\n            return false;\r\n\r\n        let gridItemStyle = item.getFromData(\"gridItemStyle\");\r\n\r\n        return !(gridItemStyle.alignSelf !== \"stretch\" ||\r\n            gridItemStyle.marginLeft !== \"0px\" ||\r\n            gridItemStyle.marginRight !== \"0px\");\r\n    };\r\n\r\n    setStyleParamOverride = (agl, param, value, data) => {\r\n        if (param === \"height\" || param === \"minHeight\")\r\n            return;\r\n\r\n        let style = !data? agl.getFromData(\"style\"): agl.getFromData(\"style\", data);\r\n        style[param] = value;\r\n        if (value === undefined)\r\n            delete style[param];\r\n        agl.setStyle(style, data);\r\n    };\r\n\r\n    onMouseOverSpacer = (e) => {\r\n        this.aglRef.current.onMouseOver(e);\r\n    };\r\n\r\n    onMouseEnterSpacer = (e) => {\r\n        this.aglRef.current.onMouseEnter(e);\r\n    };\r\n\r\n    onMouseOutSpacer = (e) => {\r\n        this.aglRef.current.onMouseOut(e);\r\n    };\r\n\r\n    onChildAdd = () => {\r\n        this.getAgl().removing = false;\r\n    };\r\n\r\n    render() {\r\n        return [\r\n            <AGLWrapper tagName=\"Stack\"\r\n                        key=\"Stack\"\r\n                        aglRef={!this.props.aglRef? this.aglRef: this.aglRef = this.props.aglRef}\r\n                        {...this.props}\r\n                        data={this.getData()}\r\n                        style={{...{\r\n                            height: \"auto\"\r\n                        }, ...this.props.style}}\r\n                        getChildrenOverride={this.getChildrenOverride}\r\n                        isStack={true}\r\n                        resizeSides={['e','w']}\r\n                        onDragStartChildOverride={this.onDragStartChildOverride}\r\n                        onDragChildOverride={this.onDragChildOverride}\r\n                        onDragStopChildOverride={this.onDragStopChildOverride}\r\n                        setGridItemStyleChildOverride={this.setGridItemStyleChildOverride}\r\n                        calculateGridItemChildOverride={this.calculateGridItemChildOverride}\r\n                        calculateChildGridItemOverride={this.calculateChildGridItemOverride}\r\n                        modifyContainerStyleOverride={this.modifyContainerStyleOverride}\r\n                        setMouseOverOverride={this.setMouseOverOverride}\r\n                        setMouseOverForNonDraggingOverride={this.setMouseOverForNonDraggingOverride}\r\n                        stretchChildOverride={this.stretchChildOverride}\r\n                        isStretchChildOverride={this.isStretchChildOverride}\r\n                        lateMountedOverride={this.lateMountedOverride}\r\n                        setStyleParamOverride={this.setStyleParamOverride}\r\n                        onChildLeaveOverride={this.onChildLeaveOverride}\r\n                        onChildAdd={this.onChildAdd}\r\n\r\n            >\r\n            </AGLWrapper>,\r\n            <StackSpacerContainer ref={this.spacerContainerRef} key=\"spacers\"\r\n                                  aglRef={this.aglRef}\r\n                                  document={this.props.document}\r\n            />\r\n        ]\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport Divider from \"../Menus/CommonComponents/Divider\";\r\nimport MenuItem from \"@material-ui/core/MenuItem/MenuItem\";\r\nimport {LightMenuTooltip} from \"../Components/Containers/Menus/Components/LightTooltip\";\r\nimport {isLeftClick} from \"../AwesomwGridLayoutHelper\";\r\nimport Popper from \"@material-ui/core/Popper/Popper\";\r\nimport Paper from \"@material-ui/core/Paper/Paper\";\r\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener/ClickAwayListener\";\r\nimport MenuList from \"@material-ui/core/MenuList/MenuList\";\r\n\r\nexport default class ContextMenu extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n    }\r\n\r\n    getFakeAnchor = (clientX, clientY) => {\r\n        return {\r\n            clientWidth: 0,\r\n            clientHeight: 0,\r\n            getBoundingClientRect: () => {\r\n                return {\r\n                    top: clientY,\r\n                    left: clientX,\r\n                    width: 0,\r\n                    height: 0,\r\n                    bottom: clientY,\r\n                    right: clientX\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    render () {\r\n        let {menu, clientX, clientY, popperStyle, onClose} = this.props;\r\n        return (\r\n            <>\r\n                <Popper\r\n                    style={{...{\r\n                            zIndex: 99999999999999\r\n                        }, ...popperStyle}}\r\n                    // anchorReference=\"anchorPosition\"\r\n                    // anchorPosition={\r\n                    //     clientY !== null && clientX !== null\r\n                    //         ? { top: clientY, left: clientX }\r\n                    //         : undefined\r\n                    // }\r\n                    anchorEl={this.getFakeAnchor(clientX, clientY)}\r\n                    open={true}\r\n                    onContextMenu={(e) => {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }}\r\n                    placement=\"bottom-start\"\r\n                >\r\n                    <Paper style={{\r\n                        boxShadow: '0px 5px 5px -3px rgba(0,0,0,0.2), 0px 8px 10px 1px rgba(0,0,0,0.14), 0px 3px 14px 2px rgba(0,0,0,0.12)',\r\n                    }}>\r\n                        <ClickAwayListener onClickAway={onClose} mouseEvent='onMouseDown'>\r\n                            <MenuList autoFocusItem={true} style={{padding: 0}}\r\n                                      onPointerDown={(e) => {\r\n                                          e.preventDefault();\r\n                                          e.stopPropagation();\r\n                                      }}\r\n                            >\r\n                                {\r\n                                    menu.map((section, i) => {\r\n                                        let hasDivider = (i !== menu.length - 1);\r\n                                        return (\r\n                                            [\r\n                                                section.map((menuItem, j) => {\r\n                                                    return (\r\n                                                        <ContextMenuItem\r\n                                                            key={`${i}${j}`}\r\n                                                            onClose={onClose}\r\n                                                            menuItem={menuItem}\r\n                                                        />\r\n                                                    )\r\n                                                }),\r\n                                                hasDivider && <Divider style={{\r\n                                                    width: \"100%\",\r\n                                                    margin: 0,\r\n                                                    display: \"block\"\r\n                                                }}/>\r\n                                            ]\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </MenuList>\r\n                        </ClickAwayListener>\r\n                    </Paper>\r\n                </Popper>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport class ContextMenuItem extends React.Component {\r\n    render () {\r\n        let {menuItem, onClose} = this.props;\r\n\r\n        if (!menuItem.subMenu)\r\n            return (\r\n                <MenuItem\r\n                    dense\r\n                    onClick={(e) => {\r\n                        if (menuItem.onClick) {\r\n                            menuItem.onClick(e);\r\n                            onClose && onClose(e);\r\n                        }\r\n                    }}\r\n                    onPointerDown={(e) => {\r\n                        if (!isLeftClick(e)) {\r\n                            e.preventDefault();\r\n                            e.stopPropagation();\r\n                        }\r\n                    }}\r\n                >\r\n                    <span style={{\r\n                        display: \"grid\",\r\n                        gridTemplateColumns: \"1fr auto\",\r\n                        alignItems: \"center\",\r\n                        width: \"100%\"\r\n                    }}>\r\n                        {menuItem.name}\r\n                        <span style={{\r\n                            fontSize: 10,\r\n                            marginLeft: 24,\r\n                            color: \"#9a9a9a\"\r\n                        }}>\r\n                            {\r\n                                menuItem.shortcut\r\n                            }\r\n                        </span>\r\n                    </span>\r\n                </MenuItem>\r\n            );\r\n        else\r\n            return (\r\n                <LightMenuTooltip\r\n                    title={\r\n                        menuItem.subMenu.map((menuItem, j) => {\r\n                            return (\r\n                                <ContextMenuItem\r\n                                    key={`${j}`}\r\n                                    onClose={onClose}\r\n                                    menuItem={menuItem}\r\n                                />\r\n                            )\r\n                        })\r\n                    }\r\n                    interactive\r\n                    placement=\"right\"\r\n                    leaveDelay={200}\r\n                    PopperProps={{\r\n                        style: {\r\n                            zIndex: 99999999999999,\r\n                        },\r\n                        modifiers:{\r\n                            flip: {\r\n                                enabled: true,\r\n                            },\r\n                            preventOverflow: {\r\n                                enabled: true,\r\n                                boundariesElement: 'viewport',\r\n                            },\r\n                        }}\r\n                    }\r\n                >\r\n                    <MenuItem\r\n                        dense\r\n                        onPointerDown={(e) => {\r\n                            e.preventDefault();\r\n                            e.stopPropagation()\r\n                        }}\r\n                    >\r\n                        <span style={{\r\n                            display: \"grid\",\r\n                            gridTemplateColumns: \"1fr auto\",\r\n                            alignItems: \"center\",\r\n                            width: \"100%\"\r\n                        }}>\r\n                            {menuItem.name}\r\n                            <img draggable={false} width={8} height={8}\r\n                                 src={process.env.PUBLIC_URL + '/static/icon/right-arrow.svg'}\r\n                                style={{\r\n                                    marginLeft: 24,\r\n                                    color: \"#9a9a9a\"\r\n                                }}\r\n                            />\r\n                    </span>\r\n                    </MenuItem>\r\n                </LightMenuTooltip>\r\n            )\r\n    }\r\n}\r\n\r\n/*\r\n* Structure of input menu object\r\n* [\r\n*   [ // each section has one array\r\n    *   {\r\n    *       name: \"delete\",\r\n    *       onClick: function,\r\n    *       icon: <img ... />\r\n    *       shortcut: \"Ctrl + D\"\r\n    *       subMenu: {other Menu}\r\n    *   }\r\n*   ]\r\n* ]\r\n* */\r\n","import React from \"react\";\r\nimport './AwesomwGridLayoutHelper.css';\r\nimport {isLeftClick} from \"./AwesomwGridLayoutHelper\";\r\n\r\nexport default class SelectManager {\r\n    constructor() {\r\n        window.addEventListener(\"keydown\",(e) =>{\r\n            e = e || window.event;\r\n            let key = e.which || e.keyCode; // keyCode detection\r\n            this.ctrl = e.ctrlKey ? e.ctrlKey : (key === 17); // ctrl detection\r\n        });\r\n        window.addEventListener(\"keyup\",(e) =>{\r\n            e = e || window.event;\r\n            let key = e.which || e.keyCode; // keyCode detection\r\n            if (key === 17) {\r\n                this.ctrl = false;\r\n            }\r\n        });\r\n\r\n        this.ctrl = false;\r\n        this.shift = false;\r\n        this.alt = false;\r\n\r\n        this.mouseDown = 0;\r\n        window.addEventListener(\"mousedown\",(e) =>{\r\n            if (isLeftClick(e))\r\n                this.mouseDown = 1;\r\n        });\r\n        window.addEventListener(\"mouseup\",(e) =>{\r\n            if (isLeftClick(e) && this.mouseDown > 0)\r\n                this.mouseDown = 0;\r\n        });\r\n    }\r\n}\r\n","import {throttleDebounce} from \"./AwesomeGridLayoutUtils\";\r\nimport {\r\n    createStack, createStack2,\r\n    getSectionId, hasSameParent,\r\n} from \"./AwesomwGridLayoutHelper\";\r\nimport React from \"react\";\r\nimport './AwesomwGridLayoutHelper.css';\r\nimport throttle from \"lodash.throttle\";\r\nimport Text from \"./Components/Text/Text\";\r\nimport TextDesign from \"./Components/Button/Menus/TextDesign\";\r\nimport MenuButton from \"./Menus/MenuBase/MenuButton\";\r\n\r\nexport default class SelectManager {\r\n    constructor(inputManager, groupSelectRef, pageAglRef, miniMenuHolderRef,\r\n                inspectorRef, resizeRef, helpLinesRef, hoverRef) {\r\n        this.inputManager = inputManager;\r\n        this.groupSelectRef = groupSelectRef;\r\n        this.pageAglRef = pageAglRef;\r\n        this.miniMenuHolderRef = miniMenuHolderRef;\r\n        this.inspectorRef = inspectorRef;\r\n        this.resizeRef = resizeRef;\r\n        this.helpLinesRef = helpLinesRef;\r\n        this.hoverRef = hoverRef;\r\n        window.addEventListener(\"keydown\",(e) =>{\r\n            e = e || window.event;\r\n            let key = e.which || e.keyCode; // keyCode detection\r\n            let ctrl = e.ctrlKey ? e.ctrlKey : (key === 17); // ctrl detection\r\n\r\n            if ( key === 71 && ctrl ) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + G\");\r\n                this.editGrid();\r\n            }\r\n            if ( key === 49 && ctrl ) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + 1\");\r\n                this.test1();\r\n            }\r\n            if ( key === 50 && ctrl ) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + 2\");\r\n                this.test2();\r\n            }\r\n            if ( key === 51 && ctrl ) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + 3\");\r\n                this.test3();\r\n            }\r\n        });\r\n    }\r\n\r\n    setContext = (editorContext) => {\r\n        this.context = editorContext;\r\n    }\r\n\r\n    getPageOverflowRef = () => {\r\n        if (this.pageAglRef.current)\r\n            return this.pageAglRef.current.overflowRef.current;\r\n    };\r\n\r\n    editGrid = (item) => {\r\n        if (!this.getSelected()) {\r\n            this.selectedItem = item;\r\n        } else if (!item){\r\n            item = this.getSelected();\r\n        }\r\n\r\n        if (!item)\r\n            return;\r\n\r\n        item.editGrid();\r\n    };\r\n\r\n    selectItem = (item, clicked, dontUpdateAdjustments) => {\r\n        if (!this.getSelected()) {\r\n            this.selectedItem = item;\r\n        }\r\n\r\n        if (this.inputManager.ctrl && clicked && getSectionId(this.selectedItem) === getSectionId(item)) {\r\n            this.createGroup(item);\r\n            return;\r\n        } else if (this.inputManager.ctrl){\r\n            // TODO can notify to user that can't select multiple item from different section\r\n            this.clearGroup();\r\n        } else {\r\n            this.clearGroup();\r\n        }\r\n\r\n        if (this.selectedItem.props.id !== item.props.id){\r\n            this.selectedItem.onSelect(false, undefined, true);\r\n        }\r\n\r\n        if (!dontUpdateAdjustments) {\r\n            if (this.selectedItem.props.id !== item.props.id){\r\n                this.updateMenu();\r\n            }\r\n\r\n            this.updateMiniMenu(item);\r\n            this.setInspector(\r\n                item.props.getInspector()\r\n            );\r\n            this.updateResizePanes(item, item.getSize(false));\r\n        }\r\n\r\n        this.selectedItem = item;\r\n    };\r\n\r\n    clearMiniMenu = () => {\r\n        this.miniMenuHolderRef.current.clearMiniMenu();\r\n    };\r\n\r\n    onContextMenu = (e, item) => {\r\n        this.miniMenuHolderRef.current.onContextMenu(e, item);\r\n    };\r\n\r\n    updateMiniMenu = (item) => {\r\n        if(!item)\r\n            item = this.getSelected();\r\n\r\n        if (item && item.hasMiniMenu())\r\n            this.miniMenuHolderRef.current.addMiniMenu(item);\r\n        else\r\n            this.clearMiniMenu();\r\n    };\r\n\r\n    updateMenu = (menu) => {\r\n        this.miniMenuHolderRef.current.addMenu(menu);\r\n    };\r\n\r\n    setInspector = (inspectorMenu) => {\r\n        this.inspectorRef.current.setMenu(inspectorMenu);\r\n    };\r\n\r\n    clearGroup = () => {\r\n        if (!this.group)\r\n            return;\r\n\r\n        this.group.forEach(item => {\r\n            item.setState({groupSelected: false,\r\n                groupDragStart: undefined,\r\n                groupDrag: undefined,\r\n                groupDragStop: undefined,\r\n            });\r\n            item.onSelect(false, undefined, true);\r\n        });\r\n\r\n        this.group = undefined;\r\n\r\n        this.updateGroupRect();\r\n    };\r\n\r\n    createGroup = (item) => {\r\n        let selectedItem = this.selectedItem;\r\n        this.selectedItem = undefined;\r\n\r\n        if (!this.group) {\r\n            this.group = [];\r\n            selectedItem && this.group.push(selectedItem);\r\n        }\r\n\r\n        item && this.group.push(item);\r\n\r\n        this.updateResizePanes();\r\n\r\n        this.group.forEach(item => {\r\n            item.setState({groupSelected: true,\r\n                groupDragStart: this.groupDragStart,\r\n                groupDrag: this.groupDrag,\r\n                groupDragStop: this.groupDragStop,\r\n            });\r\n        });\r\n\r\n        this.updateGroupRect();\r\n        this.setGroupMiniMenu(this.group);\r\n        this.updateMenu();\r\n    };\r\n\r\n    setGroupMiniMenu = (group) => {\r\n        this.clearMiniMenu();\r\n        if (group.length > 1) {\r\n            if (hasSameParent(group)) {\r\n                this.miniMenuHolderRef.current.addGroupMenu(group, undefined, [<MenuButton\r\n                    key={0}\r\n                    icon={ <img draggable={false} width={16} height={16}\r\n                                src={require('./icons/stackwhite.svg')} /> }\r\n                    select={this}\r\n                    title={\"Stack\"}\r\n                    onClick={(e) => {\r\n                        createStack2(group);\r\n                    }}\r\n                />]);\r\n            }\r\n        }\r\n    }\r\n\r\n    groupDragStart = (e, mainItem) => {\r\n        this.group.forEach(item => {\r\n            if (mainItem !== item)\r\n                item.onDragStart(e, true);\r\n        });\r\n    };\r\n\r\n    groupDrag = (e, mainItem) => {\r\n        this.group.forEach(item => {\r\n            if (mainItem !== item)\r\n                item.onDrag(e, true);\r\n        });\r\n\r\n        this.updateGroupRect();\r\n    };\r\n\r\n    groupDragStop = (e, mainItem) => {\r\n        this.group.forEach(item => {\r\n            if (mainItem !== item)\r\n                item.onDragStop(e, true);\r\n        });\r\n\r\n        this.updateGroupRect();\r\n        this.setGroupMiniMenu(this.group)\r\n    };\r\n\r\n    deleteGroup = () => {\r\n        if (!this.group) {\r\n            return;\r\n        }\r\n\r\n        this.group.forEach(item => {\r\n            item.delete();\r\n        });\r\n\r\n        this.clearGroup();\r\n    };\r\n\r\n    updateGroupRect = () => {\r\n        if (!this.group) {\r\n            this.groupSelectRef.current && this.groupSelectRef.current.updateRect();\r\n            return;\r\n        }\r\n\r\n        let firstRect = this.group[0].getSize(false, true);\r\n        let top = firstRect.top;\r\n        let left = firstRect.left;\r\n        let bottom = window.innerHeight - firstRect.top - firstRect.height;\r\n        let right =  window.innerWidth - firstRect.left - firstRect.width;\r\n\r\n        this.group.slice(1, this.group.length).forEach(item => {\r\n            let rect = item.getSize(false, true);\r\n            top = Math.min(top, rect.top);\r\n            left = Math.min(left, rect.left);\r\n            bottom = Math.min(bottom, window.innerHeight - rect.top - rect.height);\r\n            right = Math.min(right, window.innerWidth - rect.left - rect.width);\r\n        });\r\n\r\n        this.groupSelectRef.current.updateRect({\r\n            top, left, bottom, right\r\n        }, this.group);\r\n    };\r\n\r\n    getSelected = () => {\r\n        return this.selectedItem;\r\n    };\r\n\r\n    updateParentsRect = throttleDebounce(() => {\r\n        if (!this.getSelected() || !this.getSelected().mounted)\r\n            return;\r\n\r\n        let item = this.getSelected();\r\n\r\n        if (item.props.parent)\r\n            item.props.parent.prepareRects(true, true);\r\n        if (item.state.helpLinesParent && item.state.helpLinesParent !== item.props.parent)\r\n            item.state.helpLinesParent.prepareRects(true, true);\r\n    }, 40);\r\n\r\n    isEditor = () => {\r\n        return !this.context.preview;\r\n    }\r\n\r\n    // change grid line positions and resize panes\r\n    onScrollItem = throttleDebounce(() => {\r\n        if (!this.isEditor())\r\n            return;\r\n\r\n        this.updateGroupRect();\r\n\r\n        if (!this.getSelected() || !this.getSelected().mounted)\r\n            return;\r\n\r\n        let item = this.getSelected();\r\n\r\n        if (item.props.parent)\r\n            item.props.parent.prepareRects();\r\n        if (item.state.helpLinesParent && item.state.helpLinesParent !== item.props.parent)\r\n            item.state.helpLinesParent.prepareRects();\r\n\r\n        let size = item.getSize(false, true);\r\n        item.updateGridLines(\r\n            size.top, size.left,\r\n            window.innerHeight - size.top - size.height,\r\n            window.innerWidth - size.left - size.width,\r\n            \"A\"\r\n        );\r\n        item.updateGridEditor();\r\n        this.updateMiniMenu();\r\n        this.updateResizePanes(item, size);\r\n\r\n        this.updateHelpSizeLines(item, item.state.helpLinesParent, size, item.state.dragging,\r\n            item.getBoundarySize(true));\r\n        this.updateHover(item, size);\r\n    }, 50);\r\n\r\n    // updateSize\r\n    updateSize = throttleDebounce(() => {\r\n        if (!this.getSelected() || !this.getSelected().mounted)\r\n            return;\r\n\r\n        let item = this.getSelected();\r\n\r\n        let size = item.getSize(true, true);\r\n\r\n        this.updateResizePanes(item, size);\r\n    }, 100);\r\n\r\n    updateResizePanes = (item, data) => {\r\n        this.resizeRef.current.update(item, data, item && item.getTransformStyleId());\r\n    };\r\n\r\n    updateHelpLines = throttle((item, helpLineParent, itemRect, dragging) => {\r\n        this.updateHelpSizeLines(item, helpLineParent, itemRect, dragging,\r\n            item.getBoundarySize());\r\n    }, 50);\r\n\r\n    getRuntimeGridItemStyle = () => {\r\n        if (this.helpLinesRef.current)\r\n            return this.helpLinesRef.current.getRuntimeGridItemStyle();\r\n    };\r\n\r\n    updateHover = (item, size, clear) => {\r\n        this.hoverRef.current.update(item, size, clear);\r\n    };\r\n\r\n    activateHover = (active) => {\r\n        this.hoverRef.current.activate(active);\r\n    };\r\n\r\n    activateResize = (active) => {\r\n        this.resizeRef.current.activate(active);\r\n    };\r\n\r\n    updateHelpSizeLines = (item, helpLineParent, itemRect, dragging, fakeItemRect) => {\r\n        if (this.helpLinesRef.current)\r\n            this.helpLinesRef.current.update(item, helpLineParent, itemRect, dragging, fakeItemRect);\r\n    };\r\n\r\n    test1 = () => {\r\n        createStack(this.group);\r\n    };\r\n\r\n    test2 = () => {\r\n        let item = this.getSelected();\r\n        if (!item)\r\n            return;\r\n\r\n        let child =\r\n            <Text\r\n                style={{\r\n                    width: \"50%\",\r\n                    height: \"auto\"\r\n                }}\r\n                data={{\r\n                    textStaticData: {\r\n                        textValue: \"Normal Text\"\r\n                    },\r\n                    bpData: {\r\n                        design: {\r\n                            textDesignData: {\r\n                                textTheme: \"Heading 6\"\r\n                            }\r\n                        }\r\n                    }\r\n                }}\r\n            />;\r\n\r\n        item.addChild(child, undefined, undefined, undefined, (agl) => {\r\n        }, undefined, true);\r\n    };\r\n\r\n    test3 = () => {\r\n        let item = this.getSelected();\r\n        if (!item)\r\n            return;\r\n\r\n        item.playAnimation();\r\n    };\r\n}\r\n","export default class SnapManager {\r\n    constructor (snapThreshold, snapSvgRef) {\r\n        this.snaps = {};\r\n        this.snapThreshold = snapThreshold || 10;\r\n        this.snapSvgRef = snapSvgRef;\r\n    }\r\n\r\n    addSnap = (id, horizontals = [], verticals = [], parentsId) => {\r\n        this.snaps[id] = {\r\n            horizontals, verticals, id, parentsId\r\n        };\r\n    };\r\n\r\n    clearSnaps = () => {\r\n        this.snaps = {};\r\n    }\r\n\r\n    removeSnap = (id) => {\r\n        delete this.snaps[id];\r\n    };\r\n\r\n    checkSnap = (top, left, ignoreId, additionalSnaps = []) => {\r\n        let snapH, snapV;\r\n        let topUp = top + this.snapThreshold;\r\n        let topDown = top - this.snapThreshold;\r\n        let leftUp = left + this.snapThreshold;\r\n        let leftDown = left - this.snapThreshold;\r\n\r\n        let snaps = Object.values(this.snaps);\r\n        snaps = snaps.concat(additionalSnaps);\r\n\r\n        for (let i = 0; i < snaps.length; i++) {\r\n            let snap = snaps[i];\r\n            if (!snap)\r\n                continue;\r\n\r\n            if (snap.id === ignoreId)\r\n                continue;\r\n            if (snap.parentsId && snap.parentsId.includes(ignoreId))\r\n                continue;\r\n\r\n            if (!snapH){\r\n                for (let h = 0; h < snap.horizontals.length; h++) {\r\n                    let horizontal = snap.horizontals[h];\r\n                    if (!horizontal)\r\n                        continue;\r\n                    if (horizontal.value <= topUp && horizontal.value >= topDown) {\r\n                        snapH = horizontal;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!snapV) {\r\n                for (let v = 0; v < snap.verticals.length; v++) {\r\n                    let vertical = snap.verticals[v];\r\n                    if (!vertical)\r\n                        continue;\r\n                    if (vertical.value <= leftUp && vertical.value >= leftDown) {\r\n                        snapV = vertical;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (snapH && snapV)\r\n                break;\r\n        }\r\n\r\n        return {snapH, snapV};\r\n    }\r\n\r\n    drawSnap = (snapH, snapV, pointOfSnapH, pointOfSnapV) => {\r\n        this.snapSvgRef.current.update(snapH, snapV, pointOfSnapH, pointOfSnapV)\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {createItem} from \"./AwesomwGridLayoutHelper\";\r\nimport {cloneObject} from \"./AwesomeGridLayoutUtils\";\r\nimport throttle from \"lodash.throttle\";\r\nimport {EditorContext} from \"./Editor/EditorContext\";\r\n\r\nexport default class CopyManager{\r\n    constructor(selectManager, pageRef, dragdrop, getContext) {\r\n        this.selectManager = selectManager;\r\n        this.pageRef = pageRef;\r\n        this.dragdrop = dragdrop;\r\n        this.getContext = getContext;\r\n\r\n        window.addEventListener(\"keydown\",this.handleKeyCodeEvent);\r\n    }\r\n\r\n    handleKeyCodeEvent = (e) => {\r\n        e = e || window.event;\r\n        let key = e.which || e.keyCode; // keyCode detection\r\n        let ctrl = e.ctrlKey ? e.ctrlKey : (key === 17); // ctrl detection\r\n\r\n        if (this.getContext().isInMenu())\r\n            return;\r\n\r\n        if ( key === 86 && ctrl ) {\r\n            console.log(\"ctrl + V\");\r\n            this.paste();\r\n        } else if ( key === 67 && ctrl ) {\r\n            console.log(\"ctrl + C\");\r\n            this.copy();\r\n        } else if ( key === 68 && ctrl ) {\r\n            e.preventDefault && e.preventDefault();\r\n            console.log(\"ctrl + D\");\r\n            this.duplicate();\r\n        } else if ( key === 46 ) {\r\n            console.log(\"delete\");\r\n            this.delete();\r\n        }\r\n    }\r\n\r\n    copy = (item) => {\r\n        if (!item)\r\n            item = this.selectManager.getSelected();\r\n        if (!item)\r\n            return;\r\n\r\n        this.copyItem = item;\r\n    };\r\n\r\n    getCopyItem = () => {\r\n        return this.copyItem;\r\n    };\r\n\r\n    paste = throttle((selectedItem) => {\r\n        if (!this.copyItem)\r\n            return;\r\n        let destinationItem;\r\n        if (!selectedItem)\r\n            selectedItem = this.selectManager.getSelected() || this.pageRef.current;\r\n\r\n        destinationItem = selectedItem.getContainerParent();\r\n\r\n        if (destinationItem.props.isPage)\r\n            destinationItem = this.copyItem.props.parent;\r\n\r\n        let style = cloneObject(this.getCopyItem().getFromData(\"style\"));\r\n        let gridItemStyle = cloneObject(this.getCopyItem().getFromData(\"gridItemStyle\"));\r\n        let copyRect = this.getCopyItem().getSize(false);\r\n        let parentRect = destinationItem.getSize(false);\r\n        if (destinationItem === this.getCopyItem().props.parent) {\r\n            if (gridItemStyle.marginLeft)\r\n                gridItemStyle.marginLeft =\r\n                    (parseFloat(gridItemStyle.marginLeft.replace(\"px\", \"\").replace(\"%\", \"\")) + 20).toString()\r\n                    + \"px\";\r\n            if (gridItemStyle.marginLeft)\r\n                gridItemStyle.marginTop =\r\n                    (parseFloat(gridItemStyle.marginTop.replace(\"px\", \"\").replace(\"%\", \"\")) + 20).toString()\r\n                    + \"px\";\r\n            if (gridItemStyle.marginRight)\r\n                gridItemStyle.marginRight =\r\n                    (parseFloat(gridItemStyle.marginRight.replace(\"px\", \"\").replace(\"%\", \"\")) - 20).toString()\r\n                    + \"px\";\r\n            if (gridItemStyle.marginBottom)\r\n                gridItemStyle.marginBottom =\r\n                    (parseFloat(gridItemStyle.marginBottom.replace(\"px\", \"\").replace(\"%\", \"\")) - 20).toString()\r\n                    + \"px\";\r\n\r\n            if (!gridItemStyle.marginLeft && !gridItemStyle.marginRight)\r\n                gridItemStyle.marginLeft = \"20px\";\r\n            if (!gridItemStyle.marginTop && !gridItemStyle.marginBottom)\r\n                gridItemStyle.marginTop = \"20px\";\r\n        } else {\r\n            delete gridItemStyle.marginLeft;\r\n            delete gridItemStyle.marginTop;\r\n            delete gridItemStyle.marginRight;\r\n            delete gridItemStyle.marginBottom;\r\n\r\n            gridItemStyle.justifySelf = \"center\";\r\n            gridItemStyle.alignSelf = \"center\";\r\n\r\n            if (style.width.toString().includes(\"%\")) {\r\n                style.width = (copyRect.width / parentRect.width * 100).toString() + \"%\";\r\n            }\r\n            if (style.height.toString().includes(\"%\")) {\r\n                style.height = (copyRect.height / parentRect.height * 100).toString() + \"%\";\r\n            }\r\n        }\r\n\r\n        createItem(destinationItem, {\r\n            props: this.getCopyItem().props,\r\n            tagName: this.getCopyItem().props.tagName\r\n        }, undefined, gridItemStyle, style);\r\n    }, 200);\r\n\r\n    duplicate = (item) => {\r\n        if (!item)\r\n            item = this.selectManager.getSelected();\r\n        if (!item)\r\n            return;\r\n\r\n        this.copy(item);\r\n        this.paste(item.props.parent);\r\n        this.copyItem = false;\r\n    };\r\n\r\n    delete = (item) => {\r\n        if (!item)\r\n            item = this.selectManager.getSelected();\r\n        if (!item && !this.selectManager.group)\r\n            return;\r\n\r\n        this.selectManager.deleteGroup();\r\n\r\n        if (!item)\r\n            return;\r\n\r\n        item.delete();\r\n    };\r\n}\r\n","import EventTrigger from \"./Test/EventTrigger\";\r\n\r\nexport default class IdManager {\r\n    constructor(prefix) {\r\n        this.prefix = prefix + '_';\r\n        this.allId = {};\r\n    }\r\n\r\n    clear = () => {\r\n        this.allId = {};\r\n        EventTrigger.clear();\r\n    };\r\n\r\n    getId = (preferName, fixName) => {\r\n        let result;\r\n        let baseId = !fixName? this.prefix + preferName: fixName;\r\n        let id = baseId;\r\n        let postNo = 1;\r\n        while (!result) {\r\n            if (this.allId[id]) {\r\n                id = baseId + \"_\" + postNo;\r\n                postNo++;\r\n            } else {\r\n                result = id;\r\n            }\r\n        }\r\n\r\n        this.allId[id] = true;\r\n\r\n        return result;\r\n    };\r\n\r\n    setItem = (id, item) => {\r\n        this.allId[id] = item;\r\n    };\r\n\r\n    // return agl reference\r\n    getItem = (id) => {\r\n        return this.allId[id];\r\n    };\r\n\r\n    removeId = (id) => {\r\n        delete this.allId[id];\r\n    };\r\n}\r\n","import throttle from 'lodash.throttle';\r\n\r\nexport default class UndoRedo {\r\n    constructor(max, document, idMan) {\r\n        this.undoQueue = [];\r\n        this.redoQueue = [];\r\n        this.max = max || 20;\r\n        this.idMan = idMan;\r\n\r\n        window.addEventListener('keydown', (e) => {\r\n            let key = e.which || e.keyCode; // keyCode detection\r\n            let ctrl = e.ctrlKey ? e.ctrlKey : (key === 17); // ctrl detection\r\n            let shift = e.shiftKey ? e.shiftKey : (key === 16); // shift detection\r\n            if (key === 90 && ctrl && !shift) {\r\n                this.undo();\r\n            }\r\n            if (key === 90 && ctrl && shift) {\r\n                this.redo();\r\n            }\r\n        });\r\n    }\r\n\r\n    getQueueObject = (func, undo, power) => {\r\n        return {\r\n            redo: func,\r\n            undo: undo,\r\n            power: (typeof power === 'number') ? power : undefined\r\n        }\r\n    };\r\n\r\n    add = (func, undo, power) => {\r\n        this.undoQueue.unshift(this.getQueueObject(func, undo, power));\r\n        if (this.undoQueue.length > this.max)\r\n            this.undoQueue.pop();\r\n        this.redoQueue = [];\r\n    };\r\n\r\n    undo = throttle(() => {\r\n        this.undoFunc();\r\n    }, 500);\r\n\r\n    undoFunc = () => {\r\n        if (this.undoQueue.length === 0)\r\n            return;\r\n\r\n        let object = this.undoQueue.shift();\r\n        let power = object.power || 1;\r\n\r\n        power--;\r\n        object.undo(this.idMan);\r\n        this.redoQueue.unshift(object);\r\n\r\n        while (power > 0) {\r\n            power--;\r\n            let backObject = this.undoFunc();\r\n            if (backObject) {\r\n                let tempPower = backObject.power;\r\n                backObject.power = object.power;\r\n                object.power = tempPower;\r\n            }\r\n        }\r\n\r\n        if (this.undoQueue[0] && this.undoQueue[0].power === 0) {\r\n            let backObject = this.undoFunc();\r\n            if (backObject) {\r\n                let tempPower = backObject.power;\r\n                backObject.power = object.power;\r\n                object.power = tempPower;\r\n            }\r\n        }\r\n\r\n        return object;\r\n    };\r\n\r\n    hasUndo = () => {\r\n        return this.undoQueue.length > 0;\r\n    };\r\n\r\n    redo = throttle(() => {\r\n        this.redoFunc();\r\n    }, 500);\r\n\r\n    redoFunc = () => {\r\n        if (this.redoQueue.length === 0)\r\n            return;\r\n\r\n        let object = this.redoQueue.shift();\r\n        let power = object.power || 1;\r\n\r\n        power--;\r\n        object.redo(this.idMan);\r\n        this.undoQueue.unshift(object);\r\n\r\n        while (power > 0) {\r\n            power--;\r\n            let backObject = this.redoFunc();\r\n            if (backObject) {\r\n                let tempPower = backObject.power;\r\n                backObject.power = object.power;\r\n                object.power = tempPower;\r\n            }\r\n        }\r\n\r\n        if (this.redoQueue[0] && this.redoQueue[0].power === 0) {\r\n            let backObject = this.redoFunc();\r\n            if (backObject) {\r\n                let tempPower = backObject.power;\r\n                backObject.power = object.power;\r\n                object.power = tempPower;\r\n            }\r\n        }\r\n\r\n        return object;\r\n    }\r\n\r\n    hasRedo = () => {\r\n        return this.redoQueue.length > 0;\r\n    };\r\n};\r\n","export default class GridLineManager {\r\n    constructor(gridContainerRef) {\r\n        this.gridContainerRef = gridContainerRef;\r\n    }\r\n\r\n    addGrid = (id, x, y, gridType, gridTemplateRows, gridTemplateColumns, positions, callback) => {\r\n        this.gridContainerRef.current.addGrid(id, x, y, gridType, gridTemplateRows, gridTemplateColumns, positions, callback);\r\n    };\r\n\r\n    getIdCache = (gridType) => {\r\n        return this.gridContainerRef.current.getIdCache(gridType);\r\n    };\r\n\r\n    getXlineRef = (id) => {\r\n        return this.gridContainerRef.current.getXlineRef(id);\r\n    };\r\n\r\n    getYlineRef = (id) => {\r\n        return this.gridContainerRef.current.getYlineRef(id);\r\n    };\r\n\r\n    removeGridLine = (id) => {\r\n        this.gridContainerRef.current.removeGridLine(id);\r\n    };\r\n\r\n    removeGridLineByType = (type) => {\r\n        this.gridContainerRef.current.removeGridLineByType(type);\r\n    };\r\n\r\n    prepareRects = (id) => {\r\n        this.gridContainerRef.current.prepareRects(id);\r\n    };\r\n\r\n    hasGridLine = (id, gridType) => {\r\n        if (this.gridContainerRef.current)\r\n            return this.gridContainerRef.current.hasGridLine(id, gridType);\r\n    };\r\n\r\n    isPrepared = (id) => {\r\n        if (this.gridContainerRef.current)\r\n            return this.gridContainerRef.current.isPrepared(id);\r\n    };\r\n}\r\n","import {v4 as uuidv4} from 'uuid';\r\nimport { goToAnchor } from 'react-scrollable-anchor'\r\nimport {EditorContext} from \"./Editor/EditorContext\";\r\n\r\nexport default class AnchorManager {\r\n    constructor() {\r\n    }\r\n\r\n    addAnchor = (name, item) => {\r\n        let pageId = item.props.viewRef.current.props.pageId;\r\n        let page = item.props.viewRef.current;\r\n        if (!page.props.anchors) page.props.anchors = {};\r\n        let id = uuidv4();\r\n        page.props.anchors[id] = {pageId, name, id};\r\n        item.setAnchor(page.props.anchors[id]);\r\n    };\r\n\r\n    modifyAnchor = (id, newName, item) => {\r\n        let page = item.props.viewRef.current;\r\n        let anchor = page.props.anchors[id];\r\n        if (!anchor) {\r\n            this.addAnchor(newName, item);\r\n            return;\r\n        }\r\n\r\n        anchor.name = newName;\r\n\r\n        item.setAnchor(anchor);\r\n    };\r\n\r\n    removeAnchor = (id, item) => {\r\n        let page = item.props.viewRef.current;\r\n        delete page.props.anchors[id];\r\n        item.setAnchor();\r\n    };\r\n\r\n    getAnchors = (pageData) => {\r\n        return pageData.props.anchors || {};\r\n    };\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\n\r\nexport default class AdjustmentGridRoot extends React.PureComponent {\r\n    render () {\r\n        let {top, left, bottom, right} = this.props;\r\n        return (\r\n            <div\r\n                id=\"AdjustmentGridRoot\"\r\n                className=\"AdjustmentGridRoot\"\r\n                style={{top, left, bottom, right}}\r\n            >\r\n                {\r\n                    this.props.children\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport classNames from \"classnames\";\r\n\r\nexport default class AdjustmentGridRow extends React.Component {\r\n    // TODO BUG: first and last grid line is not provided, fix the bug\r\n    render () {\r\n        let {gridLineManager, itemId, grid} = this.props;\r\n        let rowLines = gridLineManager.getYlineRef(itemId);\r\n        return (\r\n            <div\r\n                className=\"AdjustmentGridRowEditor\"\r\n            >\r\n                {\r\n                    new Array(grid.x).fill(0).map((x, index) => {\r\n                        let rowLine = rowLines[index];\r\n                        let rowLineRect = rowLine.current.rect;\r\n                        let nextRowLineRect = rowLines[index + 1].current.rect;\r\n                        let rowHeight = grid.gridTemplateRows.split(' ')[index];\r\n                        let classes = classNames(\r\n                            \"AdjustmentGridRowEditorItem\",\r\n                            index === 0 && \"AdjustmentGridRowEditorItemTop\",\r\n                            index === grid.x - 1 && \"AdjustmentGridRowEditorItemBottom\",\r\n                        );\r\n                        return(\r\n                                <div\r\n                                    key={`row_${index}`}\r\n                                    className={classes}\r\n                                    style={{\r\n                                        height: nextRowLineRect.top - rowLineRect.top,\r\n                                    }}\r\n                                >\r\n                                    <p style={{\r\n                                        margin: 0,\r\n                                        fontWeight: \"bold\"\r\n                                    }}>\r\n                                        {rowHeight}\r\n                                    </p>\r\n                                </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport AdjustmentGridRoot from \"./AdjustmentGridRoot\";\r\nimport AdjustmentGridRow from \"./AdjustmentGridRow\";\r\n\r\nexport default class AdjustmentGrid extends React.PureComponent {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            item: undefined,\r\n            grid: undefined,\r\n            gridLineManager: undefined\r\n        };\r\n    }\r\n\r\n    editing = (item) => {\r\n        let grid = item.getFromData(\"grid\");\r\n        let gridLineManager = item.props.gridLine;\r\n        this.setState({item, grid, gridLineManager});\r\n    };\r\n\r\n    update = (item) => {\r\n        if (item === item)\r\n            this.forceUpdate();\r\n    };\r\n\r\n    addRow = (index) => {\r\n        if (!this.state.item)\r\n            return;\r\n\r\n        if (grid.x === 100)\r\n            return;\r\n\r\n        let {grid, item} = this.state;\r\n\r\n        grid.x++;\r\n        let rowsHeight = grid.gridTemplateRows.split(' ');\r\n\r\n        rowsHeight.splice(index, 0, \"minmax(100px,max-content)\");\r\n        grid.gridTemplateRows = rowsHeight.join(' ');\r\n\r\n        item.setGrid(grid);\r\n        this.setState({grid});\r\n    };\r\n\r\n    addColumn = (index) => {\r\n        if (!this.state.item)\r\n            return;\r\n\r\n        let {grid, item} = this.state;\r\n\r\n        if (grid.y === 100)\r\n            return;\r\n\r\n        grid.y++;\r\n        let columnsWidth = grid.gridTemplateColumns.split(' ');\r\n\r\n        columnsWidth.splice(index, 0, \"1fr\");\r\n        grid.gridTemplateColumns = columnsWidth.join(' ');\r\n\r\n        item.setGrid(grid);\r\n        this.setState({grid});\r\n    };\r\n\r\n    changeColumnWidth = (index, newValue) => {\r\n        if (!this.state.item)\r\n            return;\r\n\r\n        let {grid, item} = this.state;\r\n\r\n        let columnsWidth = grid.gridTemplateColumns.split(' ');\r\n\r\n        columnsWidth.splice(index, 1, newValue);\r\n        grid.gridTemplateColumns = columnsWidth.join(' ');\r\n\r\n        item.setGrid(grid);\r\n        this.setState({grid});\r\n    };\r\n\r\n    changeRowHeight = (index, newValue) => {\r\n        if (!this.state.item)\r\n            return;\r\n\r\n        let {grid, item} = this.state;\r\n\r\n        let rowsHeight = grid.gridTemplateRows.split(' ');\r\n\r\n        rowsHeight.splice(index, 1, newValue);\r\n        grid.gridTemplateRows = rowsHeight.join(' ');\r\n\r\n        item.setGrid(grid);\r\n        this.setState({grid});\r\n    };\r\n\r\n    deleteRow = (index) => {\r\n        if (!this.state.item)\r\n            return;\r\n\r\n        let {grid, item} = this.state;\r\n\r\n        if (grid.x === 1)\r\n            return;\r\n\r\n        grid.x--;\r\n        let rowsHeight = grid.gridTemplateRows.split(' ');\r\n\r\n        rowsHeight.splice(index, 1);\r\n        grid.gridTemplateRows = rowsHeight.join(' ');\r\n\r\n        item.setGrid(grid);\r\n        this.setState({grid});\r\n    };\r\n\r\n    deleteColumn = (index) => {\r\n        if (!this.state.item)\r\n            return;\r\n\r\n        let {grid, item} = this.state;\r\n\r\n        if (grid.y === 1)\r\n            return;\r\n\r\n        grid.y--;\r\n        let columnsWidth = grid.gridTemplateColumns.split(' ');\r\n\r\n        columnsWidth.splice(index, 1);\r\n        grid.gridTemplateColumns = columnsWidth.join(' ');\r\n\r\n        item.setGrid(grid);\r\n        this.setState({grid});\r\n    };\r\n\r\n    render () {\r\n        let {gridLineManager, item, grid} = this.state;\r\n        if (!item)\r\n            return null;\r\n\r\n        let positions = gridLineManager.getIdCache(\"A\").positions;\r\n        return (\r\n            <AdjustmentGridRoot\r\n                top={positions.top}\r\n                left={positions.left}\r\n                bottom={positions.bottom}\r\n                right={positions.right}\r\n            >\r\n                <AdjustmentGridRow\r\n                    gridLineManager={gridLineManager}\r\n                    itemId={item.props.id}\r\n                    grid={grid}\r\n                />\r\n            </AdjustmentGridRoot>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\n\r\nexport default class AdjustmentSnapLines extends React.Component {\r\n    render () {\r\n        let {snapH, snapV, pointOfSnapH, pointOfSnapV} = this.props;\r\n        if (!snapH && !snapV)\r\n            return null;\r\n\r\n        if (snapH) {\r\n            return (\r\n                <line\r\n                    x1={Math.min(snapH.p1, snapH.p2, pointOfSnapH.p1, pointOfSnapH.p2)}\r\n                    x2={Math.max(snapH.p1, snapH.p2, pointOfSnapH.p1, pointOfSnapH.p2)}\r\n                    y1={snapH.value}\r\n                    y2={snapH.value}\r\n                    style={{\r\n                        stroke: \"#ff00a4\"\r\n                    }}\r\n                />\r\n            )\r\n        } else {\r\n            return (\r\n                <line\r\n                    x1={snapV.value}\r\n                    x2={snapV.value}\r\n                    y1={Math.min(snapV.p1, snapV.p2, pointOfSnapV.p1, pointOfSnapV.p2)}\r\n                    y2={Math.max(snapV.p1, snapV.p2, pointOfSnapV.p1, pointOfSnapV.p2)}\r\n                    style={{\r\n                        stroke: \"#ff00a4\"\r\n                    }}\r\n                />\r\n            )\r\n        }\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport AdjustmentSnapLines from \"./AdjustmentSnapLines\";\r\n\r\nexport default class AdjustmentSnap extends React.PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n        }\r\n    }\r\n\r\n    update = (snapH, snapV, pointOfSnapH, pointOfSnapV) => {\r\n        this.setState({\r\n            snapH, snapV, pointOfSnapH, pointOfSnapV\r\n        });\r\n    };\r\n\r\n    render () {\r\n        let {snapH, snapV, pointOfSnapH, pointOfSnapV} = this.state;\r\n        return (\r\n            <div\r\n                id=\"AdjustmentHelpLines\"\r\n                className=\"AdjustmentSnapLinesRoot\"\r\n            >\r\n                <svg className=\"AdjustmentHelpLinesSVG\">\r\n                    <AdjustmentSnapLines\r\n                        snapH={snapH}\r\n                        pointOfSnapH={pointOfSnapH}\r\n                    />\r\n                    <AdjustmentSnapLines\r\n                        snapV={snapV}\r\n                        pointOfSnapV={pointOfSnapV}\r\n                    />\r\n                </svg>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\n\r\nexport default class GridLine extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    render () {\r\n        let {id, lineRef, style} = this.props;\r\n        return (\r\n            <div\r\n                className={this.props.className}\r\n                id={id}\r\n                ref={lineRef}\r\n                style={style}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport {throttleDebounce} from \"../AwesomeGridLayoutUtils\";\r\nimport Portal from \"@material-ui/core/Portal/Portal\";\r\nimport GridLine from \"./GridLine\";\r\n\r\nexport default class AdjustmentGridLinesWrapper2 extends React.PureComponent {\r\n    needUpdate = throttleDebounce(() => {\r\n        this.forceUpdate();\r\n    }, 100);\r\n\r\n    render () {\r\n        let {yNo, xNo, yLineRef, xLineRef, refId} = this.props;\r\n\r\n        if (yNo >= 0 && xNo >= 0 && !document.getElementById(`${refId}_container`))\r\n            this.needUpdate();\r\n\r\n        return (\r\n            <>\r\n                {\r\n                    new Array(yNo + 1).fill(0).map((y, index) => {\r\n                        if (index === 0 || index === yNo)\r\n                            return null;\r\n                        return <Portal\r\n                            key={index}\r\n                            container={document.getElementById(`${refId}_container`)}\r\n                        >\r\n                            <GridLine\r\n                                className=\"AdjustmentGridLinesY\"\r\n                                id={`y_${index}_${refId}`}\r\n                                lineRef={yLineRef[index]}\r\n                                style={{\r\n                                    top: index === yNo ? \"unset\" : 0,\r\n                                    bottom: index === yNo ? 0 : \"unset\",\r\n                                    gridArea: `${index + 1}/1/${index + 1}/${xNo + 1}`,\r\n                                }}\r\n                            />\r\n                        </Portal>\r\n                    })\r\n                }\r\n                {\r\n                    new Array(xNo + 1).fill(0).map((x, index) => {\r\n                        if (index === 0 || index === xNo)\r\n                            return null;\r\n                        return <Portal\r\n                            key={index}\r\n                            container={document.getElementById(`${refId}_container`)}\r\n                        >\r\n                            <GridLine\r\n                                className=\"AdjustmentGridLinesX\"\r\n                                id={`x_${index}_${refId}`}\r\n                                lineRef={xLineRef[index]}\r\n                                style={{\r\n                                    left: index === xNo? \"unset\": 0,\r\n                                    right: index === xNo? 0: \"unset\",\r\n                                    gridArea: `1/${index + 1}/${yNo + 1}/${index + 1}`,\r\n                                }}\r\n                            />\r\n                        </Portal>\r\n                    })\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport {getCachedBoundingRect} from \"../Test/WindowCache\";\r\nimport AdjustmentGridLinesWrapper2 from \"./AdjustmentGridLinesWrapper2\";\r\n\r\nexport default class AdjustmentGridLines extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            xNoA: -1,\r\n            yNoA: -1,\r\n            xNoB: -1,\r\n            yNoB: -1,\r\n            xNoT: -1,\r\n            yNoT: -1,\r\n        };\r\n\r\n        this.xLineRefA = new Array(100);\r\n        this.yLineRefA = new Array(100);\r\n        this.xLineRefB = new Array(100);\r\n        this.yLineRefB = new Array(100);\r\n        this.xLineRefT = new Array(100);\r\n        this.yLineRefT = new Array(100);\r\n\r\n        this.idCache = {};\r\n    }\r\n\r\n    fixLineRef = (x, y, gridType) => {\r\n        for (let i = 0; i <= x; i++) {\r\n            if (!this[`xLineRef${gridType}`][i])\r\n                this[`xLineRef${gridType}`][i] = React.createRef();\r\n        }\r\n        for (let i = 0; i <= y; i++) {\r\n            if (!this[`yLineRef${gridType}`][i])\r\n                this[`yLineRef${gridType}`][i] = React.createRef();\r\n        }\r\n    };\r\n\r\n    addGrid = (id, y, x, gridType, gridTemplateRows, gridTemplateColumns, positions, callback) => {\r\n        this.fixLineRef(x, y, gridType);\r\n        if (this.idCache[\"A\"] && this.idCache[\"A\"].id === id && gridType === \"A\") {\r\n            this.updateGridLine(id, \"A\", {\r\n                gridTemplateRows, gridTemplateColumns, positions, x, y\r\n            }, callback)\r\n        }\r\n        else if (this.idCache[\"B\"] && this.idCache[\"B\"].id === id && gridType === \"B\") {\r\n            this.updateGridLine(id, \"B\", {\r\n                gridTemplateRows, gridTemplateColumns, positions, x, y\r\n            }, callback)\r\n        }\r\n        else if (this.idCache[\"T\"] && this.idCache[\"T\"].id === id && gridType === \"T\") {\r\n            this.updateGridLine(id, \"T\", {\r\n                gridTemplateRows, gridTemplateColumns, positions, x, y\r\n            }, callback)\r\n        }\r\n        else {\r\n            this.idCache[gridType] = {id, gridTemplateRows, gridTemplateColumns, positions, x, y};\r\n\r\n            this.setState({\r\n                [`xNo${gridType}`]: x,\r\n                [`yNo${gridType}`]: y\r\n            }, () => {\r\n                // this.prepareRects(id);\r\n                if (callback)\r\n                    callback();\r\n            })\r\n        }\r\n    };\r\n\r\n    updateGridLine = (id, gridType, {gridTemplateRows, gridTemplateColumns, positions, x, y} = {}, callback) => {\r\n        if (!gridType) {\r\n            if (this.idCache[\"A\"] && this.idCache[\"A\"].id === id)\r\n                gridType = \"A\";\r\n            else if (this.idCache[\"B\"] && this.idCache[\"B\"].id === id)\r\n                gridType = \"B\";\r\n            else if (this.idCache[\"T\"] && this.idCache[\"T\"].id === id)\r\n                gridType = \"T\";\r\n            else return;\r\n        }\r\n\r\n        gridTemplateRows && (this.idCache[gridType].gridTemplateRows = gridTemplateRows);\r\n        gridTemplateColumns && (this.idCache[gridType].gridTemplateColumns = gridTemplateColumns);\r\n        positions && (this.idCache[gridType].positions = positions);\r\n        x && (this.idCache[gridType].x = x);\r\n        y && (this.idCache[gridType].y = y);\r\n\r\n        if (!x && !y) {\r\n            this.setState({reload: true}, callback);\r\n            return;\r\n        }\r\n\r\n        if (x || y)\r\n            this.setState({\r\n                [`xNo${gridType}`]: x,\r\n                [`yNo${gridType}`]: y\r\n            }, callback);\r\n    };\r\n\r\n    getIdCache = (gridType) => {\r\n        return this.idCache[gridType];\r\n    };\r\n\r\n    getXlineRef = (id, gridType) => {\r\n        if (!gridType) {\r\n            if (this.idCache[\"A\"] && this.idCache[\"A\"].id === id)\r\n                gridType = \"A\";\r\n            else if (this.idCache[\"B\"] && this.idCache[\"B\"].id === id)\r\n                gridType = \"B\";\r\n            else if (this.idCache[\"T\"] && this.idCache[\"T\"].id === id)\r\n                gridType = \"T\";\r\n            else return;\r\n        }\r\n\r\n        return this[`xLineRef${gridType}`].slice(0, this.idCache[gridType].x + 1);\r\n    };\r\n\r\n    getYlineRef = (id, gridType) => {\r\n        if (!gridType) {\r\n            if (this.idCache[\"A\"] && this.idCache[\"A\"].id === id)\r\n                gridType = \"A\";\r\n            else if (this.idCache[\"B\"] && this.idCache[\"B\"].id === id)\r\n                gridType = \"B\";\r\n            else if (this.idCache[\"T\"] && this.idCache[\"T\"].id === id)\r\n                gridType = \"T\";\r\n            else return;\r\n        }\r\n\r\n        return this[`yLineRef${gridType}`].slice(0, this.idCache[gridType].y + 1);\r\n    };\r\n\r\n    removeGridLine = (id, gridType) => {\r\n        if (!gridType) {\r\n            if (this.idCache[\"A\"] && this.idCache[\"A\"].id === id)\r\n                gridType = \"A\";\r\n            else if (this.idCache[\"B\"] && this.idCache[\"B\"].id === id)\r\n                gridType = \"B\";\r\n            else if (this.idCache[\"T\"] && this.idCache[\"T\"].id === id)\r\n                gridType = \"T\";\r\n            else return;\r\n        }\r\n\r\n        delete this.idCache[gridType];\r\n\r\n        this.setState({\r\n            [`xNo${gridType}`]: -1,\r\n            [`yNo${gridType}`]: -1\r\n        })\r\n    };\r\n\r\n    hasGridLine = (id, gridType) => {\r\n        if (!gridType) {\r\n            if (this.idCache[\"A\"] && this.idCache[\"A\"].id === id)\r\n                return \"A\";\r\n\r\n            if (this.idCache[\"B\"] && this.idCache[\"B\"].id === id)\r\n                return \"B\";\r\n\r\n            if (this.idCache[\"T\"] && this.idCache[\"T\"].id === id)\r\n                return \"T\";\r\n        } else {\r\n            if (this.idCache[gridType] && this.idCache[gridType].id === id)\r\n                return gridType;\r\n        }\r\n    };\r\n\r\n    isPrepared = (id) => {\r\n        if (this.idCache[\"A\"] && this.idCache[\"A\"].prepared)\r\n            return true;\r\n        else if (this.idCache[\"B\"] && this.idCache[\"B\"].prepared)\r\n            return true;\r\n        else if (this.idCache[\"T\"] && this.idCache[\"T\"].prepared)\r\n            return true;\r\n    };\r\n\r\n    prepareRects = (id) => {\r\n        let xLineRef = this.getXlineRef(id);\r\n        if (xLineRef)\r\n            for(let i = 0; i < xLineRef.length; i++) {\r\n                let current = xLineRef[i].current;\r\n                if (!current)\r\n                    continue;\r\n\r\n                current.rect = getCachedBoundingRect(`xLineRef_${i}_${id}`, current);\r\n            }\r\n        let yLineRef = this.getYlineRef(id);\r\n        if (yLineRef)\r\n            for(let i = 0; i < yLineRef.length; i++) {\r\n                let current = yLineRef[i].current;\r\n                if (!current)\r\n                    continue;\r\n\r\n                current.rect = getCachedBoundingRect(`yLineRef_${i}_${id}`, current);\r\n            }\r\n\r\n        if (this.idCache[\"A\"] && this.idCache[\"A\"].id === id)\r\n            this.idCache[\"A\"].prepared = true;\r\n        else if (this.idCache[\"B\"] && this.idCache[\"B\"].id === id)\r\n            this.idCache[\"B\"].prepared = true;\r\n        else if (this.idCache[\"T\"] && this.idCache[\"T\"].id === id)\r\n            this.idCache[\"T\"].prepared = true;\r\n    };\r\n\r\n    removeGridLineByType = (gridType) => {\r\n        delete this.idCache[gridType];\r\n\r\n        this.setState({\r\n            [`xNo${gridType}`]: -1,\r\n            [`yNo${gridType}`]: -1\r\n        })\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <div\r\n                id=\"AdjustmentGridLinesRoot\"\r\n                className=\"AdjustmentGridLinesRoot\"\r\n            >\r\n                <AdjustmentGridLinesWrapper2\r\n                    id={\"GridLinesContainer_A\"}\r\n                    refId={this.idCache[\"A\"] && this.idCache[\"A\"].id}\r\n                    xNo={this.state.xNoA}\r\n                    yNo={this.state.yNoA}\r\n                    xLineRef={this.xLineRefA}\r\n                    yLineRef={this.yLineRefA}\r\n                    gridTemplateRows={this.idCache[\"A\"] && this.idCache[\"A\"].gridTemplateRows}\r\n                    gridTemplateColumns={this.idCache[\"A\"] && this.idCache[\"A\"].gridTemplateColumns}\r\n                    top={this.idCache[\"A\"] && this.idCache[\"A\"].positions.top}\r\n                    bottom={this.idCache[\"A\"] && this.idCache[\"A\"].positions.bottom}\r\n                    left={this.idCache[\"A\"] && this.idCache[\"A\"].positions.left}\r\n                    right={this.idCache[\"A\"] && this.idCache[\"A\"].positions.right}\r\n                />\r\n\r\n                <AdjustmentGridLinesWrapper2\r\n                    id={\"GridLinesContainer_B\"}\r\n                    refId={this.idCache[\"B\"] && this.idCache[\"B\"].id}\r\n                    xNo={this.state.xNoB}\r\n                    yNo={this.state.yNoB}\r\n                    xLineRef={this.xLineRefB}\r\n                    yLineRef={this.yLineRefB}\r\n                    gridTemplateRows={this.idCache[\"B\"] && this.idCache[\"B\"].gridTemplateRows}\r\n                    gridTemplateColumns={this.idCache[\"B\"] && this.idCache[\"B\"].gridTemplateColumns}\r\n                    top={this.idCache[\"B\"] && this.idCache[\"B\"].positions.top}\r\n                    bottom={this.idCache[\"B\"] && this.idCache[\"B\"].positions.bottom}\r\n                    left={this.idCache[\"B\"] && this.idCache[\"B\"].positions.left}\r\n                    right={this.idCache[\"B\"] && this.idCache[\"B\"].positions.right}\r\n                />\r\n\r\n                <AdjustmentGridLinesWrapper2\r\n                    id={\"GridLinesContainer_T\"}\r\n                    refId={this.idCache[\"T\"] && this.idCache[\"T\"].id}\r\n                    xNo={this.state.xNoT}\r\n                    yNo={this.state.yNoT}\r\n                    xLineRef={this.xLineRefT}\r\n                    yLineRef={this.yLineRefT}\r\n                    gridTemplateRows={this.idCache[\"T\"] && this.idCache[\"T\"].gridTemplateRows}\r\n                    gridTemplateColumns={this.idCache[\"T\"] && this.idCache[\"T\"].gridTemplateColumns}\r\n                    top={this.idCache[\"T\"] && this.idCache[\"T\"].positions.top}\r\n                    bottom={this.idCache[\"T\"] && this.idCache[\"T\"].positions.bottom}\r\n                    left={this.idCache[\"T\"] && this.idCache[\"T\"].positions.left}\r\n                    right={this.idCache[\"T\"] && this.idCache[\"T\"].positions.right}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css';\r\nimport classNames from 'classnames';\r\n\r\nexport default class ResizePane extends React.Component {\r\n    onMouseDown = (e) => {\r\n        if (this.isLeftClick(e)) {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            this.mouseDown = true;\r\n            window.addEventListener(\"pointermove\", this.onMouseMove);\r\n            window.addEventListener(\"pointerup\", this.onMouseUp);\r\n        }\r\n    };\r\n\r\n    isLeftClick = (e) => {\r\n        if (e.pointerType === \"mouse\" && e.button === 0)\r\n            return true;\r\n\r\n        return false;\r\n    };\r\n\r\n\r\n    onMouseMove = (e) => {\r\n        if (!this.mouseDown)\r\n            return;\r\n        e.stopPropagation();\r\n\r\n        if (!this.moving) {\r\n            this.moving = true;\r\n            this.onDragStart(e);\r\n        } else {\r\n            this.onDrag(e);\r\n        }\r\n    };\r\n\r\n    onMouseUp = (e) => {\r\n        if (!this.mouseDown)\r\n            return;\r\n\r\n        this.mouseDown = false;\r\n\r\n        if (this.moving) {\r\n            e.stopPropagation();\r\n            this.onDragStop(e);\r\n        }\r\n\r\n        this.moving = false;\r\n\r\n        window.removeEventListener(\"pointermove\", this.onMouseMove);\r\n        window.removeEventListener(\"pointerup\", this.onMouseUp);\r\n    };\r\n\r\n    onDragStart = (e) => {\r\n        this.dragData = {\r\n            lastMouseX: e.clientX,\r\n            lastMouseY: e.clientY\r\n        };\r\n        this.delta = {\r\n            x: 0,\r\n            y: 0,\r\n        };\r\n        this.props.onResizeStart(e, this.props.side, this.delta);\r\n    };\r\n\r\n    onDrag = (e) => {\r\n        this.delta.x += (e.clientX - this.dragData.lastMouseX);\r\n        this.delta.y += (e.clientY - this.dragData.lastMouseY);\r\n        this.props.onResize(e, this.props.side, this.delta);\r\n        this.dragData.lastMouseX = e.clientX;\r\n        this.dragData.lastMouseY = e.clientY;\r\n    };\r\n\r\n    onDragStop = (e) => {\r\n        this.delta.x += (e.clientX - this.dragData.lastMouseX);\r\n        this.delta.y += (e.clientY - this.dragData.lastMouseY);\r\n        this.props.onResizeStop(e, this.props.side, this.delta);\r\n    };\r\n\r\n    isCorner = () => {\r\n        return this.props.side.length === 2;\r\n    };\r\n    render () {\r\n        let classes = classNames(\r\n            `Adjustment-${this.props.side}-pane`,\r\n            this.props.enabled && `Adjustment-${this.props.side}-pane-circle`,\r\n            `Adjustment-${this.props.side}-pane-line`,\r\n            {\"Adjustment-CornerCircle\": this.props.enabled && this.isCorner()},\r\n            \"Adjustment-Pane\",\r\n            !this.props.enabled && \"ResizePanePointerNone\"\r\n        );\r\n        let style = {};\r\n        if (this.props.draggingStart)\r\n            style.pointerEvents = \"none\";\r\n\r\n        return (\r\n            <div\r\n                id={this.props.id}\r\n                onPointerDown={this.props.enabled ? this.onMouseDown : undefined}\r\n                className={classes}\r\n                style={{...style, ...this.props.style}}\r\n            >\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport ResizePane from \"./ResizePane\";\r\nimport {cloneObject} from \"../AwesomeGridLayoutUtils\";\r\n\r\nexport default class AdjustmentGroupRect extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            rect: undefined,\r\n            group: undefined,\r\n            draggingStart: false\r\n        }\r\n    }\r\n\r\n    updateRect = (rect, group) => {\r\n        this.setState({rect, group});\r\n    };\r\n\r\n    onResizeStart = (e, dir, delta) => {\r\n        if (this.resizing)\r\n            return;\r\n        this.resizing = true;\r\n\r\n        this.setState({draggingStart: true});\r\n        this.state.group.forEach(item => {\r\n            item.onResizeStart(e, dir, delta, true);\r\n        });\r\n\r\n        let {rect} = this.state;\r\n        this.resizeData = {\r\n            firstX: window.innerWidth - rect.left - rect.right,\r\n            firstY: window.innerHeight - rect.top - rect.bottom,\r\n            firstTop: rect.top,\r\n            firstLeft: rect.left,\r\n        };\r\n    };\r\n\r\n    onResize = (e, dir, delta) => {\r\n        this.state.group.forEach(item => {\r\n            item.onResize(e, dir, delta, true);\r\n        });\r\n\r\n        let rect = cloneObject(this.state.rect);\r\n        delete rect.height;\r\n        delete rect.width;\r\n\r\n        let deltaY = delta.y;\r\n        let deltaX = delta.x;\r\n        if (dir.includes('n')) {\r\n            if (this.resizeData.firstY <= deltaY)\r\n                deltaY = this.resizeData.firstY;\r\n            rect.height = this.resizeData.firstY - deltaY;\r\n            rect.top = this.resizeData.firstTop + deltaY;\r\n        }\r\n        if (dir.includes('s')) {\r\n            if (this.resizeData.firstY <= -deltaY)\r\n                deltaY = -this.resizeData.firstY;\r\n            rect.height = this.resizeData.firstY + deltaY;\r\n        }\r\n        if (dir.includes('e')) {\r\n            if (this.resizeData.firstX <= -deltaX)\r\n                deltaX = -this.resizeData.firstX;\r\n            rect.width = this.resizeData.firstX + deltaX;\r\n        }\r\n        if (dir.includes('w')) {\r\n            if (this.resizeData.firstX <= deltaX)\r\n                deltaX = this.resizeData.firstX;\r\n            rect.width = this.resizeData.firstX - deltaX;\r\n            rect.left = this.resizeData.firstLeft + deltaX;\r\n        }\r\n\r\n        if (rect.height)\r\n            rect.bottom = window.innerWidth - rect.top - rect.height;\r\n        if (rect.width)\r\n        rect.right = window.innerWidth - rect.left - rect.width;\r\n\r\n        this.setState({rect});\r\n    };\r\n\r\n    onResizeStop = (e, dir, delta) => {\r\n        this.state.group.forEach(item => {\r\n            item.onResizeStop(e, dir, delta, true);\r\n        });\r\n\r\n        this.resizing = false;\r\n\r\n        this.setState({draggingStart: false});\r\n    };\r\n\r\n    onDragStart = (e) => {\r\n        this.state.group.forEach(item => {\r\n            item.onDragStart(e, true);\r\n        });\r\n        this.setState({draggingStart: false});\r\n\r\n        let {rect} = this.state;\r\n\r\n        this.dragData = {\r\n            x: rect.left,\r\n            y: rect.top,\r\n            lastMouseX: e.clientX,\r\n            lastMouseY: e.clientY,\r\n        };\r\n    };\r\n\r\n    onDrag = (e) => {\r\n        this.state.group.forEach(item => {\r\n            item.onDrag(e, true);\r\n        });\r\n        this.setState({draggingStart: false});\r\n\r\n        let deltaX = (e.clientX - this.dragData.lastMouseX);\r\n        let deltaY = (e.clientY - this.dragData.lastMouseY);\r\n        this.dragData.x += deltaX;\r\n        this.dragData.y += deltaY;\r\n        this.dragData.lastMouseX = e.clientX;\r\n        this.dragData.lastMouseY = e.clientY;\r\n\r\n        let rect = cloneObject(this.state.rect);\r\n\r\n        rect.top = this.dragData.y;\r\n        rect.left = this.dragData.x;\r\n        rect.right -= deltaX;\r\n        rect.bottom -= deltaY;\r\n\r\n        this.setState({rect});\r\n    };\r\n\r\n    onDragStop = (e) => {\r\n        this.state.group.forEach(item => {\r\n            item.onDragStop(e, true);\r\n        });\r\n        this.setState({draggingStart: false});\r\n    };\r\n\r\n    render () {\r\n        let {rect} = this.state;\r\n        if (!rect)\r\n            return null;\r\n\r\n        return (\r\n            <div\r\n                id=\"AdjustmentGroupRect\"\r\n                style={rect}\r\n                className=\"AdjustmentResizeRoot\"\r\n            >\r\n                {\r\n                    ['n','s','e','w','ne','nw','se','sw'].map((side, index) => {\r\n                        return <ResizePane\r\n                            key={index}\r\n                            side={side}\r\n                            onResizeStart={this.onResizeStart}\r\n                            onResize={this.onResize}\r\n                            onResizeStop={this.onResizeStop}\r\n                            draggingStart={this.state.draggingStart}\r\n                        />\r\n                    })\r\n                }\r\n\r\n                {/*<AdjustmentMove*/}\r\n                    {/*key={`${this.props.id}_move`}*/}\r\n                    {/*onDragStart={this.onDragStart}*/}\r\n                    {/*onDrag={this.onDrag}*/}\r\n                    {/*onDragStop={this.onDragStop}*/}\r\n                {/*/>*/}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport IconButton from \"../../../HelperComponents/IconButton\";\r\n\r\nexport default class RightClick extends React.Component {\r\n    onClick = (e) => {\r\n        this.props.onClick && this.props.onClick(e);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <IconButton\r\n                onClick={this.onClick}\r\n            >\r\n                <img\r\n                    draggable={false}\r\n                    width={16}\r\n                    height={16}\r\n                    src={require('../../../icons/more.svg')}\r\n                />\r\n            </IconButton>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './MiniMenu.css';\r\n\r\nexport default class MiniMenuVerticalDivider extends React.Component {\r\n    render () {\r\n        return (\r\n            <div className=\"MiniMenuVerticalDivider\"/>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport IconButton from \"../../../HelperComponents/IconButton\";\r\nimport '../../../HelperStyle.css';\r\n\r\nexport default class Help extends React.Component {\r\n    onClick = (e) => {\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <IconButton\r\n                onClick={this.onClick}\r\n            >\r\n                <img\r\n                    draggable={false}\r\n                    width={16}\r\n                    height={16}\r\n                    src={require('../../../icons/question.svg')}\r\n                />\r\n            </IconButton>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './MiniMenu.css';\r\nimport RightClick from \"./Components/RightClick\";\r\nimport MiniMenuVerticalDivider from \"./MiniMenuVerticalDivider\";\r\nimport Popper from \"@material-ui/core/Popper/Popper\";\r\nimport Help from \"./Components/Help\";\r\nimport {isHideInBreakpoint} from \"../../AwesomwGridLayoutHelper\";\r\n\r\nconst miniMenuId = \"wl_mini_menu\";\r\nexport default class MiniMenu extends React.PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            clear: true\r\n        };\r\n    }\r\n\r\n    clear = () => {\r\n        this.setState({clear: true});\r\n    };\r\n\r\n    update = (itemId, shortcut, primary, item) => {\r\n        this.setState({\r\n            itemId\r\n            , shortcut, primary, clear: false,\r\n            item\r\n        })\r\n    };\r\n\r\n    getAnchor = () => {\r\n        return document.getElementById(`${this.state.itemId}_child_holder`) ||\r\n            document.getElementById(this.state.itemId);\r\n    };\r\n\r\n    render () {\r\n        if (this.state.clear)\r\n            return null;\r\n        if (!this.state.itemId || !this.getAnchor() ||\r\n            isHideInBreakpoint(this.state.item))\r\n            return null;\r\n        return (\r\n            <Popper\r\n                key={\"miniMenu\"}\r\n                open={true}\r\n                anchorEl={this.getAnchor()}\r\n                placement=\"bottom-start\"\r\n                style={{\r\n                    zIndex: 9999999\r\n                }}\r\n                modifiers={{\r\n                    flip: {\r\n                        enabled: true,\r\n                    },\r\n                    preventOverflow: {\r\n                        enabled: true,\r\n                        boundariesElement: 'scrollParent',\r\n                    },\r\n                }}\r\n            >\r\n                <div className=\"MiniMenuRoot\"\r\n                     id={miniMenuId}\r\n                     style={{\r\n                        opacity:  !this.state.clear? 1: 0\r\n                     }}\r\n                >\r\n                    <div className=\"MiniMenuContainer\"\r\n                    >\r\n                        {\r\n                            !this.state.clear &&\r\n                            this.state.shortcut.map(option => {\r\n                                return option;\r\n                            })\r\n                        }\r\n\r\n                        {\r\n                            !this.state.clear &&\r\n                            this.state.shortcut.length > 0 && <MiniMenuVerticalDivider/>\r\n                        }\r\n\r\n                        {\r\n                            !this.state.clear &&\r\n                            this.state.primary.map(option => {\r\n                                return option;\r\n                            })\r\n                        }\r\n\r\n                        {\r\n                            !this.state.clear &&\r\n                            this.state.primary.length > 0 && <MiniMenuVerticalDivider/>\r\n                        }\r\n\r\n                        <Help/>\r\n                        <RightClick/>\r\n                    </div>\r\n                </div>\r\n            </Popper>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './MiniMenu.css';\r\nimport RightClick from \"./Components/RightClick\";\r\nimport MiniMenuVerticalDivider from \"./MiniMenuVerticalDivider\";\r\nimport Popper from \"@material-ui/core/Popper/Popper\";\r\nimport Help from \"./Components/Help\";\r\nimport {isHideInBreakpoint} from \"../../AwesomwGridLayoutHelper\";\r\n\r\nconst miniMenuId = \"wl_mini_menu\";\r\nexport default class GroupMiniMenu extends React.PureComponent {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            clear: true\r\n        };\r\n    }\r\n\r\n    clear = () => {\r\n        this.setState({clear: true});\r\n    };\r\n\r\n    update = (group, shortcut, primary) => {\r\n        this.setState({\r\n            group\r\n            , shortcut, primary, clear: false\r\n        })\r\n    };\r\n\r\n    getAnchor = () => {\r\n        return document.getElementById(`${this.state.group[0].props.id}_child_holder`) ||\r\n            document.getElementById(this.state.group[0].props.id);\r\n    };\r\n\r\n    render () {\r\n        if (this.state.clear)\r\n            return null;\r\n        if (!this.state.group || !this.getAnchor())\r\n            return null;\r\n        return (\r\n            <Popper\r\n                key={\"miniMenu\"}\r\n                open={true}\r\n                anchorEl={this.getAnchor()}\r\n                placement=\"bottom-start\"\r\n                style={{\r\n                    zIndex: 9999999\r\n                }}\r\n                modifiers={{\r\n                    flip: {\r\n                        enabled: true,\r\n                    },\r\n                    preventOverflow: {\r\n                        enabled: true,\r\n                        boundariesElement: 'scrollParent',\r\n                    },\r\n                }}\r\n            >\r\n                <div className=\"MiniMenuRoot\"\r\n                     id={miniMenuId}\r\n                     style={{\r\n                        opacity:  !this.state.clear? 1: 0\r\n                     }}\r\n                >\r\n                    <div className=\"MiniMenuContainer\"\r\n                    >\r\n                        {\r\n                            !this.state.clear &&\r\n                            this.state.shortcut.map(option => {\r\n                                return option;\r\n                            })\r\n                        }\r\n\r\n                        {\r\n                            !this.state.clear &&\r\n                            this.state.shortcut.length > 0 && <MiniMenuVerticalDivider/>\r\n                        }\r\n\r\n                        {\r\n                            !this.state.clear &&\r\n                            this.state.primary.map(option => {\r\n                                return option;\r\n                            })\r\n                        }\r\n\r\n                        {\r\n                            !this.state.clear &&\r\n                            this.state.primary.length > 0 && <MiniMenuVerticalDivider/>\r\n                        }\r\n\r\n                        <Help/>\r\n                        <RightClick/>\r\n                    </div>\r\n                </div>\r\n            </Popper>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Menu.css';\r\nimport MiniMenu from \"./MiniMenu/MiniMenu\";\r\nimport {createContextMenu} from \"../AwesomwGridLayoutHelper\";\r\nimport GroupMiniMenu from \"./MiniMenu/GroupMiniMenu\";\r\n\r\nconst miniMenuHolderId = \"wl_menu_holder\";\r\nexport default class MenuHolder extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            active: true\r\n        };\r\n\r\n        this.miniMenuRef = React.createRef();\r\n        this.groupMenuRef = React.createRef();\r\n    }\r\n\r\n    clearMiniMenu = () => {\r\n        this.state.active && this.miniMenuRef.current.clear();\r\n        this.state.active && this.groupMenuRef.current.clear();\r\n    };\r\n\r\n    addMiniMenu = (item) => {\r\n        if (item && this.state.active)\r\n            this.miniMenuRef.current.update(\r\n                item.props.id,\r\n                item.getShortcutOptions() || [],\r\n                item.getPrimaryOptions() || [],\r\n                item\r\n            );\r\n        this.state.active && this.groupMenuRef.current.clear();\r\n    };\r\n\r\n    addGroupMenu = (group, shortcut, primary) => {\r\n        if (group && this.state.active)\r\n            this.groupMenuRef.current.update(\r\n                group,\r\n                shortcut || [],\r\n                primary || []\r\n            );\r\n    };\r\n\r\n    addMenu = (menu) => {\r\n        this.setState({\r\n            menu: undefined,\r\n        });\r\n        if (menu) {\r\n            setTimeout(() => {\r\n                this.setState({\r\n                    menu,\r\n                });\r\n            }, 0);\r\n        }\r\n    };\r\n\r\n    onContextMenu = (e, item) => {\r\n        this.setState({\r\n            contextMenu: createContextMenu(e, item, () => {\r\n                this.setState({contextMenu: undefined})\r\n            })\r\n        });\r\n    };\r\n\r\n    activate = (active) => {\r\n        this.setState({active});\r\n    };\r\n\r\n    isInMenu = () => {\r\n        if (!this.state.active)\r\n            return false;\r\n        if (this.state.menu)\r\n            return true;\r\n        if (this.state.contextMenu)\r\n            return true;\r\n\r\n        return false;\r\n    }\r\n\r\n    render () {\r\n        if (!this.state.active)\r\n            return null;\r\n\r\n        return (\r\n            <div\r\n                id={miniMenuHolderId}\r\n                key={miniMenuHolderId}\r\n                className=\"MenuHolderRoot\"\r\n            >\r\n                <MiniMenu\r\n                    itemId={this.state.miniMenuItem && this.state.miniMenuItem.props.id}\r\n                    key={\"miniMenu\"}\r\n                    ref={this.miniMenuRef}\r\n                />\r\n                <GroupMiniMenu\r\n                    group={this.state.group}\r\n                    key={\"miniMenu2\"}\r\n                    ref={this.groupMenuRef}\r\n                />\r\n                {\r\n                    !this.state.contextMenu &&\r\n                    this.state.menu\r\n                }\r\n                {\r\n                    this.state.contextMenu\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","export default class IFrameCommunicator {\r\n    constructor(origin, authKey, otherWindow, onMessage) {\r\n        this.onMessage = onMessage;\r\n        this.origin = origin;\r\n        this.otherWindow = otherWindow;\r\n        this.counter = 0;\r\n        this.authKey = authKey;\r\n        this.callbacks = {};\r\n        this.responses = {};\r\n\r\n        window.addEventListener(\"message\", (event) => {\r\n            if (this.origin && event.origin !== this.origin) {\r\n                return;\r\n            }\r\n\r\n            this.processIncomingMessage(event);\r\n        });\r\n    }\r\n\r\n    processIncomingMessage = (event) => {\r\n        let data = event.data;\r\n\r\n        if (!data || data.authKey !== this.authKey)\r\n            return;\r\n\r\n        if (data && data.r) {\r\n            let r = data.r;\r\n            this.callbacks[r](data);\r\n            delete this.callbacks[r];\r\n        }\r\n        else\r\n        {\r\n            let responseFunc = () => {};\r\n            if (data && data.c) {\r\n                let c = data.c;\r\n                responseFunc = this.responses[c] = (result) => {\r\n                    let newData = {r: c, result};\r\n                    this.post(newData);\r\n                }\r\n            }\r\n\r\n            this.onMessage(event.data, responseFunc);\r\n        }\r\n    };\r\n\r\n    post = (data, callback) => {\r\n        if (callback) {\r\n            this.counter++;\r\n            data.c = this.counter;\r\n            this.callbacks[data.c] = callback;\r\n        }\r\n\r\n        data.authKey = this.authKey;\r\n\r\n        let otherWindow = typeof(this.otherWindow) === 'function' ? this.otherWindow() : this.otherWindow;\r\n\r\n        otherWindow.postMessage(data, this.origin || \"*\");\r\n    };\r\n}\r\n","let EditorController = {};\r\nlet AllowFunctions = {};\r\n\r\nEditorController.onMessage = (data, res, editor) => {\r\n    if (data.type === 'Controller' && AllowFunctions[data.func]) {\r\n        res(AllowFunctions[data.func](...data.inputs, editor));\r\n        return;\r\n    }\r\n\r\n    if (data.type === 'Editor' && editor[data.func]) {\r\n        editor[data.func](...data.inputs, res);\r\n        return;\r\n    }\r\n\r\n    if (data.type === 'Event') {\r\n        let jsonedEvent = data.inputs[0];\r\n        let event = new Event(jsonedEvent.type);\r\n        delete jsonedEvent.type;\r\n        Object.assign(event, jsonedEvent);\r\n        window.dispatchEvent(event);\r\n        return;\r\n    }\r\n};\r\n//\r\n// // TODO GET functions\r\n// AllowFunctions.getItemGridData = (itemId, editor) => {\r\n//     return editor.idMan.getItem(itemId).props.griddata;\r\n// };\r\n// AllowFunctions.getLayout = (editor) => {\r\n//     let layout = {\r\n//         id: editor.rootLayoutRef.current.props.id,\r\n//         griddata: editor.rootLayoutRef.current.props.griddata,\r\n//         children: []\r\n//     };\r\n//     let fillData = (item, parent) => {\r\n//         parent[item.props.id] = {\r\n//             id: item.props.id,\r\n//             griddata: item.props.griddata,\r\n//             children: []\r\n//         };\r\n//\r\n//         Object.values(item.allChildRefs).forEach(child => {\r\n//             if (child && child.current)\r\n//                 fillData(child.current, parent[item.props.id].children);\r\n//         });\r\n//     };\r\n//\r\n//     fillData(editor.rootLayoutRef.current, layout.children);\r\n//\r\n//     return layout;\r\n// };\r\n// AllowFunctions.getSiteData = (editor) => {\r\n//     return editor.state.siteData;\r\n// };\r\n// AllowFunctions.getBreakpointsData = (itemId, editor) => {\r\n//     let item = editor.idMan.getItem(itemId);\r\n//     return {\r\n//         breakpoints: item.props.breakpointmanager.breakpoints,\r\n//         currentWidth: item.props.breakpointmanager.lastWidth\r\n//     }\r\n// };\r\n//\r\n// // TODO POST functions\r\n// AllowFunctions.changePage = (pageId, editor) => {\r\n//     editor.onPageChange(pageId);\r\n//     return true;\r\n// };\r\n// AllowFunctions.addItem = (parentId, childData, gridItemStyle, style, editor) => {\r\n//     createItem(editor.idMan.getItem(parentId), childData, false, gridItemStyle, style);\r\n//     return true;\r\n// };\r\n//\r\n// AllowFunctions.undoRedoMethod = (method, inputs, editor) => {\r\n//     editor.undoredo[method](inputs);\r\n//     return true;\r\n// };\r\n// AllowFunctions.togglePreview = (preview, editor) => {\r\n//     editor.togglePreview(preview);\r\n//     return true;\r\n// };\r\n// AllowFunctions.setZoomLevel = (zoomLevel, editor) => {\r\n//     editor.setZoomLevel(zoomLevel);\r\n//     return true;\r\n// };\r\n//\r\n// // TODO Edit functions\r\n// AllowFunctions.setDataInBackground = (itemId, prop, value, editor) => {\r\n//     let item = editor.idMan.getItem(itemId);\r\n//     setDataInBreakpoint(prop, value, item, true);\r\n//     return item.props.griddata;\r\n// };\r\n\r\nexport default EditorController;\r\n","import React from \"react\";\r\nimport './Inspector.css';\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class Inspector extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            percent: props.open? 100: 0,\r\n            inspectorMenu: undefined\r\n        };\r\n\r\n        this.opening = false;\r\n        this.closing = false;\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    open = () => {\r\n        this.opening = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.setState({ open: true});\r\n        this.openInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.openInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent += (this.props.speed * this.props.interval / 1000);\r\n            if (percent >= 100) {\r\n                this.opening = false;\r\n                clearInterval(this.openInterval);\r\n            }\r\n            percent = Math.min(100, percent);\r\n            this.setState({percent});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    close = (force) => {\r\n        this.closing = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.setState({ open: false});\r\n        if (force) {\r\n            this.setState({percent: 0});\r\n            return;\r\n        }\r\n        this.closeInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.closeInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent -= (this.props.speed * this.props.interval / 1000);\r\n            if (percent <= 0) {\r\n                this.closing = false;\r\n                clearInterval(this.closeInterval);\r\n            }\r\n            percent = Math.max(0, percent);\r\n            this.setState({percent});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    toggle = (force) => {\r\n        if (this.context.inspectorPinned) {\r\n            this.props.pinInspector();\r\n            this.close(force);\r\n            return;\r\n        }\r\n\r\n        let toggleState = !this.state.open;\r\n        this.state.open ? this.close(force) : this.open();\r\n\r\n        return toggleState;\r\n    };\r\n\r\n    setMenu = (inspectorMenu) => {\r\n        this.setState({inspectorMenu});\r\n    };\r\n\r\n    getDefaultMenu = () => {\r\n        return <div\r\n            className=\"InspectorDefaultMenuRoot\"\r\n        >\r\n            <span>\r\n                Select a component to show options\r\n            </span>\r\n        </div>\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <div\r\n                    className=\"InspectorRoot\"\r\n                    style={{...\r\n                        !this.context.inspectorPinned ? {\r\n                            right: `${this.state.percent - 100}%`,\r\n                            opacity: this.state.percent / 100\r\n                        } : {right: \"0%\", opacity: 1},\r\n                        ...{\r\n                        }}\r\n                    }\r\n                    onContextMenu={(e) => {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }}\r\n                >\r\n                    <div style={{\r\n                    }}>\r\n                    <div className=\"InspectorPin\">\r\n                        <IconButton\r\n                            buttonBaseStyle={{\r\n                                marginLeft: 0,\r\n                                borderRadius: \"50%\",\r\n                                backgroundColor: this.context.inspectorPinned && \"#8d8d8d\"\r\n                            }}\r\n                            onClick={(e) => {\r\n                                this.props.pinInspector();\r\n                            }}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={12}\r\n                                height={12}\r\n                                src={this.context.inspectorPinned ?\r\n                                    process.env.PUBLIC_URL + '/static/icon/pin-white.svg':\r\n                                    process.env.PUBLIC_URL + '/static/icon/pin.svg'}\r\n                            />\r\n                        </IconButton>\r\n                    </div>\r\n                    {\r\n                        this.state.inspectorMenu || this.getDefaultMenu()\r\n                    }\r\n                    </div>\r\n                </div>\r\n                {\r\n                    this.context.inspectorPinned &&\r\n\r\n                    <div\r\n                        className=\"InspectorPinRoot\"\r\n                    >\r\n                    </div>\r\n                }\r\n\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nInspector.defaultProps = {\r\n    open: false,\r\n    speed: 400,\r\n    interval: 5\r\n};\r\n","import React from \"react\";\r\nimport './Adjustment.css';\r\nimport {stretch} from \"../AwesomwGridLayoutHelper\";\r\n\r\nexport default class AdjustmentStretch extends React.Component {\r\n    onClick = (e) => {\r\n        let {itemId, idMan} = this.props;\r\n        stretch(idMan.getItem(itemId));\r\n    };\r\n\r\n    onMouseDown = (e) => {\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n    };\r\n\r\n    isLeftClick = (e) => {\r\n        if (e.pointerType === \"mouse\" && e.button === 0)\r\n            return true;\r\n\r\n        return false;\r\n    };\r\n\r\n    dontDisplay = () => {\r\n        let {itemId, idMan} = this.props;\r\n        let item = idMan.getItem(itemId);\r\n        if (item.props.isStack)\r\n            return true;\r\n        if (item.getSize().width < 80 || item.getSize().height < 40)\r\n            return true;\r\n        if (item.resizing)\r\n            return true;\r\n        if (item.props.aglComponent && item.props.aglComponent.getScaleProportionally &&\r\n            item.props.aglComponent.getScaleProportionally().enable) {\r\n            return true\r\n        }\r\n        return item.state.draggingStart;\r\n    }\r\n\r\n    render () {\r\n        let {isStretch} = this.props;\r\n        if (this.dontDisplay())\r\n            return null;\r\n        return (\r\n            <div\r\n                id=\"AdjustmentResize\"\r\n                className=\"AdjustmentStretchRoot\"\r\n                onPointerDown={this.onMouseDown}\r\n                onClick={this.onClick}\r\n                style={this.props.style}\r\n            >\r\n                {\r\n                    isStretch && <img draggable={false} width={16} height={16} src={require('./icons/minimize.svg')} />\r\n                }\r\n                {\r\n                    !isStretch && <img draggable={false} width={16} height={16} src={require('./icons/maximize.svg')} />\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css';\r\nimport AdjustmentMove from \"./AdjustmentMove\";\r\n\r\nexport default class AdjustmentItemMove extends React.Component {\r\n    onDragStart = (e) => {\r\n        this.onMouseDown(e);\r\n    };\r\n\r\n    onDrag = (e) => {\r\n        this.onMouseMove(e);\r\n    };\r\n\r\n    onDragStop = (e) => {\r\n        this.onMouseUp(e);\r\n    };\r\n\r\n    dontDisplay = () => {\r\n        let {itemId, idMan} = this.props;\r\n        let item = idMan.getItem(itemId);\r\n        if (item.props.isPage || item.props.isSection)\r\n            return true;\r\n        if (item.resizing)\r\n            return true;\r\n        return false;\r\n    }\r\n\r\n    onMouseDown = (e) => {\r\n        let {itemId, idMan} = this.props;\r\n        let item = idMan.getItem(itemId);\r\n        item.onMouseDown(e, false, true);\r\n    };\r\n\r\n    onMouseMove = (e) => {\r\n        let {itemId, idMan} = this.props;\r\n        let item = idMan.getItem(itemId);\r\n        item.onMouseMove(e, 0);\r\n    };\r\n\r\n    onMouseUp = (e) => {\r\n        let {itemId, idMan} = this.props;\r\n        let item = idMan.getItem(itemId);\r\n        item.onMouseUp(e);\r\n    };\r\n\r\n    render () {\r\n        let {isStretch} = this.props;\r\n        if (this.dontDisplay())\r\n            return null;\r\n        return (\r\n            <div\r\n                id=\"AdjustmentMove\"\r\n                className=\"AdjustmentItemMoveRoot\"\r\n                // onPointerDown={this.onMouseDown}\r\n                // // onMouseMove={this.onMouseMove}\r\n                // onMouseUp={this.onMouseUp}\r\n                draggable={false}\r\n                style={this.props.style}\r\n            >\r\n                <img draggable={false} width={16} height={16} src={require('../icons/move-arrows.svg')} />\r\n\r\n                <AdjustmentMove\r\n                    onDragStart={this.onDragStart}\r\n                    onDrag={this.onDrag}\r\n                    onDragStop={this.onDragStop}\r\n                    onClick={this.onClick}\r\n                    cursor={\"move\"}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport ResizePane from \"./ResizePane\";\r\nimport AdjustmentStretch from \"./AdjustmentStretch\";\r\nimport {cloneObject, shallowEqual} from \"../AwesomeGridLayoutUtils\";\r\nimport classNames from \"classnames\";\r\nimport AdjustmentItemMove from \"./AdjustmentItemMove\";\r\n\r\nexport default class AdjustmentResize extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n    }\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        if (!shallowEqual(nextProps.data, this.data))\r\n            return true;\r\n\r\n        if (!shallowEqual(nextProps, this.props))\r\n            return true;\r\n\r\n        return false;\r\n    }\r\n\r\n    render () {\r\n        let {data, allowStretch, idMan, itemId, isStretch, draggingStart, transformStyleId, item} = this.props;\r\n        this.data = cloneObject(data);\r\n        let stretchStyle = {};\r\n        if (!allowStretch) stretchStyle.display = \"none\";\r\n\r\n        let classes = classNames(\r\n            \"AdjustmentResizeRoot\",\r\n            transformStyleId\r\n        );\r\n        return (\r\n            <div\r\n                id=\"AdjustmentResize\"\r\n                style={{\r\n                    width: data.width,\r\n                    height: data.height,\r\n                    top: data.top,\r\n                    left: data.left,\r\n                    // transform: transform\r\n                }}\r\n                className={classes}\r\n            >\r\n                {\r\n                    !isStretch &&\r\n                    ['s','n','e','w','se','ne','sw','nw'].map((side, index) => {\r\n                        return <ResizePane\r\n                            enabled={this.props.sides.includes(side)}\r\n                            key={index}\r\n                            side={side}\r\n                            onResizeStart={this.props.onResizeStart}\r\n                            onResize={this.props.onResize}\r\n                            onResizeStop={this.props.onResizeStop}\r\n                            draggingStart={draggingStart}\r\n                        />\r\n                    })\r\n                }\r\n                {\r\n                    !(item.getCompositeFromData(\"transform\") || {}).rotateDegree && !item.props.noStretch &&\r\n                    <AdjustmentStretch\r\n                        style={stretchStyle}\r\n                        isStretch={isStretch}\r\n                        idMan={idMan}\r\n                        itemId={itemId}\r\n                    />\r\n                }\r\n                {\r\n                    !(item.getCompositeFromData(\"transform\") || {}).rotateDegree && !item.props.noStretch &&\r\n                    <AdjustmentItemMove\r\n                        isStretch={isStretch}\r\n                        idMan={idMan}\r\n                        itemId={itemId}\r\n                    />\r\n                }\r\n\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport {allowStretch, isGroupSelected, isHideInBreakpoint, isStretch} from \"../AwesomwGridLayoutHelper\";\r\nimport AdjustmentResize from \"./AdjustmentResize\";\r\n\r\nexport default class AdjustmentResizeWrapper extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            active: true\r\n        };\r\n    }\r\n\r\n    update = (item, data, transformStyleId) => {\r\n        this.setState({item, data, transformStyleId});\r\n    };\r\n\r\n    activate = (active) => {\r\n        this.setState({active});\r\n    };\r\n\r\n    render () {\r\n        if (!this.state.active)\r\n            return null;\r\n\r\n        if (!this.state.item)\r\n            return null;\r\n\r\n        let {item, data} = this.state;\r\n\r\n        return (\r\n            <>\r\n                {\r\n                    item.getFromTempData(\"resizable\") &&\r\n                    !item.state.showAnimation &&\r\n                    !isGroupSelected(item) &&\r\n                    !isHideInBreakpoint(item) &&\r\n                    <AdjustmentResize\r\n                        id={item.props.id}\r\n                        key={`resize`}\r\n                        sides={item.getResizeSides() || ['n','s','e','w','ne','nw','se','sw']}\r\n                        onResizeStart={item.onResizeStart}\r\n                        onResize={item.onResize}\r\n                        onResizeStop={item.onResizeStop}\r\n                        draggingStart={item.state.draggingStart}\r\n                        isStretch={isStretch(item)}\r\n                        allowStretch={allowStretch(item)}\r\n                        itemId={item.props.id}\r\n                        item={item}\r\n                        idMan={item.props.idMan}\r\n                        transformStyleId={this.state.transformStyleId}\r\n                        data={data}\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport {cloneObject, shallowEqual} from \"../AwesomeGridLayoutUtils\";\r\n\r\nexport default class AdjustmentHelpLines extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n        if (nextProps.helpLinesParent) {\r\n            let newParentRect = nextProps.helpLinesParent.getSize(false);\r\n\r\n            if (!shallowEqual(this.parentRect, cloneObject(newParentRect))) {\r\n                this.parentRect = newParentRect;\r\n                return true;\r\n            }\r\n        }\r\n\r\n        if (this.props.width !== nextProps.width ||\r\n            this.props.height !== nextProps.height ||\r\n            this.props.show !== nextProps.show ||\r\n            this.props.dragging !== nextProps.dragging)\r\n            return true;\r\n\r\n        if (!shallowEqual(this.props.itemRect, nextProps.itemRect)) {\r\n            return true;\r\n        }\r\n        if (!shallowEqual(this.props.fakeItemRect, nextProps.fakeItemRect)) {\r\n            return true;\r\n        }\r\n        if (!shallowEqual(nextProps.item.getCompositeFromData(\"gridItemStyle\"), this.gridItemStyle)) {\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    getValue = (value) => {\r\n        if (value.includes(\"px\")) {\r\n            return `${parseFloat(value.replace(\"px\", \"\")).toFixed(1)}px`;\r\n        }\r\n        if (value.includes(\"%\")) {\r\n            return `${parseFloat(value.replace(\"%\", \"\")).toFixed(1)}%`;\r\n        }\r\n\r\n        return value;\r\n    };\r\n\r\n    calculate = () => {\r\n        let {helpLinesParent, item, itemRect, width, height, dragging, fakeItemRect} = this.props;\r\n        // this.parentRect = this.parentRect || helpLinesParent.getSize(false);\r\n        this.parentRect = helpLinesParent.prepareRects();\r\n\r\n        if (fakeItemRect)\r\n            itemRect = fakeItemRect;\r\n        return {\r\n            ...item.calculateGridItem(itemRect.left - this.parentRect.left,\r\n                itemRect.top - this.parentRect.top, helpLinesParent,\r\n                width || itemRect.width, height || itemRect.height, this.parentRect, true, !dragging),\r\n            itemRect, parentRect: this.parentRect\r\n        };\r\n    };\r\n\r\n    getRuntimeGridItemStyle = () => {\r\n        return this.gridItemStyle;\r\n    };\r\n\r\n    render () {\r\n        let {show, item, transform, fakeItemRect} = this.props;\r\n        if (!show)\r\n            return null;\r\n\r\n        if (!item.mounted)\r\n            return null;\r\n\r\n        let {gridItemStyle, coordinates, itemRect, parentRect, coordinatesAbs} = this.calculate();\r\n        this.gridItemStyle = cloneObject(gridItemStyle);\r\n        if (fakeItemRect)\r\n            itemRect = fakeItemRect;\r\n        return (\r\n            <div\r\n                id=\"AdjustmentHelpLines\"\r\n                className=\"AdjustmentHelpLinesRoot\"\r\n                style={{\r\n                    width: coordinatesAbs.cx2 - coordinatesAbs.cx1,\r\n                    height: coordinatesAbs.cy2 - coordinatesAbs.cy1,\r\n                    top: coordinatesAbs.cy1,\r\n                    left: coordinatesAbs.cx1,\r\n                }}\r\n            >\r\n                <div className=\"AdjustmentHelpLinesRect\" style={{\r\n                    top: itemRect.top - coordinatesAbs.cy1,\r\n                    left: itemRect.left - coordinatesAbs.cx1,\r\n                    width: itemRect.width,\r\n                    height: itemRect.height\r\n                }}/>\r\n                <svg className=\"AdjustmentHelpLinesSVG\">\r\n                    {\r\n                        /*(gridItemStyle.justifySelf === \"start\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                            gridItemStyle.alignSelf === \"flex-start\") &&*/\r\n                        <line\r\n                            visibility={(gridItemStyle.justifySelf === \"start\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                                gridItemStyle.alignSelf === \"flex-start\")? \"visible\": \"hidden\"}\r\n                            x1={0}\r\n                            x2={itemRect.left - coordinatesAbs.cx1}\r\n                            y1={itemRect.top - coordinatesAbs.cy1 + itemRect.height / 2}\r\n                            y2={itemRect.top - coordinatesAbs.cy1 + itemRect.height / 2}\r\n                            style={{\r\n                                stroke: \"#116dff\",\r\n                                strokeDasharray: \"3px 3px\"\r\n                            }}\r\n                        />\r\n                    }\r\n                    {\r\n                        /*(gridItemStyle.justifySelf === \"start\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                            gridItemStyle.alignSelf === \"flex-start\") &&\r\n                        !this.props.dragging &&*/\r\n                        <circle\r\n                            visibility={((gridItemStyle.justifySelf === \"start\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                                gridItemStyle.alignSelf === \"flex-start\") &&\r\n                                !this.props.dragging)? \"visible\" : \"hidden\"}\r\n                            cx={0}\r\n                            cy={itemRect.top - coordinatesAbs.cy1 + itemRect.height / 2}\r\n                            r={5}\r\n                            style={{\r\n                                stroke: \"#fff\",\r\n                                fill: \"#116dff\"\r\n                            }}\r\n                        />\r\n                    }\r\n                    {\r\n                        // (gridItemStyle.justifySelf === \"end\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                        //     gridItemStyle.alignSelf === \"flex-end\") &&\r\n                        <line\r\n                            visibility={(gridItemStyle.justifySelf === \"end\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                                gridItemStyle.alignSelf === \"flex-end\") ? \"visible\" : \"hidden\"}\r\n                            x1={itemRect.left - coordinatesAbs.cx1 + itemRect.width}\r\n                            x2={coordinatesAbs.cx2 - coordinatesAbs.cx1}\r\n                            y1={itemRect.top - coordinatesAbs.cy1 + itemRect.height / 2}\r\n                            y2={itemRect.top - coordinatesAbs.cy1 + itemRect.height / 2}\r\n                            style={{\r\n                                stroke: \"#116dff\",\r\n                                strokeDasharray: \"3px 3px\"\r\n                            }}\r\n                        />\r\n                    }\r\n                    {\r\n                        // (gridItemStyle.justifySelf === \"end\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                        //     gridItemStyle.alignSelf === \"flex-end\") &&\r\n                        // !this.props.dragging &&\r\n                        <circle\r\n                            visibility={((gridItemStyle.justifySelf === \"end\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                                gridItemStyle.alignSelf === \"flex-end\") &&\r\n                                !this.props.dragging) ? \"visible\" : \"hidden\"}\r\n                            cx={coordinatesAbs.cx2 - coordinatesAbs.cx1}\r\n                            cy={itemRect.top - coordinatesAbs.cy1 + itemRect.height / 2}\r\n                            r={5}\r\n                            style={{\r\n                                stroke: \"#fff\",\r\n                                fill: \"#116dff\"\r\n                            }}\r\n                        />\r\n                    }\r\n                    {\r\n                        // (gridItemStyle.alignSelf === \"start\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                        <line\r\n                            visibility={(gridItemStyle.alignSelf === \"start\" || gridItemStyle.alignSelf === \"stretch\")\r\n                            ? \"visible\" : \"hidden\"}\r\n                            x1={itemRect.left - coordinatesAbs.cx1 + itemRect.width / 2}\r\n                            x2={itemRect.left - coordinatesAbs.cx1 + itemRect.width / 2}\r\n                            y1={0}\r\n                            y2={itemRect.top - coordinatesAbs.cy1}\r\n                            style={{\r\n                                stroke: \"#116dff\",\r\n                                strokeDasharray: \"3px 3px\"\r\n                            }}\r\n                        />\r\n                    }\r\n                    {\r\n                        // (gridItemStyle.alignSelf === \"start\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                        // !this.props.dragging &&\r\n                        <circle\r\n                            visibility={((gridItemStyle.alignSelf === \"start\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                                !this.props.dragging) ? \"visible\" : \"hidden\"}\r\n                            cx={itemRect.left - coordinatesAbs.cx1 + itemRect.width / 2}\r\n                            cy={0}\r\n                            r={5}\r\n                            style={{\r\n                                stroke: \"#fff\",\r\n                                fill: \"#116dff\"\r\n                            }}\r\n                        />\r\n                    }\r\n                    {\r\n                        // (gridItemStyle.alignSelf === \"end\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                        <line\r\n                            visibility={(gridItemStyle.alignSelf === \"end\" || gridItemStyle.alignSelf === \"stretch\")\r\n                            ? \"visible\" : \"hidden\"}\r\n                            x1={itemRect.left - coordinatesAbs.cx1 + itemRect.width / 2}\r\n                            x2={itemRect.left - coordinatesAbs.cx1 + itemRect.width / 2}\r\n                            y1={itemRect.top - coordinatesAbs.cy1 + itemRect.height}\r\n                            y2={coordinatesAbs.cy2 - coordinatesAbs.cy1}\r\n                            style={{\r\n                                stroke: \"#116dff\",\r\n                                strokeDasharray: \"3px 3px\"\r\n                            }}\r\n                        />\r\n                    }\r\n                    {\r\n                        // (gridItemStyle.alignSelf === \"end\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                        // !this.props.dragging &&\r\n                        <circle\r\n                            visibility={((gridItemStyle.alignSelf === \"end\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                                !this.props.dragging) ? \"visible\" : \"hidden\"}\r\n                            cx={itemRect.left - coordinatesAbs.cx1 + itemRect.width / 2}\r\n                            cy={coordinatesAbs.cy2 - coordinatesAbs.cy1}\r\n                            r={5}\r\n                            style={{\r\n                                stroke: \"#fff\",\r\n                                fill: \"#116dff\"\r\n                            }}\r\n                        />\r\n                    }\r\n                </svg>\r\n\r\n                {\r\n                    // (gridItemStyle.justifySelf === \"start\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                    //     gridItemStyle.alignSelf === \"flex-start\") &&\r\n                    // this.props.dragging &&\r\n                    <p\r\n                        style={{\r\n                            display: ((gridItemStyle.justifySelf === \"start\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                                gridItemStyle.alignSelf === \"flex-start\") &&\r\n                                this.props.dragging) ? \"unset\" : \"none\",\r\n                            position: \"absolute\",\r\n                            top: itemRect.top - coordinatesAbs.cy1 + itemRect.height / 2,\r\n                        left: (itemRect.left - coordinatesAbs.cx1) / 2,\r\n                        transform: \"translateY(-125%) translateX(-50%)\",\r\n                        margin: 0,\r\n                        fontSize: \"0.65em\",\r\n                        color: \"#0013ff\",\r\n                        fontWeight: \"bold\"\r\n                    }}\r\n                    >\r\n                            {this.getValue(gridItemStyle.marginLeft)}\r\n                    </p>\r\n                }\r\n\r\n                {\r\n                    // (gridItemStyle.justifySelf === \"end\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                    //     gridItemStyle.alignSelf === \"flex-end\") &&\r\n                    // this.props.dragging &&\r\n                    <p\r\n                        style={{\r\n                            display: ((gridItemStyle.justifySelf === \"end\" || gridItemStyle.justifySelf === \"stretch\" ||\r\n                                gridItemStyle.alignSelf === \"flex-end\") &&\r\n                                this.props.dragging) ? \"unset\" : \"none\",\r\n                            position: \"absolute\",\r\n                            top: itemRect.top - coordinatesAbs.cy1 + itemRect.height / 2,\r\n                            right: (coordinatesAbs.cx2 - itemRect.left - itemRect.width) / 2,\r\n                            transform: \"translateY(-125%) translateX(50%)\",\r\n                            margin: 0,\r\n                            fontSize: \"0.65em\",\r\n                            color: \"#0013ff\",\r\n                            fontWeight: \"bold\"\r\n                        }}\r\n                    >\r\n                        {this.getValue(gridItemStyle.marginRight)}\r\n                    </p>\r\n                }\r\n\r\n                {\r\n                    // (gridItemStyle.alignSelf === \"start\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                    // this.props.dragging &&\r\n                    <p\r\n                        style={{\r\n                            display: ((gridItemStyle.alignSelf === \"start\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                                this.props.dragging) ? \"unset\" : \"none\",\r\n                            position: \"absolute\",\r\n                            top: (itemRect.top - coordinatesAbs.cy1) / 2,\r\n                            left: itemRect.left - coordinatesAbs.cx1 + itemRect.width / 2,\r\n                            transform: \"translateY(-50%) translateX(5px)\",\r\n                            margin: 0,\r\n                            fontSize: \"0.65em\",\r\n                            color: \"#0013ff\",\r\n                            fontWeight: \"bold\"\r\n                        }}\r\n                    >\r\n                        {this.getValue(gridItemStyle.marginTop)}\r\n                    </p>\r\n                }\r\n\r\n                {\r\n                    // (gridItemStyle.alignSelf === \"end\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                    // this.props.dragging &&\r\n                    <p\r\n                        style={{\r\n                            display: ((gridItemStyle.alignSelf === \"end\" || gridItemStyle.alignSelf === \"stretch\") &&\r\n                                this.props.dragging) ? \"unset\" : \"none\",\r\n                            position: \"absolute\",\r\n                            bottom: (coordinatesAbs.cy2 - itemRect.top - itemRect.height) / 2,\r\n                            left: itemRect.left - coordinatesAbs.cx1 + itemRect.width / 2,\r\n                            transform: \"translateY(50%) translateX(5px)\",\r\n                            margin: 0,\r\n                            fontSize: \"0.65em\",\r\n                            color: \"#0013ff\",\r\n                            fontWeight: \"bold\"\r\n                        }}\r\n                    >\r\n                        {this.getValue(gridItemStyle.marginBottom)}\r\n                    </p>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport {isGroupSelected, isHideInBreakpoint} from \"../AwesomwGridLayoutHelper\";\r\nimport AdjustmentHelpLines from \"./AdjustmentHelpLines\";\r\n\r\nexport default class AdjustmentHelpLinesWrapper extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            active: true\r\n        };\r\n\r\n        this.helpLineRef = React.createRef();\r\n    }\r\n\r\n    update = (item, helpLineParent, itemRect, dragging, fakeItemRect) => {\r\n        this.setState({item, itemRect, dragging, fakeItemRect});\r\n    };\r\n\r\n    activate = (active) => {\r\n        this.setState({active});\r\n    };\r\n\r\n    getRuntimeGridItemStyle = () => {\r\n        if (this.helpLineRef.current)\r\n            return this.helpLineRef.current.getRuntimeGridItemStyle();\r\n    };\r\n\r\n    render () {\r\n        if (!this.state.active)\r\n            return null;\r\n\r\n        if (!this.state.item)\r\n            return null;\r\n\r\n        let {item, itemRect, dragging, fakeItemRect} = this.state;\r\n        return (\r\n            <>\r\n                {\r\n                    !item.state.showAnimation &&\r\n                    !isHideInBreakpoint(item) &&\r\n                    <AdjustmentHelpLines\r\n                        ref={this.helpLineRef}\r\n                        show={!item.props.helplineOff /*&& item.state.selected*/ &&\r\n                        item.state.helpLinesParent && !item.getFromTempData(\"pageResize\") &&\r\n                        !isGroupSelected(item)}\r\n                        helpLinesParent={item.state.helpLinesParent}\r\n                        item={item}\r\n                        dragging={dragging}\r\n                        itemRect={itemRect}\r\n                        fakeItemRect={fakeItemRect}\r\n                        width={itemRect.width}\r\n                        height={itemRect.height}\r\n                    />\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Adjustment.css'\r\nimport Popper from \"@material-ui/core/Popper/Popper\";\r\n\r\nexport default class AdjustmentHover extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            active: true\r\n        };\r\n    }\r\n\r\n    update = (item, size, clear) => {\r\n        if (!clear)\r\n            if (!item.state.selected)\r\n                this.setState({item, size, itemId: item.props.id});\r\n            else\r\n                this.setState({item, size, itemId: undefined});\r\n        else {\r\n            if (this.state.itemId === item.props.id) {\r\n                this.setState({item, size, itemId: undefined});\r\n            }\r\n        }\r\n    };\r\n\r\n    activate = (active) => {\r\n        this.setState({active});\r\n    };\r\n\r\n    render () {\r\n        if (!this.state.active)\r\n            return null;\r\n\r\n        if (!this.state.itemId)\r\n            return null;\r\n        return (\r\n            <Popper\r\n                open={true}\r\n                anchorEl={document.getElementById(this.state.itemId)}\r\n                placement=\"top-start\"\r\n                style={{\r\n                    zIndex: 9999999,\r\n                    pointerEvents: \"none\"\r\n                }}\r\n                disablePortal={false}\r\n                modifiers={{\r\n                    flip: {\r\n                        enabled: false\r\n                    },\r\n                    preventOverflow: {\r\n                        enabled: false,\r\n                    },\r\n                    hide: {\r\n                        enabled: false,\r\n                    },\r\n                }}\r\n            >\r\n                {\r\n                    this.state.itemId ?\r\n                        <div\r\n                            className=\"AwesomeGridLayoutRootHover\"\r\n                            key={`hover`}\r\n                            style={{\r\n                                width: this.state.size ? this.state.size.width : 0,\r\n                                height: this.state.size ? this.state.size.height : 0,\r\n                            }}\r\n                        >\r\n                            <span className=\"AGLHoverCompName\">\r\n                                {this.state.item.props.tagName}\r\n                            </span>\r\n                        </div>\r\n                        :\r\n                        <div></div>\r\n                }\r\n            </Popper>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './Layout.css';\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\n\r\nexport default class Layout extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            percent: props.open ? 100 : 0,\r\n            treeData: []\r\n        };\r\n\r\n        this.opening = false;\r\n        this.closing = false;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n    open = () => {\r\n        this.opening = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.openInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.openInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent += (this.props.speed * this.props.interval / 1000);\r\n            if (percent > 100) {\r\n                this.opening = false;\r\n                clearInterval(this.openInterval);\r\n            }\r\n            percent = Math.min(100, percent);\r\n            this.setState({percent, open: (percent === 100)});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    close = () => {\r\n        this.closing = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.closeInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.closeInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent -= (this.props.speed * this.props.interval / 1000);\r\n            if (percent < 0) {\r\n                this.closing = false;\r\n                clearInterval(this.closeInterval);\r\n            }\r\n            percent = Math.max(0, percent);\r\n            this.setState({percent, open: (percent !== 0)});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    setLayout = (layout) => {\r\n        if (this.state.open)\r\n            this.processLayout(layout)\r\n    };\r\n\r\n    processLayout = (layout) => {\r\n        if (!layout)\r\n            return;\r\n\r\n        let {idMan} = this.props;\r\n\r\n        let getTreeItem = (layoutItem) => {\r\n            let item = idMan.getItem(layoutItem.childData.props.id);\r\n            return {\r\n                title: layoutItem.childData.tagName,\r\n                layoutItem: layoutItem,\r\n                children: layoutItem.childrenData.map(childLayout => {\r\n                    return getTreeItem(childLayout);\r\n                }),\r\n                expanded: item.getFromTempData(\"layoutTreeExpanded\"),\r\n                parentItemId: item.props.parent && item.props.parent.props.id\r\n            };\r\n        };\r\n\r\n        this.setState({\r\n            treeData: [getTreeItem(layout[0])]\r\n        });\r\n    };\r\n\r\n    setTree = (treeData) => {\r\n        let {idMan} = this.props;\r\n        let updateItem = (treeItem) => {\r\n            let item = idMan.getItem(treeItem.layoutItem.childData.props.id);\r\n            item.setTempData(\"layoutTreeExpanded\", treeItem.expanded);\r\n            treeItem.children.forEach((childTreeItem, index) => {\r\n                item.setChildZIndex(childTreeItem.layoutItem.childData.props.id, index + 1);\r\n            });\r\n            item.updateLayout();\r\n            treeItem.children.map(childTreeItem => {\r\n                updateItem(childTreeItem);\r\n            });\r\n        };\r\n\r\n        updateItem(treeData[0]);\r\n\r\n        this.setState({treeData});\r\n    };\r\n\r\n    render() {\r\n        let {idMan} = this.props;\r\n        return (\r\n            <>\r\n                <div\r\n                    className=\"LayoutRoot\"\r\n                    style={{\r\n                        left: `${this.state.percent - 100}%`,\r\n                        opacity: this.state.percent / 100\r\n                    }}\r\n                    onContextMenu={(e) => {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }}\r\n                >\r\n                    <div\r\n                        className=\"LayoutTreeRootHeader\"\r\n                    >\r\n                        {/*Header*/}\r\n                        <div\r\n                            className=\"LayoutTreeRootHeaderContainer\"\r\n                        >\r\n                            <span className=\"LayoutTreeRootHeaderTitle\">\r\n                                Layers\r\n                            </span>\r\n\r\n                            <IconButton\r\n                                onClick={this.close}\r\n                            >\r\n                                <img\r\n                                    draggable={false}\r\n                                    width={12}\r\n                                    height={12}\r\n                                    src={require('../../icons/close.svg')}\r\n                                />\r\n                            </IconButton>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div\r\n                        className=\"LayoutTreeRoot\"\r\n                    >\r\n                        Coming soon ...\r\n                        {/*<SortableTree\r\n                            className=\"LayoutSortableTree\"\r\n                            treeData={this.state.treeData}\r\n                            onChange={treeData => this.setTree(treeData)}\r\n                            innerStyle={{\r\n                                outline: 'none',\r\n                            }}\r\n                            generateNodeProps={rowInfo => {\r\n                                let layoutItem = rowInfo.node.layoutItem; // {tagName, childData, childrenData}\r\n                                let item = idMan.getItem(layoutItem.childData.props.id);\r\n                                let rowWrapperStyle = {};\r\n                                if (item.state.selected)\r\n                                    rowWrapperStyle.backgroundColor = \"#e4ffea\";\r\n\r\n                                let buttons = [\r\n                                    <IconButton\r\n                                        key={\"rightClick\"}\r\n                                        onClick={(e) => {\r\n                                            item.onContextMenu(e);\r\n                                        }}\r\n                                        imageContainerStyle={{\r\n                                            padding: 4\r\n                                        }}\r\n                                    >\r\n                                        <img\r\n                                            draggable={false}\r\n                                            width={16}\r\n                                            height={16}\r\n                                            src={process.env.PUBLIC_URL + 'static/icon/more-black.svg'}\r\n                                        />\r\n                                    </IconButton>\r\n                                ];\r\n                                if (isHideInBreakpoint(item)) {\r\n                                    buttons.unshift(\r\n                                        <IconButton\r\n                                            key={\"hidedInBp\"}\r\n                                            onClick={(e) => {\r\n                                                showInBreakPoint(item);\r\n                                            }}\r\n                                            imageContainerStyle={{\r\n                                                padding: 4\r\n                                            }}\r\n                                        >\r\n                                            <img\r\n                                                draggable={false}\r\n                                                width={16}\r\n                                                height={16}\r\n                                                src={process.env.PUBLIC_URL + 'static/icon/hide.svg'}\r\n                                            />\r\n                                        </IconButton>\r\n                                    )\r\n                                }\r\n\r\n                                return ({\r\n                                    rowWrapperStyle: rowWrapperStyle,\r\n                                    onClick: (e) => {\r\n                                        let eClass = e.target.getAttribute(\"class\");\r\n                                        if (eClass !== \"expandButton\" && eClass !== \"collapseButton\")\r\n                                            item.onSelect(true, undefined, undefined, true);\r\n                                    },\r\n                                    icons: [\r\n                                        <Image\r\n                                            draggable={false}\r\n                                            width={16}\r\n                                            height={16}\r\n                                            src={item.props.favIconUrl}\r\n                                            style={{\r\n                                                marginTop: 2\r\n                                            }}\r\n                                            errorsrc={process.env.PUBLIC_URL + '/static/icon/rectangle.svg'}\r\n                                        />\r\n                                    ],\r\n                                    buttons: buttons,\r\n                                })\r\n                            }}\r\n                            canDrag={({ node, path, treeIndex, lowerSiblingCounts, isSearchMatch,\r\n                                          isSearchFocus}) => {\r\n                                let item = idMan.getItem(node.layoutItem.childData.props.id);\r\n                                return !item.props.isPage && !item.props.isSection;\r\n                            }}\r\n                            canDrop={({ node, nextParent, prevPath, nextPath }) => {\r\n                                return !!(nextParent && node.parentItemId === nextParent.layoutItem.childData.props.id);\r\n                            }}\r\n                        />*/}\r\n                    </div>\r\n\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nLayout.defaultProps = {\r\n    open: false,\r\n    speed: 400,\r\n    interval: 5\r\n};\r\n","import React from \"react\";\r\nimport './AddComponent.css';\r\nimport {createItem, sortBy} from \"../../AwesomwGridLayoutHelper\";\r\nimport {cloneObject} from \"../../AwesomeGridLayoutUtils\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class ComponentGrid extends React.Component {\r\n    static contextType = EditorContext;\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n\r\n        };\r\n\r\n        this.rootRef = React.createRef();\r\n    }\r\n\r\n    getItemStyle = (item) => {\r\n        let rootWidth = this.rootRef.current?\r\n            this.rootRef.current.getBoundingClientRect().width - 24: 400 - 24;\r\n\r\n        return {\r\n            // width: rootWidth / (item.widthRatio || 2),\r\n            // height: rootWidth / (item.widthRatio || 2) / (item.aspectRatio || 2)\r\n            // height: \"fit-content\",\r\n            gridColumnEnd: `span ${item.width || 2}`,\r\n            gridRowEnd: `span ${item.height || 2}`\r\n        };\r\n    };\r\n\r\n    componentDidMount(){\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.mounted = false;\r\n    }\r\n\r\n    setDraggingItem = (draggingItem, e) => {\r\n        e.persist();\r\n\r\n        e.preventDefault();\r\n        // this.props.closeMenu(true);\r\n        this.context.toggleRightMenu(\"addComponent\");\r\n        this.createItemAndDrag(draggingItem, e);\r\n    };\r\n\r\n    createItemAndDrag = (item, e) => {\r\n        let {pageRef, editor} = this.props;\r\n        let selectedItem = editor.select.getSelected();\r\n\r\n        let handle = () => {\r\n            createItem(selectedItem, {\r\n                tagName: item.tagName,\r\n                props: cloneObject(item.presetProps)\r\n            }, undefined, undefined, undefined, (agl) => {\r\n                if (agl.props.input.mouseDown) {\r\n                    window.requestAnimationFrame(() => {\r\n                        agl.onMouseDown(e, true);\r\n                    });\r\n                }\r\n            });\r\n        }\r\n\r\n        if (!selectedItem) {\r\n            selectedItem = pageRef.current;\r\n        }\r\n        selectedItem = selectedItem.getContainerParent();\r\n\r\n        handle();\r\n    };\r\n\r\n    changeItemParent = (agl, selectedItem) => {\r\n        let size = agl.getSize(false);\r\n\r\n        if (!selectedItem || selectedItem.props.isPage)\r\n            selectedItem = this.props.editor.rootLayoutRef.current.props.aglComponent.getSectionOfPoint(\r\n                size.left, size.top, size.width, size.height\r\n            );\r\n\r\n        let newGridItemStyle = {\r\n            alignSelf: \"center\",\r\n            justifySelf: \"center\",\r\n            position: \"relative\",\r\n            marginLeft: 0,\r\n            marginRight: 0,\r\n            marginTop: 0,\r\n            marginBottom: 0,\r\n            gridArea: \"1/1/2/2\",\r\n        };\r\n\r\n        agl.props.dragdrop.dropItem(agl, agl.props.parent, selectedItem, (newItem) => {\r\n            newItem.setGridItemStyle(newGridItemStyle, newItem.props.breakpointmanager.getHighestBpName());\r\n        });\r\n    };\r\n\r\n    createItem = (item, e) => {\r\n        // this.props.closeMenu(true);\r\n\r\n        this.context.toggleRightMenu(\"addComponent\");\r\n\r\n        let {pageRef, editor} = this.props;\r\n        let selectedItem = editor.select.getSelected();\r\n        if (!selectedItem)\r\n            selectedItem = pageRef.current;\r\n\r\n        selectedItem = selectedItem.getContainerParent();\r\n\r\n        createItem(pageRef.current, {\r\n            tagName: item.tagName,\r\n            props: cloneObject(item.presetProps)\r\n        }, undefined, undefined, undefined, (agl) => {\r\n            window.requestAnimationFrame(() => {\r\n                this.changeItemParent(agl, selectedItem);\r\n            });\r\n        });\r\n    };\r\n\r\n    setDraggingEnd = () => {\r\n        this.setState({draggingItem: undefined});\r\n    };\r\n\r\n    render() {\r\n        let {allItems, id, rowHeight, categoryItem} = this.props;\r\n        if (!allItems)\r\n            return null;\r\n\r\n        return (\r\n            <React.Fragment key={id}>\r\n                <div\r\n                    className=\"AddComponentItemGrid\"\r\n                    ref={this.rootRef}\r\n                    key={id}\r\n                    style={{\r\n                        gridAutoRows: rowHeight\r\n                    }}\r\n                >\r\n                    {\r\n                        sortBy(allItems, \"order\").map((item, index) => {\r\n                            if (item.innerHtml) {\r\n                                return (\r\n                                    <div\r\n                                        key={index}\r\n                                        className=\"AddComponentItemGridItem\"\r\n                                        style={this.getItemStyle(item)}\r\n                                        onDragStart={(e) => {\r\n                                            this.setDraggingItem(item, e);\r\n                                        }}\r\n                                        onDragEnd={(e) => {\r\n                                            this.setDraggingEnd();\r\n                                        }}\r\n                                        onClick={(e) => {\r\n                                            this.createItem(item, e);\r\n                                        }}\r\n                                        draggable\r\n                                    >\r\n                                        <div\r\n                                            dangerouslySetInnerHTML={{__html: item.innerHtml}}\r\n                                        >\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                )\r\n                            } else {\r\n                                return (\r\n                                    <div\r\n                                        key={index}\r\n                                        className=\"AddComponentItemGridItem\"\r\n                                        style={this.getItemStyle(item)}\r\n                                        onDragStart={(e) => {\r\n                                            this.setDraggingItem(item, e);\r\n                                        }}\r\n                                        onDragEnd={(e) => {\r\n                                            this.setDraggingEnd();\r\n                                        }}\r\n                                        onClick={(e) => {\r\n                                            this.createItem(item, e);\r\n                                        }}\r\n                                        draggable\r\n                                    >\r\n                                        {\r\n                                            item.imageUrl ?\r\n                                            <img\r\n                                                className=\"AddComponentItemGridItemImage\"\r\n                                                src={item.imageUrl}\r\n                                                width={\"100%\"}\r\n                                                draggable={false}\r\n                                            />\r\n                                            :\r\n                                            <div\r\n                                                className=\"AddComponentItemGridItemBorder\"/>\r\n                                        }\r\n                                        {\r\n                                            item.icon &&\r\n                                            <img\r\n                                                className=\"AddComponentItemGridQAImage\"\r\n                                                draggable={false}\r\n                                                width={20 * (item.iconSizeMultiplyer || 1)}\r\n                                                height=\"auto\"\r\n                                                src={require(`../../icons/${item.icon}`)}\r\n                                            />\r\n                                        }\r\n                                        {\r\n                                            item.label &&\r\n                                            <span\r\n                                                className=\"AddComponentItemGridItemLabel\"\r\n                                            >\r\n                                                {item.label}\r\n                                            </span>\r\n                                        }\r\n                                    </div>\r\n                                )\r\n                            }\r\n\r\n                        })\r\n                    }\r\n                </div>\r\n            </React.Fragment>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './AddComponent.css';\r\nimport ComponentGrid from \"./ComponentGrid\";\r\nimport Divider from \"../../Menus/CommonComponents/Divider\";\r\nimport debounce from 'lodash.debounce';\r\nimport {sortBy} from \"../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class AddComponent extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            percent: props.open ? 100 : 0,\r\n            componentListItem: undefined,\r\n            componentSubListItem: undefined,\r\n            componentListItemHover: undefined,\r\n            componentSubListItemHover: undefined\r\n        };\r\n\r\n        this.opening = false;\r\n        this.closing = false;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n    open = () => {\r\n        this.opening = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.setState({ open: true});\r\n        this.openInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.openInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent += (this.props.speed * this.props.interval / 1000);\r\n            if (percent >= 100) {\r\n                this.opening = false;\r\n                clearInterval(this.openInterval);\r\n            }\r\n            percent = Math.min(100, percent);\r\n            this.setState({percent});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    close = (force) => {\r\n        this.closing = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.setState({ open: false});\r\n        if (force) {\r\n            this.setState({percent: 0});\r\n            return;\r\n        }\r\n        this.closeInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.closeInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent -= (this.props.speed * this.props.interval / 1000);\r\n            if (percent <= 0) {\r\n                this.closing = false;\r\n                clearInterval(this.closeInterval);\r\n            }\r\n            percent = Math.max(0, percent);\r\n            this.setState({percent});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    toggle = (force) => {\r\n        let toggleState = !this.state.open;\r\n        this.state.open ? this.close(force) : this.open();\r\n\r\n        return toggleState;\r\n    };\r\n\r\n    setComponentListItemDebounce = debounce((componentListItem) => {\r\n        this.setComponentListItem(componentListItem);\r\n    }, 500);\r\n\r\n    setComponentListItemLeave = (componentListItem) => {\r\n        if (this.state.componentListItemHover === componentListItem) {\r\n            this.setState({componentListItemHover: undefined});\r\n        }\r\n    };\r\n\r\n    setComponentListItem = (componentListItem) => {\r\n        if (componentListItem !== this.state.componentListItem &&\r\n            componentListItem === this.state.componentListItemHover)\r\n            this.setState({componentListItem,\r\n                componentSubListItem: componentListItem.subList && Object.values(componentListItem.subList)[0]?\r\n                    Object.values(componentListItem.subList)[0][0]: undefined\r\n            });\r\n    };\r\n\r\n    setComponentSubListItemDebounce = debounce((componentSubListItem) => {\r\n        this.setComponentSubListItem(componentSubListItem);\r\n    }, 500);\r\n\r\n    setComponentSubListItemLeave = (componentSubListItem) => {\r\n        if (this.state.componentSubListItemHover === componentSubListItem) {\r\n            this.setState({componentSubListItemHover: undefined});\r\n        }\r\n    };\r\n\r\n    setComponentSubListItem = (componentSubListItem) => {\r\n        if (componentSubListItem !== this.state.componentSubListItem &&\r\n            componentSubListItem.listName === this.state.componentListItem.name &&\r\n            componentSubListItem === this.state.componentSubListItemHover)\r\n            this.setState({componentSubListItem});\r\n    };\r\n\r\n    render() {\r\n        let {allComponentData} = this.props;\r\n        if (!allComponentData)\r\n            return null;\r\n\r\n        let allItems;\r\n        let rowHeight;\r\n        let categoryItem;\r\n        if (this.state.componentListItem && this.state.componentListItem.allItems) {\r\n            allItems = this.state.componentListItem.allItems;\r\n            rowHeight = this.state.componentListItem.rowHeight;\r\n            categoryItem = this.state.componentListItem;\r\n        }\r\n        if (this.state.componentSubListItem && this.state.componentSubListItem.allItems) {\r\n            allItems = this.state.componentSubListItem.allItems;\r\n            rowHeight = this.state.componentSubListItem.rowHeight;\r\n            categoryItem = this.state.componentSubListItem;\r\n        }\r\n\r\n        if (!this.state.componentListItem)\r\n            allItems = undefined;\r\n\r\n        return (\r\n            <>\r\n                <div\r\n                    className=\"AddComponentRoot\"\r\n                    style={{\r\n                        left: `${this.state.percent - 100}%`,\r\n                        opacity: this.state.percent / 100\r\n                    }}\r\n                    onContextMenu={(e) => {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }}\r\n                >\r\n                    <div\r\n                        className=\"AddComponentList\"\r\n                    >\r\n                        {\r\n                            sortBy(Object.values(allComponentData.builtin), \"order\").map(componentListItem => {\r\n                                let style = {};\r\n                                if (componentListItem === this.state.componentListItem)\r\n                                    style.backgroundColor = \"#e5ffff\";\r\n                                if(!componentListItem.subList &&\r\n                                    (!componentListItem.allItems || componentListItem.allItems.length < 1))\r\n                                    return null;\r\n                                return (\r\n                                    <div\r\n                                        key={componentListItem.name}\r\n                                        className=\"AddComponentListItem\"\r\n                                        onMouseEnter={(e) => {\r\n                                            this.setState({componentListItemHover: componentListItem});\r\n                                            this.setComponentListItemDebounce(componentListItem);\r\n                                        }}\r\n                                        onMouseOver={(e) => {\r\n                                            this.setState({componentListItemHover: componentListItem});\r\n                                            this.setComponentListItemDebounce(componentListItem);\r\n                                        }}\r\n                                        onClick={(e) => {\r\n                                            this.setComponentListItem(componentListItem);\r\n                                        }}\r\n                                        onMouseOut={(e) => {\r\n                                            this.setComponentListItemLeave(componentListItem);\r\n                                        }}\r\n                                        style={style}\r\n                                    >\r\n                                        {componentListItem.name}\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                        <Divider/>\r\n                        {\r\n                            sortBy(Object.values(allComponentData.apps), \"order\").map(componentListItem => {\r\n                                let style = {};\r\n                                if (componentListItem === this.state.componentListItem)\r\n                                    style.backgroundColor = \"#e5ffff\";\r\n                                return (\r\n                                    <div\r\n                                        key={componentListItem.name}\r\n                                        className=\"AddComponentListItem\"\r\n                                        onMouseEnter={(e) => {\r\n                                            this.setState({componentListItemHover: componentListItem});\r\n                                            this.setComponentListItemDebounce(componentListItem);\r\n                                        }}\r\n                                        onMouseOver={(e) => {\r\n                                            this.setState({componentListItemHover: componentListItem});\r\n                                            this.setComponentListItemDebounce(componentListItem);\r\n                                        }}\r\n                                        onClick={(e) => {\r\n                                            this.setComponentListItem(componentListItem);\r\n                                        }}\r\n                                        onMouseOut={(e) => {\r\n                                            this.setComponentListItemLeave(componentListItem);\r\n                                        }}\r\n                                        style={style}\r\n                                    >\r\n                                        {componentListItem.name}\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n\r\n                    {\r\n                        this.state.componentListItem &&\r\n                        this.state.componentListItem.subList &&\r\n                        <div\r\n                            className=\"AddComponentSubList\"\r\n                        >\r\n                            {\r\n                                sortBy(Object.keys(allComponentData.builtin[this.state.componentListItem.name].subList), \"order\")\r\n                                    .map(groupName => {\r\n                                        let componentSubListItems =\r\n                                            allComponentData.builtin[this.state.componentListItem.name].subList[groupName];\r\n                                        return (\r\n                                            <React.Fragment key={groupName}>\r\n                                                <div\r\n                                                    key={groupName}\r\n                                                    className=\"AddComponentSubListGroup\"\r\n                                                >\r\n                                                    {groupName}\r\n                                                </div>\r\n                                                {\r\n                                                    sortBy(componentSubListItems, \"order\").map(componentSubListItem => {\r\n                                                        let style = {};\r\n                                                        if (componentSubListItem === this.state.componentSubListItem)\r\n                                                            style.backgroundColor = \"#e5ffff\";\r\n                                                        return (\r\n                                                            <div\r\n                                                                key={componentSubListItem.name}\r\n                                                                className=\"AddComponentSubListItem\"\r\n                                                                onMouseEnter={(e) => {\r\n                                                                    this.setState({componentSubListItemHover: componentSubListItem});\r\n                                                                    this.setComponentSubListItemDebounce(componentSubListItem);\r\n                                                                }}\r\n                                                                onMouseOver={(e) => {\r\n                                                                    this.setState({componentSubListItemHover: componentSubListItem});\r\n                                                                    this.setComponentSubListItemDebounce(componentSubListItem);\r\n                                                                }}\r\n                                                                onClick={(e) => {\r\n                                                                    this.setComponentSubListItem(componentSubListItem);\r\n                                                                }}\r\n                                                                onMouseOut={(e) => {\r\n                                                                    this.setComponentSubListItemLeave(componentSubListItem);\r\n                                                                }}\r\n                                                                style={style}\r\n                                                            >\r\n                                                                {componentSubListItem.name}\r\n                                                            </div>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                            </React.Fragment>\r\n                                        )\r\n                                })\r\n                            }\r\n                        </div>\r\n                    }\r\n\r\n                    <ComponentGrid\r\n                        allItems={allItems}\r\n                        id={this.state.componentSubListItem? this.state.componentSubListItem.name:\r\n                            this.state.componentListItem? this.state.componentListItem.name: null}\r\n                        closeMenu={this.close}\r\n                        pageRef={this.props.pageRef}\r\n                        editor={this.props.editor}\r\n                        rowHeight={rowHeight}\r\n                        categoryItem={categoryItem}\r\n                    />\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nAddComponent.defaultProps = {\r\n    open: false,\r\n    speed: 400,\r\n    interval: 5\r\n};\r\n","import React from \"react\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\nimport './PageTypeTitle.css';\r\n\r\nexport default class PageTypeTitle extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            open: props.defaultOpen || false\r\n        }\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <ButtonBase className=\"PageTypeTitle\" onClick={(e) => {\r\n                if (this.props.onChange)\r\n                    this.props.onChange(!this.state.open);\r\n                this.setState({open: !this.state.open});\r\n            }}>\r\n                    <span>\r\n                        {this.props.title}\r\n                    </span>\r\n\r\n                    <div className=\"PageTypeTitleExpandIcon\">\r\n                        {\r\n                            this.state.open &&\r\n                            <img draggable={false} width={10} height={10}\r\n                                 src={process.env.PUBLIC_URL + '/static/icon/down-arrow.svg'} />\r\n                        }\r\n                        {\r\n                            !this.state.open &&\r\n                            <img draggable={false} width={10} height={10}\r\n                                 src={process.env.PUBLIC_URL + '/static/icon/right-arrow.svg'} />\r\n                        }\r\n                    </div>\r\n            </ButtonBase>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './PageSetting.css';\r\nimport '../PageManager.css';\r\nimport Image from \"../../../Menus/CommonComponents/Image\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport {EditorContext} from \"../../../Editor/EditorContext\";\r\nimport {resolveDefaultMenu} from \"../../../MenuManager/MenuManager\";\r\nimport {inputCopyPasteHandler} from \"../../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class PageInfo extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    onRename = (e) => {\r\n        this.newPageName = e.target.value;\r\n    };\r\n\r\n    rename = () => {\r\n        let {pageData} = this.props;\r\n\r\n        if (this.newPageName === pageData.props.pageName)\r\n            return;\r\n\r\n        if (!this.newPageName) {\r\n            // TODO show error\r\n            return;\r\n        }\r\n\r\n        pageData.props.pageName = this.newPageName;\r\n        this.newPageName = undefined;\r\n\r\n        this.context.update(() => {\r\n            this.context.redirect(pageData.props.pageId, true);\r\n        });\r\n\r\n        resolveDefaultMenu(this.context.siteData);\r\n    };\r\n\r\n    setAsHomePage = () => {\r\n        let {pageData} = this.props;\r\n        let siteData = this.context.siteData;\r\n\r\n        let home = Object.values(siteData.allPages).find(p => {return p.props.isHome});\r\n\r\n        if (home)\r\n            delete home.props.isHome;\r\n        pageData.props.isHome = true;\r\n\r\n        this.context.update();\r\n    };\r\n\r\n    render () {\r\n        let {pageData} = this.props;\r\n        return (\r\n            <div className=\"PageSettingTabPanelRoot\">\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        What's this page's name (on your menu)?\r\n                    </span>\r\n                    <input\r\n                        defaultValue={pageData.props.pageName}\r\n                        className=\"NumberInput PageManagerRenameInput PageInfoNameInput\"\r\n                        type=\"text\"\r\n                        onChange={this.onRename}\r\n                        onBlur={this.rename}\r\n                        onKeyDown={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.rename()\r\n                            }\r\n                            inputCopyPasteHandler(e)\r\n                        }}\r\n                    >\r\n                    </input>\r\n                </div>\r\n\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        <Image\r\n                            draggable={false}\r\n                            width={16}\r\n                            height={16}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/home.svg'}\r\n                            style={{\r\n                                marginTop: 2,\r\n                                marginRight: 12\r\n                            }}\r\n                        />\r\n                        {\r\n                            pageData.props.isHome &&\r\n                            \"This page is your home page\"\r\n                        }\r\n                        {\r\n                            !pageData.props.isHome &&\r\n                            \"Set this page as your home page\"\r\n                        }\r\n                        {\r\n                            !pageData.props.isHome &&\r\n                            <Button className=\"PageInfoHomePageButton\" variant=\"contained\"\r\n                                onClick={this.setAsHomePage}\r\n                            >\r\n                                Set as Home Page\r\n                            </Button>\r\n                        }\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport Radio from \"@material-ui/core/Radio/Radio\";\r\n\r\nconst AglRadio = withStyles((theme) => ({\r\n    root: {\r\n        padding: 6,\r\n        '&:hover': {\r\n            backgroundColor: 'transparent',\r\n        },\r\n    },\r\n    checked: {\r\n        color: '#137cbd',\r\n    },\r\n}))(Radio);\r\n\r\nexport default AglRadio;\r\n","import React from \"react\";\r\nimport './PageSetting.css';\r\nimport '../PageManager.css';\r\nimport Image from \"../../../Menus/CommonComponents/Image\";\r\nimport GridViewer from \"../../../Menus/CommonComponents/GridViewer\";\r\nimport RadioGroup from \"@material-ui/core/RadioGroup/RadioGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel/FormControlLabel\";\r\nimport AglRadio from \"../../../Menus/CommonComponents/AglRadio\";\r\nimport Menu from \"@material-ui/core/Menu/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem/MenuItem\";\r\nimport Checkbox from \"@material-ui/core/Checkbox/Checkbox\";\r\nimport {EditorContext} from \"../../../Editor/EditorContext\";\r\nimport {inputCopyPasteHandler} from \"../../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class Permissions extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    changePermission = (type) => (e) => {\r\n        let {pageData} = this.props;\r\n        pageData.props.pageSetting.permissions.type = type;\r\n\r\n        this.context.update();\r\n    };\r\n\r\n    onSetPassword = (e) => {\r\n        let {pageData} = this.props;\r\n        pageData.props.pageSetting.permissions.password = e.target.value;\r\n\r\n        this.context.update();\r\n    };\r\n\r\n    onChangeMemberType = (e) => {\r\n        let {pageData} = this.props;\r\n        pageData.props.pageSetting.permissions.memberType = e.target.value;\r\n\r\n        this.context.update();\r\n    };\r\n\r\n    onRoleChange = (checked, role) => {\r\n        let {pageData} = this.props;\r\n        if (checked) {\r\n            if (pageData.props.pageSetting.permissions.memberRoles.findIndex(r => r === role) < 0)\r\n                pageData.props.pageSetting.permissions.memberRoles.push(role);\r\n        } else {\r\n            if (pageData.props.pageSetting.permissions.memberRoles.findIndex(r => r === role) >= 0) {\r\n                let index = pageData.props.pageSetting.permissions.memberRoles.findIndex(r => r === role);\r\n                pageData.props.pageSetting.permissions.memberRoles.splice(index, 1);\r\n            }\r\n        }\r\n\r\n        this.context.update();\r\n    };\r\n\r\n    render () {\r\n        let {pageData} = this.props;\r\n        let siteData = this.context.siteData;\r\n        return (\r\n            <div className=\"PageSettingTabPanelRoot\">\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        Who can view this page?\r\n                    </span>\r\n\r\n                    <GridViewer>\r\n                        <div className={`PermissionsItem ${\r\n                            pageData.props.pageSetting.permissions.type === \"Everyone\" ?\r\n                                \"PermissionsItemSelected\": \"\"}`}\r\n                             onClick={this.changePermission(\"Everyone\")}\r\n                        >\r\n                            <Image\r\n                                className=\"PermissionsItemImage\"\r\n                                draggable={false}\r\n                                width={92}\r\n                                height={92}\r\n                                src={process.env.PUBLIC_URL + '/static/icon/world.svg'}\r\n                            />\r\n\r\n                            <span className=\"PermissionsItemTitle\">\r\n                                Everyone\r\n                            </span>\r\n                        </div>\r\n                        <div className={`PermissionsItem ${\r\n                            pageData.props.pageSetting.permissions.type === \"Password Holder\" ?\r\n                                \"PermissionsItemSelected\": \"\"}`}\r\n                             onClick={this.changePermission(\"Password Holder\")}\r\n                        >\r\n                            <Image\r\n                                className=\"PermissionsItemImage\"\r\n                                draggable={false}\r\n                                width={92}\r\n                                height={92}\r\n                                src={process.env.PUBLIC_URL + '/static/icon/password.svg'}\r\n                            />\r\n\r\n                            <span className=\"PermissionsItemTitle\">\r\n                                Password Holder\r\n                            </span>\r\n                        </div>\r\n                        <div className={`PermissionsItem ${\r\n                            pageData.props.pageSetting.permissions.type === \"Member Only\" ?\r\n                                \"PermissionsItemSelected\": \"\"}`}\r\n                             onClick={this.changePermission(\"Member Only\")}\r\n                        >\r\n                            <Image\r\n                                className=\"PermissionsItemImage\"\r\n                                draggable={false}\r\n                                width={92}\r\n                                height={92}\r\n                                src={process.env.PUBLIC_URL + '/static/icon/group.svg'}\r\n                            />\r\n\r\n                            <span className=\"PermissionsItemTitle\">\r\n                                Member Only\r\n                            </span>\r\n                        </div>\r\n                    </GridViewer>\r\n\r\n                    <span className=\"PermissionsDescription\">\r\n                        {\r\n                            pageData.props.pageSetting.permissions.type === \"Everyone\" &&\r\n                            \"Everyone can see this page\"\r\n                        }\r\n                        {\r\n                            pageData.props.pageSetting.permissions.type === \"Password Holder\" &&\r\n                            \"Visitors with a password can see this page\"\r\n                        }\r\n                        {\r\n                            pageData.props.pageSetting.permissions.type === \"Member Only\" &&\r\n                            \"Visitors need to sign up to see this page\"\r\n                        }\r\n                    </span>\r\n                </div>\r\n\r\n                {\r\n                    pageData.props.pageSetting.permissions.type === \"Password Holder\" &&\r\n                    <div className=\"PageInfoBox\">\r\n                        <span className=\"PageInfoBoxTitle\">\r\n                            What's the page's password?\r\n                        </span>\r\n\r\n                        <input\r\n                            defaultValue={pageData.props.pageSetting.permissions.password}\r\n                            className=\"NumberInput PageManagerRenameInput PageInfoNameInput\"\r\n                            type=\"text\"\r\n                            onChange={this.onSetPassword}\r\n                            onKeyDown={inputCopyPasteHandler}\r\n                        >\r\n                        </input>\r\n                    </div>\r\n                }\r\n\r\n                {\r\n                    pageData.props.pageSetting.permissions.type === \"Member Only\" &&\r\n                    <div className=\"PageInfoBox\">\r\n                        <span className=\"PageInfoBoxTitle\">\r\n                            Which member can access this page?\r\n                        </span>\r\n\r\n                        <RadioGroup className=\"PermissionsRadioGroup\"\r\n                                    value={pageData.props.pageSetting.permissions.memberType}\r\n                                    onChange={this.onChangeMemberType}\r\n                        >\r\n                            <FormControlLabel\r\n                                value=\"all\" control={<AglRadio color='default' />}\r\n                                label={<span className=\"PermissionsFormLabel\">\r\n                                    All members\r\n                                </span>}\r\n                            />\r\n                            <FormControlLabel\r\n                                className=\"PermissionsFormLabel\"\r\n                                value=\"role\" control={<AglRadio color='default' />}\r\n                                label={<span className=\"PermissionsFormLabel\">\r\n                                    Members with some role\r\n                                </span>}\r\n                            />\r\n                            <FormControlLabel\r\n                                disabled\r\n                                className=\"PermissionsFormLabel\"\r\n                                value=\"pay\" control={<AglRadio color='default' />}\r\n                                label={<span className=\"PermissionsFormLabel\">\r\n                                    Paying customers\r\n                                </span>}\r\n                            />\r\n                        </RadioGroup>\r\n\r\n                        {\r\n                            pageData.props.pageSetting.permissions.memberType === \"role\" &&\r\n                            <div className=\"PageInfoBox\">\r\n                                <span className=\"PageInfoBoxTitle\">\r\n                                    Select from your member roles\r\n                                </span>\r\n\r\n                                <div className=\"PermissionsRolesInput NumberInput PageManagerRenameInput\"\r\n                                    onClick={(e) => {\r\n                                        this.setState({roleAnchor: e.target})\r\n                                    }}\r\n                                >\r\n                                    {\r\n                                        pageData.props.pageSetting.permissions.memberRoles.map(role => {\r\n                                            return role;\r\n                                        }).join(\" \")\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        }\r\n\r\n                        {\r\n                            this.state.roleAnchor &&\r\n                            <Menu\r\n                                style={{\r\n                                    zIndex: 99999999999,\r\n                                }}\r\n                                anchorEl={this.state.roleAnchor}\r\n                                open={this.state.roleAnchor !== undefined}\r\n                                onClose={(e) => {\r\n                                    this.setState({roleAnchor: undefined})\r\n                                }}\r\n                                MenuListProps={{\r\n                                    style: {\r\n                                        padding: 0,\r\n                                    }\r\n                                }}\r\n                            >\r\n                                <MenuItem dense disabled style={{\r\n                                    opacity: 1\r\n                                }}>\r\n                                    <span className=\"PermissionsSelectRole\">\r\n                                        Select roles\r\n                                    </span>\r\n                                </MenuItem>\r\n\r\n                                {\r\n                                    siteData.allApps.member.setting.roles.map(role => {\r\n                                        return (\r\n                                            <MenuItem dense onClick={(e) => {\r\n                                                this.onRoleChange(!(pageData.props.pageSetting.permissions.memberRoles\r\n                                                    .findIndex(r => r === role) > -1), role);\r\n                                            }}\r\n                                                      key={role}\r\n                                                      style={{\r\n                                                          paddingTop: 0,\r\n                                                          paddingBottom: 0\r\n                                                      }}\r\n                                            >\r\n                                                <Checkbox\r\n                                                    size={'small'}\r\n                                                    checked={\r\n                                                        pageData.props.pageSetting.permissions.memberRoles\r\n                                                            .findIndex(r => r === role) > -1\r\n                                                    }\r\n                                                    onChange={(e) => {\r\n                                                        this.onRoleChange(e.target.checked, role);\r\n                                                    }}\r\n                                                    color=\"default\"\r\n                                                />\r\n                                                <span className=\"PermissionsRole\">\r\n                                                    {role}\r\n                                                </span>\r\n                                            </MenuItem>\r\n                                        )\r\n                                    })\r\n                                }\r\n\r\n                                <MenuItem dense onClick={(e) => {\r\n                                    // TODO connect to member manager\r\n                                }}\r\n                                >\r\n                                    <span className=\"PermissionsNewRole\">\r\n                                        Add New Role\r\n                                    </span>\r\n                                </MenuItem>\r\n                            </Menu>\r\n                        }\r\n\r\n                        {\r\n                            pageData.props.pageSetting.permissions.memberType === \"pay\" &&\r\n                            <div className=\"PageInfoBox\">\r\n                                <span className=\"PageInfoBoxTitle\">\r\n                                    Coming soon\r\n                                </span>\r\n\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './PageSetting.css';\r\nimport '../PageManager.css';\r\nimport Switch from \"@material-ui/core/Switch/Switch\";\r\nimport {EditorContext} from \"../../../Editor/EditorContext\";\r\nimport {inputCopyPasteHandler} from \"../../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class SeoGoogle extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    onChangeSeoSetting = (param) => (e, value) => {\r\n        let {pageData} = this.props;\r\n\r\n        value = value || e.target.value;\r\n        if (param === \"endUrl\") {\r\n            if (!this.newEndUrl)\r\n                return;\r\n\r\n            value = this.newEndUrl.replace(/\\s+/g, '').toLowerCase();\r\n            let siteData = this.context.siteData;\r\n            let same = Object.values(siteData.allPages).find(p => p.props.pageSetting.seoGoogle.endUrl === value);\r\n            if (same) {\r\n                this.setState({endUrlError: true});\r\n                delete this.newEndUrl;\r\n                return;\r\n            }\r\n\r\n            delete this.newEndUrl;\r\n        }\r\n\r\n        pageData.props.pageSetting.seoGoogle[param] = value;\r\n\r\n        this.context.update();\r\n    };\r\n\r\n    render () {\r\n        let {pageData} = this.props;\r\n        let {siteData, website} = this.context;\r\n        return (\r\n            <div className=\"PageSettingTabPanelRoot\">\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        Preview on Google search\r\n                    </span>\r\n\r\n                    <div className=\"SeoGooglePreviewRoot\">\r\n                        <span className=\"SeoGooglePreviewTitle\">\r\n                            {\r\n                                pageData.props.pageSetting.seoGoogle.pageTitle ||\r\n                                    pageData.props.pageName\r\n                            }\r\n                        </span>\r\n                        <span className=\"SeoGooglePreviewUrl\">\r\n                            {\r\n                                ((website.data && website.data.domainConfig && website.data.domainConfig.tempDomain) ?\r\n                                    website.data.domainConfig.tempDomain.targetUrl : siteData.setting.baseUrl)\r\n                                + (\r\n                                    pageData.props.pageSetting.seoGoogle.endUrl ||\r\n                                    pageData.props.pageName.toLowerCase()\r\n                                )\r\n                            }\r\n                        </span>\r\n                        <span className=\"SeoGooglePreviewDesc\">\r\n                            {\r\n                                pageData.props.pageSetting.seoGoogle.pageDescription\r\n                            }\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        What's the lat part (or slug) of url?\r\n                    </span>\r\n\r\n                    <input\r\n                        defaultValue={pageData.props.pageSetting.seoGoogle.endUrl || pageData.props.pageName.toLowerCase()}\r\n                        className={`PageSettingInput PageManagerRenameInput PageInfoNameInput ${\r\n                            this.state.endUrlError? 'PageInfoNameInputError': \"\"\r\n                        }`}\r\n                        type=\"text\"\r\n                        onChange={(e) => {\r\n                            this.newEndUrl = e.target.value;\r\n                            this.setState({endUrlError: undefined});\r\n                        }}\r\n                        onBlur={this.onChangeSeoSetting(\"endUrl\")}\r\n                        onKeyDown={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.onChangeSeoSetting(\"endUrl\")(e);\r\n                            }\r\n                            inputCopyPasteHandler(e)\r\n                        }}\r\n                    >\r\n                    </input>\r\n                </div>\r\n\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        What's the page's title on search results and browser tabs?\r\n                    </span>\r\n\r\n                    <input\r\n                        defaultValue={pageData.props.pageSetting.seoGoogle.pageTitle || pageData.props.pageName}\r\n                        className=\"PageSettingInput PageManagerRenameInput PageInfoNameInput\"\r\n                        type=\"text\"\r\n                        onChange={(e) => {\r\n                            this.newPageTitle = e.target.value;\r\n                        }}\r\n                        onBlur={(e) => {\r\n                            this.onChangeSeoSetting(\"pageTitle\")(e, this.newPageTitle);\r\n                        }}\r\n                        onKeyDown={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.onChangeSeoSetting(\"pageTitle\")(e, this.newPageTitle);\r\n                            }\r\n                            inputCopyPasteHandler(e)\r\n                        }}\r\n                    >\r\n                    </input>\r\n                </div>\r\n\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        What's the page about? Add a description\r\n                    </span>\r\n\r\n                    <textarea\r\n                        defaultValue={pageData.props.pageSetting.seoGoogle.pageDescription}\r\n                        className=\"PageSettingInput PageManagerRenameInput PageInfoNameInput\"\r\n                        style={{\r\n                            resize: \"none\",\r\n                            minHeight: 120\r\n                        }}\r\n                        onChange={(e) => {\r\n                            this.newPageDescription = e.target.value;\r\n                        }}\r\n                        onBlur={(e) => {\r\n                            this.onChangeSeoSetting(\"pageDescription\")(e, this.newPageDescription);\r\n                        }}\r\n                        onKeyDown={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.onChangeSeoSetting(\"pageDescription\")(e, this.newPageDescription);\r\n                            }\r\n                        }}\r\n                        rows={5}\r\n                    >\r\n                    </textarea>\r\n                </div>\r\n\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        Show this page in search results\r\n                    </span>\r\n\r\n                    <Switch\r\n                        className=\"SeoGoogleShowInSearch\"\r\n                        checked={\r\n                            pageData.props.pageSetting.permissions.type === \"Everyone\" ?\r\n                            pageData.props.pageSetting.seoGoogle.showInSearch: false\r\n                        }\r\n                        disabled={pageData.props.pageSetting.permissions.type !== \"Everyone\"}\r\n                        onChange={(e) => {\r\n                            let checked = e.target.checked;\r\n                            this.onChangeSeoSetting('showInSearch')(e, checked);\r\n                        }}\r\n                    />\r\n                </div>\r\n\r\n                {\r\n                    pageData.props.pageSetting.permissions.type !== \"Everyone\" &&\r\n                    <div className=\"PageInfoBox\">\r\n                        <span className=\"PageInfoBoxTitle\">\r\n                            Note: You’ve made changes to who can view this page, so it won’t show in search results. Go to the Permissions tab to change this.\r\n                        </span>\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './PageSetting.css';\r\nimport '../PageManager.css';\r\nimport Image from \"../../../Menus/CommonComponents/Image\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport {EditorContext} from \"../../../Editor/EditorContext\";\r\nimport {inputCopyPasteHandler} from \"../../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class SocialShare extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n    onChangeSocialShareSetting = (param) => (e, value) => {\r\n        let {pageData} = this.props;\r\n\r\n        value = value || e.target.value;\r\n        pageData.props.pageSetting.socialShare[param] = value;\r\n\r\n        this.context.update();\r\n    };\r\n\r\n    render () {\r\n        let {pageData} = this.props;\r\n        let {siteData, website} = this.context;\r\n        return (\r\n            <div className=\"PageSettingTabPanelRoot\">\r\n                <div className=\"PageInfoBox\">\r\n                    <div className=\"SocialShareTitle\">\r\n                        What is Social Share\r\n                    </div>\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        Add the text and image that display when this page is shared on social networks like Facebook, Instagram and more.\r\n                    </span>\r\n                </div>\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        Preview on social\r\n                    </span>\r\n\r\n                    <div className=\"SocialPreviewBox\">\r\n                        <div className=\"SocialPreviewRoot\">\r\n                            <span className=\"SocialPreviewImageNoImage\">\r\n                                {\r\n                                    pageData.props.pageSetting.socialShare.imageUrl &&\r\n                                    <Image\r\n                                        className=\"SocialPreviewImage\"\r\n                                        src={pageData.props.pageSetting.socialShare.imageUrl}\r\n                                    />\r\n                                }\r\n\r\n                                <Button\r\n                                    className=\"SocialPreviewImageSelect\"\r\n                                >\r\n                                    Upload or Select an Image\r\n                                </Button>\r\n                            </span>\r\n                            <div className=\"SocialPreviewDetailBox\">\r\n                                <span className=\"SocialPreviewUrl\">\r\n                                    {\r\n                                        ((website.data && website.data.domainConfig && website.data.domainConfig.tempDomain) ?\r\n                                            website.data.domainConfig.tempDomain.targetUrl : siteData.setting.baseUrl)\r\n                                            .substring(0, siteData.setting.baseUrl.lastIndexOf('/'))\r\n                                            .replace(/(^\\w+:|^)\\/\\//, '')\r\n                                    }\r\n                                </span>\r\n                                <span className=\"SocialPreviewTitle\">\r\n                                    {\r\n                                        pageData.props.pageSetting.socialShare.title ||\r\n                                        pageData.props.pageSetting.seoGoogle.pageTitle\r\n                                    }\r\n                                </span>\r\n                                <span className=\"SocialPreviewDescription\">\r\n                                    {\r\n                                        pageData.props.pageSetting.socialShare.description ||\r\n                                        pageData.props.pageSetting.seoGoogle.pageDescription\r\n                                    }\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        What's the page's title on social networks?\r\n                    </span>\r\n\r\n                    <input\r\n                        defaultValue={pageData.props.pageSetting.socialShare.title ||\r\n                            pageData.props.pageSetting.seoGoogle.pageTitle || pageData.props.pageName}\r\n                        className=\"PageSettingInput PageManagerRenameInput PageInfoNameInput\"\r\n                        type=\"text\"\r\n                        onChange={(e) => {\r\n                            this.newTitle = e.target.value;\r\n                        }}\r\n                        onBlur={(e) => {\r\n                            this.onChangeSocialShareSetting(\"title\")(e, this.newTitle);\r\n                        }}\r\n                        onKeyDown={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.onChangeSocialShareSetting(\"title\")(e, this.newTitle);\r\n                            }\r\n                            inputCopyPasteHandler(e)\r\n                        }}\r\n                    >\r\n                    </input>\r\n                </div>\r\n\r\n                <div className=\"PageInfoBox\">\r\n                    <span className=\"PageInfoBoxTitle\">\r\n                        What's the page about? Add a description\r\n                    </span>\r\n\r\n                    <textarea\r\n                        defaultValue={pageData.props.pageSetting.socialShare.description ||\r\n                            pageData.props.pageSetting.seoGoogle.pageDescription}\r\n                        className=\"PageSettingInput PageManagerRenameInput PageInfoNameInput\"\r\n                        style={{\r\n                            resize: \"none\",\r\n                            minHeight: 120\r\n                        }}\r\n                        onChange={(e) => {\r\n                            this.newDescription = e.target.value;\r\n                        }}\r\n                        onBlur={(e) => {\r\n                            this.onChangeSocialShareSetting(\"description\")(e, this.newDescription);\r\n                        }}\r\n                        onKeyDown={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.onChangeSocialShareSetting(\"description\")(e, this.newDescription);\r\n                            }\r\n                        }}\r\n                        rows={5}\r\n                    >\r\n                    </textarea>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './PageSetting.css';\r\nimport '../PageManager.css';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport IconButton from \"../../../HelperComponents/IconButton\";\r\nimport Tabs from \"@material-ui/core/Tabs/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab/Tab\";\r\nimport PageInfo from \"./PageInfo\";\r\nimport Permissions from \"./Permissions\";\r\nimport SeoGoogle from \"./SeoGoogle\";\r\nimport SocialShare from \"./SocialShare\";\r\n\r\nexport default class PageSetting extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            tabValue: \"Page Info\"\r\n        }\r\n    }\r\n\r\n    onChangeTab = (e, tabValue) => {\r\n        this.setState({tabValue});\r\n    };\r\n\r\n    render () {\r\n        let {pageData} = this.props;\r\n        return (\r\n            <Modal\r\n                open={this.props.open}\r\n                onClose={this.props.onClose}\r\n                aria-labelledby=\"simple-modal-title\"\r\n                aria-describedby=\"simple-modal-description\"\r\n                className=\"PageSettingModal\"\r\n                disableBackdropClick\r\n            >\r\n                <div className=\"PageSettingRoot\">\r\n                    {/*Header*/}\r\n                    <div className=\"PageSettingHeader\">\r\n                        <div\r\n                            className=\"PageManagerHeaderContainer\"\r\n                        >\r\n                            <span className=\"PageManagerHeaderTitle\">\r\n                                Page Setting ({pageData.props.pageName})\r\n                            </span>\r\n\r\n                            <IconButton\r\n                                onClick={this.props.onClose}\r\n                            >\r\n                                <img\r\n                                    draggable={false}\r\n                                    width={12}\r\n                                    height={12}\r\n                                    src={require('../../../icons/close.svg')}\r\n                                />\r\n                            </IconButton>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <Tabs\r\n                        className=\"PageSettingTabBox\"\r\n                        value={this.state.tabValue}\r\n                        indicatorColor=\"primary\"\r\n                        textColor=\"primary\"\r\n                        onChange={this.onChangeTab}\r\n                        aria-label=\"disabled tabs example\"\r\n                    >\r\n                        <Tab label=\"Page Info\" value=\"Page Info\" className=\"PageSettingTab\"/>\r\n                        <Tab label=\"Permissions\" value=\"Permissions\" className=\"PageSettingTab\"/>\r\n                        <Tab label=\"SEO (Google)\" value=\"SEO (Google)\" className=\"PageSettingTab\"/>\r\n                        <Tab label=\"Social Share\" value=\"Social Share\" className=\"PageSettingTab\"/>\r\n                        <Tab label=\"Advanced SEO\" value=\"Advanced SEO\" className=\"PageSettingTab\"/>\r\n\r\n                    </Tabs>\r\n\r\n                    {\r\n                        this.state.tabValue === \"Page Info\" &&\r\n                        <PageInfo\r\n                            pageData={pageData}\r\n                        />\r\n                    }\r\n\r\n                    {\r\n                        this.state.tabValue === \"Permissions\" &&\r\n                        <Permissions\r\n                            pageData={pageData}\r\n                        />\r\n                    }\r\n\r\n                    {\r\n                        this.state.tabValue === \"SEO (Google)\" &&\r\n                        <SeoGoogle\r\n                            pageData={pageData}\r\n                        />\r\n                    }\r\n\r\n                    {\r\n                        this.state.tabValue === \"Social Share\" &&\r\n                        <SocialShare\r\n                            pageData={pageData}\r\n                        />\r\n                    }\r\n\r\n                    {\r\n                        this.state.tabValue === \"Advanced SEO\" &&\r\n                        <div style={{\r\n                            height: \"100%\",\r\n                            display: \"flex\",\r\n                            alignItems: \"center\",\r\n                            justifyContent: \"center\",\r\n                            fontSize: 12,\r\n                            fontWeight: \"bold\"\r\n                        }}>\r\n                            Coming Soon\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </Modal>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './PageManager.css';\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport Image from \"../../Menus/CommonComponents/Image\";\r\nimport Menu from \"@material-ui/core/Menu/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem/MenuItem\";\r\nimport classNames from \"classnames\";\r\nimport {cloneObject} from \"../../AwesomeGridLayoutUtils\";\r\nimport PageSetting from \"./PageSetting/PageSetting\";\r\nimport {v4 as uuidv4} from \"uuid\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport {resolveDefaultMenu} from \"../../MenuManager/MenuManager\";\r\nimport {inputCopyPasteHandler} from \"../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class PageItem extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            pageMenuAnchorEl: undefined\r\n        };\r\n\r\n        this.renameInput = React.createRef();\r\n    }\r\n\r\n    duplicate = () => {\r\n        // TODO ask verify\r\n        let {pageData, editor} = this.props;\r\n\r\n        let newName = `${pageData.props.pageName}(Copy)`;\r\n        let newId = uuidv4();\r\n\r\n        this.context.siteData.allPages[newId] = cloneObject(pageData);\r\n        this.context.siteData.allPages[newId].props.pageName = newName;\r\n        this.context.siteData.allPages[newId].props.pageId = newId;\r\n        delete this.context.siteData.allPages[newId].props.isHome;\r\n\r\n        this.setState({pageMenuAnchorEl: undefined});\r\n        editor.setState({reload: true});\r\n    };\r\n\r\n    delete = () => {\r\n        // TODO ask verify\r\n        let {pageData, editor} = this.props;\r\n\r\n        delete this.context.siteData.allPages[pageData.props.pageId];\r\n\r\n        this.setState({pageMenuAnchorEl: undefined});\r\n\r\n        if (this.context.pageData === pageData)\r\n            editor.onPageChange(Object.keys(this.context.siteData.allPages)[0], true);\r\n\r\n        resolveDefaultMenu(this.context.siteData);\r\n\r\n        this.context.update();\r\n    };\r\n\r\n    setAsHome = () => {\r\n        let {pageData, editor} = this.props;\r\n        let home = Object.values(this.context.siteData.allPages).find(p => {return p.props.isHome});\r\n\r\n        if (home)\r\n            delete home.props.isHome;\r\n        pageData.props.isHome = true;\r\n\r\n        this.setState({pageMenuAnchorEl: undefined});\r\n        editor.setState({reload: true});\r\n    };\r\n\r\n    setting = (active) => {\r\n        this.setState({setting: active, pageMenuAnchorEl: undefined});\r\n    };\r\n\r\n    rename = (active) => {\r\n        this.setState({rename: active, pageMenuAnchorEl: undefined}, () => {\r\n            if (active)\r\n                this.renameInput.current.focus();\r\n        });\r\n\r\n        if (!active) {\r\n            let {pageData, editor} = this.props;\r\n\r\n            if (this.newPageName === pageData.props.pageName)\r\n                return;\r\n\r\n            if (!this.newPageName) {\r\n                // TODO show error\r\n                return;\r\n            }\r\n\r\n            pageData.props.pageName = this.newPageName;\r\n            this.newPageName = undefined;\r\n\r\n            console.log(\"rename page 1\");\r\n            editor.setState({reload: true}, () => {\r\n                this.context.redirect(pageData.props.pageId, true);\r\n            });\r\n        }\r\n\r\n        resolveDefaultMenu(this.context.siteData);\r\n    };\r\n\r\n    onRename = (e) => {\r\n        this.newPageName = e.target.value;\r\n    };\r\n\r\n    render () {\r\n        let {pageData, onClick, editor} = this.props;\r\n        let boxClasses = classNames(\r\n            \"PageManagerNormalPageBox\",\r\n            this.context.pageData === pageData && \"PageManagerNormalPageBoxSelected\"\r\n        );\r\n        return (\r\n            <div className={boxClasses} key={pageData.props.pageId}\r\n            >\r\n                {\r\n                    !this.state.rename &&\r\n                    <span className=\"PageManagerNormalPageTitle\">\r\n                        {pageData.props.pageName}\r\n                    </span>\r\n                }\r\n\r\n                <div className=\"PageManagerNormalPageClick\" onClick={onClick}>\r\n\r\n                </div>\r\n\r\n                {\r\n                    this.state.rename &&\r\n                    <input\r\n                        ref={this.renameInput}\r\n                        defaultValue={pageData.props.pageName}\r\n                        className=\"NumberInput PageManagerRenameInput\"\r\n                        type=\"text\"\r\n                        onChange={this.onRename}\r\n                        onBlur={(e) => this.rename(false)}\r\n                        onKeyDown={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                this.rename(false)\r\n                            }\r\n                            inputCopyPasteHandler(e)\r\n                        }}\r\n                        onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            e.preventDefault();\r\n                            // TODO\r\n                        }}\r\n                    >\r\n                    </input>\r\n                }\r\n\r\n                {\r\n                    pageData.props.isHome &&\r\n                    <IconButton\r\n                        className=\"PageManagerNormalSiteButton\"\r\n                        onClick={(e) => {\r\n                            // TODO\r\n                        }}\r\n                        disabled\r\n                    >\r\n                        <Image\r\n                            src={process.env.PUBLIC_URL + '/static/icon/home.svg'}\r\n                            width={16}\r\n                            height={16}\r\n                        />\r\n                    </IconButton>\r\n                }\r\n\r\n                <IconButton\r\n                    className=\"PageManagerNormalSiteButton\"\r\n                    onClick={(e) => {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                        this.setState({pageMenuAnchorEl: e.target})\r\n                    }}\r\n                >\r\n                    <Image\r\n                        src={process.env.PUBLIC_URL + '/static/icon/more-black.svg'}\r\n                        width={16}\r\n                        height={16}\r\n                    />\r\n                </IconButton>\r\n\r\n                {\r\n                    this.state.pageMenuAnchorEl &&\r\n                    <Menu\r\n                        style={{\r\n                            zIndex: 99999999999\r\n                        }}\r\n                        anchorEl={this.state.pageMenuAnchorEl}\r\n                        open={this.state.pageMenuAnchorEl !== undefined}\r\n                        onClose={(e) => {\r\n                            e.stopPropagation();\r\n                            e.preventDefault();\r\n                            this.setState({pageMenuAnchorEl: undefined});\r\n                        }}\r\n                        MenuListProps={{\r\n                            style: {\r\n                                padding: 0,\r\n                            }\r\n                        }}\r\n                    >\r\n                        <MenuItem dense onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            e.preventDefault();\r\n                            this.setting(true);\r\n                        }}\r\n                        >\r\n                            Setting\r\n                        </MenuItem>\r\n                        <MenuItem dense onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            e.preventDefault();\r\n                            this.rename(true)\r\n                        }}>\r\n                            Rename\r\n                        </MenuItem>\r\n                        <MenuItem dense onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            e.preventDefault();\r\n                            this.duplicate(true)\r\n                        }}\r\n                        >\r\n                            Duplicate\r\n                        </MenuItem>\r\n                        {\r\n                            !pageData.props.isHome &&\r\n                            <MenuItem dense onClick={(e) => {\r\n                                e.stopPropagation();\r\n                                e.preventDefault();\r\n                                this.delete()\r\n                            }}\r\n                            >\r\n                                Delete\r\n                            </MenuItem>\r\n                        }\r\n                        {\r\n                            !pageData.props.isHome && !pageData.props.isDynamic &&\r\n                            <MenuItem dense onClick={(e) => {\r\n                                e.stopPropagation();\r\n                                e.preventDefault();\r\n                                this.setAsHome()\r\n                            }}\r\n                            >\r\n                                Set as Home Page\r\n                            </MenuItem>\r\n                        }\r\n                        <MenuItem dense onClick={(e) => {\r\n                            e.stopPropagation();\r\n                            e.preventDefault();\r\n                            this.setState({pageMenuAnchorEl: undefined});\r\n                            onClick();\r\n                        }} >\r\n                            Edit Page\r\n                        </MenuItem>\r\n                    </Menu>\r\n                }\r\n\r\n                {\r\n                    this.state.setting &&\r\n                    <PageSetting\r\n                        open={this.state.setting !== undefined}\r\n                        onClose={() => this.setState({setting: undefined})}\r\n                        pageData={pageData}\r\n                        editor={editor}\r\n                    />\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './AddNewPageDialogItem.css';\r\n\r\nexport default class AddNewPageDialogItem extends React.Component {\r\n    render () {\r\n        return (\r\n            <div className=\"AddNewPageDialogItemRoot\">\r\n                <span className=\"AddNewPageDialogItemTitle\">\r\n                    {this.props.title}\r\n                </span>\r\n\r\n                <span className=\"AddNewPageDialogItemDesc\">\r\n                    {this.props.description}\r\n                </span>\r\n\r\n                <span className=\"AddNewPageDialogItemAdd\">\r\n                    Add\r\n                </span>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './PageManager.css';\r\nimport Menu from \"@material-ui/core/Menu/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem/MenuItem\";\r\nimport AddNewPageDialogItem from \"./AddNewPageDialogItem\";\r\n\r\nexport default class AddNewPageDialog extends React.Component {\r\n    addNormalPage = () => {\r\n        this.props.onClose();\r\n        this.props.onAddNormalPage();\r\n    };\r\n\r\n    addDynamicPage = () => {\r\n        this.props.onClose();\r\n        this.props.onAddDynamicPage();\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <Menu\r\n                style={{\r\n                    zIndex: 99999999999,\r\n                }}\r\n                anchorEl={this.props.anchorEl}\r\n                open={this.props.open}\r\n                onClose={(e) => {\r\n                    this.props.onClose();\r\n                }}\r\n                MenuListProps={{\r\n                    style: {\r\n                        padding: 0,\r\n                    }\r\n                }}\r\n            >\r\n                <MenuItem dense onClick={(e) => {\r\n                    this.addNormalPage();\r\n                }}\r\n                >\r\n                    <AddNewPageDialogItem\r\n                        title={\"Page\"}\r\n                        description={\"Add a standard blank page\"}\r\n                    />\r\n                </MenuItem>\r\n                <MenuItem dense onClick={(e) => {\r\n                    this.addDynamicPage();\r\n                }}>\r\n                    <AddNewPageDialogItem\r\n                        title={\"Dynamic Page\"}\r\n                        description={\"Design once and generate a lot of different page\"}\r\n                    />\r\n                </MenuItem>\r\n            </Menu>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './PageManager.css';\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport Image from \"../../Menus/CommonComponents/Image\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\nimport PageTypeTitle from \"./PageTypeTitle\";\r\nimport PageItem from \"./PageItem\";\r\nimport AddNewPageDialog from \"./AddNewPageDialog\";\r\nimport {v4 as uuidv4} from \"uuid\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport {resolveDefaultMenu} from \"../../MenuManager/MenuManager\";\r\nimport {inputCopyPasteHandler} from \"../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class PageManager extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            percent: props.open ? 100 : 0,\r\n            openNormalPage: true,\r\n            openDynamicPage: false\r\n        };\r\n\r\n        this.opening = false;\r\n        this.closing = false;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n\r\n\r\n    open = () => {\r\n        this.opening = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.setState({ open: true});\r\n        this.openInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.openInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent += (this.props.speed * this.props.interval / 1000);\r\n            if (percent >= 100) {\r\n                this.opening = false;\r\n                clearInterval(this.openInterval);\r\n            }\r\n            percent = Math.min(100, percent);\r\n            this.setState({percent});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    close = (force) => {\r\n        this.closing = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.setState({ open: false});\r\n        if (force) {\r\n            this.setState({percent: 0});\r\n            return;\r\n        }\r\n        this.closeInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.closeInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent -= (this.props.speed * this.props.interval / 1000);\r\n            if (percent <= 0) {\r\n                this.closing = false;\r\n                clearInterval(this.closeInterval);\r\n            }\r\n            percent = Math.max(0, percent);\r\n            this.setState({percent});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    toggle = (force) => {\r\n        let toggleState = !this.state.open;\r\n        this.state.open ? this.close(force) : this.open();\r\n\r\n        return toggleState;\r\n    };\r\n\r\n    onChangeSearch = (e) => {\r\n        let searchValue = e.target.value;\r\n        this.setState({searchValue});\r\n    };\r\n\r\n    getFilteredPages = () => {\r\n        let {siteData} = this.context;\r\n        return Object.keys(siteData.allPages).filter(siteId => {\r\n            if (!this.state.searchValue)\r\n                return true;\r\n\r\n            let pageData = siteData.allPages[siteId];\r\n\r\n            return pageData.props.pageName.toLowerCase().includes(this.state.searchValue.toLowerCase());\r\n        }).map(siteId => {\r\n            return siteData.allPages[siteId];\r\n        });\r\n    };\r\n\r\n    onPageClick = (pageData) => {\r\n        // this.context.setPageData(pageData.props.pageId);\r\n        this.context.editor.onPageChange(pageData.props.pageId);\r\n    };\r\n\r\n    onAddNormalPage = () => {\r\n        let {siteData} = this.context;\r\n\r\n        if (!this.props.newPageDataUrl) {\r\n            fetch('/static/json/newPageData.json')\r\n                .then((r) => r.json())\r\n                .then((pageData) =>{\r\n                    let newName = \"New Page\";\r\n                    let newId = uuidv4();\r\n\r\n                    pageData.props.pageName = newName;\r\n                    pageData.props.pageId = newId;\r\n\r\n                    siteData.allPages[newId] = pageData;\r\n\r\n                    resolveDefaultMenu(siteData);\r\n\r\n                    this.onPageClick(siteData.allPages[newId]);\r\n                });\r\n            // return;\r\n        }\r\n    };\r\n\r\n    onAddDynamicPage = (data) => {\r\n        // TODO\r\n    };\r\n\r\n    render() {\r\n        let {siteData} = this.context;\r\n\r\n        if (!siteData)\r\n            return null;\r\n\r\n        return (\r\n            <>\r\n                <div\r\n                    className=\"PageManagerRoot\"\r\n                    style={{\r\n                        left: `${this.state.percent - 100}%`,\r\n                        opacity: this.state.percent / 100\r\n                    }}\r\n                    onContextMenu={(e) => {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }}\r\n                >\r\n                    {/*Header*/}\r\n                    <div className=\"PageManagerHeader\">\r\n                        <div\r\n                            className=\"PageManagerHeaderContainer\"\r\n                        >\r\n                            <span className=\"PageManagerHeaderTitle\">\r\n                                Site Pages\r\n                            </span>\r\n\r\n                            <IconButton\r\n                                onClick={() => {\r\n                                    this.context.toggleRightMenu(\"pageManager\", false);\r\n                                }}\r\n                            >\r\n                                <img\r\n                                    draggable={false}\r\n                                    width={12}\r\n                                    height={12}\r\n                                    src={require('../../icons/close.svg')}\r\n                                />\r\n                            </IconButton>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/*Search box*/}\r\n                    <div className=\"PageManagerSearchBox\">\r\n                        <input\r\n                            className=\"NumberInput PageManagerSearchInput\"\r\n                            type=\"text\"\r\n                            onChange={this.onChangeSearch}\r\n                            onKeyDown={inputCopyPasteHandler}\r\n                        >\r\n                        </input>\r\n\r\n                        <Image\r\n                            className=\"PageManagerSearchImage\"\r\n                            src={process.env.PUBLIC_URL + '/static/icon/search.svg'}\r\n                        />\r\n                    </div>\r\n\r\n                    {/*Sites list*/}\r\n\r\n                    <PageTypeTitle\r\n                        defaultOpen={this.state.openNormalPage}\r\n                        title=\"Main Pages\" onChange={(openNormalPage) => {\r\n                        this.setState({openNormalPage});\r\n                    }}/>\r\n\r\n                    <div className=\"PageManagerNormalPageList\">\r\n                        {\r\n                            this.state.openNormalPage &&\r\n                            this.getFilteredPages().map(pageData => {\r\n                                return (\r\n                                    <PageItem\r\n                                        key={pageData.props.pageId}\r\n                                        pageData={pageData}\r\n                                        onClick={(e) => {\r\n                                            this.onPageClick(pageData);\r\n                                        }}\r\n                                        editor={this.props.editor}\r\n                                    />\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n\r\n\r\n                    <ButtonBase className=\"PageManagerAddPageButton\"\r\n                        onClick={(e) => {\r\n                            this.setState({showAddPage: e.target})\r\n                        }}\r\n                    >\r\n                        Add New Page\r\n                    </ButtonBase>\r\n\r\n                    {\r\n                        this.state.showAddPage &&\r\n                        <AddNewPageDialog\r\n                            anchorEl={this.state.showAddPage}\r\n                            open={this.state.showAddPage !== undefined}\r\n                            onClose={(e) => {\r\n                                this.setState({showAddPage: undefined})\r\n                            }}\r\n                            onAddDynamicPage={this.onAddDynamicPage}\r\n                            onAddNormalPage={this.onAddNormalPage}\r\n                        />\r\n                    }\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nPageManager.defaultProps = {\r\n    open: false,\r\n    speed: 800,\r\n    interval: 5\r\n};\r\n","import React from \"react\";\r\nimport './ThemeManager.css';\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport Image from \"../../Menus/CommonComponents/Image\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class ThemeTextItem extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n    onEditClick = (e) => {\r\n\r\n    };\r\n\r\n    render() {\r\n        let {item} = this.props;\r\n        let {siteData} = this.context;\r\n        if (!siteData)\r\n            return null;\r\n\r\n        return (\r\n            <div className=\"ThemeTextItemRoot\">\r\n                <span className=\"ThemeTextItemName\">\r\n                    {item.name}\r\n                </span>\r\n                <span className=\"ThemeTextItemDetail\">\r\n                    {item.font}, {item.fontSize}px\r\n                </span>\r\n                <span style={{\r\n                    fontFamily: `${item.font} Arial`,\r\n                    fontWeight: item.fontWeight,\r\n                    fontStyle: item.fontStyle,\r\n                    fontSize: Math.min(item.fontSize, 40),\r\n                    color: item.color,\r\n                    lineHeight: '1.4em'\r\n                }}>\r\n                    For Bold Creators\r\n                </span>\r\n\r\n                <IconButton\r\n                    className=\"ThemeTextItemEdit\"\r\n                    onClick={this.onEditClick}\r\n                >\r\n                    <img\r\n                        draggable={false}\r\n                        width={16}\r\n                        height={16}\r\n                        src={process.env.PUBLIC_URL + '/static/icon/edit.svg'}\r\n                    />\r\n                </IconButton>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './ThemeManager.css';\r\nimport Image from \"../../Menus/CommonComponents/Image\";\r\nimport {getColorScheme} from \"../../AwesomwGridLayoutHelper\";\r\nimport HexColorPicker from \"./HexColorPicker\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class ThemeColorsItem extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n    onEditClick = (paletteName, key, color) => (e) => {\r\n        this.setState({\r\n            toChange: {\r\n                paletteName, key, color\r\n            }\r\n        })\r\n    };\r\n\r\n    onChangeColor = (color) => {\r\n        let {editor} = this.props;\r\n        let {siteData} = this.context;\r\n        let {toChange} = this.state;\r\n        siteData.theme.Colors.items[toChange.paletteName][toChange.key] = color;\r\n\r\n        if (toChange.key === \"main\") {\r\n            siteData.theme.Colors.calculated = false;\r\n            this.context.calculateTheme(true);\r\n        }\r\n\r\n        toChange.color = color;\r\n        this.setState({toChange});\r\n        this.context.update();\r\n        // editor.setState({reload: true});\r\n    };\r\n\r\n    render() {\r\n        let {item} = this.props;\r\n        let {siteData} = this.context;\r\n        if (!siteData)\r\n            return null;\r\n\r\n        return (\r\n            <div className=\"ThemeColorsItemRoot\">\r\n                <span className=\"ThemeTextItemName\">\r\n                    {item.name}\r\n                </span>\r\n\r\n                <div className=\"ThemeColorsItemDetail\">\r\n                    <div className=\"ThemeColorsItemDetailMain\" style={{\r\n                            backgroundColor: getColorScheme(item.main)[\"3\"]\r\n                        }}\r\n                        onClick={this.onEditClick(item.name, \"main\", getColorScheme(item.main)[\"3\"])}\r\n                    >\r\n\r\n                        <Image\r\n                            className=\"ThemeColorsItemDetailOverlay\"\r\n                            style={{opacity: 1}}\r\n                            src={process.env.PUBLIC_URL + 'static/icon/edit-white.svg'}\r\n                            width={18}\r\n                            height={18}\r\n                        />\r\n                    </div>\r\n                    <div className=\"ThemeColorsItemDetailSecondary\">\r\n                        <div className=\"ThemeColorsItemDetailSecondaryItem\" style={{\r\n                            backgroundColor: item[\"1\"] || getColorScheme(item.main)[\"1\"],\r\n                            borderTopRightRadius: 4,\r\n                            borderBottomRightRadius: 4\r\n                        }}\r\n                             onClick={this.onEditClick(item.name, \"1\", item[\"1\"] || getColorScheme(item.main)[\"1\"])}\r\n                        >\r\n\r\n                            <Image\r\n                                className=\"ThemeColorsItemDetailOverlay\"\r\n                                src={process.env.PUBLIC_URL + 'static/icon/edit-white.svg'}\r\n                                width={18}\r\n                                height={18}\r\n                            />\r\n                        </div>\r\n                        <div className=\"ThemeColorsItemDetailSecondaryItem\" style={{\r\n                            backgroundColor: item[\"2\"] || getColorScheme(item.main)[\"2\"]\r\n                        }}\r\n                             onClick={this.onEditClick(item.name, \"2\", item[\"2\"] || getColorScheme(item.main)[\"2\"])}\r\n                        >\r\n\r\n                            <Image\r\n                                className=\"ThemeColorsItemDetailOverlay\"\r\n                                src={process.env.PUBLIC_URL + '/static/icon/edit-white.svg'}\r\n                                width={18}\r\n                                height={18}\r\n                            />\r\n                        </div>\r\n                        <div className=\"ThemeColorsItemDetailSecondaryItem\" style={{\r\n                            backgroundColor: item[\"3\"] || getColorScheme(item.main)[\"3\"]\r\n                        }}\r\n                             onClick={this.onEditClick(item.name, \"3\", item[\"3\"] || getColorScheme(item.main)[\"3\"])}\r\n                        >\r\n\r\n                            <Image\r\n                                className=\"ThemeColorsItemDetailOverlay\"\r\n                                src={process.env.PUBLIC_URL + '/static/icon/edit.svg'}\r\n                                width={18}\r\n                                height={18}\r\n                            />\r\n                        </div>\r\n                        <div className=\"ThemeColorsItemDetailSecondaryItem\" style={{\r\n                            backgroundColor: item[\"4\"] || getColorScheme(item.main)[\"4\"]\r\n                        }}\r\n                             onClick={this.onEditClick(item.name, \"4\", item[\"4\"] || getColorScheme(item.main)[\"4\"])}\r\n                        >\r\n\r\n                            <Image\r\n                                className=\"ThemeColorsItemDetailOverlay\"\r\n                                src={process.env.PUBLIC_URL + '/static/icon/edit.svg'}\r\n                                width={18}\r\n                                height={18}\r\n                            />\r\n                        </div>\r\n                        <div className=\"ThemeColorsItemDetailSecondaryItem\" style={{\r\n                            backgroundColor: item[\"5\"] || getColorScheme(item.main)[\"5\"],\r\n                            borderTopLeftRadius: 4,\r\n                            borderBottomLeftRadius: 4\r\n                        }}\r\n                             onClick={this.onEditClick(item.name, \"5\", item[\"5\"] || getColorScheme(item.main)[\"5\"])}\r\n                        >\r\n\r\n                            <Image\r\n                                className=\"ThemeColorsItemDetailOverlay\"\r\n                                src={process.env.PUBLIC_URL + '/static/icon/edit.svg'}\r\n                                width={18}\r\n                                height={18}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {\r\n                    this.state.toChange &&\r\n                    <HexColorPicker\r\n                        onClose={() => this.setState({toChange: undefined})}\r\n                        color={this.state.toChange.color}\r\n                        onChangeComplete={ this.onChangeColor }\r\n                        disableAlpha\r\n                        width={224}\r\n                    />\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './ThemeManager.css';\r\nimport {sortBy} from \"../../AwesomwGridLayoutHelper\";\r\nimport ThemeTextItem from \"./ThemeTextItem\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport ThemeColorsItem from \"./ThemeColorsItem\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\n\r\nexport default class ThemeManager extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            percent: props.open ? 100 : 0,\r\n            // category: sortBy(Object.values(props.siteData.theme), \"order\")[0],\r\n        };\r\n\r\n        this.opening = false;\r\n        this.closing = false;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n        this.setState({\r\n            category: sortBy(Object.values(this.context.siteData.theme), \"order\")[0],\r\n        })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n    open = () => {\r\n        this.opening = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.setState({ open: true});\r\n        this.openInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.openInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent += (this.props.speed * this.props.interval / 1000);\r\n            if (percent >= 100) {\r\n                this.opening = false;\r\n                clearInterval(this.openInterval);\r\n            }\r\n            percent = Math.min(100, percent);\r\n            this.setState({percent});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    close = (force) => {\r\n        this.closing = true;\r\n        clearInterval(this.closeInterval);\r\n        clearInterval(this.openInterval);\r\n        this.setState({ open: false});\r\n        if (force) {\r\n            this.setState({percent: 0});\r\n            return;\r\n        }\r\n        this.closeInterval = setInterval(() => {\r\n            if (!this.mounted) {\r\n                clearInterval(this.closeInterval);\r\n                return;\r\n            }\r\n            let percent = this.state.percent -= (this.props.speed * this.props.interval / 1000);\r\n            if (percent <= 0) {\r\n                this.closing = false;\r\n                clearInterval(this.closeInterval);\r\n            }\r\n            percent = Math.max(0, percent);\r\n            this.setState({percent});\r\n        }, this.props.interval);\r\n    };\r\n\r\n    toggle = (force) => {\r\n        let toggleState = !this.state.open;\r\n        this.state.open ? this.close(force) : this.open();\r\n\r\n        return toggleState;\r\n    };\r\n\r\n    setCategory = (category) => (e) => {\r\n        if (category !== this.state.category)\r\n            this.setState({category});\r\n    };\r\n\r\n    getColor = (paletteName, key) => {\r\n        let {siteData} = this.context;\r\n\r\n        let theme = siteData.theme;\r\n\r\n        this.context.calculateTheme(false);\r\n\r\n        return theme.Colors.items[paletteName][key];\r\n    };\r\n\r\n    render() {\r\n        let {editor} = this.props;\r\n        let {siteData, pageData} = this.context;\r\n        if (!siteData)\r\n            return null;\r\n\r\n        return (\r\n            <>\r\n                <div\r\n                    className=\"ThemeManagerRoot\"\r\n                    style={{\r\n                        left: `${this.state.percent - 100}%`,\r\n                        opacity: this.state.percent / 100\r\n                    }}\r\n                    onContextMenu={(e) => {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }}\r\n                >\r\n                    <div\r\n                        className=\"ThemeManagerList\"\r\n                    >\r\n                        {\r\n                            sortBy(Object.values(siteData.theme), \"order\").map(category => {\r\n                                let style = {};\r\n                                if (category === this.state.category)\r\n                                    style.backgroundColor = \"#e5ffff\";\r\n                                return (\r\n                                    <div\r\n                                        key={category.name}\r\n                                        className=\"ThemeManagerCategoryItem\"\r\n                                        onClick={this.setCategory(category)}\r\n                                        style={style}\r\n                                    >\r\n                                        {category.name}\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n\r\n                    {\r\n                        this.state.category &&\r\n                        <div className=\"ThemeManagerItemRoot\">\r\n                            {/*Header*/}\r\n                            <div\r\n                                className=\"ThemeManagerItemHeaderContainer\"\r\n                            >\r\n                            <span className=\"ThemeManagerItemHeaderTitle\">\r\n                                Theme\r\n                            </span>\r\n\r\n                                <IconButton\r\n                                    onClick={() => {\r\n                                        this.context.toggleRightMenu(\"themeManager\", false);\r\n                                    }}\r\n                                >\r\n                                    <img\r\n                                        draggable={false}\r\n                                        width={12}\r\n                                        height={12}\r\n                                        src={require('../../icons/close.svg')}\r\n                                    />\r\n                                </IconButton>\r\n                            </div>\r\n\r\n                            <div className=\"ThemeManagerItemScroll\">\r\n                                {\r\n                                    Object.keys(this.state.category.items).map(key => {\r\n                                        if (this.state.category.name === \"Text\") {\r\n                                            return (\r\n                                                <ThemeTextItem\r\n                                                    key={key}\r\n                                                    item={this.state.category.items[key]}\r\n                                                    editor={editor}\r\n                                                />\r\n                                            )\r\n                                        }\r\n                                        if (this.state.category.name === \"Colors\") {\r\n                                            return (\r\n                                                <ThemeColorsItem\r\n                                                    key={key}\r\n                                                    item={this.state.category.items[key]}\r\n                                                    editor={editor}\r\n                                                    // recalculateColors={this.context.calculateTheme()}\r\n                                                />\r\n                                            )\r\n                                        }\r\n                                    })\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nThemeManager.defaultProps = {\r\n    open: false,\r\n    speed: 1200,\r\n    interval: 5\r\n};\r\n","import React from \"react\";\r\nimport Menu from \"@material-ui/core/Menu/Menu\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport Paper from \"@material-ui/core/Paper/Paper\";\r\nimport {EditorContext} from \"../EditorContext\";\r\n\r\nexport default class EditorHeaderZoom extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <EditorContext.Consumer>\r\n                {editorContext => (\r\n                    <>\r\n                    <IconButton\r\n                        buttonBaseStyle={{\r\n                            marginLeft: 0,\r\n                            marginRight: 10,\r\n                            backgroundColor: this.state.zoomSetting && \"#d2fffc\",\r\n                        }}\r\n                        onClick={(e) => {\r\n                            this.setState({zoomSetting: e.currentTarget});\r\n                        }}\r\n                    >\r\n                        <img\r\n                            draggable={false}\r\n                            width={18}\r\n                            height={18}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/zoom-in.svg'}\r\n                        />\r\n\r\n                    </IconButton>\r\n\r\n                    {\r\n                        this.state.zoomSetting &&\r\n                        <Menu\r\n                            style={{\r\n                                zIndex: 99999999999,\r\n                            }}\r\n                            anchorEl={this.state.zoomSetting}\r\n                            anchorOrigin={{\r\n                                vertical: 'top',\r\n                                horizontal: 'right',\r\n                            }}\r\n                            getContentAnchorEl={null}\r\n                            anchorPosition={{ left: 0, top: 0 }}\r\n                            PaperProps={{\r\n                                style:{\r\n                                    transformOrigin: \"top right\",\r\n                                    transform: `scale(${1/editorContext.zoomScale})`\r\n                                }\r\n                            }}\r\n                            marginThreshold={0}\r\n                            transformOrigin={{\r\n                                vertical: 'top',\r\n                                horizontal: 'right',\r\n                            }}\r\n                            open={true}\r\n                            onClose={(e) => {\r\n                                e.stopPropagation();\r\n                                e.preventDefault();\r\n                                this.setState({zoomSetting: undefined});\r\n                            }}\r\n                            MenuListProps={{\r\n                                style: {\r\n                                    padding: 0,\r\n                                }\r\n                            }}\r\n                            transitionDuration={0}\r\n                        >\r\n                            <Paper style={{\r\n                                padding: 10,\r\n                                display: \"flex\",\r\n                                alignItems: \"center\"\r\n                            }}>\r\n                                <IconButton\r\n                                    buttonBaseStyle={{\r\n                                        marginLeft: 0,\r\n                                        marginRight: 10,\r\n                                        pointerEvents: \"auto\"\r\n                                    }}\r\n                                    imageContainerStyle={{\r\n                                        padding: 10\r\n                                    }}\r\n                                    onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        e.preventDefault();\r\n                                        this.props.onZoomChange(Math.min(1.3, editorContext.zoomScale + 0.1));\r\n                                    }}\r\n                                >\r\n                                    <img\r\n                                        draggable={false}\r\n                                        width={14}\r\n                                        height={14}\r\n                                        src={process.env.PUBLIC_URL + '/static/icon/add.svg'}\r\n                                    />\r\n                                </IconButton>\r\n                                <span style={{\r\n                                    width: 70,\r\n                                    textAlign: \"center\"\r\n                                }}>\r\n                                    {(editorContext.zoomScale * 100).toFixed(0)}%\r\n                                </span>\r\n                                <IconButton\r\n                                    buttonBaseStyle={{\r\n                                        marginLeft: 10,\r\n                                        marginRight: 10,\r\n                                        pointerEvents: \"auto\"\r\n                                    }}\r\n                                    imageContainerStyle={{\r\n                                        padding: 10\r\n                                    }}\r\n                                    onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        e.preventDefault();\r\n                                        this.props.onZoomChange(Math.max(0.5 ,editorContext.zoomScale - 0.1));\r\n                                    }}\r\n                                >\r\n                                    <img\r\n                                        draggable={false}\r\n                                        width={14}\r\n                                        height={14}\r\n                                        src={process.env.PUBLIC_URL + '/static/icon/minus.svg'}\r\n                                    />\r\n                                </IconButton>\r\n                                <Button className=\"EditorHeaderZoomReset\"\r\n                                    onClick={(e) => {\r\n                                        this.props.onZoomChange(1);\r\n                                    }}\r\n                                >\r\n                                    Reset\r\n                                </Button>\r\n                            </Paper>\r\n                        </Menu>\r\n                    }\r\n                    </>\r\n                )}\r\n            </EditorContext.Consumer>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport {EditorContext} from \"../EditorContext\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\nimport './EditorHeaderPageSelect.css';\r\n\r\nexport default class EditorHeaderPageSelect extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    getOptions = (editorContext) => {\r\n        let options = Object.values(editorContext.siteData.allPages).map(pageData => {\r\n            return pageData.props.pageName;\r\n        });\r\n\r\n        !editorContext.preview && options.push(\r\n            <div\r\n                className=\"EditorHeaderPageSelectPageManagerButton\"\r\n                onClick={() => {\r\n                    editorContext.toggleRightMenu(\"pageManager\", true);\r\n                }}\r\n            >\r\n                Page Manager\r\n            </div>\r\n        );\r\n\r\n        return options;\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <EditorContext.Consumer>\r\n                {editorContext => (\r\n                    <div\r\n                        {...this.props}\r\n                    >\r\n                        <DropDown\r\n                            options={editorContext.siteData ? this.getOptions(editorContext) : [\"...\"]}\r\n                            onChange={(v) => {\r\n                                let pageData = Object.values(editorContext.siteData.allPages).find(pd => {\r\n                                    return pd.props.pageName === v;\r\n                                });\r\n\r\n                                if (pageData)\r\n                                    editorContext.editor.onPageChange(pageData.props.pageId);\r\n                                // editorContext.setPageData(pageData.props.pageId);\r\n                            }}\r\n                            value={editorContext.pageData ? editorContext.pageData.props.pageName : \"...\"}\r\n                            spanStyle={{\r\n                                width: 200,\r\n                                fontSize: 14,\r\n                                border: \"0px solid #cfcfcf\",\r\n                            }}\r\n                        />\r\n                    </div>\r\n                )}\r\n            </EditorContext.Consumer>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './CommonMenu.css';\r\nimport {inputCopyPasteHandler} from \"../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class NumberInputEnterToChange extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {};\r\n    }\r\n\r\n    inputFilter = (value, oldValue) => {\r\n        if (/^\\d+$/.test(value)) {\r\n            value = parseFloat(value).toFixed(0);\r\n            value = Math.min(this.props.max, value);\r\n            value = Math.max(this.props.min, value);\r\n            return value;\r\n        } else if (value === \"\") {\r\n            return \"0\";\r\n        }\r\n\r\n        return oldValue;\r\n    };\r\n\r\n    onChange = (e) => {\r\n        if (this.props.lazy)\r\n            return;\r\n\r\n        let value = this.inputFilter(this.state.tempValue, this.props.value);\r\n        this.props.onChange(value);\r\n        this.setState({tempValue: undefined});\r\n    };\r\n\r\n    onTempChange = (e) => {\r\n        let tempValue = e.target.value;\r\n        this.setState({tempValue});\r\n\r\n        if (this.props.lazy)\r\n            this.props.onChange(tempValue);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <input\r\n                className={\"NumberInput \" + this.props.className || \"\"}\r\n                value={this.state.tempValue || this.props.value || 0}\r\n                onChange={this.onTempChange}\r\n                onBlur={this.onChange}\r\n                onKeyDown={(e) => {\r\n                    if((e.keyCode || e.which) === 13) {\r\n                        this.onChange();\r\n                        if (this.props.onKeyDown)\r\n                            this.props.onKeyDown();\r\n                    }\r\n                    inputCopyPasteHandler(e)\r\n                }}\r\n                type=\"text\"\r\n                style={this.props.inputStyle}\r\n                ref={this.props.inputRef}\r\n            />\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\n\r\nexport const getBreakpointIcon = (bpData) => {\r\n    if (bpData.start >= 1255)\r\n        return <img draggable={false} width={24} height={24} src={process.env.PUBLIC_URL + '/static/icon/computer.svg'} />\r\n    if (bpData.start >= 1001)\r\n        return <img draggable={false} width={24} height={24} src={process.env.PUBLIC_URL + '/static/icon/laptop.svg'} />\r\n    if (bpData.start >= 751)\r\n        return <img draggable={false} width={18} height={18} src={process.env.PUBLIC_URL + '/static/icon/ipad.svg'} />\r\n\r\n    return <img draggable={false} width={16} height={16} src={process.env.PUBLIC_URL + '/static/icon/phone.svg'} />\r\n};\r\n\r\nexport const getBreakpointName = (bpData) => {\r\n    if (bpData.start >= 1255)\r\n        return 'Desktop'\r\n    if (bpData.start >= 1001)\r\n        return 'Laptop'\r\n    if (bpData.start >= 751)\r\n        return 'Tablet'\r\n\r\n    return 'Mobile'\r\n};\r\n\r\nexport const getCommonDevices = () => {\r\n    return [\r\n        {\r\n            name: \"Galaxy S7\",\r\n            start: 360\r\n        },\r\n        {\r\n            name: \"Galaxy S8/S9\",\r\n            start: 360\r\n        },\r\n        {\r\n            name: \"iPad\",\r\n            start: 768\r\n        },\r\n        {\r\n            name: \"iPad Pro\",\r\n            start: 1024\r\n        },\r\n        {\r\n            name: \"iPhone 6/7/8\",\r\n            start: 375\r\n        },\r\n        {\r\n            name: \"iPhone 6/7/8 Plus\",\r\n            start: 414\r\n        },\r\n        {\r\n            name: \"iPhone X\",\r\n            start: 375\r\n        },\r\n        {\r\n            name: \"Pixel 2\",\r\n            start: 411\r\n        },\r\n        {\r\n            name: \"Pixel 2 XL\",\r\n            start: 411\r\n        }\r\n    ];\r\n};\r\n","import React from \"react\";\r\nimport './EditorHeaderBreakpointsSettingItem.css';\r\nimport {EditorContext} from \"../EditorContext\";\r\nimport {getBreakpointIcon} from \"./BreakpointHelper\";\r\nimport NumberInputEnterToChange from \"../../Menus/CommonComponents/NumberInputEnterToChange\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport {Button} from \"@material-ui/core\";\r\nimport {v4 as uuidv4} from \"uuid\";\r\n\r\nexport default class EditorHeaderBreakpointsSettingItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            editMode: props.bpData.name? false: true\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    isHighestBp = (editorContext) => {\r\n        let {bpData} = this.props;\r\n        return editorContext.editor.breakpointmanager.getHighestBpName() === bpData.name;\r\n    };\r\n\r\n    done = (editorContext) => {\r\n        let {bpData} = this.props;\r\n\r\n        if (isNaN(this.tempEnd)) {\r\n            return;\r\n        }\r\n\r\n        this.tempEnd = parseInt(this.tempEnd);\r\n\r\n        editorContext.editor.breakpointmanager.updateBreakpoint(\r\n            bpData.name, undefined, this.tempEnd\r\n        );\r\n\r\n        this.setState({editMode: false})\r\n\r\n        editorContext.update();\r\n    };\r\n\r\n    create = (editorContext) => {\r\n        if (!this.tempEnd)\r\n            this.tempEnd = editorContext.pageSize;\r\n\r\n        if (isNaN(this.tempEnd)) {\r\n            return;\r\n        }\r\n\r\n        this.tempEnd = parseInt(this.tempEnd);\r\n\r\n        let {newBpData, prevBpData} = editorContext.editor.breakpointmanager.updateBreakpoint(\r\n            uuidv4(), this.tempEnd, undefined\r\n        );\r\n\r\n        this.props.onCancel();\r\n\r\n        editorContext.onNewBpAdded(newBpData, prevBpData);\r\n    };\r\n\r\n    delete = (editorContext) => {\r\n        let {bpData} = this.props;\r\n\r\n        editorContext.editor.breakpointmanager.deleteBreakpoint(bpData.name);\r\n\r\n        editorContext.update();\r\n    }\r\n\r\n    cancelEditMode = () => {\r\n        this.setState({editMode: false});\r\n    };\r\n\r\n    render () {\r\n        let {bpData, nextBpData} = this.props;\r\n        return (\r\n            <EditorContext.Consumer>\r\n                {editorContext => (\r\n                    <div className=\"BreakpointSettingItemRoot\">\r\n                        <div className=\"BreakpointSettingItemIcon\">\r\n                            {\r\n                                getBreakpointIcon(bpData)\r\n                            }\r\n                        </div>\r\n\r\n                        {\r\n                            bpData.name &&\r\n                            <p className=\"BreakpointSettingItemStart\">\r\n                                {bpData.start} {\r\n                                    this.isHighestBp(editorContext) ? \" & Up\" : \" -\"\r\n                                }\r\n                            </p>\r\n                        }\r\n\r\n                        {\r\n                            !this.state.editMode &&\r\n                            !this.isHighestBp(editorContext) &&\r\n                            <p className=\"BreakpointSettingItemEndText\">\r\n                                {bpData.end}\r\n                            </p>\r\n                        }\r\n\r\n                        {\r\n                            this.state.editMode &&\r\n                            !this.isHighestBp(editorContext) &&\r\n                            <NumberInputEnterToChange\r\n                                className=\"BreakpointSettingItemEndInput\"\r\n                                inputStyle={{\r\n                                    marginLeft: 0\r\n                                }}\r\n                                min={bpData.name? bpData.start + 1: 320}\r\n                                max={bpData.name? nextBpData.end - 2 : 9999}\r\n                                value={bpData.end || editorContext.pageSize}\r\n                                onChange={(tempEnd) => {\r\n                                    this.tempEnd = tempEnd;\r\n                                }}\r\n                                onKeyDown={() => {\r\n                                    bpData.name?\r\n                                        this.done(editorContext):\r\n                                        this.create(editorContext);\r\n                                }}\r\n                                lazy\r\n                            />\r\n                        }\r\n\r\n                        {\r\n                            !this.isHighestBp(editorContext) &&\r\n                            <p className=\"BreakpointSettingItemPx\">\r\n                                {\"px\"}\r\n                            </p>\r\n                        }\r\n\r\n                        {\r\n                            !this.state.editMode &&\r\n                            !this.isHighestBp(editorContext) &&\r\n                            <div className=\"BreakpointSettingItemNoneEdit\">\r\n                                <IconButton\r\n                                    onClick={() => {\r\n                                        this.delete(editorContext)\r\n                                    }}\r\n                                >\r\n                                    <img\r\n                                        draggable={false}\r\n                                        width={16}\r\n                                        height={16}\r\n                                        src={process.env.PUBLIC_URL + '/static/icon/delete.svg'}\r\n                                    />\r\n                                </IconButton>\r\n                                <IconButton\r\n                                    onClick={() => {\r\n                                        this.props.onEditMode && this.props.onEditMode();\r\n                                        this.setState({editMode: true})\r\n                                        this.tempEnd = bpData.end;\r\n                                    }}\r\n                                >\r\n                                    <img\r\n                                        draggable={false}\r\n                                        width={16}\r\n                                        height={16}\r\n                                        src={process.env.PUBLIC_URL + '/static/icon/edit2.svg'}\r\n                                    />\r\n                                </IconButton>\r\n                            </div>\r\n                        }\r\n\r\n                        {\r\n                            this.state.editMode &&\r\n                            !this.isHighestBp(editorContext) &&\r\n                            <div className=\"BreakpointSettingItemEditMode\">\r\n                                {\r\n                                    bpData.name &&\r\n                                    <Button\r\n                                        variant=\"contained\"\r\n                                        className=\"BreakpointSettingItemButtons BreakpointSettingItemDone\"\r\n                                        onClick={() => {\r\n                                            this.done(editorContext);\r\n                                        }}\r\n                                    >\r\n                                        Done\r\n                                    </Button>\r\n                                }\r\n                                {\r\n                                    !bpData.name &&\r\n                                    <Button\r\n                                        variant=\"contained\"\r\n                                        className=\"BreakpointSettingItemButtons BreakpointSettingItemDone\"\r\n                                        onClick={() => {\r\n                                            this.create(editorContext);\r\n                                        }}\r\n                                    >\r\n                                        Create\r\n                                    </Button>\r\n                                }\r\n                                <Button\r\n                                    className=\"BreakpointSettingItemButtons BreakpointSettingItemCancel\"\r\n                                    onClick={() => {\r\n                                        bpData.name ?\r\n                                            this.setState({editMode: false}) :\r\n                                            this.props.onCancel();\r\n                                    }}\r\n                                >\r\n                                    Cancel\r\n                                </Button>\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                )}\r\n            </EditorContext.Consumer>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './EditorHeaderBreakpointsSetting.css';\r\nimport {EditorContext} from \"../EditorContext\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport EditorHeaderBreakpointsSettingItem from \"./EditorHeaderBreakpointsSettingItem\";\r\nimport {Button} from \"@material-ui/core\";\r\n\r\nexport default class EditorHeaderBreakpointsSetting extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    clearEditMode = () => {\r\n        Object.values(this.bpItemrRefs).forEach(bpItemRef => {\r\n            if (bpItemRef.current)\r\n                bpItemRef.current.cancelEditMode();\r\n        });\r\n    };\r\n\r\n    getBpItemRef = (name) => {\r\n        if (!this.bpItemrRefs)\r\n            this.bpItemrRefs = {};\r\n\r\n        if (!this.bpItemrRefs[name])\r\n            this.bpItemrRefs[name] = React.createRef();\r\n\r\n        return this.bpItemrRefs[name];\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <EditorContext.Consumer>\r\n                {editorContext => (\r\n                    <Menu\r\n                        style={{\r\n                            zIndex: 99999999999\r\n                        }}\r\n                        anchorEl={this.props.anchorEl}\r\n                        open={true}\r\n                        onClose={(e) => {\r\n                            this.props.onClose();\r\n                        }}\r\n                        MenuListProps={{\r\n                            style: {\r\n                                padding: 0\r\n                            }\r\n                        }}\r\n                    >\r\n                        <div className=\"BpSettingRoot\">\r\n                            {/*Header*/}\r\n                            <div className=\"BpSettingHeader\">\r\n                                <div\r\n                                    className=\"BpSettingHeaderContainer\"\r\n                                >\r\n                            <span className=\"BpSettingHeaderTitle\">\r\n                                Customize Breakpoints\r\n                            </span>\r\n\r\n                                    <IconButton\r\n                                        onClick={this.props.onClose}\r\n                                    >\r\n                                        <img\r\n                                            draggable={false}\r\n                                            width={12}\r\n                                            height={12}\r\n                                            src={process.env.PUBLIC_URL + '/static/icon/close.svg'}\r\n                                        />\r\n                                    </IconButton>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <p className=\"BpSettingGuideSpan\">\r\n                                Add, edit or delete this page's breakpoints to design for different viewport sizes.\r\n                            </p>\r\n\r\n                            {\r\n                                editorContext.editor.breakpointmanager.breakpoints.map((bpData, index) => {\r\n                                    return (\r\n                                        <EditorHeaderBreakpointsSettingItem\r\n                                            key={bpData.name}\r\n                                            bpData={bpData}\r\n                                            nextBpData={editorContext.editor.breakpointmanager.breakpoints[index - 1]}\r\n                                            onEditMode={this.clearEditMode}\r\n                                            ref={this.getBpItemRef(bpData.name)}\r\n                                        />\r\n                                    )\r\n                                })\r\n                            }\r\n\r\n                            {\r\n                                this.state.newBpData &&\r\n                                <EditorHeaderBreakpointsSettingItem\r\n                                    bpData={this.state.newBpData}\r\n                                    onCancel={() => {\r\n                                        this.setState({newBpData: undefined});\r\n                                    }}\r\n                                />\r\n                            }\r\n\r\n                            <Button\r\n                                className=\"BpSettingAddBp\"\r\n                                onClick={() => {\r\n                                    this.clearEditMode();\r\n                                    this.setState({newBpData: {}});\r\n                                }}\r\n                            >\r\n                                Add New Breakpoint\r\n                            </Button>\r\n                        </div>\r\n                    </Menu>\r\n                )}\r\n            </EditorContext.Consumer>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './EditorHeaderBreakpoints.css';\r\nimport {EditorContext} from \"../EditorContext\";\r\nimport Tabs from \"@material-ui/core/Tabs/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab/Tab\";\r\nimport NumberInputEnterToChange from \"../../Menus/CommonComponents/NumberInputEnterToChange\";\r\nimport EditorHeaderBreakpointsSetting from \"./EditorHeaderBreakpointsSetting\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport {getBreakpointIcon} from \"./BreakpointHelper\";\r\n\r\nexport default class EditorHeaderBreakpoints extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n\r\n        this.inputRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    onChangeTab = (editorContext) => (e, bpName) => {\r\n        window.requestAnimationFrame(() => {\r\n            this.setState({tabValue: bpName});\r\n\r\n            if (editorContext.editor.breakpointmanager.current() === bpName)\r\n                return;\r\n\r\n            let bpData = editorContext.editor.breakpointmanager.getBpData(bpName);\r\n\r\n            if (!bpData)\r\n                return;\r\n\r\n            let width;\r\n            if (bpData.prefer >= bpData.start && bpData.prefer <= bpData.end)\r\n                width = bpData.prefer;\r\n            else\r\n                width = bpData.start;\r\n\r\n            editorContext.editor.onPageResize(width);\r\n        })\r\n    };\r\n\r\n    getTabValue = (editorContext) => {\r\n        let width = editorContext.editor.rootLayoutRef.current.getSize(false).width;\r\n        return editorContext.editor.breakpointmanager.current(width);\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <EditorContext.Consumer>\r\n                {editorContext => (\r\n                    <div\r\n                        {...this.props}\r\n                    >\r\n                        {\r\n                            editorContext.editor && editorContext.editor.rootLayoutRef.current &&\r\n                            <Tabs\r\n                                className=\"EditorHeaderBreakpointsTabRoot\"\r\n                                value={\r\n                                    this.getTabValue(editorContext)\r\n                                }\r\n                                indicatorColor=\"primary\"\r\n                                textColor=\"primary\"\r\n                                onChange={this.onChangeTab(editorContext)}\r\n                                aria-label=\"disabled tabs example\"\r\n                            >\r\n                                {\r\n                                    editorContext.editor.breakpointmanager.breakpoints.map((bpData, index) => {\r\n                                        return (\r\n                                            <Tab\r\n                                                key={bpData.name}\r\n                                                className=\"EditorHeaderBreakpointsTab\"\r\n                                                label={getBreakpointIcon(bpData)}\r\n                                                value={bpData.name}\r\n                                            />\r\n                                        )\r\n                                    })\r\n                                }\r\n\r\n                            </Tabs>\r\n                        }\r\n\r\n                        {\r\n                            editorContext.editor && editorContext.editor.rootLayoutRef.current &&\r\n                            <IconButton\r\n                                buttonBaseStyle={{marginLeft: 10}}\r\n                                onClick={(e) => {\r\n                                    this.setState({settingAnchor: e.currentTarget});\r\n                                }}\r\n                            >\r\n                                <img\r\n                                    draggable={false}\r\n                                    width={18}\r\n                                    height={18}\r\n                                    src={process.env.PUBLIC_URL + '/static/icon/open-menu.svg'}\r\n                                />\r\n                            </IconButton>\r\n                        }\r\n\r\n                        <div style={{\r\n                            backgroundColor: \"#cfcfcf\",\r\n                            height: \"auto\",\r\n                            width: 1,\r\n                            marginLeft: 10\r\n                        }}>\r\n\r\n                        </div>\r\n\r\n                        {\r\n                            editorContext.editor && editorContext.editor.rootLayoutRef.current &&\r\n                            <>\r\n                                <span\r\n                                    style={{\r\n                                        marginLeft: 10,\r\n                                        display:\"flex\",\r\n                                        alignItems: \"center\",\r\n                                        fontSize: 12\r\n                                    }}\r\n                                >\r\n                                    Width\r\n                                </span>\r\n                                <NumberInputEnterToChange\r\n                                    inputStyle={{\r\n                                        marginLeft: 10\r\n                                    }}\r\n                                    min={editorContext.editor.breakpointmanager.getMinWidth()}\r\n                                    max={9999}\r\n                                    value={editorContext.editor.rootLayoutRef.current.getSize(false).width}\r\n                                    onChange={(width) => {\r\n                                        editorContext.editor.onPageResize(width);\r\n                                    }}\r\n                                    inputRef={this.inputRef}\r\n                                />\r\n                            </>\r\n                        }\r\n\r\n                        {\r\n                            this.state.settingAnchor &&\r\n                            <EditorHeaderBreakpointsSetting\r\n                                anchorEl={this.state.settingAnchor}\r\n                                onClose={(e) => {\r\n                                    this.setState({settingAnchor: undefined});\r\n                                }}\r\n                            />\r\n                        }\r\n                    </div>\r\n                )}\r\n            </EditorContext.Consumer>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {EditorContext} from \"../Editor/EditorContext\";\r\nimport IconButton from \"../HelperComponents/IconButton\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport './CreateMenu.css'\r\nimport {inputCopyPasteHandler} from \"../AwesomwGridLayoutHelper\";\r\n\r\nexport default class CreateMenu extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {name: \"\"};\r\n    }\r\n\r\n    rename = (e) => {\r\n        this.setState({name: e.target.value})\r\n    }\r\n\r\n    render () {\r\n        return <Modal\r\n            open={this.props.open}\r\n            onClose={this.props.onClose}\r\n            aria-labelledby=\"simple-modal-title2\"\r\n            aria-describedby=\"simple-modal-description2\"\r\n            className=\"FileManagerModal\"\r\n            disableBackdropClick\r\n            disableEnforceFocus\r\n        >\r\n            <div className=\"CreateMenuRoot\">\r\n                {/*Header*/}\r\n                <div className=\"FileManagerHeader\">\r\n                    <div\r\n                        className=\"PageManagerHeaderContainer\"\r\n                    >\r\n                            <span className=\"PageManagerHeaderTitle\">\r\n                                {this.props.title || \"New Menu\"}\r\n                            </span>\r\n\r\n                        <IconButton\r\n                            onClick={this.props.onClose}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={12}\r\n                                height={12}\r\n                                src={require('../icons/close.svg')}\r\n                            />\r\n                        </IconButton>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"CreateMenuContainer\">\r\n                    <span className=\"CreateMenuTitle\">\r\n                        {this.props.label || \"What's menu name?\"}\r\n                    </span>\r\n                    <input\r\n                        defaultValue={this.props.defaultValue}\r\n                        className=\"NumberInput PageManagerRenameInput PageInfoNameInput\"\r\n                        type=\"text\"\r\n                        onChange={this.rename}\r\n                        onKeyDown={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                if (this.state.name.length >= 3) {\r\n                                    this.props.onClose();\r\n                                    this.props.onDone(this.state.name)\r\n                                }\r\n                            }\r\n                            inputCopyPasteHandler(e)\r\n                        }}\r\n                        autoFocus\r\n                    >\r\n                    </input>\r\n\r\n                    <div>\r\n                        <Button\r\n                            className=\"CreateMenuCreate\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            disabled={this.state.name.length < 3}\r\n                            onClick={() => {\r\n                                this.props.onClose();\r\n                                this.props.onDone(this.state.name)\r\n                            }}\r\n                        >\r\n                            {this.props.confirmLabel || \"Create\"}\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport './MenuTree.css';\r\n\r\nexport default class MenuTreeOrderer extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            hover: false\r\n        }\r\n    }\r\n\r\n    onDragOver = (e) => {\r\n        this.setState({hover: true});\r\n        this.props.onDragOver(e);\r\n    }\r\n\r\n    onDragLeave = (e) => {\r\n        this.setState({hover: false});\r\n    }\r\n\r\n    render () {\r\n        let className = \"MenuTreeOrdererRoot\";\r\n        if (this.state.hover) className += \" MenuTreeOrdererRootDropOver\";\r\n        return (\r\n            <div className={className}\r\n                 onDragOver={this.onDragOver}\r\n                 onDragLeave={this.onDragLeave}\r\n                 onClick={this.onDragLeave}\r\n                 onDrop={this.props.onDrop}\r\n            >\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport './MenuTree.css';\r\nimport MenuTreeOrderer from \"./MenuTreeOrderer\";\r\n\r\nexport default class MenuTreeItem extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            hover: false\r\n        }\r\n    }\r\n\r\n    onDragOver = (e) => {\r\n        let {menuItem} = this.props;\r\n\r\n        if (menuItem.isParent)\r\n            this.setState({hover: true});\r\n\r\n        this.props.onDragOver(e, menuItem);\r\n    }\r\n\r\n    onDragLeave = (e) => {\r\n        this.setState({hover: false});\r\n    }\r\n\r\n\r\n    render () {\r\n        let {menuItem} = this.props;\r\n        let itemClassName = \"MenuTreeItem\";\r\n        if (this.state.hover) itemClassName += \" MenuTreeItemDropOver\";\r\n\r\n        let dropableProps = menuItem.isParent ? {\r\n            onDrop: (e) => {this.props.onDrop(e, menuItem)},\r\n            onDragOver: this.onDragOver,\r\n            onDragLeave: this.onDragLeave,\r\n            onClick: this.onDragLeave,\r\n        } : {};\r\n        return (\r\n            <div\r\n                className=\"MenuTreeItemRoot\"\r\n            >\r\n                <div\r\n                    draggable\r\n                    className={itemClassName}\r\n                    onDragStart={(e) => {this.props.onDragStart(e, menuItem)}}\r\n                    {...dropableProps}\r\n                >\r\n                    {this.props.renderer(menuItem)}\r\n                </div>\r\n                {\r\n                    menuItem.isParent &&\r\n                    <div\r\n                        className=\"MenuTreeItemParentRoot\"\r\n                    >\r\n                        {\r\n                            menuItem.menuItems.length > 0 &&\r\n                            <MenuTreeOrderer\r\n                                onDragOver={(e) => {this.props.onOrderOver(e, menuItem, 0)}}\r\n                                onDrop={(e) => {this.props.onOrderDrop(e, menuItem, 0)}}\r\n                            />\r\n                        }\r\n                        {\r\n                            menuItem.menuItems.map((mi, index) => {\r\n                                return (\r\n                                    <React.Fragment key={mi.id}>\r\n                                        <MenuTreeItem\r\n                                            menuItem={mi}\r\n                                            onDragStart={this.props.onDragStart}\r\n                                            onDrop={this.props.onDrop}\r\n                                            onDragOver={this.props.onDragOver}\r\n                                            renderer={this.props.renderer}\r\n                                            onOrderOver={this.props.onOrderOver}\r\n                                            onOrderDrop={this.props.onOrderDrop}\r\n                                        />\r\n                                        <MenuTreeOrderer\r\n                                            onDragOver={(e) => {this.props.onOrderOver(e, menuItem, index + 1)}}\r\n                                            onDrop={(e) => {this.props.onOrderDrop(e, menuItem, index + 1)}}\r\n                                        />\r\n                                    </React.Fragment>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport './MenuTree.css';\r\nimport MenuTreeItem from \"./MenuTreeItem\";\r\nimport MenuTreeOrderer from \"./MenuTreeOrderer\";\r\nimport {\r\n    changeMenuItemParent,\r\n    deleteMenuItem,\r\n    findParent,\r\n    getIndexInParent, renameMenuItem,\r\n    reorderMenuItem, toggleMenuItemAsParent\r\n} from \"../MenuManager\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport CreateMenu from \"../CreateMenu\";\r\n\r\nexport default class MenuTree extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {};\r\n    }\r\n\r\n    onDragStart = (e, mi) => {\r\n        this.draggingMenuItem = mi;\r\n    }\r\n\r\n    onDragOver = (e, mi) => {\r\n        if (!this.draggingMenuItem)\r\n            return;\r\n\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n\r\n        if (mi !== this.draggingMenuItem) {\r\n        }\r\n    }\r\n\r\n    onDrop = (e, mi) => {\r\n        if (!this.draggingMenuItem)\r\n            return;\r\n\r\n        let {menu} = this.props;\r\n        e.target.click();\r\n\r\n        if (mi !== this.draggingMenuItem) {\r\n\r\n            changeMenuItemParent(menu, this.draggingMenuItem, mi.id);\r\n            this.forceUpdate();\r\n        }\r\n    }\r\n\r\n    onOrderOver = (e, parentMI, order) => {\r\n        if (!this.draggingMenuItem)\r\n            return;\r\n\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n    }\r\n\r\n    onOrderDrop = (e, parentMI, order) => {\r\n        if (!this.draggingMenuItem)\r\n            return;\r\n\r\n        let {menu} = this.props;\r\n\r\n        e.target.click();\r\n\r\n        if (findParent(menu, this.draggingMenuItem.id) === parentMI) {\r\n            // this is reOrdering\r\n            if (getIndexInParent(menu, this.draggingMenuItem) < order) {\r\n                order--;\r\n            }\r\n\r\n            reorderMenuItem(menu, this.draggingMenuItem, order);\r\n            this.forceUpdate();\r\n        } else {\r\n            changeMenuItemParent(menu, this.draggingMenuItem, parentMI.id, order);\r\n            this.forceUpdate();\r\n        }\r\n    }\r\n\r\n    getTreeItemRenderer = (mi) => {\r\n        let {menu} = this.props;\r\n\r\n        return (\r\n            <div\r\n                className=\"MenuTreeItemRenderer\"\r\n            >\r\n                <div className=\"MenuTreeItemLabel\">\r\n                    {mi.name}\r\n                </div>\r\n\r\n                {\r\n                    menu.id !== \"default\" &&\r\n                        <>\r\n                            <IconButton\r\n                                onClick={(e) => {\r\n                                    deleteMenuItem(menu, mi.id);\r\n                                    this.forceUpdate();\r\n                                }}\r\n                            >\r\n                                <img\r\n                                    draggable={false}\r\n                                    width={12}\r\n                                    height={12}\r\n                                    src={require('../../icons/bin.svg')}\r\n                                />\r\n                            </IconButton>\r\n\r\n                            <IconButton\r\n                                onClick={(e) => {\r\n                                    this.setState({renameMI: mi});\r\n                                }}\r\n                            >\r\n                                <img\r\n                                    draggable={false}\r\n                                    width={12}\r\n                                    height={12}\r\n                                    src={require('../../icons/text.svg')}\r\n                                />\r\n                            </IconButton>\r\n\r\n                            <IconButton\r\n                                onClick={(e) => {\r\n                                    this.context.showLinkGenerator(mi.linkData, (linkData) => {\r\n                                        mi.linkData = linkData;\r\n                                        this.forceUpdate();\r\n                                    })\r\n                                }}\r\n                            >\r\n                                <img\r\n                                    draggable={false}\r\n                                    width={12}\r\n                                    height={12}\r\n                                    src={require('../../icons/chain.svg')}\r\n                                />\r\n                            </IconButton>\r\n\r\n                            <IconButton\r\n                                onClick={(e) => {\r\n                                    if (!mi.isParent){\r\n                                        toggleMenuItemAsParent(mi, !mi.isParent);\r\n                                        this.forceUpdate();\r\n                                        return;\r\n                                    }\r\n\r\n                                    if (mi.isParent && mi.menuItems.length === 0)\r\n                                        toggleMenuItemAsParent(mi, !mi.isParent);\r\n                                    else {\r\n                                        // TODO show error\r\n                                        // it must have no child\r\n                                    }\r\n                                    this.forceUpdate();\r\n                                }}\r\n                            >\r\n                                <img\r\n                                    draggable={false}\r\n                                    width={12}\r\n                                    height={12}\r\n                                    src={mi.isParent ? require('../../icons/parent.svg') : require('../../icons/notparent.svg')}\r\n                                />\r\n                            </IconButton>\r\n                        </>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render() {\r\n        let {menu} = this.props;\r\n        return (\r\n            <div className=\"MenuTreeRoot\">\r\n                <MenuTreeOrderer\r\n                    onDragOver={(e) => {\r\n                        this.onOrderOver(e, menu, 0)\r\n                    }}\r\n                    onDrop={(e) => {\r\n                        this.onOrderDrop(e, menu, 0)\r\n                    }}\r\n                />\r\n                {\r\n                    menu.menuItems &&\r\n                    menu.menuItems.map((mi, index) => {\r\n                        return (\r\n                            <React.Fragment key={mi.id}>\r\n                                <MenuTreeItem\r\n                                    className=\"MenuManagerMenuItemItem\"\r\n                                    menuItem={mi}\r\n                                    onDragStart={this.onDragStart}\r\n                                    onDrop={this.onDrop}\r\n                                    onDragOver={this.onDragOver}\r\n                                    renderer={(menuItem) => {\r\n                                        return this.getTreeItemRenderer(menuItem);\r\n                                    }}\r\n                                    onOrderOver={this.onOrderOver}\r\n                                    onOrderDrop={this.onOrderDrop}\r\n                                />\r\n                                <MenuTreeOrderer\r\n                                    onDragOver={(e) => {\r\n                                        this.onOrderOver(e, menu, index + 1)\r\n                                    }}\r\n                                    onDrop={(e) => {\r\n                                        this.onOrderDrop(e, menu, index + 1)\r\n                                    }}\r\n                                />\r\n                            </React.Fragment>\r\n                        )\r\n                    })\r\n                }\r\n                {\r\n                    this.state.renameMI &&\r\n                    <CreateMenu\r\n                        title={\"New Menu Item Name\"}\r\n                        label={\"What's the new name of menu item?\"}\r\n                        title={\"Change\"}\r\n                        defaultValue={this.state.renameMI.name}\r\n                        open={true}\r\n                        onClose={() => {\r\n                            this.setState({renameMI: undefined})\r\n                        }}\r\n                        onDone={(name) => {\r\n                            renameMenuItem(this.state.renameMI, name);\r\n                            this.setState({renameMI: undefined})\r\n                        }}\r\n                    />\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {EditorContext} from \"../Editor/EditorContext\";\r\nimport IconButton from \"../HelperComponents/IconButton\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport './MenuManagerUI.css';\r\nimport {addNewMenu, addNewMenuItem, deleteMenu, renameMenuItem} from \"./MenuManager\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport CreateMenu from \"./CreateMenu\";\r\nimport MenuTree from \"./MenuTree/MenuTree\";\r\n\r\nexport default class MenuManagerUI extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            selectedMenuId: props.menuId || \"default\",\r\n        };\r\n    }\r\n\r\n    render() {\r\n        let {selectedMenuId} = this.state;\r\n        let {siteData} = this.context;\r\n        let selectedMenu = siteData.menus.find(m => m.id === selectedMenuId);\r\n\r\n        return <Modal\r\n            open={this.props.open}\r\n            onClose={this.props.onClose}\r\n            aria-labelledby=\"simple-modal-title2\"\r\n            aria-describedby=\"simple-modal-description2\"\r\n            className=\"PageSettingModal\"\r\n            disableBackdropClick\r\n        >\r\n            <div className=\"MenuManagerRoot\">\r\n                {/*Header*/}\r\n                <div className=\"PageSettingHeader\">\r\n                    <div\r\n                        className=\"PageManagerHeaderContainer\"\r\n                    >\r\n                            <span className=\"PageManagerHeaderTitle\">\r\n                                Menu Manager\r\n                            </span>\r\n\r\n                        <IconButton\r\n                            onClick={this.props.onClose}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={12}\r\n                                height={12}\r\n                                src={require('../icons/close.svg')}\r\n                            />\r\n                        </IconButton>\r\n                    </div>\r\n                </div>\r\n                <div className=\"MenuManagerContentRoot\">\r\n                    <div className=\"MenuManagerContent\">\r\n                        <div className=\"MenuManagerLeft\">\r\n                            <div className=\"MenuManagerTypesTitle\">\r\n                                Website Menus\r\n                            </div>\r\n                            <div className=\"MenuManagerTypes\">\r\n                                {\r\n                                    siteData.menus.map(menu => {\r\n                                        let className = \"MenuManagerMenuListItem\";\r\n                                        if (selectedMenuId === menu.id)\r\n                                            className += \" MenuManagerMenuListItemSelected\";\r\n                                        return (\r\n                                            <div className={className}\r\n                                                 key={menu.id}\r\n                                                 onClick={(e) => {\r\n                                                     this.setState({selectedMenuId: menu.id});\r\n                                                 }}\r\n                                            >\r\n                                                <div>\r\n                                                    {menu.name}\r\n                                                </div>\r\n                                                {\r\n                                                    menu.id !== \"default\" &&\r\n                                                    <IconButton\r\n                                                        className={\"MenuManagerDeleteMenu\"}\r\n                                                        onClick={(e) => {\r\n                                                            e.preventDefault();\r\n                                                            e.stopPropagation();\r\n                                                            deleteMenu(siteData, menu.id);\r\n                                                            if (menu.id === selectedMenuId)\r\n                                                                this.setState({selectedMenuId: \"default\"});\r\n                                                            this.forceUpdate();\r\n                                                        }}\r\n                                                    >\r\n                                                        <img\r\n                                                            draggable={false}\r\n                                                            width={12}\r\n                                                            height={12}\r\n                                                            src={require('../icons/bin.svg')}\r\n                                                        />\r\n                                                    </IconButton>\r\n                                                }\r\n                                            </div>\r\n                                        )\r\n                                    })\r\n                                }\r\n                            </div>\r\n\r\n                            <Button\r\n                                className=\"MenuManagerCreate\"\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                onClick={() => {\r\n                                    this.setState({createMenu: true})\r\n                                }}\r\n                            >\r\n                                Create Menu\r\n                            </Button>\r\n                        </div>\r\n                        <div className=\"MenuManagerOptions\">\r\n                            <MenuTree\r\n                                menu={selectedMenu}\r\n                            />\r\n                            <Button\r\n                                className=\"MenuManagerCreate\"\r\n                                variant=\"contained\"\r\n                                color=\"primary\"\r\n                                onClick={() => {\r\n                                    this.setState({createMenuItem: true})\r\n                                }}\r\n                            >\r\n                                Create Menu Item\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {\r\n                    this.state.createMenu &&\r\n                    <CreateMenu\r\n                        open={true}\r\n                        onClose={() => {\r\n                            this.setState({createMenu: undefined})\r\n                        }}\r\n                        onDone={(name) => {\r\n                            addNewMenu(siteData, name);\r\n                            this.forceUpdate();\r\n                        }}\r\n                    />\r\n                }\r\n                {\r\n                    this.state.createMenuItem &&\r\n                    <CreateMenu\r\n                        title={\"New Menu Item Name\"}\r\n                        label={\"What's the new name of menu item?\"}\r\n                        title={\"Change\"}\r\n                        open={true}\r\n                        onClose={() => {\r\n                            this.setState({createMenuItem: undefined})\r\n                        }}\r\n                        onDone={(name) => {\r\n                            addNewMenuItem(selectedMenu, name);\r\n                            this.setState({createMenuItem: undefined})\r\n                        }}\r\n                    />\r\n                }\r\n            </div>\r\n        </Modal>\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './EditorBoundary.css';\r\nimport IconButton from \"../HelperComponents/IconButton\";\r\nimport EditorHeaderZoom from \"./Zoom/EditorHeaderZoom\";\r\nimport {EditorContext} from \"./EditorContext\";\r\nimport EditorHeaderPageSelect from \"./PageSelect/EditorHeaderPageSelect\";\r\nimport EditorHeaderBreakpoints from \"./Breakpoints/EditorHeaderBreakpoints\";\r\nimport MenuManagerUI from \"../MenuManager/MenuManagerUI\";\r\n\r\nexport default class EditorHeader extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            onInspectorClickState: true,\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    setRightMenuOpen = (openMenu, state) => {\r\n        let changedState = {};\r\n        [\r\n            \"onAddComponentClick\",\r\n            \"onThemeManagerClick\",\r\n            \"onPageManagerClick\"\r\n        ].forEach(name => {\r\n            if (this.state[`${name}State`] && `${name}State` !== openMenu) {\r\n                this.props[name](true);\r\n            }\r\n\r\n            changedState[`${name}State`] = false;\r\n        });\r\n        this.setState({\r\n            ...changedState,\r\n            [openMenu]: state\r\n        });\r\n    };\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"EditorHeaderRoot\" style={{\r\n                width: `${this.context.zoomScale*100}%`,\r\n            }}>\r\n                <div className=\"EditorHeaderRightShortcuts\">\r\n                    <IconButton\r\n                        buttonBaseStyle={{\r\n                            marginLeft: 0,\r\n                            backgroundColor: this.context.rightMenus.addComponent.state && \"#d2fffc\",\r\n                        }}\r\n                        onClick={(e) => {\r\n                            this.context.toggleRightMenu(\"addComponent\");\r\n                            // let onAddComponentClickState = this.props.onAddComponentClick();\r\n                            // this.setRightMenuOpen(\"onAddComponentClickState\", onAddComponentClickState);\r\n                        }}\r\n                    >\r\n                        <img\r\n                            draggable={false}\r\n                            width={18}\r\n                            height={18}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/add.svg'}\r\n                        />\r\n                    </IconButton>\r\n                    <IconButton\r\n                        buttonBaseStyle={{marginLeft: 0,\r\n                            backgroundColor: this.context.rightMenus.pageManager.state && \"#d2fffc\",\r\n                        }}\r\n                        onClick={(e) => {\r\n                            this.context.toggleRightMenu(\"pageManager\");\r\n                            // let onPageManagerClickState = this.props.onPageManagerClick();\r\n                            // this.setRightMenuOpen(\"onPageManagerClickState\", onPageManagerClickState);\r\n                        }}\r\n                    >\r\n                        <img\r\n                            draggable={false}\r\n                            width={18}\r\n                            height={18}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/page.svg'}\r\n                        />\r\n                    </IconButton>\r\n                    <IconButton\r\n                        buttonBaseStyle={{marginLeft: 0,\r\n                            backgroundColor: this.context.rightMenus.themeManager.state && \"#d2fffc\",\r\n                        }}\r\n                        onClick={(e) => {\r\n                            this.context.toggleRightMenu(\"themeManager\");\r\n                            // let onThemeManagerClickState = this.props.onThemeManagerClick();\r\n                            // this.setRightMenuOpen(\"onThemeManagerClickState\", onThemeManagerClickState);\r\n                        }}\r\n                    >\r\n                        <img\r\n                            draggable={false}\r\n                            width={18}\r\n                            height={18}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/water.svg'}\r\n                        />\r\n                    </IconButton>\r\n                    <IconButton\r\n                        buttonBaseStyle={{marginLeft: 0,\r\n                            backgroundColor: this.context.rightMenus.menuManager.state && \"#d2fffc\",\r\n                        }}\r\n                        onClick={(e) => {\r\n                            this.context.toggleRightMenu(\"menuManager\", true);\r\n\r\n                        }}\r\n                    >\r\n                        <img\r\n                            draggable={false}\r\n                            width={18}\r\n                            height={18}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/menu.svg'}\r\n                        />\r\n                    </IconButton>\r\n                </div>\r\n                <div className=\"EditorHeaderCenterShortcuts\">\r\n                    <EditorHeaderPageSelect\r\n                        className=\"EditorHeaderCenterDiv\"\r\n                        style={{\r\n                            width: 200\r\n                        }}\r\n                    />\r\n                    <EditorHeaderBreakpoints\r\n                        className=\"EditorHeaderCenterDiv EditorHeaderLastCenterDiv EditorHeaderBreakpoints\"\r\n                    />\r\n                </div>\r\n                <div className=\"EditorHeaderLeftShortcuts\">\r\n                    <IconButton\r\n                        buttonBaseStyle={{\r\n                            marginLeft: 0,\r\n                            marginRight: 10,\r\n                            backgroundColor: this.state.onInspectorClickState && \"#d2fffc\",\r\n                        }}\r\n                        onClick={(e) => {\r\n                            let onInspectorClickState = this.props.onInspectorClick(e);\r\n                            this.setState({onInspectorClickState})\r\n                        }}\r\n                    >\r\n                        <img\r\n                            draggable={false}\r\n                            width={18}\r\n                            height={18}\r\n                            src={process.env.PUBLIC_URL + '/static/icon/inspector.svg'}\r\n                        />\r\n                    </IconButton>\r\n                    <EditorHeaderZoom\r\n                        onZoomChange={(zoomScale) => {\r\n                            this.props.onPageZoomChange(zoomScale);\r\n                        }}\r\n                    />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './PreviewHeaderBreakpoints.css';\r\nimport {EditorContext} from \"../EditorContext\";\r\nimport NumberInputEnterToChange from \"../../Menus/CommonComponents/NumberInputEnterToChange\";\r\nimport {getBreakpointIcon, getBreakpointName} from \"./BreakpointHelper\";\r\nimport DropDown from \"../../Menus/CommonComponents/DropDown\";\r\n\r\nexport default class PreviewHeaderBreakpoints extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            lastBpData: undefined\r\n        };\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    getCurrentValue = (editorContext) => {\r\n        if (!editorContext.editor.rootLayoutRef.current)\r\n            return \"...\";\r\n\r\n        let width = editorContext.editor.rootLayoutRef.current.getSize(false).width;\r\n\r\n        let bpData = this.getOptions(editorContext).filter(bpData => {\r\n            return bpData.type === 'device' && bpData.start === width;\r\n        })[0];\r\n\r\n        if (bpData) {\r\n            return (this.state.lastBpData && this.state.lastBpData.type === \"device\" && this.state.lastBpData) || bpData;\r\n        }\r\n\r\n        return editorContext.editor.breakpointmanager.currentBpData(width);\r\n    };\r\n\r\n    getOptions = (editorContext) => {\r\n        let options = [{\r\n            title: \"Page Breakpoints\", disabled:true\r\n        }];\r\n\r\n        if (!editorContext.editor.breakpointmanager) return [];\r\n\r\n        let breakpoints = editorContext.editor.breakpointmanager.getSortedBreakPoints().reverse();\r\n\r\n        breakpoints.forEach(bpData => {\r\n            options.push(bpData);\r\n        });\r\n\r\n        options.push({\r\n            title: \"Common Devices\", disabled:true\r\n        });\r\n\r\n        (this.props.devices || []).sort((a, b) => {\r\n            if (a.start > b.start) {\r\n                return -1;\r\n            } else if (a.start === b.start) {\r\n                // Without this, we can get different sort results in IE vs. Chrome/FF\r\n                return 0;\r\n            }\r\n            return 1;\r\n        }).forEach(bpData => {\r\n            bpData.type = 'device';\r\n            options.push(bpData);\r\n        });\r\n\r\n        return options;\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <EditorContext.Consumer>\r\n                {editorContext => (\r\n                    <div\r\n                        {...this.props}\r\n                    >\r\n                        <DropDown\r\n                            options={editorContext.siteData ? this.getOptions(editorContext) : [\"...\"]}\r\n                            onChange={(bpData) => {\r\n                                this.setState({lastBpData: bpData});\r\n\r\n                                editorContext.editor.onPageResize(bpData.prefer || bpData.start);\r\n                                // editorContext.setPageSizeWidth(bpData.prefer || bpData.start);\r\n                            }}\r\n                            value={editorContext.pageData ? this.getCurrentValue(editorContext) : \"...\"}\r\n                            spanStyle={{\r\n                                width: 256,\r\n                                fontSize: 14,\r\n                                border: \"0px solid #cfcfcf\",\r\n                            }}\r\n                            renderer={(bpData) => {\r\n                                return (\r\n                                    <div className=\"PreviewHeaderBreakpointsRenderer\">\r\n                                        {\r\n                                            bpData.name &&\r\n                                            <div className=\"PreviewHeaderBreakpointsRendererIcon\">\r\n                                                {\r\n                                                    getBreakpointIcon(bpData)\r\n                                                }\r\n                                            </div>\r\n                                        }\r\n                                        {\r\n                                            bpData.name &&\r\n                                            <div className=\"PreviewHeaderBreakpointsRendererName\">\r\n                                                {\r\n                                                    bpData.type === 'device' ? bpData.name :\r\n                                                    getBreakpointName(bpData)\r\n                                                }\r\n                                            </div>\r\n                                        }\r\n                                        {\r\n                                            bpData.name &&\r\n                                            <div className=\"PreviewHeaderBreakpointsRendererSize\">\r\n                                                {\r\n                                                    bpData.start + \" px\"\r\n                                                }\r\n                                            </div>\r\n                                        }\r\n                                        {\r\n                                            !bpData.name &&\r\n                                            <div className=\"PreviewHeaderBreakpointsRendererTitle\">\r\n                                                {\r\n                                                    bpData.title\r\n                                                }\r\n                                            </div>\r\n                                        }\r\n                                    </div>\r\n                                )\r\n                            }}\r\n                            valueRenderer={(bpData) => {\r\n                                return (\r\n                                    <div className=\"PreviewHeaderBreakpointsRenderer\">\r\n                                        {\r\n                                            bpData.name &&\r\n                                            <div className=\"PreviewHeaderBreakpointsRendererIcon\">\r\n                                                {\r\n                                                    getBreakpointIcon(bpData)\r\n                                                }\r\n                                            </div>\r\n                                        }\r\n                                        {\r\n                                            bpData.name &&\r\n                                            <div className=\"PreviewHeaderBreakpointsRendererName\">\r\n                                                {\r\n                                                    bpData.type === 'device' ? bpData.name :\r\n                                                    getBreakpointName(bpData)\r\n                                                }\r\n                                            </div>\r\n                                        }\r\n                                        {\r\n                                            !bpData.name &&\r\n                                            <div className=\"PreviewHeaderBreakpointsRendererTitle\">\r\n                                                {\r\n                                                    bpData.title\r\n                                                }\r\n                                            </div>\r\n                                        }\r\n                                    </div>\r\n                                )\r\n                            }}\r\n                        />\r\n\r\n                        <div style={{\r\n                            backgroundColor: \"#cfcfcf\",\r\n                            height: \"auto\",\r\n                            width: 1,\r\n                            marginLeft: 10\r\n                        }}>\r\n\r\n                        </div>\r\n\r\n                        {\r\n                            editorContext.editor && editorContext.editor.rootLayoutRef.current &&\r\n                            <>\r\n                                <span\r\n                                    style={{\r\n                                        marginLeft: 10,\r\n                                        display:\"flex\",\r\n                                        alignItems: \"center\",\r\n                                        fontSize: 12\r\n                                    }}\r\n                                >\r\n                                    Width\r\n                                </span>\r\n                                <NumberInputEnterToChange\r\n                                    inputStyle={{\r\n                                        marginLeft: 10\r\n                                    }}\r\n                                    min={editorContext.editor.breakpointmanager.getMinWidth()}\r\n                                    max={9999}\r\n                                    value={editorContext.editor.rootLayoutRef.current.getSize(false).width}\r\n                                    onChange={(width) => {\r\n                                        editorContext.editor.onPageResize(width);\r\n                                        // editorContext.setPageSizeWidth(width);\r\n                                    }}\r\n                                />\r\n                            </>\r\n                        }\r\n                    </div>\r\n                )}\r\n            </EditorContext.Consumer>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './EditorBoundary.css';\r\nimport {EditorContext} from \"./EditorContext\";\r\nimport IconButton from \"../HelperComponents/IconButton\";\r\nimport EditorHeaderPageSelect from \"./PageSelect/EditorHeaderPageSelect\";\r\nimport EditorHeaderBreakpoints from \"./Breakpoints/EditorHeaderBreakpoints\";\r\nimport EditorHeaderZoom from \"./Zoom/EditorHeaderZoom\";\r\nimport PreviewHeaderBreakpoints from \"./Breakpoints/PreviewHeaderBreakpoints\";\r\nimport {getCommonDevices} from \"./Breakpoints/BreakpointHelper\";\r\nimport {Button} from \"@material-ui/core\";\r\n\r\nexport default class PreviewHeader extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <div className=\"EditorHeaderRoot\" style={{\r\n                width: `${this.context.zoomScale*100}%`,\r\n            }}>\r\n                <div className=\"EditorHeaderRightShortcuts\">\r\n                </div>\r\n                <div className=\"EditorHeaderCenterShortcuts\">\r\n                    <EditorHeaderPageSelect\r\n                        className=\"EditorHeaderCenterDiv\"\r\n                        style={{\r\n                            width: 200\r\n                        }}\r\n                    />\r\n                    <PreviewHeaderBreakpoints\r\n                        className=\"EditorHeaderCenterDiv EditorHeaderLastCenterDiv EditorHeaderBreakpoints\"\r\n                        devices={getCommonDevices()}\r\n                    />\r\n                </div>\r\n                <div className=\"PreviewHeaderLeftShortcuts\">\r\n                    <Button className=\"PublishButton\" onClick={() => {\r\n                        this.context.sendPublishCommand();\r\n                    }}>\r\n                        Publish\r\n                    </Button>\r\n                    <Button className=\"PreviewButton\" onClick={() => {\r\n                        this.context.sendEditCommand();\r\n                    }}>\r\n                        Edit\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {EditorContext} from \"./EditorContext\";\r\nimport {\r\n    Switch,\r\n    Route, Redirect\r\n} from \"react-router-dom\";\r\nimport {BrowserRouter as Router, withRouter} from 'react-router-dom';\r\n// import {Router, withRouter} from 'react-router-dom';\r\nimport {getHomePage} from \"../MenuManager/MenuManager\";\r\nimport {getRandomLinkId} from \"../Components/Text/TextHelper\";\r\nimport DomainManager from \"./DomainManager\";\r\n\r\nclass PageRouterComponent extends React.Component {\r\n    // static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.firstLoad = true;\r\n\r\n        this.state = {}\r\n\r\n        console.log(\"PageRouterComponent constructor\");\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    // shouldComponentUpdate(nextProps, nextState, nextContext) {\r\n    //     if (this.state.reload !== nextState.reload) {\r\n    //         return true;\r\n    //     }\r\n    //\r\n    //     console.log(\"PageRouterComponent shouldComponentUpdate\", this.props.location.pathname,\r\n    //         nextProps.location.pathname, this.props.pageName, nextProps.pageName);\r\n    //     if (this.props.location.pathname !== nextProps.location.pathname ||\r\n    //         this.props.location.search !== nextProps.location.search ||\r\n    //         this.props.pageName !== nextProps.pageName)\r\n    //     {\r\n    //         console.log(\"PageRouterComponent shouldComponentUpdate\", true);\r\n    //         return true;\r\n    //     }\r\n    //\r\n    //     console.log(\"PageRouterComponent shouldComponentUpdate\", false);\r\n    //     return false;\r\n    // }\r\n\r\n    redirect = (redirectPath, redirectProps, callback) => {\r\n        let {siteData, pageData, setPageData} = this.props;\r\n        console.log(\"redirect 1\", redirectPath, redirectProps);\r\n\r\n        if (!redirectPath)\r\n            redirectPath = this.props.location.pathname;\r\n\r\n        if (pageData && `/${pageData.props.pageName.toLowerCase()}` === redirectPath) {\r\n            this.redirectPath = redirectPath;\r\n            console.log(\"redirect 2\", redirectPath, redirectProps);\r\n            this.setState({reload: getRandomLinkId(5), redirectProps}, callback);\r\n        } else {\r\n            let page = Object.values(siteData.allPages).find(pageData => {\r\n                return `/${pageData.props.pageName.toLowerCase()}` === redirectPath;\r\n            });\r\n\r\n            if (!page)\r\n                page = getHomePage(siteData);\r\n\r\n            this.redirectPath = redirectPath;\r\n            setPageData(page.props.pageId, false, () => {\r\n                console.log(\"redirect 3\", redirectPath, page.props.pageName);\r\n                this.setState({reload: getRandomLinkId(5), redirectProps}, callback);\r\n            })\r\n        }\r\n    };\r\n\r\n    render () {\r\n        let {siteData, pageData, pageName, isProduction} = this.props;\r\n\r\n        console.log(\"RouterPath\", this.redirectPath, this.props.location, !!pageData, pageName);\r\n\r\n        if (this.redirectPath) {\r\n            let redirectPath = this.redirectPath;\r\n            delete this.redirectPath;\r\n            let dontPush = this.dontPush;\r\n            delete this.dontPush;\r\n            return <Redirect to={{\r\n                pathname: redirectPath,\r\n                state: { from: this.props.location.pathname }\r\n            }}\r\n                             push={!dontPush}\r\n            />\r\n        }\r\n\r\n        if (pageName && this.props.location.pathname !== \"/\" &&\r\n            this.props.location.pathname !== `/${DomainManager.getWebsiteName(undefined, siteData)}/` &&\r\n            `/${pageName.toLowerCase()}` !== this.props.location.pathname) {\r\n            if (isProduction) {\r\n                console.log(\"Here\");\r\n                window.requestAnimationFrame(() => {\r\n                    this.dontPush = true;\r\n                    this.redirect(this.props.location.pathname);\r\n                })\r\n                return null;\r\n            }\r\n        }\r\n\r\n        return (\r\n            <Switch>\r\n                {\r\n                    siteData && Object.values(siteData.allPages).map(page => {\r\n                        console.log(\"Routes\", `/${page.props.pageName.toLowerCase()}`)\r\n                        return (\r\n                            <Route exact path={`/${page.props.pageName.toLowerCase()}`} key={page.props.pageName}>\r\n                                {this.props.children}\r\n                            </Route>\r\n                        )\r\n                    })\r\n                }\r\n\r\n                {\r\n                    siteData &&\r\n                    <Route exact path={`/`}>\r\n                        <Redirect\r\n                            to={{\r\n                                pathname: `/${getHomePage(siteData).props.pageName.toLowerCase()}`,\r\n                                state: { from: \"/\" }\r\n                            }}\r\n                        />\r\n                    </Route>\r\n                }\r\n\r\n                {\r\n                    siteData &&\r\n                    <Redirect\r\n                        to={{\r\n                            pathname: `/${getHomePage(siteData).props.pageName.toLowerCase()}`,\r\n                            state: { from: \"/\" }\r\n                        }}\r\n                    />\r\n                }\r\n            </Switch>\r\n        )\r\n    }\r\n}\r\n\r\nconst MainRouter = withRouter(props =>\r\n    {\r\n        return <PageRouterComponent ref={props.routerRef} {...props}/>\r\n    }\r\n);\r\n\r\nconst PageRouter = (props) => {\r\n    let basename = DomainManager.getBaseName(props.website, props.siteData);\r\n    return (\r\n        <Router basename={basename}>\r\n            <MainRouter {...props}/>\r\n        </Router>\r\n    )\r\n}\r\n\r\nexport default PageRouter;\r\n","import React from \"react\";\r\nimport './EditorBoundary.css';\r\nimport IconButton from \"../HelperComponents/IconButton\";\r\nimport DropDown from \"../Menus/CommonComponents/DropDown\";\r\nimport EditorHeaderZoom from \"./Zoom/EditorHeaderZoom\";\r\nimport {EditorContext} from \"./EditorContext\";\r\nimport EditorHeaderPageSelect from \"./PageSelect/EditorHeaderPageSelect\";\r\nimport EditorHeaderBreakpoints from \"./Breakpoints/EditorHeaderBreakpoints\";\r\nimport {getScrollbarWidth} from \"../AwesomeGridLayoutUtils\";\r\nimport PageBase from \"../Components/Pages/PageBase\";\r\nimport PageRouter from \"./PageRouter\";\r\n\r\nexport default class PageView extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        console.log(\"PageView constructor\");\r\n    }\r\n\r\n    componentDidMount () {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount () {\r\n        this.mounted = false;\r\n    }\r\n\r\n    render () {\r\n        let {siteData, pageData, setPageData, website} = this.context;\r\n        let {routerRef} = this.props;\r\n        let pageName = pageData? pageData.props.pageName: \"\";\r\n        if (this.context.production) {\r\n            if (siteData) {\r\n                return (\r\n                    <PageRouter\r\n                        siteData={siteData}\r\n                        pageData={pageData}\r\n                        setPageData={setPageData}\r\n                        pageName={pageName}\r\n                        routerRef={routerRef}\r\n                        isProduction\r\n                    >\r\n                        {this.props.children}\r\n                    </PageRouter>\r\n                )\r\n            } else {\r\n                return null;\r\n            }\r\n        } else {\r\n            console.log(\"PageView\",  this.context.editor ? this.context.editor.idMan.allId : \"No Editor\")\r\n            return (\r\n                <div\r\n                    className=\"EditorBoundaryPageHolder\"\r\n                    style={{\r\n                        // TODO add scale support\r\n                        padding: \"0 50px\"\r\n                    }}\r\n                    onScroll={this.props.onScrollBoundary}\r\n                    onContextMenu={(e) => {\r\n                        e.stopPropagation();\r\n                        e.preventDefault();\r\n                    }}\r\n                >\r\n                    <div\r\n                        className=\"EditorBoundaryPageHolderHover\"\r\n                        style={{\r\n                            bottom: getScrollbarWidth()\r\n                        }}\r\n                        onClick={() => {\r\n                            this.props.rootLayoutRef.current.onSelect(true);\r\n                        }}\r\n                    />\r\n\r\n                    <PageRouter\r\n                        siteData={siteData}\r\n                        pageData={pageData}\r\n                        setPageData={setPageData}\r\n                        pageName={pageName}\r\n                        routerRef={routerRef}\r\n                        website={website}\r\n                    >\r\n                        {this.props.children}\r\n                    </PageRouter>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {EditorContext} from \"../../EditorContext\";\r\nimport './SiteDashboard.css';\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport FreeDropDownMenu from \"../../../Components/Menu/FreeDropDownMenu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem/MenuItem\";\r\n\r\nexport default class SiteDashboard extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n    getUrl = () => {\r\n        let {user, website, siteData} = this.context;\r\n\r\n        if (!website.metadata.isPublished)\r\n            return \"Not Published\";\r\n\r\n        if (website.url)\r\n            return website.url;\r\n\r\n        if (website.data && website.data.domainConfig && website.data.domainConfig.tempDomain) {\r\n            return website.data.domainConfig.tempDomain.targetUrl;\r\n        }\r\n\r\n        let baseUrl = siteData.setting.baseUrl.replace(\"http:\", \"https:\");\r\n        let url = new URL(baseUrl);\r\n        url.hostname = `${user.username}.${url.hostname}`;\r\n        url.pathname = website.name;\r\n\r\n        return url.href.toLowerCase();\r\n    }\r\n\r\n    onEditWebsiteClicked = () => {\r\n        this.context.postMessageToHolder(\r\n            {\r\n                type: \"Holder\",\r\n                func: \"setDashboard\",\r\n                inputs: [false]\r\n            }\r\n        );\r\n    }\r\n\r\n    getDomainText = () => {\r\n        // TODO\r\n        return \"Not Connected\";\r\n    }\r\n\r\n    getPlanText = () => {\r\n        // TODO\r\n        return \"Free\";\r\n    }\r\n\r\n    getResourcePlanText = () => {\r\n        // TODO\r\n        return \"Basic\";\r\n    }\r\n\r\n    render() {\r\n        let {siteData, website} = this.context;\r\n        let {actionAnchorEl} = this.state;\r\n        let {setSelectedMenu} = this.props;\r\n        let isPublished = website.metadata.isPublished;\r\n        return (\r\n            <div className=\"SiteDashboardRoot\">\r\n                <div className=\"SiteDashboardMainRoot\">\r\n                    <div className=\"SiteDashboardMainTop\">\r\n                        <div className=\"SiteDashboardMainTopImageRoot\">\r\n                            {\r\n                                console.log(\"this.getUrl()\", this.getUrl())\r\n                            }\r\n                            {\r\n                                isPublished &&\r\n                                    <iframe\r\n                                        className=\"SiteDashboardMainTopImageIframe\"\r\n                                        src={this.getUrl()}\r\n                                    />\r\n                            }\r\n                            {\r\n                                !isPublished &&\r\n                                <img draggable={false} className=\"SiteDashboardMainTopImage\"\r\n                                     src={process.env.PUBLIC_URL + '/static/image/tempwebsite.jpg'} />\r\n                            }\r\n                        </div>\r\n                        <div className=\"SiteDashboardMainTopRight\">\r\n                            <div className=\"SiteDashboardMainTopTitle\">\r\n                                {website.name}\r\n                            </div>\r\n                            <a\r\n                                className=\"SiteDashboardMainTopLink\"\r\n                                href={isPublished && this.getUrl()}\r\n                                target={isPublished && \"_blank\"}\r\n                            >\r\n                                {this.getUrl()}\r\n                            </a>\r\n                            <div className=\"SiteDashboardMainTopDesc\">\r\n                                {website.description}\r\n                            </div>\r\n                            <div className=\"SiteDashboardMainTopActions\">\r\n                                <Button\r\n                                    className=\"SiteDashboardMainTopActionsButton\"\r\n                                    color=\"primary\"\r\n                                    variant=\"contained\"\r\n                                    onClick={(e) => {this.setState({actionAnchorEl: e.target})}}\r\n                                >\r\n                                    Website Actions\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"SiteDashboardMainBottom\">\r\n                        <div className=\"SiteDashboardMainBottomShortcutRoot\">\r\n                            <div className=\"SiteDashboardShortcutTitle\">\r\n                                Domain: {this.getDomainText()}\r\n                            </div>\r\n                            {/* TODO set link*/}\r\n                            <a\r\n                                className=\"SiteDashboardShortcutLink\"\r\n                                onClick={() => {\r\n                                    setSelectedMenu(\"Domains\");\r\n                                }}\r\n                            >\r\n                                Connect Domain\r\n                            </a>\r\n                        </div>\r\n                        <div className=\"SiteDashboardMainBottomShortcutRoot\">\r\n                            <div className=\"SiteDashboardShortcutTitle\">\r\n                                Website Plan: {this.getPlanText()}\r\n                            </div>\r\n                            {/* TODO set link*/}\r\n                            <a\r\n                                className=\"SiteDashboardShortcutLink\"\r\n                                onClick={() => {\r\n                                    setSelectedMenu(\"Plans\");\r\n                                }}\r\n                            >\r\n                                Plan Usage\r\n                            </a>\r\n                        </div>\r\n                        <div className=\"SiteDashboardMainBottomShortcutRoot\">\r\n                            <div className=\"SiteDashboardShortcutTitle\">\r\n                                Resource Plan: {this.getResourcePlanText()}\r\n                            </div>\r\n                            {/* TODO set link*/}\r\n                            <a\r\n                                className=\"SiteDashboardShortcutLink\"\r\n                                onClick={() => {\r\n                                    setSelectedMenu(\"Plans\");\r\n                                }}\r\n                            >\r\n                                Plan Usage\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {\r\n                    actionAnchorEl &&\r\n                    <FreeDropDownMenu\r\n                        open={true}\r\n                        anchorEl={actionAnchorEl}\r\n                        onClose={() => {this.setState({actionAnchorEl: undefined})}}\r\n                    >\r\n                        <MenuItem\r\n                            dense\r\n                            onClick={this.onEditWebsiteClicked}\r\n                        >\r\n                            Edit Website\r\n                        </MenuItem>\r\n                        {\r\n                            isPublished &&\r\n                            <MenuItem\r\n                                dense\r\n                                onClick={() => {\r\n                                    window.open(this.getUrl(),'_blank');\r\n                                }}\r\n                            >\r\n                                View Live Site\r\n                            </MenuItem>\r\n                        }\r\n                    </FreeDropDownMenu>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {EditorContext} from \"../../../Editor/EditorContext\";\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\nimport {inputCopyPasteHandler} from \"../../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class UploadButton extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.inputRef = React.createRef();\r\n    }\r\n\r\n    render () {\r\n        return (\r\n            <>\r\n                <input\r\n                    style={{display: \"none\"}}\r\n                    onKeyDown={inputCopyPasteHandler}\r\n                    type=\"file\" name=\"file\" onChange={this.props.onFileSelected} ref={this.inputRef}\r\n                    multiple={this.props.multiple}\r\n                    accept={this.props.accept}\r\n                />\r\n                <div>\r\n                    <ButtonBase\r\n                        className={this.props.className}\r\n                        style={this.props.style}\r\n                        onClick={(e) => {\r\n                            this.inputRef.current.click();\r\n                        }}\r\n                    >\r\n                        {this.props.children}\r\n                    </ButtonBase>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import axios from \"axios\";\r\n\r\nlet FileManagerHelper = {};\r\n\r\nFileManagerHelper.list = (editorContext, prefix, continuationToken, onSuccess, onError) => {\r\n    editorContext.postMessageToHolder(\r\n    {\r\n        type: \"Server\",\r\n        route: \"/file/list\",\r\n        input: {websiteId: editorContext.website.id, prefix, continuationToken},\r\n        method: \"post\"\r\n    },\r\n    ({result}) => {\r\n        if (result.success)\r\n            onSuccess(result.data, prefix);\r\n        else\r\n            onError(result.error);\r\n    });\r\n}\r\n\r\nFileManagerHelper.upload = (editorContext, objectPath, file, onSuccess, onError) => {\r\n    editorContext.postMessageToHolder(\r\n        {\r\n            type: \"Server\",\r\n            route: \"/file/upload\",\r\n            input: {websiteId: editorContext.website.id, objectPath, objectSizeInMb: file.size / 1024 / 1024},\r\n            method: \"post\"\r\n        },\r\n        ({result}) => {\r\n            if (result.success)\r\n                onSuccess(result.data);\r\n            else\r\n                onError(result.error);\r\n        });\r\n}\r\n\r\nFileManagerHelper.fullUpload = (editorContext, objectPath, file, onSuccess, onUploadProgress, onError) => {\r\n    FileManagerHelper.upload(editorContext, objectPath, file, (signUrl) =>\r\n    {\r\n        let formData = new FormData();\r\n        formData.append(\"file\", file);\r\n        const cancelTokenSource = axios.CancelToken.source();\r\n\r\n        axios.put(signUrl, file, {\r\n            headers: {\r\n                \"x-amz-acl\": \"public-read\",\r\n                \"Content-Type\": file.type\r\n            },\r\n            onUploadProgress: (e) => {onUploadProgress(e, cancelTokenSource)},\r\n            cancelToken: cancelTokenSource.token\r\n        })\r\n            .then((response) => {\r\n                onSuccess();\r\n            }).then(() => {\r\n            console.log(\"upload finish\");\r\n            })\r\n            .catch(() => {\r\n                console.log(\"upload Error ...\");\r\n                onError(\"Cant Upload !!!\");\r\n            });\r\n    },\r\n    (errorMessage) => {\r\n        console.log(\"fullUpload error\", errorMessage);\r\n        onError(errorMessage);\r\n    });\r\n}\r\n\r\nFileManagerHelper.folder = (editorContext, folderPath, onSuccess, onError) => {\r\n    editorContext.postMessageToHolder(\r\n        {\r\n            type: \"Server\",\r\n            route: \"/file/folder\",\r\n            input: {websiteId: editorContext.website.id, folderPath},\r\n            method: \"post\"\r\n        },\r\n        ({result}) => {\r\n            if (result.success)\r\n                onSuccess(result.data);\r\n            else\r\n                onError(result.error);\r\n        });\r\n}\r\n\r\nFileManagerHelper.usage = (editorContext, onSuccess, onError) => {\r\n    editorContext.postMessageToHolder(\r\n        {\r\n            type: \"Server\",\r\n            route: \"/file/usage\",\r\n            input: {websiteId: editorContext.website.id},\r\n            method: \"post\"\r\n        },\r\n        ({result}) => {\r\n            if (result.success)\r\n                onSuccess(result.data);\r\n            else\r\n                onError(result.error);\r\n        });\r\n}\r\n\r\n// deleteObjects must have this structure:\r\n// [ /* required */\r\n//   {\r\n//      Key: 'STRING_VALUE', /* required */\r\n//   },\r\n//   /* more items */\r\n// ]\r\nFileManagerHelper.delete = (editorContext, deleteObjects, onSuccess, onError) => {\r\n    editorContext.postMessageToHolder(\r\n        {\r\n            type: \"Server\",\r\n            route: \"/file/delete\",\r\n            input: {websiteId: editorContext.website.id, deleteObjects},\r\n            method: \"post\"\r\n        },\r\n        ({result}) => {\r\n            if (result.success)\r\n                onSuccess(result.data);\r\n            else\r\n                onError(result.error);\r\n        });\r\n}\r\n\r\nFileManagerHelper.storage = (editorContext, onSuccess, onError) => {\r\n    editorContext.postMessageToHolder(\r\n        {\r\n            type: \"Server\",\r\n            route: \"/file/storage\",\r\n            input: {websiteId: editorContext.website.id},\r\n            method: \"get\"\r\n        },\r\n        ({result}) => {\r\n            if (result.success)\r\n                onSuccess(result.data);\r\n            else\r\n                onError(result.error);\r\n        });\r\n}\r\n\r\nexport default FileManagerHelper;\r\n","import React from \"react\";\r\nimport {EditorContext} from \"../../../Editor/EditorContext\";\r\nimport IconButton from \"../../../HelperComponents/IconButton\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport './NewFolder.css';\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport {inputCopyPasteHandler} from \"../../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class NewFolder extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {name: \"\"};\r\n    }\r\n\r\n    rename = (e) => {\r\n        this.setState({name: e.target.value})\r\n    }\r\n\r\n    render () {\r\n        return <Modal\r\n            open={this.props.open}\r\n            onClose={this.props.onClose}\r\n            aria-labelledby=\"simple-modal-title2\"\r\n            aria-describedby=\"simple-modal-description2\"\r\n            className=\"FileManagerModal\"\r\n            disableBackdropClick\r\n            disableEnforceFocus\r\n        >\r\n            <div className=\"NewFolderRoot\">\r\n                {/*Header*/}\r\n                <div className=\"FileManagerHeader\">\r\n                    <div\r\n                        className=\"PageManagerHeaderContainer\"\r\n                    >\r\n                            <span className=\"PageManagerHeaderTitle\">\r\n                                New Folder\r\n                            </span>\r\n\r\n                        <IconButton\r\n                            onClick={this.props.onClose}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={12}\r\n                                height={12}\r\n                                src={require('../../../icons/close.svg')}\r\n                            />\r\n                        </IconButton>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"NewFolderContainer\">\r\n                    <span className=\"NewFolderTitle\">\r\n                        What's the name of new folder?\r\n                    </span>\r\n                    <input\r\n                        className=\"NumberInput PageManagerRenameInput PageInfoNameInput\"\r\n                        type=\"text\"\r\n                        onChange={this.rename}\r\n                        onKeyDown={(e) => {\r\n                            if((e.keyCode || e.which) === 13) {\r\n                                if (this.state.name.length >= 3) {\r\n                                    this.props.onClose();\r\n                                    this.props.onDone(this.state.name)\r\n                                }\r\n                            }\r\n                            inputCopyPasteHandler(e);\r\n                        }}\r\n                    >\r\n                    </input>\r\n\r\n                    <div>\r\n                        <Button\r\n                            className=\"NewFolderCreate\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            disabled={this.state.name.length < 3}\r\n                            onClick={() => {\r\n                                this.props.onClose();\r\n                                this.props.onDone(this.state.name)\r\n                            }}\r\n                        >\r\n                            Create\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {EditorContext} from \"../../../Editor/EditorContext\";\r\nimport FileManagerHelper from \"../FileManagerHelper\";\r\nimport axios from \"axios\";\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport './FileUploader.css';\r\nimport IconButton from \"../../../HelperComponents/IconButton\";\r\n\r\nexport default class FileUploader extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            files: props.files.map(f => {return {\r\n                file: f,\r\n                status: \"pending\",\r\n                progress: 0,\r\n                prefix: props.prefix,\r\n            }}),\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.next();\r\n    }\r\n\r\n    addFiles = (newFIles, prefix) => {\r\n        let {files} = this.state;\r\n        files = [...files];\r\n        newFIles.forEach(f => {\r\n            files.push({\r\n                file: f,\r\n                status: \"pending\",\r\n                progress: 0,\r\n                prefix: prefix\r\n            });\r\n        })\r\n\r\n        this.setState({files}, () => {\r\n            if (!this.working)\r\n                this.next();\r\n        });\r\n    }\r\n\r\n    finishing = () => {\r\n        this.working = false;\r\n        this.props.onFinish();\r\n    }\r\n\r\n    next = () => {\r\n        this.working = true;\r\n        let {files} = this.state;\r\n        files = [...files];\r\n\r\n        if (files.length < 1) {\r\n            this.finishing();\r\n            return;\r\n        }\r\n\r\n        let currentUploading = files.shift();\r\n        if (currentUploading.status !== \"pending\")\r\n            return;\r\n\r\n        currentUploading.status = \"starting\";\r\n\r\n        this.setState({files, currentUploading}, () => {\r\n            this.uploadSign();\r\n        });\r\n    };\r\n\r\n    uploadSign = () => {\r\n        let {currentUploading} = this.state;\r\n\r\n        FileManagerHelper.upload(this.context,\r\n            `${currentUploading.prefix}/${currentUploading.file.name}`,\r\n            currentUploading.file,\r\n            (signUrl) => {\r\n                this.upload(signUrl);\r\n            },\r\n            (errorMessage) => {\r\n                console.log(\"upload error\", errorMessage);\r\n        });\r\n    };\r\n\r\n    upload = (signUrl) => {\r\n        let {currentUploading} = this.state;\r\n\r\n        let formData = new FormData();\r\n\r\n        // Object.keys(signData.fields).forEach(key => {\r\n        //     formData.append(key, signData.fields[key]);\r\n        // });\r\n\r\n        formData.append(\"file\", currentUploading.file);\r\n\r\n        const cancelTokenSource = axios.CancelToken.source();\r\n        currentUploading.cancelTokenSource = cancelTokenSource;\r\n\r\n        axios.put(signUrl, currentUploading.file, {\r\n            headers: {\r\n                \"x-amz-acl\": \"public-read\",\r\n                \"Content-Type\": currentUploading.file.type\r\n            },\r\n            onUploadProgress: this.onUploadProgress,\r\n            cancelToken: cancelTokenSource.token\r\n        })\r\n        .then((response) => {\r\n            this.props.onSingleFileUploaded(currentUploading);\r\n            this.next();\r\n        }).then(() => {\r\n            console.log(\"upload finish\");\r\n        })\r\n        .catch(() => {\r\n            console.log(\"upload Error ...\")\r\n        });\r\n    }\r\n\r\n    onUploadProgress = (e) => {\r\n        let {currentUploading} = this.state;\r\n        currentUploading.progress = Math.round((100 * e.loaded) / e.total);\r\n        this.setState({currentUploading});\r\n    }\r\n\r\n    cancelCurrent = () => {\r\n        let {currentUploading} = this.state;\r\n        currentUploading.cancelTokenSource.cancel();\r\n        currentUploading.status = \"canceled\";\r\n\r\n        this.next();\r\n    }\r\n\r\n    cancelPendings = (fileData) => {\r\n        let {files} = this.state;\r\n        files = [...files];\r\n\r\n        if (fileData.cancelTokenSource)\r\n            this.cancelCurrent();\r\n\r\n        let index = files.findIndex(f => {\r\n            return f.file === fileData.file;\r\n        });\r\n\r\n        files.splice(index, 1);\r\n\r\n        this.setState({files});\r\n    }\r\n\r\n    cancelAll = () => {\r\n        let {files} = this.state;\r\n        files = [...files];\r\n\r\n        files.forEach(f => {\r\n            this.cancelPendings(f);\r\n        });\r\n\r\n        this.cancelCurrent();\r\n    }\r\n\r\n    render () {\r\n        let {currentUploading, files} = this.state;\r\n        return (\r\n            <>\r\n                <div className=\"FileUploaderRoot\">\r\n                    {\r\n                        currentUploading &&\r\n                        <div className=\"FileUploaderCurrentBorder\">\r\n                            <span className=\"FileUploaderCurrentName\">{currentUploading.file.name}</span>\r\n                            <div className=\"FileUploaderCurrentRoot\">\r\n                                <LinearProgress className=\"FileUploaderCurrentProgress\"\r\n                                                key={currentUploading.file.name}\r\n                                    variant=\"determinate\" value={currentUploading.progress}/>\r\n                                <span  className=\"FileUploaderCurrentLabel\">{`${currentUploading.progress}%`}</span>\r\n                                {\r\n                                    currentUploading.cancelTokenSource &&\r\n                                    <IconButton\r\n                                        className=\"FileUploaderCurrentCancel\"\r\n                                        onClick={this.cancelCurrent}\r\n                                    >\r\n                                        <img\r\n                                            draggable={false}\r\n                                            width={8}\r\n                                            height={8}\r\n                                            src={require('../../../icons/close.svg')}\r\n                                        />\r\n                                    </IconButton>\r\n                                }\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    {\r\n                        files.slice(0, 3).map(fileData => {\r\n                            return (\r\n                                <div key={fileData.file.name} className=\"FileUploaderCurrentBorder FileUploaderPendingRoot\">\r\n                                    <span className=\"FileUploaderCurrentName\">{fileData.file.name}</span>\r\n                                    <IconButton\r\n                                        className=\"FileUploaderCurrentCancel\"\r\n                                        onClick={(e) => {this.cancelPendings(fileData)}}\r\n                                    >\r\n                                        <img\r\n                                            draggable={false}\r\n                                            width={8}\r\n                                            height={8}\r\n                                            src={require('../../../icons/close.svg')}\r\n                                        />\r\n                                    </IconButton>\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                    {\r\n                        files.slice(3, files.length).length > 0 &&\r\n                        <div className=\"FileUploaderCurrentBorder\">\r\n                            <span className=\"FileUploaderCurrentName\">\r\n                                {\r\n                                    `${files.slice(3, files.length).length} other files are pending ...`\r\n                                }\r\n                            </span>\r\n                            <div className=\"FileUploaderCurrentCancelAll\">\r\n                                <IconButton\r\n                                    className=\"FileUploaderCurrentCancel\"\r\n                                    onClick={this.cancelAll}\r\n                                >\r\n                                    Cancel All\r\n                                </IconButton>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport './MultiColorProgressBar.css'\r\n\r\nexport default class MultiColorProgressBar extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    render() {\r\n        const parent = this.props;\r\n\r\n        let values = parent.readings && parent.readings.length && parent.readings.map(function(item, i) {\r\n            if(item.value > 0) {\r\n                return (\r\n                    <div className=\"value\" style={{'color': item.color, 'width': item.value + '%'}}  key={i}>\r\n                        {/*<span>{item.value}%</span>*/}\r\n                    </div>\r\n                )\r\n            }\r\n        }, this);\r\n\r\n        let calibrations = parent.readings && parent.readings.length && parent.readings.map(function(item, i) {\r\n            if(item.value > 0) {\r\n                return (\r\n                    <div className=\"graduation\" style={{'color': item.color, 'width': item.value + '%'}}  key={i}>\r\n                        <span>|</span>\r\n                    </div>\r\n                )\r\n            }\r\n        }, this);\r\n\r\n        let bars = parent.readings && parent.readings.length && parent.readings.map(function(item, i) {\r\n            if(item.value > 0) {\r\n                return (\r\n                    <div className=\"bar\"\r\n                         style={{'backgroundColor': item.color, 'width': item.value + '%', ...(this.props.barStyle || {})}}\r\n                         key={i}>\r\n\r\n                    </div>\r\n                )\r\n            }\r\n        }, this);\r\n\r\n        let legends = parent.readings && parent.readings.length && parent.readings.map(function(item, i) {\r\n            if(item.value > 0) {\r\n                return (\r\n                    <div className=\"legend\" key={i}>\r\n                        <span className=\"dot\" style={{'color': item.color}}>●</span>\r\n                        <span className=\"label\">{item.name}</span>\r\n                    </div>\r\n                )\r\n            }\r\n        }, this);\r\n\r\n        return (\r\n            <div className=\"multicolor-bar\" style={this.props.rootStyle}>\r\n                {/*<div className=\"values\">*/}\r\n                {/*    {values == ''?'':values}*/}\r\n                {/*</div>*/}\r\n                {/*<div className=\"scale\">*/}\r\n                {/*    {calibrations == ''?'':calibrations}*/}\r\n                {/*</div>*/}\r\n                <div className=\"bars\" style={this.props.barsStyle}>\r\n                    {bars == ''?'':bars}\r\n                </div>\r\n                {/*<div className=\"legends\">*/}\r\n                {/*    {legends == ''?'':legends}*/}\r\n                {/*</div>*/}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nlet readings = [\r\n    {\r\n        name: 'Used Space',\r\n        value: 60,\r\n        color: '#eb4d4b'\r\n    },\r\n    {\r\n        name: 'Free Space',\r\n        value: 40,\r\n        color: '#22a6b3'\r\n    }\r\n];\r\n","import React from \"react\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport IconButton from \"../../HelperComponents/IconButton\";\r\nimport './FileManager.css';\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\nimport UploadButton from \"./Components/UploadButton\";\r\nimport Dropzone from 'react-dropzone'\r\nimport FileManagerHelper from \"./FileManagerHelper\";\r\nimport NewFolder from \"./Components/NewFolder\";\r\nimport {cloneObject} from \"../../AwesomeGridLayoutUtils\";\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport FileUploader from \"./Components/FileUploader\";\r\nimport MultiColorProgressBar from \"./Components/MultiColorProgressBar\";\r\nimport MenuButton from \"../../Menus/MenuBase/MenuButton\";\r\nimport DomainManager from \"../../Editor/DomainManager\";\r\nimport {inputCopyPasteHandler} from \"../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class FileManager extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            selectedMenu: \"Website Files\",\r\n            route: this.getFirstRoute(),\r\n            selectedFile: \"\",\r\n            selectedFiles: []\r\n        };\r\n\r\n        this.uploaderRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount() {\r\n        FileManagerHelper.storage(this.context, ({url}) => {\r\n            this.baseUrl = url;\r\n            this.loadRoute();\r\n        }, (errorMessage) => {\r\n            console.log(\"storage error\", errorMessage)\r\n        });\r\n    }\r\n\r\n    loadRoute = (continuationToken) => {\r\n        // TODO call publisher server\r\n        this.setState({list: undefined, selectedFile: undefined, selectedFiles: []});\r\n\r\n        this.loadingPrefix = this.getCurrentPrefix();\r\n        FileManagerHelper.list(this.context, this.loadingPrefix, continuationToken, (list, prefix) => {\r\n            if (this.loadingPrefix !== prefix)\r\n                return;\r\n\r\n            list.contents = list.contents.filter(item => {\r\n                return !item.Key.endsWith('/');\r\n            });\r\n\r\n            list.folders = list.folders.filter(folder => {\r\n                return folder !== \"favIcons\";\r\n            });\r\n\r\n            this.setState({list});\r\n        }, (errorMessage) => {\r\n            this.setState({errorMessage});\r\n        });\r\n\r\n        this.loadUserUsage();\r\n    }\r\n\r\n    getCurrentPrefix = () => {\r\n        let {route} = this.state;\r\n        route = cloneObject(route);\r\n        route.shift();\r\n        let prefix = route.join('/');\r\n\r\n        return prefix;\r\n    }\r\n\r\n    getFirstRoute = () => {\r\n        let {options} = this.props;\r\n\r\n        let route = [\"Site\"];\r\n        if (options.type) {\r\n            route.push(options.type);\r\n        }\r\n        return route;\r\n    }\r\n\r\n    createNewFolder = (name) => {\r\n        this.setState({list: undefined});\r\n        let folderPath = `${this.getCurrentPrefix()}/${name}`;\r\n        FileManagerHelper.folder(this.context, folderPath, () => {\r\n            this.loadRoute();\r\n        }, (errorMessage) => {\r\n            this.setState({errorMessage});\r\n        });\r\n    }\r\n\r\n    changeRoute = (route) => {\r\n        this.setState({route}, () => {\r\n            this.loadRoute();\r\n        });\r\n    }\r\n\r\n    uploadFile = (files) => {\r\n        if (!this.isFilesValid(files)) {\r\n            this.showError(\"Upload files with valid extention !\");\r\n            return;\r\n        }\r\n\r\n        if (this.uploaderRef.current)\r\n            this.uploaderRef.current.addFiles(files, this.getCurrentPrefix());\r\n        else\r\n            this.setState({\r\n                uploadingData: {files, prefix: this.getCurrentPrefix()}\r\n            })\r\n    }\r\n\r\n    getValidFileExt = (type) => {\r\n        if (!type)\r\n            type = this.props.options.type;\r\n\r\n        type = (type || \"\").toLowerCase();\r\n        switch (type) {\r\n            case \"images\":\r\n                return [\r\n                    \"jpg\", \"jpeg\", \"png\",\r\n                    \"gif\", \"jpe\", \"jfif\",\r\n                    \"bmp\", \"heic\", \"heif\",\r\n                    \"tiff\", \"tif\", \"png\",\r\n                    \"tiff\", \"tif\", \"svg\",\r\n                    \"tiff\", \"tif\", \"webp\"\r\n                ]\r\n                break;\r\n            case \"voices\":\r\n                return [\r\n                    \"mp3\", \"wav\", \"flac\",\r\n                    \"m4a\", \"wma\", \"aac\",\r\n                    \"aif\", \"aiff\"\r\n                ]\r\n                break;\r\n            case \"videos\":\r\n                return [\r\n                    \"avi\", \"mpeg\", \"mpg\",\r\n                    \"mpe\", \"mp4\", \"mkv\",\r\n                    \"webm\", \"mov\", \"ogv\",\r\n                    \"vob\", \"m4v\", \"3gp\",\r\n                    \"divx\", \"xvid\", \"mxf\",\r\n                    \"wmv\", \"m1v\", \"flv\",\r\n                    \"m2ts\"\r\n                ]\r\n                break;\r\n            case \"documents\":\r\n                return [\r\n                    \"all\"\r\n                ]\r\n                break;\r\n        }\r\n\r\n        console.log(\"getValidFileExt\", \"here2\")\r\n        return [\r\n            \"all\"\r\n        ];\r\n    }\r\n\r\n    isFilesValid = (files) => {\r\n        let validExt = this.getValidFileExt();\r\n\r\n        if (validExt.includes(\"all\"))\r\n            return  true;\r\n\r\n        let valid = true;\r\n        files.forEach(file => {\r\n            let ext = file.name.split('.').pop();\r\n\r\n            if (!validExt.includes(ext.toLowerCase()))\r\n                valid = false;\r\n        });\r\n\r\n        return valid;\r\n    }\r\n\r\n    showError = (message) => {\r\n        console.log(\"showError\", message);\r\n    }\r\n\r\n    getEmptyFolder = () => {\r\n        return (\r\n            <div className=\"FileManagerEmptyFolderRoot\">\r\n                <img\r\n                    className=\"FileManagerEmptyFolderImage\"\r\n                    draggable={false}\r\n                    width={20}\r\n                    height={20}\r\n                    src={require('../../icons/cloudupload.svg')}\r\n                />\r\n                <span className=\"FileManagerEmptyFolderTitle\">Start adding your files</span>\r\n                <span className=\"FileManagerEmptyFolderMessage\">Drag and drop files or upload from your computer</span>\r\n                <span className=\"FileManagerEmptyFolderMessage\">Or</span>\r\n                <UploadButton\r\n                    className=\"FileManagerEmptyFolderUploadButton\"\r\n                    onFileSelected={(e) => {\r\n                        this.uploadFile(Object.values(e.target.files).map(file => {\r\n                            return file;\r\n                        }))\r\n                    }}\r\n                    multiple\r\n                    accept={\r\n                        this.getValidFileExt().includes(\"all\") ? undefined :\r\n                        this.getValidFileExt().map(e => `.${e}`).join(',')\r\n                    }\r\n                >\r\n                    Upload New File\r\n                </UploadButton>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    openFolder = (folderName) => {\r\n        let {route} = this.state;\r\n        route = [...route];\r\n        route.push(folderName);\r\n        this.changeRoute(route);\r\n    }\r\n\r\n    onClickFile = (name, type) => {\r\n        if (!name) {\r\n            this.setState({selectedFile: \"\", selectedFiles: []});\r\n            return;\r\n        }\r\n\r\n        this.setState({selectedFile: name, selectedFiles: [name]});\r\n    }\r\n\r\n    onDoubleClickFile = (name, type) => {\r\n        if (type === \"folder\") {\r\n            this.openFolder(name);\r\n        }\r\n        else {\r\n\r\n        }\r\n    }\r\n\r\n    getFileIconPreview = (fileData) => {\r\n        let {siteData} = this.context;\r\n        let filename = fileData.Key.split('/')[fileData.Key.split('/').length - 1];\r\n        let extention = filename.split('.').pop();\r\n        console.log(\"getFileIconPreview\", this.getValidFileExt(\"images\"), extention)\r\n        if (this.getValidFileExt(\"images\").includes(extention)) {\r\n            return (\r\n                <img draggable={false}\r\n                     className=\"FileManagerImageIcon\"\r\n                     src={\r\n                         `${DomainManager.getStorageBaseUrl(siteData)}${fileData.Key}`\r\n                     }\r\n                     style={{\r\n                         userDrag: \"none\",\r\n                         userSelect: \"none\"\r\n                     }}\r\n                />\r\n            )\r\n        } else {\r\n            return (\r\n                <div className=\"FileManagerNonImageRoot\">\r\n                    <img draggable={false}\r\n                         className=\"FileManagerNonImageIcon\"\r\n                         src={process.env.PUBLIC_URL + '/static/icon/fileicon.png'}\r\n                            style={{\r\n                                     userDrag: \"none\",\r\n                                     userSelect: \"none\"\r\n                                 }}\r\n                    />\r\n                    <span className=\"FileManagerNonImageText\">\r\n                        {extention}\r\n                    </span>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    deleteFiles = () => {\r\n        let {selectedFile, selectedFiles, list} = this.state;\r\n\r\n        let deleteObjects = [];\r\n        selectedFiles.forEach(filename => {\r\n            if (this.getFileType(filename) === \"file\")\r\n                deleteObjects.push({Key: `${this.getCurrentPrefix()}/${filename}`})\r\n        });\r\n\r\n        let currentPrifix = this.getCurrentPrefix();\r\n        FileManagerHelper.delete(this.context, deleteObjects, () => {\r\n            if (currentPrifix === this.getCurrentPrefix())\r\n                this.loadRoute();\r\n        }, (errorMessage) => {\r\n            this.setState({errorMessage});\r\n        });\r\n    }\r\n\r\n    getFileType = (selectedFile) => {\r\n        let {list} = this.state;\r\n\r\n        let isFile = list.contents.find(f => {\r\n            let filename = f.Key.split('/')[f.Key.split('/').length - 1];\r\n            return filename === selectedFile;\r\n        });\r\n\r\n        let isFolder = list.folders.find(f => {\r\n            let folderName = f.split('/')[0];\r\n            return folderName === selectedFile;\r\n        });\r\n\r\n        if (isFile)\r\n            return \"file\";\r\n\r\n        if (isFolder)\r\n            return \"folder\";\r\n\r\n        return \"unknown\";\r\n    }\r\n\r\n    selectedFilesContainFile = () => {\r\n        let {list, selectedFiles} = this.state;\r\n\r\n        if (!list)\r\n            return false;\r\n\r\n        let found = false;\r\n        list.contents.forEach(f => {\r\n            let filename = f.Key.split('/')[f.Key.split('/').length - 1];\r\n            if (selectedFiles.includes(filename))\r\n                found = true;\r\n        });\r\n\r\n        return found;\r\n    }\r\n\r\n    addFileManually = (fileData) => {\r\n        if (fileData.prefix !== this.getCurrentPrefix())\r\n            return;\r\n\r\n        let {list} = this.state;\r\n\r\n        list.contents.push({\r\n            Key: `${list.basePrefix}/${fileData.prefix}/${fileData.file.name}`\r\n        })\r\n\r\n        this.forceUpdate();\r\n    }\r\n\r\n    loadUserUsage = () => {\r\n        FileManagerHelper.usage(this.context, (usageData) => {\r\n            this.setState({usageData})\r\n        }, (errorMessage) => {\r\n            this.setState({errorMessage});\r\n        });\r\n    }\r\n\r\n    getUsageColor = () => {\r\n        let {usageData} = this.state;\r\n\r\n        let usagePercent = this.getUsagePercent();\r\n        if (usagePercent < 50)\r\n            return \"#53ff30\";\r\n        if (usagePercent < 80)\r\n            return \"#f8ff30\";\r\n        if (usagePercent < 90)\r\n            return \"#ff8a30\";\r\n        // if (usagePercent < 100)\r\n        return \"#ff3030\";\r\n    }\r\n\r\n    getUsagePercent = () => {\r\n        let {usageData} = this.state;\r\n        return usageData.usage / 500 / 1024 / 1024 * 100;\r\n    }\r\n\r\n    render () {\r\n        let {options, onDone, onClose} = this.props;\r\n        let {list, usageData, selectedMenu, selectedFiles, route, uploadingData} = this.state;\r\n        // return <Modal\r\n        //     open={this.props.open}\r\n        //     onClose={this.props.onClose}\r\n        //     aria-labelledby=\"simple-modal-title2\"\r\n        //     aria-describedby=\"simple-modal-description2\"\r\n        //     className=\"FileManagerModal\"\r\n        //     disableBackdropClick\r\n        // >\r\n        return (\r\n            <>\r\n            <div className=\"FileManagerRoot\" style={this.props.rootStyle}>\r\n                {/*Header*/}\r\n                {\r\n                    !options.noHeader &&\r\n                    <div className=\"FileManagerHeader\">\r\n                        <div\r\n                            className=\"PageManagerHeaderContainer\"\r\n                        >\r\n                            <span className=\"PageManagerHeaderTitle\">\r\n                                File Manager\r\n                            </span>\r\n\r\n                            {\r\n                                this.props.onClose &&\r\n                                <IconButton\r\n                                    onClick={this.props.onClose}\r\n                                >\r\n                                    <img\r\n                                        draggable={false}\r\n                                        width={12}\r\n                                        height={12}\r\n                                        src={require('../../icons/close.svg')}\r\n                                    />\r\n                                </IconButton>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                }\r\n\r\n                <div className=\"FileManagerContainer\">\r\n                    <div className=\"FileManagerMenu\">\r\n                        <div className=\"FileManagerMenuContainer\">\r\n                        <span className=\"FileManagerMenuTitle\">\r\n                            Manage\r\n                        </span>\r\n\r\n                        <ButtonBase\r\n                            className={`FileManagerMenuOptionButton ${\r\n                                selectedMenu === \"Website Files\" ? \"FileManagerMenuOptionSelected\": \"\"\r\n                            }`}\r\n                            onClick={(e) => {this.setState({selectedMenu: \"Website Files\"})}}>\r\n                            <span className=\"FileManagerMenuOption\">\r\n                                Website Files\r\n                            </span>\r\n                        </ButtonBase>\r\n                        </div>\r\n\r\n                        <div className=\"FileManagerMenuUploadContainer\">\r\n                            <UploadButton\r\n                                className=\"FileManagerMenuUploadContainerButton\"\r\n                                onFileSelected={(e) => {\r\n                                    this.uploadFile(Object.values(e.target.files).map(file => {\r\n                                        return file;\r\n                                    }))\r\n                                }}\r\n                                multiple\r\n                                accept={\r\n                                    this.getValidFileExt().includes(\"all\") ? undefined :\r\n                                    this.getValidFileExt().map(e => `.${e}`).join(',')\r\n                                }\r\n                            >\r\n                                Upload New File\r\n                            </UploadButton>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"FileManagerContent\">\r\n                        {\r\n                            selectedMenu === \"Website Files\" &&\r\n                            <>\r\n                                <div className=\"FileManagerContentHeader\">\r\n                                    <div  className=\"FileManagerContentHeaderRoute\">\r\n                                        <ButtonBase\r\n                                            style={{\r\n                                                padding: 4,\r\n                                                borderRadius: 4\r\n                                            }}\r\n                                            onClick={(e) => {\r\n                                                this.changeRoute(this.getFirstRoute());\r\n                                            }}\r\n                                        >\r\n                                            {\r\n                                                this.state.route[0] +\r\n                                                (options.type ? \" > \" + options.type || \"\": \"\")\r\n                                            }\r\n                                        </ButtonBase>\r\n                                        {\r\n                                            this.state.route.map((name, i)=> {\r\n                                                if (i === 0)\r\n                                                    return null;\r\n\r\n                                                if (i === 1 && options.type)\r\n                                                    return null;\r\n\r\n                                                return (\r\n                                                    <React.Fragment\r\n                                                        key={name}\r\n                                                    >\r\n                                                        >\r\n                                                        <ButtonBase\r\n                                                            style={{\r\n                                                                padding: 4,\r\n                                                                borderRadius: 4,\r\n                                                            }}\r\n                                                            onClick={(e) => {\r\n                                                                let newRoute = this.getFirstRoute();\r\n                                                                let currentRoute = [...route];\r\n                                                                currentRoute.shift()\r\n                                                                if (options.type)\r\n                                                                    currentRoute.shift();\r\n\r\n                                                                let next = currentRoute.shift();\r\n                                                                while (next !== name) {\r\n                                                                    newRoute.push(next);\r\n                                                                    next = currentRoute.shift();\r\n                                                                }\r\n                                                                newRoute.push(name);\r\n\r\n                                                                this.changeRoute(newRoute);\r\n                                                            }}\r\n                                                        >\r\n                                                            {name}\r\n                                                        </ButtonBase>\r\n                                                    </React.Fragment>\r\n                                                )\r\n                                            })\r\n                                        }\r\n                                    </div>\r\n\r\n                                    <IconButton\r\n                                        buttonBaseStyle={{\r\n                                        }}\r\n                                        imageContainerStyle={{\r\n                                            padding: 0\r\n                                        }}\r\n                                        onClick={(e) => {\r\n                                            let newRoute = [...route];\r\n                                            if (!options.type && route.length === 1)\r\n                                                return;\r\n                                            if (options.type && route.length === 2)\r\n                                                return;\r\n\r\n                                            newRoute.pop();\r\n\r\n                                            this.changeRoute(newRoute);\r\n                                        }}\r\n                                    >\r\n                                        <img\r\n                                            draggable={false}\r\n                                            width={20}\r\n                                            height={20}\r\n                                            src={require('../../icons/folderback.svg')}\r\n                                        />\r\n                                    </IconButton>\r\n\r\n                                    <IconButton\r\n                                        buttonBaseStyle={{\r\n                                            marginLeft: 16\r\n                                        }}\r\n                                        imageContainerStyle={{\r\n                                            padding: 0\r\n                                        }}\r\n                                        onClick={(e) => {\r\n                                            this.setState({newFolder: true});\r\n                                        }}\r\n                                    >\r\n                                        <img\r\n                                            draggable={false}\r\n                                            width={20}\r\n                                            height={20}\r\n                                            src={require('../../icons/folder.svg')}\r\n                                        />\r\n                                    </IconButton>\r\n\r\n                                    <IconButton\r\n                                        buttonBaseStyle={{\r\n                                            marginLeft: 16\r\n                                        }}\r\n                                        imageContainerStyle={{\r\n                                            padding: 0\r\n                                        }}\r\n                                        onClick={(e) => {\r\n                                            this.deleteFiles();\r\n                                        }}\r\n                                        disabled={!this.selectedFilesContainFile()}\r\n                                    >\r\n                                        {\r\n                                            !this.selectedFilesContainFile()?\r\n                                                <img\r\n                                                    draggable={false}\r\n                                                    width={20}\r\n                                                    height={20}\r\n                                                    src={require('../../icons/bindisable.svg')}\r\n                                                />\r\n                                                :\r\n                                                <img\r\n                                                    draggable={false}\r\n                                                    width={20}\r\n                                                    height={20}\r\n                                                    src={require('../../icons/bin.svg')}\r\n                                                />\r\n                                         }\r\n                                    </IconButton>\r\n                                </div>\r\n\r\n                                <Dropzone\r\n                                    onDrop={acceptedFiles => this.uploadFile(acceptedFiles)}\r\n                                >\r\n                                    {({getRootProps, getInputProps}) => (\r\n                                        <div\r\n                                            className=\"FileManagerContentData\"\r\n                                            {...getRootProps({\r\n                                                onClick: event => {\r\n                                                    this.onClickFile();\r\n                                                    event.stopPropagation()\r\n                                                }\r\n                                            })}\r\n                                        >\r\n                                            <input {...getInputProps()}\r\n                                                   onKeyDown={inputCopyPasteHandler}\r\n                                            />\r\n                                            {\r\n                                                !list &&\r\n                                                <div className=\"FileManagerLoadingContainer\">\r\n                                                    <CircularProgress />\r\n                                                </div>\r\n                                            }\r\n                                            {\r\n                                                list && list.contents.length === 0 &&\r\n                                                list.folders.length === 0 &&\r\n                                                this.getEmptyFolder()\r\n                                            }\r\n                                            <div className=\"FileManagerFileContainer\">\r\n                                                {\r\n                                                    list &&\r\n                                                    list.folders.map(folderPath => {\r\n                                                        let folderName = folderPath.split('/')[0];\r\n                                                        return (\r\n                                                            <div key={folderPath} className=\"FileManagerFileRoot\">\r\n                                                                <div>\r\n                                                                    <div\r\n                                                                        className={`FileManagerFileData ${\r\n                                                                            selectedFiles.includes(folderPath) ?\r\n                                                                                \"FileManagerFileSelected\" : \"\"\r\n                                                                        }`}\r\n                                                                        onClick={\r\n                                                                            (e) => {\r\n                                                                                e.stopPropagation();\r\n                                                                                this.onClickFile(folderPath, \"folder\");\r\n                                                                            }\r\n                                                                        }\r\n                                                                        onDoubleClick={\r\n                                                                            (e) => {\r\n                                                                                e.stopPropagation();\r\n                                                                                this.onDoubleClickFile(folderPath, \"folder\");\r\n                                                                            }\r\n                                                                        }\r\n                                                                    >\r\n                                                                        <img draggable={false} width={56} height={56}\r\n                                                                             src={require('../../icons/file.svg')}\r\n                                                                             style={{\r\n                                                                                 userDrag: \"none\",\r\n                                                                                 userSelect: \"none\"\r\n                                                                             }}\r\n                                                                        />\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                                <span className=\"FileManagerFileName\">\r\n                                                                    {folderName}\r\n                                                                </span>\r\n                                                            </div>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                                {\r\n                                                    list &&\r\n                                                    list.contents.map(fileData => {\r\n                                                        let filename = fileData.Key.split('/')[fileData.Key.split('/').length - 1];\r\n\r\n                                                        let shortName = filename.split('.').slice(0, -1).join('.');\r\n\r\n                                                        let extention = filename.split('.').pop();\r\n                                                        return (\r\n                                                            <div key={filename} className=\"FileManagerFileRoot\">\r\n                                                                <div>\r\n                                                                    <div\r\n                                                                        className={`FileManagerFileData ${\r\n                                                                            selectedFiles.includes(filename) ?\r\n                                                                                \"FileManagerFileSelected\" : \"\"\r\n                                                                        }`}\r\n                                                                        onClick={\r\n                                                                            (e) => {\r\n                                                                                e.stopPropagation();\r\n                                                                                this.onClickFile(filename, \"file\");\r\n                                                                            }\r\n                                                                        }\r\n                                                                        onDoubleClick={\r\n                                                                            (e) => {\r\n                                                                                e.stopPropagation();\r\n                                                                                this.onDoubleClickFile(filename, \"file\");\r\n                                                                            }\r\n                                                                        }\r\n                                                                    >\r\n                                                                        {this.getFileIconPreview(fileData)}\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                                <div className=\"FileManagerFileNameHolder\">\r\n                                                                    <span className=\"FileManagerFileName\">\r\n                                                                        {shortName}\r\n                                                                    </span>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                            </div>\r\n\r\n                                            {\r\n                                                uploadingData &&\r\n                                                <FileUploader\r\n                                                    ref={this.uploaderRef}\r\n                                                    prefix={uploadingData.prefix}\r\n                                                    files={uploadingData.files}\r\n                                                    onFinish={() => {\r\n                                                        this.setState({uploadingData: undefined})\r\n                                                    }}\r\n                                                    onSingleFileUploaded={this.addFileManually}\r\n                                                />\r\n                                            }\r\n                                        </div>\r\n                                    )}\r\n                                </Dropzone>\r\n\r\n                                <div className=\"FileManagerContentFooter\">\r\n                                        <div className=\"FileManagerContentUsageRoot\">\r\n                                            {\r\n                                                usageData &&\r\n                                                <>\r\n                                                    <div className=\"FileManagerContentUsageLabelRoot\">\r\n                                                    <span className=\"FileManagerContentUsageLabel\">\r\n                                                        Website Usage\r\n                                                    </span>\r\n                                                        <span>\r\n                                                        {\r\n                                                            `${(usageData.usage / 1024 / 1024).toFixed(2)} Mb / 500 Mb`\r\n                                                        }\r\n                                                    </span>\r\n                                                    </div>\r\n                                                    <MultiColorProgressBar\r\n                                                    readings={[\r\n                                                        {\r\n                                                            name: 'Used Space',\r\n                                                            value: this.getUsagePercent(),\r\n                                                            color: this.getUsageColor()\r\n                                                        },\r\n                                                        {\r\n                                                            name: 'Free Space',\r\n                                                            value: 100 - this.getUsagePercent(),\r\n                                                            color: '#f8f8f8'\r\n                                                        }\r\n                                                    ]}\r\n                                                    />\r\n                                                </>\r\n                                            }\r\n                                        </div>\r\n                                    {\r\n                                        onDone &&\r\n                                        <div className=\"FileManagerContentCallbackRoot\">\r\n                                            <ButtonBase\r\n                                                className={\r\n                                                    selectedFiles.length > 0 ?\r\n                                                    \"FileManagerMenuSelectButton\" :\r\n                                                    \"FileManagerMenuSelectButtonDisabled\"\r\n                                                }\r\n                                                onClick={(e) => {\r\n                                                    onClose();\r\n                                                    onDone(selectedFiles.map(filename => {\r\n                                                        return {\r\n                                                            url: `${this.baseUrl}/${list.basePrefix}/${this.getCurrentPrefix()}/${filename}`,\r\n                                                            pathname: `${list.basePrefix}/${this.getCurrentPrefix()}/${filename}`\r\n                                                        }\r\n                                                    }));\r\n                                                }}\r\n                                            >\r\n                                                Select\r\n                                            </ButtonBase>\r\n                                        </div>\r\n                                    }\r\n                                </div>\r\n                            </>\r\n                        }\r\n                        <div className=\"FileManagerUploadingRoot\">\r\n                            {/*TODO show upload progress of uploading files*/}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {\r\n                this.state.newFolder &&\r\n                <NewFolder\r\n                    open={true}\r\n                    onClose={(e) => {this.setState({newFolder: false})}}\r\n                    onDone={this.createNewFolder}\r\n                />\r\n            }\r\n            </>\r\n        )\r\n        // </Modal>\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {EditorContext} from \"../../Editor/EditorContext\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport './FileManager.css';\r\nimport FileManager from \"./FileManager\";\r\n\r\nexport default class FileManagerModal extends React.Component {\r\n    static contextType = EditorContext;\r\n    render () {\r\n        return <Modal\r\n            open={this.props.open}\r\n            onClose={this.props.onClose}\r\n            aria-labelledby=\"simple-modal-title2\"\r\n            aria-describedby=\"simple-modal-description2\"\r\n            className=\"FileManagerModal\"\r\n            disableBackdropClick\r\n        >\r\n            <FileManager {...this.props}/>\r\n        </Modal>\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport IconButton from \"../../../HelperComponents/IconButton\";\r\nimport Modal from \"@material-ui/core/Modal\";\r\nimport './Confirm.css';\r\nimport Button from \"@material-ui/core/Button/Button\";\r\n\r\nexport default class Confirm extends React.Component {\r\n    render () {\r\n        let {title, message, yesText, noText, onYes, onNo, onClose, open} = this.props;\r\n        return <Modal\r\n            open={open || true}\r\n            onClose={onClose}\r\n            aria-labelledby=\"simple-modal-title2\"\r\n            aria-describedby=\"simple-modal-description2\"\r\n            className=\"FileManagerModal\"\r\n            disableBackdropClick\r\n            disableEnforceFocus\r\n        >\r\n            <div className=\"NewFolderRoot\">\r\n                {/*Header*/}\r\n                <div className=\"FileManagerHeader\">\r\n                    <div\r\n                        className=\"PageManagerHeaderContainer\"\r\n                    >\r\n                            <span className=\"PageManagerHeaderTitle\">\r\n                                {title || \"Confirmation\"}\r\n                            </span>\r\n\r\n                        <IconButton\r\n                            onClick={onClose}\r\n                        >\r\n                            <img\r\n                                draggable={false}\r\n                                width={12}\r\n                                height={12}\r\n                                src={require('../../../icons/close.svg')}\r\n                            />\r\n                        </IconButton>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"NewFolderContainer\">\r\n                    <span className=\"NewFolderTitle\">\r\n                        {message || \"Are you sure ?\"}\r\n                    </span>\r\n\r\n                    <div className=\"ConfirmButtonRoot\">\r\n                        <Button\r\n                            className=\"ConfirmYes\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={() => {\r\n                                onClose && onClose();\r\n                                onYes && onYes();\r\n                            }}\r\n                        >\r\n                            {yesText || \"Yes\"}\r\n                        </Button>\r\n                        <Button\r\n                            className=\"ConfirmNo\"\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={() => {\r\n                                onClose && onClose();\r\n                                onNo && onNo();\r\n                            }}\r\n                        >\r\n                            {noText || \"No\"}\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {EditorContext} from \"../../EditorContext\";\r\nimport './SiteSetting.css';\r\nimport Button from \"@material-ui/core/Button/Button\";\r\nimport ReactLoading from \"react-loading\";\r\nimport UploadButton from \"../../../Components/FileManager/Components/UploadButton\";\r\nimport FileManagerHelper from \"../../../Components/FileManager/FileManagerHelper\";\r\nimport {getRandomLinkId} from \"../../../Components/Text/TextHelper\";\r\nimport Confirm from \"../Components/Confirm\";\r\nimport {inputCopyPasteHandler} from \"../../../AwesomwGridLayoutHelper\";\r\n\r\nexport default class SiteSetting extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n    onRename = (e) => {\r\n        this.newName = e.target.value;\r\n    }\r\n\r\n    onRenameClicked = () => {\r\n        if (this.newName.length < 3) {\r\n            this.context.postMessageToHolder(\r\n                {\r\n                    type: \"Holder\",\r\n                    func: \"showSnackbar\",\r\n                    inputs: ['Name must have at least 3 character']\r\n                });\r\n            return;\r\n        }\r\n\r\n        let {website} = this.context;\r\n\r\n        this.setState({loading: true});\r\n        this.context.postMessageToHolder(\r\n            {\r\n                type: \"Server\",\r\n                route: \"/website\",\r\n                input: {id: website.id, name: this.newName},\r\n                method: \"put\"\r\n            },\r\n            ({result}) => {\r\n                if (result.success) {\r\n                    this.setState({loading: false});\r\n                    website.name = this.newName;\r\n                    this.context.postMessageToHolder(\r\n                        {\r\n                            type: \"Holder\",\r\n                            func: \"showSnackbar\",\r\n                            inputs: ['Name changed successfully', 'success']\r\n                        });\r\n                }\r\n                else\r\n                {\r\n                    this.setState({loading: false});\r\n                    this.context.postMessageToHolder(\r\n                        {\r\n                            type: \"Holder\",\r\n                            func: \"showSnackbar\",\r\n                            inputs: [\"Can't change website name\", 'error']\r\n                        });\r\n                }\r\n            });\r\n    }\r\n\r\n    checkValidation = (type) => {\r\n        if (!type)\r\n            return true;\r\n\r\n        switch (type.toLowerCase()) {\r\n            case \"name\": {\r\n                let {website} = this.context;\r\n\r\n                if (this.newName === undefined)\r\n                    this.newName = website.name;\r\n\r\n                if (this.newName.length < 3) {\r\n                    this.context.postMessageToHolder(\r\n                        {\r\n                            type: \"Holder\",\r\n                            func: \"showSnackbar\",\r\n                            inputs: ['Name must have at least 3 character', 'warning']\r\n                        });\r\n                    return false;\r\n                }\r\n                if (this.newName === website.name)\r\n                    return false;\r\n                break;\r\n            }\r\n            case \"description\": {\r\n                let {website} = this.context;\r\n\r\n                if (this.newDescription === undefined)\r\n                    this.newDescription = website.description;\r\n\r\n                if (this.newDescription.length < 3) {\r\n                    this.context.postMessageToHolder(\r\n                        {\r\n                            type: \"Holder\",\r\n                            func: \"showSnackbar\",\r\n                            inputs: ['Description must have at least 3 character', 'warning']\r\n                        });\r\n                    return false;\r\n                }\r\n                if (this.newDescription === website.description)\r\n                    return false;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    getSuccessMessage = (type) => {\r\n        if (!type)\r\n            return true;\r\n\r\n        switch (type.toLowerCase()) {\r\n            case \"name\":\r\n                return \"Name changed successfully\"\r\n            case \"description\":\r\n                return \"Description changed successfully\"\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    onWebsiteChange = (type, paramChange, onSuccess) => {\r\n        if (!this.checkValidation(type)) {\r\n            return;\r\n        }\r\n\r\n        let {website} = this.context;\r\n\r\n        this.setState({loading: true});\r\n        this.context.postMessageToHolder(\r\n            {\r\n                type: \"Server\",\r\n                route: \"/website\",\r\n                input: {id: website.id, ...paramChange},\r\n                method: \"put\"\r\n            },\r\n            ({result}) => {\r\n                if (result.success) {\r\n                    this.setState({loading: false});\r\n                    onSuccess && onSuccess();\r\n                    this.context.postMessageToHolder(\r\n                        {\r\n                            type: \"Holder\",\r\n                            func: \"showSnackbar\",\r\n                            inputs: [this.getSuccessMessage(type), 'success']\r\n                        });\r\n                }\r\n                else\r\n                {\r\n                    this.setState({loading: false});\r\n                    this.context.postMessageToHolder(\r\n                        {\r\n                            type: \"Holder\",\r\n                            func: \"showSnackbar\",\r\n                            inputs: [result.message, 'error']\r\n                        });\r\n                }\r\n            });\r\n    }\r\n\r\n    uploadFavIcon = (file) => {\r\n        this.setState({loading: true});\r\n        FileManagerHelper.storage(this.context, ({url}) => {\r\n            let baseUrl = url;\r\n            FileManagerHelper.list(this.context, \"\", undefined, (list, prefix) => {\r\n                let basePrefix = list.basePrefix;\r\n                let postHash = getRandomLinkId(5);\r\n                FileManagerHelper.fullUpload(\r\n                    this.context, \"favIcons/favIcon\" + postHash, file, () => {\r\n\r\n                        let {siteData, website} = this.context;\r\n\r\n                        siteData.setting.favIconLink = `${baseUrl}/${basePrefix}/favIcons/favIcon` + postHash;\r\n\r\n                        this.context.postMessageToHolder(\r\n                            {\r\n                                type: \"Holder\",\r\n                                func: \"saveWebsite\",\r\n                                inputs: [true]\r\n                            }, (success) => {\r\n                                this.setState({loading: false});\r\n\r\n                                this.context.postMessageToHolder(\r\n                                    {\r\n                                        type: \"Holder\",\r\n                                        func: \"showSnackbar\",\r\n                                        inputs: ['Fav icon uploaded successfully', 'success']\r\n                                    });\r\n                            });\r\n                    }, (e, cancelTokenSource) => {\r\n\r\n                    }, (errorMessage) => {\r\n                        this.setState({loading: false});\r\n                        console.log(\"uploadFavIcon error\", errorMessage)\r\n                    }\r\n                )\r\n            }, (errorMessage) => {\r\n                this.setState({loading: false});\r\n                console.log(\"storage error\", errorMessage);\r\n            });\r\n        }, (errorMessage) => {\r\n            this.setState({loading: false});\r\n            console.log(\"storage error\", errorMessage);\r\n        });\r\n    }\r\n\r\n    deleteWebsite = () => {\r\n        this.onWebsiteChange(undefined, {archive: \"hidden\"}, () => {\r\n            this.context.postMessageToHolder({\r\n                type: \"Holder\",\r\n                func: \"closeHolder\",\r\n                inputs: []\r\n            });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        let {siteData, website} = this.context;\r\n        let isPublished = website.metadata.isPublished;\r\n        return (\r\n            <div className=\"SitSettingRoot\">\r\n                <div className=\"SitSettingMainRoot\">\r\n                    <div className=\"SitSettingNameRoot\">\r\n                        <span className=\"SitSettingNameTitle\">\r\n                            Website Name\r\n                        </span>\r\n                        <span className=\"SitSettingNameDesc\">\r\n                            You can change your website name only before publishing your website for first time.\r\n                        </span>\r\n\r\n                        <input\r\n                            defaultValue={isPublished? undefined: website.name}\r\n                            className=\"NumberInput PageManagerRenameInput PageInfoNameInput SitSettingNameInput\"\r\n                            type=\"text\"\r\n                            onChange={this.onRename}\r\n                            value={isPublished? website.name: undefined}\r\n                            onKeyDown={inputCopyPasteHandler}\r\n                        >\r\n                        </input>\r\n\r\n                        {\r\n                            !isPublished &&\r\n                            <Button className=\"SitSettingNameButton\" variant=\"contained\" color=\"primary\"\r\n                                    onClick={() => {\r\n                                        this.onWebsiteChange(\r\n                                            \"name\", {\r\n                                                name: this.newName\r\n                                            }, () => {\r\n                                                website.name = this.newName;\r\n                                            }\r\n                                        );\r\n                                    }}\r\n                            >\r\n                                Change Name\r\n                            </Button>\r\n                        }\r\n                    </div>\r\n                    <div className=\"SitSettingNameRoot\">\r\n                        <span className=\"SitSettingNameTitle\">\r\n                            Website Description\r\n                        </span>\r\n                        <span className=\"SitSettingNameDesc\">\r\n                            A description to describe your website ti you and your colleagues\r\n                        </span>\r\n\r\n                        <input\r\n                            defaultValue={website.description}\r\n                            className=\"NumberInput PageManagerRenameInput PageInfoNameInput SitSettingNameInput\"\r\n                            type=\"text\"\r\n                            onChange={(e) => {\r\n                                this.newDescription = e.target.value;\r\n                            }}\r\n                            onKeyDown={inputCopyPasteHandler}\r\n                        >\r\n                        </input>\r\n\r\n                        <Button className=\"SitSettingNameButton\" variant=\"contained\" color=\"primary\"\r\n                                onClick={() => {\r\n                                    this.onWebsiteChange(\r\n                                        \"description\", {\r\n                                            description: this.newDescription\r\n                                        }, () => {\r\n                                            website.description = this.newDescription;\r\n                                        }\r\n                                    );\r\n                                }}\r\n                        >\r\n                            Change Description\r\n                        </Button>\r\n                    </div>\r\n                    <div className=\"SitSettingFavRoot\">\r\n                        <div className=\"SitSettingFavLeft\">\r\n                             <span className=\"SitSettingNameTitle\">\r\n                            Website Fav Icon\r\n                        </span>\r\n                            <span className=\"SitSettingNameDesc\">\r\n                            Fav icon shown on browser tab for your website\r\n                        </span>\r\n\r\n                            <UploadButton\r\n                                className=\"SitSettingFavIconUploader\"\r\n                                onFileSelected={(e) => {\r\n                                    this.uploadFavIcon(Object.values(e.target.files).map(file => {\r\n                                        return file;\r\n                                    })[0])\r\n                                }}\r\n                                accept={\r\n                                    [\r\n                                        \"jpg\", \"jpeg\", \"png\",\r\n                                        \"gif\", \"jpe\", \"jfif\",\r\n                                        \"bmp\", \"heic\", \"heif\",\r\n                                        \"tiff\", \"tif\", \"svg\",\r\n                                        \"tiff\", \"tif\", \"png\",\r\n                                        \"tiff\", \"tif\", \"webp\"\r\n                                    ]\r\n                                }\r\n                            >\r\n                                Upload Fav Icon\r\n                            </UploadButton>\r\n                        </div>\r\n\r\n                        {\r\n                            siteData.setting.favIconLink &&\r\n                            <img\r\n                                className=\"SitSettingFavRight\"\r\n                                draggable={false} width={100} height={100}\r\n                                 src={siteData.setting.favIconLink}\r\n                            />\r\n                        }\r\n                    </div>\r\n                    <div className=\"SitSettingNameRoot SitSettingLastRoot\">\r\n                        <span className=\"SitSettingNameTitle\">\r\n                            Delete Website\r\n                        </span>\r\n                        <span className=\"SitSettingNameDesc\">\r\n                            Delete your website to hide from your dashboard. you can't rollback this action without calling weblancer operator\r\n                        </span>\r\n\r\n                        <Button className=\"SitSettingNameButton\" variant=\"contained\" color=\"primary\"\r\n                                onClick={() => {\r\n                                    this.setState({deleteConfirm: true})\r\n                                }}\r\n                        >\r\n                            Delete Website\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n\r\n                {\r\n                    this.state.loading &&\r\n                    <div className=\"MainLoading\">\r\n                        <ReactLoading type={'bubbles'}\r\n                                      color={\"#7cfdf7\"}\r\n                                      height={'85px'}\r\n                                      width={'85px'}\r\n                        />\r\n                    </div>\r\n                }\r\n\r\n                {\r\n                    this.state.deleteConfirm &&\r\n                    <Confirm\r\n                        onClose={() => {this.setState({deleteConfirm: false})}}\r\n                        title={\"Alert !!!\"}\r\n                        message={\"Are you sure about deleting this website ?!\"}\r\n                        onYes={this.deleteWebsite}\r\n                    />\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {EditorContext} from \"../../EditorContext\";\r\nimport './SitePlans.css';\r\nimport moment from 'moment';\r\nimport FileManagerHelper from \"../../../Components/FileManager/FileManagerHelper\";\r\nimport MultiColorProgressBar from \"../../../Components/FileManager/Components/MultiColorProgressBar\";\r\nimport Button from \"@material-ui/core/Button/Button\";\r\n\r\nexport default class SitePlans extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loading: false\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n        this.loadUserUsage();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n    getLastWebsitePlan = () => {\r\n        let {siteData, website} = this.context;\r\n\r\n        let sortedList = website.website_plans.sort((a, b) => {\r\n            let aStartDate = moment(a.startDate);\r\n            let bStartDate = moment(b.startDate);\r\n            return aStartDate.isAfter(bStartDate);\r\n        });\r\n\r\n        return sortedList[0];\r\n    }\r\n\r\n    getResourcePlan = () => {\r\n        return this.getLastWebsitePlan().plan.productsDetail[0];\r\n    }\r\n\r\n    loadUserUsage = () => {\r\n        FileManagerHelper.usage(this.context, (usageData) => {\r\n            this.setState({usageData})\r\n        }, (errorMessage) => {\r\n            this.setState({errorMessage});\r\n        });\r\n    }\r\n\r\n    getUsageColor = () => {\r\n        let {usageData} = this.state;\r\n\r\n        let usagePercent = this.getUsagePercent();\r\n        if (usagePercent < 50)\r\n            return \"#53ff30\";\r\n        if (usagePercent < 80)\r\n            return \"#f8ff30\";\r\n        if (usagePercent < 90)\r\n            return \"#ff8a30\";\r\n        // if (usagePercent < 100)\r\n        return \"#ff3030\";\r\n    }\r\n\r\n    getUsagePercent = () => {\r\n        let {usageData} = this.state;\r\n        let resourcePlan = this.getResourcePlan();\r\n        return usageData.usage / resourcePlan.metadata.storage / 1024 / 1024 * 100;\r\n    }\r\n\r\n    render() {\r\n        let {siteData, website} = this.context;\r\n        let {usageData} = this.state;\r\n        let isPublished = website.metadata.isPublished;\r\n        let lastWebsitePlan = this.getLastWebsitePlan();\r\n        let resourcePlan = this.getResourcePlan();\r\n        return (\r\n            <div className=\"SitePlansRoot\">\r\n                <div className=\"SitePlansCurrentRoot\">\r\n                    <div className=\"SitePlansMainRoot\">\r\n                        <span className=\"SitePlansTitle\">\r\n                            Website Plan\r\n                        </span>\r\n                        <span className=\"SitePlansPlanName\">\r\n                            {lastWebsitePlan.plan.name} {lastWebsitePlan.planTime === \"trial\" ? \"(Trial)\": \"\"}\r\n                        </span>\r\n                        <div className=\"SitePlansDataRow\">\r\n                            <span className=\"SitePlansDataRowTitle\">\r\n                                Expire Date\r\n                            </span>\r\n                            <span className=\"SitePlansDataRowData\">\r\n                                {moment(lastWebsitePlan.expireDate).format(\"MM-DD-YYYY\")}\r\n                            </span>\r\n                        </div>\r\n\r\n                        {\r\n                            (lastWebsitePlan.plan.metadata.features || []).map(feature => {\r\n                                return (\r\n                                    <div className=\"SitePlansDataRow\">\r\n                                        <span className=\"SitePlansFeatureRowTitle\">\r\n                                            {feature.name}\r\n                                        </span>\r\n                                        <span className=\"SitePlansFeatureRowData\">\r\n                                            {feature.value}\r\n                                        </span>\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n\r\n                        <div className=\"SitePlansUpgradeRoot\">\r\n                            <span className=\"SitePlansRemaining\">\r\n                                {`${moment(lastWebsitePlan.expireDate).diff(moment(), \"d\")} days remaining`}\r\n                            </span>\r\n                            <Button className=\"SitePlansUpgradeButton\" color=\"primary\" variant=\"contained\">\r\n                                Upgrade Website Plan\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"SitePlansMainRoot\">\r\n                        <span className=\"SitePlansTitle\">\r\n                            Resource Plan\r\n                        </span>\r\n                        <span className=\"SitePlansPlanName\">\r\n                            {resourcePlan.name}\r\n                        </span>\r\n\r\n                        <div className=\"SitePlansDataRow\">\r\n                            <span className=\"SitePlansFeatureRowTitle\">\r\n                                Storage Limit\r\n                            </span>\r\n                            <span className=\"SitePlansFeatureRowData\">\r\n                                {resourcePlan.metadata.storage} Mb\r\n                            </span>\r\n                        </div>\r\n\r\n                        {\r\n                            usageData &&\r\n                            <div className=\"SitePlansResourceUsageRoot\">\r\n                                <MultiColorProgressBar\r\n                                    rootStyle={{flex: 1, height: 8}}\r\n                                    barsStyle={{height: 8}}\r\n                                    barStyle={{height: 8}}\r\n                                    readings={[\r\n                                        {\r\n                                            name: 'Used Space',\r\n                                            value: this.getUsagePercent(),\r\n                                            color: this.getUsageColor()\r\n                                        },\r\n                                        {\r\n                                            name: 'Free Space',\r\n                                            value: 100 - this.getUsagePercent(),\r\n                                            color: '#f8f8f8'\r\n                                        }\r\n                                    ]}\r\n                                />\r\n                                <span className=\"SitePlansResourceUsageText\">\r\n                                    {\r\n                                        `${(usageData.usage / 1024 / 1024).toFixed(2)} Mb used`\r\n                                    }\r\n                                </span>\r\n                            </div>\r\n                        }\r\n\r\n                        <div className=\"SitePlansDataRow\">\r\n                            <span className=\"SitePlansFeatureRowTitle\">\r\n                                Traffic Limit\r\n                            </span>\r\n                            <span className=\"SitePlansFeatureRowData\">\r\n                                {resourcePlan.metadata.traffic} Mb\r\n                            </span>\r\n                        </div>\r\n\r\n                        {\r\n                            usageData &&\r\n                            <div className=\"SitePlansResourceUsageRoot\">\r\n                                <MultiColorProgressBar\r\n                                    rootStyle={{flex: 1, height: 8, borderRadius: 4}}\r\n                                    barsStyle={{height: 8, borderRadius: 4}}\r\n                                    barStyle={{height: 8}}\r\n                                    readings={[\r\n                                        {\r\n                                            name: 'Used Space',\r\n                                            value: this.getUsagePercent(),\r\n                                            color: this.getUsageColor()\r\n                                        },\r\n                                        {\r\n                                            name: 'Free Space',\r\n                                            value: 100 - this.getUsagePercent(),\r\n                                            color: '#f8f8f8'\r\n                                        }\r\n                                    ]}\r\n                                />\r\n                                <span className=\"SitePlansResourceUsageText\">\r\n                                    {\r\n                                        `${(usageData.usage / 1024 / 1024).toFixed(2)} Mb used`\r\n                                    }\r\n                                </span>\r\n                            </div>\r\n                        }\r\n\r\n                        <div className=\"SitePlansUpgradeRoot\">\r\n                            {\r\n                                lastWebsitePlan.planTime === \"trial\" &&\r\n                                <span className=\"SitePlansUpgradeTip\">\r\n                                    Upgrade website plan first\r\n                                </span>\r\n                            }\r\n                            <Button\r\n                                className={!lastWebsitePlan.planTime === \"trial\"? \"SitePlansUpgradeButton\" :\"SitePlansUpgradeButtonDisabled\"}\r\n                                color=\"primary\"\r\n                                variant=\"contained\"\r\n                                disabled={lastWebsitePlan.planTime === \"trial\"}\r\n                            >\r\n                                Upgrade Resource Plan\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {EditorContext} from \"../EditorContext\";\r\nimport './Dashboard.css';\r\nimport ButtonBase from \"@material-ui/core/ButtonBase/ButtonBase\";\r\nimport SiteDashboard from \"./Content/SiteDashboard\";\r\nimport FileManager from \"../../Components/FileManager/FileManager\";\r\nimport FileManagerModal from \"../../Components/FileManager/FileManagerModal\";\r\nimport MenuItem from \"@material-ui/core/MenuItem/MenuItem\";\r\nimport SiteSetting from \"./Content/SiteSetting\";\r\nimport SitePlans from \"./Content/SitePlans\";\r\n\r\nexport default class Dashboard extends React.Component {\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            selectedMenu: props.defaultMenu || \"Dashboard\"\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.mounted = true;\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.mounted = false;\r\n    }\r\n\r\n    setSelectedMenu = (selectedMenu, menuOptions) => {\r\n        this.setState({selectedMenu, menuOptions});\r\n    }\r\n\r\n    onEditWebsiteClicked = () => {\r\n        this.context.postMessageToHolder(\r\n            {\r\n                type: \"Holder\",\r\n                func: \"setDashboard\",\r\n                inputs: [false]\r\n            }\r\n        );\r\n    }\r\n\r\n    render() {\r\n        let {siteData} = this.context;\r\n        let {selectedMenu, menuOptions} = this.state;\r\n        return (\r\n            <div className=\"DashboardRoot\">\r\n                <div className=\"DashboardMenuRoot\">\r\n                    <div className=\"DashboardListContainer\">\r\n                        <ButtonBase\r\n                            className={\"DashboardListItem\" +\r\n                            (selectedMenu === \"Dashboard\" ? \" DashboardListItemSelected\" : \"\")\r\n                            }\r\n                            onClick={() => {this.setSelectedMenu(\"Dashboard\")}}\r\n                        >\r\n                            Dashboard\r\n                        </ButtonBase>\r\n                        <ButtonBase\r\n                            className={\"DashboardListItem\" +\r\n                            (selectedMenu === \"Files\" ? \" DashboardListItemSelected\" : \"\")\r\n                            }\r\n                            onClick={() => {this.setSelectedMenu(\"Files\")}}\r\n                        >\r\n                            Files\r\n                        </ButtonBase>\r\n                        <ButtonBase\r\n                            className={\"DashboardListItem\" +\r\n                            (selectedMenu === \"Domains\" ? \" DashboardListItemSelected\" : \"\")\r\n                            }\r\n                            onClick={() => {this.setSelectedMenu(\"Domains\")}}\r\n                        >\r\n                            Domains\r\n                        </ButtonBase>\r\n                        <ButtonBase\r\n                            className={\"DashboardListItem\" +\r\n                            (selectedMenu === \"Plans\" ? \" DashboardListItemSelected\" : \"\")\r\n                            }\r\n                            onClick={() => {this.setSelectedMenu(\"Plans\")}}\r\n                        >\r\n                            Plans Usage\r\n                        </ButtonBase>\r\n                        <ButtonBase\r\n                            className={\"DashboardListItem\" +\r\n                            (selectedMenu === \"Settings\" ? \" DashboardListItemSelected\" : \"\")\r\n                            }\r\n                            onClick={() => {this.setSelectedMenu(\"Settings\")}}\r\n                        >\r\n                            Settings\r\n                        </ButtonBase>\r\n                    </div>\r\n                    <ButtonBase\r\n                        className=\"DashboardEditButton\"\r\n                        onClick={this.onEditWebsiteClicked}\r\n                    >\r\n                        <span>Edit Website</span>\r\n                    </ButtonBase>\r\n                </div>\r\n                <div className=\"DashboardContentRoot\">\r\n                    {\r\n                        selectedMenu === \"Dashboard\" &&\r\n                        <SiteDashboard\r\n                            menuOptions={menuOptions}\r\n                            setSelectedMenu={this.setSelectedMenu}\r\n                        />\r\n                    }\r\n                    {\r\n                        selectedMenu === \"Files\" &&\r\n                        <div className=\"DashboardContentFilesRoot\">\r\n                            <FileManager\r\n                                menuOptions={menuOptions}\r\n                                options={{\r\n                                    noHeader: true\r\n                                }}\r\n                                rootStyle={{\r\n                                    width:\"100%\",\r\n                                    height:\"100%\"\r\n                                }}\r\n                            />\r\n                        </div>\r\n                    }\r\n                    {\r\n                        selectedMenu === \"Settings\" &&\r\n                        <SiteSetting\r\n                            menuOptions={menuOptions}\r\n                        />\r\n                    }\r\n                    {\r\n                        selectedMenu === \"Plans\" &&\r\n                        <SitePlans\r\n                            menuOptions={menuOptions}\r\n                        />\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React from \"react\";\r\nimport {EditorContext} from \"./EditorContext\";\r\nimport BreakPointManager from \"../BreakPointManager\";\r\nimport DragDropManager from \"../DragDropManager\";\r\nimport InputManager from \"../InputManager\";\r\nimport SelectManager from \"../SelectManager\";\r\nimport SnapManager from \"../SnapManager\";\r\nimport CopyManager from \"../CopyManager\";\r\nimport IdManager from \"../IdManager\";\r\nimport UndoRedo from \"../UndoRedo\";\r\nimport GridLineManager from \"../GridLineManager\";\r\nimport AnchorManager from \"../AnchorManager\";\r\nimport {initDynamicAnimations, initDynamicComponents} from \"../Dynamic/DynamicComponents\";\r\nimport AdjustmentGrid from \"../Adjustment/AdjustmentGrid\";\r\nimport AdjustmentSnap from \"../Adjustment/AdjustmentSnap\";\r\nimport AdjustmentGridLines from \"../Adjustment/AdjustmentGridLines\";\r\nimport AdjustmentGroupRect from \"../Adjustment/AdjustmentGroupRect\";\r\nimport MenuHolder from \"../Menus/MenuHolder\";\r\nimport PageBase from \"../Components/Pages/PageBase\";\r\nimport './EditorBoundary.css';\r\nimport IFrameCommunicator from \"../Test/IFrameCommunicator\";\r\nimport EditorController from \"../Test/EditorController\";\r\nimport Inspector from \"../Test/Inspector/Inspector\";\r\nimport AdjustmentResizeWrapper from \"../Adjustment/AdjustmentResizeWrapper\";\r\nimport AdjustmentHelpLinesWrapper from \"../Adjustment/AdjustmentHelpLinesWrapper\";\r\nimport AdjustmentHover from \"../Adjustment/AdjustmentHover\";\r\nimport {cloneObject} from \"../AwesomeGridLayoutUtils\";\r\nimport debounce from 'lodash.debounce';\r\nimport throttle from \"lodash.throttle\";\r\nimport Layout from \"../Test/Layout/Layout\";\r\nimport AddComponent from \"../Test/AddComponent/AddComponent\";\r\nimport PageManager from \"../Test/PageManager/PageManager\";\r\nimport {v4 as uuidv4} from \"uuid\";\r\nimport ThemeManager from \"../Test/Theme/ThemeManager\";\r\nimport defaultSiteData from \"../../data/defaultSiteData.json\";\r\nimport defaultAllComponentData from \"../../data/allComponentData.json\";\r\nimport EditorHeader from \"./EditorHeader\";\r\nimport PreviewHeader from \"./PreviewHeader\";\r\nimport PageView from \"./PageView\";\r\nimport classNames from \"classnames\";\r\nimport LinkGenerator from \"../Components/Text/Menus/components/LinkGenerator\";\r\nimport MenuManagerUI from \"../MenuManager/MenuManagerUI\";\r\nimport {getHomePage} from \"../MenuManager/MenuManager\";\r\nimport Dashboard from \"./Dashboard/Dashboard\";\r\nimport FileManagerModal from \"../Components/FileManager/FileManagerModal\";\r\nimport qs from 'qs';\r\n\r\nexport default class EditorBoundary extends React.Component{\r\n    static contextType = EditorContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        let querryString = qs.parse(window.location.search, { ignoreQueryPrefix: true });\r\n\r\n        this.state = {\r\n            preview: true,\r\n            noScroll: querryString.noScroll\r\n        };\r\n\r\n        this.init(props);\r\n    }\r\n\r\n    // Declare all managers & refs\r\n    init = (props) => {\r\n        this.rootLayoutRef = React.createRef();\r\n        this.routerRef = React.createRef();\r\n        this.snapSvgRef = React.createRef();\r\n        this.gridContainerRef = React.createRef();\r\n        this.gridEditorRef = React.createRef();\r\n        this.groupSelectRef = React.createRef();\r\n        this.miniMenuHolderRef = React.createRef();\r\n        this.resizeRef = React.createRef();\r\n        this.helpLinesRef = React.createRef();\r\n        this.inspectorRef = React.createRef();\r\n        this.hoverRef = React.createRef();\r\n        this.layoutRef = React.createRef();\r\n        this.addComponentRef = React.createRef();\r\n        this.pageManagerRef = React.createRef();\r\n        this.themeManagerRef = React.createRef();\r\n        this.dragdrop = new DragDropManager();\r\n        this.inputManager = new InputManager();\r\n        this.select = new SelectManager(this.inputManager, this.groupSelectRef,\r\n            this.rootLayoutRef, this.miniMenuHolderRef, this.inspectorRef, this.resizeRef,\r\n            this.helpLinesRef, this.hoverRef);\r\n        this.snap = new SnapManager(5, this.snapSvgRef);\r\n        this.copyMan = new CopyManager(this.select, this.rootLayoutRef, undefined, this.getContext);\r\n        this.idMan = new IdManager('comp');\r\n        this.undoredo = new UndoRedo(100, document, this.idMan);\r\n        this.gridLine = new GridLineManager(this.gridContainerRef);\r\n        this.anchorMan = new AnchorManager();\r\n\r\n        initDynamicComponents();\r\n        initDynamicAnimations();\r\n\r\n        this.iFrameCommunicator = new IFrameCommunicator(undefined, \"WeblancerIFrameCommunicator\",\r\n            window.parent, this.onMessage);\r\n\r\n        // TODO test, clean them after test finished\r\n        window.addEventListener(\"keydown\",(e) =>{\r\n            e = e || window.event;\r\n            let key = e.which || e.keyCode; // keyCode detection\r\n            let ctrl = e.ctrlKey ? e.ctrlKey : (key === 17); // ctrl detection\r\n\r\n            if ( key === 80 && ctrl ) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + P\");\r\n                this.pinInspector();\r\n            }\r\n            if ( key === 76 && ctrl ) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + L\");\r\n                this.toggleThemeManager(true);\r\n            }\r\n            if ( key === 79 && ctrl ) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + O\");\r\n                this.toggleThemeManager(false);\r\n            }\r\n            if ( key === 69 && ctrl ) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + E\");\r\n                this.exportSiteData();\r\n            }\r\n            if ( key === 66 && ctrl ) {\r\n                e.preventDefault();\r\n                console.log(\"ctrl + B\");\r\n            }\r\n        });\r\n\r\n\r\n    };\r\n\r\n    getContext = () => {\r\n        return this.context;\r\n    }\r\n\r\n    initContext = () => {\r\n        this.context.initContext({\r\n            editor: this,\r\n            menuHolderRef: this.miniMenuHolderRef,\r\n            rightMenus: {\r\n                addComponent: {\r\n                    state: false,\r\n                    toggle: this.toggleAddComponent\r\n                },\r\n                pageManager: {\r\n                    state: false,\r\n                    toggle: this.togglePageManager\r\n                },\r\n                themeManager: {\r\n                    state: false,\r\n                    toggle: this.toggleThemeManager\r\n                },\r\n                menuManager: {\r\n                    state: false,\r\n                    toggle: (force, open) => {\r\n                        if (open){\r\n                            this.context.showModal(\r\n                                <MenuManagerUI\r\n                                    open={true}\r\n                                    onClose={() => {\r\n                                        this.context.toggleRightMenu(\"menuManager\", false);\r\n                                    }}\r\n                                />\r\n                            );\r\n                            return true;\r\n                        }\r\n\r\n                        this.hideModal();\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n        this.select.setContext(this.context);\r\n    };\r\n\r\n    componentDidMount(){\r\n        this.initContext();\r\n        this.loadSiteData();\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        this.breakpointmanager.dispose();\r\n    }\r\n\r\n    loadSiteData = () => {\r\n        fetch(process.env.PUBLIC_URL + '/static/json/env.json').then((res) => res.json())\r\n        .then((data) => {\r\n            if (data.value === 'editor') {\r\n                this.postMessage({\r\n                    type: \"Holder\",\r\n                    func: \"onEditorMounted\",\r\n                    inputs: []\r\n                }, (data) => {\r\n                    this.initFromHolder(data.result);\r\n                });\r\n            } else {\r\n                fetch(process.env.PUBLIC_URL + '/static/json/siteData.json').then((res) => res.json())\r\n                    .then((siteData) => {\r\n                        this.context.setProduction(() => {\r\n                            this.onSiteDataUpdated(siteData);\r\n                        });\r\n                    }).catch(err => {\r\n                    console.log(\"loadSiteData error\", err);\r\n                })\r\n            }\r\n        }).catch(err => {\r\n            console.log(\"loadSiteData error\", err);\r\n        })\r\n    };\r\n\r\n    initFromHolder = (data) => {\r\n        this.onSetZoomScale(data.zoomScale);\r\n    };\r\n\r\n    onMessage = (data, res) => {\r\n        EditorController.onMessage(data, res, this);\r\n    };\r\n\r\n    postMessage = (data, callback) => {\r\n        this.iFrameCommunicator.post(data, callback);\r\n    };\r\n\r\n    setPreview = (preview, callback) => {\r\n        callback && callback();\r\n        this.context.setPreview(preview);\r\n    }\r\n\r\n    testWebsite = () => {\r\n        let siteData = cloneObject(defaultSiteData);\r\n        let allComponentData = cloneObject(defaultAllComponentData);\r\n\r\n        this.onComponentDataUpdated(allComponentData);\r\n        this.onSiteDataUpdated(siteData);\r\n    };\r\n\r\n    doStaticChanges = (siteData, website, user) => {\r\n        if (siteData.setting.favIconLink) {\r\n            let favIconLink = document.getElementById(\"favIconLink\");\r\n            if (favIconLink) favIconLink.href = siteData.setting.favIconLink;\r\n        }\r\n    }\r\n\r\n    onSiteDataUpdated = (siteData, website, user, isDashboard) => {\r\n        if (!siteData) {\r\n            siteData = cloneObject(defaultSiteData);\r\n        }\r\n\r\n        if (website)\r\n            this.context.setWebsite(website);\r\n\r\n        user && this.context.setUser(user);\r\n\r\n        this.doStaticChanges(siteData, website, user);\r\n\r\n        this.context.setSiteData(siteData, () => {\r\n            if (isDashboard) {\r\n                this.setState({isDashboard});\r\n            } else {\r\n                this.redirect(undefined, undefined, this.onHeightChange);\r\n                // let pageData = getHomePage(siteData);\r\n                // this.context.setPageData(pageData.props.pageId, false, this.onHeightChange);\r\n            }\r\n        });\r\n\r\n        // TODO Test\r\n        let allComponentData = cloneObject(defaultAllComponentData);\r\n        this.onComponentDataUpdated(allComponentData);\r\n    };\r\n\r\n    setBreakpoints = (breakpoints) => {\r\n        if (this.breakpointmanager)\r\n            this.breakpointmanager.dispose();\r\n\r\n        this.breakpointmanager = new BreakPointManager(breakpoints, this,\r\n            undefined, this.onZoomLevelChange,\r\n            this.onHeightChange, this.onResize);\r\n    }\r\n\r\n    onComponentDataUpdated = (allComponentData) => {\r\n        this.setState({allComponentData});\r\n    };\r\n\r\n    onPageChange = (pageId, force, callback) => {\r\n        if (!force && this.context.pageData.props.pageId === pageId) {\r\n            return;\r\n        }\r\n\r\n        let todo = () => {\r\n            this.idMan.clear();\r\n            this.snap.clearSnaps();\r\n\r\n            if (!this.context.production) {\r\n                this.context.setPageData(undefined ,force, () => {\r\n                    this.context.setPageData(pageId, false, () => {\r\n                        if (this.rootLayoutRef.current) {\r\n                            this.rootLayoutRef.current.onSelect(true, callback);\r\n                        }\r\n                        else\r\n                        {\r\n                            callback && callback();\r\n                        }\r\n                    });\r\n                });\r\n            } else {\r\n                let page = Object.values(this.context.siteData.allPages).find(pageData => {\r\n                    return pageData.props.pageId === pageId;\r\n                });\r\n                if (!page)\r\n                    page = getHomePage(this.context.siteData);\r\n\r\n                this.redirect(`/${page.props.pageName.toLowerCase()}`);\r\n            }\r\n        };\r\n\r\n        if (this.rootLayoutRef.current) {\r\n            this.rootLayoutRef.current.onSelect(true, todo);\r\n        }\r\n        else\r\n        {\r\n            todo();\r\n        }\r\n    };\r\n\r\n    togglePreview = (preview) => {\r\n        this.setState({preview});\r\n    };\r\n\r\n    setZoomLevel = (zoomLevel) => {\r\n        this.setState({zoomLevel: zoomLevel || 100});\r\n    };\r\n\r\n    onPageZoomChange = (zoomScale) => {\r\n        this.postMessage({\r\n            type: \"Holder\",\r\n            func: \"changePageZoom\",\r\n            inputs: [zoomScale]\r\n        }, (data) => {\r\n            this.onSetZoomScale(data.result)\r\n        });\r\n    };\r\n\r\n    onSetZoomScale = (zoomScale) => {\r\n        document.documentElement.style.setProperty('--zoom-scale', zoomScale);\r\n\r\n        this.context.setZoomScale(zoomScale, this.onZoomLevelChange);\r\n    };\r\n\r\n    // Just in editor\r\n    onBreakpointChange = (width, newBreakpointName, devicePixelRatio) => {\r\n        if (this.rootLayoutRef.current)\r\n            width = this.rootLayoutRef.current.getSize(false).width;\r\n\r\n        console.log(\"EditorBoundary onBreakpointChange\");\r\n        this.onPageResize(width, this.rootLayoutRef.current);\r\n    };\r\n\r\n    notifyBreakpointChange = (width, newBreakpointName, devicePixelRatio) => {\r\n        console.log(\"notifyBreakpointChange\")\r\n        this.rootLayoutRef.current.props.aglComponent.updateTemplates();\r\n        this.rootLayoutRef.current.onBreakpointChange(width, newBreakpointName, devicePixelRatio);\r\n        this.select.onScrollItem();\r\n    };\r\n\r\n    onZoomLevelChange = (newDevicePixelRatio) => {\r\n        if (!this.rootLayoutRef.current)\r\n            return;\r\n        !this.isPreview() && this.rootLayoutRef.current.invalidateSize(true, true, true);\r\n        !this.isPreview() && this.select.onScrollItem();\r\n        this.rootLayoutRef.current.onWindowSizeChange();\r\n    };\r\n\r\n    isPreview = () => {\r\n        return this.context.preview;\r\n    }\r\n\r\n    onHeightChange = (e) => {\r\n        if (!this.rootLayoutRef.current)\r\n            return;\r\n        this.rootLayoutRef.current.invalidateSize(true, true, true);\r\n        !this.isPreview() && this.select.onScrollItem();\r\n        this.rootLayoutRef.current.onWindowSizeChange();\r\n        this.rootLayoutRef.current.updateLayout();\r\n\r\n        this.onResize(e);\r\n    };\r\n\r\n    toggleInspector = () => {\r\n        return this.inspectorRef.current.toggle();\r\n    };\r\n\r\n    pinInspector = () => {\r\n        this.context.setInspectorPinned(!this.context.inspectorPinned, () => {\r\n            this.select.onScrollItem();\r\n            this.rootLayoutRef.current.invalidateSize();\r\n        });\r\n\r\n        // this.editorData.innerWidth = window.innerWidth -\r\n        // this.context.inspectorPinned ? this.context.inspectorWidth : 0;\r\n\r\n        this.onScrollBoundary();\r\n        this.rootLayoutRef.current.updateLayout();\r\n    };\r\n\r\n    onPageResize = (width, pageAgl, force) => {\r\n        console.log(\"EditorBoundary onPageResize\");\r\n        let result = this.breakpointmanager.checkBreakPointChange(width);\r\n\r\n        this.onResize(undefined, width);\r\n\r\n        this.context.setPageSizeWidth(width);\r\n\r\n        if (result.changed || force) {\r\n            this.notifyBreakpointChange(width, result.currentBreakpointName,\r\n                this.breakpointmanager.getDevicePixelRatio());\r\n        }\r\n    };\r\n\r\n    onResize = (e, width) => {\r\n        if (!this.rootLayoutRef.current)\r\n            return;\r\n\r\n        this.onResizeD(e, width);\r\n        this.onResizeT(e, width);\r\n    };\r\n\r\n    handleResize = (e, width) => {\r\n        if (!this.rootLayoutRef.current)\r\n            return;\r\n\r\n        let fromOnPageResize = !!width;\r\n\r\n        if (!width)\r\n            width = this.rootLayoutRef.current.getSize(false, true).width;\r\n\r\n        document.documentElement.style.setProperty('--vw-ratio', width / window.innerWidth);\r\n\r\n        if (this.context.production && !fromOnPageResize) {\r\n            console.log(\"EditorBoundary handleResize\");\r\n            this.onPageResize(width);\r\n        }\r\n    }\r\n\r\n    onResizeD = debounce((e, width) => {\r\n        this.handleResize(e, width);\r\n    }, 100);\r\n\r\n    onResizeT = throttle((e, width) => {\r\n        this.handleResize(e, width);\r\n    }, 100);\r\n\r\n    onPageResizeStart = () => {\r\n        if (this.isPreview()) return;\r\n        this.resizeRef.current.activate(false);\r\n        this.helpLinesRef.current.activate(false);\r\n        this.miniMenuHolderRef.current.activate(false);\r\n    };\r\n\r\n    onPageResizeStop = () => {\r\n        if (this.isPreview()) return;\r\n        this.resizeRef.current.activate(true);\r\n        this.helpLinesRef.current.activate(true);\r\n        this.miniMenuHolderRef.current.activate(true);\r\n    };\r\n\r\n    onScrollBoundary = (e) => {\r\n        !this.isPreview() && this.rootLayoutRef.current.invalidateSize(true, true, true);\r\n        !this.isPreview() &&this.select.onScrollItem();\r\n\r\n        this.rootLayoutRef.current.onWindowSizeChange();\r\n    };\r\n\r\n    updateLayout = () => {\r\n        if (!this.rootLayoutRef.current)\r\n            return;\r\n\r\n        let layout = [];\r\n\r\n        let getLayoutItem = (item, childData) => {\r\n            if (!item || !item.mounted)\r\n                return;\r\n\r\n            return {\r\n                id: childData.props.id,\r\n                childData: childData,\r\n                childrenData: Object.keys(item.getFromTempData(\"savedChildren\")).map(childId => {\r\n                    let childData = item.getFromTempData(\"savedChildren\")[childId];\r\n                    return getLayoutItem(\r\n                        item.allChildRefs[childId].current,\r\n                        childData\r\n                    );\r\n                }).filter(il => {\r\n                    return il;\r\n                })\r\n            };\r\n        };\r\n\r\n        let pageChildData = {\r\n            tagName: this.rootLayoutRef.current.props.tagName,\r\n            props: this.rootLayoutRef.current.getClearProps({...this.rootLayoutRef.current.props}),\r\n            zIndex: 0\r\n        };\r\n\r\n        layout.push(getLayoutItem(this.rootLayoutRef.current, pageChildData));\r\n\r\n        this.layoutRef.current.setLayout(layout);\r\n    };\r\n\r\n    openLayout = () => {\r\n        this.layoutRef.current.open();\r\n    };\r\n\r\n    closeLayout = () => {\r\n        this.layoutRef.current.close();\r\n    };\r\n\r\n    toggleAddComponent = (force, state) => {\r\n        if (state === true) {\r\n            this.addComponentRef.current.open();\r\n            return true;\r\n        }\r\n        return this.addComponentRef.current.toggle(force);\r\n    };\r\n\r\n    togglePageManager = (force, state) => {\r\n        if (state === true) {\r\n            this.pageManagerRef.current.open();\r\n            return true;\r\n        }\r\n        return this.pageManagerRef.current.toggle(force);\r\n    };\r\n\r\n    toggleThemeManager = (force, state) => {\r\n        if (state === true) {\r\n            this.themeManagerRef.current.open();\r\n            return true;\r\n        }\r\n        return this.themeManagerRef.current.toggle(force);\r\n    };\r\n\r\n    // pageData is a childData that is for PageBase component\r\n    getLivePageData = () => {\r\n        return {\r\n            tagName: \"PageBase\",\r\n            props: this.rootLayoutRef.current.getClearProps({...this.rootLayoutRef.current.props})\r\n        };\r\n    };\r\n\r\n    getLiveSiteData = () => {\r\n        let siteData = this.context.siteData || {allPages: {}};\r\n\r\n        siteData.allPages[uuidv4()] = this.getLivePageData();\r\n\r\n        return siteData;\r\n    };\r\n\r\n    exportSiteData = () => {\r\n        let siteData = this.getLiveSiteData();\r\n\r\n        const fileName = \"siteData\";\r\n        const json = JSON.stringify(siteData);\r\n        const blob = new Blob([json],{type:'application/json'});\r\n        const href = URL.createObjectURL(blob);\r\n        const link = document.createElement('a');\r\n        link.href = href;\r\n        link.download = fileName + \".json\";\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        document.body.removeChild(link);\r\n    };\r\n\r\n    getSiteData = (callback) => {\r\n        callback && callback(this.context.siteData);\r\n        return this.context.siteData;\r\n    }\r\n\r\n    isProduction = () => {\r\n        return this.context.production;\r\n    }\r\n\r\n    showLinkGenerator = (linkData, onDone) => {\r\n        this.setState({linkGenerator: {linkData, onDone}});\r\n    }\r\n\r\n    showFileManager = (options, onDone) => {\r\n        this.setState({fileManager: {options, onDone}});\r\n    }\r\n\r\n    showModal = (modal, callback) => {\r\n        this.setState({modal}, callback);\r\n    }\r\n\r\n    hideModal = (callback) => {\r\n        this.setState({modal: undefined}, callback);\r\n    }\r\n\r\n    redirect = (redirectPath, redirectProps, callback) => {\r\n        console.log(\"redirect0222 \" , this.routerRef.current);\r\n        if (!this.routerRef.current)\r\n            return;\r\n\r\n        this.routerRef.current.redirect(redirectPath, redirectProps, callback);\r\n    };\r\n\r\n    render() {\r\n        console.log(\"EditorBoundry Render\");\r\n\r\n        let borderClassess = classNames(\r\n            \"PageBaseWhiteBackground\",\r\n            this.context.production ? \"PageBaseWhiteBackgroundHeightProduction\" : \"PageBaseWhiteBackgroundHeightEditor\",\r\n        );\r\n        if (!this.state.isDashboard) {\r\n            // if (this.context.pageData) {\r\n                return (\r\n                    <div className=\"EditorBoundaryRoot\" onContextMenu={(e) => {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                    }}>\r\n                        {\r\n                            this.context.pageData && !this.isPreview() && !this.isProduction() &&\r\n                            <div className=\"EditorBoundaryHeader\">\r\n                                <EditorHeader\r\n                                    onAddComponentClick={this.toggleAddComponent}\r\n                                    onInspectorClick={this.toggleInspector}\r\n                                    onThemeManagerClick={this.toggleThemeManager}\r\n                                    onPageManagerClick={this.togglePageManager}\r\n                                    onPageZoomChange={this.onPageZoomChange}\r\n                                />\r\n                            </div>\r\n                        }\r\n                        {\r\n                            this.context.pageData && this.isPreview() && !this.isProduction() &&\r\n                            <div className=\"EditorBoundaryHeader\">\r\n                                <PreviewHeader\r\n                                    onAddComponentClick={this.toggleAddComponent}\r\n                                    onInspectorClick={this.toggleInspector}\r\n                                    onThemeManagerClick={this.toggleThemeManager}\r\n                                    onPageManagerClick={this.togglePageManager}\r\n                                    onPageZoomChange={this.onPageZoomChange}\r\n                                />\r\n                            </div>\r\n                        }\r\n                        <div className=\"EditorBoundaryContent\">\r\n                            {\r\n                                this.context.pageData && !this.isPreview() && !this.isProduction() &&\r\n                                <>\r\n                                    <AdjustmentGrid\r\n                                        ref={this.gridEditorRef}\r\n                                    />\r\n                                    <AdjustmentSnap\r\n                                        ref={this.snapSvgRef}\r\n                                    />\r\n                                    <AdjustmentGridLines\r\n                                        ref={this.gridContainerRef}\r\n                                    />\r\n                                    <AdjustmentGroupRect\r\n                                        ref={this.groupSelectRef}\r\n                                    />\r\n\r\n                                    <PageManager\r\n                                        ref={this.pageManagerRef}\r\n                                        editor={this}\r\n                                        onPageChange={this.onPageChange}\r\n                                    />\r\n                                </>\r\n                            }\r\n\r\n                            {\r\n                                <PageView\r\n                                    onScrollBoundary={this.onScrollBoundary}\r\n                                    rootLayoutRef={this.rootLayoutRef}\r\n                                    routerRef={this.routerRef}\r\n                                >\r\n                                    {\r\n                                        this.context.pageData &&\r\n                                        <div className={borderClassess} style={{\r\n                                            marginTop: this.context.production? 0 : `${8*this.context.zoomScale}vh`\r\n                                        }}\r\n                                        >\r\n                                            <PageBase\r\n                                                key={this.context.pageData.props.pageId}\r\n                                                id=\"page\"\r\n                                                aglRef={this.rootLayoutRef}\r\n                                                viewRef={this.rootLayoutRef}\r\n                                                breakpointmanager={this.breakpointmanager}\r\n                                                undoredo={this.undoredo}\r\n                                                dragdrop={this.dragdrop}\r\n                                                select={this.select}\r\n                                                snap={this.snap}\r\n                                                input={this.inputManager}\r\n                                                idMan={this.idMan}\r\n                                                gridLine={this.gridLine}\r\n                                                gridEditorRef={this.gridEditorRef}\r\n                                                anchorMan={this.anchorMan}\r\n                                                copyMan={this.copyMan}\r\n                                                editorData={this.editorData}\r\n                                                onPageResize={this.onPageResize}\r\n                                                onPageResizeStart={this.onPageResizeStart}\r\n                                                onPageResizeStop={this.onPageResizeStop}\r\n                                                editor={!this.isPreview() && this}\r\n                                                devicePixelRatio={this.state.devicePixelRatio}\r\n                                                {...this.context.pageData.props}\r\n                                                pageSize={this.context.pageSize}\r\n                                                noScroll={this.state.noScroll}\r\n                                            />\r\n                                        </div>\r\n                                    }\r\n                                </PageView>\r\n                            }\r\n\r\n                            {\r\n                                this.context.pageData && !this.isPreview() && !this.isProduction() &&\r\n                                <>\r\n                                    {\r\n                                        !this.context.pageData &&\r\n                                        <div>\r\n                                            {/*Loading...*/}\r\n                                        </div>\r\n                                    }\r\n\r\n                                    <AdjustmentHover\r\n                                        ref={this.hoverRef}\r\n                                    />\r\n\r\n                                    <AdjustmentHelpLinesWrapper\r\n                                        ref={this.helpLinesRef}\r\n                                    />\r\n\r\n                                    <AdjustmentResizeWrapper\r\n                                        ref={this.resizeRef}\r\n                                    />\r\n\r\n                                    {\r\n                                        this.context.pageData &&\r\n                                        <Layout\r\n                                            ref={this.layoutRef}\r\n                                            idMan={this.idMan}\r\n                                        />\r\n                                    }\r\n\r\n                                    {\r\n                                        this.context.siteData &&\r\n                                        this.context.pageData &&\r\n                                        <ThemeManager\r\n                                            ref={this.themeManagerRef}\r\n                                            editor={this}\r\n                                        />\r\n                                    }\r\n\r\n                                    {\r\n                                        this.state.linkGenerator &&\r\n                                        <LinkGenerator\r\n                                            open={true}\r\n                                            linkData={this.state.linkGenerator.linkData}\r\n                                            onClose={() => {this.setState({linkGenerator: undefined})}}\r\n                                            onDone={this.state.linkGenerator.onDone}\r\n                                        />\r\n                                    }\r\n\r\n                                    {\r\n                                        this.state.fileManager &&\r\n                                        <FileManagerModal\r\n                                            open={true}\r\n                                            options={this.state.fileManager.options}\r\n                                            onClose={() => {this.setState({fileManager: undefined})}}\r\n                                            onDone={this.state.fileManager.onDone}\r\n                                        />\r\n                                    }\r\n\r\n                                    {\r\n                                        this.state.modal\r\n                                    }\r\n\r\n                                    <AddComponent\r\n                                        ref={this.addComponentRef}\r\n                                        allComponentData={this.state.allComponentData}\r\n                                        pageRef={this.rootLayoutRef}\r\n                                        editor={this}\r\n                                    />\r\n\r\n                                    <Inspector\r\n                                        ref={this.inspectorRef}\r\n                                        pinInspector={this.pinInspector}\r\n                                    />\r\n                                    <MenuHolder\r\n                                        ref={this.miniMenuHolderRef}\r\n                                    />\r\n                                </>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                )\r\n            // }\r\n        }\r\n        else\r\n        {\r\n            return <Dashboard/>;\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport EditorBoundary from \"./AwesomeGridLayout/Editor/EditorBoundary\";\r\nimport EditorContextProvider from \"./AwesomeGridLayout/Editor/EditorContext\";\r\n\r\nReactDOM.render(\r\n    <EditorContextProvider>\r\n        <EditorBoundary />\r\n    </EditorContextProvider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/paint.b4611be4.svg\";"],"sourceRoot":""}